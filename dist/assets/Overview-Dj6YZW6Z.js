import{F as f,j as e,C as x,b as h,c as p,a0 as N,d as w,e as u,L as g,a1 as v,D as k,t as C,E as L,M as P,a2 as S}from"./index-CH8a_jH7.js";import{u as A}from"./useAnalytics-PiqPvF1X.js";import{u as y}from"./useLinks-D1DPB0-9.js";import{P as M}from"./progress-DgRiG04T.js";import{u as _}from"./useProfile-D1yjrkFD.js";import{u as T}from"./useListings-C4-OD926.js";import{u as z}from"./useTestimonials-BUoBglby.js";import"./useMutation-DQof0gk2.js";/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=f("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=f("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);function R(){const{data:t}=_(),{data:l}=T(),{data:r}=z(),{data:a}=y();if(!t)return null;const n=[{id:"avatar",label:"Add profile photo",description:"Upload a professional headshot",completed:!!t.avatar_url,link:"/dashboard/profile",priority:"high"},{id:"bio",label:"Write your bio",description:"Tell visitors about your experience",completed:!!t.bio&&t.bio.length>50,link:"/dashboard/profile",priority:"high"},{id:"contact",label:"Add contact info",description:"Phone and email for leads",completed:!!t.phone||!!t.email_display,link:"/dashboard/profile",priority:"high"},{id:"listings",label:"Add your first listing",description:"Showcase properties you're selling",completed:((l==null?void 0:l.length)||0)>0,link:"/dashboard/listings",priority:"medium"},{id:"testimonials",label:"Add testimonials",description:"Build trust with client reviews",completed:((r==null?void 0:r.length)||0)>0,link:"/dashboard/testimonials",priority:"medium"},{id:"links",label:"Add custom links",description:"Link to your website and social",completed:((a==null?void 0:a.length)||0)>0,link:"/dashboard/links",priority:"low"},{id:"theme",label:"Customize theme",description:"Match your brand colors",completed:!!t.theme,link:"/dashboard/theme",priority:"low"}],s=n.filter(i=>i.completed).length,c=n.length,o=Math.round(s/c*100);if(o===100)return null;const d=n.filter(i=>i.priority==="high"&&!i.completed)[0]||n.find(i=>!i.completed);return e.jsxs(x,{className:"border-blue-200 bg-blue-50/50",children:[e.jsxs(h,{children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs(p,{className:"text-lg flex items-center gap-2",children:[o<50?e.jsx(N,{className:"w-5 h-5 text-orange-500"}):e.jsx(b,{className:"w-5 h-5 text-blue-500"}),"Profile Completion"]}),e.jsxs(w,{children:[o,"% complete - ",s," of ",c," steps done"]})]})}),e.jsx(M,{value:o,className:"mt-4"})]}),e.jsxs(u,{className:"space-y-4",children:[d&&e.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:s+1})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Next: ",d.label]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.description}),e.jsx(g,{to:d.link,className:"inline-block mt-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:"Complete this step →"})]})]})}),e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-gray-900 list-none flex items-center gap-2",children:[e.jsx("span",{children:"View all steps"}),e.jsx("span",{className:"group-open:rotate-180 transition-transform",children:"▼"})]}),e.jsx("div",{className:"mt-3 space-y-2",children:n.map(i=>e.jsxs(g,{to:i.link,className:"flex items-start gap-3 p-2 rounded-lg hover:bg-white transition-colors group/item",children:[i.completed?e.jsx(v,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):e.jsx(b,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`text-sm font-medium ${i.completed?"text-gray-500 line-through":"text-gray-900"}`,children:i.label}),e.jsx("div",{className:"text-xs text-gray-500",children:i.description})]})]},i.id))})]})]})]})}const B={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"};function E({size:t="md",className:l,fullScreen:r=!1}){const a=e.jsx(k,{className:C("animate-spin text-blue-600",B[t],l)});return r?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white/80 backdrop-blur-sm z-50",children:e.jsxs("div",{className:"text-center",children:[a,e.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading..."})]})}):a}function Z(){const{stats:t,recentLeads:l,isLoading:r}=A(),{links:a}=y(),n=a.reduce((s,c)=>s+(c.click_count||0),0);return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(E,{size:"lg"})}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Welcome Back!"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Here's what's happening with your profile"})]}),e.jsx(R,{}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:[e.jsx(m,{icon:e.jsx(L,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"}),label:"Profile Views",value:t.totalViews.toLocaleString()}),e.jsx(m,{icon:e.jsx(P,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"}),label:"New Leads",value:t.totalLeads.toString()}),e.jsx(m,{icon:e.jsx(j,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"}),label:"Link Clicks",value:n.toLocaleString()}),e.jsx(m,{icon:e.jsx(S,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600"}),label:"Conversion Rate",value:`${t.conversionRate}%`})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs(x,{children:[e.jsx(h,{className:"pb-3 sm:pb-4",children:e.jsx(p,{className:"text-base sm:text-lg",children:"Recent Leads"})}),e.jsx(u,{children:l.length>0?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:l.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between py-2 sm:py-2.5 border-b border-border last:border-0 gap-2 min-h-[44px]",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:s.name}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:s.email})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full flex-shrink-0 font-medium ${s.status==="new"?"bg-blue-100 text-blue-700":s.status==="contacted"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:s.status})]},s.id))}):e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground text-center py-6 sm:py-8",children:"No leads yet"})})]}),e.jsxs(x,{children:[e.jsx(h,{className:"pb-3 sm:pb-4",children:e.jsx(p,{className:"text-base sm:text-lg",children:"Top Links"})}),e.jsx(u,{children:a.length>0?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:a.sort((s,c)=>(c.click_count||0)-(s.click_count||0)).slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between py-2 sm:py-2.5 border-b border-border last:border-0 gap-2 min-h-[44px]",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:s.title}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:s.url})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm sm:text-base text-muted-foreground flex-shrink-0",children:[e.jsx(j,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"font-medium",children:s.click_count||0})]})]},s.id))}):e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground text-center py-6 sm:py-8",children:"No links added yet"})})]})]})]})}function m({icon:t,label:l,value:r}){return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4 md:p-6 hover:shadow-md transition-shadow active:scale-[0.98] cursor-pointer",children:[e.jsx("div",{className:"flex items-center mb-2 sm:mb-3 md:mb-4",children:e.jsx("div",{className:"p-1.5 sm:p-2 bg-gray-50 rounded-lg",children:t})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:l}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 break-all",children:r})]})]})}export{Z as default};
