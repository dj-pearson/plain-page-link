{"version":3,"file":"LeadManagementDashboard-B4p0PYkK.js","sources":["../../node_modules/lucide-react/dist/esm/icons/flame.js","../../node_modules/lucide-react/dist/esm/icons/pen.js","../../src/components/leads/LeadInbox.tsx","../../src/components/leads/ResponseTemplates.tsx","../../src/components/leads/HotLeadAlert.tsx","../../src/components/leads/LeadDetailView.tsx","../../src/pages/LeadManagementDashboard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.354.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Flame = createLucideIcon(\"Flame\", [\n  [\n    \"path\",\n    {\n      d: \"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z\",\n      key: \"96xj49\"\n    }\n  ]\n]);\n\nexport { Flame as default };\n//# sourceMappingURL=flame.js.map\n","/**\n * @license lucide-react v0.354.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pen = createLucideIcon(\"Pen\", [\n  [\"path\", { d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z\", key: \"5qss01\" }]\n]);\n\nexport { Pen as default };\n//# sourceMappingURL=pen.js.map\n","/**\n * Advanced Lead Inbox Component\n * Displays leads with filtering, search, and quick actions\n */\n\nimport { useState, useMemo } from \"react\";\nimport {\n    Search,\n    Filter,\n    Star,\n    Mail,\n    Phone,\n    Clock,\n    ChevronDown,\n    MessageSquare,\n    TrendingUp,\n    MapPin,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n} from \"@/components/ui/select\";\nimport { cn } from \"@/lib/utils\";\nimport { formatDistanceToNow } from \"date-fns\";\n\ninterface Lead {\n    id: string;\n    name: string;\n    email: string;\n    phone?: string;\n    message: string;\n    listingTitle?: string;\n    listingId?: string;\n    source: string;\n    score: number; // 0-100\n    status: \"new\" | \"contacted\" | \"qualified\" | \"unqualified\" | \"converted\";\n    priority: \"hot\" | \"warm\" | \"cold\";\n    createdAt: string;\n    lastContactedAt?: string;\n    tags?: string[];\n}\n\ninterface LeadInboxProps {\n    leads: Lead[];\n    onLeadClick: (lead: Lead) => void;\n    onQuickReply: (leadId: string) => void;\n    onMarkAsRead: (leadId: string) => void;\n    className?: string;\n}\n\nexport function LeadInbox({\n    leads,\n    onLeadClick,\n    onQuickReply,\n    onMarkAsRead,\n    className,\n}: LeadInboxProps) {\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n    const [priorityFilter, setPriorityFilter] = useState<string>(\"all\");\n    const [sourceFilter, setSourceFilter] = useState<string>(\"all\");\n    const [sortBy, setSortBy] = useState<\"date\" | \"score\" | \"priority\">(\"date\");\n\n    // Filter and sort leads\n    const filteredLeads = useMemo(() => {\n        let filtered = leads.filter((lead) => {\n            // Search filter\n            const matchesSearch =\n                searchQuery === \"\" ||\n                lead.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                lead.email.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                lead.message.toLowerCase().includes(searchQuery.toLowerCase());\n\n            // Status filter\n            const matchesStatus =\n                statusFilter === \"all\" || lead.status === statusFilter;\n\n            // Priority filter\n            const matchesPriority =\n                priorityFilter === \"all\" || lead.priority === priorityFilter;\n\n            // Source filter\n            const matchesSource =\n                sourceFilter === \"all\" || lead.source === sourceFilter;\n\n            return (\n                matchesSearch &&\n                matchesStatus &&\n                matchesPriority &&\n                matchesSource\n            );\n        });\n\n        // Sort\n        filtered.sort((a, b) => {\n            switch (sortBy) {\n                case \"score\":\n                    return b.score - a.score;\n                case \"priority\":\n                    const priorityOrder = { hot: 3, warm: 2, cold: 1 };\n                    return (\n                        priorityOrder[b.priority] - priorityOrder[a.priority]\n                    );\n                case \"date\":\n                default:\n                    return (\n                        new Date(b.createdAt).getTime() -\n                        new Date(a.createdAt).getTime()\n                    );\n            }\n        });\n\n        return filtered;\n    }, [\n        leads,\n        searchQuery,\n        statusFilter,\n        priorityFilter,\n        sourceFilter,\n        sortBy,\n    ]);\n\n    // Calculate stats\n    const stats = {\n        total: leads.length,\n        new: leads.filter((l) => l.status === \"new\").length,\n        hot: leads.filter((l) => l.priority === \"hot\").length,\n        avgScore: Math.round(\n            leads.reduce((sum, l) => sum + l.score, 0) / leads.length\n        ),\n    };\n\n    // Get unique sources for filter\n    const sources = Array.from(new Set(leads.map((l) => l.source)));\n\n    return (\n        <div className={cn(\"space-y-4\", className)}>\n            {/* Header with Stats */}\n            <div className=\"flex items-center justify-between\">\n                <div>\n                    <h2 className=\"text-2xl font-bold\">Lead Inbox</h2>\n                    <p className=\"text-sm text-gray-600 mt-1\">\n                        {stats.new} new leads â€¢ {stats.hot} hot â€¢ Avg score:{\" \"}\n                        {stats.avgScore}\n                    </p>\n                </div>\n                <div className=\"flex gap-2\">\n                    <Select\n                        value={sortBy}\n                        onValueChange={(v: any) => setSortBy(v)}\n                    >\n                        <SelectTrigger className=\"w-32\">\n                            <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                            <SelectItem value=\"date\">Latest</SelectItem>\n                            <SelectItem value=\"score\">Score</SelectItem>\n                            <SelectItem value=\"priority\">Priority</SelectItem>\n                        </SelectContent>\n                    </Select>\n                </div>\n            </div>\n\n            {/* Search and Filters */}\n            <div className=\"flex flex-col md:flex-row gap-3\">\n                {/* Search */}\n                <div className=\"relative flex-1\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                    <Input\n                        placeholder=\"Search leads...\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                        className=\"pl-10\"\n                    />\n                </div>\n\n                {/* Filters */}\n                <div className=\"flex gap-2\">\n                    <Select\n                        value={statusFilter}\n                        onValueChange={setStatusFilter}\n                    >\n                        <SelectTrigger className=\"w-32\">\n                            <SelectValue placeholder=\"Status\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                            <SelectItem value=\"all\">All Status</SelectItem>\n                            <SelectItem value=\"new\">New</SelectItem>\n                            <SelectItem value=\"contacted\">Contacted</SelectItem>\n                            <SelectItem value=\"qualified\">Qualified</SelectItem>\n                            <SelectItem value=\"converted\">Converted</SelectItem>\n                        </SelectContent>\n                    </Select>\n\n                    <Select\n                        value={priorityFilter}\n                        onValueChange={setPriorityFilter}\n                    >\n                        <SelectTrigger className=\"w-32\">\n                            <SelectValue placeholder=\"Priority\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                            <SelectItem value=\"all\">All Priority</SelectItem>\n                            <SelectItem value=\"hot\">Hot</SelectItem>\n                            <SelectItem value=\"warm\">Warm</SelectItem>\n                            <SelectItem value=\"cold\">Cold</SelectItem>\n                        </SelectContent>\n                    </Select>\n\n                    <Select\n                        value={sourceFilter}\n                        onValueChange={setSourceFilter}\n                    >\n                        <SelectTrigger className=\"w-32\">\n                            <SelectValue placeholder=\"Source\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                            <SelectItem value=\"all\">All Sources</SelectItem>\n                            {sources.map((source) => (\n                                <SelectItem key={source} value={source}>\n                                    {source}\n                                </SelectItem>\n                            ))}\n                        </SelectContent>\n                    </Select>\n                </div>\n            </div>\n\n            {/* Leads List */}\n            <div className=\"space-y-2\">\n                {filteredLeads.map((lead) => (\n                    <LeadCard\n                        key={lead.id}\n                        lead={lead}\n                        onClick={() => onLeadClick(lead)}\n                        onQuickReply={() => onQuickReply(lead.id)}\n                        onMarkAsRead={() => onMarkAsRead(lead.id)}\n                    />\n                ))}\n\n                {filteredLeads.length === 0 && (\n                    <div className=\"text-center py-12 text-gray-500\">\n                        <Mail className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                        <p className=\"text-lg font-medium\">No leads found</p>\n                        <p className=\"text-sm\">Try adjusting your filters</p>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\n// Lead Card Component\ninterface LeadCardProps {\n    lead: Lead;\n    onClick: () => void;\n    onQuickReply: () => void;\n    onMarkAsRead: () => void;\n}\n\nfunction LeadCard({\n    lead,\n    onClick,\n    onQuickReply,\n    onMarkAsRead,\n}: LeadCardProps) {\n    const priorityColors = {\n        hot: \"bg-red-100 text-red-800 border-red-300\",\n        warm: \"bg-yellow-100 text-yellow-800 border-yellow-300\",\n        cold: \"bg-blue-100 text-blue-800 border-blue-300\",\n    };\n\n    const statusColors = {\n        new: \"bg-green-100 text-green-800\",\n        contacted: \"bg-blue-100 text-blue-800\",\n        qualified: \"bg-purple-100 text-purple-800\",\n        unqualified: \"bg-gray-100 text-gray-800\",\n        converted: \"bg-emerald-100 text-emerald-800\",\n    };\n\n    const isUnread = lead.status === \"new\";\n    const isHot = lead.priority === \"hot\";\n\n    return (\n        <div\n            onClick={onClick}\n            className={cn(\n                \"relative p-4 rounded-lg border-2 transition-all cursor-pointer\",\n                \"hover:shadow-md hover:border-gray-300\",\n                isUnread && \"bg-blue-50 border-blue-200\",\n                !isUnread && \"bg-white border-gray-200\",\n                isHot && \"border-l-4 border-l-red-500\"\n            )}\n        >\n            <div className=\"flex items-start justify-between gap-4\">\n                {/* Lead Info */}\n                <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                        <h3\n                            className={cn(\n                                \"font-semibold truncate\",\n                                isUnread && \"text-primary\"\n                            )}\n                        >\n                            {lead.name}\n                        </h3>\n                        {isUnread && (\n                            <Badge variant=\"outline\" className=\"bg-blue-100\">\n                                NEW\n                            </Badge>\n                        )}\n                        <Badge\n                            variant=\"outline\"\n                            className={priorityColors[lead.priority]}\n                        >\n                            {lead.priority.toUpperCase()}\n                        </Badge>\n                        <Badge className={statusColors[lead.status]}>\n                            {lead.status}\n                        </Badge>\n                    </div>\n\n                    <div className=\"flex items-center gap-4 text-sm text-gray-600 mb-2\">\n                        <span className=\"flex items-center gap-1\">\n                            <Mail className=\"w-3 h-3\" />\n                            {lead.email}\n                        </span>\n                        {lead.phone && (\n                            <span className=\"flex items-center gap-1\">\n                                <Phone className=\"w-3 h-3\" />\n                                {lead.phone}\n                            </span>\n                        )}\n                        <span className=\"flex items-center gap-1\">\n                            <MapPin className=\"w-3 h-3\" />\n                            {lead.source}\n                        </span>\n                    </div>\n\n                    <p className=\"text-sm text-gray-700 line-clamp-2 mb-2\">\n                        {lead.message}\n                    </p>\n\n                    {lead.listingTitle && (\n                        <p className=\"text-xs text-gray-500\">\n                            Interested in:{\" \"}\n                            <span className=\"font-medium\">\n                                {lead.listingTitle}\n                            </span>\n                        </p>\n                    )}\n\n                    <div className=\"flex items-center gap-3 mt-2 text-xs text-gray-500\">\n                        <span className=\"flex items-center gap-1\">\n                            <Clock className=\"w-3 h-3\" />\n                            {formatDistanceToNow(new Date(lead.createdAt), {\n                                addSuffix: true,\n                            })}\n                        </span>\n                        {lead.lastContactedAt && (\n                            <span>\n                                Last contacted:{\" \"}\n                                {formatDistanceToNow(\n                                    new Date(lead.lastContactedAt),\n                                    {\n                                        addSuffix: true,\n                                    }\n                                )}\n                            </span>\n                        )}\n                    </div>\n                </div>\n\n                {/* Lead Score & Actions */}\n                <div className=\"flex flex-col items-end gap-2\">\n                    <div className=\"flex items-center gap-1\">\n                        <TrendingUp className=\"w-4 h-4 text-primary\" />\n                        <span className=\"text-lg font-bold text-primary\">\n                            {lead.score}\n                        </span>\n                    </div>\n\n                    <div className=\"flex gap-1\">\n                        <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                onQuickReply();\n                            }}\n                        >\n                            <MessageSquare className=\"w-4 h-4\" />\n                        </Button>\n                        <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                onMarkAsRead();\n                            }}\n                        >\n                            <Mail className=\"w-4 h-4\" />\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","/**\n * Quick Response Templates Component\n * Pre-built templates for fast lead responses\n */\n\nimport { useState } from \"react\";\nimport { MessageSquare, Copy, Edit2, Trash2, Plus, Check } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n    DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\nimport { toast } from \"sonner\";\n\ninterface Template {\n    id: string;\n    name: string;\n    subject: string;\n    body: string;\n    category: \"initial\" | \"followup\" | \"showing\" | \"offer\" | \"general\";\n    variables: string[]; // e.g., [\"leadName\", \"listingAddress\", \"price\"]\n}\n\ninterface ResponseTemplatesProps {\n    templates: Template[];\n    onSelectTemplate: (template: Template) => void;\n    onCreateTemplate?: (template: Omit<Template, \"id\">) => void;\n    onUpdateTemplate?: (id: string, template: Partial<Template>) => void;\n    onDeleteTemplate?: (id: string) => void;\n    className?: string;\n}\n\nexport function ResponseTemplates({\n    templates,\n    onSelectTemplate,\n    onCreateTemplate,\n    onUpdateTemplate,\n    onDeleteTemplate,\n    className,\n}: ResponseTemplatesProps) {\n    const [selectedCategory, setSelectedCategory] = useState<string>(\"all\");\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [isCreating, setIsCreating] = useState(false);\n\n    const filteredTemplates = templates.filter((template) => {\n        const matchesCategory =\n            selectedCategory === \"all\" ||\n            template.category === selectedCategory;\n        const matchesSearch =\n            searchQuery === \"\" ||\n            template.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            template.body.toLowerCase().includes(searchQuery.toLowerCase());\n        return matchesCategory && matchesSearch;\n    });\n\n    const categories = [\n        { value: \"all\", label: \"All Templates\" },\n        { value: \"initial\", label: \"Initial Response\" },\n        { value: \"followup\", label: \"Follow-up\" },\n        { value: \"showing\", label: \"Property Showing\" },\n        { value: \"offer\", label: \"Offer Discussion\" },\n        { value: \"general\", label: \"General\" },\n    ];\n\n    return (\n        <div className={cn(\"space-y-4\", className)}>\n            {/* Header */}\n            <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-lg font-semibold\">\n                    Quick Response Templates\n                </h3>\n                {onCreateTemplate && (\n                    <Dialog open={isCreating} onOpenChange={setIsCreating}>\n                        <DialogTrigger asChild>\n                            <Button size=\"sm\" className=\"gap-2\">\n                                <Plus className=\"w-4 h-4\" />\n                                New Template\n                            </Button>\n                        </DialogTrigger>\n                        <DialogContent>\n                            <DialogHeader>\n                                <DialogTitle>Create New Template</DialogTitle>\n                            </DialogHeader>\n                            <TemplateForm\n                                onSave={(template) => {\n                                    onCreateTemplate(template);\n                                    setIsCreating(false);\n                                    toast.success(\"Template created\");\n                                }}\n                                onCancel={() => setIsCreating(false)}\n                            />\n                        </DialogContent>\n                    </Dialog>\n                )}\n            </div>\n\n            {/* Category Tabs */}\n            <div className=\"flex gap-2 overflow-x-auto pb-2\">\n                {categories.map((cat) => (\n                    <Button\n                        key={cat.value}\n                        variant={\n                            selectedCategory === cat.value\n                                ? \"default\"\n                                : \"outline\"\n                        }\n                        size=\"sm\"\n                        onClick={() => setSelectedCategory(cat.value)}\n                    >\n                        {cat.label}\n                    </Button>\n                ))}\n            </div>\n\n            {/* Templates Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                {filteredTemplates.map((template) => (\n                    <TemplateCard\n                        key={template.id}\n                        template={template}\n                        onUse={() => onSelectTemplate(template)}\n                        onEdit={\n                            onUpdateTemplate\n                                ? (updates) =>\n                                      onUpdateTemplate(template.id, updates)\n                                : undefined\n                        }\n                        onDelete={\n                            onDeleteTemplate\n                                ? () => onDeleteTemplate(template.id)\n                                : undefined\n                        }\n                    />\n                ))}\n            </div>\n\n            {filteredTemplates.length === 0 && (\n                <div className=\"text-center py-8 text-gray-500\">\n                    <MessageSquare className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                    <p>No templates found</p>\n                </div>\n            )}\n        </div>\n    );\n}\n\n// Template Card Component\ninterface TemplateCardProps {\n    template: Template;\n    onUse: () => void;\n    onEdit?: (updates: Partial<Template>) => void;\n    onDelete?: () => void;\n}\n\nfunction TemplateCard({\n    template,\n    onUse,\n    onEdit,\n    onDelete,\n}: TemplateCardProps) {\n    const [isEditing, setIsEditing] = useState(false);\n    const [copied, setCopied] = useState(false);\n\n    const categoryColors = {\n        initial: \"bg-green-100 text-green-800\",\n        followup: \"bg-blue-100 text-blue-800\",\n        showing: \"bg-purple-100 text-purple-800\",\n        offer: \"bg-orange-100 text-orange-800\",\n        general: \"bg-gray-100 text-gray-800\",\n    };\n\n    const handleCopy = () => {\n        navigator.clipboard.writeText(template.body);\n        setCopied(true);\n        setTimeout(() => setCopied(false), 2000);\n        toast.success(\"Template copied to clipboard\");\n    };\n\n    return (\n        <div className=\"p-4 border rounded-lg hover:shadow-md transition-shadow\">\n            <div className=\"flex items-start justify-between mb-2\">\n                <div className=\"flex-1\">\n                    <h4 className=\"font-semibold mb-1\">{template.name}</h4>\n                    <Badge className={categoryColors[template.category]}>\n                        {template.category}\n                    </Badge>\n                </div>\n                <div className=\"flex gap-1\">\n                    <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={handleCopy}\n                        className=\"h-8 w-8 p-0\"\n                    >\n                        {copied ? (\n                            <Check className=\"w-4 h-4 text-green-600\" />\n                        ) : (\n                            <Copy className=\"w-4 h-4\" />\n                        )}\n                    </Button>\n                    {onEdit && (\n                        <Button\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            onClick={() => setIsEditing(true)}\n                            className=\"h-8 w-8 p-0\"\n                        >\n                            <Edit2 className=\"w-4 h-4\" />\n                        </Button>\n                    )}\n                    {onDelete && (\n                        <Button\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            onClick={onDelete}\n                            className=\"h-8 w-8 p-0 text-red-600\"\n                        >\n                            <Trash2 className=\"w-4 h-4\" />\n                        </Button>\n                    )}\n                </div>\n            </div>\n\n            <p className=\"text-sm text-gray-600 mb-1 font-medium\">\n                {template.subject}\n            </p>\n\n            <p className=\"text-sm text-gray-700 line-clamp-3 mb-3\">\n                {template.body}\n            </p>\n\n            {template.variables.length > 0 && (\n                <div className=\"flex flex-wrap gap-1 mb-3\">\n                    {template.variables.map((variable) => (\n                        <Badge\n                            key={variable}\n                            variant=\"outline\"\n                            className=\"text-xs\"\n                        >\n                            {`{${variable}}`}\n                        </Badge>\n                    ))}\n                </div>\n            )}\n\n            <Button size=\"sm\" onClick={onUse} className=\"w-full\">\n                Use Template\n            </Button>\n\n            {/* Edit Dialog */}\n            {isEditing && onEdit && (\n                <Dialog open={isEditing} onOpenChange={setIsEditing}>\n                    <DialogContent>\n                        <DialogHeader>\n                            <DialogTitle>Edit Template</DialogTitle>\n                        </DialogHeader>\n                        <TemplateForm\n                            initialData={template}\n                            onSave={(updates) => {\n                                onEdit(updates);\n                                setIsEditing(false);\n                                toast.success(\"Template updated\");\n                            }}\n                            onCancel={() => setIsEditing(false)}\n                        />\n                    </DialogContent>\n                </Dialog>\n            )}\n        </div>\n    );\n}\n\n// Template Form Component\ninterface TemplateFormProps {\n    initialData?: Partial<Template>;\n    onSave: (template: Omit<Template, \"id\">) => void;\n    onCancel: () => void;\n}\n\nfunction TemplateForm({ initialData, onSave, onCancel }: TemplateFormProps) {\n    const [name, setName] = useState(initialData?.name || \"\");\n    const [subject, setSubject] = useState(initialData?.subject || \"\");\n    const [body, setBody] = useState(initialData?.body || \"\");\n    const [category, setCategory] = useState<Template[\"category\"]>(\n        initialData?.category || \"general\"\n    );\n\n    const handleSave = () => {\n        if (!name || !subject || !body) {\n            toast.error(\"Please fill in all fields\");\n            return;\n        }\n\n        // Extract variables from body (anything in {brackets})\n        const variables = [...body.matchAll(/\\{(\\w+)\\}/g)].map((m) => m[1]);\n\n        onSave({\n            name,\n            subject,\n            body,\n            category,\n            variables,\n        });\n    };\n\n    return (\n        <div className=\"space-y-4\">\n            <div>\n                <Label>Template Name</Label>\n                <Input\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    placeholder=\"e.g., Initial Response - Listing Inquiry\"\n                />\n            </div>\n\n            <div>\n                <Label>Category</Label>\n                <select\n                    value={category}\n                    onChange={(e) =>\n                        setCategory(e.target.value as Template[\"category\"])\n                    }\n                    className=\"w-full p-2 border rounded\"\n                >\n                    <option value=\"initial\">Initial Response</option>\n                    <option value=\"followup\">Follow-up</option>\n                    <option value=\"showing\">Property Showing</option>\n                    <option value=\"offer\">Offer Discussion</option>\n                    <option value=\"general\">General</option>\n                </select>\n            </div>\n\n            <div>\n                <Label>Subject Line</Label>\n                <Input\n                    value={subject}\n                    onChange={(e) => setSubject(e.target.value)}\n                    placeholder=\"e.g., Re: {listingAddress}\"\n                />\n            </div>\n\n            <div>\n                <Label>Message Body</Label>\n                <Textarea\n                    value={body}\n                    onChange={(e) => setBody(e.target.value)}\n                    placeholder=\"Use {variable} for dynamic fields like {leadName}, {listingAddress}, etc.\"\n                    rows={8}\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">\n                    Use curly braces for variables: {\"{leadName}\"},{\" \"}\n                    {\"{listingAddress}\"}, {\"{price}\"}\n                </p>\n            </div>\n\n            <div className=\"flex justify-end gap-2\">\n                <Button variant=\"outline\" onClick={onCancel}>\n                    Cancel\n                </Button>\n                <Button onClick={handleSave}>Save Template</Button>\n            </div>\n        </div>\n    );\n}\n\n// Default templates\nexport const DEFAULT_TEMPLATES: Template[] = [\n    {\n        id: \"1\",\n        name: \"Initial Response - Listing Inquiry\",\n        subject: \"Re: {listingAddress}\",\n        body: `Hi {leadName},\n\nThank you for your interest in {listingAddress}! I'd love to help you learn more about this property.\n\nThis {bedrooms}-bedroom, {bathrooms}-bathroom home is priced at {price} and features:\nâ€¢ {feature1}\nâ€¢ {feature2}\nâ€¢ {feature3}\n\nI'm available to schedule a showing at your convenience. What days/times work best for you this week?\n\nBest regards,\n{agentName}\n{agentPhone}`,\n        category: \"initial\",\n        variables: [\n            \"leadName\",\n            \"listingAddress\",\n            \"bedrooms\",\n            \"bathrooms\",\n            \"price\",\n            \"feature1\",\n            \"feature2\",\n            \"feature3\",\n            \"agentName\",\n            \"agentPhone\",\n        ],\n    },\n    {\n        id: \"2\",\n        name: \"Follow-up - No Response\",\n        subject: \"Following up on {listingAddress}\",\n        body: `Hi {leadName},\n\nI wanted to follow up on your interest in {listingAddress}. I know finding the right home can take time, and I'm here to help.\n\nAre you still interested in viewing this property? Or would you like me to send you similar listings that might fit your needs?\n\nFeel free to call/text me anytime at {agentPhone}.\n\nBest regards,\n{agentName}`,\n        category: \"followup\",\n        variables: [\"leadName\", \"listingAddress\", \"agentPhone\", \"agentName\"],\n    },\n    {\n        id: \"3\",\n        name: \"Showing Confirmation\",\n        subject: \"Confirmed: Property Showing at {listingAddress}\",\n        body: `Hi {leadName},\n\nGreat news! Your showing for {listingAddress} is confirmed for {showingDate} at {showingTime}.\n\nProperty Address:\n{listingAddress}\n\nI'll meet you at the property. If you need to reschedule, please let me know as soon as possible.\n\nLooking forward to showing you this home!\n\nBest regards,\n{agentName}\n{agentPhone}`,\n        category: \"showing\",\n        variables: [\n            \"leadName\",\n            \"listingAddress\",\n            \"showingDate\",\n            \"showingTime\",\n            \"agentName\",\n            \"agentPhone\",\n        ],\n    },\n];\n","/**\n * Hot Lead Alert Component\n * Real-time notifications for high-priority leads\n */\n\nimport { useState, useEffect } from \"react\";\nimport { Flame, X, Phone, Mail, Eye, ChevronRight } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { toast } from \"sonner\";\n\ninterface HotLead {\n    id: string;\n    name: string;\n    email: string;\n    phone?: string;\n    score: number;\n    source: string;\n    message: string;\n    listingTitle?: string;\n    createdAt: string;\n}\n\ninterface HotLeadAlertProps {\n    hotLeads: HotLead[];\n    onView: (leadId: string) => void;\n    onDismiss: (leadId: string) => void;\n    onQuickCall?: (leadId: string) => void;\n    autoHide?: boolean;\n    autoHideDelay?: number; // milliseconds\n    soundEnabled?: boolean;\n    className?: string;\n}\n\nexport function HotLeadAlert({\n    hotLeads,\n    onView,\n    onDismiss,\n    onQuickCall,\n    autoHide = false,\n    autoHideDelay = 30000,\n    soundEnabled = true,\n    className,\n}: HotLeadAlertProps) {\n    const [visibleLeads, setVisibleLeads] = useState<Set<string>>(new Set());\n    const [dismissedLeads, setDismissedLeads] = useState<Set<string>>(\n        new Set()\n    );\n\n    // Track which leads are visible\n    useEffect(() => {\n        const newLeadIds = hotLeads.map((l) => l.id);\n        const currentVisible = new Set(visibleLeads);\n\n        // Find truly new leads (not previously visible and not dismissed)\n        const newLeads = newLeadIds.filter(\n            (id) => !currentVisible.has(id) && !dismissedLeads.has(id)\n        );\n\n        if (newLeads.length > 0) {\n            // Show toast notification\n            toast.success(`${newLeads.length} hot lead(s) just arrived!`, {\n                icon: <Flame className=\"w-4 h-4 text-orange-600\" />,\n            });\n\n            // Play notification sound\n            if (soundEnabled) {\n                playNotificationSound();\n            }\n\n            // Update visible leads\n            newLeads.forEach((id) => currentVisible.add(id));\n            setVisibleLeads(currentVisible);\n\n            // Auto-hide if enabled\n            if (autoHide) {\n                setTimeout(() => {\n                    newLeads.forEach((id) => handleDismiss(id));\n                }, autoHideDelay);\n            }\n        }\n    }, [hotLeads]);\n\n    const handleDismiss = (leadId: string) => {\n        setDismissedLeads((prev) => new Set(prev).add(leadId));\n        onDismiss(leadId);\n    };\n\n    const activeLeads = hotLeads.filter((lead) => !dismissedLeads.has(lead.id));\n\n    if (activeLeads.length === 0) return null;\n\n    return (\n        <div className={cn(\"space-y-2\", className)}>\n            {activeLeads.map((lead) => (\n                <HotLeadCard\n                    key={lead.id}\n                    lead={lead}\n                    onView={() => onView(lead.id)}\n                    onDismiss={() => handleDismiss(lead.id)}\n                    onQuickCall={\n                        onQuickCall ? () => onQuickCall(lead.id) : undefined\n                    }\n                />\n            ))}\n        </div>\n    );\n}\n\n// Individual Hot Lead Card\ninterface HotLeadCardProps {\n    lead: HotLead;\n    onView: () => void;\n    onDismiss: () => void;\n    onQuickCall?: () => void;\n}\n\nfunction HotLeadCard({\n    lead,\n    onView,\n    onDismiss,\n    onQuickCall,\n}: HotLeadCardProps) {\n    const [isAnimating, setIsAnimating] = useState(true);\n\n    useEffect(() => {\n        // Stop animation after 3 seconds\n        const timer = setTimeout(() => setIsAnimating(false), 3000);\n        return () => clearTimeout(timer);\n    }, []);\n\n    return (\n        <div\n            className={cn(\n                \"relative p-4 rounded-lg border-2 border-orange-500 bg-orange-50 shadow-lg\",\n                \"animate-in slide-in-from-top-5 duration-300\",\n                isAnimating && \"animate-pulse\"\n            )}\n        >\n            {/* Hot Badge */}\n            <div className=\"absolute -top-2 -right-2\">\n                <Badge className=\"bg-orange-600 text-white gap-1 animate-bounce\">\n                    <Flame className=\"w-3 h-3\" />\n                    HOT LEAD\n                </Badge>\n            </div>\n\n            <div className=\"flex items-start justify-between gap-4\">\n                {/* Lead Info */}\n                <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                        <h4 className=\"font-bold text-lg\">{lead.name}</h4>\n                        <Badge\n                            variant=\"outline\"\n                            className=\"bg-red-100 text-red-800\"\n                        >\n                            Score: {lead.score}\n                        </Badge>\n                    </div>\n\n                    <div className=\"space-y-1 text-sm mb-3\">\n                        <div className=\"flex items-center gap-2 text-gray-700\">\n                            <Mail className=\"w-3 h-3\" />\n                            {lead.email}\n                        </div>\n                        {lead.phone && (\n                            <div className=\"flex items-center gap-2 text-gray-700\">\n                                <Phone className=\"w-3 h-3\" />\n                                {lead.phone}\n                            </div>\n                        )}\n                        <div className=\"text-gray-600\">From: {lead.source}</div>\n                    </div>\n\n                    {lead.listingTitle && (\n                        <p className=\"text-sm font-medium text-gray-900 mb-2\">\n                            Interested in: {lead.listingTitle}\n                        </p>\n                    )}\n\n                    <p className=\"text-sm text-gray-700 line-clamp-2 mb-2\">\n                        {lead.message}\n                    </p>\n\n                    <p className=\"text-xs text-gray-500\">\n                        Received{\" \"}\n                        {formatDistanceToNow(new Date(lead.createdAt), {\n                            addSuffix: true,\n                        })}\n                    </p>\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex flex-col gap-2\">\n                    <Button\n                        size=\"sm\"\n                        onClick={onDismiss}\n                        variant=\"ghost\"\n                        className=\"h-8 w-8 p-0\"\n                    >\n                        <X className=\"w-4 h-4\" />\n                    </Button>\n                </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex gap-2 mt-3\">\n                {onQuickCall && lead.phone && (\n                    <Button\n                        size=\"sm\"\n                        onClick={onQuickCall}\n                        className=\"flex-1 bg-green-600 hover:bg-green-700 gap-1\"\n                    >\n                        <Phone className=\"w-4 h-4\" />\n                        Call Now\n                    </Button>\n                )}\n                <Button\n                    size=\"sm\"\n                    onClick={onView}\n                    className=\"flex-1 bg-orange-600 hover:bg-orange-700 gap-1\"\n                >\n                    <Eye className=\"w-4 h-4\" />\n                    View Details\n                    <ChevronRight className=\"w-4 h-4\" />\n                </Button>\n            </div>\n\n            {/* Urgency Indicator */}\n            <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-gray-200 rounded-b-lg overflow-hidden\">\n                <div\n                    className=\"h-full bg-orange-600 animate-pulse\"\n                    style={{ width: `${lead.score}%` }}\n                />\n            </div>\n        </div>\n    );\n}\n\n// Floating Hot Lead Indicator (for header/nav)\nexport function HotLeadIndicator({\n    count,\n    onClick,\n}: {\n    count: number;\n    onClick: () => void;\n}) {\n    if (count === 0) return null;\n\n    return (\n        <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={onClick}\n            className=\"relative gap-2 border-orange-500 bg-orange-50 hover:bg-orange-100 text-orange-900 animate-pulse\"\n        >\n            <Flame className=\"w-4 h-4 text-orange-600\" />\n            <span className=\"font-bold\">\n                {count} Hot Lead{count > 1 ? \"s\" : \"\"}\n            </span>\n            <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping\" />\n        </Button>\n    );\n}\n\n// Hot Lead Toast Notification (for global use)\nexport function showHotLeadToast(lead: HotLead, onView: () => void) {\n    toast.custom(\n        (t) => (\n            <div className=\"bg-white p-4 rounded-lg shadow-xl border-2 border-orange-500 max-w-md\">\n                <div className=\"flex items-start gap-3\">\n                    <Flame className=\"w-6 h-6 text-orange-600 flex-shrink-0 animate-bounce\" />\n                    <div className=\"flex-1\">\n                        <p className=\"font-bold text-orange-900 mb-1\">\n                            ðŸ”¥ Hot Lead Alert!\n                        </p>\n                        <p className=\"text-sm text-gray-900 font-medium mb-1\">\n                            {lead.name}\n                        </p>\n                        <p className=\"text-xs text-gray-600 mb-2 line-clamp-2\">\n                            {lead.message}\n                        </p>\n                        <div className=\"flex gap-2\">\n                            <Button\n                                size=\"sm\"\n                                onClick={() => {\n                                    onView();\n                                    toast.dismiss(t);\n                                }}\n                                className=\"bg-orange-600 hover:bg-orange-700\"\n                            >\n                                View Lead\n                            </Button>\n                            <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => toast.dismiss(t)}\n                            >\n                                Dismiss\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ),\n        {\n            duration: 15000,\n            position: \"top-right\",\n        }\n    );\n}\n\n// Helper function to play notification sound\nfunction playNotificationSound() {\n    try {\n        // Create a simple beep sound using Web Audio API\n        const audioContext = new (window.AudioContext ||\n            (window as any).webkitAudioContext)();\n        const oscillator = audioContext.createOscillator();\n        const gainNode = audioContext.createGain();\n\n        oscillator.connect(gainNode);\n        gainNode.connect(audioContext.destination);\n\n        oscillator.frequency.value = 800;\n        oscillator.type = \"sine\";\n\n        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n        gainNode.gain.exponentialRampToValueAtTime(\n            0.01,\n            audioContext.currentTime + 0.5\n        );\n\n        oscillator.start(audioContext.currentTime);\n        oscillator.stop(audioContext.currentTime + 0.5);\n    } catch (error) {\n        console.warn(\"Could not play notification sound:\", error);\n    }\n}\n","/**\n * Lead Detail View Component\n * Detailed view of a single lead with timeline and actions\n */\n\nimport { useState } from \"react\";\nimport {\n    X,\n    Mail,\n    Phone,\n    MapPin,\n    Clock,\n    Star,\n    MessageSquare,\n    Home,\n    TrendingUp,\n    Calendar,\n    User,\n    Tag,\n    ExternalLink,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n} from \"@/components/ui/select\";\nimport { cn } from \"@/lib/utils\";\nimport { formatDistanceToNow, format } from \"date-fns\";\nimport { toast } from \"sonner\";\n\ninterface Lead {\n    id: string;\n    name: string;\n    email: string;\n    phone?: string;\n    message: string;\n    listingTitle?: string;\n    listingId?: string;\n    listingImage?: string;\n    source: string;\n    score: number;\n    status: \"new\" | \"contacted\" | \"qualified\" | \"unqualified\" | \"converted\";\n    priority: \"hot\" | \"warm\" | \"cold\";\n    createdAt: string;\n    lastContactedAt?: string;\n    tags?: string[];\n    notes?: string;\n    timeline?: TimelineEvent[];\n}\n\ninterface TimelineEvent {\n    id: string;\n    type: \"note\" | \"email\" | \"call\" | \"meeting\" | \"status_change\";\n    content: string;\n    timestamp: string;\n    user?: string;\n}\n\ninterface LeadDetailViewProps {\n    lead: Lead;\n    onClose: () => void;\n    onUpdateStatus: (status: Lead[\"status\"]) => Promise<void>;\n    onAddNote: (note: string) => Promise<void>;\n    onSendEmail: (subject: string, body: string) => Promise<void>;\n    onScheduleCall?: () => void;\n    className?: string;\n}\n\nexport function LeadDetailView({\n    lead,\n    onClose,\n    onUpdateStatus,\n    onAddNote,\n    onSendEmail,\n    onScheduleCall,\n    className,\n}: LeadDetailViewProps) {\n    const [activeTab, setActiveTab] = useState<\n        \"overview\" | \"timeline\" | \"notes\"\n    >(\"overview\");\n    const [newNote, setNewNote] = useState(\"\");\n    const [isAddingNote, setIsAddingNote] = useState(false);\n\n    const priorityColors = {\n        hot: \"bg-red-100 text-red-800 border-red-300\",\n        warm: \"bg-yellow-100 text-yellow-800 border-yellow-300\",\n        cold: \"bg-blue-100 text-blue-800 border-blue-300\",\n    };\n\n    const statusColors = {\n        new: \"bg-green-100 text-green-800\",\n        contacted: \"bg-blue-100 text-blue-800\",\n        qualified: \"bg-purple-100 text-purple-800\",\n        unqualified: \"bg-gray-100 text-gray-800\",\n        converted: \"bg-emerald-100 text-emerald-800\",\n    };\n\n    const handleAddNote = async () => {\n        if (!newNote.trim()) {\n            toast.error(\"Please enter a note\");\n            return;\n        }\n\n        setIsAddingNote(true);\n        try {\n            await onAddNote(newNote);\n            setNewNote(\"\");\n            toast.success(\"Note added\");\n        } catch (error) {\n            toast.error(\"Failed to add note\");\n        } finally {\n            setIsAddingNote(false);\n        }\n    };\n\n    return (\n        <div\n            className={cn(\n                \"fixed inset-0 bg-black/50 z-50 overflow-y-auto\",\n                className\n            )}\n        >\n            <div className=\"min-h-screen flex items-center justify-center p-4\">\n                <div className=\"bg-white rounded-lg shadow-xl w-full max-w-4xl\">\n                    {/* Header */}\n                    <div className=\"p-6 border-b\">\n                        <div className=\"flex items-start justify-between\">\n                            <div className=\"flex-1\">\n                                <div className=\"flex items-center gap-3 mb-2\">\n                                    <h2 className=\"text-2xl font-bold\">\n                                        {lead.name}\n                                    </h2>\n                                    <Badge\n                                        variant=\"outline\"\n                                        className={\n                                            priorityColors[lead.priority]\n                                        }\n                                    >\n                                        {lead.priority.toUpperCase()}\n                                    </Badge>\n                                    <Badge\n                                        className={statusColors[lead.status]}\n                                    >\n                                        {lead.status}\n                                    </Badge>\n                                </div>\n                                <div className=\"flex items-center gap-4 text-sm text-gray-600\">\n                                    <span className=\"flex items-center gap-1\">\n                                        <Mail className=\"w-4 h-4\" />\n                                        {lead.email}\n                                    </span>\n                                    {lead.phone && (\n                                        <span className=\"flex items-center gap-1\">\n                                            <Phone className=\"w-4 h-4\" />\n                                            {lead.phone}\n                                        </span>\n                                    )}\n                                    <span className=\"flex items-center gap-1\">\n                                        <MapPin className=\"w-4 h-4\" />\n                                        {lead.source}\n                                    </span>\n                                </div>\n                            </div>\n                            <Button variant=\"ghost\" size=\"sm\" onClick={onClose}>\n                                <X className=\"w-5 h-5\" />\n                            </Button>\n                        </div>\n\n                        {/* Lead Score */}\n                        <div className=\"mt-4 p-3 bg-gray-50 rounded-lg flex items-center justify-between\">\n                            <div className=\"flex items-center gap-2\">\n                                <TrendingUp className=\"w-5 h-5 text-primary\" />\n                                <span className=\"font-medium\">Lead Score:</span>\n                                <span className=\"text-2xl font-bold text-primary\">\n                                    {lead.score}\n                                </span>\n                                <span className=\"text-sm text-gray-600\">\n                                    /100\n                                </span>\n                            </div>\n                            <div className=\"text-sm text-gray-600\">\n                                Created{\" \"}\n                                {formatDistanceToNow(new Date(lead.createdAt), {\n                                    addSuffix: true,\n                                })}\n                            </div>\n                        </div>\n\n                        {/* Quick Actions */}\n                        <div className=\"mt-4 flex gap-2\">\n                            <Button\n                                className=\"gap-2\"\n                                onClick={() =>\n                                    window.open(`mailto:${lead.email}`)\n                                }\n                            >\n                                <Mail className=\"w-4 h-4\" />\n                                Email\n                            </Button>\n                            {lead.phone && (\n                                <Button\n                                    variant=\"outline\"\n                                    className=\"gap-2\"\n                                    onClick={() =>\n                                        window.open(`tel:${lead.phone}`)\n                                    }\n                                >\n                                    <Phone className=\"w-4 h-4\" />\n                                    Call\n                                </Button>\n                            )}\n                            {onScheduleCall && (\n                                <Button\n                                    variant=\"outline\"\n                                    className=\"gap-2\"\n                                    onClick={onScheduleCall}\n                                >\n                                    <Calendar className=\"w-4 h-4\" />\n                                    Schedule\n                                </Button>\n                            )}\n                            <Select\n                                value={lead.status}\n                                onValueChange={(v) =>\n                                    onUpdateStatus(v as Lead[\"status\"])\n                                }\n                            >\n                                <SelectTrigger className=\"w-40\">\n                                    <SelectValue />\n                                </SelectTrigger>\n                                <SelectContent>\n                                    <SelectItem value=\"new\">New</SelectItem>\n                                    <SelectItem value=\"contacted\">\n                                        Contacted\n                                    </SelectItem>\n                                    <SelectItem value=\"qualified\">\n                                        Qualified\n                                    </SelectItem>\n                                    <SelectItem value=\"unqualified\">\n                                        Unqualified\n                                    </SelectItem>\n                                    <SelectItem value=\"converted\">\n                                        Converted\n                                    </SelectItem>\n                                </SelectContent>\n                            </Select>\n                        </div>\n                    </div>\n\n                    {/* Tabs */}\n                    <div className=\"border-b\">\n                        <div className=\"flex gap-4 px-6\">\n                            {[\"overview\", \"timeline\", \"notes\"].map((tab) => (\n                                <button\n                                    key={tab}\n                                    onClick={() =>\n                                        setActiveTab(tab as typeof activeTab)\n                                    }\n                                    className={cn(\n                                        \"py-3 px-1 border-b-2 font-medium text-sm capitalize transition-colors\",\n                                        activeTab === tab\n                                            ? \"border-primary text-primary\"\n                                            : \"border-transparent text-gray-600 hover:text-gray-900\"\n                                    )}\n                                >\n                                    {tab}\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* Tab Content */}\n                    <div className=\"p-6 max-h-[60vh] overflow-y-auto\">\n                        {activeTab === \"overview\" && (\n                            <div className=\"space-y-6\">\n                                {/* Original Message */}\n                                <div>\n                                    <h3 className=\"font-semibold mb-2 flex items-center gap-2\">\n                                        <MessageSquare className=\"w-4 h-4\" />\n                                        Original Message\n                                    </h3>\n                                    <div className=\"p-4 bg-gray-50 rounded-lg\">\n                                        <p className=\"text-gray-700\">\n                                            {lead.message}\n                                        </p>\n                                    </div>\n                                </div>\n\n                                {/* Listing Interest */}\n                                {lead.listingTitle && (\n                                    <div>\n                                        <h3 className=\"font-semibold mb-2 flex items-center gap-2\">\n                                            <Home className=\"w-4 h-4\" />\n                                            Interested Property\n                                        </h3>\n                                        <div className=\"p-4 bg-gray-50 rounded-lg flex items-center gap-4\">\n                                            {lead.listingImage && (\n                                                <img\n                                                    src={lead.listingImage}\n                                                    alt={lead.listingTitle}\n                                                    className=\"w-24 h-24 object-cover rounded\"\n                                                />\n                                            )}\n                                            <div className=\"flex-1\">\n                                                <p className=\"font-medium\">\n                                                    {lead.listingTitle}\n                                                </p>\n                                                <Button\n                                                    variant=\"link\"\n                                                    size=\"sm\"\n                                                    className=\"gap-1 p-0 h-auto\"\n                                                    onClick={() => {\n                                                        // Navigate to listing\n                                                    }}\n                                                >\n                                                    View Listing\n                                                    <ExternalLink className=\"w-3 h-3\" />\n                                                </Button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n\n                                {/* Tags */}\n                                {lead.tags && lead.tags.length > 0 && (\n                                    <div>\n                                        <h3 className=\"font-semibold mb-2 flex items-center gap-2\">\n                                            <Tag className=\"w-4 h-4\" />\n                                            Tags\n                                        </h3>\n                                        <div className=\"flex flex-wrap gap-2\">\n                                            {lead.tags.map((tag) => (\n                                                <Badge\n                                                    key={tag}\n                                                    variant=\"outline\"\n                                                >\n                                                    {tag}\n                                                </Badge>\n                                            ))}\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n\n                        {activeTab === \"timeline\" && (\n                            <div className=\"space-y-4\">\n                                {lead.timeline && lead.timeline.length > 0 ? (\n                                    lead.timeline.map((event) => (\n                                        <TimelineItem\n                                            key={event.id}\n                                            event={event}\n                                        />\n                                    ))\n                                ) : (\n                                    <div className=\"text-center py-8 text-gray-500\">\n                                        <Clock className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\n                                        <p>No timeline events yet</p>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n\n                        {activeTab === \"notes\" && (\n                            <div className=\"space-y-4\">\n                                {/* Add Note Form */}\n                                <div className=\"space-y-2\">\n                                    <Textarea\n                                        value={newNote}\n                                        onChange={(e) =>\n                                            setNewNote(e.target.value)\n                                        }\n                                        placeholder=\"Add a note about this lead...\"\n                                        rows={3}\n                                    />\n                                    <Button\n                                        onClick={handleAddNote}\n                                        disabled={\n                                            isAddingNote || !newNote.trim()\n                                        }\n                                        className=\"w-full\"\n                                    >\n                                        Add Note\n                                    </Button>\n                                </div>\n\n                                {/* Existing Notes */}\n                                {lead.notes && (\n                                    <div className=\"p-4 bg-gray-50 rounded-lg\">\n                                        <p className=\"text-gray-700 whitespace-pre-wrap\">\n                                            {lead.notes}\n                                        </p>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n// Timeline Item Component\nfunction TimelineItem({ event }: { event: TimelineEvent }) {\n    const getIcon = () => {\n        switch (event.type) {\n            case \"email\":\n                return <Mail className=\"w-4 h-4\" />;\n            case \"call\":\n                return <Phone className=\"w-4 h-4\" />;\n            case \"meeting\":\n                return <Calendar className=\"w-4 h-4\" />;\n            case \"status_change\":\n                return <TrendingUp className=\"w-4 h-4\" />;\n            case \"note\":\n            default:\n                return <MessageSquare className=\"w-4 h-4\" />;\n        }\n    };\n\n    return (\n        <div className=\"flex gap-3\">\n            <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary\">\n                {getIcon()}\n            </div>\n            <div className=\"flex-1\">\n                <p className=\"text-sm text-gray-700\">{event.content}</p>\n                <p className=\"text-xs text-gray-500 mt-1\">\n                    {format(\n                        new Date(event.timestamp),\n                        \"MMM d, yyyy 'at' h:mm a\"\n                    )}\n                    {event.user && ` â€¢ ${event.user}`}\n                </p>\n            </div>\n        </div>\n    );\n}\n","/**\n * Lead Management Dashboard Page\n * Integrated dashboard with all Sprint 5-6 features\n */\n\nimport { useState, useEffect } from \"react\";\nimport { LeadInbox } from \"@/components/leads/LeadInbox\";\nimport {\n    ResponseTemplates,\n    DEFAULT_TEMPLATES,\n} from \"@/components/leads/ResponseTemplates\";\nimport {\n    HotLeadAlert,\n    HotLeadIndicator,\n} from \"@/components/leads/HotLeadAlert\";\nimport { LeadDetailView } from \"@/components/leads/LeadDetailView\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { toast } from \"sonner\";\nimport { analyzeLead } from \"@/lib/lead-scoring\";\nimport { Mail, MessageSquare, TrendingUp, Filter } from \"lucide-react\";\n\n// Mock data (replace with actual API calls)\nconst mockLeads = [\n    {\n        id: \"1\",\n        name: \"Sarah Johnson\",\n        email: \"sarah.j@email.com\",\n        phone: \"+1 (555) 123-4567\",\n        message:\n            \"Hi, I'm very interested in the 3BR house in Downtown. I'd like to schedule a viewing this week if possible. I'm pre-approved and ready to move quickly. Can you provide more details about the HOA fees and recent renovations?\",\n        listingTitle: \"Modern 3BR House in Downtown\",\n        listingId: \"listing-1\",\n        source: \"zillow\",\n        score: 85,\n        status: \"new\" as const,\n        priority: \"hot\" as const,\n        createdAt: new Date(Date.now() - 1000 * 60 * 15).toISOString(), // 15 min ago\n        tags: [\"pre-approved\", \"quick-move\"],\n    },\n    {\n        id: \"2\",\n        name: \"Michael Chen\",\n        email: \"mchen@email.com\",\n        phone: \"+1 (555) 987-6543\",\n        message:\n            \"Looking for properties in the $400-500k range. Interested in your luxury condo listing.\",\n        listingTitle: \"Luxury Condo with Ocean View\",\n        listingId: \"listing-2\",\n        source: \"realtor\",\n        score: 72,\n        status: \"new\" as const,\n        priority: \"hot\" as const,\n        createdAt: new Date(Date.now() - 1000 * 60 * 30).toISOString(), // 30 min ago\n        tags: [\"investor\"],\n    },\n    {\n        id: \"3\",\n        name: \"Emily Rodriguez\",\n        email: \"emily.r@email.com\",\n        message: \"What's the monthly HOA fee for the apartment near the park?\",\n        listingTitle: \"Cozy 2BR Apartment Near Park\",\n        listingId: \"listing-3\",\n        source: \"facebook\",\n        score: 58,\n        status: \"contacted\" as const,\n        priority: \"warm\" as const,\n        createdAt: new Date(Date.now() - 1000 * 60 * 60 * 2).toISOString(), // 2 hours ago\n        lastContactedAt: new Date(Date.now() - 1000 * 60 * 30).toISOString(),\n        tags: [\"first-time-buyer\"],\n    },\n    {\n        id: \"4\",\n        name: \"David Kim\",\n        email: \"dkim@email.com\",\n        phone: \"+1 (555) 234-5678\",\n        message:\n            \"I saw your listing for the family home with pool. Is it still available?\",\n        listingTitle: \"Spacious Family Home with Pool\",\n        listingId: \"listing-4\",\n        source: \"website\",\n        score: 45,\n        status: \"contacted\" as const,\n        priority: \"warm\" as const,\n        createdAt: new Date(Date.now() - 1000 * 60 * 60 * 5).toISOString(), // 5 hours ago\n        lastContactedAt: new Date(\n            Date.now() - 1000 * 60 * 60 * 3\n        ).toISOString(),\n    },\n    {\n        id: \"5\",\n        name: \"Lisa Anderson\",\n        email: \"lisa.a@email.com\",\n        message: \"Info please\",\n        listingTitle: \"Renovated Townhouse in Suburbs\",\n        listingId: \"listing-5\",\n        source: \"instagram\",\n        score: 28,\n        status: \"new\" as const,\n        priority: \"cold\" as const,\n        createdAt: new Date(Date.now() - 1000 * 60 * 60 * 12).toISOString(), // 12 hours ago\n    },\n];\n\nexport default function LeadManagementDashboard() {\n    const [leads, setLeads] = useState(mockLeads);\n    const [templates, setTemplates] = useState(DEFAULT_TEMPLATES);\n    const [selectedLead, setSelectedLead] = useState<\n        (typeof mockLeads)[0] | null\n    >(null);\n    const [showHotLeads, setShowHotLeads] = useState(true);\n\n    // Calculate hot leads (score >= 70)\n    const hotLeads = leads.filter(\n        (lead) => lead.score >= 70 && lead.status === \"new\"\n    );\n\n    // Calculate stats\n    const stats = {\n        total: leads.length,\n        new: leads.filter((l) => l.status === \"new\").length,\n        hot: hotLeads.length,\n        contacted: leads.filter((l) => l.status === \"contacted\").length,\n        avgScore: Math.round(\n            leads.reduce((sum, l) => sum + l.score, 0) / leads.length\n        ),\n    };\n\n    // Handlers\n    const handleLeadClick = (lead: (typeof mockLeads)[0]) => {\n        setSelectedLead(lead);\n    };\n\n    const handleCloseDetail = () => {\n        setSelectedLead(null);\n    };\n\n    const handleQuickReply = (leadId: string) => {\n        const lead = leads.find((l) => l.id === leadId);\n        if (lead) {\n            setSelectedLead(lead);\n            toast.info(\"Opening quick reply for \" + lead.name);\n        }\n    };\n\n    const handleMarkAsRead = async (leadId: string) => {\n        setLeads((prev) =>\n            prev.map((lead) =>\n                lead.id === leadId\n                    ? { ...lead, status: \"contacted\" as const }\n                    : lead\n            )\n        );\n        toast.success(\"Lead marked as contacted\");\n    };\n\n    const handleUpdateStatus = async (\n        status: (typeof mockLeads)[0][\"status\"]\n    ) => {\n        if (!selectedLead) return;\n\n        setLeads((prev) =>\n            prev.map((lead) =>\n                lead.id === selectedLead.id ? { ...lead, status } : lead\n            )\n        );\n        setSelectedLead((prev) => (prev ? { ...prev, status } : null));\n        toast.success(`Status updated to ${status}`);\n    };\n\n    const handleAddNote = async (note: string) => {\n        // Simulate API call\n        await new Promise((resolve) => setTimeout(resolve, 500));\n        // In real app, would update lead with new note\n        console.log(\"Adding note:\", note);\n    };\n\n    const handleSendEmail = async (subject: string, body: string) => {\n        // Simulate API call\n        await new Promise((resolve) => setTimeout(resolve, 500));\n        console.log(\"Sending email:\", { subject, body });\n        toast.success(\"Email sent!\");\n    };\n\n    const handleDismissHotLead = (leadId: string) => {\n        console.log(\"Dismissed hot lead:\", leadId);\n    };\n\n    const handleViewHotLead = (leadId: string) => {\n        const lead = leads.find((l) => l.id === leadId);\n        if (lead) {\n            handleLeadClick(lead);\n        }\n    };\n\n    const handleSelectTemplate = (template: (typeof DEFAULT_TEMPLATES)[0]) => {\n        if (!selectedLead) {\n            toast.info(\"Please select a lead first\");\n            return;\n        }\n\n        // Replace variables in template\n        let body = template.body;\n        body = body.replace(\"{leadName}\", selectedLead.name);\n        body = body.replace(\n            \"{listingAddress}\",\n            selectedLead.listingTitle || \"the property\"\n        );\n        body = body.replace(\"{agentName}\", \"Your Name\");\n        body = body.replace(\"{agentPhone}\", \"(555) 123-4567\");\n\n        toast.success(\"Template loaded! Ready to send.\");\n        console.log(\"Using template:\", { subject: template.subject, body });\n    };\n\n    const handleCreateTemplate = (\n        template: Omit<(typeof DEFAULT_TEMPLATES)[0], \"id\">\n    ) => {\n        const newTemplate = {\n            ...template,\n            id: `custom-${Date.now()}`,\n        };\n        setTemplates((prev) => [...prev, newTemplate]);\n    };\n\n    const handleUpdateTemplate = (\n        id: string,\n        updates: Partial<(typeof DEFAULT_TEMPLATES)[0]>\n    ) => {\n        setTemplates((prev) =>\n            prev.map((t) => (t.id === id ? { ...t, ...updates } : t))\n        );\n    };\n\n    const handleDeleteTemplate = (id: string) => {\n        setTemplates((prev) => prev.filter((t) => t.id !== id));\n        toast.success(\"Template deleted\");\n    };\n\n    return (\n        <div className=\"container mx-auto py-6 space-y-6\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between\">\n                <div>\n                    <h1 className=\"text-3xl font-bold\">Lead Management</h1>\n                    <p className=\"text-gray-600 mt-1\">\n                        Manage your leads efficiently with smart scoring and\n                        quick responses\n                    </p>\n                </div>\n                <div className=\"flex gap-3\">\n                    <HotLeadIndicator\n                        count={hotLeads.length}\n                        onClick={() => setShowHotLeads(!showHotLeads)}\n                    />\n                </div>\n            </div>\n\n            {/* Stats Bar */}\n            <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n                <StatCard\n                    label=\"Total Leads\"\n                    value={stats.total}\n                    icon={<Mail className=\"w-5 h-5\" />}\n                />\n                <StatCard\n                    label=\"New\"\n                    value={stats.new}\n                    icon={<MessageSquare className=\"w-5 h-5\" />}\n                    color=\"green\"\n                />\n                <StatCard\n                    label=\"Hot Leads\"\n                    value={stats.hot}\n                    icon={<TrendingUp className=\"w-5 h-5\" />}\n                    color=\"red\"\n                    pulse={stats.hot > 0}\n                />\n                <StatCard\n                    label=\"Contacted\"\n                    value={stats.contacted}\n                    icon={<Mail className=\"w-5 h-5\" />}\n                    color=\"blue\"\n                />\n                <StatCard\n                    label=\"Avg Score\"\n                    value={stats.avgScore}\n                    icon={<TrendingUp className=\"w-5 h-5\" />}\n                />\n            </div>\n\n            {/* Hot Lead Alerts */}\n            {showHotLeads && hotLeads.length > 0 && (\n                <HotLeadAlert\n                    hotLeads={hotLeads}\n                    onView={handleViewHotLead}\n                    onDismiss={handleDismissHotLead}\n                    soundEnabled={true}\n                />\n            )}\n\n            {/* Main Content Tabs */}\n            <Tabs defaultValue=\"inbox\" className=\"w-full\">\n                <TabsList className=\"grid w-full grid-cols-2 max-w-md\">\n                    <TabsTrigger value=\"inbox\">\n                        Lead Inbox\n                        {stats.new > 0 && (\n                            <Badge\n                                variant=\"outline\"\n                                className=\"ml-2 bg-green-100\"\n                            >\n                                {stats.new}\n                            </Badge>\n                        )}\n                    </TabsTrigger>\n                    <TabsTrigger value=\"templates\">\n                        Response Templates\n                    </TabsTrigger>\n                </TabsList>\n\n                <TabsContent value=\"inbox\" className=\"mt-6\">\n                    <LeadInbox\n                        leads={leads}\n                        onLeadClick={handleLeadClick}\n                        onQuickReply={handleQuickReply}\n                        onMarkAsRead={handleMarkAsRead}\n                    />\n                </TabsContent>\n\n                <TabsContent value=\"templates\" className=\"mt-6\">\n                    <ResponseTemplates\n                        templates={templates}\n                        onSelectTemplate={handleSelectTemplate}\n                        onCreateTemplate={handleCreateTemplate}\n                        onUpdateTemplate={handleUpdateTemplate}\n                        onDeleteTemplate={handleDeleteTemplate}\n                    />\n                </TabsContent>\n            </Tabs>\n\n            {/* Lead Detail View */}\n            {selectedLead && (\n                <LeadDetailView\n                    lead={selectedLead}\n                    onClose={handleCloseDetail}\n                    onUpdateStatus={handleUpdateStatus}\n                    onAddNote={handleAddNote}\n                    onSendEmail={handleSendEmail}\n                />\n            )}\n        </div>\n    );\n}\n\n// Stat Card Component\ninterface StatCardProps {\n    label: string;\n    value: number;\n    icon: React.ReactNode;\n    color?: \"green\" | \"blue\" | \"red\";\n    pulse?: boolean;\n}\n\nfunction StatCard({ label, value, icon, color, pulse }: StatCardProps) {\n    const colorClasses = {\n        green: \"bg-green-100 text-green-600\",\n        blue: \"bg-blue-100 text-blue-600\",\n        red: \"bg-red-100 text-red-600\",\n    };\n\n    return (\n        <div className=\"p-4 bg-white rounded-lg border hover:shadow-md transition-shadow\">\n            <div className=\"flex items-center justify-between mb-2\">\n                <div\n                    className={`p-2 rounded ${\n                        color\n                            ? colorClasses[color]\n                            : \"bg-gray-100 text-gray-600\"\n                    }`}\n                >\n                    {icon}\n                </div>\n                {pulse && (\n                    <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\" />\n                )}\n            </div>\n            <div className=\"text-2xl font-bold\">{value}</div>\n            <div className=\"text-sm text-gray-600\">{label}</div>\n        </div>\n    );\n}\n"],"names":["Flame","createLucideIcon","Pen","LeadInbox","leads","onLeadClick","onQuickReply","onMarkAsRead","className","searchQuery","setSearchQuery","useState","statusFilter","setStatusFilter","priorityFilter","setPriorityFilter","sourceFilter","setSourceFilter","sortBy","setSortBy","filteredLeads","useMemo","filtered","lead","matchesSearch","matchesStatus","matchesPriority","matchesSource","a","b","priorityOrder","stats","l","sum","sources","cn","jsxs","jsx","Select","v","SelectTrigger","SelectValue","SelectContent","SelectItem","Search","Input","e","source","LeadCard","Mail","onClick","priorityColors","statusColors","isUnread","isHot","Badge","Phone","MapPin","Clock","formatDistanceToNow","TrendingUp","Button","MessageSquare","ResponseTemplates","templates","onSelectTemplate","onCreateTemplate","onUpdateTemplate","onDeleteTemplate","selectedCategory","setSelectedCategory","isCreating","setIsCreating","filteredTemplates","template","matchesCategory","categories","Dialog","DialogTrigger","Plus","DialogContent","DialogHeader","DialogTitle","TemplateForm","toast","cat","TemplateCard","updates","onUse","onEdit","onDelete","isEditing","setIsEditing","copied","setCopied","categoryColors","handleCopy","Check","Copy","Edit2","Trash2","variable","initialData","onSave","onCancel","name","setName","subject","setSubject","body","setBody","category","setCategory","handleSave","variables","m","Label","Textarea","DEFAULT_TEMPLATES","HotLeadAlert","hotLeads","onView","onDismiss","onQuickCall","autoHide","autoHideDelay","soundEnabled","visibleLeads","setVisibleLeads","dismissedLeads","setDismissedLeads","useEffect","newLeadIds","currentVisible","newLeads","id","playNotificationSound","handleDismiss","leadId","prev","activeLeads","HotLeadCard","isAnimating","setIsAnimating","timer","X","Eye","ChevronRight","HotLeadIndicator","count","audioContext","oscillator","gainNode","error","LeadDetailView","onClose","onUpdateStatus","onAddNote","onSendEmail","onScheduleCall","activeTab","setActiveTab","newNote","setNewNote","isAddingNote","setIsAddingNote","handleAddNote","Calendar","tab","Home","ExternalLink","Tag","tag","event","TimelineItem","getIcon","format","mockLeads","LeadManagementDashboard","setLeads","setTemplates","selectedLead","setSelectedLead","showHotLeads","setShowHotLeads","handleLeadClick","handleCloseDetail","handleQuickReply","handleMarkAsRead","handleUpdateStatus","status","note","resolve","handleSendEmail","handleDismissHotLead","handleViewHotLead","handleSelectTemplate","handleCreateTemplate","newTemplate","handleUpdateTemplate","t","handleDeleteTemplate","StatCard","Tabs","TabsList","TabsTrigger","TabsContent","label","value","icon","color","pulse","colorClasses"],"mappings":"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","x_google_ignoreList":[0,1]}