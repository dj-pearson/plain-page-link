{"version":3,"file":"SEOManager-OJYdAklj.js","sources":["../../node_modules/lucide-react/dist/esm/icons/activity.js","../../node_modules/lucide-react/dist/esm/icons/bot.js","../../node_modules/lucide-react/dist/esm/icons/database.js","../../node_modules/lucide-react/dist/esm/icons/file-code.js","../../node_modules/lucide-react/dist/esm/icons/map.js","../../node_modules/lucide-react/dist/esm/icons/pause.js","../../node_modules/lucide-react/dist/esm/icons/wand-sparkles.js","../../src/components/admin/seo/AlertsDashboard.tsx","../../src/components/admin/seo/AutoFixEngine.tsx","../../src/components/admin/seo/KeywordsTracker.tsx","../../src/components/admin/seo/CompetitorMatrix.tsx","../../src/components/admin/SEOManager.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.354.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Activity = createLucideIcon(\"Activity\", [\n  [\"path\", { d: \"M22 12h-4l-3 9L9 3l-3 9H2\", key: \"d5dnw9\" }]\n]);\n\nexport { Activity as default };\n//# sourceMappingURL=activity.js.map\n","/**\n * @license lucide-react v0.354.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bot = createLucideIcon(\"Bot\", [\n  [\"path\", { d: \"M12 8V4H8\", key: \"hb8ula\" }],\n  [\"rect\", { width: \"16\", height: \"12\", x: \"4\", y: \"8\", rx: \"2\", key: \"enze0r\" }],\n  [\"path\", { d: \"M2 14h2\", key: \"vft8re\" }],\n  [\"path\", { d: \"M20 14h2\", key: \"4cs60a\" }],\n  [\"path\", { d: \"M15 13v2\", key: \"1xurst\" }],\n  [\"path\", { d: \"M9 13v2\", key: \"rq6x2g\" }]\n]);\n\nexport { Bot as default };\n//# sourceMappingURL=bot.js.map\n","/**\n * @license lucide-react v0.354.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Database = createLucideIcon(\"Database\", [\n  [\"ellipse\", { cx: \"12\", cy: \"5\", rx: \"9\", ry: \"3\", key: \"msslwz\" }],\n  [\"path\", { d: \"M3 5V19A9 3 0 0 0 21 19V5\", key: \"1wlel7\" }],\n  [\"path\", { d: \"M3 12A9 3 0 0 0 21 12\", key: \"mv7ke4\" }]\n]);\n\nexport { Database as default };\n//# sourceMappingURL=database.js.map\n","/**\n * @license lucide-react v0.354.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileCode = createLucideIcon(\"FileCode\", [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"m10 13-2 2 2 2\", key: \"17smn8\" }],\n  [\"path\", { d: \"m14 17 2-2-2-2\", key: \"14mezr\" }]\n]);\n\nexport { FileCode as default };\n//# sourceMappingURL=file-code.js.map\n","/**\n * @license lucide-react v0.354.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Map = createLucideIcon(\"Map\", [\n  [\"polygon\", { points: \"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21\", key: \"ok2ie8\" }],\n  [\"line\", { x1: \"9\", x2: \"9\", y1: \"3\", y2: \"18\", key: \"w34qz5\" }],\n  [\"line\", { x1: \"15\", x2: \"15\", y1: \"6\", y2: \"21\", key: \"volv9a\" }]\n]);\n\nexport { Map as default };\n//# sourceMappingURL=map.js.map\n","/**\n * @license lucide-react v0.354.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pause = createLucideIcon(\"Pause\", [\n  [\"rect\", { width: \"4\", height: \"16\", x: \"6\", y: \"4\", key: \"iffhe4\" }],\n  [\"rect\", { width: \"4\", height: \"16\", x: \"14\", y: \"4\", key: \"sjin7j\" }]\n]);\n\nexport { Pause as default };\n//# sourceMappingURL=pause.js.map\n","/**\n * @license lucide-react v0.354.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst WandSparkles = createLucideIcon(\"WandSparkles\", [\n  [\n    \"path\",\n    {\n      d: \"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72\",\n      key: \"ul74o6\"\n    }\n  ],\n  [\"path\", { d: \"m14 7 3 3\", key: \"1r5n42\" }],\n  [\"path\", { d: \"M5 6v4\", key: \"ilb8ba\" }],\n  [\"path\", { d: \"M19 14v4\", key: \"blhpug\" }],\n  [\"path\", { d: \"M10 2v2\", key: \"7u0qdc\" }],\n  [\"path\", { d: \"M7 8H3\", key: \"zfb6yr\" }],\n  [\"path\", { d: \"M21 16h-4\", key: \"1cnmox\" }],\n  [\"path\", { d: \"M11 3H9\", key: \"1obp7u\" }]\n]);\n\nexport { WandSparkles as default };\n//# sourceMappingURL=wand-sparkles.js.map\n","import { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n  AlertCircle,\n  AlertTriangle,\n  TrendingUp,\n  CheckCircle2,\n  RefreshCw,\n  Bell,\n  X,\n  ExternalLink,\n} from \"lucide-react\";\nimport { formatDistanceToNow } from \"date-fns\";\n\ninterface SEONotification {\n  id: string;\n  notification_type: string;\n  title: string;\n  message: string;\n  severity: 'low' | 'medium' | 'high' | 'critical';\n  status: string;\n  data: any;\n  created_at: string;\n}\n\ninterface AuditSchedule {\n  id: string;\n  name: string;\n  last_run_at: string;\n  last_run_status: string;\n  last_run_results: any;\n}\n\nexport const AlertsDashboard = () => {\n  const { toast } = useToast();\n  const [loading, setLoading] = useState(false);\n  const [notifications, setNotifications] = useState<SEONotification[]>([]);\n  const [recentAudits, setRecentAudits] = useState<AuditSchedule[]>([]);\n  const [criticalCount, setCriticalCount] = useState(0);\n  const [warningCount, setWarningCount] = useState(0);\n  const [opportunityCount, setOpportunityCount] = useState(0);\n\n  useEffect(() => {\n    loadAlerts();\n    loadRecentAudits();\n\n    // Set up real-time subscription for new notifications\n    const subscription = supabase\n      .channel('seo_notifications')\n      .on(\n        'postgres_changes',\n        {\n          event: 'INSERT',\n          schema: 'public',\n          table: 'seo_notification_queue',\n        },\n        (payload) => {\n          setNotifications((prev) => [payload.new as SEONotification, ...prev]);\n          updateCounts([payload.new as SEONotification, ...notifications]);\n        }\n      )\n      .subscribe();\n\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, []);\n\n  const loadAlerts = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('seo_notification_queue')\n        .select('*')\n        .order('created_at', { ascending: false })\n        .limit(50);\n\n      if (error) throw error;\n\n      setNotifications(data || []);\n      updateCounts(data || []);\n    } catch (error: any) {\n      console.error('Error loading alerts:', error);\n    }\n  };\n\n  const loadRecentAudits = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('seo_audit_schedules')\n        .select('*')\n        .not('last_run_at', 'is', null)\n        .order('last_run_at', { ascending: false })\n        .limit(5);\n\n      if (error) throw error;\n\n      setRecentAudits(data || []);\n    } catch (error: any) {\n      console.error('Error loading recent audits:', error);\n    }\n  };\n\n  const updateCounts = (notifs: SEONotification[]) => {\n    const critical = notifs.filter(n => n.severity === 'critical' && n.status === 'pending').length;\n    const warnings = notifs.filter(n => n.severity === 'medium' && n.status === 'pending').length;\n    const opportunities = notifs.filter(n => n.notification_type === 'opportunity' && n.status === 'pending').length;\n\n    setCriticalCount(critical);\n    setWarningCount(warnings);\n    setOpportunityCount(opportunities);\n  };\n\n  const dismissNotification = async (id: string) => {\n    try {\n      const { error } = await supabase\n        .from('seo_notification_queue')\n        .update({ status: 'sent' })\n        .eq('id', id);\n\n      if (error) throw error;\n\n      setNotifications(prev => prev.filter(n => n.id !== id));\n      updateCounts(notifications.filter(n => n.id !== id));\n\n      toast({\n        title: \"Notification dismissed\",\n        description: \"The notification has been marked as read\",\n      });\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const refreshAlerts = async () => {\n    setLoading(true);\n    await loadAlerts();\n    await loadRecentAudits();\n    setLoading(false);\n\n    toast({\n      title: \"Alerts refreshed\",\n      description: \"Latest alerts and audit results loaded\",\n    });\n  };\n\n  const getSeverityIcon = (severity: string) => {\n    switch (severity) {\n      case 'critical':\n        return <AlertCircle className=\"h-5 w-5 text-red-500\" />;\n      case 'high':\n      case 'medium':\n        return <AlertTriangle className=\"h-5 w-5 text-yellow-500\" />;\n      case 'low':\n        return <TrendingUp className=\"h-5 w-5 text-blue-500\" />;\n      default:\n        return <Bell className=\"h-5 w-5 text-gray-500\" />;\n    }\n  };\n\n  const getSeverityBadge = (severity: string) => {\n    const variants: Record<string, \"destructive\" | \"default\" | \"secondary\" | \"outline\"> = {\n      critical: 'destructive',\n      high: 'destructive',\n      medium: 'default',\n      low: 'secondary',\n    };\n\n    return (\n      <Badge variant={variants[severity] || 'default'}>\n        {severity}\n      </Badge>\n    );\n  };\n\n  const criticalIssues = notifications.filter(n =>\n    (n.severity === 'critical' || n.severity === 'high') &&\n    n.notification_type === 'critical_issue' &&\n    n.status === 'pending'\n  );\n\n  const warnings = notifications.filter(n =>\n    n.severity === 'medium' &&\n    n.notification_type === 'warning' &&\n    n.status === 'pending'\n  );\n\n  const opportunities = notifications.filter(n =>\n    n.notification_type === 'opportunity' &&\n    n.status === 'pending'\n  );\n\n  const competitorAlerts = notifications.filter(n =>\n    n.notification_type === 'competitor_alert' &&\n    n.status === 'pending'\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">SEO Alerts Dashboard</h2>\n          <p className=\"text-muted-foreground\">\n            Real-time monitoring of SEO issues, warnings, and opportunities\n          </p>\n        </div>\n        <Button onClick={refreshAlerts} disabled={loading} variant=\"outline\">\n          <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n          Refresh\n        </Button>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid gap-4 md:grid-cols-4\">\n        <Card className=\"border-red-500\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm flex items-center gap-2\">\n              <AlertCircle className=\"h-4 w-4 text-red-500\" />\n              Critical Issues\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-red-600\">{criticalCount}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Require immediate attention\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-yellow-500\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm flex items-center gap-2\">\n              <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\n              Warnings\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-yellow-600\">{warningCount}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Should be addressed soon\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-blue-500\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm flex items-center gap-2\">\n              <TrendingUp className=\"h-4 w-4 text-blue-500\" />\n              Opportunities\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-blue-600\">{opportunityCount}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Potential improvements\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-green-500\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm flex items-center gap-2\">\n              <CheckCircle2 className=\"h-4 w-4 text-green-500\" />\n              Health Score\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-green-600\">\n              {recentAudits[0]?.last_run_results?.overall_score || 'N/A'}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Latest audit score\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Tabs for different alert types */}\n      <Tabs defaultValue=\"critical\" className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"critical\">\n            Critical ({criticalIssues.length})\n          </TabsTrigger>\n          <TabsTrigger value=\"warnings\">\n            Warnings ({warnings.length})\n          </TabsTrigger>\n          <TabsTrigger value=\"opportunities\">\n            Opportunities ({opportunities.length})\n          </TabsTrigger>\n          <TabsTrigger value=\"competitor\">\n            Competitors ({competitorAlerts.length})\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"critical\" className=\"space-y-4\">\n          {criticalIssues.length === 0 ? (\n            <Card>\n              <CardContent className=\"pt-6 text-center text-muted-foreground\">\n                <CheckCircle2 className=\"h-12 w-12 mx-auto mb-2 text-green-500\" />\n                <p>No critical issues detected</p>\n              </CardContent>\n            </Card>\n          ) : (\n            criticalIssues.map((notification) => (\n              <NotificationCard\n                key={notification.id}\n                notification={notification}\n                onDismiss={dismissNotification}\n                getSeverityIcon={getSeverityIcon}\n                getSeverityBadge={getSeverityBadge}\n              />\n            ))\n          )}\n        </TabsContent>\n\n        <TabsContent value=\"warnings\" className=\"space-y-4\">\n          {warnings.length === 0 ? (\n            <Card>\n              <CardContent className=\"pt-6 text-center text-muted-foreground\">\n                <CheckCircle2 className=\"h-12 w-12 mx-auto mb-2 text-green-500\" />\n                <p>No warnings at this time</p>\n              </CardContent>\n            </Card>\n          ) : (\n            warnings.map((notification) => (\n              <NotificationCard\n                key={notification.id}\n                notification={notification}\n                onDismiss={dismissNotification}\n                getSeverityIcon={getSeverityIcon}\n                getSeverityBadge={getSeverityBadge}\n              />\n            ))\n          )}\n        </TabsContent>\n\n        <TabsContent value=\"opportunities\" className=\"space-y-4\">\n          {opportunities.length === 0 ? (\n            <Card>\n              <CardContent className=\"pt-6 text-center text-muted-foreground\">\n                <TrendingUp className=\"h-12 w-12 mx-auto mb-2 text-blue-500\" />\n                <p>No new opportunities identified</p>\n              </CardContent>\n            </Card>\n          ) : (\n            opportunities.map((notification) => (\n              <NotificationCard\n                key={notification.id}\n                notification={notification}\n                onDismiss={dismissNotification}\n                getSeverityIcon={getSeverityIcon}\n                getSeverityBadge={getSeverityBadge}\n              />\n            ))\n          )}\n        </TabsContent>\n\n        <TabsContent value=\"competitor\" className=\"space-y-4\">\n          {competitorAlerts.length === 0 ? (\n            <Card>\n              <CardContent className=\"pt-6 text-center text-muted-foreground\">\n                <Bell className=\"h-12 w-12 mx-auto mb-2 text-gray-400\" />\n                <p>No competitor alerts</p>\n              </CardContent>\n            </Card>\n          ) : (\n            competitorAlerts.map((notification) => (\n              <NotificationCard\n                key={notification.id}\n                notification={notification}\n                onDismiss={dismissNotification}\n                getSeverityIcon={getSeverityIcon}\n                getSeverityBadge={getSeverityBadge}\n              />\n            ))\n          )}\n        </TabsContent>\n      </Tabs>\n\n      {/* Recent Audits */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Recent Audits</CardTitle>\n          <CardDescription>Latest automated audit results</CardDescription>\n        </CardHeader>\n        <CardContent>\n          {recentAudits.length === 0 ? (\n            <p className=\"text-center text-muted-foreground py-4\">\n              No recent audits found\n            </p>\n          ) : (\n            <div className=\"space-y-4\">\n              {recentAudits.map((audit) => (\n                <div\n                  key={audit.id}\n                  className=\"flex items-center justify-between p-4 border rounded-lg\"\n                >\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-semibold\">{audit.name}</h4>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {audit.last_run_at &&\n                        `Ran ${formatDistanceToNow(new Date(audit.last_run_at), {\n                          addSuffix: true,\n                        })}`}\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-4\">\n                    {audit.last_run_results && (\n                      <div className=\"text-center\">\n                        <div className=\"text-2xl font-bold\">\n                          {audit.last_run_results.overall_score || 'N/A'}\n                        </div>\n                        <div className=\"text-xs text-muted-foreground\">Score</div>\n                      </div>\n                    )}\n                    <Badge\n                      variant={\n                        audit.last_run_status === 'success'\n                          ? 'default'\n                          : 'destructive'\n                      }\n                    >\n                      {audit.last_run_status}\n                    </Badge>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\ninterface NotificationCardProps {\n  notification: SEONotification;\n  onDismiss: (id: string) => void;\n  getSeverityIcon: (severity: string) => JSX.Element;\n  getSeverityBadge: (severity: string) => JSX.Element;\n}\n\nconst NotificationCard = ({\n  notification,\n  onDismiss,\n  getSeverityIcon,\n  getSeverityBadge,\n}: NotificationCardProps) => {\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex items-center gap-2\">\n            {getSeverityIcon(notification.severity)}\n            <div>\n              <CardTitle className=\"text-lg\">{notification.title}</CardTitle>\n              <CardDescription>\n                {formatDistanceToNow(new Date(notification.created_at), {\n                  addSuffix: true,\n                })}\n              </CardDescription>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            {getSeverityBadge(notification.severity)}\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={() => onDismiss(notification.id)}\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <p className=\"text-sm mb-4\">{notification.message}</p>\n\n        {/* Additional data */}\n        {notification.data && (\n          <div className=\"space-y-2\">\n            {notification.data.critical_issues && (\n              <div>\n                <h5 className=\"font-semibold text-sm mb-1\">Critical Issues:</h5>\n                <ul className=\"list-disc list-inside text-sm text-muted-foreground\">\n                  {notification.data.critical_issues.slice(0, 3).map((issue: string, idx: number) => (\n                    <li key={idx}>{issue}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {notification.data.warnings && (\n              <div>\n                <h5 className=\"font-semibold text-sm mb-1\">Warnings:</h5>\n                <ul className=\"list-disc list-inside text-sm text-muted-foreground\">\n                  {notification.data.warnings.slice(0, 3).map((warning: string, idx: number) => (\n                    <li key={idx}>{warning}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {notification.data.overall_score && (\n              <div className=\"flex items-center gap-2 mt-2\">\n                <span className=\"text-sm font-semibold\">Overall Score:</span>\n                <span className=\"text-lg font-bold\">\n                  {notification.data.overall_score}/100\n                </span>\n              </div>\n            )}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n","import { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n  Wand2,\n  Plus,\n  CheckCircle2,\n  XCircle,\n  Clock,\n  RotateCcw,\n  Trash2,\n  Edit,\n  Play,\n  Pause,\n} from \"lucide-react\";\nimport { formatDistanceToNow } from \"date-fns\";\n\ninterface AutoFixRule {\n  id: string;\n  name: string;\n  description: string;\n  issue_type: string;\n  conditions: any;\n  fix_action: any;\n  requires_approval: boolean;\n  auto_apply: boolean;\n  priority: number;\n  applied_count: number;\n  success_count: number;\n  failure_count: number;\n  active: boolean;\n  created_at: string;\n}\n\ninterface AutoFixHistory {\n  id: string;\n  rule_id: string;\n  issue_type: string;\n  fix_applied: any;\n  result: string;\n  error_message?: string;\n  applied_at: string;\n}\n\nconst ISSUE_TYPES = [\n  { value: 'missing_meta_description', label: 'Missing Meta Description' },\n  { value: 'missing_alt_text', label: 'Missing Alt Text' },\n  { value: 'broken_link', label: 'Broken Link' },\n  { value: 'missing_h1', label: 'Missing H1' },\n  { value: 'duplicate_title', label: 'Duplicate Title' },\n  { value: 'thin_content', label: 'Thin Content' },\n  { value: 'slow_page', label: 'Slow Page Speed' },\n  { value: 'missing_schema', label: 'Missing Schema Markup' },\n];\n\nconst FIX_ACTIONS = [\n  { value: 'generate_meta_description', label: 'Generate Meta Description (AI)' },\n  { value: 'generate_alt_text', label: 'Generate Alt Text (AI)' },\n  { value: 'update_link', label: 'Update Link' },\n  { value: 'add_schema_markup', label: 'Add Schema Markup' },\n  { value: 'optimize_image', label: 'Optimize Image' },\n  { value: 'fix_heading_structure', label: 'Fix Heading Structure' },\n];\n\nexport const AutoFixEngine = () => {\n  const { toast } = useToast();\n  const [rules, setRules] = useState<AutoFixRule[]>([]);\n  const [history, setHistory] = useState<AutoFixHistory[]>([]);\n  const [pendingApprovals, setPendingApprovals] = useState<AutoFixHistory[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n\n  // Form state\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    issue_type: '',\n    fix_action: '',\n    requires_approval: true,\n    auto_apply: false,\n    priority: 50,\n  });\n\n  useEffect(() => {\n    loadRules();\n    loadHistory();\n    loadPendingApprovals();\n  }, []);\n\n  const loadRules = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('seo_autofix_rules')\n        .select('*')\n        .order('priority', { ascending: false });\n\n      if (error) throw error;\n      setRules(data || []);\n    } catch (error: any) {\n      console.error('Error loading rules:', error);\n    }\n  };\n\n  const loadHistory = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('seo_autofix_history')\n        .select('*')\n        .order('applied_at', { ascending: false })\n        .limit(50);\n\n      if (error) throw error;\n      setHistory(data || []);\n    } catch (error: any) {\n      console.error('Error loading history:', error);\n    }\n  };\n\n  const loadPendingApprovals = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('seo_autofix_history')\n        .select('*')\n        .eq('result', 'pending_approval')\n        .order('applied_at', { ascending: false });\n\n      if (error) throw error;\n      setPendingApprovals(data || []);\n    } catch (error: any) {\n      console.error('Error loading pending approvals:', error);\n    }\n  };\n\n  const createRule = async () => {\n    if (!formData.name || !formData.issue_type || !formData.fix_action) {\n      toast({\n        title: \"Missing Fields\",\n        description: \"Please fill in all required fields\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('seo_autofix_rules')\n        .insert([\n          {\n            name: formData.name,\n            description: formData.description,\n            issue_type: formData.issue_type,\n            conditions: {},\n            fix_action: { action: formData.fix_action },\n            requires_approval: formData.requires_approval,\n            auto_apply: formData.auto_apply,\n            priority: formData.priority,\n          },\n        ])\n        .select();\n\n      if (error) throw error;\n\n      toast({\n        title: \"Rule Created\",\n        description: \"Auto-fix rule has been created successfully\",\n      });\n\n      setIsDialogOpen(false);\n      setFormData({\n        name: '',\n        description: '',\n        issue_type: '',\n        fix_action: '',\n        requires_approval: true,\n        auto_apply: false,\n        priority: 50,\n      });\n\n      await loadRules();\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const toggleRuleActive = async (ruleId: string, currentActive: boolean) => {\n    try {\n      const { error } = await supabase\n        .from('seo_autofix_rules')\n        .update({ active: !currentActive })\n        .eq('id', ruleId);\n\n      if (error) throw error;\n\n      toast({\n        title: currentActive ? \"Rule Disabled\" : \"Rule Enabled\",\n        description: `Auto-fix rule has been ${currentActive ? 'disabled' : 'enabled'}`,\n      });\n\n      await loadRules();\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const deleteRule = async (ruleId: string) => {\n    if (!confirm('Are you sure you want to delete this rule?')) return;\n\n    try {\n      const { error } = await supabase\n        .from('seo_autofix_rules')\n        .delete()\n        .eq('id', ruleId);\n\n      if (error) throw error;\n\n      toast({\n        title: \"Rule Deleted\",\n        description: \"Auto-fix rule has been deleted\",\n      });\n\n      await loadRules();\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const approveFix = async (historyId: string) => {\n    try {\n      const { error } = await supabase\n        .from('seo_autofix_history')\n        .update({\n          result: 'success',\n          approved_by: (await supabase.auth.getUser()).data.user?.id,\n        })\n        .eq('id', historyId);\n\n      if (error) throw error;\n\n      toast({\n        title: \"Fix Approved\",\n        description: \"The fix has been approved and will be applied\",\n      });\n\n      loadPendingApprovals();\n      loadHistory();\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const rejectFix = async (historyId: string) => {\n    try {\n      const { error } = await supabase\n        .from('seo_autofix_history')\n        .update({ result: 'failed', error_message: 'Rejected by admin' })\n        .eq('id', historyId);\n\n      if (error) throw error;\n\n      toast({\n        title: \"Fix Rejected\",\n        description: \"The fix has been rejected\",\n      });\n\n      loadPendingApprovals();\n      loadHistory();\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const getResultIcon = (result: string) => {\n    switch (result) {\n      case 'success':\n        return <CheckCircle2 className=\"h-5 w-5 text-green-500\" />;\n      case 'failed':\n        return <XCircle className=\"h-5 w-5 text-red-500\" />;\n      case 'pending_approval':\n        return <Clock className=\"h-5 w-5 text-yellow-500\" />;\n      default:\n        return <Clock className=\"h-5 w-5 text-gray-500\" />;\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold flex items-center gap-2\">\n            <Wand2 className=\"h-6 w-6\" />\n            Auto-Fix Engine\n          </h2>\n          <p className=\"text-muted-foreground\">\n            Automatically detect and fix common SEO issues\n          </p>\n        </div>\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogTrigger asChild>\n            <Button>\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Create Rule\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl\">\n            <DialogHeader>\n              <DialogTitle>Create Auto-Fix Rule</DialogTitle>\n              <DialogDescription>\n                Define a rule to automatically fix SEO issues\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"space-y-4 py-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"rule-name\">Rule Name *</Label>\n                <Input\n                  id=\"rule-name\"\n                  placeholder=\"e.g., Auto-generate missing alt text\"\n                  value={formData.name}\n                  onChange={(e) =>\n                    setFormData({ ...formData, name: e.target.value })\n                  }\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"rule-description\">Description</Label>\n                <Textarea\n                  id=\"rule-description\"\n                  placeholder=\"Describe what this rule does...\"\n                  value={formData.description}\n                  onChange={(e) =>\n                    setFormData({ ...formData, description: e.target.value })\n                  }\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"issue-type\">Issue Type *</Label>\n                  <Select\n                    value={formData.issue_type}\n                    onValueChange={(value) =>\n                      setFormData({ ...formData, issue_type: value })\n                    }\n                  >\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select issue type\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {ISSUE_TYPES.map((type) => (\n                        <SelectItem key={type.value} value={type.value}>\n                          {type.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"fix-action\">Fix Action *</Label>\n                  <Select\n                    value={formData.fix_action}\n                    onValueChange={(value) =>\n                      setFormData({ ...formData, fix_action: value })\n                    }\n                  >\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select fix action\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {FIX_ACTIONS.map((action) => (\n                        <SelectItem key={action.value} value={action.value}>\n                          {action.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"priority\">Priority (0-100)</Label>\n                <Input\n                  id=\"priority\"\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"100\"\n                  value={formData.priority}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      priority: parseInt(e.target.value) || 50,\n                    })\n                  }\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Higher priority rules are executed first\n                </p>\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  <Switch\n                    id=\"requires-approval\"\n                    checked={formData.requires_approval}\n                    onCheckedChange={(checked) =>\n                      setFormData({ ...formData, requires_approval: checked })\n                    }\n                  />\n                  <Label htmlFor=\"requires-approval\">Requires Approval</Label>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <Switch\n                    id=\"auto-apply\"\n                    checked={formData.auto_apply}\n                    onCheckedChange={(checked) =>\n                      setFormData({ ...formData, auto_apply: checked })\n                    }\n                    disabled={formData.requires_approval}\n                  />\n                  <Label htmlFor=\"auto-apply\">Auto Apply</Label>\n                </div>\n              </div>\n            </div>\n            <DialogFooter>\n              <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n                Cancel\n              </Button>\n              <Button onClick={createRule} disabled={loading}>\n                {loading ? \"Creating...\" : \"Create Rule\"}\n              </Button>\n            </DialogFooter>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid gap-4 md:grid-cols-4\">\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm\">Active Rules</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold\">\n              {rules.filter((r) => r.active).length}\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm\">Pending Approvals</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-yellow-600\">\n              {pendingApprovals.length}\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm\">Total Fixes Applied</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-blue-600\">\n              {rules.reduce((sum, r) => sum + r.applied_count, 0)}\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm\">Success Rate</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-green-600\">\n              {rules.reduce((sum, r) => sum + r.applied_count, 0) > 0\n                ? Math.round(\n                    (rules.reduce((sum, r) => sum + r.success_count, 0) /\n                      rules.reduce((sum, r) => sum + r.applied_count, 0)) *\n                      100\n                  )\n                : 0}\n              %\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Tabs */}\n      <Tabs defaultValue=\"rules\" className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-3\">\n          <TabsTrigger value=\"rules\">\n            Rules ({rules.length})\n          </TabsTrigger>\n          <TabsTrigger value=\"approvals\">\n            Pending Approvals ({pendingApprovals.length})\n          </TabsTrigger>\n          <TabsTrigger value=\"history\">\n            History ({history.length})\n          </TabsTrigger>\n        </TabsList>\n\n        {/* Rules Tab */}\n        <TabsContent value=\"rules\" className=\"space-y-4\">\n          {rules.length === 0 ? (\n            <Card>\n              <CardContent className=\"pt-6 text-center text-muted-foreground\">\n                <Wand2 className=\"h-12 w-12 mx-auto mb-2 text-gray-400\" />\n                <p>No auto-fix rules created yet</p>\n                <Button className=\"mt-4\" onClick={() => setIsDialogOpen(true)}>\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Create Your First Rule\n                </Button>\n              </CardContent>\n            </Card>\n          ) : (\n            rules.map((rule) => (\n              <Card key={rule.id}>\n                <CardHeader>\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <CardTitle className=\"flex items-center gap-2\">\n                        {rule.name}\n                        <Badge variant={rule.active ? \"default\" : \"secondary\"}>\n                          {rule.active ? <Play className=\"h-3 w-3 mr-1\" /> : <Pause className=\"h-3 w-3 mr-1\" />}\n                          {rule.active ? \"Active\" : \"Inactive\"}\n                        </Badge>\n                        <Badge variant=\"outline\">Priority: {rule.priority}</Badge>\n                      </CardTitle>\n                      <CardDescription>{rule.description}</CardDescription>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => toggleRuleActive(rule.id, rule.active)}\n                      >\n                        {rule.active ? <Pause className=\"h-4 w-4\" /> : <Play className=\"h-4 w-4\" />}\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => deleteRule(rule.id)}\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                    <div>\n                      <p className=\"text-muted-foreground\">Issue Type</p>\n                      <p className=\"font-semibold\">\n                        {ISSUE_TYPES.find((t) => t.value === rule.issue_type)?.label || rule.issue_type}\n                      </p>\n                    </div>\n                    <div>\n                      <p className=\"text-muted-foreground\">Applied</p>\n                      <p className=\"font-semibold\">{rule.applied_count}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-muted-foreground\">Success</p>\n                      <p className=\"font-semibold text-green-600\">{rule.success_count}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-muted-foreground\">Failed</p>\n                      <p className=\"font-semibold text-red-600\">{rule.failure_count}</p>\n                    </div>\n                  </div>\n                  <div className=\"mt-4 flex gap-2\">\n                    {rule.requires_approval && (\n                      <Badge variant=\"outline\">Requires Approval</Badge>\n                    )}\n                    {rule.auto_apply && (\n                      <Badge variant=\"outline\">Auto Apply</Badge>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            ))\n          )}\n        </TabsContent>\n\n        {/* Pending Approvals Tab */}\n        <TabsContent value=\"approvals\" className=\"space-y-4\">\n          {pendingApprovals.length === 0 ? (\n            <Card>\n              <CardContent className=\"pt-6 text-center text-muted-foreground\">\n                <CheckCircle2 className=\"h-12 w-12 mx-auto mb-2 text-green-500\" />\n                <p>No pending approvals</p>\n              </CardContent>\n            </Card>\n          ) : (\n            pendingApprovals.map((approval) => (\n              <Card key={approval.id}>\n                <CardHeader>\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <CardTitle className=\"flex items-center gap-2\">\n                        {getResultIcon(approval.result)}\n                        Pending Fix Approval\n                      </CardTitle>\n                      <CardDescription>\n                        {formatDistanceToNow(new Date(approval.applied_at), {\n                          addSuffix: true,\n                        })}\n                      </CardDescription>\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <Button\n                        size=\"sm\"\n                        variant=\"outline\"\n                        onClick={() => approveFiximestamp(approval.id)}\n                      >\n                        <CheckCircle2 className=\"h-4 w-4 mr-1\" />\n                        Approve\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        variant=\"destructive\"\n                        onClick={() => rejectFix(approval.id)}\n                      >\n                        <XCircle className=\"h-4 w-4 mr-1\" />\n                        Reject\n                      </Button>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-2\">\n                    <div>\n                      <p className=\"text-sm font-semibold\">Issue Type:</p>\n                      <p className=\"text-sm text-muted-foreground\">{approval.issue_type}</p>\n                    </div>\n                    {approval.fix_applied && (\n                      <div>\n                        <p className=\"text-sm font-semibold\">Proposed Fix:</p>\n                        <pre className=\"text-xs bg-muted p-2 rounded-md mt-1 overflow-auto\">\n                          {JSON.stringify(approval.fix_applied, null, 2)}\n                        </pre>\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            ))\n          )}\n        </TabsContent>\n\n        {/* History Tab */}\n        <TabsContent value=\"history\" className=\"space-y-4\">\n          {history.length === 0 ? (\n            <Card>\n              <CardContent className=\"pt-6 text-center text-muted-foreground\">\n                <Clock className=\"h-12 w-12 mx-auto mb-2 text-gray-400\" />\n                <p>No fix history yet</p>\n              </CardContent>\n            </Card>\n          ) : (\n            history.map((item) => (\n              <Card key={item.id}>\n                <CardHeader>\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <CardTitle className=\"flex items-center gap-2\">\n                        {getResultIcon(item.result)}\n                        {item.issue_type}\n                      </CardTitle>\n                      <CardDescription>\n                        {formatDistanceToNow(new Date(item.applied_at), {\n                          addSuffix: true,\n                        })}\n                      </CardDescription>\n                    </div>\n                    <Badge\n                      variant={\n                        item.result === 'success'\n                          ? 'default'\n                          : item.result === 'failed'\n                          ? 'destructive'\n                          : 'secondary'\n                      }\n                    >\n                      {item.result}\n                    </Badge>\n                  </div>\n                </CardHeader>\n                {item.error_message && (\n                  <CardContent>\n                    <p className=\"text-sm text-red-600\">{item.error_message}</p>\n                  </CardContent>\n                )}\n              </Card>\n            ))\n          )}\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n};\n","import { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { edgeFunctions } from \"@/lib/edgeFunctions\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  TrendingUp,\n  TrendingDown,\n  Minus,\n  RefreshCw,\n  Search,\n  AlertCircle,\n} from \"lucide-react\";\nimport { Line, LineChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from \"recharts\";\n\ninterface Keyword {\n  id: string;\n  keyword: string;\n  current_position: number;\n  previous_position: number;\n  search_volume: number;\n  difficulty: number;\n  url: string;\n  last_checked: string;\n  created_at: string;\n}\n\ninterface KeywordHistory {\n  keyword: string;\n  position: number;\n  checked_at: string;\n}\n\nexport const KeywordsTracker = () => {\n  const { toast } = useToast();\n  const [keywords, setKeywords] = useState<Keyword[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedKeyword, setSelectedKeyword] = useState<Keyword | null>(null);\n  const [keywordHistory, setKeywordHistory] = useState<KeywordHistory[]>([]);\n\n  useEffect(() => {\n    loadKeywords();\n  }, []);\n\n  const loadKeywords = async () => {\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('seo_keywords')\n        .select('*')\n        .order('current_position', { ascending: true });\n\n      if (error) throw error;\n      setKeywords(data || []);\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadKeywordHistory = async (keyword: string) => {\n    try {\n      const { data, error } = await supabase\n        .from('seo_keyword_history')\n        .select('keyword, position, checked_at')\n        .eq('keyword', keyword)\n        .order('checked_at', { ascending: true })\n        .limit(30);\n\n      if (error) throw error;\n      setKeywordHistory(data || []);\n    } catch (error: any) {\n      console.error('Error loading keyword history:', error);\n    }\n  };\n\n  const checkKeywordPositions = async () => {\n    setLoading(true);\n    try {\n      const { error } = await edgeFunctions.invoke('check-keyword-positions', {\n        body: {},\n      });\n\n      if (error) throw error;\n\n      toast({\n        title: \"Positions Updated\",\n        description: \"Keyword positions have been refreshed\",\n      });\n\n      await loadKeywords();\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getTrendIcon = (current: number, previous: number) => {\n    if (current < previous) {\n      return <TrendingUp className=\"h-4 w-4 text-green-500\" />;\n    } else if (current > previous) {\n      return <TrendingDown className=\"h-4 w-4 text-red-500\" />;\n    } else {\n      return <Minus className=\"h-4 w-4 text-gray-500\" />;\n    }\n  };\n\n  const getPositionChange = (current: number, previous: number) => {\n    const change = previous - current;\n    if (change > 0) {\n      return <span className=\"text-green-600\">+{change}</span>;\n    } else if (change < 0) {\n      return <span className=\"text-red-600\">{change}</span>;\n    } else {\n      return <span className=\"text-gray-500\">0</span>;\n    }\n  };\n\n  const getDifficultyBadge = (difficulty: number) => {\n    if (difficulty >= 70) return <Badge variant=\"destructive\">Hard</Badge>;\n    if (difficulty >= 40) return <Badge variant=\"default\">Medium</Badge>;\n    return <Badge variant=\"secondary\">Easy</Badge>;\n  };\n\n  const filteredKeywords = keywords.filter(kw =>\n    kw.keyword.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const topMovers = keywords\n    .filter(kw => kw.previous_position && kw.current_position !== kw.previous_position)\n    .sort((a, b) => (b.previous_position - b.current_position) - (a.previous_position - a.current_position))\n    .slice(0, 5);\n\n  const topRanked = keywords.filter(kw => kw.current_position <= 10);\n  const needsAttention = keywords.filter(kw => kw.current_position > 20 && kw.search_volume > 100);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-2xl font-bold\">Keywords Tracker</h3>\n          <p className=\"text-muted-foreground\">\n            Monitor keyword rankings and track position changes\n          </p>\n        </div>\n        <Button onClick={checkKeywordPositions} disabled={loading}>\n          <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n          Check Positions\n        </Button>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid gap-4 md:grid-cols-4\">\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm\">Total Keywords</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold\">{keywords.length}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">Being tracked</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm\">Top 10 Rankings</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-green-600\">\n              {topRanked.length}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Keywords in top 10\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm\">Biggest Gain</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {topMovers.length > 0 && topMovers[0].current_position < topMovers[0].previous_position ? (\n              <>\n                <div className=\"text-3xl font-bold text-green-600\">\n                  +{topMovers[0].previous_position - topMovers[0].current_position}\n                </div>\n                <p className=\"text-xs text-muted-foreground mt-1\">\n                  {topMovers[0].keyword}\n                </p>\n              </>\n            ) : (\n              <div className=\"text-3xl font-bold text-gray-400\">-</div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm flex items-center gap-1\">\n              <AlertCircle className=\"h-4 w-4\" />\n              Needs Attention\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-yellow-600\">\n              {needsAttention.length}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Keywords to optimize\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Search */}\n      <div className=\"flex gap-4\">\n        <div className=\"relative flex-1\">\n          <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n          <Input\n            placeholder=\"Search keywords...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-9\"\n          />\n        </div>\n      </div>\n\n      {/* Keywords Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle>All Keywords</CardTitle>\n          <CardDescription>\n            {filteredKeywords.length} keywords found\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"overflow-auto\">\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>Keyword</TableHead>\n                  <TableHead>Position</TableHead>\n                  <TableHead>Change</TableHead>\n                  <TableHead>Search Volume</TableHead>\n                  <TableHead>Difficulty</TableHead>\n                  <TableHead>URL</TableHead>\n                  <TableHead>Last Checked</TableHead>\n                  <TableHead>Actions</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {filteredKeywords.length === 0 ? (\n                  <TableRow>\n                    <TableCell colSpan={8} className=\"text-center text-muted-foreground\">\n                      No keywords found\n                    </TableCell>\n                  </TableRow>\n                ) : (\n                  filteredKeywords.map((keyword) => (\n                    <TableRow key={keyword.id}>\n                      <TableCell className=\"font-medium\">{keyword.keyword}</TableCell>\n                      <TableCell>\n                        <Badge variant={keyword.current_position <= 10 ? \"default\" : \"outline\"}>\n                          #{keyword.current_position}\n                        </Badge>\n                      </TableCell>\n                      <TableCell>\n                        <div className=\"flex items-center gap-1\">\n                          {getTrendIcon(keyword.current_position, keyword.previous_position || keyword.current_position)}\n                          {getPositionChange(keyword.current_position, keyword.previous_position || keyword.current_position)}\n                        </div>\n                      </TableCell>\n                      <TableCell>{keyword.search_volume?.toLocaleString() || 'N/A'}</TableCell>\n                      <TableCell>{getDifficultyBadge(keyword.difficulty || 0)}</TableCell>\n                      <TableCell className=\"max-w-xs truncate\">\n                        {keyword.url || '-'}\n                      </TableCell>\n                      <TableCell>\n                        {keyword.last_checked\n                          ? new Date(keyword.last_checked).toLocaleDateString()\n                          : 'Never'}\n                      </TableCell>\n                      <TableCell>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => {\n                            setSelectedKeyword(keyword);\n                            loadKeywordHistory(keyword.keyword);\n                          }}\n                        >\n                          View History\n                        </Button>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Keyword History Modal/Card */}\n      {selectedKeyword && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Position History: {selectedKeyword.keyword}</CardTitle>\n            <CardDescription>\n              Ranking positions over the last 30 checks\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            {keywordHistory.length > 0 ? (\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <LineChart data={keywordHistory}>\n                  <XAxis\n                    dataKey=\"checked_at\"\n                    tickFormatter={(date) => new Date(date).toLocaleDateString()}\n                  />\n                  <YAxis reversed domain={[0, 100]} />\n                  <Tooltip\n                    labelFormatter={(date) => new Date(date).toLocaleDateString()}\n                    formatter={(value: number) => [`Position ${value}`, 'Rank']}\n                  />\n                  <Line\n                    type=\"monotone\"\n                    dataKey=\"position\"\n                    stroke=\"#2563eb\"\n                    strokeWidth={2}\n                    dot={{ r: 4 }}\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            ) : (\n              <p className=\"text-center text-muted-foreground py-8\">\n                No history available for this keyword\n              </p>\n            )}\n            <div className=\"mt-4\">\n              <Button variant=\"outline\" onClick={() => setSelectedKeyword(null)}>\n                Close\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Top Movers */}\n      {topMovers.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Top Movers</CardTitle>\n            <CardDescription>\n              Keywords with the biggest position changes\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {topMovers.map((keyword) => (\n                <div\n                  key={keyword.id}\n                  className=\"flex items-center justify-between p-3 border rounded-lg\"\n                >\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-semibold\">{keyword.keyword}</h4>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Position: #{keyword.current_position}\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    {getTrendIcon(keyword.current_position, keyword.previous_position)}\n                    <div className=\"text-right\">\n                      <div className=\"font-bold\">\n                        {getPositionChange(keyword.current_position, keyword.previous_position)}\n                      </div>\n                      <div className=\"text-xs text-muted-foreground\">\n                        {keyword.previous_position}  {keyword.current_position}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n};\n","import { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n  Users,\n  Plus,\n  TrendingUp,\n  TrendingDown,\n  AlertCircle,\n  ExternalLink,\n  Trash2,\n  RefreshCw,\n} from \"lucide-react\";\n\ninterface CompetitorTracking {\n  id: string;\n  competitor_domain: string;\n  competitor_name: string;\n  keywords: string[];\n  check_frequency: string;\n  last_checked_at: string;\n  alert_on_rank_change: boolean;\n  alert_on_new_backlinks: boolean;\n  rank_change_threshold: number;\n  active: boolean;\n  created_at: string;\n}\n\ninterface CompetitorAnalysis {\n  id: string;\n  competitor_domain: string;\n  keyword: string;\n  their_position: number;\n  our_position: number;\n  gap: number;\n  search_volume: number;\n  analyzed_at: string;\n}\n\nexport const CompetitorMatrix = () => {\n  const { toast } = useToast();\n  const [competitors, setCompetitors] = useState<CompetitorTracking[]>([]);\n  const [analysis, setAnalysis] = useState<CompetitorAnalysis[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n\n  // Form state\n  const [formData, setFormData] = useState({\n    competitor_domain: '',\n    competitor_name: '',\n    keywords: '',\n    check_frequency: 'weekly',\n    alert_on_rank_change: true,\n    alert_on_new_backlinks: true,\n    rank_change_threshold: 5,\n  });\n\n  useEffect(() => {\n    loadCompetitors();\n    loadAnalysis();\n  }, []);\n\n  const loadCompetitors = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('seo_competitor_tracking')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      setCompetitors(data || []);\n    } catch (error: any) {\n      console.error('Error loading competitors:', error);\n    }\n  };\n\n  const loadAnalysis = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('seo_competitor_analysis')\n        .select('*')\n        .order('analyzed_at', { ascending: false })\n        .limit(100);\n\n      if (error) throw error;\n      setAnalysis(data || []);\n    } catch (error: any) {\n      console.error('Error loading analysis:', error);\n    }\n  };\n\n  const addCompetitor = async () => {\n    if (!formData.competitor_domain) {\n      toast({\n        title: \"Domain Required\",\n        description: \"Please enter a competitor domain\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const keywordsArray = formData.keywords\n        .split(',')\n        .map(k => k.trim())\n        .filter(k => k.length > 0);\n\n      const { error } = await supabase\n        .from('seo_competitor_tracking')\n        .insert([\n          {\n            competitor_domain: formData.competitor_domain,\n            competitor_name: formData.competitor_name || formData.competitor_domain,\n            keywords: keywordsArray,\n            check_frequency: formData.check_frequency,\n            alert_on_rank_change: formData.alert_on_rank_change,\n            alert_on_new_backlinks: formData.alert_on_new_backlinks,\n            rank_change_threshold: formData.rank_change_threshold,\n          },\n        ]);\n\n      if (error) throw error;\n\n      toast({\n        title: \"Competitor Added\",\n        description: \"Competitor tracking has been configured\",\n      });\n\n      setIsDialogOpen(false);\n      setFormData({\n        competitor_domain: '',\n        competitor_name: '',\n        keywords: '',\n        check_frequency: 'weekly',\n        alert_on_rank_change: true,\n        alert_on_new_backlinks: true,\n        rank_change_threshold: 5,\n      });\n\n      await loadCompetitors();\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteCompetitor = async (id: string) => {\n    if (!confirm('Are you sure you want to stop tracking this competitor?')) return;\n\n    try {\n      const { error } = await supabase\n        .from('seo_competitor_tracking')\n        .delete()\n        .eq('id', id);\n\n      if (error) throw error;\n\n      toast({\n        title: \"Competitor Removed\",\n        description: \"Competitor tracking has been stopped\",\n      });\n\n      await loadCompetitors();\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const refreshAnalysis = async () => {\n    setLoading(true);\n    try {\n      // This would call an edge function to refresh competitor analysis\n      toast({\n        title: \"Analysis Refreshing\",\n        description: \"Competitor analysis is being updated...\",\n      });\n\n      // Simulate refresh - in production, call edge function\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      await loadAnalysis();\n\n      toast({\n        title: \"Analysis Complete\",\n        description: \"Competitor data has been refreshed\",\n      });\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Calculate insights\n  const keywordGaps = analysis.filter(a => a.gap < 0 && Math.abs(a.gap) <= 10);\n  const winningKeywords = analysis.filter(a => a.gap > 0 && a.our_position <= 10);\n  const opportunityKeywords = analysis.filter(\n    a => a.their_position <= 10 && a.our_position > 10 && a.search_volume > 100\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-2xl font-bold flex items-center gap-2\">\n            <Users className=\"h-6 w-6\" />\n            Competitor Matrix\n          </h3>\n          <p className=\"text-muted-foreground\">\n            Monitor competitor rankings and identify opportunities\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={refreshAnalysis} disabled={loading}>\n            <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n            Refresh\n          </Button>\n          <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n            <DialogTrigger asChild>\n              <Button>\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Add Competitor\n              </Button>\n            </DialogTrigger>\n            <DialogContent>\n              <DialogHeader>\n                <DialogTitle>Add Competitor</DialogTitle>\n                <DialogDescription>\n                  Configure automated competitor tracking\n                </DialogDescription>\n              </DialogHeader>\n              <div className=\"space-y-4 py-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"domain\">Competitor Domain *</Label>\n                  <Input\n                    id=\"domain\"\n                    placeholder=\"competitor.com\"\n                    value={formData.competitor_domain}\n                    onChange={(e) =>\n                      setFormData({ ...formData, competitor_domain: e.target.value })\n                    }\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"name\">Competitor Name</Label>\n                  <Input\n                    id=\"name\"\n                    placeholder=\"Competitor Inc.\"\n                    value={formData.competitor_name}\n                    onChange={(e) =>\n                      setFormData({ ...formData, competitor_name: e.target.value })\n                    }\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"keywords\">Keywords to Track</Label>\n                  <Input\n                    id=\"keywords\"\n                    placeholder=\"keyword1, keyword2, keyword3\"\n                    value={formData.keywords}\n                    onChange={(e) =>\n                      setFormData({ ...formData, keywords: e.target.value })\n                    }\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    Comma-separated list of keywords\n                  </p>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"threshold\">Rank Change Alert Threshold</Label>\n                  <Input\n                    id=\"threshold\"\n                    type=\"number\"\n                    value={formData.rank_change_threshold}\n                    onChange={(e) =>\n                      setFormData({\n                        ...formData,\n                        rank_change_threshold: parseInt(e.target.value) || 5,\n                      })\n                    }\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    Alert when position changes by more than this number\n                  </p>\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"rank-alert\">Alert on Rank Changes</Label>\n                  <Switch\n                    id=\"rank-alert\"\n                    checked={formData.alert_on_rank_change}\n                    onCheckedChange={(checked) =>\n                      setFormData({ ...formData, alert_on_rank_change: checked })\n                    }\n                  />\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"backlink-alert\">Alert on New Backlinks</Label>\n                  <Switch\n                    id=\"backlink-alert\"\n                    checked={formData.alert_on_new_backlinks}\n                    onCheckedChange={(checked) =>\n                      setFormData({ ...formData, alert_on_new_backlinks: checked })\n                    }\n                  />\n                </div>\n              </div>\n              <DialogFooter>\n                <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n                  Cancel\n                </Button>\n                <Button onClick={addCompetitor} disabled={loading}>\n                  {loading ? \"Adding...\" : \"Add Competitor\"}\n                </Button>\n              </DialogFooter>\n            </DialogContent>\n          </Dialog>\n        </div>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid gap-4 md:grid-cols-4\">\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm\">Tracked Competitors</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold\">{competitors.length}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">Being monitored</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm\">Keyword Gaps</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-yellow-600\">\n              {keywordGaps.length}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Close to outranking\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm\">Winning Keywords</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-green-600\">\n              {winningKeywords.length}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Outranking competitors\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm flex items-center gap-1\">\n              <TrendingUp className=\"h-4 w-4\" />\n              Opportunities\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-blue-600\">\n              {opportunityKeywords.length}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              High-value targets\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Tracked Competitors */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Tracked Competitors</CardTitle>\n          <CardDescription>\n            {competitors.length} competitors being monitored\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {competitors.length === 0 ? (\n            <div className=\"text-center text-muted-foreground py-8\">\n              <Users className=\"h-12 w-12 mx-auto mb-2 text-gray-400\" />\n              <p>No competitors tracked yet</p>\n              <Button className=\"mt-4\" onClick={() => setIsDialogOpen(true)}>\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Add Your First Competitor\n              </Button>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {competitors.map((competitor) => (\n                <div\n                  key={competitor.id}\n                  className=\"flex items-center justify-between p-4 border rounded-lg\"\n                >\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2\">\n                      <h4 className=\"font-semibold\">{competitor.competitor_name}</h4>\n                      <a\n                        href={`https://${competitor.competitor_domain}`}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"text-muted-foreground hover:text-foreground\"\n                      >\n                        <ExternalLink className=\"h-4 w-4\" />\n                      </a>\n                      <Badge variant={competitor.active ? \"default\" : \"secondary\"}>\n                        {competitor.active ? \"Active\" : \"Paused\"}\n                      </Badge>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground mt-1\">\n                      {competitor.competitor_domain}\n                    </p>\n                    <div className=\"flex gap-2 mt-2\">\n                      <Badge variant=\"outline\">\n                        {competitor.keywords?.length || 0} keywords\n                      </Badge>\n                      <Badge variant=\"outline\">\n                        Check {competitor.check_frequency}\n                      </Badge>\n                      {competitor.alert_on_rank_change && (\n                        <Badge variant=\"outline\">\n                          <AlertCircle className=\"h-3 w-3 mr-1\" />\n                          Rank alerts\n                        </Badge>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"text-right mr-4\">\n                      <p className=\"text-sm text-muted-foreground\">Last checked</p>\n                      <p className=\"text-sm font-semibold\">\n                        {competitor.last_checked_at\n                          ? new Date(competitor.last_checked_at).toLocaleDateString()\n                          : 'Never'}\n                      </p>\n                    </div>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={() => deleteCompetitor(competitor.id)}\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Opportunity Keywords */}\n      {opportunityKeywords.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Top Opportunities</CardTitle>\n            <CardDescription>\n              High-value keywords where competitors rank well and you don't\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>Keyword</TableHead>\n                  <TableHead>Competitor</TableHead>\n                  <TableHead>Their Position</TableHead>\n                  <TableHead>Your Position</TableHead>\n                  <TableHead>Gap</TableHead>\n                  <TableHead>Search Volume</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {opportunityKeywords.slice(0, 10).map((item) => (\n                  <TableRow key={item.id}>\n                    <TableCell className=\"font-medium\">{item.keyword}</TableCell>\n                    <TableCell>{item.competitor_domain}</TableCell>\n                    <TableCell>\n                      <Badge variant=\"default\">#{item.their_position}</Badge>\n                    </TableCell>\n                    <TableCell>\n                      <Badge variant=\"outline\">#{item.our_position}</Badge>\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"flex items-center gap-1 text-red-600\">\n                        <TrendingDown className=\"h-4 w-4\" />\n                        {item.gap}\n                      </div>\n                    </TableCell>\n                    <TableCell>{item.search_volume?.toLocaleString() || 'N/A'}</TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Keyword Gaps */}\n      {keywordGaps.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Close Keyword Gaps</CardTitle>\n            <CardDescription>\n              Keywords where you're close to outranking competitors\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {keywordGaps.slice(0, 5).map((item) => (\n                <div\n                  key={item.id}\n                  className=\"flex items-center justify-between p-3 border rounded-lg\"\n                >\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-semibold\">{item.keyword}</h4>\n                    <p className=\"text-sm text-muted-foreground\">\n                      vs {item.competitor_domain}\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"text-center\">\n                      <div className=\"text-sm text-muted-foreground\">You</div>\n                      <Badge variant=\"outline\">#{item.our_position}</Badge>\n                    </div>\n                    <div className=\"text-yellow-600 font-bold\">\n                      {Math.abs(item.gap)} positions\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-sm text-muted-foreground\">Them</div>\n                      <Badge variant=\"default\">#{item.their_position}</Badge>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n};\n","import { useState } from \"react\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { edgeFunctions } from \"@/lib/edgeFunctions\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n  Search,\n  BarChart3,\n  Users,\n  FileText,\n  Bell,\n  FileCode,\n  Bot,\n  Map,\n  Link,\n  Database,\n  Zap,\n  TrendingUp,\n  Shield,\n  ExternalLink,\n  Image,\n  Repeat,\n  Copy,\n  Smartphone,\n  Clock,\n  Globe,\n  Code,\n  Activity,\n  Wand2,\n} from \"lucide-react\";\nimport { AlertsDashboard } from \"./seo/AlertsDashboard\";\nimport { AutoFixEngine } from \"./seo/AutoFixEngine\";\nimport { KeywordsTracker } from \"./seo/KeywordsTracker\";\nimport { CompetitorMatrix } from \"./seo/CompetitorMatrix\";\n\nexport const SEOManager = () => {\n  const { toast } = useToast();\n  const [loading, setLoading] = useState(false);\n  const [auditUrl, setAuditUrl] = useState(\"\");\n  const [auditResults, setAuditResults] = useState<any>(null);\n\n  const runSEOAudit = async () => {\n    if (!auditUrl) {\n      toast({\n        title: \"URL Required\",\n        description: \"Please enter a URL to audit\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const { data, error } = await edgeFunctions.invoke(\"seo-audit\", {\n        body: { url: auditUrl, auditType: \"full\", saveResults: true },\n      });\n\n      if (error) throw error;\n\n      setAuditResults(data.audit);\n      toast({\n        title: \"Audit Complete\",\n        description: `Overall score: ${data.audit.overallScore}/100`,\n      });\n    } catch (error: any) {\n      toast({\n        title: \"Audit Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-3xl font-bold mb-2\">SEO Management</h1>\n        <p className=\"text-muted-foreground\">\n          Comprehensive SEO tools and analytics for your website\n        </p>\n      </div>\n\n      <Tabs defaultValue=\"alerts\" className=\"w-full\">\n        {/* Automation & Alerts Row */}\n        <TabsList className=\"grid grid-cols-4 lg:grid-cols-4 gap-2 h-auto mb-2\">\n          <TabsTrigger value=\"alerts\" className=\"flex items-center gap-2\">\n            <Bell className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Alerts</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"autofix\" className=\"flex items-center gap-2\">\n            <Wand2 className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Auto-Fix</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"keywords\" className=\"flex items-center gap-2\">\n            <BarChart3 className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Keywords</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"competitors\" className=\"flex items-center gap-2\">\n            <Users className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Competitors</span>\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsList className=\"grid grid-cols-6 lg:grid-cols-11 gap-2 h-auto\">\n          <TabsTrigger value=\"audit\" className=\"flex items-center gap-2\">\n            <Search className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Audit</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"pages\" className=\"flex items-center gap-2\">\n            <FileText className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Pages</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"monitoring\" className=\"flex items-center gap-2\">\n            <Bell className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Monitoring</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"meta\" className=\"flex items-center gap-2\">\n            <FileCode className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Meta Tags</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"robots\" className=\"flex items-center gap-2\">\n            <Bot className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">robots.txt</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"sitemap\" className=\"flex items-center gap-2\">\n            <Map className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Sitemap</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"structured\" className=\"flex items-center gap-2\">\n            <Database className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Schema</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"performance\" className=\"flex items-center gap-2\">\n            <Zap className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Performance</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"backlinks\" className=\"flex items-center gap-2\">\n            <TrendingUp className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Backlinks</span>\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsList className=\"grid grid-cols-6 lg:grid-cols-11 gap-2 h-auto mt-2\">\n          <TabsTrigger value=\"broken-links\" className=\"flex items-center gap-2\">\n            <ExternalLink className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Broken Links</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"link-structure\" className=\"flex items-center gap-2\">\n            <Link className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Links</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"content\" className=\"flex items-center gap-2\">\n            <FileText className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Content</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"crawler\" className=\"flex items-center gap-2\">\n            <Globe className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Crawler</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"images\" className=\"flex items-center gap-2\">\n            <Image className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Images</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"redirects\" className=\"flex items-center gap-2\">\n            <Repeat className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Redirects</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"duplicate\" className=\"flex items-center gap-2\">\n            <Copy className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Duplicates</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"security\" className=\"flex items-center gap-2\">\n            <Shield className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Security</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"mobile\" className=\"flex items-center gap-2\">\n            <Smartphone className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Mobile</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"budget\" className=\"flex items-center gap-2\">\n            <Clock className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Budget</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"semantic\" className=\"flex items-center gap-2\">\n            <Activity className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Semantic</span>\n          </TabsTrigger>\n        </TabsList>\n\n        {/* Audit Tab */}\n        <TabsContent value=\"audit\">\n          <Card>\n            <CardHeader>\n              <CardTitle>SEO Audit</CardTitle>\n              <CardDescription>\n                Run a comprehensive SEO audit on any URL\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                <div className=\"flex gap-4\">\n                  <div className=\"flex-1\">\n                    <Label htmlFor=\"audit-url\">URL to Audit</Label>\n                    <Input\n                      id=\"audit-url\"\n                      placeholder=\"https://example.com\"\n                      value={auditUrl}\n                      onChange={(e) => setAuditUrl(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"flex items-end\">\n                    <Button onClick={runSEOAudit} disabled={loading}>\n                      {loading ? \"Running...\" : \"Run Audit\"}\n                    </Button>\n                  </div>\n                </div>\n\n                {auditResults && (\n                  <div className=\"mt-6 grid gap-4 md:grid-cols-4\">\n                    <Card>\n                      <CardHeader className=\"pb-2\">\n                        <CardTitle className=\"text-sm\">Overall Score</CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <div className=\"text-3xl font-bold\">{auditResults.overallScore}/100</div>\n                      </CardContent>\n                    </Card>\n                    <Card>\n                      <CardHeader className=\"pb-2\">\n                        <CardTitle className=\"text-sm\">SEO Score</CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <div className=\"text-3xl font-bold\">{auditResults.seoScore}/100</div>\n                      </CardContent>\n                    </Card>\n                    <Card>\n                      <CardHeader className=\"pb-2\">\n                        <CardTitle className=\"text-sm\">Performance</CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <div className=\"text-3xl font-bold\">{auditResults.performanceScore}/100</div>\n                      </CardContent>\n                    </Card>\n                    <Card>\n                      <CardHeader className=\"pb-2\">\n                        <CardTitle className=\"text-sm\">Accessibility</CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <div className=\"text-3xl font-bold\">{auditResults.accessibilityScore}/100</div>\n                      </CardContent>\n                    </Card>\n                  </div>\n                )}\n\n                {auditResults && (\n                  <div className=\"mt-6 space-y-4\">\n                    {auditResults.criticalIssues.length > 0 && (\n                      <Card className=\"border-red-500\">\n                        <CardHeader>\n                          <CardTitle className=\"text-red-600\">Critical Issues ({auditResults.criticalIssues.length})</CardTitle>\n                        </CardHeader>\n                        <CardContent>\n                          <ul className=\"list-disc pl-5 space-y-1\">\n                            {auditResults.criticalIssues.map((issue: string, i: number) => (\n                              <li key={i} className=\"text-red-600\">{issue}</li>\n                            ))}\n                          </ul>\n                        </CardContent>\n                      </Card>\n                    )}\n\n                    {auditResults.warnings.length > 0 && (\n                      <Card className=\"border-yellow-500\">\n                        <CardHeader>\n                          <CardTitle className=\"text-yellow-600\">Warnings ({auditResults.warnings.length})</CardTitle>\n                        </CardHeader>\n                        <CardContent>\n                          <ul className=\"list-disc pl-5 space-y-1\">\n                            {auditResults.warnings.map((warning: string, i: number) => (\n                              <li key={i} className=\"text-yellow-600\">{warning}</li>\n                            ))}\n                          </ul>\n                        </CardContent>\n                      </Card>\n                    )}\n\n                    {auditResults.recommendations.length > 0 && (\n                      <Card className=\"border-blue-500\">\n                        <CardHeader>\n                          <CardTitle className=\"text-blue-600\">Recommendations ({auditResults.recommendations.length})</CardTitle>\n                        </CardHeader>\n                        <CardContent>\n                          <ul className=\"list-disc pl-5 space-y-1\">\n                            {auditResults.recommendations.map((rec: string, i: number) => (\n                              <li key={i} className=\"text-blue-600\">{rec}</li>\n                            ))}\n                          </ul>\n                        </CardContent>\n                      </Card>\n                    )}\n                  </div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Alerts Dashboard */}\n        <TabsContent value=\"alerts\">\n          <AlertsDashboard />\n        </TabsContent>\n\n        {/* Auto-Fix Engine */}\n        <TabsContent value=\"autofix\">\n          <AutoFixEngine />\n        </TabsContent>\n\n        {/* Keywords Tracker */}\n        <TabsContent value=\"keywords\">\n          <KeywordsTracker />\n        </TabsContent>\n\n        {/* Competitor Matrix */}\n        <TabsContent value=\"competitors\">\n          <CompetitorMatrix />\n        </TabsContent>\n\n        {/* Add other tab contents with placeholders for now */}\n        {['pages', 'monitoring', 'meta', 'robots', 'sitemap', 'structured', 'performance', 'backlinks', 'broken-links', 'link-structure', 'content', 'crawler', 'images', 'redirects', 'duplicate', 'security', 'mobile', 'budget', 'semantic'].map((tab) => (\n          <TabsContent key={tab} value={tab}>\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"capitalize\">{tab.replace('-', ' ')}</CardTitle>\n                <CardDescription>\n                  {tab.charAt(0).toUpperCase() + tab.slice(1).replace('-', ' ')} management and analysis\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-center py-8 text-muted-foreground\">\n                  <p>This feature is under development.</p>\n                  <p className=\"text-sm mt-2\">The backend functions are ready. UI coming soon!</p>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        ))}\n      </Tabs>\n    </div>\n  );\n};\n"],"names":["Activity","createLucideIcon","Bot","Database","FileCode","Map","Pause","WandSparkles","AlertsDashboard","toast","useToast","loading","setLoading","useState","notifications","setNotifications","recentAudits","setRecentAudits","criticalCount","setCriticalCount","warningCount","setWarningCount","opportunityCount","setOpportunityCount","useEffect","loadAlerts","loadRecentAudits","subscription","supabase","payload","prev","updateCounts","data","error","notifs","critical","n","warnings","opportunities","dismissNotification","id","refreshAlerts","getSeverityIcon","severity","jsx","AlertCircle","AlertTriangle","TrendingUp","Bell","getSeverityBadge","variants","Badge","criticalIssues","competitorAlerts","jsxs","Button","RefreshCw","Card","CardHeader","CardTitle","CardContent","CheckCircle2","Tabs","TabsList","TabsTrigger","TabsContent","notification","NotificationCard","CardDescription","audit","formatDistanceToNow","onDismiss","X","issue","idx","warning","ISSUE_TYPES","FIX_ACTIONS","AutoFixEngine","rules","setRules","history","setHistory","pendingApprovals","setPendingApprovals","isDialogOpen","setIsDialogOpen","formData","setFormData","loadRules","loadHistory","loadPendingApprovals","createRule","toggleRuleActive","ruleId","currentActive","deleteRule","rejectFix","historyId","getResultIcon","result","XCircle","Clock","Wand2","Dialog","DialogTrigger","Plus","DialogContent","DialogHeader","DialogTitle","DialogDescription","Label","Input","e","Textarea","Select","value","SelectTrigger","SelectValue","SelectContent","type","SelectItem","action","Switch","checked","DialogFooter","r","sum","rule","Play","Trash2","t","approval","item","KeywordsTracker","keywords","setKeywords","searchTerm","setSearchTerm","selectedKeyword","setSelectedKeyword","keywordHistory","setKeywordHistory","loadKeywords","loadKeywordHistory","keyword","checkKeywordPositions","edgeFunctions","getTrendIcon","current","previous","TrendingDown","Minus","getPositionChange","change","getDifficultyBadge","difficulty","filteredKeywords","kw","topMovers","a","b","topRanked","needsAttention","Fragment","Search","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","ResponsiveContainer","LineChart","XAxis","date","YAxis","Tooltip","Line","CompetitorMatrix","competitors","setCompetitors","analysis","setAnalysis","loadCompetitors","loadAnalysis","addCompetitor","keywordsArray","k","deleteCompetitor","refreshAnalysis","resolve","keywordGaps","winningKeywords","opportunityKeywords","Users","competitor","ExternalLink","SEOManager","auditUrl","setAuditUrl","auditResults","setAuditResults","runSEOAudit","BarChart3","FileText","Zap","Link","Globe","Image","Repeat","Copy","Shield","Smartphone","i","rec","tab"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}