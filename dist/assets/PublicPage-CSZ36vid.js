const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DxTo7WPx.js","assets/ui-components-DtyTDbSg.js","assets/react-vendor-B_Chv4nK.js","assets/three-t2PEh41g.js","assets/charts-CeHnXkIf.js","assets/utils-D6PrBqaA.js","assets/data-ChU7VID-.js","assets/supabase-D4JaKbf_.js","assets/icons-K_BhWJ_Z.js","assets/forms-yc2f2ZZT.js","assets/index-DPlaTh2l.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./three-t2PEh41g.js";import{j as t}from"./ui-components-DtyTDbSg.js";import{f as s,r}from"./react-vendor-B_Chv4nK.js";import{B as o}from"./BlockRenderer-OadHtmwd.js";import{H as a}from"./index-DxTo7WPx.js";import{L as i}from"./icons-K_BhWJ_Z.js";import"./charts-CeHnXkIf.js";import"./utils-D6PrBqaA.js";import"./data-ChU7VID-.js";import"./supabase-D4JaKbf_.js";import"./forms-yc2f2ZZT.js";function n(){const{slug:n}=s(),[c,l]=r.useState(null),[m,d]=r.useState(!0),[p,u]=r.useState(null);if(r.useEffect(()=>{(async()=>{if(!n)return u("No page slug provided"),void d(!1);try{const{supabase:t}=await e(async()=>{const{supabase:e}=await import("./index-DxTo7WPx.js").then(e=>e.K);return{supabase:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])),{data:s,error:r}=await t.from("custom_pages").select("*").eq("slug",n).eq("published",!0).single();if(r)throw r;if(!s)return u("Page not found or not published"),void d(!1);const o={id:s.id,userId:s.user_id,slug:s.slug,title:s.title,description:s.description||"",blocks:s.blocks,theme:s.theme,seo:s.seo,published:s.published,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)};l(o)}catch(t){u("Page not found or not published")}finally{d(!1)}})()},[n]),m)return t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx(i,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),t.jsx("p",{className:"text-gray-600",children:"Loading page..."})]})});if(p||!c)return t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"404"}),t.jsx("p",{className:"text-gray-600 mb-4",children:p||"Page not found"}),t.jsx("a",{href:"/",className:"text-primary hover:underline",children:"Go to homepage"})]})});const x={"--primary-color":c.theme.colors.primary,"--secondary-color":c.theme.colors.secondary,"--background-color":c.theme.colors.background,"--text-color":c.theme.colors.text,"--accent-color":c.theme.colors.accent,"--border-radius":"none"===c.theme.borderRadius?"0":"small"===c.theme.borderRadius?"0.25rem":"large"===c.theme.borderRadius?"1rem":"full"===c.theme.borderRadius?"9999px":"0.5rem"};return t.jsxs(t.Fragment,{children:[t.jsxs(a,{children:[t.jsx("title",{children:c.seo.title||c.title}),t.jsx("meta",{name:"description",content:c.seo.description||c.description}),t.jsx("meta",{name:"keywords",content:c.seo.keywords.join(", ")}),t.jsx("meta",{property:"og:title",content:c.seo.title||c.title}),t.jsx("meta",{property:"og:description",content:c.seo.description||c.description}),t.jsx("meta",{property:"og:type",content:"website"}),c.seo.ogImage&&t.jsx("meta",{property:"og:image",content:c.seo.ogImage}),t.jsx("meta",{name:"twitter:card",content:c.seo.twitterCard}),t.jsx("meta",{name:"twitter:title",content:c.seo.title||c.title}),t.jsx("meta",{name:"twitter:description",content:c.seo.description||c.description}),c.seo.ogImage&&t.jsx("meta",{name:"twitter:image",content:c.seo.ogImage}),c.seo.structuredData&&t.jsx("script",{type:"application/ld+json",children:JSON.stringify(c.seo.structuredData)})]}),t.jsx("div",{style:x,className:"min-h-screen","data-theme":c.theme.preset||"default",children:t.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",style:{backgroundColor:c.theme.colors.background,color:c.theme.colors.text},children:[t.jsx("div",{className:"space-y-"+("compact"===c.theme.spacing?"4":"spacious"===c.theme.spacing?"12":"8"),children:c.blocks.filter(e=>e.visible).sort((e,t)=>e.order-t.order).map(e=>t.jsx(o,{block:e,isEditing:!1},e.id))}),t.jsx("div",{className:"mt-16 pt-8 border-t text-center text-sm text-gray-500",children:t.jsxs("p",{children:["Powered by"," ",t.jsx("a",{href:"https://agentbio.net",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"AgentBio"})]})})]})})]})}export{n as default};
