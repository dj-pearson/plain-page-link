import{ah as v,bm as Dt,r as f,b as Fe,aO as kt,s as Z,y as Et,j as r,C as F,c as $,d as z,e as B,f as G,N as se,aY as Xn,B as J,aq as Ot,m as Jn,am as Zn,a8 as er,$ as ft,a0 as et,bn as mt,O as tr,L as nr,b4 as tt,av as Rt,aJ as rr,b5 as It,aM as Tt,aL as ar,b6 as sr,b7 as or,aI as $e,b8 as ir,at as Ne,ax as j,b9 as cr,aw as ge,bo as lr,bb as dr,ba as ur,bc as hr,bd as fr,be as mr,bf as pr,au as xr,aK as pt,U as ee,ak as gr}from"./index-C8-3SfN2.js";import{T as Lt,a as Ft,b as Q,c as X,d as $t,I as vr,R as yr}from"./tabs-6q3lkOY5.js";import{u as nt}from"./useMutation-BX4s6tv_.js";import{C as br}from"./clock-DZ08ez3q.js";import{C as wr}from"./circle-x-B92EbMb1.js";import{M as jr}from"./mouse-pointer-BXJgu35l.js";import{F as Qe}from"./file-text-CwqVyUEO.js";import{T as Oe}from"./trending-down-CqIjUshF.js";import{M as rt}from"./minus-BcKXyTmd.js";import{u as _r,k as Cr,l as Nr,m as I,n as Pr,o as Ar,p as pe,w as xt,q as zt,r as Gt,s as Kt,C as Bt,t as ne,v as be,x as Se,y as We,A as Mr,z as fe,D as gt,E as Sr,F as vt,G as Dr,H as kr,I as Er,J as Or,K as yt,M as bt,N as Rr,g as Ir,X as ke,Y as we,f as Tr,R as qe,T as He,b as Ye,L as wt,a as De,c as Ut,d as Vt,e as Re,h as T,i as Wt,j as L}from"./table-C6W6Cl_5.js";import{P as qt,a as Ht,b as Yt}from"./popover-Crhh1NVn.js";import{C as Lr}from"./checkbox-B2bv9NoZ.js";import{F as Fr}from"./filter-B2esrWiH.js";import{R as $r}from"./refresh-cw-D2E1KLvL.js";import{S as zr}from"./settings-CjA9If-o.js";var Gr=["x1","y1","x2","y2","key"],Kr=["offset"];function oe(e){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(e)}function jt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?jt(Object(a),!0).forEach(function(n){Br(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jt(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Br(e,t,a){return t=Ur(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ur(e){var t=Vr(e,"string");return oe(t)=="symbol"?t:t+""}function Vr(e,t){if(oe(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(oe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},re.apply(this,arguments)}function _t(e,t){if(e==null)return{};var a=Wr(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Wr(e,t){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}var qr=function(t){var a=t.fill;if(!a||a==="none")return null;var n=t.fillOpacity,s=t.x,o=t.y,i=t.width,c=t.height,d=t.ry;return v.createElement("rect",{x:s,y:o,ry:d,width:i,height:c,stroke:"none",fill:a,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Qt(e,t){var a;if(v.isValidElement(e))a=v.cloneElement(e,t);else if(pe(e))a=e(t);else{var n=t.x1,s=t.y1,o=t.x2,i=t.y2,c=t.key,d=_t(t,Gr),l=ne(d,!1);l.offset;var u=_t(l,Kr);a=v.createElement("line",re({},u,{x1:n,y1:s,x2:o,y2:i,fill:"none",key:c}))}return a}function Hr(e){var t=e.x,a=e.width,n=e.horizontal,s=n===void 0?!0:n,o=e.horizontalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(c,d){var l=k(k({},e),{},{x1:t,y1:c,x2:t+a,y2:c,key:"line-".concat(d),index:d});return Qt(s,l)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function Yr(e){var t=e.y,a=e.height,n=e.vertical,s=n===void 0?!0:n,o=e.verticalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(c,d){var l=k(k({},e),{},{x1:c,y1:t,x2:c,y2:t+a,key:"line-".concat(d),index:d});return Qt(s,l)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Qr(e){var t=e.horizontalFill,a=e.fillOpacity,n=e.x,s=e.y,o=e.width,i=e.height,c=e.horizontalPoints,d=e.horizontal,l=d===void 0?!0:d;if(!l||!t||!t.length)return null;var u=c.map(function(m){return Math.round(m+s-s)}).sort(function(m,p){return m-p});s!==u[0]&&u.unshift(0);var h=u.map(function(m,p){var x=!u[p+1],b=x?s+i-m:u[p+1]-m;if(b<=0)return null;var y=p%t.length;return v.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:b,width:o,stroke:"none",fill:t[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Xr(e){var t=e.vertical,a=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,o=e.x,i=e.y,c=e.width,d=e.height,l=e.verticalPoints;if(!a||!n||!n.length)return null;var u=l.map(function(m){return Math.round(m+o-o)}).sort(function(m,p){return m-p});o!==u[0]&&u.unshift(0);var h=u.map(function(m,p){var x=!u[p+1],b=x?o+c-m:u[p+1]-m;if(b<=0)return null;var y=p%n.length;return v.createElement("rect",{key:"react-".concat(p),x:m,y:i,width:b,height:d,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Jr=function(t,a){var n=t.xAxis,s=t.width,o=t.height,i=t.offset;return zt(Gt(k(k(k({},Bt.defaultProps),n),{},{ticks:Kt(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),i.left,i.left+i.width,a)},Zr=function(t,a){var n=t.yAxis,s=t.width,o=t.height,i=t.offset;return zt(Gt(k(k(k({},Bt.defaultProps),n),{},{ticks:Kt(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),i.top,i.top+i.height,a)},me={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ee(e){var t,a,n,s,o,i,c=_r(),d=Cr(),l=Nr(),u=k(k({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:me.stroke,fill:(a=e.fill)!==null&&a!==void 0?a:me.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:me.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:me.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:me.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:me.verticalFill,x:I(e.x)?e.x:l.left,y:I(e.y)?e.y:l.top,width:I(e.width)?e.width:l.width,height:I(e.height)?e.height:l.height}),h=u.x,m=u.y,p=u.width,x=u.height,b=u.syncWithTicks,y=u.horizontalValues,P=u.verticalValues,C=Pr(),S=Ar();if(!I(p)||p<=0||!I(x)||x<=0||!I(h)||h!==+h||!I(m)||m!==+m)return null;var w=u.verticalCoordinatesGenerator||Jr,N=u.horizontalCoordinatesGenerator||Zr,_=u.horizontalPoints,A=u.verticalPoints;if((!_||!_.length)&&pe(N)){var M=y&&y.length,D=N({yAxis:S?k(k({},S),{},{ticks:M?y:S.ticks}):void 0,width:c,height:d,offset:l},M?!0:b);xt(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oe(D),"]")),Array.isArray(D)&&(_=D)}if((!A||!A.length)&&pe(w)){var E=P&&P.length,O=w({xAxis:C?k(k({},C),{},{ticks:E?P:C.ticks}):void 0,width:c,height:d,offset:l},E?!0:b);xt(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oe(O),"]")),Array.isArray(O)&&(A=O)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(qr,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),v.createElement(Hr,re({},u,{offset:l,horizontalPoints:_,xAxis:C,yAxis:S})),v.createElement(Yr,re({},u,{offset:l,verticalPoints:A,xAxis:C,yAxis:S})),v.createElement(Qr,re({},u,{horizontalPoints:_})),v.createElement(Xr,re({},u,{verticalPoints:A})))}Ee.displayName="CartesianGrid";var ea=["layout","type","stroke","connectNulls","isRange","ref"],ta=["key"],Xt;function xe(e){"@babel/helpers - typeof";return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(e)}function Jt(e,t){if(e==null)return{};var a=na(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function na(e,t){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ae.apply(this,arguments)}function Ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ct(Object(a),!0).forEach(function(n){V(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ct(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,en(n.key),n)}}function aa(e,t,a){return t&&Nt(e.prototype,t),a&&Nt(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function sa(e,t,a){return t=Ie(t),oa(e,Zt()?Reflect.construct(t,a||[],Ie(e).constructor):t.apply(e,a))}function oa(e,t){if(t&&(xe(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ia(e)}function ia(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zt=function(){return!!e})()}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Ie(e)}function ca(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xe(e,t)}function Xe(e,t){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xe(e,t)}function V(e,t,a){return t=en(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function en(e){var t=la(e,"string");return xe(t)=="symbol"?t:t+""}function la(e,t){if(xe(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(xe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var W=(function(e){function t(){var a;ra(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return a=sa(this,t,[].concat(s)),V(a,"state",{isAnimationFinished:!0}),V(a,"id",Er("recharts-area-")),V(a,"handleAnimationEnd",function(){var i=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),pe(i)&&i()}),V(a,"handleAnimationStart",function(){var i=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),pe(i)&&i()}),a}return ca(t,e),aa(t,[{key:"renderDots",value:function(n,s,o){var i=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(i&&!c)return null;var d=this.props,l=d.dot,u=d.points,h=d.dataKey,m=ne(this.props,!1),p=ne(l,!0),x=u.map(function(y,P){var C=Y(Y(Y({key:"dot-".concat(P),r:3},m),p),{},{index:P,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:u});return t.renderDotItem(l,C)}),b={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(o,")"):null};return v.createElement(be,ae({className:"recharts-area-dots"},b),x)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,o=s.baseLine,i=s.points,c=s.strokeWidth,d=i[0].x,l=i[i.length-1].x,u=n*Math.abs(d-l),h=Se(i.map(function(m){return m.y||0}));return I(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(Se(o.map(function(m){return m.y||0})),h)),I(h)?v.createElement("rect",{x:d<l?d:d-u,y:0,width:u,height:Math.floor(h+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,o=s.baseLine,i=s.points,c=s.strokeWidth,d=i[0].y,l=i[i.length-1].y,u=n*Math.abs(d-l),h=Se(i.map(function(m){return m.x||0}));return I(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(Se(o.map(function(m){return m.x||0})),h)),I(h)?v.createElement("rect",{x:0,y:d<l?d:d-u,width:h+(c?parseInt("".concat(c),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,o,i){var c=this.props,d=c.layout,l=c.type,u=c.stroke,h=c.connectNulls,m=c.isRange;c.ref;var p=Jt(c,ea);return v.createElement(be,{clipPath:o?"url(#clipPath-".concat(i,")"):null},v.createElement(We,ae({},ne(p,!0),{points:n,connectNulls:h,type:l,baseLine:s,layout:d,stroke:"none",className:"recharts-area-area"})),u!=="none"&&v.createElement(We,ae({},ne(this.props,!1),{className:"recharts-area-curve",layout:d,type:l,connectNulls:h,fill:"none",points:n})),u!=="none"&&m&&v.createElement(We,ae({},ne(this.props,!1),{className:"recharts-area-curve",layout:d,type:l,connectNulls:h,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var o=this,i=this.props,c=i.points,d=i.baseLine,l=i.isAnimationActive,u=i.animationBegin,h=i.animationDuration,m=i.animationEasing,p=i.animationId,x=this.state,b=x.prevPoints,y=x.prevBaseLine;return v.createElement(Mr,{begin:u,duration:h,isActive:l,easing:m,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var C=P.t;if(b){var S=b.length/c.length,w=c.map(function(M,D){var E=Math.floor(D*S);if(b[E]){var O=b[E],q=fe(O.x,M.x),H=fe(O.y,M.y);return Y(Y({},M),{},{x:q(C),y:H(C)})}return M}),N;if(I(d)&&typeof d=="number"){var _=fe(y,d);N=_(C)}else if(gt(d)||Sr(d)){var A=fe(y,0);N=A(C)}else N=d.map(function(M,D){var E=Math.floor(D*S);if(y[E]){var O=y[E],q=fe(O.x,M.x),H=fe(O.y,M.y);return Y(Y({},M),{},{x:q(C),y:H(C)})}return M});return o.renderAreaStatically(w,N,n,s)}return v.createElement(be,null,v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(s)},o.renderClipRect(C))),v.createElement(be,{clipPath:"url(#animationClipPath-".concat(s,")")},o.renderAreaStatically(c,d,n,s)))})}},{key:"renderArea",value:function(n,s){var o=this.props,i=o.points,c=o.baseLine,d=o.isAnimationActive,l=this.state,u=l.prevPoints,h=l.prevBaseLine,m=l.totalLength;return d&&i&&i.length&&(!u&&m>0||!vt(u,i)||!vt(h,c))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(i,c,n,s)}},{key:"render",value:function(){var n,s=this.props,o=s.hide,i=s.dot,c=s.points,d=s.className,l=s.top,u=s.left,h=s.xAxis,m=s.yAxis,p=s.width,x=s.height,b=s.isAnimationActive,y=s.id;if(o||!c||!c.length)return null;var P=this.state.isAnimationFinished,C=c.length===1,S=Dt("recharts-area",d),w=h&&h.allowDataOverflow,N=m&&m.allowDataOverflow,_=w||N,A=gt(y)?this.id:y,M=(n=ne(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},D=M.r,E=D===void 0?3:D,O=M.strokeWidth,q=O===void 0?2:O,H=Dr(i)?i:{},le=H.clipDot,Me=le===void 0?!0:le,de=E*2+q;return v.createElement(be,{className:S},w||N?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(A)},v.createElement("rect",{x:w?u:u-p/2,y:N?l:l-x/2,width:w?p:p*2,height:N?x:x*2})),!Me&&v.createElement("clipPath",{id:"clipPath-dots-".concat(A)},v.createElement("rect",{x:u-de/2,y:l-de/2,width:p+de,height:x+de}))):null,C?null:this.renderArea(_,A),(i||C)&&this.renderDots(_,Me,A),(!b||P)&&kr.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(f.PureComponent);Xt=W;V(W,"displayName","Area");V(W,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Or.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});V(W,"getBaseValue",function(e,t,a,n){var s=e.layout,o=e.baseValue,i=t.props.baseValue,c=i??o;if(I(c)&&typeof c=="number")return c;var d=s==="horizontal"?n:a,l=d.scale.domain();if(d.type==="number"){var u=Math.max(l[0],l[1]),h=Math.min(l[0],l[1]);return c==="dataMin"?h:c==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return c==="dataMin"?l[0]:c==="dataMax"?l[1]:l[0]});V(W,"getComposedData",function(e){var t=e.props,a=e.item,n=e.xAxis,s=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,c=e.bandSize,d=e.dataKey,l=e.stackedData,u=e.dataStartIndex,h=e.displayedData,m=e.offset,p=t.layout,x=l&&l.length,b=Xt.getBaseValue(t,a,n,s),y=p==="horizontal",P=!1,C=h.map(function(w,N){var _;x?_=l[u+N]:(_=yt(w,d),Array.isArray(_)?P=!0:_=[b,_]);var A=_[1]==null||x&&yt(w,d)==null;return y?{x:bt({axis:n,ticks:o,bandSize:c,entry:w,index:N}),y:A?null:s.scale(_[1]),value:_,payload:w}:{x:A?null:n.scale(_[1]),y:bt({axis:s,ticks:i,bandSize:c,entry:w,index:N}),value:_,payload:w}}),S;return x||P?S=C.map(function(w){var N=Array.isArray(w.value)?w.value[0]:null;return y?{x:w.x,y:N!=null&&w.y!=null?s.scale(N):null}:{x:N!=null?n.scale(N):null,y:w.y}}):S=y?s.scale(b):n.scale(b),Y({points:C,baseLine:S,layout:p,isRange:P},m)});V(W,"renderDotItem",function(e,t){var a;if(v.isValidElement(e))a=v.cloneElement(e,t);else if(pe(e))a=e(t);else{var n=Dt("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,o=Jt(t,ta);a=v.createElement(Rr,ae({},o,{key:s,className:n}))}return a});var da=Ir({chartName:"AreaChart",GraphicalChild:W,axisComponents:[{axisType:"xAxis",AxisComp:ke},{axisType:"yAxis",AxisComp:we}],formatAxisMap:Tr});function ua(){return Et({queryKey:["connected-platforms"],queryFn:async()=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:a}=await Z.rpc("get_connected_search_platforms",{p_user_id:e.id});if(a)throw a;return t}})}function ha(){const{toast:e}=Fe();return nt({mutationFn:async t=>{const a={google_analytics:`${window.location.origin}/admin/search-analytics/oauth/callback/google-analytics`,google_search_console:`${window.location.origin}/admin/search-analytics/oauth/callback/google-search-console`,bing_webmaster:`${window.location.origin}/admin/search-analytics/oauth/callback/bing-webmaster`,yandex_webmaster:`${window.location.origin}/admin/search-analytics/oauth/callback/yandex-webmaster`},n={google_analytics:"https://accounts.google.com/o/oauth2/v2/auth",google_search_console:"https://accounts.google.com/o/oauth2/v2/auth",bing_webmaster:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",yandex_webmaster:"https://oauth.yandex.ru/authorize"},s=new URLSearchParams({client_id:(t.includes("google"),""),redirect_uri:a[t],response_type:"code",scope:t==="google_analytics"?"https://www.googleapis.com/auth/analytics.readonly":t==="google_search_console"?"https://www.googleapis.com/auth/webmasters.readonly":t==="bing_webmaster"?"https://api.bing.microsoft.com/webmaster.read offline_access":"webmaster:read",access_type:"offline",prompt:"consent"}),o=`${n[t]}?${s.toString()}`;window.location.href=o},onError:t=>{e({title:"OAuth Error",description:t.message,variant:"destructive"})}})}function fa(){const{toast:e}=Fe(),t=kt();return nt({mutationFn:async({platform:a,property_id:n,site_id:s,start_date:o,end_date:i})=>{const{data:{session:c}}=await Z.auth.getSession();if(!c)throw new Error("Not authenticated");const d=a==="google_analytics"?"google-analytics-sync":a==="google_search_console"?"google-search-console-sync":a==="bing_webmaster"?"bing-webmaster-sync":"yandex-webmaster-sync",{data:l,error:u}=await Z.functions.invoke(d,{body:{property_id:n,site_id:s,start_date:o,end_date:i},headers:{Authorization:`Bearer ${c.access_token}`}});if(u)throw u;return l},onSuccess:()=>{e({title:"Sync Started",description:"Data synchronization started successfully"}),t.invalidateQueries({queryKey:["search-analytics"]})},onError:a=>{e({title:"Sync Failed",description:a.message,variant:"destructive"})}})}function ma(){const{toast:e}=Fe(),t=kt();return nt({mutationFn:async({start_date:a,end_date:n,force_refresh:s})=>{const{data:{session:o}}=await Z.auth.getSession();if(!o)throw new Error("Not authenticated");const{data:i,error:c}=await Z.functions.invoke("aggregate-search-analytics",{body:{start_date:a,end_date:n,force_refresh:s},headers:{Authorization:`Bearer ${o.access_token}`}});if(c)throw c;return i},onSuccess:()=>{e({title:"Aggregation Complete",description:"Analytics data aggregated successfully"}),t.invalidateQueries({queryKey:["unified-analytics"]})},onError:a=>{e({title:"Aggregation Failed",description:a.message,variant:"destructive"})}})}function ze(e){return Et({queryKey:["unified-analytics",e],queryFn:async()=>{const{data:{user:t}}=await Z.auth.getUser();if(!t)throw new Error("Not authenticated");let a=Z.from("unified_search_analytics").select("*").eq("user_id",t.id).gte("date",e.startDate).lte("date",e.endDate);e.platforms&&e.platforms.length>0&&(a=a.in("source_platform",e.platforms));const{data:n,error:s}=await a.order("date",{ascending:!1});if(s)throw s;return n}})}function pa(e){const{data:t}=ze(e);return t?{total_clicks:t.reduce((n,s)=>n+(s.clicks||0),0),total_impressions:t.reduce((n,s)=>n+(s.impressions||0),0),total_sessions:t.reduce((n,s)=>n+(s.sessions||0),0),total_users:t.reduce((n,s)=>n+(s.users||0),0),total_pageviews:t.reduce((n,s)=>n+(s.pageviews||0),0),average_ctr:t.length>0?t.reduce((n,s)=>n+(s.ctr||0),0)/t.length:0,average_position:t.length>0?t.reduce((n,s)=>n+(s.average_position||0),0)/t.length:0,average_bounce_rate:t.length>0?t.reduce((n,s)=>n+(s.bounce_rate||0),0)/t.length:0,clicks_change:0,impressions_change:0,sessions_change:0}:null}function xa(e){const{data:t}=ze(e);if(!t)return null;const a=t.reduce((n,s)=>{const o=s.date;return n[o]||(n[o]={date:o,clicks:0,impressions:0,sessions:0,users:0,ctr:0,position:0,count:0}),n[o].clicks+=s.clicks||0,n[o].impressions+=s.impressions||0,n[o].sessions+=s.sessions||0,n[o].users+=s.users||0,n[o].ctr+=s.ctr||0,n[o].position+=s.average_position||0,n[o].count+=1,n},{});return Object.values(a).map(n=>({date:n.date,clicks:n.clicks,impressions:n.impressions,sessions:n.sessions,users:n.users,ctr:n.count>0?n.ctr/n.count:0,position:n.count>0?n.position/n.count:0}))}function ga(e){const{data:t}=ze(e);if(!t)return null;const n=t.filter(o=>o.query).reduce((o,i)=>{const c=i.query;return o[c]||(o[c]={query:c,clicks:0,impressions:0,ctr:0,position:0,count:0,change:0}),o[c].clicks+=i.clicks||0,o[c].impressions+=i.impressions||0,o[c].ctr+=i.ctr||0,o[c].position+=i.average_position||0,o[c].count+=1,o},{});return Object.values(n).map(o=>({query:o.query,clicks:o.clicks,impressions:o.impressions,ctr:o.count>0?o.ctr/o.count:0,position:o.count>0?o.position/o.count:0,change:0})).sort((o,i)=>i.clicks-o.clicks).slice(0,e.limit||10)}function va(e){const{data:t}=ze(e);if(!t)return null;const n=t.filter(o=>o.page_url).reduce((o,i)=>{const c=i.page_url;return o[c]||(o[c]={url:c,title:i.page_title,clicks:0,impressions:0,sessions:0,ctr:0,position:0,count:0,change:0}),o[c].clicks+=i.clicks||0,o[c].impressions+=i.impressions||0,o[c].sessions+=i.sessions||0,o[c].ctr+=i.ctr||0,o[c].position+=i.average_position||0,o[c].count+=1,o},{});return Object.values(n).map(o=>({url:o.url,title:o.title,clicks:o.clicks,impressions:o.impressions,sessions:o.sessions,ctr:o.count>0?o.ctr/o.count:0,position:o.count>0?o.position/o.count:0,change:0})).sort((o,i)=>i.clicks-o.clicks).slice(0,e.limit||10)}const ya={google_search_console:{name:"Google Search Console",description:"Search performance and indexing data",icon:"ðŸ”"},google_analytics:{name:"Google Analytics 4",description:"Website traffic and user behavior",icon:"ðŸ“Š"},bing_webmaster:{name:"Bing Webmaster Tools",description:"Bing search performance data",icon:"ðŸ…±ï¸"},yandex_webmaster:{name:"Yandex Webmaster",description:"Yandex search performance data",icon:"ðŸ‡·ðŸ‡º"}};function ba(){const{data:e,isLoading:t}=ua(),a=ha(),n=fa(),s=i=>{a.mutate(i)},o=i=>{n.mutate({platform:i})};return t?r.jsxs(F,{children:[r.jsxs($,{children:[r.jsx(z,{children:"Platform Connections"}),r.jsx(B,{children:"Loading connection status..."})]}),r.jsx(G,{children:r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):r.jsxs(F,{children:[r.jsxs($,{children:[r.jsx(z,{children:"Platform Connections"}),r.jsx(B,{children:"Connect and manage your analytics platforms"})]}),r.jsx(G,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:e?.map(i=>{const c=ya[i.platform],d=i.is_connected,l=i.credential_status==="active",u=i.credential_status==="expired";return r.jsxs(F,{className:"relative",children:[r.jsxs($,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:c.icon}),r.jsx("div",{children:r.jsx(z,{className:"text-sm",children:c.name})})]}),l&&r.jsxs(se,{variant:"default",className:"text-xs",children:[r.jsx(Xn,{className:"h-3 w-3 mr-1"}),"Connected"]}),u&&r.jsxs(se,{variant:"destructive",className:"text-xs",children:[r.jsx(br,{className:"h-3 w-3 mr-1"}),"Expired"]}),!d&&r.jsxs(se,{variant:"secondary",className:"text-xs",children:[r.jsx(wr,{className:"h-3 w-3 mr-1"}),"Not Connected"]})]}),r.jsx(B,{className:"text-xs mt-1",children:c.description})]}),r.jsxs(G,{className:"pt-0",children:[i.last_sync&&r.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["Last sync: ",new Date(i.last_sync).toLocaleDateString()]}),r.jsx("div",{className:"flex flex-col gap-2",children:!d||u?r.jsxs(J,{size:"sm",onClick:()=>s(i.platform),disabled:a.isPending,className:"w-full",children:[r.jsx(Ot,{className:"h-3 w-3 mr-2"}),u?"Reconnect":"Connect"]}):r.jsx(J,{size:"sm",variant:"outline",onClick:()=>o(i.platform),disabled:n.isPending,className:"w-full",children:"Sync Data"})})]})]},i.platform)})})})]})}function wa({startDate:e,endDate:t,platforms:a}){const n=pa({startDate:e,endDate:t,platforms:a});if(!n)return r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(d=>r.jsxs(F,{children:[r.jsx($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:r.jsx(z,{className:"text-sm font-medium",children:"Loading..."})}),r.jsx(G,{children:r.jsx("div",{className:"h-8 bg-muted animate-pulse rounded"})})]},d))});const s=d=>new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(d),o=d=>`${(d*100).toFixed(2)}%`,i=d=>{if(d===0)return{icon:rt,color:"text-muted-foreground",text:"0%"};const l=d>0;return{icon:l?et:Oe,color:l?"text-green-600":"text-red-600",text:`${l?"+":""}${o(d/100)}`}},c=[{title:"Total Clicks",value:n.total_clicks,change:n.clicks_change,icon:jr,description:"Users who clicked through"},{title:"Total Impressions",value:n.total_impressions,change:n.impressions_change,icon:Jn,description:"Times your site appeared"},{title:"Avg. CTR",value:n.average_ctr,change:0,icon:Zn,description:"Click-through rate",isPercentage:!0},{title:"Avg. Position",value:n.average_position,change:0,icon:er,description:"Average search position",decimals:1},{title:"Total Sessions",value:n.total_sessions,change:n.sessions_change,icon:ft,description:"Website sessions"},{title:"Total Users",value:n.total_users,change:0,icon:ft,description:"Unique visitors"},{title:"Total Pageviews",value:n.total_pageviews,change:0,icon:Qe,description:"Pages viewed"},{title:"Bounce Rate",value:n.average_bounce_rate,change:0,icon:Oe,description:"Visitors who left quickly",isPercentage:!0}];return r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:c.map(d=>{const l=i(d.change),u=d.icon,h=l.icon;return r.jsxs(F,{children:[r.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(z,{className:"text-sm font-medium",children:d.title}),r.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(G,{children:[r.jsx("div",{className:"text-2xl font-bold",children:d.isPercentage?o(d.value):d.decimals?d.value.toFixed(d.decimals):s(d.value)}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[r.jsx(h,{className:`h-3 w-3 ${l.color}`}),r.jsx("span",{className:l.color,children:l.text}),r.jsx("span",{children:"vs. previous period"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.description})]})]},d.title)})})}function ja({startDate:e,endDate:t,platforms:a}){const n=xa({startDate:e,endDate:t,platforms:a});return!n||n.length===0?r.jsxs(F,{children:[r.jsxs($,{children:[r.jsx(z,{children:"Performance Trends"}),r.jsx(B,{children:"No data available for the selected period"})]}),r.jsx(G,{children:r.jsx("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:r.jsx("p",{children:"Connect your platforms and sync data to see performance trends"})})})]}):r.jsxs(F,{children:[r.jsxs($,{children:[r.jsx(z,{children:"Performance Trends"}),r.jsx(B,{children:"Track your search and traffic metrics over time"})]}),r.jsx(G,{children:r.jsxs(Lt,{defaultValue:"traffic",className:"space-y-4",children:[r.jsxs(Ft,{children:[r.jsx(Q,{value:"traffic",children:"Traffic"}),r.jsx(Q,{value:"search",children:"Search Performance"}),r.jsx(Q,{value:"engagement",children:"Engagement"})]}),r.jsx(X,{value:"traffic",className:"space-y-4",children:r.jsx(qe,{width:"100%",height:350,children:r.jsxs(da,{data:n,children:[r.jsx(Ee,{strokeDasharray:"3 3"}),r.jsx(ke,{dataKey:"date",tickFormatter:s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),r.jsx(we,{}),r.jsx(He,{labelFormatter:s=>new Date(s).toLocaleDateString(),formatter:s=>[new Intl.NumberFormat().format(s),""]}),r.jsx(Ye,{}),r.jsx(W,{type:"monotone",dataKey:"sessions",stackId:"1",stroke:"#8884d8",fill:"#8884d8",name:"Sessions"}),r.jsx(W,{type:"monotone",dataKey:"users",stackId:"2",stroke:"#82ca9d",fill:"#82ca9d",name:"Users"}),r.jsx(W,{type:"monotone",dataKey:"pageviews",stackId:"3",stroke:"#ffc658",fill:"#ffc658",name:"Pageviews"})]})})}),r.jsx(X,{value:"search",className:"space-y-4",children:r.jsx(qe,{width:"100%",height:350,children:r.jsxs(wt,{data:n,children:[r.jsx(Ee,{strokeDasharray:"3 3"}),r.jsx(ke,{dataKey:"date",tickFormatter:s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),r.jsx(we,{yAxisId:"left"}),r.jsx(we,{yAxisId:"right",orientation:"right"}),r.jsx(He,{labelFormatter:s=>new Date(s).toLocaleDateString(),formatter:(s,o)=>o==="CTR"?[`${(s*100).toFixed(2)}%`,o]:o==="Avg Position"?[s.toFixed(1),o]:[new Intl.NumberFormat().format(s),o]}),r.jsx(Ye,{}),r.jsx(De,{yAxisId:"left",type:"monotone",dataKey:"clicks",stroke:"#8884d8",name:"Clicks",strokeWidth:2}),r.jsx(De,{yAxisId:"left",type:"monotone",dataKey:"impressions",stroke:"#82ca9d",name:"Impressions",strokeWidth:2}),r.jsx(De,{yAxisId:"right",type:"monotone",dataKey:"ctr",stroke:"#ffc658",name:"CTR",strokeWidth:2})]})})}),r.jsxs(X,{value:"engagement",className:"space-y-4",children:[r.jsx(qe,{width:"100%",height:350,children:r.jsxs(wt,{data:n,children:[r.jsx(Ee,{strokeDasharray:"3 3"}),r.jsx(ke,{dataKey:"date",tickFormatter:s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),r.jsx(we,{}),r.jsx(He,{labelFormatter:s=>new Date(s).toLocaleDateString(),formatter:(s,o)=>o==="Avg Position"?[s.toFixed(1),o]:[new Intl.NumberFormat().format(s),o]}),r.jsx(Ye,{}),r.jsx(De,{type:"monotone",dataKey:"position",stroke:"#8884d8",name:"Avg Position",strokeWidth:2})]})}),r.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Lower position values are better (position 1 is the top result)"})]})]})})]})}function Pt({startDate:e,endDate:t,platforms:a,limit:n=10}){const s=ga({startDate:e,endDate:t,platforms:a,limit:n});if(!s||s.length===0)return r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx("p",{children:"No query data available for the selected period"}),r.jsx("p",{className:"text-sm mt-2",children:"Connect platforms and sync data to see top queries"})]});const o=d=>new Intl.NumberFormat("en-US").format(d),i=d=>`${(d*100).toFixed(2)}%`,c=d=>d>0?r.jsx(et,{className:"h-3 w-3 text-green-600"}):d<0?r.jsx(Oe,{className:"h-3 w-3 text-red-600"}):r.jsx(rt,{className:"h-3 w-3 text-muted-foreground"});return r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ut,{children:[r.jsx(Vt,{children:r.jsxs(Re,{children:[r.jsx(T,{className:"w-[40%]",children:"Query"}),r.jsx(T,{className:"text-right",children:"Clicks"}),r.jsx(T,{className:"text-right",children:"Impressions"}),r.jsx(T,{className:"text-right",children:"CTR"}),r.jsx(T,{className:"text-right",children:"Position"}),r.jsx(T,{className:"text-right",children:"Trend"})]})}),r.jsx(Wt,{children:s.map((d,l)=>r.jsxs(Re,{children:[r.jsx(L,{className:"font-medium max-w-xs truncate",children:d.query}),r.jsx(L,{className:"text-right",children:o(d.clicks)}),r.jsx(L,{className:"text-right",children:o(d.impressions)}),r.jsx(L,{className:"text-right",children:r.jsx(se,{variant:"outline",children:i(d.ctr)})}),r.jsx(L,{className:"text-right",children:r.jsx(se,{variant:"secondary",children:d.position.toFixed(1)})}),r.jsx(L,{className:"text-right",children:r.jsx("div",{className:"flex justify-end",children:c(d.change)})})]},`${d.query}-${l}`))})]})})}function At({startDate:e,endDate:t,platforms:a,limit:n=10}){const s=va({startDate:e,endDate:t,platforms:a,limit:n});if(!s||s.length===0)return r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx("p",{children:"No page data available for the selected period"}),r.jsx("p",{className:"text-sm mt-2",children:"Connect platforms and sync data to see top pages"})]});const o=l=>new Intl.NumberFormat("en-US").format(l),i=l=>`${(l*100).toFixed(2)}%`,c=l=>l>0?r.jsx(et,{className:"h-3 w-3 text-green-600"}):l<0?r.jsx(Oe,{className:"h-3 w-3 text-red-600"}):r.jsx(rt,{className:"h-3 w-3 text-muted-foreground"}),d=(l,u=50)=>l.length<=u?l:l.substring(0,u)+"...";return r.jsx("div",{className:"rounded-md border",children:r.jsxs(Ut,{children:[r.jsx(Vt,{children:r.jsxs(Re,{children:[r.jsx(T,{className:"w-[35%]",children:"Page"}),r.jsx(T,{className:"text-right",children:"Clicks"}),r.jsx(T,{className:"text-right",children:"Sessions"}),r.jsx(T,{className:"text-right",children:"Impressions"}),r.jsx(T,{className:"text-right",children:"CTR"}),r.jsx(T,{className:"text-right",children:"Position"}),r.jsx(T,{className:"text-right",children:"Trend"}),r.jsx(T,{className:"w-[50px]"})]})}),r.jsx(Wt,{children:s.map((l,u)=>r.jsxs(Re,{children:[r.jsx(L,{className:"max-w-xs",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium text-sm truncate",title:l.url,children:d(l.url)}),l.title&&r.jsx("span",{className:"text-xs text-muted-foreground truncate",title:l.title,children:l.title})]})}),r.jsx(L,{className:"text-right",children:o(l.clicks)}),r.jsx(L,{className:"text-right",children:o(l.sessions)}),r.jsx(L,{className:"text-right",children:o(l.impressions)}),r.jsx(L,{className:"text-right",children:r.jsx(se,{variant:"outline",children:i(l.ctr)})}),r.jsx(L,{className:"text-right",children:r.jsx(se,{variant:"secondary",children:l.position.toFixed(1)})}),r.jsx(L,{className:"text-right",children:r.jsx("div",{className:"flex justify-end",children:c(l.change)})}),r.jsx(L,{children:r.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80",children:r.jsx(Ot,{className:"h-4 w-4"})})})]},`${l.url}-${u}`))})]})})}function _a({startDate:e,endDate:t,onChange:a}){const[n,s]=f.useState(!1),o=c=>{const d=new Date,l=new Date;l.setDate(l.getDate()-c),a(l.toISOString().split("T")[0],d.toISOString().split("T")[0]),s(!1)},i=[{label:"Last 7 days",days:7},{label:"Last 30 days",days:30},{label:"Last 90 days",days:90},{label:"Last 6 months",days:180},{label:"Last year",days:365}];return r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(qt,{open:n,onOpenChange:s,children:[r.jsx(Ht,{asChild:!0,children:r.jsxs(J,{variant:"outline",className:"gap-2",children:[r.jsx(tr,{className:"h-4 w-4"}),mt(new Date(e),"MMM dd, yyyy")," - ",mt(new Date(t),"MMM dd, yyyy")]})}),r.jsx(Yt,{className:"w-auto p-4",align:"start",children:r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Quick Select"}),r.jsx("div",{className:"grid gap-2",children:i.map(c=>r.jsx(J,{variant:"ghost",className:"justify-start",onClick:()=>o(c.days),children:c.label},c.label))})]})})})]})})}const Ca=[{value:"google_search_console",label:"Google Search Console"},{value:"google_analytics",label:"Google Analytics"},{value:"bing_webmaster",label:"Bing Webmaster"},{value:"yandex_webmaster",label:"Yandex Webmaster"}];function Na({selectedPlatforms:e,onChange:t}){const a=n=>{e.includes(n)?t(e.filter(s=>s!==n)):t([...e,n])};return r.jsxs(qt,{children:[r.jsx(Ht,{asChild:!0,children:r.jsxs(J,{variant:"outline",className:"gap-2",children:[r.jsx(Fr,{className:"h-4 w-4"}),"Platforms (",e.length,")"]})}),r.jsx(Yt,{className:"w-64",align:"start",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Filter by Platform"}),r.jsx("div",{className:"space-y-3",children:Ca.map(n=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Lr,{id:n.value,checked:e.includes(n.value),onCheckedChange:()=>a(n.value)}),r.jsx(nr,{htmlFor:n.value,className:"text-sm font-normal cursor-pointer",children:n.label})]},n.value))})]})})]})}function Pa(e){const{headers:t,rows:a,title:n}=e;let s="";n&&(s+=`${n}

`),s+=t.join(",")+`
`,a.forEach(l=>{const u=l.map(h=>{const m=String(h);return m.includes(",")||m.includes('"')||m.includes(`
`)?`"${m.replace(/"/g,'""')}"`:m});s+=u.join(",")+`
`});const o=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),c=URL.createObjectURL(o),d=`${n?.replace(/\s+/g,"_")||"export"}_${new Date().toISOString().split("T")[0]}.csv`;i.setAttribute("href",c),i.setAttribute("download",d),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(c)}function Aa(e){const{headers:t,rows:a,title:n,dateRange:s}=e;let o=`
        <!DOCTYPE html>
        <html>
        <head>
            <meta charset="utf-8">
            <title>${n||"Analytics Report"}</title>
            <style>
                body {
                    font-family: Arial, sans-serif;
                    padding: 40px;
                    color: #333;
                }
                h1 {
                    color: #2563eb;
                    margin-bottom: 10px;
                }
                .date-range {
                    color: #666;
                    font-size: 14px;
                    margin-bottom: 30px;
                }
                table {
                    width: 100%;
                    border-collapse: collapse;
                    margin-top: 20px;
                }
                th {
                    background-color: #2563eb;
                    color: white;
                    padding: 12px;
                    text-align: left;
                    font-weight: 600;
                }
                td {
                    padding: 10px 12px;
                    border-bottom: 1px solid #e5e7eb;
                }
                tr:nth-child(even) {
                    background-color: #f9fafb;
                }
                .footer {
                    margin-top: 40px;
                    padding-top: 20px;
                    border-top: 1px solid #e5e7eb;
                    color: #666;
                    font-size: 12px;
                    text-align: center;
                }
            </style>
        </head>
        <body>
            <h1>${n||"Analytics Report"}</h1>
            ${s?`<div class="date-range">${s}</div>`:""}
            <table>
                <thead>
                    <tr>
                        ${t.map(c=>`<th>${c}</th>`).join("")}
                    </tr>
                </thead>
                <tbody>
                    ${a.map(c=>`<tr>${c.map(d=>`<td>${d}</td>`).join("")}</tr>`).join("")}
                </tbody>
            </table>
            <div class="footer">
                Generated on ${new Date().toLocaleString()} | AgentBio.net Analytics
            </div>
        </body>
        </html>
    `;const i=window.open("","","height=600,width=800");i&&(i.document.write(o),i.document.close(),i.onload=()=>{i.print(),setTimeout(()=>{i.close()},100)})}function Mt(e,t="Search Analytics Report",a){return{title:t,dateRange:a,headers:["Query","Clicks","Impressions","CTR","Avg. Position"],rows:e.map(n=>[n.query,n.clicks,n.impressions,`${(n.ctr*100).toFixed(2)}%`,n.position.toFixed(1)])}}function Ma(e){const t=Sa(e),a=f.forwardRef((n,s)=>{const{children:o,...i}=n,c=f.Children.toArray(o),d=c.find(ka);if(d){const l=d.props.children,u=c.map(h=>h===d?f.Children.count(l)>1?f.Children.only(null):f.isValidElement(l)?l.props.children:null:h);return r.jsx(t,{...i,ref:s,children:f.isValidElement(l)?f.cloneElement(l,void 0,u):null})}return r.jsx(t,{...i,ref:s,children:o})});return a.displayName=`${e}.Slot`,a}function Sa(e){const t=f.forwardRef((a,n)=>{const{children:s,...o}=a;if(f.isValidElement(s)){const i=Oa(s),c=Ea(o,s.props);return s.type!==f.Fragment&&(c.ref=n?tt(n,i):i),f.cloneElement(s,c)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Da=Symbol("radix.slottable");function ka(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Da}function Ea(e,t){const a={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?a[n]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(a[n]=s):n==="style"?a[n]={...s,...o}:n==="className"&&(a[n]=[s,o].filter(Boolean).join(" "))}return{...e,...a}}function Oa(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var Je=["Enter"," "],Ra=["ArrowDown","PageUp","Home"],tn=["ArrowUp","PageDown","End"],Ia=[...Ra,...tn],Ta={ltr:[...Je,"ArrowRight"],rtl:[...Je,"ArrowLeft"]},La={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pe="Menu",[_e,Fa,$a]=rr(Pe),[ie,nn]=Rt(Pe,[$a,It,$t]),Ge=It(),rn=$t(),[za,ce]=ie(Pe),[Ga,Ae]=ie(Pe),an=e=>{const{__scopeMenu:t,open:a=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,c=Ge(t),[d,l]=f.useState(null),u=f.useRef(!1),h=Tt(o),m=ar(s);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(sr,{...c,children:r.jsx(za,{scope:t,open:a,onOpenChange:h,content:d,onContentChange:l,children:r.jsx(Ga,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:i,children:n})})})};an.displayName=Pe;var Ka="MenuAnchor",at=f.forwardRef((e,t)=>{const{__scopeMenu:a,...n}=e,s=Ge(a);return r.jsx(or,{...s,...n,ref:t})});at.displayName=Ka;var st="MenuPortal",[Ba,sn]=ie(st,{forceMount:void 0}),on=e=>{const{__scopeMenu:t,forceMount:a,children:n,container:s}=e,o=ce(st,t);return r.jsx(Ba,{scope:t,forceMount:a,children:r.jsx($e,{present:a||o.open,children:r.jsx(ir,{asChild:!0,container:s,children:n})})})};on.displayName=st;var U="MenuContent",[Ua,ot]=ie(U),cn=f.forwardRef((e,t)=>{const a=sn(U,e.__scopeMenu),{forceMount:n=a.forceMount,...s}=e,o=ce(U,e.__scopeMenu),i=Ae(U,e.__scopeMenu);return r.jsx(_e.Provider,{scope:e.__scopeMenu,children:r.jsx($e,{present:n||o.open,children:r.jsx(_e.Slot,{scope:e.__scopeMenu,children:i.modal?r.jsx(Va,{...s,ref:t}):r.jsx(Wa,{...s,ref:t})})})})}),Va=f.forwardRef((e,t)=>{const a=ce(U,e.__scopeMenu),n=f.useRef(null),s=Ne(t,n);return f.useEffect(()=>{const o=n.current;if(o)return cr(o)},[]),r.jsx(it,{...e,ref:s,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:j(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),Wa=f.forwardRef((e,t)=>{const a=ce(U,e.__scopeMenu);return r.jsx(it,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),qa=Ma("MenuContent.ScrollLock"),it=f.forwardRef((e,t)=>{const{__scopeMenu:a,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...b}=e,y=ce(U,a),P=Ae(U,a),C=Ge(a),S=rn(a),w=Fa(a),[N,_]=f.useState(null),A=f.useRef(null),M=Ne(t,A,y.onContentChange),D=f.useRef(0),E=f.useRef(""),O=f.useRef(0),q=f.useRef(null),H=f.useRef("right"),le=f.useRef(0),Me=x?ur:f.Fragment,de=x?{as:qa,allowPinchZoom:!0}:void 0,Qn=g=>{const he=E.current+g,te=w().filter(K=>!K.disabled),ve=document.activeElement,Ue=te.find(K=>K.ref.current===ve)?.textValue,Ve=te.map(K=>K.textValue),ut=ss(Ve,he,Ue),ye=te.find(K=>K.textValue===ut)?.ref.current;(function K(ht){E.current=ht,window.clearTimeout(D.current),ht!==""&&(D.current=window.setTimeout(()=>K(""),1e3))})(he),ye&&setTimeout(()=>ye.focus())};f.useEffect(()=>()=>window.clearTimeout(D.current),[]),dr();const ue=f.useCallback(g=>H.current===q.current?.side&&is(g,q.current?.area),[]);return r.jsx(Ua,{scope:a,searchRef:E,onItemEnter:f.useCallback(g=>{ue(g)&&g.preventDefault()},[ue]),onItemLeave:f.useCallback(g=>{ue(g)||(A.current?.focus(),_(null))},[ue]),onTriggerLeave:f.useCallback(g=>{ue(g)&&g.preventDefault()},[ue]),pointerGraceTimerRef:O,onPointerGraceIntentChange:f.useCallback(g=>{q.current=g},[]),children:r.jsx(Me,{...de,children:r.jsx(hr,{asChild:!0,trapped:s,onMountAutoFocus:j(o,g=>{g.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:r.jsx(fr,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:r.jsx(yr,{asChild:!0,...S,dir:P.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:j(d,g=>{P.isUsingKeyboardRef.current||g.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(mr,{role:"menu","aria-orientation":"vertical","data-state":Cn(y.open),"data-radix-menu-content":"",dir:P.dir,...C,...b,ref:M,style:{outline:"none",...b.style},onKeyDown:j(b.onKeyDown,g=>{const te=g.target.closest("[data-radix-menu-content]")===g.currentTarget,ve=g.ctrlKey||g.altKey||g.metaKey,Ue=g.key.length===1;te&&(g.key==="Tab"&&g.preventDefault(),!ve&&Ue&&Qn(g.key));const Ve=A.current;if(g.target!==Ve||!Ia.includes(g.key))return;g.preventDefault();const ye=w().filter(K=>!K.disabled).map(K=>K.ref.current);tn.includes(g.key)&&ye.reverse(),rs(ye)}),onBlur:j(e.onBlur,g=>{g.currentTarget.contains(g.target)||(window.clearTimeout(D.current),E.current="")}),onPointerMove:j(e.onPointerMove,Ce(g=>{const he=g.target,te=le.current!==g.clientX;if(g.currentTarget.contains(he)&&te){const ve=g.clientX>le.current?"right":"left";H.current=ve,le.current=g.clientX}}))})})})})})})});cn.displayName=U;var Ha="MenuGroup",ct=f.forwardRef((e,t)=>{const{__scopeMenu:a,...n}=e;return r.jsx(ge.div,{role:"group",...n,ref:t})});ct.displayName=Ha;var Ya="MenuLabel",ln=f.forwardRef((e,t)=>{const{__scopeMenu:a,...n}=e;return r.jsx(ge.div,{...n,ref:t})});ln.displayName=Ya;var Te="MenuItem",St="menu.itemSelect",Ke=f.forwardRef((e,t)=>{const{disabled:a=!1,onSelect:n,...s}=e,o=f.useRef(null),i=Ae(Te,e.__scopeMenu),c=ot(Te,e.__scopeMenu),d=Ne(t,o),l=f.useRef(!1),u=()=>{const h=o.current;if(!a&&h){const m=new CustomEvent(St,{bubbles:!0,cancelable:!0});h.addEventListener(St,p=>n?.(p),{once:!0}),lr(h,m),m.defaultPrevented?l.current=!1:i.onClose()}};return r.jsx(dn,{...s,ref:d,disabled:a,onClick:j(e.onClick,u),onPointerDown:h=>{e.onPointerDown?.(h),l.current=!0},onPointerUp:j(e.onPointerUp,h=>{l.current||h.currentTarget?.click()}),onKeyDown:j(e.onKeyDown,h=>{const m=c.searchRef.current!=="";a||m&&h.key===" "||Je.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ke.displayName=Te;var dn=f.forwardRef((e,t)=>{const{__scopeMenu:a,disabled:n=!1,textValue:s,...o}=e,i=ot(Te,a),c=rn(a),d=f.useRef(null),l=Ne(t,d),[u,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const x=d.current;x&&p((x.textContent??"").trim())},[o.children]),r.jsx(_e.ItemSlot,{scope:a,disabled:n,textValue:s??m,children:r.jsx(vr,{asChild:!0,...c,focusable:!n,children:r.jsx(ge.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:l,onPointerMove:j(e.onPointerMove,Ce(x=>{n?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:j(e.onPointerLeave,Ce(x=>i.onItemLeave(x))),onFocus:j(e.onFocus,()=>h(!0)),onBlur:j(e.onBlur,()=>h(!1))})})})}),Qa="MenuCheckboxItem",un=f.forwardRef((e,t)=>{const{checked:a=!1,onCheckedChange:n,...s}=e;return r.jsx(xn,{scope:e.__scopeMenu,checked:a,children:r.jsx(Ke,{role:"menuitemcheckbox","aria-checked":Le(a)?"mixed":a,...s,ref:t,"data-state":dt(a),onSelect:j(s.onSelect,()=>n?.(Le(a)?!0:!a),{checkForDefaultPrevented:!1})})})});un.displayName=Qa;var hn="MenuRadioGroup",[Xa,Ja]=ie(hn,{value:void 0,onValueChange:()=>{}}),fn=f.forwardRef((e,t)=>{const{value:a,onValueChange:n,...s}=e,o=Tt(n);return r.jsx(Xa,{scope:e.__scopeMenu,value:a,onValueChange:o,children:r.jsx(ct,{...s,ref:t})})});fn.displayName=hn;var mn="MenuRadioItem",pn=f.forwardRef((e,t)=>{const{value:a,...n}=e,s=Ja(mn,e.__scopeMenu),o=a===s.value;return r.jsx(xn,{scope:e.__scopeMenu,checked:o,children:r.jsx(Ke,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":dt(o),onSelect:j(n.onSelect,()=>s.onValueChange?.(a),{checkForDefaultPrevented:!1})})})});pn.displayName=mn;var lt="MenuItemIndicator",[xn,Za]=ie(lt,{checked:!1}),gn=f.forwardRef((e,t)=>{const{__scopeMenu:a,forceMount:n,...s}=e,o=Za(lt,a);return r.jsx($e,{present:n||Le(o.checked)||o.checked===!0,children:r.jsx(ge.span,{...s,ref:t,"data-state":dt(o.checked)})})});gn.displayName=lt;var es="MenuSeparator",vn=f.forwardRef((e,t)=>{const{__scopeMenu:a,...n}=e;return r.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});vn.displayName=es;var ts="MenuArrow",yn=f.forwardRef((e,t)=>{const{__scopeMenu:a,...n}=e,s=Ge(a);return r.jsx(pr,{...s,...n,ref:t})});yn.displayName=ts;var ns="MenuSub",[fo,bn]=ie(ns),je="MenuSubTrigger",wn=f.forwardRef((e,t)=>{const a=ce(je,e.__scopeMenu),n=Ae(je,e.__scopeMenu),s=bn(je,e.__scopeMenu),o=ot(je,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,l={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),d(null)}},[c,d]),r.jsx(at,{asChild:!0,...l,children:r.jsx(dn,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":s.contentId,"data-state":Cn(a.open),...e,ref:tt(t,s.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:j(e.onPointerMove,Ce(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!a.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{a.onOpenChange(!0),u()},100))})),onPointerLeave:j(e.onPointerLeave,Ce(h=>{u();const m=a.content?.getBoundingClientRect();if(m){const p=a.content?.dataset.side,x=p==="right",b=x?-5:5,y=m[x?"left":"right"],P=m[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:y,y:m.top},{x:P,y:m.top},{x:P,y:m.bottom},{x:y,y:m.bottom}],side:p}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:j(e.onKeyDown,h=>{const m=o.searchRef.current!=="";e.disabled||m&&h.key===" "||Ta[n.dir].includes(h.key)&&(a.onOpenChange(!0),a.content?.focus(),h.preventDefault())})})})});wn.displayName=je;var jn="MenuSubContent",_n=f.forwardRef((e,t)=>{const a=sn(U,e.__scopeMenu),{forceMount:n=a.forceMount,...s}=e,o=ce(U,e.__scopeMenu),i=Ae(U,e.__scopeMenu),c=bn(jn,e.__scopeMenu),d=f.useRef(null),l=Ne(t,d);return r.jsx(_e.Provider,{scope:e.__scopeMenu,children:r.jsx($e,{present:n||o.open,children:r.jsx(_e.Slot,{scope:e.__scopeMenu,children:r.jsx(it,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:l,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{i.isUsingKeyboardRef.current&&d.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:j(e.onFocusOutside,u=>{u.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:j(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:j(e.onKeyDown,u=>{const h=u.currentTarget.contains(u.target),m=La[i.dir].includes(u.key);h&&m&&(o.onOpenChange(!1),c.trigger?.focus(),u.preventDefault())})})})})})});_n.displayName=jn;function Cn(e){return e?"open":"closed"}function Le(e){return e==="indeterminate"}function dt(e){return Le(e)?"indeterminate":e?"checked":"unchecked"}function rs(e){const t=document.activeElement;for(const a of e)if(a===t||(a.focus(),document.activeElement!==t))return}function as(e,t){return e.map((a,n)=>e[(t+n)%e.length])}function ss(e,t,a){const s=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,o=a?e.indexOf(a):-1;let i=as(e,Math.max(o,0));s.length===1&&(i=i.filter(l=>l!==a));const d=i.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return d!==a?d:void 0}function os(e,t){const{x:a,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const c=t[o],d=t[i],l=c.x,u=c.y,h=d.x,m=d.y;u>n!=m>n&&a<(h-l)*(n-u)/(m-u)+l&&(s=!s)}return s}function is(e,t){if(!t)return!1;const a={x:e.clientX,y:e.clientY};return os(a,t)}function Ce(e){return t=>t.pointerType==="mouse"?e(t):void 0}var cs=an,ls=at,ds=on,us=cn,hs=ct,fs=ln,ms=Ke,ps=un,xs=fn,gs=pn,vs=gn,ys=vn,bs=yn,ws=wn,js=_n,Be="DropdownMenu",[_s]=Rt(Be,[nn]),R=nn(),[Cs,Nn]=_s(Be),Pn=e=>{const{__scopeDropdownMenu:t,children:a,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:c=!0}=e,d=R(t),l=f.useRef(null),[u,h]=xr({prop:s,defaultProp:o??!1,onChange:i,caller:Be});return r.jsx(Cs,{scope:t,triggerId:pt(),triggerRef:l,contentId:pt(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:c,children:r.jsx(cs,{...d,open:u,onOpenChange:h,dir:n,modal:c,children:a})})};Pn.displayName=Be;var An="DropdownMenuTrigger",Mn=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,disabled:n=!1,...s}=e,o=Nn(An,a),i=R(a);return r.jsx(ls,{asChild:!0,...i,children:r.jsx(ge.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:tt(t,o.triggerRef),onPointerDown:j(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:j(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Mn.displayName=An;var Ns="DropdownMenuPortal",Sn=e=>{const{__scopeDropdownMenu:t,...a}=e,n=R(t);return r.jsx(ds,{...n,...a})};Sn.displayName=Ns;var Dn="DropdownMenuContent",kn=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=Nn(Dn,a),o=R(a),i=f.useRef(!1);return r.jsx(us,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:j(e.onCloseAutoFocus,c=>{i.current||s.triggerRef.current?.focus(),i.current=!1,c.preventDefault()}),onInteractOutside:j(e.onInteractOutside,c=>{const d=c.detail.originalEvent,l=d.button===0&&d.ctrlKey===!0,u=d.button===2||l;(!s.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kn.displayName=Dn;var Ps="DropdownMenuGroup",As=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=R(a);return r.jsx(hs,{...s,...n,ref:t})});As.displayName=Ps;var Ms="DropdownMenuLabel",En=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=R(a);return r.jsx(fs,{...s,...n,ref:t})});En.displayName=Ms;var Ss="DropdownMenuItem",On=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=R(a);return r.jsx(ms,{...s,...n,ref:t})});On.displayName=Ss;var Ds="DropdownMenuCheckboxItem",Rn=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=R(a);return r.jsx(ps,{...s,...n,ref:t})});Rn.displayName=Ds;var ks="DropdownMenuRadioGroup",Es=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=R(a);return r.jsx(xs,{...s,...n,ref:t})});Es.displayName=ks;var Os="DropdownMenuRadioItem",In=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=R(a);return r.jsx(gs,{...s,...n,ref:t})});In.displayName=Os;var Rs="DropdownMenuItemIndicator",Tn=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=R(a);return r.jsx(vs,{...s,...n,ref:t})});Tn.displayName=Rs;var Is="DropdownMenuSeparator",Ln=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=R(a);return r.jsx(ys,{...s,...n,ref:t})});Ln.displayName=Is;var Ts="DropdownMenuArrow",Ls=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=R(a);return r.jsx(bs,{...s,...n,ref:t})});Ls.displayName=Ts;var Fs="DropdownMenuSubTrigger",Fn=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=R(a);return r.jsx(ws,{...s,...n,ref:t})});Fn.displayName=Fs;var $s="DropdownMenuSubContent",$n=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,...n}=e,s=R(a);return r.jsx(js,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$n.displayName=$s;var zs=Pn,Gs=Mn,Ks=Sn,zn=kn,Gn=En,Kn=On,Bn=Rn,Un=In,Vn=Tn,Wn=Ln,qn=Fn,Hn=$n;const Bs=zs,Us=Gs,Vs=f.forwardRef(({className:e,inset:t,children:a,...n},s)=>r.jsx(qn,{ref:s,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-gray-100 data-[state=open]:bg-gray-100",t&&"pl-8",e),...n,children:a}));Vs.displayName=qn.displayName;const Ws=f.forwardRef(({className:e,...t},a)=>r.jsx(Hn,{ref:a,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 text-gray-900 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Ws.displayName=Hn.displayName;const Yn=f.forwardRef(({className:e,sideOffset:t=4,...a},n)=>r.jsx(Ks,{children:r.jsx(zn,{ref:n,sideOffset:t,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 text-gray-900 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));Yn.displayName=zn.displayName;const Ze=f.forwardRef(({className:e,inset:t,...a},n)=>r.jsx(Kn,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));Ze.displayName=Kn.displayName;const qs=f.forwardRef(({className:e,children:t,checked:a,...n},s)=>r.jsxs(Bn,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Vn,{children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})})}),t]}));qs.displayName=Bn.displayName;const Hs=f.forwardRef(({className:e,children:t,...a},n)=>r.jsxs(Un,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Vn,{children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-2 w-2",children:r.jsx("circle",{cx:"12",cy:"12",r:"12"})})})}),t]}));Hs.displayName=Un.displayName;const Ys=f.forwardRef(({className:e,inset:t,...a},n)=>r.jsx(Gn,{ref:n,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}));Ys.displayName=Gn.displayName;const Qs=f.forwardRef(({className:e,...t},a)=>r.jsx(Wn,{ref:a,className:ee("-mx-1 my-1 h-px bg-gray-200",e),...t}));Qs.displayName=Wn.displayName;function mo(){const{toast:e}=Fe(),[t,a]=f.useState({start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[n,s]=f.useState(["google_search_console","google_analytics"]),o=ma(),i=async()=>{try{await o.mutateAsync({start_date:t.start,end_date:t.end,force_refresh:!0})}catch(l){console.error("Failed to refresh data:",l)}},c=()=>{const l=[{query:"luxury homes Los Angeles",clicks:245,impressions:1230,ctr:.199,position:3.2},{query:"real estate agent near me",clicks:189,impressions:2100,ctr:.09,position:5.8},{query:"homes for sale Beverly Hills",clicks:167,impressions:890,ctr:.188,position:2.1},{query:"best realtor LA",clicks:134,impressions:1500,ctr:.089,position:7.3},{query:"property listings California",clicks:98,impressions:670,ctr:.146,position:4.5}],u=`${t.start} to ${t.end}`,h=Mt(l,"Search Analytics Report",u);Pa(h),e({title:"Exported to CSV",description:"Your analytics data has been downloaded."})},d=()=>{const l=[{query:"luxury homes Los Angeles",clicks:245,impressions:1230,ctr:.199,position:3.2},{query:"real estate agent near me",clicks:189,impressions:2100,ctr:.09,position:5.8},{query:"homes for sale Beverly Hills",clicks:167,impressions:890,ctr:.188,position:2.1},{query:"best realtor LA",clicks:134,impressions:1500,ctr:.089,position:7.3},{query:"property listings California",clicks:98,impressions:670,ctr:.146,position:4.5}],u=`${t.start} to ${t.end}`,h=Mt(l,"Search Analytics Report",u);Aa(h),e({title:"Opening PDF",description:"Your analytics report is being prepared for printing."})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[r.jsxs(J,{variant:"outline",size:"sm",onClick:i,disabled:o.isPending,children:[r.jsx($r,{className:`h-4 w-4 mr-2 ${o.isPending?"animate-spin":""}`}),"Refresh Data"]}),r.jsxs(Bs,{children:[r.jsx(Us,{asChild:!0,children:r.jsxs(J,{variant:"outline",size:"sm",children:[r.jsx(gr,{className:"h-4 w-4 mr-2"}),"Export"]})}),r.jsxs(Yn,{align:"end",children:[r.jsxs(Ze,{onClick:c,children:[r.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Export to CSV"]}),r.jsxs(Ze,{onClick:d,children:[r.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Export to PDF"]})]})]}),r.jsxs(J,{variant:"outline",size:"sm",children:[r.jsx(zr,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),r.jsx(ba,{}),r.jsxs(F,{children:[r.jsxs($,{children:[r.jsx(z,{children:"Filters"}),r.jsx(B,{children:"Customize your analytics view"})]}),r.jsxs(G,{className:"flex flex-wrap gap-4",children:[r.jsx(_a,{startDate:t.start,endDate:t.end,onChange:(l,u)=>a({start:l,end:u})}),r.jsx(Na,{selectedPlatforms:n,onChange:s})]})]}),r.jsxs(Lt,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(Ft,{children:[r.jsx(Q,{value:"overview",children:"Overview"}),r.jsx(Q,{value:"queries",children:"Top Queries"}),r.jsx(Q,{value:"pages",children:"Top Pages"}),r.jsx(Q,{value:"devices",children:"Devices"}),r.jsx(Q,{value:"countries",children:"Countries"})]}),r.jsxs(X,{value:"overview",className:"space-y-4",children:[r.jsx(wa,{startDate:t.start,endDate:t.end,platforms:n}),r.jsx(ja,{startDate:t.start,endDate:t.end,platforms:n}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs(F,{children:[r.jsxs($,{children:[r.jsx(z,{children:"Top 10 Queries"}),r.jsx(B,{children:"Highest performing search queries"})]}),r.jsx(G,{children:r.jsx(Pt,{startDate:t.start,endDate:t.end,platforms:n,limit:10})})]}),r.jsxs(F,{children:[r.jsxs($,{children:[r.jsx(z,{children:"Top 10 Pages"}),r.jsx(B,{children:"Highest performing pages"})]}),r.jsx(G,{children:r.jsx(At,{startDate:t.start,endDate:t.end,platforms:n,limit:10})})]})]})]}),r.jsx(X,{value:"queries",className:"space-y-4",children:r.jsxs(F,{children:[r.jsxs($,{children:[r.jsx(z,{children:"All Search Queries"}),r.jsx(B,{children:"Complete list of search queries with performance metrics"})]}),r.jsx(G,{children:r.jsx(Pt,{startDate:t.start,endDate:t.end,platforms:n,limit:100})})]})}),r.jsx(X,{value:"pages",className:"space-y-4",children:r.jsxs(F,{children:[r.jsxs($,{children:[r.jsx(z,{children:"All Pages"}),r.jsx(B,{children:"Complete list of pages with traffic metrics"})]}),r.jsx(G,{children:r.jsx(At,{startDate:t.start,endDate:t.end,platforms:n,limit:100})})]})}),r.jsx(X,{value:"devices",className:"space-y-4",children:r.jsxs(F,{children:[r.jsxs($,{children:[r.jsx(z,{children:"Device Breakdown"}),r.jsx(B,{children:"Performance metrics by device type"})]}),r.jsx(G,{children:r.jsx("p",{className:"text-muted-foreground",children:"Device analytics coming soon..."})})]})}),r.jsx(X,{value:"countries",className:"space-y-4",children:r.jsxs(F,{children:[r.jsxs($,{children:[r.jsx(z,{children:"Geographic Distribution"}),r.jsx(B,{children:"Performance metrics by country"})]}),r.jsx(G,{children:r.jsx("p",{className:"text-muted-foreground",children:"Geographic analytics coming soon..."})})]})})]})]})}export{da as A,Ee as C,Bs as D,mo as S,W as a,Us as b,Yn as c,Ze as d};
