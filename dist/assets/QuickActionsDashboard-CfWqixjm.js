import{F as M,r as j,j as e,B as g,t as C,a1 as Q,v as O,a$ as w,o as B,a6 as V,a4 as F,i as P,k as z,l as E,m as U,n as S,I as J,a2 as W,E as X,M as Y}from"./index-CH8a_jH7.js";import{C as I}from"./clock-BK33_tLh.js";import{C as Z}from"./circle-x-CvQby9dB.js";import{f as G}from"./formatDistanceToNow-CN2pU5CK.js";import{T as R}from"./triangle-alert-BMXRUX3N.js";import{S as _}from"./square-DBY99bgS.js";import{S as ee}from"./square-pen-WI1F4rAb.js";import{T as se}from"./trash-2-D7F6DUix.js";import{S as te}from"./save-CNxUnxma.js";import{T as ae,a as re,b as q,c as H}from"./tabs-41VQSFaO.js";/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=M("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=M("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=M("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=M("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);function ce({listings:s,onStatusChange:r,onRefresh:n,isLoading:l=!1}){const[m,p]=j.useState(new Set),[v,x]=j.useState(new Set),[d,h]=j.useState("all"),y=t=>Math.floor((Date.now()-new Date(t.updatedAt).getTime())/864e5)>=7&&t.status==="active",N=s.filter(t=>d==="all"?!0:d==="stale"?y(t):t.status===d),b={total:s.length,active:s.filter(t=>t.status==="active").length,pending:s.filter(t=>t.status==="pending").length,sold:s.filter(t=>t.status==="sold").length,stale:s.filter(t=>y(t)).length},f=async(t,c)=>{x(u=>new Set(u).add(t));try{await r(t,c),w.success(`Listing updated to ${c}`)}catch(u){console.error("Failed to update status:",u),w.error("Failed to update listing")}finally{x(u=>{const A=new Set(u);return A.delete(t),A})}},o=async t=>{if(m.size===0){w.warning("No listings selected");return}const c=m.size;w.info(`Updating ${c} listing(s)...`);const u=Array.from(m).map(A=>f(A,t));await Promise.all(u),p(new Set),w.success(`${c} listing(s) updated to ${t}`)},k=t=>{p(c=>{const u=new Set(c);return u.has(t)?u.delete(t):u.add(t),u})},T=()=>{p(new Set(N.map(t=>t.id)))},a=()=>{p(new Set)};return j.useEffect(()=>{const t=c=>{if(!(c.target instanceof HTMLInputElement||c.target instanceof HTMLTextAreaElement)&&m.size!==0)switch(c.key.toLowerCase()){case"s":c.preventDefault(),o("sold");break;case"p":c.preventDefault(),o("pending");break;case"a":c.preventDefault(),o("active");break;case"escape":a();break}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[m]),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Quick Status Updates"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click listings to select, then use buttons or keyboard shortcuts"})]}),e.jsxs(g,{variant:"outline",size:"sm",onClick:n,disabled:l,className:"gap-2",children:[e.jsx($,{className:C("w-4 h-4",l&&"animate-spin")}),"Refresh"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[e.jsx(D,{label:"Total",count:b.total,active:d==="all",onClick:()=>h("all")}),e.jsx(D,{label:"Active",count:b.active,active:d==="active",onClick:()=>h("active"),color:"green"}),e.jsx(D,{label:"Pending",count:b.pending,active:d==="pending",onClick:()=>h("pending"),color:"yellow"}),e.jsx(D,{label:"Sold",count:b.sold,color:"blue"}),e.jsx(D,{label:"Stale",count:b.stale,active:d==="stale",onClick:()=>h("stale"),color:"orange",alert:b.stale>0})]}),m.size>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"font-semibold",children:[m.size," selected"]}),e.jsx(g,{variant:"ghost",size:"sm",onClick:T,children:"Select All"}),e.jsx(g,{variant:"ghost",size:"sm",onClick:a,children:"Clear"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{size:"sm",variant:"outline",onClick:()=>o("active"),className:"gap-1",children:[e.jsx(Q,{className:"w-4 h-4"}),"Active ",e.jsx("kbd",{className:"ml-1 text-xs",children:"A"})]}),e.jsxs(g,{size:"sm",variant:"outline",onClick:()=>o("pending"),className:"gap-1",children:[e.jsx(I,{className:"w-4 h-4"}),"Pending ",e.jsx("kbd",{className:"ml-1 text-xs",children:"P"})]}),e.jsxs(g,{size:"sm",variant:"outline",onClick:()=>o("sold"),className:"gap-1",children:[e.jsx(Z,{className:"w-4 h-4"}),"Sold ",e.jsx("kbd",{className:"ml-1 text-xs",children:"S"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(t=>e.jsx(de,{listing:t,isSelected:m.has(t.id),isUpdating:v.has(t.id),onSelect:()=>k(t.id),onStatusChange:f,isStale:y(t)},t.id))}),N.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(O,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"No listings found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]})]})}function D({label:s,count:r,active:n,onClick:l,color:m,alert:p}){const v={green:"text-green-600 bg-green-50 border-green-200",yellow:"text-yellow-600 bg-yellow-50 border-yellow-200",blue:"text-blue-600 bg-blue-50 border-blue-200",orange:"text-orange-600 bg-orange-50 border-orange-200"};return e.jsxs("button",{onClick:l,disabled:!l,className:C("relative p-4 rounded-lg border-2 transition-all",n?"border-primary bg-primary/5":"border-gray-200 bg-white",l&&"hover:border-primary/50 cursor-pointer",!l&&"cursor-default"),children:[p&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full animate-pulse"}),e.jsx("div",{className:"text-3xl font-bold",children:r}),e.jsx("div",{className:C("text-sm font-medium",m&&v[m]),children:s})]})}function de({listing:s,isSelected:r,isUpdating:n,onSelect:l,onStatusChange:m,isStale:p}){const v={active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800"};return e.jsxs("div",{onClick:l,className:C("relative group p-4 rounded-lg border-2 transition-all cursor-pointer",r?"border-primary bg-primary/5 shadow-md":"border-gray-200 bg-white hover:border-gray-300",n&&"opacity-50 pointer-events-none",p&&"border-l-4 border-l-orange-500"),children:[e.jsx("div",{className:C("absolute top-2 left-2 w-5 h-5 rounded border-2 flex items-center justify-center",r?"bg-primary border-primary":"border-gray-300 group-hover:border-primary"),children:r&&e.jsx(Q,{className:"w-4 h-4 text-white"})}),p&&e.jsxs(B,{variant:"outline",className:"absolute top-2 right-2 bg-orange-100 text-orange-800 border-orange-300",children:[e.jsx(I,{className:"w-3 h-3 mr-1"}),"Stale"]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold text-sm truncate mb-1",children:s.title}),e.jsxs("p",{className:"text-lg font-bold text-primary mb-2",children:["$",s.price.toLocaleString()]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(B,{className:v[s.status],children:s.status.toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-500",children:G(new Date(s.updatedAt),{addSuffix:!0})})]}),(s.views!==void 0||s.leads!==void 0)&&e.jsxs("div",{className:"flex gap-3 text-xs text-gray-600 mb-3",children:[s.views!==void 0&&e.jsxs("span",{children:["ðŸ‘ï¸ ",s.views," views"]}),s.leads!==void 0&&e.jsxs("span",{children:["ðŸ‘¥ ",s.leads," leads"]})]}),e.jsxs("div",{className:"flex gap-2",children:[s.status!=="sold"&&e.jsx(g,{size:"sm",variant:"outline",onClick:x=>{x.stopPropagation(),m(s.id,"sold")},className:"flex-1 text-xs",children:"Mark Sold"}),s.status!=="pending"&&e.jsx(g,{size:"sm",variant:"outline",onClick:x=>{x.stopPropagation(),m(s.id,"pending")},className:"flex-1 text-xs",children:"Pending"})]})]}),n&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 rounded-lg",children:e.jsx($,{className:"w-6 h-6 animate-spin text-primary"})})]})}function oe({staleListings:s,onDismiss:r,onRefresh:n,onDismissAll:l,className:m}){const[p,v]=j.useState(!0),[x,d]=j.useState(new Set);j.useEffect(()=>{const o=localStorage.getItem("dismissed-stale-alerts");if(o)try{d(new Set(JSON.parse(o)))}catch(k){console.error("Failed to parse dismissed alerts:",k)}},[]),j.useEffect(()=>{localStorage.setItem("dismissed-stale-alerts",JSON.stringify(Array.from(x)))},[x]);const h=s.filter(o=>!x.has(o.id));if(h.length===0)return null;const y=o=>{d(k=>new Set(k).add(o)),r==null||r(o)},N=()=>{d(new Set(s.map(o=>o.id))),l==null||l()},b=h.filter(o=>o.daysSinceUpdate>=14).length,f=h.length-b;return e.jsxs("div",{className:C("bg-orange-50 border-2 border-orange-200 rounded-lg",m),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>v(!p),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"w-6 h-6 text-orange-600"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-600 text-white text-xs rounded-full flex items-center justify-center font-bold",children:h.length})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-orange-900",children:"Stale Listings Need Attention"}),e.jsxs("p",{className:"text-sm text-orange-700",children:[b>0&&e.jsxs("span",{className:"font-medium",children:[b," critical (14+ days)"]}),b>0&&f>0&&" Â· ",f>0&&e.jsxs("span",{children:[f," warning (7+ days)"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{size:"sm",variant:"ghost",onClick:o=>{o.stopPropagation(),N()},className:"text-orange-700 hover:text-orange-900",children:"Dismiss All"}),e.jsx(g,{size:"sm",variant:"ghost",className:"text-orange-700",onClick:o=>o.stopPropagation(),children:p?"â–¼":"â–¶"})]})]}),p&&e.jsx("div",{className:"border-t border-orange-200 divide-y divide-orange-200",children:h.map(o=>e.jsx(he,{listing:o,onDismiss:()=>y(o.id),onRefresh:()=>n==null?void 0:n(o.id)},o.id))}),p&&e.jsxs("div",{className:"p-4 bg-orange-100/50 border-t border-orange-200",children:[e.jsx("p",{className:"text-xs text-orange-800 mb-2 font-medium",children:"ðŸ’¡ Quick Tips:"}),e.jsxs("ul",{className:"text-xs text-orange-700 space-y-1 ml-4 list-disc",children:[e.jsx("li",{children:"Update listing descriptions with recent improvements or price changes"}),e.jsx("li",{children:"Add new photos to refresh your listing's appeal"}),e.jsx("li",{children:"Verify pricing is still competitive in current market"}),e.jsx("li",{children:"Check if property status has changed"})]})]})]})}function he({listing:s,onDismiss:r,onRefresh:n}){const l=s.daysSinceUpdate>=14;return e.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-orange-100/30 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.title}),e.jsx(B,{variant:"outline",className:C("text-xs",l?"bg-red-100 text-red-800 border-red-300":"bg-yellow-100 text-yellow-800 border-yellow-300"),children:l?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-3 h-3 mr-1"}),"CRITICAL"]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-3 h-3 mr-1"}),"WARNING"]})})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["Status: ",s.status]}),e.jsxs("span",{children:["Last updated:"," ",G(new Date(s.updatedAt),{addSuffix:!0})]}),e.jsxs("span",{className:"font-medium text-orange-700",children:[s.daysSinceUpdate," days old"]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(g,{size:"sm",variant:"outline",onClick:n,className:"gap-1 bg-white",children:[e.jsx($,{className:"w-3 h-3"}),"Update"]}),e.jsx(g,{size:"sm",variant:"ghost",onClick:r,children:e.jsx(V,{className:"w-4 h-4"})})]})]})}function me({count:s}){return s===0?null:e.jsxs(B,{variant:"outline",className:"bg-orange-100 text-orange-800 border-orange-300 animate-pulse",children:[e.jsx(R,{className:"w-3 h-3 mr-1"}),s," Stale"]})}function xe({listings:s,selectedIds:r,onToggleSelect:n,onSelectAll:l,onClearSelection:m,onBulkUpdate:p,onBulkDelete:v}){const[x,d]=j.useState(!1),[h,y]=j.useState({}),[N,b]=j.useState("increase"),[f,o]=j.useState(""),[k,T]=j.useState("percent"),a=s.filter(i=>r.includes(i.id)),t=s.length>0&&r.length===s.length,c=async()=>{if(r.length===0){w.error("No listings selected");return}const i={...h};if(f&&(i.priceAdjustment={type:N,value:parseFloat(f),unit:k}),Object.keys(i).length===0){w.warning("No changes to apply");return}try{await p(i),w.success(`${r.length} listing(s) updated`),d(!1),y({}),o("")}catch(L){console.error("Bulk update failed:",L),w.error("Failed to update listings")}},u=async()=>{if(r.length===0){w.error("No listings selected");return}if(confirm(`Delete ${r.length} listing(s)? This cannot be undone.`))try{await v(r),w.success(`${r.length} listing(s) deleted`),m()}catch(i){console.error("Bulk delete failed:",i),w.error("Failed to delete listings")}},A=i=>{if(!f)return i.price;const L=parseFloat(f);if(isNaN(L))return i.price;switch(N){case"increase":return k==="percent"?i.price*(1+L/100):i.price+L;case"decrease":return k==="percent"?i.price*(1-L/100):i.price-L;case"set":return L;default:return i.price}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(g,{variant:"outline",size:"sm",onClick:t?m:l,className:"gap-2",children:t?e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"w-4 h-4"}),"Deselect All"]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4"}),"Select All"]})}),e.jsxs("span",{className:"text-sm font-medium",children:[r.length," of ",s.length," selected"]})]}),e.jsx("div",{className:"flex gap-2",children:r.length>0&&!x&&e.jsxs(e.Fragment,{children:[e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>d(!0),className:"gap-2",children:[e.jsx(ee,{className:"w-4 h-4"}),"Bulk Edit"]}),e.jsxs(g,{variant:"destructive",size:"sm",onClick:u,className:"gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Delete Selected"]})]})})]}),x&&r.length>0&&e.jsxs("div",{className:"p-6 bg-white rounded-lg border-2 border-primary shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Bulk Edit ",r.length," Listings"]}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>d(!1),children:e.jsx(V,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Update Status"}),e.jsxs(P,{value:h.status||"",onValueChange:i=>y({...h,status:i}),children:[e.jsx(z,{children:e.jsx(E,{placeholder:"Keep current status"})}),e.jsxs(U,{children:[e.jsx(S,{value:"active",children:"Active"}),e.jsx(S,{value:"pending",children:"Pending"}),e.jsx(S,{value:"sold",children:"Sold"}),e.jsx(S,{value:"draft",children:"Draft"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Update Category"}),e.jsxs(P,{value:h.category||"",onValueChange:i=>y({...h,category:i}),children:[e.jsx(z,{children:e.jsx(E,{placeholder:"Keep current category"})}),e.jsxs(U,{children:[e.jsx(S,{value:"residential",children:"Residential"}),e.jsx(S,{value:"commercial",children:"Commercial"}),e.jsx(S,{value:"land",children:"Land"}),e.jsx(S,{value:"rental",children:"Rental"})]})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(F,{children:"Price Adjustment"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs(P,{value:N,onValueChange:i=>b(i),children:[e.jsx(z,{children:e.jsx(E,{})}),e.jsxs(U,{children:[e.jsx(S,{value:"increase",children:"Increase"}),e.jsx(S,{value:"decrease",children:"Decrease"}),e.jsx(S,{value:"set",children:"Set to"})]})]}),e.jsx(J,{type:"number",placeholder:"Value",value:f,onChange:i=>o(i.target.value)}),e.jsxs(P,{value:k,onValueChange:i=>T(i),children:[e.jsx(z,{children:e.jsx(E,{})}),e.jsxs(U,{children:[e.jsx(S,{value:"percent",children:"Percent"}),e.jsx(S,{value:"amount",children:"Amount"})]})]})]})]})]}),a.length>0&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Preview Changes"}),e.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[a.slice(0,5).map(i=>e.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-white rounded",children:[e.jsx("span",{className:"truncate flex-1",children:i.title}),f&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 line-through",children:["$",i.price.toLocaleString()]}),e.jsxs("span",{className:"font-medium text-primary",children:["$",A(i).toLocaleString()]})]})]},i.id)),a.length>5&&e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["... and ",a.length-5," ","more"]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(g,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsxs(g,{onClick:c,className:"gap-2",children:[e.jsx(te,{className:"w-4 h-4"}),"Apply Changes"]})]})]})]})}function ue({shortcuts:s,className:r}){const[n,l]=j.useState(!1),[m,p]=j.useState("");j.useEffect(()=>{const x=d=>{if(d.target instanceof HTMLInputElement||d.target instanceof HTMLTextAreaElement)return;if(d.key==="?"&&!d.shiftKey){d.preventDefault(),l(y=>!y);return}const h=s.find(y=>y.key.toLowerCase()===d.key.toLowerCase());h&&(d.preventDefault(),h.action(),p(h.key),setTimeout(()=>p(""),1e3))};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[s]);const v=s.reduce((x,d)=>{const h=d.category||"General";return x[h]||(x[h]=[]),x[h].push(d),x},{});return e.jsxs(e.Fragment,{children:[e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>l(!0),className:C("fixed bottom-4 right-4 md:bottom-6 md:right-6 z-30","shadow-lg gap-2",r),children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Shortcuts"}),e.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-gray-100 rounded border",children:"?"})]}),m&&e.jsx("div",{className:"fixed top-20 right-4 bg-primary text-white px-4 py-2 rounded-lg shadow-lg animate-in slide-in-from-top-5 duration-300 z-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"px-2 py-1 bg-white/20 rounded text-sm font-mono",children:m}),e.jsx("span",{className:"text-sm",children:"Shortcut used!"})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),e.jsx("h3",{className:"font-semibold text-lg",children:"Keyboard Shortcuts"})]}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:e.jsx(V,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-80px)]",children:[Object.entries(v).map(([x,d])=>e.jsxs("div",{className:"mb-6 last:mb-0",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-600 mb-3 uppercase tracking-wide",children:x}),e.jsx("div",{className:"space-y-2",children:d.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"text-sm",children:h.description}),e.jsx("kbd",{className:"px-3 py-1.5 bg-white border border-gray-300 rounded shadow-sm font-mono text-sm",children:h.key.toUpperCase()})]},h.key))})]},x)),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"ðŸ’¡ Pro Tip:"})," Press"," ",e.jsx("kbd",{className:"px-2 py-1 bg-white rounded text-xs",children:"?"})," ","anytime to toggle this panel. Shortcuts don't work when typing in text fields."]})})]})]})})]})}function pe({stats:s,period:r="Last 30 days",className:n}){return e.jsxs("div",{className:C("space-y-4",n),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Quick Analytics"}),e.jsx("span",{className:"text-sm text-gray-600",children:r})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.map((l,m)=>e.jsx(ge,{stat:l},m))})]})}function ge({stat:s}){const r=s.icon||O,n=s.trend==="up",l=s.trend==="down";return e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("div",{className:C("p-2 rounded-lg",n&&"bg-green-100",l&&"bg-red-100",!n&&!l&&"bg-gray-100"),children:e.jsx(r,{className:C("w-4 h-4",n&&"text-green-600",l&&"text-red-600",!n&&!l&&"text-gray-600")})}),s.change!==void 0&&e.jsxs("div",{className:C("flex items-center gap-1 text-xs font-medium",n&&"text-green-600",l&&"text-red-600",!n&&!l&&"text-gray-600"),children:[n&&e.jsx(le,{className:"w-3 h-3"}),l&&e.jsx(ne,{className:"w-3 h-3"}),Math.abs(s.change),"%"]})]}),e.jsx("div",{className:"text-2xl font-bold mb-1",children:s.value}),e.jsx("div",{className:"text-sm text-gray-600",children:s.label}),s.changeLabel&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s.changeLabel})]})}const je=s=>[{label:"Total Listings",value:s.totalListings,icon:O,trend:"neutral"},{label:"Active Listings",value:s.activeListings,icon:W,trend:"up"},{label:"Total Views",value:s.totalViews.toLocaleString(),change:s.viewsChange,changeLabel:s.viewsChange?"vs last period":void 0,icon:X,trend:s.viewsChange&&s.viewsChange>0?"up":s.viewsChange&&s.viewsChange<0?"down":"neutral"},{label:"Total Leads",value:s.totalLeads,change:s.leadsChange,changeLabel:s.leadsChange?"vs last period":void 0,icon:Y,trend:s.leadsChange&&s.leadsChange>0?"up":s.leadsChange&&s.leadsChange<0?"down":"neutral"}],fe=[{id:"1",title:"Modern 3BR House in Downtown",price:45e4,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*9).toISOString(),views:156,leads:12},{id:"2",title:"Luxury Condo with Ocean View",price:85e4,status:"pending",updatedAt:new Date(Date.now()-1e3*60*60*24*2).toISOString(),views:243,leads:18},{id:"3",title:"Cozy 2BR Apartment Near Park",price:325e3,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*15).toISOString(),views:89,leads:5},{id:"4",title:"Spacious Family Home with Pool",price:675e3,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*12).toISOString(),views:198,leads:22},{id:"5",title:"Renovated Townhouse in Suburbs",price:425e3,status:"sold",updatedAt:new Date(Date.now()-1e3*60*60*24*1).toISOString(),views:312,leads:28},{id:"6",title:"Charming Cottage with Garden",price:385e3,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*20).toISOString(),views:67,leads:3}];function Te(){const[s,r]=j.useState(fe),[n,l]=j.useState([]),[m,p]=j.useState(!1),v=s.filter(a=>Math.floor((Date.now()-new Date(a.updatedAt).getTime())/864e5)>=7&&a.status==="active").map(a=>({id:a.id,title:a.title,status:a.status,updatedAt:a.updatedAt,daysSinceUpdate:Math.floor((Date.now()-new Date(a.updatedAt).getTime())/(1e3*60*60*24))})),x=je({totalListings:s.length,activeListings:s.filter(a=>a.status==="active").length,totalViews:s.reduce((a,t)=>a+(t.views||0),0),totalLeads:s.reduce((a,t)=>a+(t.leads||0),0),avgPrice:Math.floor(s.reduce((a,t)=>a+t.price,0)/s.length),viewsChange:12.5,leadsChange:8.3}),d=async(a,t)=>{await new Promise(c=>setTimeout(c,500)),r(c=>c.map(u=>u.id===a?{...u,status:t,updatedAt:new Date().toISOString()}:u))},h=async()=>{p(!0),await new Promise(a=>setTimeout(a,1e3)),p(!1),w.success("Listings refreshed")},y=async a=>{const t=s.find(c=>c.id===a);t&&w.info(`Opening editor for "${t.title}"`)},N=a=>{l(t=>t.includes(a)?t.filter(c=>c!==a):[...t,a])},b=()=>{l(s.map(a=>a.id))},f=()=>{l([])},o=async a=>{await new Promise(t=>setTimeout(t,1e3)),r(t=>t.map(c=>{if(!n.includes(c.id))return c;let u={...c,updatedAt:new Date().toISOString()};if(a.status&&(u.status=a.status),a.priceAdjustment){const{type:A,value:i,unit:L}=a.priceAdjustment;A==="increase"?u.price=L==="percent"?c.price*(1+i/100):c.price+i:A==="decrease"?u.price=L==="percent"?c.price*(1-i/100):c.price-i:A==="set"&&(u.price=i)}return u})),f()},k=async a=>{await new Promise(t=>setTimeout(t,800)),r(t=>t.filter(c=>!a.includes(c.id)))},T=[{key:"?",description:"Show keyboard shortcuts",action:()=>{},category:"General"},{key:"s",description:"Mark selected as Sold",action:()=>{n.length>0&&n.forEach(a=>d(a,"sold"))},category:"Status"},{key:"p",description:"Mark selected as Pending",action:()=>{n.length>0&&n.forEach(a=>d(a,"pending"))},category:"Status"},{key:"a",description:"Mark selected as Active",action:()=>{n.length>0&&n.forEach(a=>d(a,"active"))},category:"Status"},{key:"Escape",description:"Clear selection",action:f,category:"Selection"}];return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Quick Actions Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your listings efficiently with keyboard shortcuts and bulk actions"})]}),v.length>0&&e.jsx(me,{count:v.length})]}),e.jsx(pe,{stats:x,period:"Last 30 days"}),v.length>0&&e.jsx(oe,{staleListings:v,onRefresh:y}),e.jsxs(ae,{defaultValue:"quick-status",className:"w-full",children:[e.jsxs(re,{className:"grid w-full grid-cols-2 max-w-md",children:[e.jsx(q,{value:"quick-status",children:"Quick Status"}),e.jsx(q,{value:"bulk-edit",children:"Bulk Edit"})]}),e.jsx(H,{value:"quick-status",className:"mt-6",children:e.jsx(ce,{listings:s,onStatusChange:d,onRefresh:h,isLoading:m})}),e.jsxs(H,{value:"bulk-edit",className:"mt-6",children:[e.jsx(xe,{listings:s,selectedIds:n,onToggleSelect:N,onSelectAll:b,onClearSelection:f,onBulkUpdate:o,onBulkDelete:k}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:s.map(a=>e.jsxs("div",{onClick:()=>N(a.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n.includes(a.id)?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:a.title}),e.jsx("input",{type:"checkbox",checked:n.includes(a.id),onChange:()=>N(a.id),className:"mt-1"})]}),e.jsxs("p",{className:"text-lg font-bold text-primary",children:["$",a.price.toLocaleString()]}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:a.status})]},a.id))})]})]}),e.jsx(ue,{shortcuts:T})]})}export{Te as default};
