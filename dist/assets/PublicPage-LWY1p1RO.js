const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DND4zJty.js","assets/react-vendor-CGQ4_CNL.js","assets/charts-D_q0pR-d.js","assets/utils-wmY8hpgz.js","assets/data-O5cD9hjv.js","assets/ui-components-BeQXH7on.js","assets/icons-BX9Iz4zT.js","assets/supabase-D5NmozDF.js","assets/three-addons-DQ5hBofG.js","assets/three-BxgHQpUo.js","assets/forms-BzNDvv3d.js","assets/index-Cgskee7i.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./three-addons-DQ5hBofG.js";import{f as t,r as s,j as r}from"./react-vendor-CGQ4_CNL.js";import{p as i,g as a,B as o}from"./themeUtils-DczV1X6P.js";import{x as n}from"./ui-components-BeQXH7on.js";import{L as c}from"./icons-BX9Iz4zT.js";import"./three-BxgHQpUo.js";import"./charts-D_q0pR-d.js";import"./utils-wmY8hpgz.js";import"./index-DND4zJty.js";import"./data-O5cD9hjv.js";import"./supabase-D5NmozDF.js";import"./forms-BzNDvv3d.js";function m(){const{slug:m}=t(),[d,l]=s.useState(null),[p,x]=s.useState(!0),[u,h]=s.useState(null);if(s.useEffect(()=>{(async()=>{if(!m)return h("No page slug provided"),void x(!1);try{const{supabase:t}=await e(async()=>{const{supabase:e}=await import("./index-DND4zJty.js").then(e=>e.d);return{supabase:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])),{data:s,error:r}=await t.from("custom_pages").select("*").eq("slug",m).eq("published",!0).single();if(r)throw r;if(!s)return h("Page not found or not published"),void x(!1);const i={id:s.id,userId:s.user_id,slug:s.slug,title:s.title,description:s.description||"",blocks:s.blocks,theme:s.theme,seo:s.seo,published:s.published,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)};l(i)}catch(t){h("Page not found or not published")}finally{x(!1)}})()},[m]),s.useEffect(()=>{d?.theme&&i(d.theme)},[d?.theme]),p)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx(c,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),r.jsx("p",{className:"text-gray-600",children:"Loading page..."})]})});if(u||!d)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"404"}),r.jsx("p",{className:"text-gray-600 mb-4",children:u||"Page not found"}),r.jsx("a",{href:"/",className:"text-primary hover:underline",children:"Go to homepage"})]})});const j=a(d.theme);return r.jsxs(r.Fragment,{children:[r.jsxs(n,{children:[r.jsx("title",{children:d.seo.title||d.title}),r.jsx("meta",{name:"description",content:d.seo.description||d.description}),r.jsx("meta",{name:"keywords",content:d.seo.keywords.join(", ")}),r.jsx("meta",{property:"og:title",content:d.seo.title||d.title}),r.jsx("meta",{property:"og:description",content:d.seo.description||d.description}),r.jsx("meta",{property:"og:type",content:"website"}),d.seo.ogImage&&r.jsx("meta",{property:"og:image",content:d.seo.ogImage}),r.jsx("meta",{name:"twitter:card",content:d.seo.twitterCard}),r.jsx("meta",{name:"twitter:title",content:d.seo.title||d.title}),r.jsx("meta",{name:"twitter:description",content:d.seo.description||d.description}),d.seo.ogImage&&r.jsx("meta",{name:"twitter:image",content:d.seo.ogImage}),d.seo.structuredData&&r.jsx("script",{type:"application/ld+json",children:JSON.stringify(d.seo.structuredData)})]}),r.jsx("div",{style:j,className:"min-h-screen","data-theme":d.theme.preset||"default",children:r.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",style:{backgroundColor:d.theme.colors.background,color:d.theme.colors.text,fontFamily:`'${d.theme.fonts.body}', sans-serif`},children:[r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"compact"===d.theme.spacing?"1rem":"spacious"===d.theme.spacing?"3rem":"2rem"},children:d.blocks.filter(e=>e.visible).sort((e,t)=>e.order-t.order).map(e=>r.jsx(o,{block:e,isEditing:!1,userId:d.userId},e.id))}),r.jsx("div",{className:"mt-16 pt-8 border-t text-center text-sm text-gray-500",children:r.jsxs("p",{children:["Powered by"," ",r.jsx("a",{href:"https://agentbio.net",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"AgentBio"})]})})]})})]})}export{m as default};
