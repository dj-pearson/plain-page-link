import{a as S,r as a,j as e,h as m,H as x,i as C,l as h,E as b,m as g,P as k,k as E,s as L}from"./index-DPimQPXj.js";function A(){const w=S(),[s,p]=a.useState(""),[n,f]=a.useState(""),[l,j]=a.useState(!1),[o,y]=a.useState(!1),[c,d]=a.useState(!1),[i,t]=a.useState(""),[N,v]=a.useState(!1),P=async r=>{if(r.preventDefault(),t(""),s!==n){t("Passwords don't match");return}if(s.length<12){t("Password must be at least 12 characters");return}if(!/[a-z]/.test(s)){t("Password must contain at least one lowercase letter");return}if(!/[A-Z]/.test(s)){t("Password must contain at least one uppercase letter");return}if(!/\d/.test(s)){t("Password must contain at least one number");return}if(!/[^a-zA-Z\d]/.test(s)){t("Password must contain at least one special character");return}d(!0);const{error:u}=await L.auth.updateUser({password:s});u?(t(u.message),d(!1)):(v(!0),setTimeout(()=>{w("/auth/login")},2e3))};return N?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200",children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsxs(m,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-gray-900 hover:text-blue-600 transition-colors",children:[e.jsx(x,{className:"h-6 w-6 text-blue-600"}),"AgentBio.net"]})})}),e.jsx("div",{className:"flex items-center justify-center px-4 py-12",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(C,{className:"h-8 w-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset Successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your password has been updated successfully."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting you to login..."})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200",children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsxs(m,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-gray-900 hover:text-blue-600 transition-colors",children:[e.jsx(x,{className:"h-6 w-6 text-blue-600"}),"AgentBio.net"]})})}),e.jsx("div",{className:"flex items-center justify-center px-4 py-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create New Password"}),e.jsx("p",{className:"text-gray-600",children:"Please enter your new password below"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8",children:e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[i&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:i})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:l?"text":"password",value:s,onChange:r=>p(r.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>j(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":l?"Hide password":"Show password",children:l?e.jsx(b,{className:"h-5 w-5"}):e.jsx(g,{className:"h-5 w-5"})})]}),e.jsx(k,{password:s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:o?"text":"password",value:n,onChange:r=>f(r.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>y(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":o?"Hide password":"Show password",children:o?e.jsx(b,{className:"h-5 w-5"}):e.jsx(g,{className:"h-5 w-5"})})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"h-5 w-5 animate-spin"}),"Updating Password..."]}):"Reset Password"})]})})]})})]})}export{A as default};
