import{b as e,u as r,c as i}from"./data-B0hfA2BH.js";import{u as a,s as t}from"./supabase--amO4t6_.js";function s(){const{user:s}=a(),o=e(),{data:n,isLoading:d}=r({queryKey:["profile",s?.id],queryFn:async()=>{if(!s?.id)return null;const{data:e,error:r}=await t.from("profiles").select("*").eq("id",s.id).single();if(r)throw r;return e},enabled:!!s?.id});return{profile:n,isLoading:d,updateProfile:i({mutationFn:async e=>{if(!s?.id)throw new Error("User not authenticated");const{data:r,error:i}=await t.from("profiles").update(e).eq("id",s.id).select().single();if(i)throw i;return r},onSuccess:()=>{o.invalidateQueries({queryKey:["profile",s?.id]})}})}}export{s as u};
