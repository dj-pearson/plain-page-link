var sye=Object.defineProperty;var l8=t=>{throw TypeError(t)};var aye=(t,e,n)=>e in t?sye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fs=(t,e,n)=>aye(t,typeof e!="symbol"?e+"":e,n),vR=(t,e,n)=>e.has(t)||l8("Cannot "+n);var _e=(t,e,n)=>(vR(t,e,"read from private field"),n?n.call(t):e.get(t)),gn=(t,e,n)=>e.has(t)?l8("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),$t=(t,e,n,r)=>(vR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ur=(t,e,n)=>(vR(t,e,"access private method"),n);var ZA=(t,e,n,r)=>({set _(i){$t(t,e,i,n)},get _(){return _e(t,e,r)}});function JK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eZ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var tZ={exports:{}},hP={},nZ={exports:{}},xr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE=Symbol.for("react.element"),oye=Symbol.for("react.portal"),lye=Symbol.for("react.fragment"),cye=Symbol.for("react.strict_mode"),uye=Symbol.for("react.profiler"),dye=Symbol.for("react.provider"),hye=Symbol.for("react.context"),fye=Symbol.for("react.forward_ref"),pye=Symbol.for("react.suspense"),mye=Symbol.for("react.memo"),gye=Symbol.for("react.lazy"),c8=Symbol.iterator;function yye(t){return t===null||typeof t!="object"?null:(t=c8&&t[c8]||t["@@iterator"],typeof t=="function"?t:null)}var rZ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iZ=Object.assign,sZ={};function Wb(t,e,n){this.props=t,this.context=e,this.refs=sZ,this.updater=n||rZ}Wb.prototype.isReactComponent={};Wb.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wb.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aZ(){}aZ.prototype=Wb.prototype;function CU(t,e,n){this.props=t,this.context=e,this.refs=sZ,this.updater=n||rZ}var PU=CU.prototype=new aZ;PU.constructor=CU;iZ(PU,Wb.prototype);PU.isPureReactComponent=!0;var u8=Array.isArray,oZ=Object.prototype.hasOwnProperty,kU={current:null},lZ={key:!0,ref:!0,__self:!0,__source:!0};function cZ(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)oZ.call(e,r)&&!lZ.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:QE,type:t,key:s,ref:o,props:i,_owner:kU.current}}function vye(t,e){return{$$typeof:QE,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function OU(t){return typeof t=="object"&&t!==null&&t.$$typeof===QE}function xye(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var d8=/\/+/g;function xR(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xye(""+t.key):e.toString(36)}function ZT(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case QE:case oye:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xR(o,0):r,u8(i)?(n="",t!=null&&(n=t.replace(d8,"$&/")+"/"),ZT(i,e,n,"",function(u){return u})):i!=null&&(OU(i)&&(i=vye(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(d8,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",u8(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+xR(s,l);o+=ZT(s,e,n,c,i)}else if(c=yye(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+xR(s,l++),o+=ZT(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function QA(t,e,n){if(t==null)return t;var r=[],i=0;return ZT(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bye(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _o={current:null},QT={transition:null},wye={ReactCurrentDispatcher:_o,ReactCurrentBatchConfig:QT,ReactCurrentOwner:kU};function uZ(){throw Error("act(...) is not supported in production builds of React.")}xr.Children={map:QA,forEach:function(t,e,n){QA(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return QA(t,function(){e++}),e},toArray:function(t){return QA(t,function(e){return e})||[]},only:function(t){if(!OU(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xr.Component=Wb;xr.Fragment=lye;xr.Profiler=uye;xr.PureComponent=CU;xr.StrictMode=cye;xr.Suspense=pye;xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wye;xr.act=uZ;xr.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iZ({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=kU.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)oZ.call(e,c)&&!lZ.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:QE,type:t.type,key:i,ref:s,props:r,_owner:o}};xr.createContext=function(t){return t={$$typeof:hye,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dye,_context:t},t.Consumer=t};xr.createElement=cZ;xr.createFactory=function(t){var e=cZ.bind(null,t);return e.type=t,e};xr.createRef=function(){return{current:null}};xr.forwardRef=function(t){return{$$typeof:fye,render:t}};xr.isValidElement=OU;xr.lazy=function(t){return{$$typeof:gye,_payload:{_status:-1,_result:t},_init:bye}};xr.memo=function(t,e){return{$$typeof:mye,type:t,compare:e===void 0?null:e}};xr.startTransition=function(t){var e=QT.transition;QT.transition={};try{t()}finally{QT.transition=e}};xr.unstable_act=uZ;xr.useCallback=function(t,e){return _o.current.useCallback(t,e)};xr.useContext=function(t){return _o.current.useContext(t)};xr.useDebugValue=function(){};xr.useDeferredValue=function(t){return _o.current.useDeferredValue(t)};xr.useEffect=function(t,e){return _o.current.useEffect(t,e)};xr.useId=function(){return _o.current.useId()};xr.useImperativeHandle=function(t,e,n){return _o.current.useImperativeHandle(t,e,n)};xr.useInsertionEffect=function(t,e){return _o.current.useInsertionEffect(t,e)};xr.useLayoutEffect=function(t,e){return _o.current.useLayoutEffect(t,e)};xr.useMemo=function(t,e){return _o.current.useMemo(t,e)};xr.useReducer=function(t,e,n){return _o.current.useReducer(t,e,n)};xr.useRef=function(t){return _o.current.useRef(t)};xr.useState=function(t){return _o.current.useState(t)};xr.useSyncExternalStore=function(t,e,n){return _o.current.useSyncExternalStore(t,e,n)};xr.useTransition=function(){return _o.current.useTransition()};xr.version="18.3.1";nZ.exports=xr;var C=nZ.exports;const ae=jr(C),RU=JK({__proto__:null,default:ae},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _ye=C,Sye=Symbol.for("react.element"),Eye=Symbol.for("react.fragment"),jye=Object.prototype.hasOwnProperty,Aye=_ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nye={key:!0,ref:!0,__self:!0,__source:!0};function dZ(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jye.call(e,r)&&!Nye.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Sye,type:t,key:s,ref:o,props:i,_owner:Aye.current}}hP.Fragment=Eye;hP.jsx=dZ;hP.jsxs=dZ;tZ.exports=hP;var a=tZ.exports,y3={},hZ={exports:{}},Wl={},fZ={exports:{}},pZ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Z){var B=$.length;$.push(Z);e:for(;0<B;){var ce=B-1>>>1,fe=$[ce];if(0<i(fe,Z))$[ce]=Z,$[B]=fe,B=ce;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],B=$.pop();if(B!==Z){$[0]=B;e:for(var ce=0,fe=$.length,Q=fe>>>1;ce<Q;){var xe=2*(ce+1)-1,ke=$[xe],Re=xe+1,Ce=$[Re];if(0>i(ke,B))Re<fe&&0>i(Ce,ke)?($[ce]=Ce,$[Re]=B,ce=Re):($[ce]=ke,$[xe]=B,ce=xe);else if(Re<fe&&0>i(Ce,B))$[ce]=Ce,$[Re]=B,ce=Re;else break e}}return Z}function i($,Z){var B=$.sortIndex-Z.sortIndex;return B!==0?B:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=$)r(u),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(u)}}function j($){if(y=!1,S($),!m)if(n(c)!==null)m=!0,K(N);else{var Z=n(u);Z!==null&&ne(j,Z.startTime-$)}}function N($,Z){m=!1,y&&(y=!1,v(k),k=-1),p=!0;var B=f;try{for(S(Z),h=n(c);h!==null&&(!(h.expirationTime>Z)||$&&!I());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,f=h.priorityLevel;var fe=ce(h.expirationTime<=Z);Z=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(c)&&r(c),S(Z)}else r(c);h=n(c)}if(h!==null)var Q=!0;else{var xe=n(u);xe!==null&&ne(j,xe.startTime-Z),Q=!1}return Q}finally{h=null,f=B,p=!1}}var A=!1,M=null,k=-1,L=5,O=-1;function I(){return!(t.unstable_now()-O<L)}function U(){if(M!==null){var $=t.unstable_now();O=$;var Z=!0;try{Z=M(!0,$)}finally{Z?W():(A=!1,M=null)}}else A=!1}var W;if(typeof _=="function")W=function(){_(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,J=q.port2;q.port1.onmessage=U,W=function(){J.postMessage(null)}}else W=function(){b(U,0)};function K($){M=$,A||(A=!0,W())}function ne($,Z){k=b(function(){$(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,K(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var B=f;f=Z;try{return $()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=f;f=$;try{return Z()}finally{f=B}},t.unstable_scheduleCallback=function($,Z,B){var ce=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ce+B:ce):B=ce,$){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=B+fe,$={id:d++,callback:Z,priorityLevel:$,startTime:B,expirationTime:fe,sortIndex:-1},B>ce?($.sortIndex=B,e(u,$),n(c)===null&&$===n(u)&&(y?(v(k),k=-1):y=!0,ne(j,B-ce))):($.sortIndex=fe,e(c,$),m||p||(m=!0,K(N))),$},t.unstable_shouldYield=I,t.unstable_wrapCallback=function($){var Z=f;return function(){var B=f;f=Z;try{return $.apply(this,arguments)}finally{f=B}}}})(pZ);fZ.exports=pZ;var Tye=fZ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mye=C,Bl=Tye;function jt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mZ=new Set,oS={};function nv(t,e){Y0(t,e),Y0(t+"Capture",e)}function Y0(t,e){for(oS[t]=e,t=0;t<e.length;t++)mZ.add(e[t])}var Dh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v3=Object.prototype.hasOwnProperty,Cye=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h8={},f8={};function Pye(t){return v3.call(f8,t)?!0:v3.call(h8,t)?!1:Cye.test(t)?f8[t]=!0:(h8[t]=!0,!1)}function kye(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Oye(t,e,n,r){if(e===null||typeof e>"u"||kye(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function So(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Na={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Na[t]=new So(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Na[e]=new So(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Na[t]=new So(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Na[t]=new So(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Na[t]=new So(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Na[t]=new So(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Na[t]=new So(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Na[t]=new So(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Na[t]=new So(t,5,!1,t.toLowerCase(),null,!1,!1)});var IU=/[\-:]([a-z])/g;function LU(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(IU,LU);Na[e]=new So(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(IU,LU);Na[e]=new So(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(IU,LU);Na[e]=new So(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Na[t]=new So(t,1,!1,t.toLowerCase(),null,!1,!1)});Na.xlinkHref=new So("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Na[t]=new So(t,1,!1,t.toLowerCase(),null,!0,!0)});function DU(t,e,n,r){var i=Na.hasOwnProperty(e)?Na[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Oye(e,n,i,r)&&(n=null),r||i===null?Pye(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ef=Mye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,JA=Symbol.for("react.element"),qx=Symbol.for("react.portal"),Yx=Symbol.for("react.fragment"),FU=Symbol.for("react.strict_mode"),x3=Symbol.for("react.profiler"),gZ=Symbol.for("react.provider"),yZ=Symbol.for("react.context"),UU=Symbol.for("react.forward_ref"),b3=Symbol.for("react.suspense"),w3=Symbol.for("react.suspense_list"),BU=Symbol.for("react.memo"),rp=Symbol.for("react.lazy"),vZ=Symbol.for("react.offscreen"),p8=Symbol.iterator;function x_(t){return t===null||typeof t!="object"?null:(t=p8&&t[p8]||t["@@iterator"],typeof t=="function"?t:null)}var Yi=Object.assign,bR;function m1(t){if(bR===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bR=e&&e[1]||""}return`
`+bR+t}var wR=!1;function _R(t,e){if(!t||wR)return"";wR=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{wR=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?m1(t):""}function Rye(t){switch(t.tag){case 5:return m1(t.type);case 16:return m1("Lazy");case 13:return m1("Suspense");case 19:return m1("SuspenseList");case 0:case 2:case 15:return t=_R(t.type,!1),t;case 11:return t=_R(t.type.render,!1),t;case 1:return t=_R(t.type,!0),t;default:return""}}function _3(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yx:return"Fragment";case qx:return"Portal";case x3:return"Profiler";case FU:return"StrictMode";case b3:return"Suspense";case w3:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yZ:return(t.displayName||"Context")+".Consumer";case gZ:return(t._context.displayName||"Context")+".Provider";case UU:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case BU:return e=t.displayName||null,e!==null?e:_3(t.type)||"Memo";case rp:e=t._payload,t=t._init;try{return _3(t(e))}catch{}}return null}function Iye(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _3(e);case 8:return e===FU?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vp(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xZ(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lye(t){var e=xZ(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function eN(t){t._valueTracker||(t._valueTracker=Lye(t))}function bZ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xZ(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function AM(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function S3(t,e){var n=e.checked;return Yi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m8(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vp(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wZ(t,e){e=e.checked,e!=null&&DU(t,"checked",e,!1)}function E3(t,e){wZ(t,e);var n=Vp(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?j3(t,e.type,n):e.hasOwnProperty("defaultValue")&&j3(t,e.type,Vp(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g8(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function j3(t,e,n){(e!=="number"||AM(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var g1=Array.isArray;function p0(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vp(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function A3(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(jt(91));return Yi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y8(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(jt(92));if(g1(n)){if(1<n.length)throw Error(jt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vp(n)}}function _Z(t,e){var n=Vp(e.value),r=Vp(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function v8(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function SZ(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N3(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?SZ(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tN,EZ=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tN=tN||document.createElement("div"),tN.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tN.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lS(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var A1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dye=["Webkit","ms","Moz","O"];Object.keys(A1).forEach(function(t){Dye.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),A1[e]=A1[t]})});function jZ(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||A1.hasOwnProperty(t)&&A1[t]?(""+e).trim():e+"px"}function AZ(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jZ(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Fye=Yi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function T3(t,e){if(e){if(Fye[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(jt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(jt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(jt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(jt(62))}}function M3(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C3=null;function zU(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var P3=null,m0=null,g0=null;function x8(t){if(t=tj(t)){if(typeof P3!="function")throw Error(jt(280));var e=t.stateNode;e&&(e=yP(e),P3(t.stateNode,t.type,e))}}function NZ(t){m0?g0?g0.push(t):g0=[t]:m0=t}function TZ(){if(m0){var t=m0,e=g0;if(g0=m0=null,x8(t),e)for(t=0;t<e.length;t++)x8(e[t])}}function MZ(t,e){return t(e)}function CZ(){}var SR=!1;function PZ(t,e,n){if(SR)return t(e,n);SR=!0;try{return MZ(t,e,n)}finally{SR=!1,(m0!==null||g0!==null)&&(CZ(),TZ())}}function cS(t,e){var n=t.stateNode;if(n===null)return null;var r=yP(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(jt(231,e,typeof n));return n}var k3=!1;if(Dh)try{var b_={};Object.defineProperty(b_,"passive",{get:function(){k3=!0}}),window.addEventListener("test",b_,b_),window.removeEventListener("test",b_,b_)}catch{k3=!1}function Uye(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var N1=!1,NM=null,TM=!1,O3=null,Bye={onError:function(t){N1=!0,NM=t}};function zye(t,e,n,r,i,s,o,l,c){N1=!1,NM=null,Uye.apply(Bye,arguments)}function $ye(t,e,n,r,i,s,o,l,c){if(zye.apply(this,arguments),N1){if(N1){var u=NM;N1=!1,NM=null}else throw Error(jt(198));TM||(TM=!0,O3=u)}}function rv(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kZ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b8(t){if(rv(t)!==t)throw Error(jt(188))}function Hye(t){var e=t.alternate;if(!e){if(e=rv(t),e===null)throw Error(jt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return b8(i),t;if(s===r)return b8(i),e;s=s.sibling}throw Error(jt(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(jt(189))}}if(n.alternate!==r)throw Error(jt(190))}if(n.tag!==3)throw Error(jt(188));return n.stateNode.current===n?t:e}function OZ(t){return t=Hye(t),t!==null?RZ(t):null}function RZ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RZ(t);if(e!==null)return e;t=t.sibling}return null}var IZ=Bl.unstable_scheduleCallback,w8=Bl.unstable_cancelCallback,Vye=Bl.unstable_shouldYield,Wye=Bl.unstable_requestPaint,ps=Bl.unstable_now,Gye=Bl.unstable_getCurrentPriorityLevel,$U=Bl.unstable_ImmediatePriority,LZ=Bl.unstable_UserBlockingPriority,MM=Bl.unstable_NormalPriority,qye=Bl.unstable_LowPriority,DZ=Bl.unstable_IdlePriority,fP=null,vd=null;function Yye(t){if(vd&&typeof vd.onCommitFiberRoot=="function")try{vd.onCommitFiberRoot(fP,t,void 0,(t.current.flags&128)===128)}catch{}}var wu=Math.clz32?Math.clz32:Zye,Xye=Math.log,Kye=Math.LN2;function Zye(t){return t>>>=0,t===0?32:31-(Xye(t)/Kye|0)|0}var nN=64,rN=4194304;function y1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function CM(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=y1(l):(s&=o,s!==0&&(r=y1(s)))}else o=n&~i,o!==0?r=y1(o):s!==0&&(r=y1(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wu(e),i=1<<n,r|=t[n],e&=~i;return r}function Qye(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jye(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-wu(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=Qye(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function R3(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FZ(){var t=nN;return nN<<=1,!(nN&4194240)&&(nN=64),t}function ER(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function JE(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wu(e),t[e]=n}function eve(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wu(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function HU(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wu(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Jr=0;function UZ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var BZ,VU,zZ,$Z,HZ,I3=!1,iN=[],Cp=null,Pp=null,kp=null,uS=new Map,dS=new Map,lp=[],tve="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _8(t,e){switch(t){case"focusin":case"focusout":Cp=null;break;case"dragenter":case"dragleave":Pp=null;break;case"mouseover":case"mouseout":kp=null;break;case"pointerover":case"pointerout":uS.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dS.delete(e.pointerId)}}function w_(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=tj(e),e!==null&&VU(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nve(t,e,n,r,i){switch(e){case"focusin":return Cp=w_(Cp,t,e,n,r,i),!0;case"dragenter":return Pp=w_(Pp,t,e,n,r,i),!0;case"mouseover":return kp=w_(kp,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return uS.set(s,w_(uS.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,dS.set(s,w_(dS.get(s)||null,t,e,n,r,i)),!0}return!1}function VZ(t){var e=qg(t.target);if(e!==null){var n=rv(e);if(n!==null){if(e=n.tag,e===13){if(e=kZ(n),e!==null){t.blockedOn=e,HZ(t.priority,function(){zZ(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function JT(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=L3(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);C3=r,n.target.dispatchEvent(r),C3=null}else return e=tj(n),e!==null&&VU(e),t.blockedOn=n,!1;e.shift()}return!0}function S8(t,e,n){JT(t)&&n.delete(e)}function rve(){I3=!1,Cp!==null&&JT(Cp)&&(Cp=null),Pp!==null&&JT(Pp)&&(Pp=null),kp!==null&&JT(kp)&&(kp=null),uS.forEach(S8),dS.forEach(S8)}function __(t,e){t.blockedOn===e&&(t.blockedOn=null,I3||(I3=!0,Bl.unstable_scheduleCallback(Bl.unstable_NormalPriority,rve)))}function hS(t){function e(i){return __(i,t)}if(0<iN.length){__(iN[0],t);for(var n=1;n<iN.length;n++){var r=iN[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cp!==null&&__(Cp,t),Pp!==null&&__(Pp,t),kp!==null&&__(kp,t),uS.forEach(e),dS.forEach(e),n=0;n<lp.length;n++)r=lp[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lp.length&&(n=lp[0],n.blockedOn===null);)VZ(n),n.blockedOn===null&&lp.shift()}var y0=ef.ReactCurrentBatchConfig,PM=!0;function ive(t,e,n,r){var i=Jr,s=y0.transition;y0.transition=null;try{Jr=1,WU(t,e,n,r)}finally{Jr=i,y0.transition=s}}function sve(t,e,n,r){var i=Jr,s=y0.transition;y0.transition=null;try{Jr=4,WU(t,e,n,r)}finally{Jr=i,y0.transition=s}}function WU(t,e,n,r){if(PM){var i=L3(t,e,n,r);if(i===null)RR(t,e,r,kM,n),_8(t,r);else if(nve(i,t,e,n,r))r.stopPropagation();else if(_8(t,r),e&4&&-1<tve.indexOf(t)){for(;i!==null;){var s=tj(i);if(s!==null&&BZ(s),s=L3(t,e,n,r),s===null&&RR(t,e,r,kM,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else RR(t,e,r,null,n)}}var kM=null;function L3(t,e,n,r){if(kM=null,t=zU(r),t=qg(t),t!==null)if(e=rv(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kZ(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kM=t,null}function WZ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gye()){case $U:return 1;case LZ:return 4;case MM:case qye:return 16;case DZ:return 536870912;default:return 16}default:return 16}}var Sp=null,GU=null,eM=null;function GZ(){if(eM)return eM;var t,e=GU,n=e.length,r,i="value"in Sp?Sp.value:Sp.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return eM=i.slice(t,1<r?1-r:void 0)}function tM(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sN(){return!0}function E8(){return!1}function Gl(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sN:E8,this.isPropagationStopped=E8,this}return Yi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sN)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sN)},persist:function(){},isPersistent:sN}),e}var Gb={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qU=Gl(Gb),ej=Yi({},Gb,{view:0,detail:0}),ave=Gl(ej),jR,AR,S_,pP=Yi({},ej,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YU,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==S_&&(S_&&t.type==="mousemove"?(jR=t.screenX-S_.screenX,AR=t.screenY-S_.screenY):AR=jR=0,S_=t),jR)},movementY:function(t){return"movementY"in t?t.movementY:AR}}),j8=Gl(pP),ove=Yi({},pP,{dataTransfer:0}),lve=Gl(ove),cve=Yi({},ej,{relatedTarget:0}),NR=Gl(cve),uve=Yi({},Gb,{animationName:0,elapsedTime:0,pseudoElement:0}),dve=Gl(uve),hve=Yi({},Gb,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fve=Gl(hve),pve=Yi({},Gb,{data:0}),A8=Gl(pve),mve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gve={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yve={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vve(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yve[t])?!!e[t]:!1}function YU(){return vve}var xve=Yi({},ej,{key:function(t){if(t.key){var e=mve[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tM(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gve[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YU,charCode:function(t){return t.type==="keypress"?tM(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tM(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bve=Gl(xve),wve=Yi({},pP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N8=Gl(wve),_ve=Yi({},ej,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YU}),Sve=Gl(_ve),Eve=Yi({},Gb,{propertyName:0,elapsedTime:0,pseudoElement:0}),jve=Gl(Eve),Ave=Yi({},pP,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nve=Gl(Ave),Tve=[9,13,27,32],XU=Dh&&"CompositionEvent"in window,T1=null;Dh&&"documentMode"in document&&(T1=document.documentMode);var Mve=Dh&&"TextEvent"in window&&!T1,qZ=Dh&&(!XU||T1&&8<T1&&11>=T1),T8=" ",M8=!1;function YZ(t,e){switch(t){case"keyup":return Tve.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XZ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xx=!1;function Cve(t,e){switch(t){case"compositionend":return XZ(e);case"keypress":return e.which!==32?null:(M8=!0,T8);case"textInput":return t=e.data,t===T8&&M8?null:t;default:return null}}function Pve(t,e){if(Xx)return t==="compositionend"||!XU&&YZ(t,e)?(t=GZ(),eM=GU=Sp=null,Xx=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qZ&&e.locale!=="ko"?null:e.data;default:return null}}var kve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kve[t.type]:e==="textarea"}function KZ(t,e,n,r){NZ(r),e=OM(e,"onChange"),0<e.length&&(n=new qU("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var M1=null,fS=null;function Ove(t){oQ(t,0)}function mP(t){var e=Qx(t);if(bZ(e))return t}function Rve(t,e){if(t==="change")return e}var ZZ=!1;if(Dh){var TR;if(Dh){var MR="oninput"in document;if(!MR){var P8=document.createElement("div");P8.setAttribute("oninput","return;"),MR=typeof P8.oninput=="function"}TR=MR}else TR=!1;ZZ=TR&&(!document.documentMode||9<document.documentMode)}function k8(){M1&&(M1.detachEvent("onpropertychange",QZ),fS=M1=null)}function QZ(t){if(t.propertyName==="value"&&mP(fS)){var e=[];KZ(e,fS,t,zU(t)),PZ(Ove,e)}}function Ive(t,e,n){t==="focusin"?(k8(),M1=e,fS=n,M1.attachEvent("onpropertychange",QZ)):t==="focusout"&&k8()}function Lve(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mP(fS)}function Dve(t,e){if(t==="click")return mP(e)}function Fve(t,e){if(t==="input"||t==="change")return mP(e)}function Uve(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Au=typeof Object.is=="function"?Object.is:Uve;function pS(t,e){if(Au(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!v3.call(e,i)||!Au(t[i],e[i]))return!1}return!0}function O8(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function R8(t,e){var n=O8(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O8(n)}}function JZ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JZ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eQ(){for(var t=window,e=AM();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=AM(t.document)}return e}function KU(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bve(t){var e=eQ(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&JZ(n.ownerDocument.documentElement,n)){if(r!==null&&KU(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=R8(n,s);var o=R8(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zve=Dh&&"documentMode"in document&&11>=document.documentMode,Kx=null,D3=null,C1=null,F3=!1;function I8(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;F3||Kx==null||Kx!==AM(r)||(r=Kx,"selectionStart"in r&&KU(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),C1&&pS(C1,r)||(C1=r,r=OM(D3,"onSelect"),0<r.length&&(e=new qU("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Kx)))}function aN(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zx={animationend:aN("Animation","AnimationEnd"),animationiteration:aN("Animation","AnimationIteration"),animationstart:aN("Animation","AnimationStart"),transitionend:aN("Transition","TransitionEnd")},CR={},tQ={};Dh&&(tQ=document.createElement("div").style,"AnimationEvent"in window||(delete Zx.animationend.animation,delete Zx.animationiteration.animation,delete Zx.animationstart.animation),"TransitionEvent"in window||delete Zx.transitionend.transition);function gP(t){if(CR[t])return CR[t];if(!Zx[t])return t;var e=Zx[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tQ)return CR[t]=e[n];return t}var nQ=gP("animationend"),rQ=gP("animationiteration"),iQ=gP("animationstart"),sQ=gP("transitionend"),aQ=new Map,L8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function im(t,e){aQ.set(t,e),nv(e,[t])}for(var PR=0;PR<L8.length;PR++){var kR=L8[PR],$ve=kR.toLowerCase(),Hve=kR[0].toUpperCase()+kR.slice(1);im($ve,"on"+Hve)}im(nQ,"onAnimationEnd");im(rQ,"onAnimationIteration");im(iQ,"onAnimationStart");im("dblclick","onDoubleClick");im("focusin","onFocus");im("focusout","onBlur");im(sQ,"onTransitionEnd");Y0("onMouseEnter",["mouseout","mouseover"]);Y0("onMouseLeave",["mouseout","mouseover"]);Y0("onPointerEnter",["pointerout","pointerover"]);Y0("onPointerLeave",["pointerout","pointerover"]);nv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nv("onBeforeInput",["compositionend","keypress","textInput","paste"]);nv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var v1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vve=new Set("cancel close invalid load scroll toggle".split(" ").concat(v1));function D8(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$ye(r,e,void 0,t),t.currentTarget=null}function oQ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;D8(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;D8(i,l,u),s=c}}}if(TM)throw t=O3,TM=!1,O3=null,t}function ji(t,e){var n=e[H3];n===void 0&&(n=e[H3]=new Set);var r=t+"__bubble";n.has(r)||(lQ(e,t,2,!1),n.add(r))}function OR(t,e,n){var r=0;e&&(r|=4),lQ(n,t,r,e)}var oN="_reactListening"+Math.random().toString(36).slice(2);function mS(t){if(!t[oN]){t[oN]=!0,mZ.forEach(function(n){n!=="selectionchange"&&(Vve.has(n)||OR(n,!1,t),OR(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oN]||(e[oN]=!0,OR("selectionchange",!1,e))}}function lQ(t,e,n,r){switch(WZ(e)){case 1:var i=ive;break;case 4:i=sve;break;default:i=WU}n=i.bind(null,e,n,t),i=void 0,!k3||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function RR(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=qg(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}PZ(function(){var u=s,d=zU(n),h=[];e:{var f=aQ.get(t);if(f!==void 0){var p=qU,m=t;switch(t){case"keypress":if(tM(n)===0)break e;case"keydown":case"keyup":p=bve;break;case"focusin":m="focus",p=NR;break;case"focusout":m="blur",p=NR;break;case"beforeblur":case"afterblur":p=NR;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=j8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lve;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Sve;break;case nQ:case rQ:case iQ:p=dve;break;case sQ:p=jve;break;case"scroll":p=ave;break;case"wheel":p=Nve;break;case"copy":case"cut":case"paste":p=fve;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=N8}var y=(e&4)!==0,b=!y&&t==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var _=u,S;_!==null;){S=_;var j=S.stateNode;if(S.tag===5&&j!==null&&(S=j,v!==null&&(j=cS(_,v),j!=null&&y.push(gS(_,j,S)))),b)break;_=_.return}0<y.length&&(f=new p(f,m,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==C3&&(m=n.relatedTarget||n.fromElement)&&(qg(m)||m[Fh]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?qg(m):null,m!==null&&(b=rv(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=j8,j="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=N8,j="onPointerLeave",v="onPointerEnter",_="pointer"),b=p==null?f:Qx(p),S=m==null?f:Qx(m),f=new y(j,_+"leave",p,n,d),f.target=b,f.relatedTarget=S,j=null,qg(d)===u&&(y=new y(v,_+"enter",m,n,d),y.target=S,y.relatedTarget=b,j=y),b=j,p&&m)t:{for(y=p,v=m,_=0,S=y;S;S=ix(S))_++;for(S=0,j=v;j;j=ix(j))S++;for(;0<_-S;)y=ix(y),_--;for(;0<S-_;)v=ix(v),S--;for(;_--;){if(y===v||v!==null&&y===v.alternate)break t;y=ix(y),v=ix(v)}y=null}else y=null;p!==null&&F8(h,f,p,y,!1),m!==null&&b!==null&&F8(h,b,m,y,!0)}}e:{if(f=u?Qx(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=Rve;else if(C8(f))if(ZZ)N=Fve;else{N=Lve;var A=Ive}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Dve);if(N&&(N=N(t,u))){KZ(h,N,n,d);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&j3(f,"number",f.value)}switch(A=u?Qx(u):window,t){case"focusin":(C8(A)||A.contentEditable==="true")&&(Kx=A,D3=u,C1=null);break;case"focusout":C1=D3=Kx=null;break;case"mousedown":F3=!0;break;case"contextmenu":case"mouseup":case"dragend":F3=!1,I8(h,n,d);break;case"selectionchange":if(zve)break;case"keydown":case"keyup":I8(h,n,d)}var M;if(XU)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Xx?YZ(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(qZ&&n.locale!=="ko"&&(Xx||k!=="onCompositionStart"?k==="onCompositionEnd"&&Xx&&(M=GZ()):(Sp=d,GU="value"in Sp?Sp.value:Sp.textContent,Xx=!0)),A=OM(u,k),0<A.length&&(k=new A8(k,t,null,n,d),h.push({event:k,listeners:A}),M?k.data=M:(M=XZ(n),M!==null&&(k.data=M)))),(M=Mve?Cve(t,n):Pve(t,n))&&(u=OM(u,"onBeforeInput"),0<u.length&&(d=new A8("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=M))}oQ(h,e)})}function gS(t,e,n){return{instance:t,listener:e,currentTarget:n}}function OM(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cS(t,n),s!=null&&r.unshift(gS(t,s,i)),s=cS(t,e),s!=null&&r.push(gS(t,s,i))),t=t.return}return r}function ix(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F8(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=cS(n,s),c!=null&&o.unshift(gS(n,c,l))):i||(c=cS(n,s),c!=null&&o.push(gS(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Wve=/\r\n?/g,Gve=/\u0000|\uFFFD/g;function U8(t){return(typeof t=="string"?t:""+t).replace(Wve,`
`).replace(Gve,"")}function lN(t,e,n){if(e=U8(e),U8(t)!==e&&n)throw Error(jt(425))}function RM(){}var U3=null,B3=null;function z3(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $3=typeof setTimeout=="function"?setTimeout:void 0,qve=typeof clearTimeout=="function"?clearTimeout:void 0,B8=typeof Promise=="function"?Promise:void 0,Yve=typeof queueMicrotask=="function"?queueMicrotask:typeof B8<"u"?function(t){return B8.resolve(null).then(t).catch(Xve)}:$3;function Xve(t){setTimeout(function(){throw t})}function IR(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hS(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hS(e)}function Op(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function z8(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qb=Math.random().toString(36).slice(2),ld="__reactFiber$"+qb,yS="__reactProps$"+qb,Fh="__reactContainer$"+qb,H3="__reactEvents$"+qb,Kve="__reactListeners$"+qb,Zve="__reactHandles$"+qb;function qg(t){var e=t[ld];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fh]||n[ld]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=z8(t);t!==null;){if(n=t[ld])return n;t=z8(t)}return e}t=n,n=t.parentNode}return null}function tj(t){return t=t[ld]||t[Fh],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qx(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(jt(33))}function yP(t){return t[yS]||null}var V3=[],Jx=-1;function sm(t){return{current:t}}function Mi(t){0>Jx||(t.current=V3[Jx],V3[Jx]=null,Jx--)}function bi(t,e){Jx++,V3[Jx]=t.current,t.current=e}var Wp={},Va=sm(Wp),Go=sm(!1),ky=Wp;function X0(t,e){var n=t.type.contextTypes;if(!n)return Wp;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qo(t){return t=t.childContextTypes,t!=null}function IM(){Mi(Go),Mi(Va)}function $8(t,e,n){if(Va.current!==Wp)throw Error(jt(168));bi(Va,e),bi(Go,n)}function cQ(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(jt(108,Iye(t)||"Unknown",i));return Yi({},n,r)}function LM(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wp,ky=Va.current,bi(Va,t),bi(Go,Go.current),!0}function H8(t,e,n){var r=t.stateNode;if(!r)throw Error(jt(169));n?(t=cQ(t,e,ky),r.__reactInternalMemoizedMergedChildContext=t,Mi(Go),Mi(Va),bi(Va,t)):Mi(Go),bi(Go,n)}var gh=null,vP=!1,LR=!1;function uQ(t){gh===null?gh=[t]:gh.push(t)}function Qve(t){vP=!0,uQ(t)}function am(){if(!LR&&gh!==null){LR=!0;var t=0,e=Jr;try{var n=gh;for(Jr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gh=null,vP=!1}catch(i){throw gh!==null&&(gh=gh.slice(t+1)),IZ($U,am),i}finally{Jr=e,LR=!1}}return null}var e0=[],t0=0,DM=null,FM=0,yc=[],vc=0,Oy=null,Eh=1,jh="";function Tg(t,e){e0[t0++]=FM,e0[t0++]=DM,DM=t,FM=e}function dQ(t,e,n){yc[vc++]=Eh,yc[vc++]=jh,yc[vc++]=Oy,Oy=t;var r=Eh;t=jh;var i=32-wu(r)-1;r&=~(1<<i),n+=1;var s=32-wu(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Eh=1<<32-wu(e)+i|n<<i|r,jh=s+t}else Eh=1<<s|n<<i|r,jh=t}function ZU(t){t.return!==null&&(Tg(t,1),dQ(t,1,0))}function QU(t){for(;t===DM;)DM=e0[--t0],e0[t0]=null,FM=e0[--t0],e0[t0]=null;for(;t===Oy;)Oy=yc[--vc],yc[vc]=null,jh=yc[--vc],yc[vc]=null,Eh=yc[--vc],yc[vc]=null}var Ll=null,Rl=null,Ri=!1,pu=null;function hQ(t,e){var n=Sc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function V8(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ll=t,Rl=Op(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ll=t,Rl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oy!==null?{id:Eh,overflow:jh}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ll=t,Rl=null,!0):!1;default:return!1}}function W3(t){return(t.mode&1)!==0&&(t.flags&128)===0}function G3(t){if(Ri){var e=Rl;if(e){var n=e;if(!V8(t,e)){if(W3(t))throw Error(jt(418));e=Op(n.nextSibling);var r=Ll;e&&V8(t,e)?hQ(r,n):(t.flags=t.flags&-4097|2,Ri=!1,Ll=t)}}else{if(W3(t))throw Error(jt(418));t.flags=t.flags&-4097|2,Ri=!1,Ll=t}}}function W8(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ll=t}function cN(t){if(t!==Ll)return!1;if(!Ri)return W8(t),Ri=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!z3(t.type,t.memoizedProps)),e&&(e=Rl)){if(W3(t))throw fQ(),Error(jt(418));for(;e;)hQ(t,e),e=Op(e.nextSibling)}if(W8(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(jt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rl=Op(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rl=null}}else Rl=Ll?Op(t.stateNode.nextSibling):null;return!0}function fQ(){for(var t=Rl;t;)t=Op(t.nextSibling)}function K0(){Rl=Ll=null,Ri=!1}function JU(t){pu===null?pu=[t]:pu.push(t)}var Jve=ef.ReactCurrentBatchConfig;function E_(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(jt(309));var r=n.stateNode}if(!r)throw Error(jt(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(jt(284));if(!n._owner)throw Error(jt(290,t))}return t}function uN(t,e){throw t=Object.prototype.toString.call(e),Error(jt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G8(t){var e=t._init;return e(t._payload)}function pQ(t){function e(v,_){if(t){var S=v.deletions;S===null?(v.deletions=[_],v.flags|=16):S.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Dp(v,_),v.index=0,v.sibling=null,v}function s(v,_,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<_?(v.flags|=2,_):S):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,_,S,j){return _===null||_.tag!==6?(_=HR(S,v.mode,j),_.return=v,_):(_=i(_,S),_.return=v,_)}function c(v,_,S,j){var N=S.type;return N===Yx?d(v,_,S.props.children,j,S.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===rp&&G8(N)===_.type)?(j=i(_,S.props),j.ref=E_(v,_,S),j.return=v,j):(j=lM(S.type,S.key,S.props,null,v.mode,j),j.ref=E_(v,_,S),j.return=v,j)}function u(v,_,S,j){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=VR(S,v.mode,j),_.return=v,_):(_=i(_,S.children||[]),_.return=v,_)}function d(v,_,S,j,N){return _===null||_.tag!==7?(_=_y(S,v.mode,j,N),_.return=v,_):(_=i(_,S),_.return=v,_)}function h(v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=HR(""+_,v.mode,S),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case JA:return S=lM(_.type,_.key,_.props,null,v.mode,S),S.ref=E_(v,null,_),S.return=v,S;case qx:return _=VR(_,v.mode,S),_.return=v,_;case rp:var j=_._init;return h(v,j(_._payload),S)}if(g1(_)||x_(_))return _=_y(_,v.mode,S,null),_.return=v,_;uN(v,_)}return null}function f(v,_,S,j){var N=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return N!==null?null:l(v,_,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case JA:return S.key===N?c(v,_,S,j):null;case qx:return S.key===N?u(v,_,S,j):null;case rp:return N=S._init,f(v,_,N(S._payload),j)}if(g1(S)||x_(S))return N!==null?null:d(v,_,S,j,null);uN(v,S)}return null}function p(v,_,S,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(S)||null,l(_,v,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case JA:return v=v.get(j.key===null?S:j.key)||null,c(_,v,j,N);case qx:return v=v.get(j.key===null?S:j.key)||null,u(_,v,j,N);case rp:var A=j._init;return p(v,_,S,A(j._payload),N)}if(g1(j)||x_(j))return v=v.get(S)||null,d(_,v,j,N,null);uN(_,j)}return null}function m(v,_,S,j){for(var N=null,A=null,M=_,k=_=0,L=null;M!==null&&k<S.length;k++){M.index>k?(L=M,M=null):L=M.sibling;var O=f(v,M,S[k],j);if(O===null){M===null&&(M=L);break}t&&M&&O.alternate===null&&e(v,M),_=s(O,_,k),A===null?N=O:A.sibling=O,A=O,M=L}if(k===S.length)return n(v,M),Ri&&Tg(v,k),N;if(M===null){for(;k<S.length;k++)M=h(v,S[k],j),M!==null&&(_=s(M,_,k),A===null?N=M:A.sibling=M,A=M);return Ri&&Tg(v,k),N}for(M=r(v,M);k<S.length;k++)L=p(M,v,k,S[k],j),L!==null&&(t&&L.alternate!==null&&M.delete(L.key===null?k:L.key),_=s(L,_,k),A===null?N=L:A.sibling=L,A=L);return t&&M.forEach(function(I){return e(v,I)}),Ri&&Tg(v,k),N}function y(v,_,S,j){var N=x_(S);if(typeof N!="function")throw Error(jt(150));if(S=N.call(S),S==null)throw Error(jt(151));for(var A=N=null,M=_,k=_=0,L=null,O=S.next();M!==null&&!O.done;k++,O=S.next()){M.index>k?(L=M,M=null):L=M.sibling;var I=f(v,M,O.value,j);if(I===null){M===null&&(M=L);break}t&&M&&I.alternate===null&&e(v,M),_=s(I,_,k),A===null?N=I:A.sibling=I,A=I,M=L}if(O.done)return n(v,M),Ri&&Tg(v,k),N;if(M===null){for(;!O.done;k++,O=S.next())O=h(v,O.value,j),O!==null&&(_=s(O,_,k),A===null?N=O:A.sibling=O,A=O);return Ri&&Tg(v,k),N}for(M=r(v,M);!O.done;k++,O=S.next())O=p(M,v,k,O.value,j),O!==null&&(t&&O.alternate!==null&&M.delete(O.key===null?k:O.key),_=s(O,_,k),A===null?N=O:A.sibling=O,A=O);return t&&M.forEach(function(U){return e(v,U)}),Ri&&Tg(v,k),N}function b(v,_,S,j){if(typeof S=="object"&&S!==null&&S.type===Yx&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case JA:e:{for(var N=S.key,A=_;A!==null;){if(A.key===N){if(N=S.type,N===Yx){if(A.tag===7){n(v,A.sibling),_=i(A,S.props.children),_.return=v,v=_;break e}}else if(A.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===rp&&G8(N)===A.type){n(v,A.sibling),_=i(A,S.props),_.ref=E_(v,A,S),_.return=v,v=_;break e}n(v,A);break}else e(v,A);A=A.sibling}S.type===Yx?(_=_y(S.props.children,v.mode,j,S.key),_.return=v,v=_):(j=lM(S.type,S.key,S.props,null,v.mode,j),j.ref=E_(v,_,S),j.return=v,v=j)}return o(v);case qx:e:{for(A=S.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(v,_.sibling),_=i(_,S.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=VR(S,v.mode,j),_.return=v,v=_}return o(v);case rp:return A=S._init,b(v,_,A(S._payload),j)}if(g1(S))return m(v,_,S,j);if(x_(S))return y(v,_,S,j);uN(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,S),_.return=v,v=_):(n(v,_),_=HR(S,v.mode,j),_.return=v,v=_),o(v)):n(v,_)}return b}var Z0=pQ(!0),mQ=pQ(!1),UM=sm(null),BM=null,n0=null,e5=null;function t5(){e5=n0=BM=null}function n5(t){var e=UM.current;Mi(UM),t._currentValue=e}function q3(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function v0(t,e){BM=t,e5=n0=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vo=!0),t.firstContext=null)}function Tc(t){var e=t._currentValue;if(e5!==t)if(t={context:t,memoizedValue:e,next:null},n0===null){if(BM===null)throw Error(jt(308));n0=t,BM.dependencies={lanes:0,firstContext:t}}else n0=n0.next=t;return e}var Yg=null;function r5(t){Yg===null?Yg=[t]:Yg.push(t)}function gQ(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,r5(e)):(n.next=i.next,i.next=n),e.interleaved=n,Uh(t,r)}function Uh(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ip=!1;function i5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ch(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rp(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pr&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Uh(t,n)}return i=r.interleaved,i===null?(e.next=e,r5(r)):(e.next=i.next,i.next=e),r.interleaved=e,Uh(t,n)}function nM(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,HU(t,n)}}function q8(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zM(t,e,n,r){var i=t.updateQueue;ip=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,d=u=c=null,l=s;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,y=l;switch(f=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Yi({},h,f);break e;case 2:ip=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Iy|=o,t.lanes=o,t.memoizedState=h}}function Y8(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(jt(191,i));i.call(r)}}}var nj={},xd=sm(nj),vS=sm(nj),xS=sm(nj);function Xg(t){if(t===nj)throw Error(jt(174));return t}function s5(t,e){switch(bi(xS,e),bi(vS,t),bi(xd,nj),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:N3(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=N3(e,t)}Mi(xd),bi(xd,e)}function Q0(){Mi(xd),Mi(vS),Mi(xS)}function vQ(t){Xg(xS.current);var e=Xg(xd.current),n=N3(e,t.type);e!==n&&(bi(vS,t),bi(xd,n))}function a5(t){vS.current===t&&(Mi(xd),Mi(vS))}var $i=sm(0);function $M(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var DR=[];function o5(){for(var t=0;t<DR.length;t++)DR[t]._workInProgressVersionPrimary=null;DR.length=0}var rM=ef.ReactCurrentDispatcher,FR=ef.ReactCurrentBatchConfig,Ry=0,qi=null,$s=null,ha=null,HM=!1,P1=!1,bS=0,exe=0;function ka(){throw Error(jt(321))}function l5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Au(t[n],e[n]))return!1;return!0}function c5(t,e,n,r,i,s){if(Ry=s,qi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rM.current=t===null||t.memoizedState===null?ixe:sxe,t=n(r,i),P1){s=0;do{if(P1=!1,bS=0,25<=s)throw Error(jt(301));s+=1,ha=$s=null,e.updateQueue=null,rM.current=axe,t=n(r,i)}while(P1)}if(rM.current=VM,e=$s!==null&&$s.next!==null,Ry=0,ha=$s=qi=null,HM=!1,e)throw Error(jt(300));return t}function u5(){var t=bS!==0;return bS=0,t}function td(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ha===null?qi.memoizedState=ha=t:ha=ha.next=t,ha}function Mc(){if($s===null){var t=qi.alternate;t=t!==null?t.memoizedState:null}else t=$s.next;var e=ha===null?qi.memoizedState:ha.next;if(e!==null)ha=e,$s=t;else{if(t===null)throw Error(jt(310));$s=t,t={memoizedState:$s.memoizedState,baseState:$s.baseState,baseQueue:$s.baseQueue,queue:$s.queue,next:null},ha===null?qi.memoizedState=ha=t:ha=ha.next=t}return ha}function wS(t,e){return typeof e=="function"?e(t):e}function UR(t){var e=Mc(),n=e.queue;if(n===null)throw Error(jt(311));n.lastRenderedReducer=t;var r=$s,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Ry&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,qi.lanes|=d,Iy|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,Au(r,e.memoizedState)||(Vo=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qi.lanes|=s,Iy|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function BR(t){var e=Mc(),n=e.queue;if(n===null)throw Error(jt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Au(s,e.memoizedState)||(Vo=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xQ(){}function bQ(t,e){var n=qi,r=Mc(),i=e(),s=!Au(r.memoizedState,i);if(s&&(r.memoizedState=i,Vo=!0),r=r.queue,d5(SQ.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ha!==null&&ha.memoizedState.tag&1){if(n.flags|=2048,_S(9,_Q.bind(null,n,r,i,e),void 0,null),ma===null)throw Error(jt(349));Ry&30||wQ(n,e,i)}return i}function wQ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qi.updateQueue,e===null?(e={lastEffect:null,stores:null},qi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _Q(t,e,n,r){e.value=n,e.getSnapshot=r,EQ(e)&&jQ(t)}function SQ(t,e,n){return n(function(){EQ(e)&&jQ(t)})}function EQ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Au(t,n)}catch{return!0}}function jQ(t){var e=Uh(t,1);e!==null&&_u(e,t,1,-1)}function X8(t){var e=td();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wS,lastRenderedState:t},e.queue=t,t=t.dispatch=rxe.bind(null,qi,t),[e.memoizedState,t]}function _S(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qi.updateQueue,e===null?(e={lastEffect:null,stores:null},qi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AQ(){return Mc().memoizedState}function iM(t,e,n,r){var i=td();qi.flags|=t,i.memoizedState=_S(1|e,n,void 0,r===void 0?null:r)}function xP(t,e,n,r){var i=Mc();r=r===void 0?null:r;var s=void 0;if($s!==null){var o=$s.memoizedState;if(s=o.destroy,r!==null&&l5(r,o.deps)){i.memoizedState=_S(e,n,s,r);return}}qi.flags|=t,i.memoizedState=_S(1|e,n,s,r)}function K8(t,e){return iM(8390656,8,t,e)}function d5(t,e){return xP(2048,8,t,e)}function NQ(t,e){return xP(4,2,t,e)}function TQ(t,e){return xP(4,4,t,e)}function MQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CQ(t,e,n){return n=n!=null?n.concat([t]):null,xP(4,4,MQ.bind(null,e,t),n)}function h5(){}function PQ(t,e){var n=Mc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&l5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kQ(t,e){var n=Mc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&l5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OQ(t,e,n){return Ry&21?(Au(n,e)||(n=FZ(),qi.lanes|=n,Iy|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vo=!0),t.memoizedState=n)}function txe(t,e){var n=Jr;Jr=n!==0&&4>n?n:4,t(!0);var r=FR.transition;FR.transition={};try{t(!1),e()}finally{Jr=n,FR.transition=r}}function RQ(){return Mc().memoizedState}function nxe(t,e,n){var r=Lp(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IQ(t))LQ(e,n);else if(n=gQ(t,e,n,r),n!==null){var i=vo();_u(n,t,r,i),DQ(n,e,r)}}function rxe(t,e,n){var r=Lp(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IQ(t))LQ(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Au(l,o)){var c=e.interleaved;c===null?(i.next=i,r5(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=gQ(t,e,i,r),n!==null&&(i=vo(),_u(n,t,r,i),DQ(n,e,r))}}function IQ(t){var e=t.alternate;return t===qi||e!==null&&e===qi}function LQ(t,e){P1=HM=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DQ(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,HU(t,n)}}var VM={readContext:Tc,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ixe={readContext:Tc,useCallback:function(t,e){return td().memoizedState=[t,e===void 0?null:e],t},useContext:Tc,useEffect:K8,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,iM(4194308,4,MQ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return iM(4194308,4,t,e)},useInsertionEffect:function(t,e){return iM(4,2,t,e)},useMemo:function(t,e){var n=td();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=td();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nxe.bind(null,qi,t),[r.memoizedState,t]},useRef:function(t){var e=td();return t={current:t},e.memoizedState=t},useState:X8,useDebugValue:h5,useDeferredValue:function(t){return td().memoizedState=t},useTransition:function(){var t=X8(!1),e=t[0];return t=txe.bind(null,t[1]),td().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qi,i=td();if(Ri){if(n===void 0)throw Error(jt(407));n=n()}else{if(n=e(),ma===null)throw Error(jt(349));Ry&30||wQ(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,K8(SQ.bind(null,r,s,t),[t]),r.flags|=2048,_S(9,_Q.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=td(),e=ma.identifierPrefix;if(Ri){var n=jh,r=Eh;n=(r&~(1<<32-wu(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bS++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=exe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sxe={readContext:Tc,useCallback:PQ,useContext:Tc,useEffect:d5,useImperativeHandle:CQ,useInsertionEffect:NQ,useLayoutEffect:TQ,useMemo:kQ,useReducer:UR,useRef:AQ,useState:function(){return UR(wS)},useDebugValue:h5,useDeferredValue:function(t){var e=Mc();return OQ(e,$s.memoizedState,t)},useTransition:function(){var t=UR(wS)[0],e=Mc().memoizedState;return[t,e]},useMutableSource:xQ,useSyncExternalStore:bQ,useId:RQ,unstable_isNewReconciler:!1},axe={readContext:Tc,useCallback:PQ,useContext:Tc,useEffect:d5,useImperativeHandle:CQ,useInsertionEffect:NQ,useLayoutEffect:TQ,useMemo:kQ,useReducer:BR,useRef:AQ,useState:function(){return BR(wS)},useDebugValue:h5,useDeferredValue:function(t){var e=Mc();return $s===null?e.memoizedState=t:OQ(e,$s.memoizedState,t)},useTransition:function(){var t=BR(wS)[0],e=Mc().memoizedState;return[t,e]},useMutableSource:xQ,useSyncExternalStore:bQ,useId:RQ,unstable_isNewReconciler:!1};function su(t,e){if(t&&t.defaultProps){e=Yi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Y3(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Yi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bP={isMounted:function(t){return(t=t._reactInternals)?rv(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vo(),i=Lp(t),s=Ch(r,i);s.payload=e,n!=null&&(s.callback=n),e=Rp(t,s,i),e!==null&&(_u(e,t,i,r),nM(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vo(),i=Lp(t),s=Ch(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Rp(t,s,i),e!==null&&(_u(e,t,i,r),nM(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vo(),r=Lp(t),i=Ch(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rp(t,i,r),e!==null&&(_u(e,t,r,n),nM(e,t,r))}};function Z8(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!pS(n,r)||!pS(i,s):!0}function FQ(t,e,n){var r=!1,i=Wp,s=e.contextType;return typeof s=="object"&&s!==null?s=Tc(s):(i=qo(e)?ky:Va.current,r=e.contextTypes,s=(r=r!=null)?X0(t,i):Wp),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bP,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Q8(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bP.enqueueReplaceState(e,e.state,null)}function X3(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},i5(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Tc(s):(s=qo(e)?ky:Va.current,i.context=X0(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Y3(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bP.enqueueReplaceState(i,i.state,null),zM(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function J0(t,e){try{var n="",r=e;do n+=Rye(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zR(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function K3(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oxe=typeof WeakMap=="function"?WeakMap:Map;function UQ(t,e,n){n=Ch(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){GM||(GM=!0,aD=r),K3(t,e)},n}function BQ(t,e,n){n=Ch(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){K3(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){K3(t,e),typeof r!="function"&&(Ip===null?Ip=new Set([this]):Ip.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function J8(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new oxe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wxe.bind(null,t,e,n),e.then(t,t))}function eH(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tH(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ch(-1,1),e.tag=2,Rp(n,e,1))),n.lanes|=1),t)}var lxe=ef.ReactCurrentOwner,Vo=!1;function fo(t,e,n,r){e.child=t===null?mQ(e,null,n,r):Z0(e,t.child,n,r)}function nH(t,e,n,r,i){n=n.render;var s=e.ref;return v0(e,i),r=c5(t,e,n,r,s,i),n=u5(),t!==null&&!Vo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bh(t,e,i)):(Ri&&n&&ZU(e),e.flags|=1,fo(t,e,r,i),e.child)}function rH(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!b5(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zQ(t,e,s,r,i)):(t=lM(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:pS,n(o,r)&&t.ref===e.ref)return Bh(t,e,i)}return e.flags|=1,t=Dp(s,r),t.ref=e.ref,t.return=e,e.child=t}function zQ(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(pS(s,r)&&t.ref===e.ref)if(Vo=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Vo=!0);else return e.lanes=t.lanes,Bh(t,e,i)}return Z3(t,e,n,r,i)}function $Q(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bi(i0,jl),jl|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bi(i0,jl),jl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,bi(i0,jl),jl|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,bi(i0,jl),jl|=r;return fo(t,e,i,n),e.child}function HQ(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Z3(t,e,n,r,i){var s=qo(n)?ky:Va.current;return s=X0(e,s),v0(e,i),n=c5(t,e,n,r,s,i),r=u5(),t!==null&&!Vo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bh(t,e,i)):(Ri&&r&&ZU(e),e.flags|=1,fo(t,e,n,i),e.child)}function iH(t,e,n,r,i){if(qo(n)){var s=!0;LM(e)}else s=!1;if(v0(e,i),e.stateNode===null)sM(t,e),FQ(e,n,r),X3(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tc(u):(u=qo(n)?ky:Va.current,u=X0(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Q8(e,o,r,u),ip=!1;var f=e.memoizedState;o.state=f,zM(e,r,o,i),c=e.memoizedState,l!==r||f!==c||Go.current||ip?(typeof d=="function"&&(Y3(e,n,d,r),c=e.memoizedState),(l=ip||Z8(e,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yQ(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:su(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Tc(c):(c=qo(n)?ky:Va.current,c=X0(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Q8(e,o,r,c),ip=!1,f=e.memoizedState,o.state=f,zM(e,r,o,i);var m=e.memoizedState;l!==h||f!==m||Go.current||ip?(typeof p=="function"&&(Y3(e,n,p,r),m=e.memoizedState),(u=ip||Z8(e,n,u,r,f,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Q3(t,e,n,r,s,i)}function Q3(t,e,n,r,i,s){HQ(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&H8(e,n,!1),Bh(t,e,s);r=e.stateNode,lxe.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Z0(e,t.child,null,s),e.child=Z0(e,null,l,s)):fo(t,e,l,s),e.memoizedState=r.state,i&&H8(e,n,!0),e.child}function VQ(t){var e=t.stateNode;e.pendingContext?$8(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$8(t,e.context,!1),s5(t,e.containerInfo)}function sH(t,e,n,r,i){return K0(),JU(i),e.flags|=256,fo(t,e,n,r),e.child}var J3={dehydrated:null,treeContext:null,retryLane:0};function eD(t){return{baseLanes:t,cachePool:null,transitions:null}}function WQ(t,e,n){var r=e.pendingProps,i=$i.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bi($i,i&1),t===null)return G3(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=SP(o,r,0,null),t=_y(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=eD(n),e.memoizedState=J3,t):f5(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return cxe(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Dp(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Dp(l,s):(s=_y(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?eD(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=J3,r}return s=t.child,t=s.sibling,r=Dp(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function f5(t,e){return e=SP({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dN(t,e,n,r){return r!==null&&JU(r),Z0(e,t.child,null,n),t=f5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cxe(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zR(Error(jt(422))),dN(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=SP({mode:"visible",children:r.children},i,0,null),s=_y(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Z0(e,t.child,null,o),e.child.memoizedState=eD(o),e.memoizedState=J3,s);if(!(e.mode&1))return dN(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(jt(419)),r=zR(s,r,void 0),dN(t,e,o,r)}if(l=(o&t.childLanes)!==0,Vo||l){if(r=ma,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Uh(t,i),_u(r,t,i,-1))}return x5(),r=zR(Error(jt(421))),dN(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_xe.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rl=Op(i.nextSibling),Ll=e,Ri=!0,pu=null,t!==null&&(yc[vc++]=Eh,yc[vc++]=jh,yc[vc++]=Oy,Eh=t.id,jh=t.overflow,Oy=e),e=f5(e,r.children),e.flags|=4096,e)}function aH(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),q3(t.return,e,n)}function $R(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function GQ(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fo(t,e,r.children,n),r=$i.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aH(t,n,e);else if(t.tag===19)aH(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bi($i,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$M(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$R(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$M(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$R(e,!0,n,null,s);break;case"together":$R(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sM(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bh(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Iy|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(jt(153));if(e.child!==null){for(t=e.child,n=Dp(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dp(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uxe(t,e,n){switch(e.tag){case 3:VQ(e),K0();break;case 5:vQ(e);break;case 1:qo(e.type)&&LM(e);break;case 4:s5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;bi(UM,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bi($i,$i.current&1),e.flags|=128,null):n&e.child.childLanes?WQ(t,e,n):(bi($i,$i.current&1),t=Bh(t,e,n),t!==null?t.sibling:null);bi($i,$i.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return GQ(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bi($i,$i.current),r)break;return null;case 22:case 23:return e.lanes=0,$Q(t,e,n)}return Bh(t,e,n)}var qQ,tD,YQ,XQ;qQ=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tD=function(){};YQ=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xg(xd.current);var s=null;switch(n){case"input":i=S3(t,i),r=S3(t,r),s=[];break;case"select":i=Yi({},i,{value:void 0}),r=Yi({},r,{value:void 0}),s=[];break;case"textarea":i=A3(t,i),r=A3(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=RM)}T3(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oS.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oS.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ji("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};XQ=function(t,e,n,r){n!==r&&(e.flags|=4)};function j_(t,e){if(!Ri)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Oa(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dxe(t,e,n){var r=e.pendingProps;switch(QU(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oa(e),null;case 1:return qo(e.type)&&IM(),Oa(e),null;case 3:return r=e.stateNode,Q0(),Mi(Go),Mi(Va),o5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cN(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pu!==null&&(cD(pu),pu=null))),tD(t,e),Oa(e),null;case 5:a5(e);var i=Xg(xS.current);if(n=e.type,t!==null&&e.stateNode!=null)YQ(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(jt(166));return Oa(e),null}if(t=Xg(xd.current),cN(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ld]=e,r[yS]=s,t=(e.mode&1)!==0,n){case"dialog":ji("cancel",r),ji("close",r);break;case"iframe":case"object":case"embed":ji("load",r);break;case"video":case"audio":for(i=0;i<v1.length;i++)ji(v1[i],r);break;case"source":ji("error",r);break;case"img":case"image":case"link":ji("error",r),ji("load",r);break;case"details":ji("toggle",r);break;case"input":m8(r,s),ji("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ji("invalid",r);break;case"textarea":y8(r,s),ji("invalid",r)}T3(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&lN(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&lN(r.textContent,l,t),i=["children",""+l]):oS.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ji("scroll",r)}switch(n){case"input":eN(r),g8(r,s,!0);break;case"textarea":eN(r),v8(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=RM)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=SZ(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ld]=e,t[yS]=r,qQ(t,e,!1,!1),e.stateNode=t;e:{switch(o=M3(n,r),n){case"dialog":ji("cancel",t),ji("close",t),i=r;break;case"iframe":case"object":case"embed":ji("load",t),i=r;break;case"video":case"audio":for(i=0;i<v1.length;i++)ji(v1[i],t);i=r;break;case"source":ji("error",t),i=r;break;case"img":case"image":case"link":ji("error",t),ji("load",t),i=r;break;case"details":ji("toggle",t),i=r;break;case"input":m8(t,r),i=S3(t,r),ji("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Yi({},r,{value:void 0}),ji("invalid",t);break;case"textarea":y8(t,r),i=A3(t,r),ji("invalid",t);break;default:i=r}T3(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?AZ(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&EZ(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&lS(t,c):typeof c=="number"&&lS(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(oS.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ji("scroll",t):c!=null&&DU(t,s,c,o))}switch(n){case"input":eN(t),g8(t,r,!1);break;case"textarea":eN(t),v8(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vp(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?p0(t,!!r.multiple,s,!1):r.defaultValue!=null&&p0(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=RM)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oa(e),null;case 6:if(t&&e.stateNode!=null)XQ(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(jt(166));if(n=Xg(xS.current),Xg(xd.current),cN(e)){if(r=e.stateNode,n=e.memoizedProps,r[ld]=e,(s=r.nodeValue!==n)&&(t=Ll,t!==null))switch(t.tag){case 3:lN(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lN(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ld]=e,e.stateNode=r}return Oa(e),null;case 13:if(Mi($i),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ri&&Rl!==null&&e.mode&1&&!(e.flags&128))fQ(),K0(),e.flags|=98560,s=!1;else if(s=cN(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(jt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(jt(317));s[ld]=e}else K0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oa(e),s=!1}else pu!==null&&(cD(pu),pu=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$i.current&1?Vs===0&&(Vs=3):x5())),e.updateQueue!==null&&(e.flags|=4),Oa(e),null);case 4:return Q0(),tD(t,e),t===null&&mS(e.stateNode.containerInfo),Oa(e),null;case 10:return n5(e.type._context),Oa(e),null;case 17:return qo(e.type)&&IM(),Oa(e),null;case 19:if(Mi($i),s=e.memoizedState,s===null)return Oa(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)j_(s,!1);else{if(Vs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$M(t),o!==null){for(e.flags|=128,j_(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bi($i,$i.current&1|2),e.child}t=t.sibling}s.tail!==null&&ps()>eb&&(e.flags|=128,r=!0,j_(s,!1),e.lanes=4194304)}else{if(!r)if(t=$M(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),j_(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ri)return Oa(e),null}else 2*ps()-s.renderingStartTime>eb&&n!==1073741824&&(e.flags|=128,r=!0,j_(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ps(),e.sibling=null,n=$i.current,bi($i,r?n&1|2:n&1),e):(Oa(e),null);case 22:case 23:return v5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jl&1073741824&&(Oa(e),e.subtreeFlags&6&&(e.flags|=8192)):Oa(e),null;case 24:return null;case 25:return null}throw Error(jt(156,e.tag))}function hxe(t,e){switch(QU(e),e.tag){case 1:return qo(e.type)&&IM(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Q0(),Mi(Go),Mi(Va),o5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return a5(e),null;case 13:if(Mi($i),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(jt(340));K0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mi($i),null;case 4:return Q0(),null;case 10:return n5(e.type._context),null;case 22:case 23:return v5(),null;case 24:return null;default:return null}}var hN=!1,Ua=!1,fxe=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function r0(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rs(t,e,r)}else n.current=null}function nD(t,e,n){try{n()}catch(r){rs(t,e,r)}}var oH=!1;function pxe(t,e){if(U3=PM,t=eQ(),KU(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(B3={focusedElem:t,selectionRange:n},PM=!1,Kt=e;Kt!==null;)if(e=Kt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Kt=t;else for(;Kt!==null;){e=Kt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:su(e.type,y),b);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(jt(163))}}catch(j){rs(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Kt=t;break}Kt=e.return}return m=oH,oH=!1,m}function k1(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&nD(e,n,s)}i=i.next}while(i!==r)}}function wP(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rD(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KQ(t){var e=t.alternate;e!==null&&(t.alternate=null,KQ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ld],delete e[yS],delete e[H3],delete e[Kve],delete e[Zve])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZQ(t){return t.tag===5||t.tag===3||t.tag===4}function lH(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZQ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=RM));else if(r!==4&&(t=t.child,t!==null))for(iD(t,e,n),t=t.sibling;t!==null;)iD(t,e,n),t=t.sibling}function sD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sD(t,e,n),t=t.sibling;t!==null;)sD(t,e,n),t=t.sibling}var _a=null,uu=!1;function Ff(t,e,n){for(n=n.child;n!==null;)QQ(t,e,n),n=n.sibling}function QQ(t,e,n){if(vd&&typeof vd.onCommitFiberUnmount=="function")try{vd.onCommitFiberUnmount(fP,n)}catch{}switch(n.tag){case 5:Ua||r0(n,e);case 6:var r=_a,i=uu;_a=null,Ff(t,e,n),_a=r,uu=i,_a!==null&&(uu?(t=_a,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_a.removeChild(n.stateNode));break;case 18:_a!==null&&(uu?(t=_a,n=n.stateNode,t.nodeType===8?IR(t.parentNode,n):t.nodeType===1&&IR(t,n),hS(t)):IR(_a,n.stateNode));break;case 4:r=_a,i=uu,_a=n.stateNode.containerInfo,uu=!0,Ff(t,e,n),_a=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Ua&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&nD(n,e,o),i=i.next}while(i!==r)}Ff(t,e,n);break;case 1:if(!Ua&&(r0(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rs(n,e,l)}Ff(t,e,n);break;case 21:Ff(t,e,n);break;case 22:n.mode&1?(Ua=(r=Ua)||n.memoizedState!==null,Ff(t,e,n),Ua=r):Ff(t,e,n);break;default:Ff(t,e,n)}}function cH(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fxe),e.forEach(function(r){var i=Sxe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:_a=l.stateNode,uu=!1;break e;case 3:_a=l.stateNode.containerInfo,uu=!0;break e;case 4:_a=l.stateNode.containerInfo,uu=!0;break e}l=l.return}if(_a===null)throw Error(jt(160));QQ(s,o,i),_a=null,uu=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){rs(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JQ(e,t),e=e.sibling}function JQ(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xc(e,t),Ju(t),r&4){try{k1(3,t,t.return),wP(3,t)}catch(y){rs(t,t.return,y)}try{k1(5,t,t.return)}catch(y){rs(t,t.return,y)}}break;case 1:Xc(e,t),Ju(t),r&512&&n!==null&&r0(n,n.return);break;case 5:if(Xc(e,t),Ju(t),r&512&&n!==null&&r0(n,n.return),t.flags&32){var i=t.stateNode;try{lS(i,"")}catch(y){rs(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&wZ(i,s),M3(l,o);var u=M3(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?AZ(i,h):d==="dangerouslySetInnerHTML"?EZ(i,h):d==="children"?lS(i,h):DU(i,d,h,u)}switch(l){case"input":E3(i,s);break;case"textarea":_Z(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?p0(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?p0(i,!!s.multiple,s.defaultValue,!0):p0(i,!!s.multiple,s.multiple?[]:"",!1))}i[yS]=s}catch(y){rs(t,t.return,y)}}break;case 6:if(Xc(e,t),Ju(t),r&4){if(t.stateNode===null)throw Error(jt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){rs(t,t.return,y)}}break;case 3:if(Xc(e,t),Ju(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hS(e.containerInfo)}catch(y){rs(t,t.return,y)}break;case 4:Xc(e,t),Ju(t);break;case 13:Xc(e,t),Ju(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(g5=ps())),r&4&&cH(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ua=(u=Ua)||d,Xc(e,t),Ua=u):Xc(e,t),Ju(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Kt=t,d=t.child;d!==null;){for(h=Kt=d;Kt!==null;){switch(f=Kt,p=f.child,f.tag){case 0:case 11:case 14:case 15:k1(4,f,f.return);break;case 1:r0(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){rs(r,n,y)}}break;case 5:r0(f,f.return);break;case 22:if(f.memoizedState!==null){dH(h);continue}}p!==null?(p.return=f,Kt=p):dH(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jZ("display",o))}catch(y){rs(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){rs(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xc(e,t),Ju(t),r&4&&cH(t);break;case 21:break;default:Xc(e,t),Ju(t)}}function Ju(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZQ(n)){var r=n;break e}n=n.return}throw Error(jt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lS(i,""),r.flags&=-33);var s=lH(t);sD(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=lH(t);iD(t,l,o);break;default:throw Error(jt(161))}}catch(c){rs(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mxe(t,e,n){Kt=t,eJ(t)}function eJ(t,e,n){for(var r=(t.mode&1)!==0;Kt!==null;){var i=Kt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hN;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ua;l=hN;var u=Ua;if(hN=o,(Ua=c)&&!u)for(Kt=i;Kt!==null;)o=Kt,c=o.child,o.tag===22&&o.memoizedState!==null?hH(i):c!==null?(c.return=o,Kt=c):hH(i);for(;s!==null;)Kt=s,eJ(s),s=s.sibling;Kt=i,hN=l,Ua=u}uH(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Kt=s):uH(t)}}function uH(t){for(;Kt!==null;){var e=Kt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ua||wP(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ua)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:su(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Y8(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Y8(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&hS(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(jt(163))}Ua||e.flags&512&&rD(e)}catch(f){rs(e,e.return,f)}}if(e===t){Kt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Kt=n;break}Kt=e.return}}function dH(t){for(;Kt!==null;){var e=Kt;if(e===t){Kt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Kt=n;break}Kt=e.return}}function hH(t){for(;Kt!==null;){var e=Kt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wP(4,e)}catch(c){rs(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){rs(e,i,c)}}var s=e.return;try{rD(e)}catch(c){rs(e,s,c)}break;case 5:var o=e.return;try{rD(e)}catch(c){rs(e,o,c)}}}catch(c){rs(e,e.return,c)}if(e===t){Kt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Kt=l;break}Kt=e.return}}var gxe=Math.ceil,WM=ef.ReactCurrentDispatcher,p5=ef.ReactCurrentOwner,jc=ef.ReactCurrentBatchConfig,Pr=0,ma=null,Ms=null,Aa=0,jl=0,i0=sm(0),Vs=0,SS=null,Iy=0,_P=0,m5=0,O1=null,$o=null,g5=0,eb=1/0,ph=null,GM=!1,aD=null,Ip=null,fN=!1,Ep=null,qM=0,R1=0,oD=null,aM=-1,oM=0;function vo(){return Pr&6?ps():aM!==-1?aM:aM=ps()}function Lp(t){return t.mode&1?Pr&2&&Aa!==0?Aa&-Aa:Jve.transition!==null?(oM===0&&(oM=FZ()),oM):(t=Jr,t!==0||(t=window.event,t=t===void 0?16:WZ(t.type)),t):1}function _u(t,e,n,r){if(50<R1)throw R1=0,oD=null,Error(jt(185));JE(t,n,r),(!(Pr&2)||t!==ma)&&(t===ma&&(!(Pr&2)&&(_P|=n),Vs===4&&cp(t,Aa)),Yo(t,r),n===1&&Pr===0&&!(e.mode&1)&&(eb=ps()+500,vP&&am()))}function Yo(t,e){var n=t.callbackNode;Jye(t,e);var r=CM(t,t===ma?Aa:0);if(r===0)n!==null&&w8(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&w8(n),e===1)t.tag===0?Qve(fH.bind(null,t)):uQ(fH.bind(null,t)),Yve(function(){!(Pr&6)&&am()}),n=null;else{switch(UZ(r)){case 1:n=$U;break;case 4:n=LZ;break;case 16:n=MM;break;case 536870912:n=DZ;break;default:n=MM}n=lJ(n,tJ.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tJ(t,e){if(aM=-1,oM=0,Pr&6)throw Error(jt(327));var n=t.callbackNode;if(x0()&&t.callbackNode!==n)return null;var r=CM(t,t===ma?Aa:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=YM(t,r);else{e=r;var i=Pr;Pr|=2;var s=rJ();(ma!==t||Aa!==e)&&(ph=null,eb=ps()+500,wy(t,e));do try{xxe();break}catch(l){nJ(t,l)}while(!0);t5(),WM.current=s,Pr=i,Ms!==null?e=0:(ma=null,Aa=0,e=Vs)}if(e!==0){if(e===2&&(i=R3(t),i!==0&&(r=i,e=lD(t,i))),e===1)throw n=SS,wy(t,0),cp(t,r),Yo(t,ps()),n;if(e===6)cp(t,r);else{if(i=t.current.alternate,!(r&30)&&!yxe(i)&&(e=YM(t,r),e===2&&(s=R3(t),s!==0&&(r=s,e=lD(t,s))),e===1))throw n=SS,wy(t,0),cp(t,r),Yo(t,ps()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(jt(345));case 2:Mg(t,$o,ph);break;case 3:if(cp(t,r),(r&130023424)===r&&(e=g5+500-ps(),10<e)){if(CM(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$3(Mg.bind(null,t,$o,ph),e);break}Mg(t,$o,ph);break;case 4:if(cp(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-wu(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ps()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gxe(r/1960))-r,10<r){t.timeoutHandle=$3(Mg.bind(null,t,$o,ph),r);break}Mg(t,$o,ph);break;case 5:Mg(t,$o,ph);break;default:throw Error(jt(329))}}}return Yo(t,ps()),t.callbackNode===n?tJ.bind(null,t):null}function lD(t,e){var n=O1;return t.current.memoizedState.isDehydrated&&(wy(t,e).flags|=256),t=YM(t,e),t!==2&&(e=$o,$o=n,e!==null&&cD(e)),t}function cD(t){$o===null?$o=t:$o.push.apply($o,t)}function yxe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Au(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cp(t,e){for(e&=~m5,e&=~_P,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wu(e),r=1<<n;t[n]=-1,e&=~r}}function fH(t){if(Pr&6)throw Error(jt(327));x0();var e=CM(t,0);if(!(e&1))return Yo(t,ps()),null;var n=YM(t,e);if(t.tag!==0&&n===2){var r=R3(t);r!==0&&(e=r,n=lD(t,r))}if(n===1)throw n=SS,wy(t,0),cp(t,e),Yo(t,ps()),n;if(n===6)throw Error(jt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mg(t,$o,ph),Yo(t,ps()),null}function y5(t,e){var n=Pr;Pr|=1;try{return t(e)}finally{Pr=n,Pr===0&&(eb=ps()+500,vP&&am())}}function Ly(t){Ep!==null&&Ep.tag===0&&!(Pr&6)&&x0();var e=Pr;Pr|=1;var n=jc.transition,r=Jr;try{if(jc.transition=null,Jr=1,t)return t()}finally{Jr=r,jc.transition=n,Pr=e,!(Pr&6)&&am()}}function v5(){jl=i0.current,Mi(i0)}function wy(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qve(n)),Ms!==null)for(n=Ms.return;n!==null;){var r=n;switch(QU(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&IM();break;case 3:Q0(),Mi(Go),Mi(Va),o5();break;case 5:a5(r);break;case 4:Q0();break;case 13:Mi($i);break;case 19:Mi($i);break;case 10:n5(r.type._context);break;case 22:case 23:v5()}n=n.return}if(ma=t,Ms=t=Dp(t.current,null),Aa=jl=e,Vs=0,SS=null,m5=_P=Iy=0,$o=O1=null,Yg!==null){for(e=0;e<Yg.length;e++)if(n=Yg[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yg=null}return t}function nJ(t,e){do{var n=Ms;try{if(t5(),rM.current=VM,HM){for(var r=qi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}HM=!1}if(Ry=0,ha=$s=qi=null,P1=!1,bS=0,p5.current=null,n===null||n.return===null){Vs=1,SS=e,Ms=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Aa,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=eH(o);if(p!==null){p.flags&=-257,tH(p,o,l,s,e),p.mode&1&&J8(s,u,e),e=p,c=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(c),e.updateQueue=y}else m.add(c);break e}else{if(!(e&1)){J8(s,u,e),x5();break e}c=Error(jt(426))}}else if(Ri&&l.mode&1){var b=eH(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),tH(b,o,l,s,e),JU(J0(c,l));break e}}s=c=J0(c,l),Vs!==4&&(Vs=2),O1===null?O1=[s]:O1.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=UQ(s,c,e);q8(s,v);break e;case 1:l=c;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ip===null||!Ip.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=BQ(s,l,e);q8(s,j);break e}}s=s.return}while(s!==null)}sJ(n)}catch(N){e=N,Ms===n&&n!==null&&(Ms=n=n.return);continue}break}while(!0)}function rJ(){var t=WM.current;return WM.current=VM,t===null?VM:t}function x5(){(Vs===0||Vs===3||Vs===2)&&(Vs=4),ma===null||!(Iy&268435455)&&!(_P&268435455)||cp(ma,Aa)}function YM(t,e){var n=Pr;Pr|=2;var r=rJ();(ma!==t||Aa!==e)&&(ph=null,wy(t,e));do try{vxe();break}catch(i){nJ(t,i)}while(!0);if(t5(),Pr=n,WM.current=r,Ms!==null)throw Error(jt(261));return ma=null,Aa=0,Vs}function vxe(){for(;Ms!==null;)iJ(Ms)}function xxe(){for(;Ms!==null&&!Vye();)iJ(Ms)}function iJ(t){var e=oJ(t.alternate,t,jl);t.memoizedProps=t.pendingProps,e===null?sJ(t):Ms=e,p5.current=null}function sJ(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hxe(n,e),n!==null){n.flags&=32767,Ms=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vs=6,Ms=null;return}}else if(n=dxe(n,e,jl),n!==null){Ms=n;return}if(e=e.sibling,e!==null){Ms=e;return}Ms=e=t}while(e!==null);Vs===0&&(Vs=5)}function Mg(t,e,n){var r=Jr,i=jc.transition;try{jc.transition=null,Jr=1,bxe(t,e,n,r)}finally{jc.transition=i,Jr=r}return null}function bxe(t,e,n,r){do x0();while(Ep!==null);if(Pr&6)throw Error(jt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(jt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(eve(t,s),t===ma&&(Ms=ma=null,Aa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fN||(fN=!0,lJ(MM,function(){return x0(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jc.transition,jc.transition=null;var o=Jr;Jr=1;var l=Pr;Pr|=4,p5.current=null,pxe(t,n),JQ(n,t),Bve(B3),PM=!!U3,B3=U3=null,t.current=n,mxe(n),Wye(),Pr=l,Jr=o,jc.transition=s}else t.current=n;if(fN&&(fN=!1,Ep=t,qM=i),s=t.pendingLanes,s===0&&(Ip=null),Yye(n.stateNode),Yo(t,ps()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(GM)throw GM=!1,t=aD,aD=null,t;return qM&1&&t.tag!==0&&x0(),s=t.pendingLanes,s&1?t===oD?R1++:(R1=0,oD=t):R1=0,am(),null}function x0(){if(Ep!==null){var t=UZ(qM),e=jc.transition,n=Jr;try{if(jc.transition=null,Jr=16>t?16:t,Ep===null)var r=!1;else{if(t=Ep,Ep=null,qM=0,Pr&6)throw Error(jt(331));var i=Pr;for(Pr|=4,Kt=t.current;Kt!==null;){var s=Kt,o=s.child;if(Kt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Kt=u;Kt!==null;){var d=Kt;switch(d.tag){case 0:case 11:case 15:k1(8,d,s)}var h=d.child;if(h!==null)h.return=d,Kt=h;else for(;Kt!==null;){d=Kt;var f=d.sibling,p=d.return;if(KQ(d),d===u){Kt=null;break}if(f!==null){f.return=p,Kt=f;break}Kt=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Kt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Kt=o;else e:for(;Kt!==null;){if(s=Kt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:k1(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Kt=v;break e}Kt=s.return}}var _=t.current;for(Kt=_;Kt!==null;){o=Kt;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Kt=S;else e:for(o=_;Kt!==null;){if(l=Kt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wP(9,l)}}catch(N){rs(l,l.return,N)}if(l===o){Kt=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Kt=j;break e}Kt=l.return}}if(Pr=i,am(),vd&&typeof vd.onPostCommitFiberRoot=="function")try{vd.onPostCommitFiberRoot(fP,t)}catch{}r=!0}return r}finally{Jr=n,jc.transition=e}}return!1}function pH(t,e,n){e=J0(n,e),e=UQ(t,e,1),t=Rp(t,e,1),e=vo(),t!==null&&(JE(t,1,e),Yo(t,e))}function rs(t,e,n){if(t.tag===3)pH(t,t,n);else for(;e!==null;){if(e.tag===3){pH(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ip===null||!Ip.has(r))){t=J0(n,t),t=BQ(e,t,1),e=Rp(e,t,1),t=vo(),e!==null&&(JE(e,1,t),Yo(e,t));break}}e=e.return}}function wxe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vo(),t.pingedLanes|=t.suspendedLanes&n,ma===t&&(Aa&n)===n&&(Vs===4||Vs===3&&(Aa&130023424)===Aa&&500>ps()-g5?wy(t,0):m5|=n),Yo(t,e)}function aJ(t,e){e===0&&(t.mode&1?(e=rN,rN<<=1,!(rN&130023424)&&(rN=4194304)):e=1);var n=vo();t=Uh(t,e),t!==null&&(JE(t,e,n),Yo(t,n))}function _xe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aJ(t,n)}function Sxe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(jt(314))}r!==null&&r.delete(e),aJ(t,n)}var oJ;oJ=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Go.current)Vo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vo=!1,uxe(t,e,n);Vo=!!(t.flags&131072)}else Vo=!1,Ri&&e.flags&1048576&&dQ(e,FM,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sM(t,e),t=e.pendingProps;var i=X0(e,Va.current);v0(e,n),i=c5(null,e,r,t,i,n);var s=u5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qo(r)?(s=!0,LM(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i5(e),i.updater=bP,e.stateNode=i,i._reactInternals=e,X3(e,r,t,n),e=Q3(null,e,r,!0,s,n)):(e.tag=0,Ri&&s&&ZU(e),fo(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sM(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jxe(r),t=su(r,t),i){case 0:e=Z3(null,e,r,t,n);break e;case 1:e=iH(null,e,r,t,n);break e;case 11:e=nH(null,e,r,t,n);break e;case 14:e=rH(null,e,r,su(r.type,t),n);break e}throw Error(jt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:su(r,i),Z3(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:su(r,i),iH(t,e,r,i,n);case 3:e:{if(VQ(e),t===null)throw Error(jt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,yQ(t,e),zM(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=J0(Error(jt(423)),e),e=sH(t,e,r,n,i);break e}else if(r!==i){i=J0(Error(jt(424)),e),e=sH(t,e,r,n,i);break e}else for(Rl=Op(e.stateNode.containerInfo.firstChild),Ll=e,Ri=!0,pu=null,n=mQ(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(K0(),r===i){e=Bh(t,e,n);break e}fo(t,e,r,n)}e=e.child}return e;case 5:return vQ(e),t===null&&G3(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,z3(r,i)?o=null:s!==null&&z3(r,s)&&(e.flags|=32),HQ(t,e),fo(t,e,o,n),e.child;case 6:return t===null&&G3(e),null;case 13:return WQ(t,e,n);case 4:return s5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Z0(e,null,r,n):fo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:su(r,i),nH(t,e,r,i,n);case 7:return fo(t,e,e.pendingProps,n),e.child;case 8:return fo(t,e,e.pendingProps.children,n),e.child;case 12:return fo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,bi(UM,r._currentValue),r._currentValue=o,s!==null)if(Au(s.value,o)){if(s.children===i.children&&!Go.current){e=Bh(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ch(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),q3(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(jt(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),q3(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,v0(e,n),i=Tc(i),r=r(i),e.flags|=1,fo(t,e,r,n),e.child;case 14:return r=e.type,i=su(r,e.pendingProps),i=su(r.type,i),rH(t,e,r,i,n);case 15:return zQ(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:su(r,i),sM(t,e),e.tag=1,qo(r)?(t=!0,LM(e)):t=!1,v0(e,n),FQ(e,r,i),X3(e,r,i,n),Q3(null,e,r,!0,t,n);case 19:return GQ(t,e,n);case 22:return $Q(t,e,n)}throw Error(jt(156,e.tag))};function lJ(t,e){return IZ(t,e)}function Exe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sc(t,e,n,r){return new Exe(t,e,n,r)}function b5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jxe(t){if(typeof t=="function")return b5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===UU)return 11;if(t===BU)return 14}return 2}function Dp(t,e){var n=t.alternate;return n===null?(n=Sc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lM(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")b5(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yx:return _y(n.children,i,s,e);case FU:o=8,i|=8;break;case x3:return t=Sc(12,n,e,i|2),t.elementType=x3,t.lanes=s,t;case b3:return t=Sc(13,n,e,i),t.elementType=b3,t.lanes=s,t;case w3:return t=Sc(19,n,e,i),t.elementType=w3,t.lanes=s,t;case vZ:return SP(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gZ:o=10;break e;case yZ:o=9;break e;case UU:o=11;break e;case BU:o=14;break e;case rp:o=16,r=null;break e}throw Error(jt(130,t==null?t:typeof t,""))}return e=Sc(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function _y(t,e,n,r){return t=Sc(7,t,r,e),t.lanes=n,t}function SP(t,e,n,r){return t=Sc(22,t,r,e),t.elementType=vZ,t.lanes=n,t.stateNode={isHidden:!1},t}function HR(t,e,n){return t=Sc(6,t,null,e),t.lanes=n,t}function VR(t,e,n){return e=Sc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Axe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ER(0),this.expirationTimes=ER(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ER(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function w5(t,e,n,r,i,s,o,l,c){return t=new Axe(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i5(s),t}function Nxe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qx,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cJ(t){if(!t)return Wp;t=t._reactInternals;e:{if(rv(t)!==t||t.tag!==1)throw Error(jt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(jt(171))}if(t.tag===1){var n=t.type;if(qo(n))return cQ(t,n,e)}return e}function uJ(t,e,n,r,i,s,o,l,c){return t=w5(n,r,!0,t,i,s,o,l,c),t.context=cJ(null),n=t.current,r=vo(),i=Lp(n),s=Ch(r,i),s.callback=e??null,Rp(n,s,i),t.current.lanes=i,JE(t,i,r),Yo(t,r),t}function EP(t,e,n,r){var i=e.current,s=vo(),o=Lp(i);return n=cJ(n),e.context===null?e.context=n:e.pendingContext=n,e=Ch(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rp(i,e,o),t!==null&&(_u(t,i,o,s),nM(t,i,o)),o}function XM(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mH(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _5(t,e){mH(t,e),(t=t.alternate)&&mH(t,e)}function Txe(){return null}var dJ=typeof reportError=="function"?reportError:function(t){console.error(t)};function S5(t){this._internalRoot=t}jP.prototype.render=S5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(jt(409));EP(t,e,null,null)};jP.prototype.unmount=S5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ly(function(){EP(null,t,null,null)}),e[Fh]=null}};function jP(t){this._internalRoot=t}jP.prototype.unstable_scheduleHydration=function(t){if(t){var e=$Z();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lp.length&&e!==0&&e<lp[n].priority;n++);lp.splice(n,0,t),n===0&&VZ(t)}};function E5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function AP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gH(){}function Mxe(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=XM(o);s.call(u)}}var o=uJ(e,r,t,0,null,!1,!1,"",gH);return t._reactRootContainer=o,t[Fh]=o.current,mS(t.nodeType===8?t.parentNode:t),Ly(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=XM(c);l.call(u)}}var c=w5(t,0,!1,null,null,!1,!1,"",gH);return t._reactRootContainer=c,t[Fh]=c.current,mS(t.nodeType===8?t.parentNode:t),Ly(function(){EP(e,c,n,r)}),c}function NP(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=XM(o);l.call(c)}}EP(e,o,t,i)}else o=Mxe(n,e,t,i,r);return XM(o)}BZ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=y1(e.pendingLanes);n!==0&&(HU(e,n|1),Yo(e,ps()),!(Pr&6)&&(eb=ps()+500,am()))}break;case 13:Ly(function(){var r=Uh(t,1);if(r!==null){var i=vo();_u(r,t,1,i)}}),_5(t,1)}};VU=function(t){if(t.tag===13){var e=Uh(t,134217728);if(e!==null){var n=vo();_u(e,t,134217728,n)}_5(t,134217728)}};zZ=function(t){if(t.tag===13){var e=Lp(t),n=Uh(t,e);if(n!==null){var r=vo();_u(n,t,e,r)}_5(t,e)}};$Z=function(){return Jr};HZ=function(t,e){var n=Jr;try{return Jr=t,e()}finally{Jr=n}};P3=function(t,e,n){switch(e){case"input":if(E3(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yP(r);if(!i)throw Error(jt(90));bZ(r),E3(r,i)}}}break;case"textarea":_Z(t,n);break;case"select":e=n.value,e!=null&&p0(t,!!n.multiple,e,!1)}};MZ=y5;CZ=Ly;var Cxe={usingClientEntryPoint:!1,Events:[tj,Qx,yP,NZ,TZ,y5]},A_={findFiberByHostInstance:qg,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pxe={bundleType:A_.bundleType,version:A_.version,rendererPackageName:A_.rendererPackageName,rendererConfig:A_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ef.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OZ(t),t===null?null:t.stateNode},findFiberByHostInstance:A_.findFiberByHostInstance||Txe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pN=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pN.isDisabled&&pN.supportsFiber)try{fP=pN.inject(Pxe),vd=pN}catch{}}Wl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cxe;Wl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E5(e))throw Error(jt(200));return Nxe(t,e,null,n)};Wl.createRoot=function(t,e){if(!E5(t))throw Error(jt(299));var n=!1,r="",i=dJ;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=w5(t,1,!1,null,null,n,!1,r,i),t[Fh]=e.current,mS(t.nodeType===8?t.parentNode:t),new S5(e)};Wl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(jt(188)):(t=Object.keys(t).join(","),Error(jt(268,t)));return t=OZ(e),t=t===null?null:t.stateNode,t};Wl.flushSync=function(t){return Ly(t)};Wl.hydrate=function(t,e,n){if(!AP(e))throw Error(jt(200));return NP(null,t,e,!0,n)};Wl.hydrateRoot=function(t,e,n){if(!E5(t))throw Error(jt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=dJ;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=uJ(e,null,t,1,n??null,i,!1,s,o),t[Fh]=e.current,mS(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jP(e)};Wl.render=function(t,e,n){if(!AP(e))throw Error(jt(200));return NP(null,t,e,!1,n)};Wl.unmountComponentAtNode=function(t){if(!AP(t))throw Error(jt(40));return t._reactRootContainer?(Ly(function(){NP(null,null,t,!1,function(){t._reactRootContainer=null,t[Fh]=null})}),!0):!1};Wl.unstable_batchedUpdates=y5;Wl.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!AP(n))throw Error(jt(200));if(t==null||t._reactInternals===void 0)throw Error(jt(38));return NP(t,e,n,!1,r)};Wl.version="18.3.1-next-f1338f8080-20240426";function hJ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hJ)}catch(t){console.error(t)}}hJ(),hZ.exports=Wl;var Yb=hZ.exports;const fJ=jr(Yb);var pJ,yH=Yb;pJ=y3.createRoot=yH.createRoot,y3.hydrateRoot=yH.hydrateRoot;var Xb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kxe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},pp,MU,$K,Oxe=($K=class{constructor(){gn(this,pp,kxe);gn(this,MU,!1)}setTimeoutProvider(t){$t(this,pp,t)}setTimeout(t,e){return _e(this,pp).setTimeout(t,e)}clearTimeout(t){_e(this,pp).clearTimeout(t)}setInterval(t,e){return _e(this,pp).setInterval(t,e)}clearInterval(t){_e(this,pp).clearInterval(t)}},pp=new WeakMap,MU=new WeakMap,$K),Kg=new Oxe;function Rxe(t){setTimeout(t,0)}var Dy=typeof window>"u"||"Deno"in globalThis;function po(){}function Ixe(t,e){return typeof t=="function"?t(e):t}function uD(t){return typeof t=="number"&&t>=0&&t!==1/0}function mJ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fp(t,e){return typeof t=="function"?t(e):t}function gc(t,e){return typeof t=="function"?t(e):t}function vH(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==j5(o,e.options))return!1}else if(!ES(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function xH(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Fy(e.options.mutationKey)!==Fy(s))return!1}else if(!ES(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function j5(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fy)(t)}function Fy(t){return JSON.stringify(t,(e,n)=>dD(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ES(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ES(t[n],e[n])):!1}var Lxe=Object.prototype.hasOwnProperty;function gJ(t,e){if(t===e)return t;const n=bH(t)&&bH(e);if(!n&&!(dD(t)&&dD(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:s[u],h=t[d],f=e[d];if(h===f){l[d]=h,(n?u<i:Lxe.call(t,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const p=gJ(h,f);l[d]=p,p===h&&c++}return i===o&&c===i?t:l}function KM(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function bH(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dD(t){if(!wH(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!wH(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wH(t){return Object.prototype.toString.call(t)==="[object Object]"}function Dxe(t){return new Promise(e=>{Kg.setTimeout(e,t)})}function hD(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?gJ(t,e):e}function Fxe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Uxe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var A5=Symbol();function yJ(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===A5?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function vJ(t,e){return typeof t=="function"?t(...e):!!t}var dy,mp,L0,HK,Bxe=(HK=class extends Xb{constructor(){super();gn(this,dy);gn(this,mp);gn(this,L0);$t(this,L0,e=>{if(!Dy&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_e(this,mp)||this.setEventListener(_e(this,L0))}onUnsubscribe(){var e;this.hasListeners()||((e=_e(this,mp))==null||e.call(this),$t(this,mp,void 0))}setEventListener(e){var n;$t(this,L0,e),(n=_e(this,mp))==null||n.call(this),$t(this,mp,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){_e(this,dy)!==e&&($t(this,dy,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof _e(this,dy)=="boolean"?_e(this,dy):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},dy=new WeakMap,mp=new WeakMap,L0=new WeakMap,HK),N5=new Bxe;function fD(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var zxe=Rxe;function $xe(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=zxe;const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Hs=$xe(),D0,gp,F0,VK,Hxe=(VK=class extends Xb{constructor(){super();gn(this,D0,!0);gn(this,gp);gn(this,F0);$t(this,F0,e=>{if(!Dy&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){_e(this,gp)||this.setEventListener(_e(this,F0))}onUnsubscribe(){var e;this.hasListeners()||((e=_e(this,gp))==null||e.call(this),$t(this,gp,void 0))}setEventListener(e){var n;$t(this,F0,e),(n=_e(this,gp))==null||n.call(this),$t(this,gp,e(this.setOnline.bind(this)))}setOnline(e){_e(this,D0)!==e&&($t(this,D0,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return _e(this,D0)}},D0=new WeakMap,gp=new WeakMap,F0=new WeakMap,VK),ZM=new Hxe;function Vxe(t){return Math.min(1e3*2**t,3e4)}function xJ(t){return(t??"online")==="online"?ZM.isOnline():!0}var pD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function bJ(t){let e=!1,n=0,r;const i=fD(),s=()=>i.status!=="pending",o=y=>{var b;if(!s()){const v=new pD(y);f(v),(b=t.onCancel)==null||b.call(t,v)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>N5.isFocused()&&(t.networkMode==="always"||ZM.isOnline())&&t.canRun(),d=()=>xJ(t.networkMode)&&t.canRun(),h=y=>{s()||(r==null||r(),i.resolve(y))},f=y=>{s()||(r==null||r(),i.reject(y))},p=()=>new Promise(y=>{var b;r=v=>{(s()||u())&&y(v)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;r=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(h).catch(v=>{var A;if(s())return;const _=t.retry??(Dy?0:3),S=t.retryDelay??Vxe,j=typeof S=="function"?S(n,v):S,N=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!N){f(v);return}n++,(A=t.onFail)==null||A.call(t,n,v),Dxe(j).then(()=>u()?void 0:p()).then(()=>{e?f(v):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():p().then(m),i)}}var hy,WK,wJ=(WK=class{constructor(){gn(this,hy)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uD(this.gcTime)&&$t(this,hy,Kg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dy?1/0:5*60*1e3))}clearGcTimeout(){_e(this,hy)&&(Kg.clearTimeout(_e(this,hy)),$t(this,hy,void 0))}},hy=new WeakMap,WK),fy,U0,mc,py,ua,qE,my,lu,fh,GK,Wxe=(GK=class extends wJ{constructor(e){super();gn(this,lu);gn(this,fy);gn(this,U0);gn(this,mc);gn(this,py);gn(this,ua);gn(this,qE);gn(this,my);$t(this,my,!1),$t(this,qE,e.defaultOptions),this.setOptions(e.options),this.observers=[],$t(this,py,e.client),$t(this,mc,_e(this,py).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,$t(this,fy,_H(this.options)),this.state=e.state??_e(this,fy),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_e(this,ua))==null?void 0:e.promise}setOptions(e){if(this.options={..._e(this,qE),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=_H(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),$t(this,fy,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_e(this,mc).remove(this)}setData(e,n){const r=hD(this.state.data,e,this.options);return ur(this,lu,fh).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ur(this,lu,fh).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=_e(this,ua))==null?void 0:r.promise;return(i=_e(this,ua))==null||i.cancel(e),n?n.then(po).catch(po):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_e(this,fy))}isActive(){return this.observers.some(e=>gc(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A5||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fp(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!mJ(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=_e(this,ua))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=_e(this,ua))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_e(this,mc).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(_e(this,ua)&&(_e(this,my)?_e(this,ua).cancel({revert:!0}):_e(this,ua).cancelRetry()),this.scheduleGc()),_e(this,mc).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ur(this,lu,fh).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,d,h,f,p,m,y,b,v,_,S;if(this.state.fetchStatus!=="idle"&&((c=_e(this,ua))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_e(this,ua))return _e(this,ua).continueRetry(),_e(this,ua).promise}if(e&&this.setOptions(e),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const r=new AbortController,i=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>($t(this,my,!0),r.signal)})},s=()=>{const j=yJ(this.options,n),A=(()=>{const M={client:_e(this,py),queryKey:this.queryKey,meta:this.meta};return i(M),M})();return $t(this,my,!1),this.options.persister?this.options.persister(j,A,this):j(A)},l=(()=>{const j={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_e(this,py),state:this.state,fetchFn:s};return i(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),$t(this,U0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ur(this,lu,fh).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),$t(this,ua,bJ({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof pD&&j.revert&&this.setState({..._e(this,U0),fetchStatus:"idle"}),r.abort()},onFail:(j,N)=>{ur(this,lu,fh).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{ur(this,lu,fh).call(this,{type:"pause"})},onContinue:()=>{ur(this,lu,fh).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await _e(this,ua).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(p=(f=_e(this,mc).config).onSuccess)==null||p.call(f,j,this),(y=(m=_e(this,mc).config).onSettled)==null||y.call(m,j,this.state.error,this),j}catch(j){if(j instanceof pD){if(j.silent)return _e(this,ua).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw ur(this,lu,fh).call(this,{type:"error",error:j}),(v=(b=_e(this,mc).config).onError)==null||v.call(b,j,this),(S=(_=_e(this,mc).config).onSettled)==null||S.call(_,this.state.data,j,this),j}finally{this.scheduleGc()}}},fy=new WeakMap,U0=new WeakMap,mc=new WeakMap,py=new WeakMap,ua=new WeakMap,qE=new WeakMap,my=new WeakMap,lu=new WeakSet,fh=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._J(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $t(this,U0,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Hs.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_e(this,mc).notify({query:this,type:"updated",action:e})})},GK);function _J(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xJ(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _H(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Lo,Er,YE,uo,gy,B0,vh,yp,XE,z0,$0,yy,vy,vp,H0,Yr,x1,mD,gD,yD,vD,xD,bD,wD,SJ,qK,Gxe=(qK=class extends Xb{constructor(e,n){super();gn(this,Yr);gn(this,Lo);gn(this,Er);gn(this,YE);gn(this,uo);gn(this,gy);gn(this,B0);gn(this,vh);gn(this,yp);gn(this,XE);gn(this,z0);gn(this,$0);gn(this,yy);gn(this,vy);gn(this,vp);gn(this,H0,new Set);this.options=n,$t(this,Lo,e),$t(this,yp,null),$t(this,vh,fD()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_e(this,Er).addObserver(this),SH(_e(this,Er),this.options)?ur(this,Yr,x1).call(this):this.updateResult(),ur(this,Yr,vD).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _D(_e(this,Er),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _D(_e(this,Er),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ur(this,Yr,xD).call(this),ur(this,Yr,bD).call(this),_e(this,Er).removeObserver(this)}setOptions(e){const n=this.options,r=_e(this,Er);if(this.options=_e(this,Lo).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gc(this.options.enabled,_e(this,Er))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ur(this,Yr,wD).call(this),_e(this,Er).setOptions(this.options),n._defaulted&&!KM(this.options,n)&&_e(this,Lo).getQueryCache().notify({type:"observerOptionsUpdated",query:_e(this,Er),observer:this});const i=this.hasListeners();i&&EH(_e(this,Er),r,this.options,n)&&ur(this,Yr,x1).call(this),this.updateResult(),i&&(_e(this,Er)!==r||gc(this.options.enabled,_e(this,Er))!==gc(n.enabled,_e(this,Er))||Fp(this.options.staleTime,_e(this,Er))!==Fp(n.staleTime,_e(this,Er)))&&ur(this,Yr,mD).call(this);const s=ur(this,Yr,gD).call(this);i&&(_e(this,Er)!==r||gc(this.options.enabled,_e(this,Er))!==gc(n.enabled,_e(this,Er))||s!==_e(this,vp))&&ur(this,Yr,yD).call(this,s)}getOptimisticResult(e){const n=_e(this,Lo).getQueryCache().build(_e(this,Lo),e),r=this.createResult(n,e);return Yxe(this,r)&&($t(this,uo,r),$t(this,B0,this.options),$t(this,gy,_e(this,Er).state)),r}getCurrentResult(){return _e(this,uo)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_e(this,vh).status==="pending"&&_e(this,vh).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){_e(this,H0).add(e)}getCurrentQuery(){return _e(this,Er)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=_e(this,Lo).defaultQueryOptions(e),r=_e(this,Lo).getQueryCache().build(_e(this,Lo),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ur(this,Yr,x1).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_e(this,uo)))}createResult(e,n){var L;const r=_e(this,Er),i=this.options,s=_e(this,uo),o=_e(this,gy),l=_e(this,B0),u=e!==r?e.state:_e(this,YE),{state:d}=e;let h={...d},f=!1,p;if(n._optimisticResults){const O=this.hasListeners(),I=!O&&SH(e,n),U=O&&EH(e,r,n,i);(I||U)&&(h={...h,..._J(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=h;p=h.data;let v=!1;if(n.placeholderData!==void 0&&p===void 0&&b==="pending"){let O;s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(O=s.data,v=!0):O=typeof n.placeholderData=="function"?n.placeholderData((L=_e(this,$0))==null?void 0:L.state.data,_e(this,$0)):n.placeholderData,O!==void 0&&(b="success",p=hD(s==null?void 0:s.data,O,n),f=!0)}if(n.select&&p!==void 0&&!v)if(s&&p===(o==null?void 0:o.data)&&n.select===_e(this,XE))p=_e(this,z0);else try{$t(this,XE,n.select),p=n.select(p),p=hD(s==null?void 0:s.data,p,n),$t(this,z0,p),$t(this,yp,null)}catch(O){$t(this,yp,O)}_e(this,yp)&&(m=_e(this,yp),p=_e(this,z0),y=Date.now(),b="error");const _=h.fetchStatus==="fetching",S=b==="pending",j=b==="error",N=S&&_,A=p!==void 0,k={status:b,fetchStatus:h.fetchStatus,isPending:S,isSuccess:b==="success",isError:j,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!S,isLoadingError:j&&!A,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&A,isStale:T5(e,n),refetch:this.refetch,promise:_e(this,vh),isEnabled:gc(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=W=>{k.status==="error"?W.reject(k.error):k.data!==void 0&&W.resolve(k.data)},I=()=>{const W=$t(this,vh,k.promise=fD());O(W)},U=_e(this,vh);switch(U.status){case"pending":e.queryHash===r.queryHash&&O(U);break;case"fulfilled":(k.status==="error"||k.data!==U.value)&&I();break;case"rejected":(k.status!=="error"||k.error!==U.reason)&&I();break}}return k}updateResult(){const e=_e(this,uo),n=this.createResult(_e(this,Er),this.options);if($t(this,gy,_e(this,Er).state),$t(this,B0,this.options),_e(this,gy).data!==void 0&&$t(this,$0,_e(this,Er)),KM(n,e))return;$t(this,uo,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!_e(this,H0).size)return!0;const o=new Set(s??_e(this,H0));return this.options.throwOnError&&o.add("error"),Object.keys(_e(this,uo)).some(l=>{const c=l;return _e(this,uo)[c]!==e[c]&&o.has(c)})};ur(this,Yr,SJ).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ur(this,Yr,vD).call(this)}},Lo=new WeakMap,Er=new WeakMap,YE=new WeakMap,uo=new WeakMap,gy=new WeakMap,B0=new WeakMap,vh=new WeakMap,yp=new WeakMap,XE=new WeakMap,z0=new WeakMap,$0=new WeakMap,yy=new WeakMap,vy=new WeakMap,vp=new WeakMap,H0=new WeakMap,Yr=new WeakSet,x1=function(e){ur(this,Yr,wD).call(this);let n=_e(this,Er).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(po)),n},mD=function(){ur(this,Yr,xD).call(this);const e=Fp(this.options.staleTime,_e(this,Er));if(Dy||_e(this,uo).isStale||!uD(e))return;const r=mJ(_e(this,uo).dataUpdatedAt,e)+1;$t(this,yy,Kg.setTimeout(()=>{_e(this,uo).isStale||this.updateResult()},r))},gD=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_e(this,Er)):this.options.refetchInterval)??!1},yD=function(e){ur(this,Yr,bD).call(this),$t(this,vp,e),!(Dy||gc(this.options.enabled,_e(this,Er))===!1||!uD(_e(this,vp))||_e(this,vp)===0)&&$t(this,vy,Kg.setInterval(()=>{(this.options.refetchIntervalInBackground||N5.isFocused())&&ur(this,Yr,x1).call(this)},_e(this,vp)))},vD=function(){ur(this,Yr,mD).call(this),ur(this,Yr,yD).call(this,ur(this,Yr,gD).call(this))},xD=function(){_e(this,yy)&&(Kg.clearTimeout(_e(this,yy)),$t(this,yy,void 0))},bD=function(){_e(this,vy)&&(Kg.clearInterval(_e(this,vy)),$t(this,vy,void 0))},wD=function(){const e=_e(this,Lo).getQueryCache().build(_e(this,Lo),this.options);if(e===_e(this,Er))return;const n=_e(this,Er);$t(this,Er,e),$t(this,YE,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},SJ=function(e){Hs.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(_e(this,uo))}),_e(this,Lo).getQueryCache().notify({query:_e(this,Er),type:"observerResultsUpdated"})})},qK);function qxe(t,e){return gc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function SH(t,e){return qxe(t,e)||t.state.data!==void 0&&_D(t,e,e.refetchOnMount)}function _D(t,e,n){if(gc(e.enabled,t)!==!1&&Fp(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&T5(t,e)}return!1}function EH(t,e,n,r){return(t!==e||gc(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&T5(t,n)}function T5(t,e){return gc(e.enabled,t)!==!1&&t.isStaleByTime(Fp(e.staleTime,t))}function Yxe(t,e){return!KM(t.getCurrentResult(),e)}function jH(t){return{onFetch:(e,n)=>{var d,h,f,p,m;const r=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},v=yJ(e.options,e.fetchOptions),_=async(S,j,N)=>{if(y)return Promise.reject();if(j==null&&S.pages.length)return Promise.resolve(S);const M=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:j,direction:N?"backward":"forward",meta:e.options.meta};return b(I),I})(),k=await v(M),{maxPages:L}=e.options,O=N?Uxe:Fxe;return{pages:O(S.pages,k,L),pageParams:O(S.pageParams,j,L)}};if(i&&s.length){const S=i==="backward",j=S?Xxe:AH,N={pages:s,pageParams:o},A=j(r,N);l=await _(N,A,S)}else{const S=t??s.length;do{const j=c===0?o[0]??r.initialPageParam:AH(r,l);if(c>0&&j==null)break;l=await _(l,j),c++}while(c<S)}return l};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function AH(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Xxe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var KE,sd,ho,xy,ad,Jf,YK,Kxe=(YK=class extends wJ{constructor(e){super();gn(this,ad);gn(this,KE);gn(this,sd);gn(this,ho);gn(this,xy);$t(this,KE,e.client),this.mutationId=e.mutationId,$t(this,ho,e.mutationCache),$t(this,sd,[]),this.state=e.state||EJ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_e(this,sd).includes(e)||(_e(this,sd).push(e),this.clearGcTimeout(),_e(this,ho).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){$t(this,sd,_e(this,sd).filter(n=>n!==e)),this.scheduleGc(),_e(this,ho).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_e(this,sd).length||(this.state.status==="pending"?this.scheduleGc():_e(this,ho).remove(this))}continue(){var e;return((e=_e(this,xy))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,u,d,h,f,p,m,y,b,v,_,S,j,N,A,M,k,L;const n=()=>{ur(this,ad,Jf).call(this,{type:"continue"})},r={client:_e(this,KE),meta:this.options.meta,mutationKey:this.options.mutationKey};$t(this,xy,bJ({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(O,I)=>{ur(this,ad,Jf).call(this,{type:"failed",failureCount:O,error:I})},onPause:()=>{ur(this,ad,Jf).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_e(this,ho).canRun(this)}));const i=this.state.status==="pending",s=!_e(this,xy).canStart();try{if(i)n();else{ur(this,ad,Jf).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(o=_e(this,ho).config).onMutate)==null?void 0:l.call(o,e,this,r));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));I!==this.state.context&&ur(this,ad,Jf).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const O=await _e(this,xy).start();return await((h=(d=_e(this,ho).config).onSuccess)==null?void 0:h.call(d,O,e,this.state.context,this,r)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,O,e,this.state.context,r)),await((y=(m=_e(this,ho).config).onSettled)==null?void 0:y.call(m,O,null,this.state.variables,this.state.context,this,r)),await((v=(b=this.options).onSettled)==null?void 0:v.call(b,O,null,e,this.state.context,r)),ur(this,ad,Jf).call(this,{type:"success",data:O}),O}catch(O){try{throw await((S=(_=_e(this,ho).config).onError)==null?void 0:S.call(_,O,e,this.state.context,this,r)),await((N=(j=this.options).onError)==null?void 0:N.call(j,O,e,this.state.context,r)),await((M=(A=_e(this,ho).config).onSettled)==null?void 0:M.call(A,void 0,O,this.state.variables,this.state.context,this,r)),await((L=(k=this.options).onSettled)==null?void 0:L.call(k,void 0,O,e,this.state.context,r)),O}finally{ur(this,ad,Jf).call(this,{type:"error",error:O})}}finally{_e(this,ho).runNext(this)}}},KE=new WeakMap,sd=new WeakMap,ho=new WeakMap,xy=new WeakMap,ad=new WeakSet,Jf=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Hs.batch(()=>{_e(this,sd).forEach(r=>{r.onMutationUpdate(e)}),_e(this,ho).notify({mutation:this,type:"updated",action:e})})},YK);function EJ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xh,cu,ZE,XK,Zxe=(XK=class extends Xb{constructor(e={}){super();gn(this,xh);gn(this,cu);gn(this,ZE);this.config=e,$t(this,xh,new Set),$t(this,cu,new Map),$t(this,ZE,0)}build(e,n,r){const i=new Kxe({client:e,mutationCache:this,mutationId:++ZA(this,ZE)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){_e(this,xh).add(e);const n=mN(e);if(typeof n=="string"){const r=_e(this,cu).get(n);r?r.push(e):_e(this,cu).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_e(this,xh).delete(e)){const n=mN(e);if(typeof n=="string"){const r=_e(this,cu).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&_e(this,cu).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=mN(e);if(typeof n=="string"){const r=_e(this,cu).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=mN(e);if(typeof n=="string"){const i=(r=_e(this,cu).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Hs.batch(()=>{_e(this,xh).forEach(e=>{this.notify({type:"removed",mutation:e})}),_e(this,xh).clear(),_e(this,cu).clear()})}getAll(){return Array.from(_e(this,xh))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>xH(n,r))}findAll(e={}){return this.getAll().filter(n=>xH(e,n))}notify(e){Hs.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Hs.batch(()=>Promise.all(e.map(n=>n.continue().catch(po))))}},xh=new WeakMap,cu=new WeakMap,ZE=new WeakMap,XK);function mN(t){var e;return(e=t.options.scope)==null?void 0:e.id}var bh,xp,Do,wh,Lh,cM,SD,KK,Qxe=(KK=class extends Xb{constructor(n,r){super();gn(this,Lh);gn(this,bh);gn(this,xp);gn(this,Do);gn(this,wh);$t(this,bh,n),this.setOptions(r),this.bindMethods(),ur(this,Lh,cM).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=_e(this,bh).defaultMutationOptions(n),KM(this.options,r)||_e(this,bh).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_e(this,Do),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Fy(r.mutationKey)!==Fy(this.options.mutationKey)?this.reset():((i=_e(this,Do))==null?void 0:i.state.status)==="pending"&&_e(this,Do).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=_e(this,Do))==null||n.removeObserver(this)}onMutationUpdate(n){ur(this,Lh,cM).call(this),ur(this,Lh,SD).call(this,n)}getCurrentResult(){return _e(this,xp)}reset(){var n;(n=_e(this,Do))==null||n.removeObserver(this),$t(this,Do,void 0),ur(this,Lh,cM).call(this),ur(this,Lh,SD).call(this)}mutate(n,r){var i;return $t(this,wh,r),(i=_e(this,Do))==null||i.removeObserver(this),$t(this,Do,_e(this,bh).getMutationCache().build(_e(this,bh),this.options)),_e(this,Do).addObserver(this),_e(this,Do).execute(n)}},bh=new WeakMap,xp=new WeakMap,Do=new WeakMap,wh=new WeakMap,Lh=new WeakSet,cM=function(){var r;const n=((r=_e(this,Do))==null?void 0:r.state)??EJ();$t(this,xp,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},SD=function(n){Hs.batch(()=>{var r,i,s,o,l,c,u,d;if(_e(this,wh)&&this.hasListeners()){const h=_e(this,xp).variables,f=_e(this,xp).context,p={client:_e(this,bh),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=_e(this,wh)).onSuccess)==null||i.call(r,n.data,h,f,p),(o=(s=_e(this,wh)).onSettled)==null||o.call(s,n.data,null,h,f,p)):(n==null?void 0:n.type)==="error"&&((c=(l=_e(this,wh)).onError)==null||c.call(l,n.error,h,f,p),(d=(u=_e(this,wh)).onSettled)==null||d.call(u,void 0,n.error,h,f,p))}this.listeners.forEach(h=>{h(_e(this,xp))})})},KK),od,ZK,Jxe=(ZK=class extends Xb{constructor(e={}){super();gn(this,od);this.config=e,$t(this,od,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??j5(i,n);let o=this.get(s);return o||(o=new Wxe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){_e(this,od).has(e.queryHash)||(_e(this,od).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=_e(this,od).get(e.queryHash);n&&(e.destroy(),n===e&&_e(this,od).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Hs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _e(this,od).get(e)}getAll(){return[..._e(this,od).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vH(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>vH(e,r)):n}notify(e){Hs.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Hs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Hs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},od=new WeakMap,ZK),ns,bp,wp,V0,W0,_p,G0,q0,QK,e0e=(QK=class{constructor(t={}){gn(this,ns);gn(this,bp);gn(this,wp);gn(this,V0);gn(this,W0);gn(this,_p);gn(this,G0);gn(this,q0);$t(this,ns,t.queryCache||new Jxe),$t(this,bp,t.mutationCache||new Zxe),$t(this,wp,t.defaultOptions||{}),$t(this,V0,new Map),$t(this,W0,new Map),$t(this,_p,0)}mount(){ZA(this,_p)._++,_e(this,_p)===1&&($t(this,G0,N5.subscribe(async t=>{t&&(await this.resumePausedMutations(),_e(this,ns).onFocus())})),$t(this,q0,ZM.subscribe(async t=>{t&&(await this.resumePausedMutations(),_e(this,ns).onOnline())})))}unmount(){var t,e;ZA(this,_p)._--,_e(this,_p)===0&&((t=_e(this,G0))==null||t.call(this),$t(this,G0,void 0),(e=_e(this,q0))==null||e.call(this),$t(this,q0,void 0))}isFetching(t){return _e(this,ns).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _e(this,bp).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=_e(this,ns).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=_e(this,ns).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Fp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return _e(this,ns).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=_e(this,ns).get(r.queryHash),s=i==null?void 0:i.state.data,o=Ixe(e,s);if(o!==void 0)return _e(this,ns).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Hs.batch(()=>_e(this,ns).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=_e(this,ns).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=_e(this,ns);Hs.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=_e(this,ns);return Hs.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Hs.batch(()=>_e(this,ns).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(po).catch(po)}invalidateQueries(t,e={}){return Hs.batch(()=>(_e(this,ns).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Hs.batch(()=>_e(this,ns).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(po)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(po)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=_e(this,ns).build(this,e);return n.isStaleByTime(Fp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(po).catch(po)}fetchInfiniteQuery(t){return t.behavior=jH(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(po).catch(po)}ensureInfiniteQueryData(t){return t.behavior=jH(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ZM.isOnline()?_e(this,bp).resumePausedMutations():Promise.resolve()}getQueryCache(){return _e(this,ns)}getMutationCache(){return _e(this,bp)}getDefaultOptions(){return _e(this,wp)}setDefaultOptions(t){$t(this,wp,t)}setQueryDefaults(t,e){_e(this,V0).set(Fy(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._e(this,V0).values()],n={};return e.forEach(r=>{ES(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){_e(this,W0).set(Fy(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._e(this,W0).values()],n={};return e.forEach(r=>{ES(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._e(this,wp).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=j5(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===A5&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._e(this,wp).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_e(this,ns).clear(),_e(this,bp).clear()}},ns=new WeakMap,bp=new WeakMap,wp=new WeakMap,V0=new WeakMap,W0=new WeakMap,_p=new WeakMap,G0=new WeakMap,q0=new WeakMap,QK),jJ=C.createContext(void 0),el=t=>{const e=C.useContext(jJ);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},t0e=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(jJ.Provider,{value:t,children:e})),AJ=C.createContext(!1),n0e=()=>C.useContext(AJ);AJ.Provider;function r0e(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var i0e=C.createContext(r0e()),s0e=()=>C.useContext(i0e),a0e=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},o0e=t=>{C.useEffect(()=>{t.clearReset()},[t])},l0e=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||vJ(n,[t.error,r])),c0e=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},u0e=(t,e)=>t.isLoading&&t.isFetching&&!e,d0e=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,NH=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function h0e(t,e,n){var h,f,p,m,y;const r=n0e(),i=s0e(),s=el(),o=s.defaultQueryOptions(t);(f=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",c0e(o),a0e(o,i),o0e(i);const l=!s.getQueryCache().get(o.queryHash),[c]=C.useState(()=>new e(s,o)),u=c.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(b=>{const v=d?c.subscribe(Hs.batchCalls(b)):po;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),C.useEffect(()=>{c.setOptions(o)},[o,c]),d0e(o,u))throw NH(o,c,i);if(l0e({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((m=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,o,u),o.experimental_prefetchInRender&&!Dy&&u0e(u,r)){const b=l?NH(o,c,i):(y=s.getQueryCache().get(o.queryHash))==null?void 0:y.promise;b==null||b.catch(po).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Xr(t,e){return h0e(t,Gxe)}function zn(t,e){const n=el(),[r]=C.useState(()=>new Qxe(n,t));C.useEffect(()=>{r.setOptions(t)},[r,t]);const i=C.useSyncExternalStore(C.useCallback(o=>r.subscribe(Hs.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=C.useCallback((o,l)=>{r.mutate(o,l).catch(po)},[r]);if(i.error&&vJ(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const f0e="modulepreload",p0e=function(t){return"/"+t},TH={},bd=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=p0e(c),c in TH)return;TH[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":f0e,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jS(){return jS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jS.apply(this,arguments)}var jp;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jp||(jp={}));const MH="popstate";function m0e(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return ED("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:QM(i)}return y0e(e,n,null,t)}function gs(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NJ(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g0e(){return Math.random().toString(36).substr(2,8)}function CH(t,e){return{usr:t.state,key:t.key,idx:e}}function ED(t,e,n,r){return n===void 0&&(n=null),jS({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Kb(e):e,{state:n,key:e&&e.key||r||g0e()})}function QM(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Kb(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function y0e(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=jp.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(jS({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=jp.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:v})}function f(b,v){l=jp.Push;let _=ED(y.location,b,v);u=d()+1;let S=CH(_,u),j=y.createHref(_);try{o.pushState(S,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(j)}s&&c&&c({action:l,location:y.location,delta:1})}function p(b,v){l=jp.Replace;let _=ED(y.location,b,v);u=d();let S=CH(_,u),j=y.createHref(_);o.replaceState(S,"",j),s&&c&&c({action:l,location:y.location,delta:0})}function m(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof b=="string"?b:QM(b);return _=_.replace(/ $/,"%20"),gs(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let y={get action(){return l},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(MH,h),c=b,()=>{i.removeEventListener(MH,h),c=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(b){return o.go(b)}};return y}var PH;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PH||(PH={}));function v0e(t,e,n){return n===void 0&&(n="/"),x0e(t,e,n)}function x0e(t,e,n,r){let i=typeof e=="string"?Kb(e):e,s=M5(i.pathname||"/",n);if(s==null)return null;let o=TJ(t);b0e(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=k0e(s);l=M0e(o[c],u)}return l}function TJ(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(gs(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Up([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(gs(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TJ(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:N0e(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of MJ(s.path))i(s,o,c)}),e}function MJ(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=MJ(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function b0e(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T0e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const w0e=/^:[\w-]+$/,_0e=3,S0e=2,E0e=1,j0e=10,A0e=-2,kH=t=>t==="*";function N0e(t,e){let n=t.split("/"),r=n.length;return n.some(kH)&&(r+=A0e),e&&(r+=S0e),n.filter(i=>!kH(i)).reduce((i,s)=>i+(w0e.test(s)?_0e:s===""?E0e:j0e),r)}function T0e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function M0e(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=C0e({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Up([s,h.pathname]),pathnameBase:L0e(Up([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Up([s,h.pathnameBase]))}return o}function C0e(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=P0e(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=l[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function P0e(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),NJ(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function k0e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return NJ(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function M5(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function O0e(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Kb(t):t;return{pathname:n?n.startsWith("/")?n:R0e(n,e):e,search:D0e(r),hash:F0e(i)}}function R0e(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function WR(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I0e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function C5(t,e){let n=I0e(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function P5(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Kb(t):(i=jS({},t),gs(!i.pathname||!i.pathname.includes("?"),WR("?","pathname","search",i)),gs(!i.pathname||!i.pathname.includes("#"),WR("#","pathname","hash",i)),gs(!i.search||!i.search.includes("#"),WR("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=O0e(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Up=t=>t.join("/").replace(/\/\/+/g,"/"),L0e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),D0e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F0e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U0e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CJ=["post","put","patch","delete"];new Set(CJ);const B0e=["get",...CJ];new Set(B0e);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(this,arguments)}const k5=C.createContext(null),z0e=C.createContext(null),om=C.createContext(null),TP=C.createContext(null),Id=C.createContext({outlet:null,matches:[],isDataRoute:!1}),PJ=C.createContext(null);function $0e(t,e){let{relative:n}=e===void 0?{}:e;Zb()||gs(!1);let{basename:r,navigator:i}=C.useContext(om),{hash:s,pathname:o,search:l}=OJ(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Up([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Zb(){return C.useContext(TP)!=null}function lm(){return Zb()||gs(!1),C.useContext(TP).location}function kJ(t){C.useContext(om).static||C.useLayoutEffect(t)}function cm(){let{isDataRoute:t}=C.useContext(Id);return t?rbe():H0e()}function H0e(){Zb()||gs(!1);let t=C.useContext(k5),{basename:e,future:n,navigator:r}=C.useContext(om),{matches:i}=C.useContext(Id),{pathname:s}=lm(),o=JSON.stringify(C5(i,n.v7_relativeSplatPath)),l=C.useRef(!1);return kJ(()=>{l.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=P5(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Up([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const V0e=C.createContext(null);function W0e(t){let e=C.useContext(Id).outlet;return e&&C.createElement(V0e.Provider,{value:t},e)}function O5(){let{matches:t}=C.useContext(Id),e=t[t.length-1];return e?e.params:{}}function OJ(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(om),{matches:i}=C.useContext(Id),{pathname:s}=lm(),o=JSON.stringify(C5(i,r.v7_relativeSplatPath));return C.useMemo(()=>P5(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function G0e(t,e){return q0e(t,e)}function q0e(t,e,n,r){Zb()||gs(!1);let{navigator:i}=C.useContext(om),{matches:s}=C.useContext(Id),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=lm(),d;if(e){var h;let b=typeof e=="string"?Kb(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||gs(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=v0e(t,{pathname:p}),y=Q0e(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Up([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Up([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&y?C.createElement(TP.Provider,{value:{location:AS({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:jp.Pop}},y):y}function Y0e(){let t=nbe(),e=U0e(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const X0e=C.createElement(Y0e,null);class K0e extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Id.Provider,{value:this.props.routeContext},C.createElement(PJ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z0e(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(k5);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Id.Provider,{value:e},r)}function Q0e(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||gs(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,m=!1,y=null,b=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||X0e,c&&(u<0&&f===0?(ibe("route-fallback"),m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),_=()=>{let S;return p?S=y:m?S=b:h.route.Component?S=C.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,C.createElement(Z0e,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?C.createElement(K0e,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var RJ=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RJ||{}),IJ=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(IJ||{});function J0e(t){let e=C.useContext(k5);return e||gs(!1),e}function ebe(t){let e=C.useContext(z0e);return e||gs(!1),e}function tbe(t){let e=C.useContext(Id);return e||gs(!1),e}function LJ(t){let e=tbe(),n=e.matches[e.matches.length-1];return n.route.id||gs(!1),n.route.id}function nbe(){var t;let e=C.useContext(PJ),n=ebe(),r=LJ();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rbe(){let{router:t}=J0e(RJ.UseNavigateStable),e=LJ(IJ.UseNavigateStable),n=C.useRef(!1);return kJ(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,AS({fromRouteId:e},s)))},[t,e])}const OH={};function ibe(t,e,n){OH[t]||(OH[t]=!0)}function sbe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function R5(t){let{to:e,replace:n,state:r,relative:i}=t;Zb()||gs(!1);let{future:s,static:o}=C.useContext(om),{matches:l}=C.useContext(Id),{pathname:c}=lm(),u=cm(),d=P5(e,C5(l,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function abe(t){return W0e(t.context)}function Wr(t){gs(!1)}function obe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=jp.Pop,navigator:s,static:o=!1,future:l}=t;Zb()&&gs(!1);let c=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:s,static:o,future:AS({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Kb(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,y=C.useMemo(()=>{let b=M5(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:i}},[c,d,h,f,p,m,i]);return y==null?null:C.createElement(om.Provider,{value:u},C.createElement(TP.Provider,{children:n,value:y}))}function lbe(t){let{children:e,location:n}=t;return G0e(jD(e),n)}new Promise(()=>{});function jD(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,jD(r.props.children,s));return}r.type!==Wr&&gs(!1),!r.props.index||!r.props.children||gs(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jD(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function AD(){return AD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AD.apply(this,arguments)}function cbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ube(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dbe(t,e){return t.button===0&&(!e||e==="_self")&&!ube(t)}const hbe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fbe="6";try{window.__reactRouterVersion=fbe}catch{}const pbe="startTransition",RH=RU[pbe];function mbe(t){let{basename:e,children:n,future:r,window:i}=t,s=C.useRef();s.current==null&&(s.current=m0e({window:i,v5Compat:!0}));let o=s.current,[l,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=C.useCallback(h=>{u&&RH?RH(()=>c(h)):c(h)},[c,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.useEffect(()=>sbe(r),[r]),C.createElement(obe,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const gbe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ybe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=cbe(e,hbe),{basename:p}=C.useContext(om),m,y=!1;if(typeof u=="string"&&ybe.test(u)&&(m=u,gbe))try{let S=new URL(window.location.href),j=u.startsWith("//")?new URL(S.protocol+u):new URL(u),N=M5(j.pathname,p);j.origin===S.origin&&N!=null?u=N+j.search+j.hash:y=!0}catch{}let b=$0e(u,{relative:i}),v=vbe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function _(S){r&&r(S),S.defaultPrevented||v(S)}return C.createElement("a",AD({},f,{href:m||b,onClick:y||s?r:_,ref:n,target:c}))});var IH;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(IH||(IH={}));var LH;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(LH||(LH={}));function vbe(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=cm(),u=lm(),d=OJ(t,{relative:o});return C.useCallback(h=>{if(dbe(h,n)){h.preventDefault();let f=r!==void 0?r:QM(u)===QM(d);c(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,r,i,n,t,s,o,l])}var xbe=typeof Element<"u",bbe=typeof Map=="function",wbe=typeof Set=="function",_be=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function uM(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!uM(t[r],e[r]))return!1;return!0}var s;if(bbe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!uM(r.value[1],e.get(r.value[0])))return!1;return!0}if(wbe&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(_be&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(xbe&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!uM(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var Sbe=function(e,n){try{return uM(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Ebe=jr(Sbe);var jbe=function(t,e,n,r,i,s,o,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,l],d=0;c=new Error(e.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Abe=jbe;const DH=jr(Abe);var Nbe=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),l=Object.keys(n);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var h=e[d],f=n[d];if(s=r?r.call(i,h,f,d):void 0,s===!1||s===void 0&&h!==f)return!1}return!0};const Tbe=jr(Nbe);var DJ=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(DJ||{}),GR={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},FH=Object.values(DJ),I5={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Mbe=Object.entries(I5).reduce((t,[e,n])=>(t[n]=e,t),{}),xu="data-rh",b0={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},w0=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},Cbe=t=>{let e=w0(t,"title");const n=w0(t,b0.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=w0(t,b0.DEFAULT_TITLE);return e||r||void 0},Pbe=t=>w0(t,b0.ON_CHANGE_CLIENT_STATE)||(()=>{}),qR=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),kbe=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const l=i[s].toLowerCase();if(t.indexOf(l)!==-1&&r[l])return n.concat(r)}}return n},[]),Obe=t=>console&&typeof console.warn=="function"&&console.warn(t),N_=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&Obe(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(c=>{let u;const d=Object.keys(c);for(let f=0;f<d.length;f+=1){const p=d[f],m=p.toLowerCase();e.indexOf(m)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(m==="rel"&&c[m].toLowerCase()==="stylesheet")&&(u=m),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const h=c[u].toLowerCase();return r[u]||(r[u]={}),o[u]||(o[u]={}),r[u][h]?!1:(o[u][h]=!0,!0)}).reverse().forEach(c=>i.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...r[u],...o[u]};r[u]=d}return i},[]).reverse()},Rbe=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},Ibe=t=>({baseTag:kbe(["href"],t),bodyAttributes:qR("bodyAttributes",t),defer:w0(t,b0.DEFER),encode:w0(t,b0.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:qR("htmlAttributes",t),linkTags:N_("link",["rel","href"],t),metaTags:N_("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:N_("noscript",["innerHTML"],t),onChangeClientState:Pbe(t),scriptTags:N_("script",["src","innerHTML"],t),styleTags:N_("style",["cssText"],t),title:Cbe(t),titleAttributes:qR("titleAttributes",t),prioritizeSeoTags:Rbe(t,b0.PRIORITIZE_SEO_TAGS)}),FJ=t=>Array.isArray(t)?t.join(""):t,Lbe=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},YR=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(Lbe(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},UH=(t,e)=>({...t,[e]:void 0}),Dbe=["noscript","script","style"],ND=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),UJ=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),Fbe=(t,e,n,r)=>{const i=UJ(n),s=FJ(e);return i?`<${t} ${xu}="true" ${i}>${ND(s,r)}</${t}>`:`<${t} ${xu}="true">${ND(s,r)}</${t}>`},Ube=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const h=typeof s[d]>"u"?d:`${d}="${ND(s[d],n)}"`;return u?`${u} ${h}`:h},""),l=s.innerHTML||s.cssText||"",c=Dbe.indexOf(t)===-1;return`${r}<${t} ${xu}="true" ${o}${c?"/>":`>${l}</${t}>`}`},""),BJ=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=I5[r];return n[i||r]=t[r],n},e),Bbe=(t,e,n)=>{const r={key:e,[xu]:!0},i=BJ(n,r);return[ae.createElement("title",i,e)]},dM=(t,e)=>e.map((n,r)=>{const i={key:r,[xu]:!0};return Object.keys(n).forEach(s=>{const l=I5[s]||s;if(l==="innerHTML"||l==="cssText"){const c=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[l]=n[s]}),ae.createElement(t,i)}),pc=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>Bbe(t,e.title,e.titleAttributes),toString:()=>Fbe(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>BJ(e),toString:()=>UJ(e)};default:return{toComponent:()=>dM(t,e),toString:()=>Ube(t,e,n)}}},zbe=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=YR(t,GR.meta),s=YR(e,GR.link),o=YR(n,GR.script);return{priorityMethods:{toComponent:()=>[...dM("meta",i.priority),...dM("link",s.priority),...dM("script",o.priority)],toString:()=>`${pc("meta",i.priority,r)} ${pc("link",s.priority,r)} ${pc("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},$be=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=t;let{linkTags:d,metaTags:h,scriptTags:f}=t,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:h,scriptTags:f}=zbe(t)),{priority:p,base:pc("base",e,r),bodyAttributes:pc("bodyAttributes",n,r),htmlAttributes:pc("htmlAttributes",i,r),link:pc("link",d,r),meta:pc("meta",h,r),noscript:pc("noscript",s,r),script:pc("script",f,r),style:pc("style",o,r),title:pc("title",{title:l,titleAttributes:c},r)}},TD=$be,gN=[],zJ=!!(typeof window<"u"&&window.document&&window.document.createElement),MD=class{constructor(t,e){Fs(this,"instances",[]);Fs(this,"canUseDOM",zJ);Fs(this,"context");Fs(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?gN:this.instances,add:t=>{(this.canUseDOM?gN:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?gN:this.instances).indexOf(t);(this.canUseDOM?gN:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=TD({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Hbe={},$J=ae.createContext(Hbe),by,HJ=(by=class extends C.Component{constructor(n){super(n);Fs(this,"helmetData");this.helmetData=new MD(this.props.context||{},by.canUseDOM)}render(){return ae.createElement($J.Provider,{value:this.helmetData.value},this.props.children)}},Fs(by,"canUseDOM",zJ),by),sx=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${xu}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(l=>{const c=document.createElement(t);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,h=typeof l[d]>"u"?"":l[d];c.setAttribute(u,h)}c.setAttribute(xu,"true"),i.some((u,d)=>(o=d,c.isEqualNode(u)))?i.splice(o,1):s.push(c)}),i.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),s.forEach(l=>n.appendChild(l)),{oldTags:i,newTags:s}},CD=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(xu),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const l of o){const c=e[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),i.indexOf(l)===-1&&i.push(l);const u=s.indexOf(l);u!==-1&&s.splice(u,1)}for(let l=s.length-1;l>=0;l-=1)n.removeAttribute(s[l]);i.length===s.length?n.removeAttribute(xu):n.getAttribute(xu)!==o.join(",")&&n.setAttribute(xu,o.join(","))},Vbe=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=FJ(t)),CD("title",e)},BH=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:h,titleAttributes:f}=t;CD("body",r),CD("html",i),Vbe(h,f);const p={baseTag:sx("base",n),linkTags:sx("link",s),metaTags:sx("meta",o),noscriptTags:sx("noscript",l),scriptTags:sx("script",u),styleTags:sx("style",d)},m={},y={};Object.keys(p).forEach(b=>{const{newTags:v,oldTags:_}=p[b];v.length&&(m[b]=v),_.length&&(y[b]=p[b].oldTags)}),e&&e(),c(t,m,y)},T_=null,Wbe=t=>{T_&&cancelAnimationFrame(T_),t.defer?T_=requestAnimationFrame(()=>{BH(t,()=>{T_=null})}):(BH(t),T_=null)},Gbe=Wbe,zH=class extends C.Component{constructor(){super(...arguments);Fs(this,"rendered",!1)}shouldComponentUpdate(e){return!Tbe(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=Ibe(e.get().map(s=>{const o={...s.props};return delete o.context,o}));HJ.canUseDOM?Gbe(i):TD&&(r=TD(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},g3,MP=(g3=class extends C.Component{shouldComponentUpdate(t){return!Ebe(UH(this.props,"helmetData"),UH(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return DH(FH.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${FH.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),DH(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return ae.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((c,u)=>(c[Mbe[u]||u]=s[u],c),{});let{type:l}=r;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(r,i),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof MD)){const i=r;r=new MD(i.context,!0),delete n.helmetData}return r?ae.createElement(zH,{...n,context:r.value}):ae.createElement($J.Consumer,null,i=>ae.createElement(zH,{...n,context:i}))}},Fs(g3,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),g3),qbe=t=>{switch(t){case"success":return Kbe;case"info":return Qbe;case"warning":return Zbe;case"error":return Jbe;default:return null}},Ybe=Array(12).fill(0),Xbe=({visible:t,className:e})=>ae.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ae.createElement("div",{className:"sonner-spinner"},Ybe.map((n,r)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Kbe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Zbe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Qbe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Jbe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ewe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),twe=()=>{let[t,e]=ae.useState(document.hidden);return ae.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},PD=1,nwe=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:PD++,s=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,o=r.then(async c=>{if(s=["resolve",c],ae.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(iwe(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||PD++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Uo=new nwe,rwe=(t,e)=>{let n=(e==null?void 0:e.id)||PD++;return Uo.addToast({title:t,...e,id:n}),n},iwe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",swe=rwe,awe=()=>Uo.toasts,owe=()=>Uo.getActiveToasts(),at=Object.assign(swe,{success:Uo.success,info:Uo.info,warning:Uo.warning,error:Uo.error,custom:Uo.custom,message:Uo.message,promise:Uo.promise,dismiss:Uo.dismiss,loading:Uo.loading},{getHistory:awe,getToasts:owe});function lwe(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}lwe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yN(t){return t.label!==void 0}var cwe=3,uwe="32px",dwe="16px",$H=4e3,hwe=356,fwe=14,pwe=20,mwe=200;function Kc(...t){return t.filter(Boolean).join(" ")}function gwe(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var ywe=t=>{var e,n,r,i,s,o,l,c,u,d,h;let{invert:f,toast:p,unstyled:m,interacting:y,setHeights:b,visibleToasts:v,heights:_,index:S,toasts:j,expanded:N,removeToast:A,defaultRichColors:M,closeButton:k,style:L,cancelButtonStyle:O,actionButtonStyle:I,className:U="",descriptionClassName:W="",duration:q,position:J,gap:K,loadingIcon:ne,expandByDefault:$,classNames:Z,icons:B,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:fe}=t,[Q,xe]=ae.useState(null),[ke,Re]=ae.useState(null),[Ce,tt]=ae.useState(!1),[Fe,Ve]=ae.useState(!1),[Ue,he]=ae.useState(!1),[te,ze]=ae.useState(!1),[nt,Je]=ae.useState(!1),[rt,Pt]=ae.useState(0),[bt,H]=ae.useState(0),z=ae.useRef(p.duration||q||$H),oe=ae.useRef(null),je=ae.useRef(null),Ne=S===0,we=S+1<=v,me=p.type,Ae=p.dismissible!==!1,$e=p.className||"",_t=p.descriptionClassName||"",Ze=ae.useMemo(()=>_.findIndex(Ot=>Ot.toastId===p.id)||0,[_,p.id]),wt=ae.useMemo(()=>{var Ot;return(Ot=p.closeButton)!=null?Ot:k},[p.closeButton,k]),qt=ae.useMemo(()=>p.duration||q||$H,[p.duration,q]),Rt=ae.useRef(0),gt=ae.useRef(0),fn=ae.useRef(0),ge=ae.useRef(null),[Qe,ue]=J.split("-"),pt=ae.useMemo(()=>_.reduce((Ot,hn,Vt)=>Vt>=Ze?Ot:Ot+hn.height,0),[_,Ze]),Se=twe(),st=p.invert||f,Tt=me==="loading";gt.current=ae.useMemo(()=>Ze*K+pt,[Ze,pt]),ae.useEffect(()=>{z.current=qt},[qt]),ae.useEffect(()=>{tt(!0)},[]),ae.useEffect(()=>{let Ot=je.current;if(Ot){let hn=Ot.getBoundingClientRect().height;return H(hn),b(Vt=>[{toastId:p.id,height:hn,position:p.position},...Vt]),()=>b(Vt=>Vt.filter(pr=>pr.toastId!==p.id))}},[b,p.id]),ae.useLayoutEffect(()=>{if(!Ce)return;let Ot=je.current,hn=Ot.style.height;Ot.style.height="auto";let Vt=Ot.getBoundingClientRect().height;Ot.style.height=hn,H(Vt),b(pr=>pr.find(Ar=>Ar.toastId===p.id)?pr.map(Ar=>Ar.toastId===p.id?{...Ar,height:Vt}:Ar):[{toastId:p.id,height:Vt,position:p.position},...pr])},[Ce,p.title,p.description,b,p.id]);let kt=ae.useCallback(()=>{Ve(!0),Pt(gt.current),b(Ot=>Ot.filter(hn=>hn.toastId!==p.id)),setTimeout(()=>{A(p)},mwe)},[p,A,b,gt]);ae.useEffect(()=>{if(p.promise&&me==="loading"||p.duration===1/0||p.type==="loading")return;let Ot;return N||y||fe&&Se?(()=>{if(fn.current<Rt.current){let hn=new Date().getTime()-Rt.current;z.current=z.current-hn}fn.current=new Date().getTime()})():z.current!==1/0&&(Rt.current=new Date().getTime(),Ot=setTimeout(()=>{var hn;(hn=p.onAutoClose)==null||hn.call(p,p),kt()},z.current)),()=>clearTimeout(Ot)},[N,y,p,me,fe,Se,kt]),ae.useEffect(()=>{p.delete&&kt()},[kt,p.delete]);function Un(){var Ot,hn,Vt;return B!=null&&B.loading?ae.createElement("div",{className:Kc(Z==null?void 0:Z.loader,(Ot=p==null?void 0:p.classNames)==null?void 0:Ot.loader,"sonner-loader"),"data-visible":me==="loading"},B.loading):ne?ae.createElement("div",{className:Kc(Z==null?void 0:Z.loader,(hn=p==null?void 0:p.classNames)==null?void 0:hn.loader,"sonner-loader"),"data-visible":me==="loading"},ne):ae.createElement(Xbe,{className:Kc(Z==null?void 0:Z.loader,(Vt=p==null?void 0:p.classNames)==null?void 0:Vt.loader),visible:me==="loading"})}return ae.createElement("li",{tabIndex:0,ref:je,className:Kc(U,$e,Z==null?void 0:Z.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[me],(n=p==null?void 0:p.classNames)==null?void 0:n[me]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:M,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":Ce,"data-promise":!!p.promise,"data-swiped":nt,"data-removed":Fe,"data-visible":we,"data-y-position":Qe,"data-x-position":ue,"data-index":S,"data-front":Ne,"data-swiping":Ue,"data-dismissible":Ae,"data-type":me,"data-invert":st,"data-swipe-out":te,"data-swipe-direction":ke,"data-expanded":!!(N||$&&Ce),style:{"--index":S,"--toasts-before":S,"--z-index":j.length-S,"--offset":`${Fe?rt:gt.current}px`,"--initial-height":$?"auto":`${bt}px`,...L,...p.style},onDragEnd:()=>{he(!1),xe(null),ge.current=null},onPointerDown:Ot=>{Tt||!Ae||(oe.current=new Date,Pt(gt.current),Ot.target.setPointerCapture(Ot.pointerId),Ot.target.tagName!=="BUTTON"&&(he(!0),ge.current={x:Ot.clientX,y:Ot.clientY}))},onPointerUp:()=>{var Ot,hn,Vt,pr;if(te||!Ae)return;ge.current=null;let Ar=Number(((Ot=je.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xi=Number(((hn=je.current)==null?void 0:hn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ks=new Date().getTime()-((Vt=oe.current)==null?void 0:Vt.getTime()),Si=Q==="x"?Ar:Xi,Pi=Math.abs(Si)/Ks;if(Math.abs(Si)>=pwe||Pi>.11){Pt(gt.current),(pr=p.onDismiss)==null||pr.call(p,p),Re(Q==="x"?Ar>0?"right":"left":Xi>0?"down":"up"),kt(),ze(!0),Je(!1);return}he(!1),xe(null)},onPointerMove:Ot=>{var hn,Vt,pr,Ar;if(!ge.current||!Ae||((hn=window.getSelection())==null?void 0:hn.toString().length)>0)return;let Xi=Ot.clientY-ge.current.y,Ks=Ot.clientX-ge.current.x,Si=(Vt=t.swipeDirections)!=null?Vt:gwe(J);!Q&&(Math.abs(Ks)>1||Math.abs(Xi)>1)&&xe(Math.abs(Ks)>Math.abs(Xi)?"x":"y");let Pi={x:0,y:0};Q==="y"?(Si.includes("top")||Si.includes("bottom"))&&(Si.includes("top")&&Xi<0||Si.includes("bottom")&&Xi>0)&&(Pi.y=Xi):Q==="x"&&(Si.includes("left")||Si.includes("right"))&&(Si.includes("left")&&Ks<0||Si.includes("right")&&Ks>0)&&(Pi.x=Ks),(Math.abs(Pi.x)>0||Math.abs(Pi.y)>0)&&Je(!0),(pr=je.current)==null||pr.style.setProperty("--swipe-amount-x",`${Pi.x}px`),(Ar=je.current)==null||Ar.style.setProperty("--swipe-amount-y",`${Pi.y}px`)}},wt&&!p.jsx?ae.createElement("button",{"aria-label":ce,"data-disabled":Tt,"data-close-button":!0,onClick:Tt||!Ae?()=>{}:()=>{var Ot;kt(),(Ot=p.onDismiss)==null||Ot.call(p,p)},className:Kc(Z==null?void 0:Z.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=B==null?void 0:B.close)!=null?s:ewe):null,p.jsx||C.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ae.createElement(ae.Fragment,null,me||p.icon||p.promise?ae.createElement("div",{"data-icon":"",className:Kc(Z==null?void 0:Z.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Un():null,p.type!=="loading"?p.icon||(B==null?void 0:B[me])||qbe(me):null):null,ae.createElement("div",{"data-content":"",className:Kc(Z==null?void 0:Z.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},ae.createElement("div",{"data-title":"",className:Kc(Z==null?void 0:Z.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?ae.createElement("div",{"data-description":"",className:Kc(W,_t,Z==null?void 0:Z.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),C.isValidElement(p.cancel)?p.cancel:p.cancel&&yN(p.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:Ot=>{var hn,Vt;yN(p.cancel)&&Ae&&((Vt=(hn=p.cancel).onClick)==null||Vt.call(hn,Ot),kt())},className:Kc(Z==null?void 0:Z.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,C.isValidElement(p.action)?p.action:p.action&&yN(p.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:Ot=>{var hn,Vt;yN(p.action)&&((Vt=(hn=p.action).onClick)==null||Vt.call(hn,Ot),!Ot.defaultPrevented&&kt())},className:Kc(Z==null?void 0:Z.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function HH(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function vwe(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?dwe:uwe;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var xwe=C.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:m=cwe,toastOptions:y,dir:b=HH(),gap:v=fwe,loadingIcon:_,icons:S,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:N}=t,[A,M]=ae.useState([]),k=ae.useMemo(()=>Array.from(new Set([r].concat(A.filter(fe=>fe.position).map(fe=>fe.position)))),[A,r]),[L,O]=ae.useState([]),[I,U]=ae.useState(!1),[W,q]=ae.useState(!1),[J,K]=ae.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=ae.useRef(null),$=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=ae.useRef(null),B=ae.useRef(!1),ce=ae.useCallback(fe=>{M(Q=>{var xe;return(xe=Q.find(ke=>ke.id===fe.id))!=null&&xe.delete||Uo.dismiss(fe.id),Q.filter(({id:ke})=>ke!==fe.id)})},[]);return ae.useEffect(()=>Uo.subscribe(fe=>{if(fe.dismiss){M(Q=>Q.map(xe=>xe.id===fe.id?{...xe,delete:!0}:xe));return}setTimeout(()=>{fJ.flushSync(()=>{M(Q=>{let xe=Q.findIndex(ke=>ke.id===fe.id);return xe!==-1?[...Q.slice(0,xe),{...Q[xe],...fe},...Q.slice(xe+1)]:[fe,...Q]})})})}),[]),ae.useEffect(()=>{if(d!=="system"){K(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;let fe=window.matchMedia("(prefers-color-scheme: dark)");try{fe.addEventListener("change",({matches:Q})=>{K(Q?"dark":"light")})}catch{fe.addListener(({matches:xe})=>{try{K(xe?"dark":"light")}catch(ke){console.error(ke)}})}},[d]),ae.useEffect(()=>{A.length<=1&&U(!1)},[A]),ae.useEffect(()=>{let fe=Q=>{var xe,ke;i.every(Re=>Q[Re]||Q.code===Re)&&(U(!0),(xe=ne.current)==null||xe.focus()),Q.code==="Escape"&&(document.activeElement===ne.current||(ke=ne.current)!=null&&ke.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[i]),ae.useEffect(()=>{if(ne.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,B.current=!1)}},[ne.current]),ae.createElement("section",{ref:e,"aria-label":`${j} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((fe,Q)=>{var xe;let[ke,Re]=fe.split("-");return A.length?ae.createElement("ol",{key:fe,dir:b==="auto"?HH():b,tabIndex:-1,ref:ne,className:l,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":ke,"data-lifted":I&&A.length>1&&!s,"data-x-position":Re,style:{"--front-toast-height":`${((xe=L[0])==null?void 0:xe.height)||0}px`,"--width":`${hwe}px`,"--gap":`${v}px`,...p,...vwe(c,u)},onBlur:Ce=>{B.current&&!Ce.currentTarget.contains(Ce.relatedTarget)&&(B.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||B.current||(B.current=!0,Z.current=Ce.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{W||U(!1)},onDragEnd:()=>U(!1),onPointerDown:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},A.filter(Ce=>!Ce.position&&Q===0||Ce.position===fe).map((Ce,tt)=>{var Fe,Ve;return ae.createElement(ywe,{key:Ce.id,icons:S,index:tt,toast:Ce,defaultRichColors:h,duration:(Fe=y==null?void 0:y.duration)!=null?Fe:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:m,closeButton:(Ve=y==null?void 0:y.closeButton)!=null?Ve:o,interacting:W,position:fe,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ce,toasts:A.filter(Ue=>Ue.position==Ce.position),heights:L.filter(Ue=>Ue.position==Ce.position),setHeights:O,expandByDefault:s,gap:v,loadingIcon:_,expanded:I,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});const bwe={},VH=t=>{let e;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(bwe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,c);return c},wwe=t=>t?VH(t):VH;var VJ={exports:{}},WJ={},GJ={exports:{}},qJ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb=C;function _we(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Swe=typeof Object.is=="function"?Object.is:_we,Ewe=tb.useState,jwe=tb.useEffect,Awe=tb.useLayoutEffect,Nwe=tb.useDebugValue;function Twe(t,e){var n=e(),r=Ewe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Awe(function(){i.value=n,i.getSnapshot=e,XR(i)&&s({inst:i})},[t,n,e]),jwe(function(){return XR(i)&&s({inst:i}),t(function(){XR(i)&&s({inst:i})})},[t]),Nwe(n),n}function XR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Swe(t,n)}catch{return!0}}function Mwe(t,e){return e()}var Cwe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Mwe:Twe;qJ.useSyncExternalStore=tb.useSyncExternalStore!==void 0?tb.useSyncExternalStore:Cwe;GJ.exports=qJ;var YJ=GJ.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP=C,Pwe=YJ;function kwe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Owe=typeof Object.is=="function"?Object.is:kwe,Rwe=Pwe.useSyncExternalStore,Iwe=CP.useRef,Lwe=CP.useEffect,Dwe=CP.useMemo,Fwe=CP.useDebugValue;WJ.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Iwe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Dwe(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return h=m}return h=p}if(m=h,Owe(d,p))return m;var y=r(p);return i!==void 0&&i(m,y)?(d=p,m):(d=p,h=y)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,i]);var l=Rwe(t,s[0],s[1]);return Lwe(function(){o.hasValue=!0,o.value=l},[l]),Fwe(l),l};VJ.exports=WJ;var Uwe=VJ.exports;const Bwe=jr(Uwe),XJ={},{useDebugValue:zwe}=ae,{useSyncExternalStoreWithSelector:$we}=Bwe;let WH=!1;const Hwe=t=>t;function Vwe(t,e=Hwe,n){(XJ?"production":void 0)!=="production"&&n&&!WH&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),WH=!0);const r=$we(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return zwe(r),r}const GH=t=>{(XJ?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?wwe(t):t,n=(r,i)=>Vwe(e,r,i);return Object.assign(n,e),n},KJ=t=>t?GH(t):GH,Wwe={};function Gwe(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),l=(s=n.getItem(i))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const NS=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return NS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return NS(r)(n)}}}},qwe=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,v)=>({...v,...b}),...e},o=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...b)},r,i);const d=NS(s.serialize),h=()=>{const b=s.partialize({...r()});let v;const _=d({state:b,version:s.version}).then(S=>u.setItem(s.name,S)).catch(S=>{v=S});if(v)throw v;return _},f=i.setState;i.setState=(b,v)=>{f(b,v),h()};const p=t((...b)=>{n(...b),h()},r,i);let m;const y=()=>{var b;if(!u)return;o=!1,l.forEach(_=>_(r()));const v=((b=s.onRehydrateStorage)==null?void 0:b.call(s,r()))||void 0;return NS(u.getItem.bind(u))(s.name).then(_=>{if(_)return s.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var S;return m=s.merge(_,(S=r())!=null?S:p),n(m,!0),h()}).then(()=>{v==null||v(m,void 0),o=!0,c.forEach(_=>_(m))}).catch(_=>{v==null||v(void 0,_)})};return i.persist={setOptions:b=>{s={...s,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},y(),m||p},Ywe=(t,e)=>(n,r,i)=>{let s={storage:Gwe(()=>localStorage),partialize:y=>y,version:0,merge:(y,b)=>({...b,...y}),...e},o=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...y)},r,i);const d=()=>{const y=s.partialize({...r()});return u.setItem(s.name,{state:y,version:s.version})},h=i.setState;i.setState=(y,b)=>{h(y,b),d()};const f=t((...y)=>{n(...y),d()},r,i);i.getInitialState=()=>f;let p;const m=()=>{var y,b;if(!u)return;o=!1,l.forEach(_=>{var S;return _((S=r())!=null?S:f)});const v=((b=s.onRehydrateStorage)==null?void 0:b.call(s,(y=r())!=null?y:f))||void 0;return NS(u.getItem.bind(u))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return[!0,s.migrate(_.state,_.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var S;const[j,N]=_;if(p=s.merge(N,(S=r())!=null?S:f),n(p,!0),j)return d()}).then(()=>{v==null||v(p,void 0),p=r(),o=!0,c.forEach(_=>_(p))}).catch(_=>{v==null||v(void 0,_)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},s.skipHydration||m(),p||f},Xwe=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Wwe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),qwe(t,e)):Ywe(t,e),Kwe=Xwe;var kD=function(t,e){return kD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},kD(t,e)};function ZJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kD(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var bc=function(){return bc=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bc.apply(this,arguments)};function um(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function QJ(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function JJ(t,e){return function(n,r){e(n,r,t)}}function eee(t,e,n,r,i,s){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=r.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var m={};for(var y in r)m[y]=y==="access"?{}:r[y];for(var y in r.access)m.access[y]=r.access[y];m.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(v||null))};var b=(0,n[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],m);if(l==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=o(b.get))&&(d.get=h),(h=o(b.set))&&(d.set=h),(h=o(b.init))&&i.unshift(h)}else(h=o(b))&&(l==="field"?i.unshift(h):d[c]=h)}u&&Object.defineProperty(u,r.name,d),f=!0}function tee(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function nee(t){return typeof t=="symbol"?t:"".concat(t)}function ree(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function iee(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function on(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function see(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var PP=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function aee(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&PP(e,t,n)}function JM(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L5(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function oee(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(L5(arguments[e]));return t}function lee(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,l=s.length;o<l;o++,i++)r[i]=s[o];return r}function D5(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function nb(t){return this instanceof nb?(this.v=t,this):new nb(t)}function cee(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(m){return Promise.resolve(m).then(p,h)}}function l(p,m){r[p]&&(i[p]=function(y){return new Promise(function(b,v){s.push([p,y,b,v])>1||c(p,y)})},m&&(i[p]=m(i[p])))}function c(p,m){try{u(r[p](m))}catch(y){f(s[0][3],y)}}function u(p){p.value instanceof nb?Promise.resolve(p.value.v).then(d,h):f(s[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function f(p,m){p(m),s.shift(),s.length&&c(s[0][0],s[0][1])}}function uee(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:nb(t[i](o)),done:!1}:s?s(o):o}:s}}function dee(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JM=="function"?JM(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(l,c){o=t[s](o),i(l,c,o.done,o.value)})}}function i(s,o,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},o)}}function hee(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Zwe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},OD=function(t){return OD=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},OD(t)};function fee(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=OD(t),r=0;r<n.length;r++)n[r]!=="default"&&PP(e,t,n[r]);return Zwe(e,t),e}function pee(t){return t&&t.__esModule?t:{default:t}}function mee(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function gee(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function yee(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function vee(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Qwe=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function xee(t){function e(s){t.error=t.hasError?new Qwe(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function bee(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?e?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):t}const Jwe={__extends:ZJ,__assign:bc,__rest:um,__decorate:QJ,__param:JJ,__esDecorate:eee,__runInitializers:tee,__propKey:nee,__setFunctionName:ree,__metadata:iee,__awaiter:on,__generator:see,__createBinding:PP,__exportStar:aee,__values:JM,__read:L5,__spread:oee,__spreadArrays:lee,__spreadArray:D5,__await:nb,__asyncGenerator:cee,__asyncDelegator:uee,__asyncValues:dee,__makeTemplateObject:hee,__importStar:fee,__importDefault:pee,__classPrivateFieldGet:mee,__classPrivateFieldSet:gee,__classPrivateFieldIn:yee,__addDisposableResource:vee,__disposeResources:xee,__rewriteRelativeImportExtension:bee},e_e=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:vee,get __assign(){return bc},__asyncDelegator:uee,__asyncGenerator:cee,__asyncValues:dee,__await:nb,__awaiter:on,__classPrivateFieldGet:mee,__classPrivateFieldIn:yee,__classPrivateFieldSet:gee,__createBinding:PP,__decorate:QJ,__disposeResources:xee,__esDecorate:eee,__exportStar:aee,__extends:ZJ,__generator:see,__importDefault:pee,__importStar:fee,__makeTemplateObject:hee,__metadata:iee,__param:JJ,__propKey:nee,__read:L5,__rest:um,__rewriteRelativeImportExtension:bee,__runInitializers:tee,__setFunctionName:ree,__spread:oee,__spreadArray:D5,__spreadArrays:lee,__values:JM,default:Jwe},Symbol.toStringTag,{value:"Module"})),t_e=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bd(async()=>{const{default:r}=await Promise.resolve().then(()=>iv);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class F5 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class qH extends F5{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class YH extends F5{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class XH extends F5{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var RD;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(RD||(RD={}));class n_e{constructor(e,{headers:n={},customFetch:r,region:i=RD.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=t_e(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return on(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:o,body:l,signal:c}=r;let u={},{region:d}=r;d||(d=this.region);const h=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)):f=l;const p=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:f,signal:c}).catch(v=>{throw v.name==="AbortError"?v:new qH(v)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new YH(p);if(!p.ok)throw new XH(p);let y=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield p.json():y==="application/octet-stream"||y==="application/pdf"?b=yield p.blob():y==="text/event-stream"?b=p:y==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new qH(s)}:{data:null,error:s,response:s instanceof XH||s instanceof YH?s.context:void 0}}})}}var mo={};const Qb=eZ(e_e);var vN={},xN={},bN={},wN={},_N={},r_e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rb=r_e();const i_e=rb.fetch,wee=rb.fetch.bind(rb),_ee=rb.Headers,s_e=rb.Request,a_e=rb.Response,iv=Object.freeze(Object.defineProperty({__proto__:null,Headers:_ee,Request:s_e,Response:a_e,default:wee,fetch:i_e},Symbol.toStringTag,{value:"Module"})),o_e=eZ(iv);var SN={},KH;function See(){if(KH)return SN;KH=1,Object.defineProperty(SN,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return SN.default=t,SN}var ZH;function Eee(){if(ZH)return _N;ZH=1,Object.defineProperty(_N,"__esModule",{value:!0});const t=Qb,e=t.__importDefault(o_e),n=t.__importDefault(See());class r{constructor(s){var o,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,f,p;let m=null,y=null,b=null,v=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const A=await u.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=A:y=JSON.parse(A))}const j=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),N=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");j&&N&&N.length>1&&(b=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,v=406,_="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const j=await u.text();try{m=JSON.parse(j),Array.isArray(m)&&u.status===404&&(y=[],m=null,v=200,_="OK")}catch{u.status===404&&j===""?(v=204,_="No Content"):m={message:j}}if(m&&this.isMaybeSingle&&(!((p=m==null?void 0:m.details)===null||p===void 0)&&p.includes("0 rows"))&&(m=null,v=200,_="OK"),m&&this.shouldThrowOnError)throw new n.default(m)}return{error:m,data:y,count:b,status:v,statusText:_}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,h,f;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return _N.default=r,_N}var QH;function jee(){if(QH)return wN;QH=1,Object.defineProperty(wN,"__esModule",{value:!0});const e=Qb.__importDefault(Eee());class n extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[i?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return wN.default=n,wN}var JH;function U5(){if(JH)return bN;JH=1,Object.defineProperty(bN,"__esModule",{value:!0});const e=Qb.__importDefault(jee()),n=new RegExp("[,()]");class r extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${d}.${o}`),this}match(s){return Object.entries(s).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(s,o,l){return this.url.searchParams.append(s,`not.${o}.${l}`),this}or(s,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,o,l){return this.url.searchParams.append(s,`${o}.${l}`),this}}return bN.default=r,bN}var eV;function Aee(){if(eV)return xN;eV=1,Object.defineProperty(xN,"__esModule",{value:!0});const e=Qb.__importDefault(U5());class n{constructor(i,{headers:s={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=l}select(i,s){const{head:o=!1,count:l}=s??{},c=o?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var o;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return xN.default=n,xN}var tV;function l_e(){if(tV)return vN;tV=1,Object.defineProperty(vN,"__esModule",{value:!0});const t=Qb,e=t.__importDefault(Aee()),n=t.__importDefault(U5());class r{constructor(s,{headers:o={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${s}`);let p;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{f.searchParams.append(y,b)})):(h="POST",p=o);const m=new Headers(this.headers);return u&&m.set("Prefer",`count=${u}`),new n.default({method:h,url:f,headers:m,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return vN.default=r,vN}Object.defineProperty(mo,"__esModule",{value:!0});var Nee=mo.PostgrestError=Dee=mo.PostgrestBuilder=Iee=mo.PostgrestTransformBuilder=Oee=mo.PostgrestFilterBuilder=Pee=mo.PostgrestQueryBuilder=Mee=mo.PostgrestClient=void 0;const Jb=Qb,Tee=Jb.__importDefault(l_e());var Mee=mo.PostgrestClient=Tee.default;const Cee=Jb.__importDefault(Aee());var Pee=mo.PostgrestQueryBuilder=Cee.default;const kee=Jb.__importDefault(U5());var Oee=mo.PostgrestFilterBuilder=kee.default;const Ree=Jb.__importDefault(jee());var Iee=mo.PostgrestTransformBuilder=Ree.default;const Lee=Jb.__importDefault(Eee());var Dee=mo.PostgrestBuilder=Lee.default;const Fee=Jb.__importDefault(See());Nee=mo.PostgrestError=Fee.default;var Uee=mo.default={PostgrestClient:Tee.default,PostgrestQueryBuilder:Cee.default,PostgrestFilterBuilder:kee.default,PostgrestTransformBuilder:Ree.default,PostgrestBuilder:Lee.default,PostgrestError:Fee.default};const c_e=JK({__proto__:null,get PostgrestBuilder(){return Dee},get PostgrestClient(){return Mee},get PostgrestError(){return Nee},get PostgrestFilterBuilder(){return Oee},get PostgrestQueryBuilder(){return Pee},get PostgrestTransformBuilder(){return Iee},default:Uee},[mo]),{PostgrestClient:u_e,PostgrestQueryBuilder:Tgt,PostgrestFilterBuilder:Mgt,PostgrestTransformBuilder:Cgt,PostgrestBuilder:Pgt,PostgrestError:kgt}=Uee||c_e;class d_e{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const h_e="2.78.0",f_e=`realtime-js/${h_e}`,p_e="1.0.0",ID=1e4,m_e=1e3,g_e=100;var I1;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(I1||(I1={}));var zs;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(zs||(zs={}));var du;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(du||(du={}));var LD;(function(t){t.websocket="websocket"})(LD||(LD={}));var Bg;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Bg||(Bg={}));class y_e{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const c=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Bee{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pi;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pi||(pi={}));const nV=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=v_e(o,t,e,i),s),{}):{}},v_e=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?zee(s,o):DD(o)},zee=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return __e(e,n)}switch(t){case pi.bool:return x_e(e);case pi.float4:case pi.float8:case pi.int2:case pi.int4:case pi.int8:case pi.numeric:case pi.oid:return b_e(e);case pi.json:case pi.jsonb:return w_e(e);case pi.timestamp:return S_e(e);case pi.abstime:case pi.date:case pi.daterange:case pi.int4range:case pi.int8range:case pi.money:case pi.reltime:case pi.text:case pi.time:case pi.timestamptz:case pi.timetz:case pi.tsrange:case pi.tstzrange:return DD(e);default:return DD(e)}},DD=t=>t,x_e=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},b_e=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},w_e=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},__e=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>zee(e,l))}return t},S_e=t=>typeof t=="string"?t.replace(" ","T"):t,$ee=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class KR{constructor(e,n,r={},i=ID){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rV;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(rV||(rV={}));class L1{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=L1.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=L1.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=L1.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=s[u];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),m=d.filter(b=>p.indexOf(b.presence_ref)<0),y=h.filter(b=>f.indexOf(b.presence_ref)<0);m.length>0&&(l[u]=m),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iV;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(iV||(iV={}));var D1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(D1||(D1={}));var mh;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mh||(mh={}));class B5{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=zs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new KR(this,du.join,this.params,this.timeout),this.rejoinTimer=new Bee(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zs.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=zs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=zs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(du.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new L1(this),this.broadcastEndpointURL=$ee(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==zs.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[D1.PRESENCE]&&this.bindings[D1.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(mh.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(mh.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){e==null||e(mh.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,v=[];for(let _=0;_<b;_++){const S=y[_],{filter:{event:j,schema:N,table:A,filter:M}}=S,k=p&&p[_];if(k&&k.event===j&&k.schema===N&&k.table===A&&k.filter===M)v.push(Object.assign(Object.assign({},S),{id:k.id}));else{this.unsubscribe(),this.state=zs.errored,e==null||e(mh.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(mh.SUBSCRIBED);return}}).receive("error",p=>{this.state=zs.errored,e==null||e(mh.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mh.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===zs.joined&&e===D1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zs.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(du.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new KR(this,du.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zs.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new KR(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>g_e){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=du;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,y,b;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(y=p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var m,y,b,v,_,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,N=(m=p.filter)===null||m===void 0?void 0:m.event;return j&&((y=n.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(_=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return j==="*"||j===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:y,table:b,commit_timestamp:v,type:_,errors:S}=m;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:_,new:{},old:{},errors:S}),this._getPayloadRecords(m))}p.callback(f,r)})}_isClosed(){return this.state===zs.closed}_isJoined(){return this.state===zs.joined}_isJoining(){return this.state===zs.joining}_isLeaving(){return this.state===zs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&B5.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(du.close,{},e)}_onError(e){this._on(du.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=nV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=nV(e.columns,e.old_record)),n}}const ZR=()=>{},EN={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},E_e=[1e3,2e3,5e3,1e4],j_e=1e4,A_e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N_e{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ID,this.transport=null,this.heartbeatIntervalMs=EN.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ZR,this.ref=0,this.reconnectTimer=null,this.logger=ZR,this.conn=null,this.sendBuffer=[],this.serializer=new y_e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>bd(async()=>{const{default:l}=await Promise.resolve().then(()=>iv);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${LD.websocket}`,this.httpEndpoint=$ee(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d_e.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:p_e}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case I1.connecting:return Bg.Connecting;case I1.open:return Bg.Open;case I1.closing:return Bg.Closing;default:return Bg.Closed}}isConnected(){return this.connectionState()===Bg.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new B5(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(m_e,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},EN.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,l=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${r} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(du.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([A_e],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:f_e};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(du.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Bee(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},EN.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,l,c,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ID,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:EN.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:ZR,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>E_e[h-1]||j_e,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class z5 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function zi(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class T_e extends z5{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class FD extends z5{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const $5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bd(async()=>{const{default:r}=await Promise.resolve().then(()=>iv);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},M_e=()=>on(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bd(()=>Promise.resolve().then(()=>iv),void 0)).Response:Response}),UD=t=>{if(Array.isArray(t))return t.map(n=>UD(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=UD(r)}),e},C_e=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},QR=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},P_e=(t,e,n)=>on(void 0,void 0,void 0,function*(){const r=yield M_e();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new T_e(QR(i),s,o))}).catch(i=>{e(new FD(QR(i),i))}):e(new FD(QR(t),t))}),k_e=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(C_e(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function rj(t,e,n,r,i,s){return on(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,k_e(e,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>P_e(c,l,r))})})}function TS(t,e,n,r){return on(this,void 0,void 0,function*(){return rj(t,"GET",e,n,r)})}function au(t,e,n,r,i){return on(this,void 0,void 0,function*(){return rj(t,"POST",e,r,i,n)})}function BD(t,e,n,r,i){return on(this,void 0,void 0,function*(){return rj(t,"PUT",e,r,i,n)})}function O_e(t,e,n,r){return on(this,void 0,void 0,function*(){return rj(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function H5(t,e,n,r,i){return on(this,void 0,void 0,function*(){return rj(t,"DELETE",e,r,i,n)})}class R_e{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return on(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zi(e))return{data:null,error:e};throw e}})}}var Hee;class I_e{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Hee]="BlobDownloadBuilder",this.promise=null}asStream(){return new R_e(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return on(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zi(e))return{data:null,error:e};throw e}})}}Hee=Symbol.toStringTag;const L_e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class D_e{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=$5(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return on(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},sV),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?BD:au)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zi(s))return{data:null,error:s};throw s}})}upload(e,n,r){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return on(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:sV.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield BD(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(zi(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return on(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield au(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new z5("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zi(r))return{data:null,error:r};throw r}})}update(e,n,r){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return on(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}copy(e,n,r){return on(this,void 0,void 0,function*(){try{return{data:{path:(yield au(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return on(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield au(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return on(this,void 0,void 0,function*(){try{const i=yield au(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(e),c=()=>TS(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new I_e(c,this.shouldThrowOnError)}info(e){return on(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield TS(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:UD(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zi(r))return{data:null,error:r};throw r}})}exists(e){return on(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield O_e(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zi(r)&&r instanceof FD){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return on(this,void 0,void 0,function*(){try{return{data:yield H5(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}list(e,n,r){return on(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},L_e),n),{prefix:e||""});return{data:yield au(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}listV2(e,n){return on(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield au(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zi(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Vee="2.78.0",Wee={"X-Client-Info":`storage-js/${Vee}`};class F_e{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wee),n),this.fetch=$5(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return on(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield TS(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}getBucket(e){return on(this,void 0,void 0,function*(){try{return{data:yield TS(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}createBucket(e){return on(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield au(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return on(this,void 0,void 0,function*(){try{return{data:yield BD(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zi(r))return{data:null,error:r};throw r}})}emptyBucket(e){return on(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}deleteBucket(e){return on(this,void 0,void 0,function*(){try{return{data:yield H5(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class U_e{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wee),n),this.fetch=$5(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return on(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}listBuckets(e){return on(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield TS(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}deleteBucket(e){return on(this,void 0,void 0,function*(){try{return{data:yield H5(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}}const V5={"X-Client-Info":`storage-js/${Vee}`,"Content-Type":"application/json"};class Gee extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Cl(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class JR extends Gee{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class B_e extends Gee{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var aV;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(aV||(aV={}));const W5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bd(async()=>{const{default:r}=await Promise.resolve().then(()=>iv);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},z_e=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oV=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$_e=(t,e,n)=>on(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new JR(oV(o),i,l))}).catch(()=>{const o=i+"",l=s.statusText||`HTTP ${i} error`;e(new JR(l,i,o))});else{const o=i+"",l=s.statusText||`HTTP ${i} error`;e(new JR(l,i,o))}}else e(new B_e(oV(t),t))}),H_e=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(z_e(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function V_e(t,e,n,r,i,s){return on(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,H_e(e,r,i,s)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>$_e(c,l,r))})})}function Pl(t,e,n,r,i){return on(this,void 0,void 0,function*(){return V_e(t,"POST",e,r,i,n)})}class W_e{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V5),n),this.fetch=W5(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return on(this,void 0,void 0,function*(){try{return{data:(yield Pl(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cl(n))return{data:null,error:n};throw n}})}getIndex(e,n){return on(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cl(r))return{data:null,error:r};throw r}})}listIndexes(e){return on(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cl(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return on(this,void 0,void 0,function*(){try{return{data:(yield Pl(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cl(r))return{data:null,error:r};throw r}})}}class G_e{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V5),n),this.fetch=W5(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return on(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pl(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cl(n))return{data:null,error:n};throw n}})}getVectors(e){return on(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cl(n))return{data:null,error:n};throw n}})}listVectors(e){return on(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Pl(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cl(n))return{data:null,error:n};throw n}})}queryVectors(e){return on(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cl(n))return{data:null,error:n};throw n}})}deleteVectors(e){return on(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pl(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cl(n))return{data:null,error:n};throw n}})}}class q_e{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V5),n),this.fetch=W5(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return on(this,void 0,void 0,function*(){try{return{data:(yield Pl(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cl(n))return{data:null,error:n};throw n}})}getBucket(e){return on(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cl(n))return{data:null,error:n};throw n}})}listBuckets(){return on(this,arguments,void 0,function*(e={}){try{return{data:yield Pl(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cl(n))return{data:null,error:n};throw n}})}deleteBucket(e){return on(this,void 0,void 0,function*(){try{return{data:(yield Pl(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cl(n))return{data:null,error:n};throw n}})}}class Y_e extends q_e{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new X_e(this.url,this.headers,e,this.fetch)}}class X_e extends W_e{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return on(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return on(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return on(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return on(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new K_e(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class K_e extends G_e{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return on(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return on(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return on(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return on(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return on(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Z_e extends F_e{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new D_e(this.url,this.headers,e,this.fetch)}get vectors(){return new Y_e(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new U_e(this.url+"/iceberg",this.headers,this.fetch)}}const Q_e="2.78.0";let b1="";typeof Deno<"u"?b1="deno":typeof document<"u"?b1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?b1="react-native":b1="node";const J_e={"X-Client-Info":`supabase-js-${b1}/${Q_e}`},e1e={headers:J_e},t1e={schema:"public"},n1e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r1e={},i1e=t=>{let e;return t?e=t:typeof fetch>"u"?e=wee:e=fetch,(...n)=>e(...n)},s1e=()=>typeof Headers>"u"?_ee:Headers,a1e=(t,e,n)=>{const r=i1e(n),i=s1e();return async(s,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},o),{headers:u}))}};function o1e(t){return t.endsWith("/")?t:t+"/"}function l1e(t,e){var n,r;const{db:i,auth:s,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function c1e(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(o1e(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const qee="2.78.0",Bx=30*1e3,zD=3,eI=zD*Bx,u1e="http://localhost:9999",d1e="supabase.auth.token",h1e={"X-Client-Info":`gotrue-js/${qee}`},$D="X-Supabase-Api-Version",Yee={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},f1e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p1e=10*60*1e3;class MS extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function yn(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class m1e extends MS{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function g1e(t){return yn(t)&&t.name==="AuthApiError"}class zg extends MS{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class dm extends MS{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class nu extends dm{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function y1e(t){return yn(t)&&t.name==="AuthSessionMissingError"}class ax extends dm{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jN extends dm{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class AN extends dm{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function v1e(t){return yn(t)&&t.name==="AuthImplicitGrantRedirectError"}class lV extends dm{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class HD extends dm{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function tI(t){return yn(t)&&t.name==="AuthRetryableFetchError"}class cV extends dm{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class VD extends dm{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const eC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uV=` 	
\r=`.split(""),x1e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<uV.length;e+=1)t[uV[e].charCodeAt(0)]=-2;for(let e=0;e<eC.length;e+=1)t[eC[e].charCodeAt(0)]=e;return t})();function dV(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(eC[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(eC[r]),e.queuedBits-=6}}function Xee(t,e,n){const r=x1e[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function hV(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{_1e(o,r,n)};for(let o=0;o<t.length;o+=1)Xee(t.charCodeAt(o),i,s);return e.join("")}function b1e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function w1e(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}b1e(r,e)}}function _1e(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function _0(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Xee(t.charCodeAt(i),n,r);return new Uint8Array(e)}function S1e(t){const e=[];return w1e(t,n=>e.push(n)),new Uint8Array(e)}function Zg(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>dV(i,n,r)),dV(null,n,r),e.join("")}function E1e(t){return Math.round(Date.now()/1e3)+t}function j1e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const lo=()=>typeof window<"u"&&typeof document<"u",dg={tested:!1,writable:!1},Kee=()=>{if(!lo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dg.tested)return dg.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),dg.tested=!0,dg.writable=!0}catch{dg.tested=!0,dg.writable=!1}return dg.writable};function A1e(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Zee=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bd(async()=>{const{default:r}=await Promise.resolve().then(()=>iv);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},N1e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},hg=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Uf=async(t,e)=>{await t.removeItem(e)};class kP{constructor(){this.promise=new kP.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}kP.promiseConstructor=Promise;function nI(t){const e=t.split(".");if(e.length!==3)throw new VD("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!f1e.test(e[r]))throw new VD("JWT not in base64url format");return{header:JSON.parse(hV(e[0])),payload:JSON.parse(hV(e[1])),signature:_0(e[2]),raw:{header:e[0],payload:e[1]}}}async function T1e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function M1e(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function C1e(t){return("0"+t.toString(16)).substr(-2)}function P1e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,C1e).join("")}async function k1e(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function O1e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await k1e(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ox(t,e,n=!1){const r=P1e();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await zx(t,`${e}-code-verifier`,i);const s=await O1e(r);return[s,r===s?"plain":"s256"]}const R1e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I1e(t){const e=t.headers.get($D);if(!e||!e.match(R1e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function L1e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function D1e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const F1e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lx(t){if(!F1e.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rI(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function U1e(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function fV(t){return JSON.parse(JSON.stringify(t))}const Cg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),B1e=[502,503,504];async function pV(t){var e;if(!N1e(t))throw new HD(Cg(t),0);if(B1e.includes(t.status))throw new HD(Cg(t),t.status);let n;try{n=await t.json()}catch(s){throw new zg(Cg(s),s)}let r;const i=I1e(t);if(i&&i.getTime()>=Yee["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new cV(Cg(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nu}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new cV(Cg(n),t.status,n.weak_password.reasons);throw new m1e(Cg(n),t.status||500,r)}const z1e=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function On(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[$D]||(s[$D]=Yee["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await $1e(t,e,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function $1e(t,e,n,r,i,s){const o=z1e(e,r,i,s);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new HD(Cg(c),0)}if(l.ok||await pV(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await pV(c)}}function ru(t){var e;let n=null;W1e(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=E1e(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function mV(t){const e=ru(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function up(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function H1e(t){return{data:t,error:null}}function V1e(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=um(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function gV(t){return t}function W1e(t){return t.access_token&&t.refresh_token&&t.expires_in}const iI=["global","local","others"];class G1e{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Zee(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=iI[0]){if(iI.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${iI.join(", ")}`);try{return await On(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(yn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await On(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:up})}catch(r){if(yn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=um(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await On(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:V1e,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(yn(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await On(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:up})}catch(n){if(yn(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await On(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:gV});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(yn(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){lx(e);try{return await On(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:up})}catch(n){if(yn(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){lx(e);try{return await On(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:up})}catch(r){if(yn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){lx(e);try{return await On(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:up})}catch(r){if(yn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){lx(e.userId);try{const{data:n,error:r}=await On(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(yn(n))return{data:null,error:n};throw n}}async _deleteFactor(e){lx(e.userId),lx(e.id);try{return{data:await On(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(yn(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await On(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:gV});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(yn(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await On(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(yn(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await On(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(yn(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await On(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(yn(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await On(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(yn(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await On(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(yn(n))return{data:null,error:n};throw n}}}function yV(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const cx={debug:!!(globalThis&&Kee()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qee extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class q1e extends Qee{}async function Y1e(t,e,n){cx.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),cx.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){cx.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{cx.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw cx.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new q1e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cx.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function X1e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jee(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function K1e(t){return parseInt(t,16)}function Z1e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Q1e(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Jee(t.address),m=d?`${d}://${r}`:r,y=t.statement?`${t.statement}
`:"",b=`${m} wants you to sign in with your Ethereum account:
${p}

${y}`;let v=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let _=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);_+=`
- ${S}`}v+=_}return`${b}
${v}`}class Ns extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class tC extends Ns{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function J1e({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ns({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ns({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ns({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ns({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ns({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ns({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ns({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ns({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(ete(o)){if(s.rp.id!==o)return new Ns({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ns({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ns({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ns({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ns({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function eSe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ns({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ns({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(ete(r)){if(n.rpId!==r)return new Ns({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ns({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ns({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ns({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class tSe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const nSe=new tSe;function rSe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=um(t,["challenge","user","excludeCredentials"]),s=_0(e).buffer,o=Object.assign(Object.assign({},n),{id:_0(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:_0(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function iSe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=um(t,["challenge","allowCredentials"]),i=_0(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},l),{id:_0(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function sSe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Zg(new Uint8Array(t.response.attestationObject)),clientDataJSON:Zg(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function aSe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Zg(new Uint8Array(i.authenticatorData)),clientDataJSON:Zg(new Uint8Array(i.clientDataJSON)),signature:Zg(new Uint8Array(i.signature)),userHandle:i.userHandle?Zg(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ete(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function vV(){var t,e;return!!(lo()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function oSe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new tC("Browser returned unexpected credential type",e)}:{data:null,error:new tC("Empty credential response",e)}}catch(e){return{data:null,error:J1e({error:e,options:t})}}}async function lSe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new tC("Browser returned unexpected credential type",e)}:{data:null,error:new tC("Empty credential response",e)}}catch(e){return{data:null,error:eSe({error:e,options:t})}}}const cSe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},uSe={userVerification:"preferred",hints:["security-key"]};function nC(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const l=r[s];e(l)?r[s]=nC(l,o):r[s]=nC(o)}else r[s]=o}return r}function dSe(t,e){return nC(cSe,t,e||{})}function hSe(t,e){return nC(uSe,t,e||{})}class fSe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const c=i??nSe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=dSe(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:h}=await oSe({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=hSe(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:h}=await lSe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return yn(o)?{data:null,error:o}:{data:null,error:new zg("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new MS("rpId is required for WebAuthn authentication")};try{if(!vV())return{data:null,error:new zg("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return yn(o)?{data:null,error:o}:{data:null,error:new zg("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new MS("rpId is required for WebAuthn registration")};try{if(!vV())return{data:null,error:new zg("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return yn(o)?{data:null,error:o}:{data:null,error:new zg("Unexpected error in register",o)}}}}X1e();const pSe={url:u1e,storageKey:d1e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:h1e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xV(t,e,n){return await n()}const ux={};class CS{get jwks(){var e,n;return(n=(e=ux[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ux[this.storageKey]=Object.assign(Object.assign({},ux[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ux[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ux[this.storageKey]=Object.assign(Object.assign({},ux[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=CS.nextInstanceID,CS.nextInstanceID+=1,this.instanceID>0&&lo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},pSe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new G1e({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Zee(i.fetch),this.lock=i.lock||xV,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:lo()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Y1e:this.lock=xV,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fSe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Kee()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yV(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=yV(this.memoryStorage)),lo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qee}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=A1e(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),lo()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),v1e(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return yn(n)?{error:n}:{error:new zg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await On(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ru}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(yn(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ox(this.storage,this.storageKey)),s=await On(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:ru})}else if("phone"in e){const{phone:d,password:h,options:f}=e;s=await On(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ru})}else throw new jN("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(yn(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:l}=e;n=await On(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mV})}else if("phone"in e){const{phone:s,password:o,options:l}=e;n=await On(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mV})}else throw new jN("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ax}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(yn(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,l,c,u,d,h,f;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:y,wallet:b,statement:v,options:_}=e;let S;if(lo())if(typeof b=="object")S=b;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")S=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const j=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href),N=await S.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=Jee(N[0]);let M=(r=_==null?void 0:_.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const L=await S.request({method:"eth_chainId"});M=K1e(L)}const k={domain:j.host,address:A,statement:v,uri:j.href,version:"1",chainId:M,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Q1e(k),m=await S.request({method:"personal_sign",params:[Z1e(p),A]})}try{const{data:y,error:b}=await On(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ru});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ax}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(yn(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var n,r,i,s,o,l,c,u,d,h,f,p;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:b,wallet:v,statement:_,options:S}=e;let j;if(lo())if(typeof v=="object")j=v;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))j=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const N=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const A=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),_?{statement:_}:null));let M;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")M=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)M=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)m=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),y=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const A=await j.signMessage(new TextEncoder().encode(m),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=A}}try{const{data:b,error:v}=await On(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Zg(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ru});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ax}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(yn(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await hg(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await On(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ru});if(await Uf(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ax}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(yn(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,l=await On(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ru}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ax}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(yn(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ox(this.storage,this.storageKey));const{error:h}=await On(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await On(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new jN("You must provide either an email or phone number.")}catch(l){if(yn(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await On(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ru});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(yn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await ox(this.storage,this.storageKey)),await On(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:H1e})}catch(s){if(yn(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nu;const{error:i}=await On(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(yn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await On(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:l}=await On(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new jN("You must provide either an email or phone number and a type")}catch(n){if(yn(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await hg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<eI:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await hg(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=rI()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=U1e(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await On(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:up}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nu}:await On(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:up})})}catch(n){if(yn(n))return y1e(n)&&(await this._removeSession(),await Uf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new nu;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await ox(this.storage,this.storageKey));const{data:u,error:d}=await On(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:up});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(yn(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nu;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=nI(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(yn(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new nu;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(yn(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!lo())throw new AN("No browser detected.");if(e.error||e.error_description||e.error_code)throw new AN(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lV("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AN("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new lV("No code detected.");const{data:_,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!o||!u)throw new AN("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Bx&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:y,error:b}=await this._getUser(s);if(b)throw b;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(yn(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await hg(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(g1e(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Uf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=j1e(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ox(this.storage,this.storageKey,!0));try{return await On(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(yn(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(yn(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,c,u,d;const{data:h,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await On(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return lo()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(yn(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,h=await On(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ru}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ax}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(i){if(yn(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await On(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(yn(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await M1e(async i=>(i>0&&await T1e(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await On(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ru})),(i,s)=>{const o=200*Math.pow(2,i);return s&&tI(s)&&Date.now()+o-r<Bx})}catch(r){if(this._debug(n,"error",r),yn(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),lo()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await hg(this.storage,this.storageKey);if(i&&this.userStorage){let o=await hg(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await zx(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:rI()}else if(i&&!i.user&&!i.user){const o=await hg(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Uf(this.storage,this.storageKey+"-user"),await zx(this.storage,this.storageKey,i)):i.user=rI()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<eI;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${eI}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),tI(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new kP;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new nu;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),yn(s)){const o={data:null,error:s};return tI(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await zx(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=fV(i);await zx(this.storage,this.storageKey,s)}else{const i=fV(n);await zx(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Uf(this.storage,this.storageKey),await Uf(this.storage,this.storageKey+"-code-verifier"),await Uf(this.storage,this.storageKey+"-user"),this.userStorage&&await Uf(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&lo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bx);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Bx);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bx}ms, refresh threshold is ${zD} ticks`),i<=zD&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Qee)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await ox(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await On(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(yn(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await On(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(yn(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?sSe(e.webauthn.credential_response):aSe(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await On(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(yn(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=await On(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:rSe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:iSe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(yn(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=nI(r.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?{data:null,error:i}:r?await On(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new nu}})}catch(n){if(yn(n))return{data:null,error:n};throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return{data:null,error:s};if(!i)return{data:null,error:new nu};const o=await On(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&lo()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(yn(r))return{data:null,error:r};throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return{data:null,error:s};if(!i)return{data:null,error:new nu};const o=await On(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&lo()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(yn(r))return{data:null,error:r};throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+p1e>i)return r;const{data:s,error:o}=await On(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:c}}=nI(r);n!=null&&n.allowExpired||L1e(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:o},error:null}}const d=D1e(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,S1e(`${l}.${c}`)))throw new VD("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(yn(r))return{data:null,error:r};throw r}}}CS.nextInstanceID=0;const mSe=CS;class gSe extends mSe{constructor(e){super(e)}}class ySe{constructor(e,n,r){var i,s,o;this.supabaseUrl=e,this.supabaseKey=n;const l=c1e(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:t1e,realtime:r1e,auth:Object.assign(Object.assign({},n1e),{storageKey:c}),global:e1e},d=l1e(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=a1e(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new u_e(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Z_e(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new n_e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gSe({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new N_e(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vSe=(t,e,n)=>new ySe(t,e,n);function xSe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xSe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bSe="https://axoqjwvqxgtzsdmlmnbv.supabase.co",wSe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4b3Fqd3ZxeGd0enNkbWxtbmJ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4Mzk1MzAsImV4cCI6MjA3NzQxNTUzMH0.O6gYAuqbY9xplmgCgP3e702xDXngVCnr5nL6QP2Umdg",Ye=vSe(bSe,wSe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),WD=Object.freeze(Object.defineProperty({__proto__:null,supabase:Ye},Symbol.toStringTag,{value:"Module"})),ys=KJ()(Kwe((t,e)=>({user:null,session:null,profile:null,role:null,isLoading:!0,error:null,initialize:async()=>{var n,r;t({isLoading:!0});try{const{data:{session:i}}=await Ye.auth.getSession();if(i!=null&&i.user){const{data:s}=await Ye.from("profiles").select("*").eq("id",i.user.id).single(),{data:o}=await Ye.from("user_roles").select("role").eq("user_id",i.user.id).order("role",{ascending:!0}),l=((n=o==null?void 0:o.find(c=>c.role==="admin"))==null?void 0:n.role)||((r=o==null?void 0:o[0])==null?void 0:r.role)||null;t({user:i.user,session:i,profile:s||null,role:l,isLoading:!1})}else t({isLoading:!1})}catch(i){console.error("Auth initialization error:",i),t({isLoading:!1,error:i.message})}Ye.auth.onAuthStateChange(async(i,s)=>{var o,l;if(t({session:s,user:(s==null?void 0:s.user)??null}),s!=null&&s.user)try{const{data:c}=await Ye.from("profiles").select("*").eq("id",s.user.id).single(),{data:u}=await Ye.from("user_roles").select("role").eq("user_id",s.user.id).order("role",{ascending:!0}),d=((o=u==null?void 0:u.find(h=>h.role==="admin"))==null?void 0:o.role)||((l=u==null?void 0:u[0])==null?void 0:l.role)||null;t({profile:c||null,role:d})}catch(c){console.error("Error fetching user data in auth state listener:",c)}else t({profile:null,role:null})})},signUp:async(n,r,i,s)=>{t({isLoading:!0,error:null});try{const{data:o,error:l}=await Ye.auth.signUp({email:n,password:r,options:{data:{username:i,full_name:s||""},emailRedirectTo:`${window.location.origin}/`}});if(l)throw l;t({user:o.user,session:o.session,isLoading:!1})}catch(o){throw t({error:o.message,isLoading:!1}),o}},signIn:async(n,r)=>{var i,s;t({isLoading:!0,error:null});try{const{data:o,error:l}=await Ye.auth.signInWithPassword({email:n,password:r});if(l)throw l;const{data:c}=await Ye.from("profiles").select("*").eq("id",o.user.id).single(),{data:u}=await Ye.from("user_roles").select("role").eq("user_id",o.user.id).order("role",{ascending:!0}),d=((i=u==null?void 0:u.find(h=>h.role==="admin"))==null?void 0:i.role)||((s=u==null?void 0:u[0])==null?void 0:s.role)||null;t({user:o.user,session:o.session,profile:c||null,role:d,isLoading:!1})}catch(o){throw t({error:o.message,isLoading:!1}),o}},signOut:async()=>{t({isLoading:!0});try{await Ye.auth.signOut(),t({user:null,session:null,profile:null,role:null,isLoading:!1,error:null})}catch(n){console.error("Sign out error:",n),t({isLoading:!1})}},updateProfile:async n=>{const{user:r}=e();if(!r)throw new Error("Not authenticated");t({isLoading:!0,error:null});try{const{data:i,error:s}=await Ye.from("profiles").update(n).eq("id",r.id).select().single();if(s)throw s;t({profile:i,isLoading:!1})}catch(i){throw t({error:i.message,isLoading:!1}),i}},clearError:()=>{t({error:null})}}),{name:"auth-storage",partialize:t=>({})}));class _Se{constructor(){Fs(this,"enabled");this.enabled=!0}captureException(e,n){console.error("[Error Handler]",e,n),this.enabled&&this.storeError(e,n)}captureMessage(e,n="info",r){console.log(`[${n.toUpperCase()}]`,e,r),this.enabled}storeError(e,n){try{const r={message:e.message,stack:e.stack,context:n,timestamp:new Date().toISOString()},i=JSON.parse(localStorage.getItem("error_logs")||"[]");i.push(r);const s=i.slice(-10);localStorage.setItem("error_logs",JSON.stringify(s))}catch(r){console.error("Failed to store error:",r)}}setUser(e,n){this.enabled}clearUser(){this.enabled}}const bV=new _Se;/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SSe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ESe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(t,e)=>{const n=C.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>C.createElement("svg",{ref:d,...SSe,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${ESe(t)}`,l].join(" "),...u},[...e.map(([h,f])=>C.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jSe=dt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ASe=dt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=dt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NSe=dt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=dt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=dt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=dt("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=dt("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TSe=dt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MSe=dt("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CSe=dt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=dt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=dt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=dt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PSe=dt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=dt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=dt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=dt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=dt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=dt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=dt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=dt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=dt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kSe=dt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=dt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=dt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=dt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OSe=dt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=dt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=dt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RSe=dt("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=dt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ISe=dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=dt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=dt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=dt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=dt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LSe=dt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=dt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=dt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=dt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=dt("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DSe=dt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=dt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FSe=dt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=dt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=dt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const USe=dt("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=dt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=dt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BSe=dt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zSe=dt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=dt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Se=dt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=dt("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=dt("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=dt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HSe=dt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=dt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=dt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=dt("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VSe=dt("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WSe=dt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GSe=dt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qSe=dt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YSe=dt("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=dt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=dt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=dt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=dt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XSe=dt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=dt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KSe=dt("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=dt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=dt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=dt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZSe=dt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QSe=dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JSe=dt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eEe=dt("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tEe=dt("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=dt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nEe=dt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=dt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rEe=dt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iEe=dt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sEe=dt("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aEe=dt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oEe=dt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lEe=dt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=dt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=dt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),AV="lastVisitedRoute";function aI({children:t}){const{user:e,isLoading:n}=ys(),r=lm();return C.useEffect(()=>{e&&!n&&localStorage.setItem(AV,r.pathname)},[e,r.pathname,n]),n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(zr,{className:"h-8 w-8 animate-spin text-blue-600"})}):e?a.jsx(a.Fragment,{children:t}):(r.pathname!=="/auth/login"&&localStorage.setItem(AV,r.pathname),a.jsx(R5,{to:"/auth/login",replace:!0}))}const YD=(t,e)=>e.some(n=>t instanceof n);let NV,TV;function cEe(){return NV||(NV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uEe(){return TV||(TV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XD=new WeakMap,oI=new WeakMap,UP=new WeakMap;function dEe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Sy(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return UP.set(e,t),e}function hEe(t){if(XD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});XD.set(t,e)}let KD={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return XD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sy(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pte(t){KD=t(KD)}function fEe(t){return uEe().includes(t)?function(...e){return t.apply(ZD(this),e),Sy(this.request)}:function(...e){return Sy(t.apply(ZD(this),e))}}function pEe(t){return typeof t=="function"?fEe(t):(t instanceof IDBTransaction&&hEe(t),YD(t,cEe())?new Proxy(t,KD):t)}function Sy(t){if(t instanceof IDBRequest)return dEe(t);if(oI.has(t))return oI.get(t);const e=pEe(t);return e!==t&&(oI.set(t,e),UP.set(e,t)),e}const ZD=t=>UP.get(t);function mEe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Sy(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Sy(o.result),c.oldVersion,c.newVersion,Sy(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const gEe=["get","getKey","getAll","getAllKeys","count"],yEe=["put","add","delete","clear"],lI=new Map;function MV(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lI.get(e))return lI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yEe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gEe.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return lI.set(e,s),s}pte(t=>({...t,get:(e,n,r)=>MV(e,n)||t.get(e,n,r),has:(e,n)=>!!MV(e,n)||t.has(e,n)}));const vEe=["continue","continuePrimaryKey","advance"],CV={},QD=new WeakMap,mte=new WeakMap,xEe={get(t,e){if(!vEe.includes(e))return t[e];let n=CV[e];return n||(n=CV[e]=function(...r){QD.set(this,mte.get(this)[e](...r))}),n}};async function*bEe(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,xEe);for(mte.set(n,e),UP.set(n,ZD(e));e;)yield n,e=await(QD.get(n)||e.continue()),QD.delete(n)}function PV(t,e){return e===Symbol.asyncIterator&&YD(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&YD(t,[IDBIndex,IDBObjectStore])}pte(t=>({...t,get(e,n,r){return PV(e,n)?bEe:t.get(e,n,r)},has(e,n){return PV(e,n)||t.has(e,n)}}));const Wg=class Wg{constructor(){Fs(this,"db");Fs(this,"dbName","agentbio_offline");Fs(this,"dbVersion",1)}static getInstance(){return Wg.instance||(Wg.instance=new Wg),Wg.instance}async init(){try{this.db=await mEe(this.dbName,this.dbVersion,{upgrade(e){if(!e.objectStoreNames.contains("listings")){const n=e.createObjectStore("listings",{keyPath:"id"});n.createIndex("by-status","status"),n.createIndex("by-lastSync","lastSync")}if(!e.objectStoreNames.contains("leads")){const n=e.createObjectStore("leads",{keyPath:"id"});n.createIndex("by-read","read"),n.createIndex("by-timestamp","timestamp")}if(!e.objectStoreNames.contains("syncQueue")){const n=e.createObjectStore("syncQueue",{keyPath:"id"});n.createIndex("by-timestamp","timestamp"),n.createIndex("by-attempts","attempts")}e.objectStoreNames.contains("userPreferences")||e.createObjectStore("userPreferences",{keyPath:"key"})}}),console.log("[OfflineStorage] Database initialized")}catch(e){throw console.error("[OfflineStorage] Failed to initialize database:",e),e}}async saveListing(e){this.db||await this.init(),await this.db.put("listings",e)}async getListing(e){return this.db||await this.init(),await this.db.get("listings",e)}async getAllListings(){return this.db||await this.init(),await this.db.getAll("listings")}async getListingsByStatus(e){return this.db||await this.init(),await this.db.getAllFromIndex("listings","by-status",e)}async deleteListing(e){this.db||await this.init(),await this.db.delete("listings",e)}async saveLead(e){this.db||await this.init(),await this.db.put("leads",e)}async getLead(e){return this.db||await this.init(),await this.db.get("leads",e)}async getAllLeads(){return this.db||await this.init(),await this.db.getAll("leads")}async getUnreadLeads(){return this.db||await this.init(),await this.db.getAllFromIndex("leads","by-read",0)}async addToSyncQueue(e){this.db||await this.init(),await this.db.put("syncQueue",e)}async getSyncQueue(){return this.db||await this.init(),await this.db.getAll("syncQueue")}async removeFromSyncQueue(e){this.db||await this.init(),await this.db.delete("syncQueue",e)}async incrementSyncAttempts(e){this.db||await this.init();const n=await this.db.get("syncQueue",e);n&&(n.attempts+=1,n.lastAttempt=Date.now(),await this.db.put("syncQueue",n))}async savePreference(e,n){this.db||await this.init(),await this.db.put("userPreferences",{key:e,value:n,lastSync:Date.now()})}async getPreference(e){this.db||await this.init();const n=await this.db.get("userPreferences",e);return n==null?void 0:n.value}async clearAllData(){this.db||await this.init(),await this.db.clear("listings"),await this.db.clear("leads"),await this.db.clear("syncQueue"),await this.db.clear("userPreferences"),console.log("[OfflineStorage] All data cleared")}};Fs(Wg,"instance");let JD=Wg;const wEe=JD.getInstance(),_Ee=void 0,Gg=class Gg{constructor(){Fs(this,"messaging");Fs(this,"currentToken")}static getInstance(){return Gg.instance||(Gg.instance=new Gg),Gg.instance}async init(){return console.warn("[PushNotifications] Firebase not configured"),!1}async requestPermission(){try{const e=await Notification.requestPermission();return console.log("[PushNotifications] Permission:",e),e==="granted"}catch(e){return console.error("[PushNotifications] Permission request failed:",e),!1}}async getToken(){if(!this.messaging&&(await this.init(),!this.messaging))return null;try{const{getToken:e}=await bd(async()=>{const{getToken:r}=await import("./index.esm-CaZh5XQD.js");return{getToken:r}},[]),n=await e(this.messaging,{vapidKey:_Ee});return n?(console.log("[PushNotifications] FCM Token:",n),this.currentToken=n,n):(console.log("[PushNotifications] No registration token available"),null)}catch(e){return console.error("[PushNotifications] Failed to get token:",e),null}}async registerToken(e){const n=await this.getToken();if(!n)return!1;try{const{supabase:r}=await bd(async()=>{const{supabase:o}=await Promise.resolve().then(()=>WD);return{supabase:o}},void 0),{data:{session:i}}=await r.auth.getSession();if(!(i!=null&&i.access_token))return console.error("[PushNotifications] No active session"),!1;if(!(await fetch("/api/v1/notifications/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`},body:JSON.stringify({token:n,userId:e,device:this.getDeviceInfo()})})).ok)throw new Error("Failed to register token");return console.log("[PushNotifications] Token registered successfully"),!0}catch(r){return console.error("[PushNotifications] Failed to register token:",r),!1}}async unregisterToken(){if(!this.currentToken)return!0;try{const{supabase:e}=await bd(async()=>{const{supabase:i}=await Promise.resolve().then(()=>WD);return{supabase:i}},void 0),{data:{session:n}}=await e.auth.getSession();if(!(n!=null&&n.access_token))return console.error("[PushNotifications] No active session"),!1;if(!(await fetch("/api/v1/notifications/unregister",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`},body:JSON.stringify({token:this.currentToken})})).ok)throw new Error("Failed to unregister token");return console.log("[PushNotifications] Token unregistered successfully"),this.currentToken=void 0,!0}catch(e){return console.error("[PushNotifications] Failed to unregister token:",e),!1}}handleForegroundMessage(e){const{notification:n,data:r}=e;n&&this.showNotification(n.title,{body:n.body,icon:n.icon||"/icons/icon-192.png",badge:"/icons/icon-72.png",data:r,tag:(r==null?void 0:r.type)||"default",requireInteraction:(r==null?void 0:r.requireInteraction)==="true"}),window.dispatchEvent(new CustomEvent("push-notification",{detail:e}))}async showNotification(e,n){if("Notification"in window&&Notification.permission==="granted")try{await(await navigator.serviceWorker.ready).showNotification(e,n)}catch(r){console.error("[PushNotifications] Failed to show notification:",r),new Notification(e,n)}}getDeviceInfo(){return{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,timestamp:Date.now()}}isSupported(){return"Notification"in window&&"serviceWorker"in navigator}getPermissionStatus(){return Notification.permission}};Fs(Gg,"instance");let e4=Gg;const cI=e4.getInstance();function gte(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=gte(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=gte(t))&&(r&&(r+=" "),r+=e);return r}const J5="-",SEe=t=>{const e=jEe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(J5);return l[0]===""&&l.length!==1&&l.shift(),yte(l,e)||EEe(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},yte=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?yte(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(J5);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},kV=/^\[(.+)\]$/,EEe=t=>{if(kV.test(t)){const e=kV.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jEe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return NEe(Object.entries(t.classGroups),n).forEach(([s,o])=>{t4(o,r,s,e)}),r},t4=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:OV(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(AEe(i)){t4(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{t4(o,OV(e,s),n,r)})})},OV=(t,e)=>{let n=t;return e.split(J5).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},AEe=t=>t.isThemeGetter,NEe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,TEe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},vte="!",MEe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let v=l[b];if(u===0){if(v===i&&(r||l.slice(b,b+s)===e)){c.push(l.slice(d,b)),d=b+s;continue}if(v==="/"){h=b;continue}}v==="["?u++:v==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(vte),m=p?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:o}):o},CEe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},PEe=t=>({cache:TEe(t.cacheSize),parseClassName:MEe(t),...SEe(t)}),kEe=/\s+/,OEe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(kEe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let m=!!p,y=r(m?f.substring(0,p):f);if(!y){if(!m){l=u+(l.length>0?" "+l:l);continue}if(y=r(f),!y){l=u+(l.length>0?" "+l:l);continue}m=!1}const b=CEe(d).join(":"),v=h?b+vte:b,_=v+y;if(s.includes(_))continue;s.push(_);const S=i(y,m);for(let j=0;j<S.length;++j){const N=S[j];s.push(v+N)}l=u+(l.length>0?" "+l:l)}return l};function REe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=xte(e))&&(r&&(r+=" "),r+=n);return r}const xte=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=xte(t[r]))&&(n&&(n+=" "),n+=e);return n};function IEe(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return n=PEe(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=OEe(c,n);return i(c,d),d}return function(){return s(REe.apply(null,arguments))}}const Ei=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},bte=/^\[(?:([a-z-]+):)?(.+)\]$/i,LEe=/^\d+\/\d+$/,DEe=new Set(["px","full","screen"]),FEe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UEe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BEe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zEe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$Ee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ih=t=>E0(t)||DEe.has(t)||LEe.test(t),Bf=t=>ew(t,"length",KEe),E0=t=>!!t&&!Number.isNaN(Number(t)),uI=t=>ew(t,"number",E0),M_=t=>!!t&&Number.isInteger(Number(t)),HEe=t=>t.endsWith("%")&&E0(t.slice(0,-1)),ir=t=>bte.test(t),zf=t=>FEe.test(t),VEe=new Set(["length","size","percentage"]),WEe=t=>ew(t,VEe,wte),GEe=t=>ew(t,"position",wte),qEe=new Set(["image","url"]),YEe=t=>ew(t,qEe,QEe),XEe=t=>ew(t,"",ZEe),C_=()=>!0,ew=(t,e,n)=>{const r=bte.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},KEe=t=>UEe.test(t)&&!BEe.test(t),wte=()=>!1,ZEe=t=>zEe.test(t),QEe=t=>$Ee.test(t),JEe=()=>{const t=Ei("colors"),e=Ei("spacing"),n=Ei("blur"),r=Ei("brightness"),i=Ei("borderColor"),s=Ei("borderRadius"),o=Ei("borderSpacing"),l=Ei("borderWidth"),c=Ei("contrast"),u=Ei("grayscale"),d=Ei("hueRotate"),h=Ei("invert"),f=Ei("gap"),p=Ei("gradientColorStops"),m=Ei("gradientColorStopPositions"),y=Ei("inset"),b=Ei("margin"),v=Ei("opacity"),_=Ei("padding"),S=Ei("saturate"),j=Ei("scale"),N=Ei("sepia"),A=Ei("skew"),M=Ei("space"),k=Ei("translate"),L=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ir,e],U=()=>[ir,e],W=()=>["",ih,Bf],q=()=>["auto",E0,ir],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",ir],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[E0,ir];return{cacheSize:500,separator:":",theme:{colors:[C_],spacing:[ih,Bf],blur:["none","",zf,ir],brightness:ce(),borderColor:[t],borderRadius:["none","","full",zf,ir],borderSpacing:U(),borderWidth:W(),contrast:ce(),grayscale:Z(),hueRotate:ce(),invert:Z(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[HEe,Bf],inset:I(),margin:I(),opacity:ce(),padding:U(),saturate:ce(),scale:ce(),sepia:Z(),skew:ce(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",ir]}],container:["container"],columns:[{columns:[zf]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),ir]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",M_,ir]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ir]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",M_,ir]}],"grid-cols":[{"grid-cols":[C_]}],"col-start-end":[{col:["auto",{span:["full",M_,ir]},ir]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[C_]}],"row-start-end":[{row:["auto",{span:[M_,ir]},ir]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ir]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ir]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ir,e]}],"min-w":[{"min-w":[ir,e,"min","max","fit"]}],"max-w":[{"max-w":[ir,e,"none","full","min","max","fit","prose",{screen:[zf]},zf]}],h:[{h:[ir,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ir,e,"auto","min","max","fit"]}],"font-size":[{text:["base",zf,Bf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",uI]}],"font-family":[{font:[C_]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ir]}],"line-clamp":[{"line-clamp":["none",E0,uI]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ih,ir]}],"list-image":[{"list-image":["none",ir]}],"list-style-type":[{list:["none","disc","decimal",ir]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ih,Bf]}],"underline-offset":[{"underline-offset":["auto",ih,ir]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ir]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ir]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),GEe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",WEe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YEe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[ih,ir]}],"outline-w":[{outline:[ih,Bf]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ih,Bf]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",zf,XEe]}],"shadow-color":[{shadow:[C_]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",zf,ir]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ir]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",ir]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",ir]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[M_,ir]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ir]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ir]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ir]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ih,Bf,uI]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eje=IEe(JEe);function xt(...t){return eje(vr(t))}function tje(){const[t,e]=C.useState(typeof navigator<"u"?navigator.onLine:!0),[n,r]=C.useState(!1),[i,s]=C.useState(!1);return C.useEffect(()=>{const o=()=>{e(!0),i&&(r(!0),s(!1),setTimeout(()=>r(!1),3e3))},l=()=>{e(!1),s(!0),r(!0)};return window.addEventListener("online",o),window.addEventListener("offline",l),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",l)}},[i]),!n&&t?null:a.jsx("div",{className:xt("fixed top-4 left-1/2 -translate-x-1/2 z-[100] px-4 py-2.5 rounded-lg shadow-lg","flex items-center gap-2 text-sm font-medium transition-all duration-300","safe-area-inset-top",t?"bg-green-500 text-white":"bg-red-500 text-white",n?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"),style:{top:"calc(1rem + env(safe-area-inset-top))"},children:t?a.jsxs(a.Fragment,{children:[a.jsx(lEe,{className:"w-4 h-4"}),a.jsx("span",{children:"Back online"})]}):a.jsxs(a.Fragment,{children:[a.jsx(oEe,{className:"w-4 h-4"}),a.jsx("span",{children:"No internet connection"})]})})}const eB=({title:t,description:e,ogImage:n,canonicalUrl:r,keywords:i=[],schema:s})=>{const o=t.length>60?t.substring(0,57)+"...":t,l=e.length>160?e.substring(0,157)+"...":e;return a.jsxs(MP,{children:[a.jsx("title",{children:o}),a.jsx("meta",{name:"title",content:o}),a.jsx("meta",{name:"description",content:l}),i.length>0&&a.jsx("meta",{name:"keywords",content:i.join(", ")}),r&&a.jsx("link",{rel:"canonical",href:r}),a.jsx("meta",{property:"og:type",content:"website"}),a.jsx("meta",{property:"og:title",content:o}),a.jsx("meta",{property:"og:description",content:l}),n&&a.jsx("meta",{property:"og:image",content:n}),r&&a.jsx("meta",{property:"og:url",content:r}),a.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{property:"twitter:title",content:o}),a.jsx("meta",{property:"twitter:description",content:l}),n&&a.jsx("meta",{property:"twitter:image",content:n}),a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s&&a.jsx("script",{type:"application/ld+json",children:JSON.stringify(s)})]})};function RV(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _te(...t){return e=>{let n=!1;const r=t.map(i=>{const s=RV(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():RV(t[i],null)}}}}function Kr(...t){return C.useCallback(_te(...t),t)}function By(t){const e=rje(t),n=C.forwardRef((r,i)=>{const{children:s,...o}=r,l=C.Children.toArray(s),c=l.find(sje);if(c){const u=c.props.children,d=l.map(h=>h===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var nje=By("Slot");function rje(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const o=oje(i),l=aje(s,i.props);return i.type!==C.Fragment&&(l.ref=r?_te(r,o):o),C.cloneElement(i,l)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ste=Symbol("radix.slottable");function ije(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Ste,e}function sje(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ste}function aje(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function oje(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const IV=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LV=vr,BP=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return LV(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const f=IV(d)||IV(h);return i[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(m=>{let[y,b]=m;return Array.isArray(b)?b.includes({...s,...l}[y]):{...s,...l}[y]===b})?[...u,h,f]:u},[]);return LV(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};function tB(){return"vibrate"in navigator}function fg(t="light"){if(tB())try{switch(t){case"light":navigator.vibrate(10);break;case"medium":navigator.vibrate(20);break;case"heavy":navigator.vibrate(40);break;case"success":navigator.vibrate([10,20,10]);break;case"warning":navigator.vibrate([15,50,15]);break;case"error":navigator.vibrate([10,50,10,50,10]);break;case"selection":navigator.vibrate(5);break;default:navigator.vibrate(10)}}catch(e){console.warn("Haptic feedback failed:",e)}}function lje(){tB()&&navigator.vibrate(0)}const n4={tap:()=>fg("light"),press:()=>fg("medium"),hold:()=>fg("heavy"),success:()=>fg("success"),warning:()=>fg("warning"),error:()=>fg("error"),selection:()=>fg("selection"),cancel:lje,isSupported:tB},nB=BP("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95 touch-target no-select",{variants:{variant:{default:"bg-blue-600 text-white shadow hover:bg-blue-700 active:bg-blue-800",destructive:"bg-red-600 text-white shadow-sm hover:bg-red-700 active:bg-red-800",outline:"border border-gray-300 bg-white shadow-sm hover:bg-gray-50 active:bg-gray-100 text-gray-900",secondary:"bg-gray-100 text-gray-900 shadow-sm hover:bg-gray-200 active:bg-gray-300",ghost:"hover:bg-gray-100 active:bg-gray-200 text-gray-900",link:"text-blue-600 underline-offset-4 hover:underline active:text-blue-800"},size:{default:"h-11 sm:h-10 px-4 py-2 text-sm sm:text-base",sm:"h-9 sm:h-8 rounded-md px-3 text-xs",lg:"h-12 sm:h-11 rounded-md px-6 sm:px-8 text-base sm:text-lg",icon:"h-11 w-11 sm:h-10 sm:w-10"}},defaultVariants:{variant:"default",size:"default"}}),He=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,onClick:i,...s},o)=>{const l=r?nje:"button",c=u=>{n4.tap(),i==null||i(u)};return a.jsx(l,{className:xt(nB({variant:e,size:n,className:t})),ref:o,onClick:c,...s})});He.displayName="Button";const Yt=C.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:xt("flex h-11 sm:h-10 w-full rounded-md border border-gray-300 bg-white px-3 sm:px-3 py-2.5 sm:py-2 text-base sm:text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 touch-target transition-all",t),ref:r,...n}));Yt.displayName="Input";const Qt=C.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:xt("rounded-lg border border-gray-200 bg-white text-gray-900 shadow-sm",t),...e}));Qt.displayName="Card";const dr=C.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:xt("flex flex-col space-y-1.5 p-6",t),...e}));dr.displayName="CardHeader";const hr=C.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:xt("text-2xl font-semibold leading-none tracking-tight",t),...e}));hr.displayName="CardTitle";const qr=C.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:xt("text-sm text-gray-500",t),...e}));qr.displayName="CardDescription";const vn=C.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:xt("p-6 pt-0",t),...e}));vn.displayName="CardContent";const zP=C.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:xt("flex items-center p-6 pt-0",t),...e}));zP.displayName="CardFooter";const cje=BP("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-gray-900 text-gray-50 hover:bg-gray-900/80",secondary:"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-100/80",destructive:"border-transparent bg-red-500 text-gray-50 hover:bg-red-500/80",outline:"text-gray-900",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function nn({className:t,variant:e,...n}){return a.jsx("div",{className:xt(cje({variant:e}),t),...n})}function DV(t,[e,n]){return Math.min(n,Math.max(e,t))}function Yn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function uje(t,e){const n=C.createContext(e),r=s=>{const{children:o,...l}=s,c=C.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=C.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Rc(t,e=[]){let n=[];function r(s,o){const l=C.createContext(o),c=n.length;n=[...n,o];const u=h=>{var v;const{scope:f,children:p,...m}=h,y=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,b=C.useMemo(()=>m,Object.values(m));return a.jsx(y.Provider,{value:b,children:p})};u.displayName=s+"Provider";function d(h,f){var y;const p=((y=f==null?void 0:f[t])==null?void 0:y[c])||l,m=C.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>C.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,dje(i,...e)]}function dje(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ete(t){const e=t+"CollectionProvider",[n,r]=Rc(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:v}=y,_=ae.useRef(null),S=ae.useRef(new Map).current;return a.jsx(i,{scope:b,itemMap:S,collectionRef:_,children:v})};o.displayName=e;const l=t+"CollectionSlot",c=By(l),u=ae.forwardRef((y,b)=>{const{scope:v,children:_}=y,S=s(l,v),j=Kr(b,S.collectionRef);return a.jsx(c,{ref:j,children:_})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=By(d),p=ae.forwardRef((y,b)=>{const{scope:v,children:_,...S}=y,j=ae.useRef(null),N=Kr(b,j),A=s(d,v);return ae.useEffect(()=>(A.itemMap.set(j,{ref:j,...S}),()=>void A.itemMap.delete(j))),a.jsx(f,{[h]:"",ref:N,children:_})});p.displayName=d;function m(y){const b=s(t+"CollectionConsumer",y);return ae.useCallback(()=>{const _=b.collectionRef.current;if(!_)return[];const S=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((A,M)=>S.indexOf(A.ref.current)-S.indexOf(M.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},m,r]}var hje=C.createContext(void 0);function rB(t){const e=C.useContext(hje);return t||e||"ltr"}var fje=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fn=fje.reduce((t,e)=>{const n=By(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function pje(t,e){t&&Yb.flushSync(()=>t.dispatchEvent(e))}function Wh(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function mje(t,e=globalThis==null?void 0:globalThis.document){const n=Wh(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var gje="DismissableLayer",r4="dismissableLayer.update",yje="dismissableLayer.pointerDownOutside",vje="dismissableLayer.focusOutside",FV,jte=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$P=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=C.useContext(jte),[d,h]=C.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=C.useState({}),m=Kr(e,M=>h(M)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(b),_=d?y.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,j=_>=v,N=wje(M=>{const k=M.target,L=[...u.branches].some(O=>O.contains(k));!j||L||(i==null||i(M),o==null||o(M),M.defaultPrevented||l==null||l())},f),A=_je(M=>{const k=M.target;[...u.branches].some(O=>O.contains(k))||(s==null||s(M),o==null||o(M),M.defaultPrevented||l==null||l())},f);return mje(M=>{_===u.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},f),C.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(FV=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),UV(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=FV)}},[d,f,n,u]),C.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),UV())},[d,u]),C.useEffect(()=>{const M=()=>p({});return document.addEventListener(r4,M),()=>document.removeEventListener(r4,M)},[]),a.jsx(Fn.div,{...c,ref:m,style:{pointerEvents:S?j?"auto":"none":void 0,...t.style},onFocusCapture:Yn(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Yn(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Yn(t.onPointerDownCapture,N.onPointerDownCapture)})});$P.displayName=gje;var xje="DismissableLayerBranch",bje=C.forwardRef((t,e)=>{const n=C.useContext(jte),r=C.useRef(null),i=Kr(e,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(Fn.div,{...t,ref:i})});bje.displayName=xje;function wje(t,e=globalThis==null?void 0:globalThis.document){const n=Wh(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){Ate(yje,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function _je(t,e=globalThis==null?void 0:globalThis.document){const n=Wh(t),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&Ate(vje,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UV(){const t=new CustomEvent(r4);document.dispatchEvent(t)}function Ate(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?pje(i,s):i.dispatchEvent(s)}var dI=0;function iB(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??BV()),document.body.insertAdjacentElement("beforeend",t[1]??BV()),dI++,()=>{dI===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dI--}},[])}function BV(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hI="focusScope.autoFocusOnMount",fI="focusScope.autoFocusOnUnmount",zV={bubbles:!1,cancelable:!0},Sje="FocusScope",HP=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=C.useState(null),u=Wh(i),d=Wh(s),h=C.useRef(null),f=Kr(e,y=>c(y)),p=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let y=function(S){if(p.paused||!l)return;const j=S.target;l.contains(j)?h.current=j:ep(h.current,{select:!0})},b=function(S){if(p.paused||!l)return;const j=S.relatedTarget;j!==null&&(l.contains(j)||ep(h.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const N of S)N.removedNodes.length>0&&ep(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const _=new MutationObserver(v);return l&&_.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),_.disconnect()}}},[r,l,p.paused]),C.useEffect(()=>{if(l){HV.add(p);const y=document.activeElement;if(!l.contains(y)){const v=new CustomEvent(hI,zV);l.addEventListener(hI,u),l.dispatchEvent(v),v.defaultPrevented||(Eje(Mje(Nte(l)),{select:!0}),document.activeElement===y&&ep(l))}return()=>{l.removeEventListener(hI,u),setTimeout(()=>{const v=new CustomEvent(fI,zV);l.addEventListener(fI,d),l.dispatchEvent(v),v.defaultPrevented||ep(y??document.body,{select:!0}),l.removeEventListener(fI,d),HV.remove(p)},0)}}},[l,u,d,p]);const m=C.useCallback(y=>{if(!n&&!r||p.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(b&&v){const _=y.currentTarget,[S,j]=jje(_);S&&j?!y.shiftKey&&v===j?(y.preventDefault(),n&&ep(S,{select:!0})):y.shiftKey&&v===S&&(y.preventDefault(),n&&ep(j,{select:!0})):v===_&&y.preventDefault()}},[n,r,p.paused]);return a.jsx(Fn.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});HP.displayName=Sje;function Eje(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ep(r,{select:e}),document.activeElement!==n)return}function jje(t){const e=Nte(t),n=$V(e,t),r=$V(e.reverse(),t);return[n,r]}function Nte(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $V(t,e){for(const n of t)if(!Aje(n,{upTo:e}))return n}function Aje(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Nje(t){return t instanceof HTMLInputElement&&"select"in t}function ep(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Nje(t)&&e&&t.select()}}var HV=Tje();function Tje(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=VV(t,e),t.unshift(e)},remove(e){var n;t=VV(t,e),(n=t[0])==null||n.resume()}}}function VV(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Mje(t){return t.filter(e=>e.tagName!=="A")}var Gs=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},Cje=RU[" useId ".trim().toString()]||(()=>{}),Pje=0;function Ph(t){const[e,n]=C.useState(Cje());return Gs(()=>{n(r=>r??String(Pje++))},[t]),e?`radix-${e}`:""}const kje=["top","right","bottom","left"],Yp=Math.min,Tl=Math.max,oC=Math.round,NN=Math.floor,wd=t=>({x:t,y:t}),Oje={left:"right",right:"left",bottom:"top",top:"bottom"},Rje={start:"end",end:"start"};function i4(t,e,n){return Tl(t,Yp(e,n))}function Gh(t,e){return typeof t=="function"?t(e):t}function qh(t){return t.split("-")[0]}function tw(t){return t.split("-")[1]}function sB(t){return t==="x"?"y":"x"}function aB(t){return t==="y"?"height":"width"}const Ije=new Set(["top","bottom"]);function hd(t){return Ije.has(qh(t))?"y":"x"}function oB(t){return sB(hd(t))}function Lje(t,e,n){n===void 0&&(n=!1);const r=tw(t),i=oB(t),s=aB(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=lC(o)),[o,lC(o)]}function Dje(t){const e=lC(t);return[s4(t),e,s4(e)]}function s4(t){return t.replace(/start|end/g,e=>Rje[e])}const WV=["left","right"],GV=["right","left"],Fje=["top","bottom"],Uje=["bottom","top"];function Bje(t,e,n){switch(t){case"top":case"bottom":return n?e?GV:WV:e?WV:GV;case"left":case"right":return e?Fje:Uje;default:return[]}}function zje(t,e,n,r){const i=tw(t);let s=Bje(qh(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(s4)))),s}function lC(t){return t.replace(/left|right|bottom|top/g,e=>Oje[e])}function $je(t){return{top:0,right:0,bottom:0,left:0,...t}}function Tte(t){return typeof t!="number"?$je(t):{top:t,right:t,bottom:t,left:t}}function cC(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function qV(t,e,n){let{reference:r,floating:i}=t;const s=hd(e),o=oB(e),l=aB(o),c=qh(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(tw(e)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const Hje=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=qV(u,r,c),f=r,p={},m=0;for(let y=0;y<l.length;y++){const{name:b,fn:v}=l[y],{x:_,y:S,data:j,reset:N}=await v({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,h=S??h,p={...p,[b]:{...p[b],...j}},N&&m<=50&&(m++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:h}=qV(u,f,c)),y=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function RS(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Gh(e,t),m=Tte(p),b=l[f?h==="floating"?"reference":"floating":h],v=cC(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),_=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},N=cC(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:S,strategy:c}):_);return{top:(v.top-N.top+m.top)/j.y,bottom:(N.bottom-v.bottom+m.bottom)/j.y,left:(v.left-N.left+m.left)/j.x,right:(N.right-v.right+m.right)/j.x}}const Vje=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Gh(t,e)||{};if(u==null)return{};const h=Tte(d),f={x:n,y:r},p=oB(i),m=aB(p),y=await o.getDimensions(u),b=p==="y",v=b?"top":"left",_=b?"bottom":"right",S=b?"clientHeight":"clientWidth",j=s.reference[m]+s.reference[p]-f[p]-s.floating[m],N=f[p]-s.reference[p],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let M=A?A[S]:0;(!M||!await(o.isElement==null?void 0:o.isElement(A)))&&(M=l.floating[S]||s.floating[m]);const k=j/2-N/2,L=M/2-y[m]/2-1,O=Yp(h[v],L),I=Yp(h[_],L),U=O,W=M-y[m]-I,q=M/2-y[m]/2+k,J=i4(U,q,W),K=!c.arrow&&tw(i)!=null&&q!==J&&s.reference[m]/2-(q<U?O:I)-y[m]/2<0,ne=K?q<U?q-U:q-W:0;return{[p]:f[p]+ne,data:{[p]:J,centerOffset:q-J-ne,...K&&{alignmentOffset:ne}},reset:K}}}),Wje=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:y=!0,...b}=Gh(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=qh(i),_=hd(l),S=qh(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(S||!y?[lC(l)]:Dje(l)),A=m!=="none";!f&&A&&N.push(...zje(l,y,m,j));const M=[l,...N],k=await RS(e,b),L=[];let O=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&L.push(k[v]),h){const q=Lje(i,o,j);L.push(k[q[0]],k[q[1]])}if(O=[...O,{placement:i,overflows:L}],!L.every(q=>q<=0)){var I,U;const q=(((I=s.flip)==null?void 0:I.index)||0)+1,J=M[q];if(J&&(!(h==="alignment"?_!==hd(J):!1)||O.every($=>hd($.placement)===_?$.overflows[0]>0:!0)))return{data:{index:q,overflows:O},reset:{placement:J}};let K=(U=O.filter(ne=>ne.overflows[0]<=0).sort((ne,$)=>ne.overflows[1]-$.overflows[1])[0])==null?void 0:U.placement;if(!K)switch(p){case"bestFit":{var W;const ne=(W=O.filter($=>{if(A){const Z=hd($.placement);return Z===_||Z==="y"}return!0}).map($=>[$.placement,$.overflows.filter(Z=>Z>0).reduce((Z,B)=>Z+B,0)]).sort(($,Z)=>$[1]-Z[1])[0])==null?void 0:W[0];ne&&(K=ne);break}case"initialPlacement":K=l;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function YV(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function XV(t){return kje.some(e=>t[e]>=0)}const Gje=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Gh(t,e);switch(r){case"referenceHidden":{const s=await RS(e,{...i,elementContext:"reference"}),o=YV(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:XV(o)}}}case"escaped":{const s=await RS(e,{...i,altBoundary:!0}),o=YV(s,n.floating);return{data:{escapedOffsets:o,escaped:XV(o)}}}default:return{}}}}},Mte=new Set(["left","top"]);async function qje(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=qh(n),l=tw(n),c=hd(n)==="y",u=Mte.has(o)?-1:1,d=s&&c?-1:1,h=Gh(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof m=="number"&&(p=l==="end"?m*-1:m),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const Yje=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await qje(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},Xje=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:v,y:_}=b;return{x:v,y:_}}},...c}=Gh(t,e),u={x:n,y:r},d=await RS(e,c),h=hd(qh(i)),f=sB(h);let p=u[f],m=u[h];if(s){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",_=p+d[b],S=p-d[v];p=i4(_,p,S)}if(o){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",_=m+d[b],S=m-d[v];m=i4(_,m,S)}const y=l.fn({...e,[f]:p,[h]:m});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:s,[h]:o}}}}}},Kje=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Gh(t,e),d={x:n,y:r},h=hd(i),f=sB(h);let p=d[f],m=d[h];const y=Gh(l,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const S=f==="y"?"height":"width",j=s.reference[f]-s.floating[S]+b.mainAxis,N=s.reference[f]+s.reference[S]-b.mainAxis;p<j?p=j:p>N&&(p=N)}if(u){var v,_;const S=f==="y"?"width":"height",j=Mte.has(qh(i)),N=s.reference[h]-s.floating[S]+(j&&((v=o.offset)==null?void 0:v[h])||0)+(j?0:b.crossAxis),A=s.reference[h]+s.reference[S]+(j?0:((_=o.offset)==null?void 0:_[h])||0)-(j?b.crossAxis:0);m<N?m=N:m>A&&(m=A)}return{[f]:p,[h]:m}}}},Zje=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Gh(t,e),d=await RS(e,u),h=qh(i),f=tw(i),p=hd(i)==="y",{width:m,height:y}=s.floating;let b,v;h==="top"||h==="bottom"?(b=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,b=f==="end"?"top":"bottom");const _=y-d.top-d.bottom,S=m-d.left-d.right,j=Yp(y-d[b],_),N=Yp(m-d[v],S),A=!e.middlewareData.shift;let M=j,k=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=_),A&&!f){const O=Tl(d.left,0),I=Tl(d.right,0),U=Tl(d.top,0),W=Tl(d.bottom,0);p?k=m-2*(O!==0||I!==0?O+I:Tl(d.left,d.right)):M=y-2*(U!==0||W!==0?U+W:Tl(d.top,d.bottom))}await c({...e,availableWidth:k,availableHeight:M});const L=await o.getDimensions(l.floating);return m!==L.width||y!==L.height?{reset:{rects:!0}}:{}}}};function VP(){return typeof window<"u"}function nw(t){return Cte(t)?(t.nodeName||"").toLowerCase():"#document"}function Dl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ld(t){var e;return(e=(Cte(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Cte(t){return VP()?t instanceof Node||t instanceof Dl(t).Node:!1}function Tu(t){return VP()?t instanceof Element||t instanceof Dl(t).Element:!1}function Td(t){return VP()?t instanceof HTMLElement||t instanceof Dl(t).HTMLElement:!1}function KV(t){return!VP()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dl(t).ShadowRoot}const Qje=new Set(["inline","contents"]);function uj(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Mu(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Qje.has(i)}const Jje=new Set(["table","td","th"]);function eAe(t){return Jje.has(nw(t))}const tAe=[":popover-open",":modal"];function WP(t){return tAe.some(e=>{try{return t.matches(e)}catch{return!1}})}const nAe=["transform","translate","scale","rotate","perspective"],rAe=["transform","translate","scale","rotate","perspective","filter"],iAe=["paint","layout","strict","content"];function lB(t){const e=cB(),n=Tu(t)?Mu(t):t;return nAe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||rAe.some(r=>(n.willChange||"").includes(r))||iAe.some(r=>(n.contain||"").includes(r))}function sAe(t){let e=Xp(t);for(;Td(e)&&!ob(e);){if(lB(e))return e;if(WP(e))return null;e=Xp(e)}return null}function cB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const aAe=new Set(["html","body","#document"]);function ob(t){return aAe.has(nw(t))}function Mu(t){return Dl(t).getComputedStyle(t)}function GP(t){return Tu(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xp(t){if(nw(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KV(t)&&t.host||Ld(t);return KV(e)?e.host:e}function Pte(t){const e=Xp(t);return ob(e)?t.ownerDocument?t.ownerDocument.body:t.body:Td(e)&&uj(e)?e:Pte(e)}function IS(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Pte(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Dl(i);if(s){const l=a4(o);return e.concat(o,o.visualViewport||[],uj(i)?i:[],l&&n?IS(l):[])}return e.concat(i,IS(i,[],n))}function a4(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kte(t){const e=Mu(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Td(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=oC(n)!==s||oC(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function uB(t){return Tu(t)?t:t.contextElement}function j0(t){const e=uB(t);if(!Td(e))return wd(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=kte(e);let o=(s?oC(n.width):n.width)/r,l=(s?oC(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const oAe=wd(0);function Ote(t){const e=Dl(t);return!cB()||!e.visualViewport?oAe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lAe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Dl(t)?!1:e}function zy(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=uB(t);let o=wd(1);e&&(r?Tu(r)&&(o=j0(r)):o=j0(t));const l=lAe(s,n,r)?Ote(s):wd(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=Dl(s),p=r&&Tu(r)?Dl(r):r;let m=f,y=a4(m);for(;y&&r&&p!==m;){const b=j0(y),v=y.getBoundingClientRect(),_=Mu(y),S=v.left+(y.clientLeft+parseFloat(_.paddingLeft))*b.x,j=v.top+(y.clientTop+parseFloat(_.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=S,u+=j,m=Dl(y),y=a4(m)}}return cC({width:d,height:h,x:c,y:u})}function qP(t,e){const n=GP(t).scrollLeft;return e?e.left+n:zy(Ld(t)).left+n}function Rte(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-qP(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function cAe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Ld(r),l=e?WP(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=wd(1);const d=wd(0),h=Td(r);if((h||!h&&!s)&&((nw(r)!=="body"||uj(o))&&(c=GP(r)),Td(r))){const p=zy(r);u=j0(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!s?Rte(o,c):wd(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function uAe(t){return Array.from(t.getClientRects())}function dAe(t){const e=Ld(t),n=GP(t),r=t.ownerDocument.body,i=Tl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Tl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+qP(t);const l=-n.scrollTop;return Mu(r).direction==="rtl"&&(o+=Tl(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}const ZV=25;function hAe(t,e){const n=Dl(t),r=Ld(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=cB();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=qP(r);if(u<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(r.clientWidth-h.clientWidth-p);m<=ZV&&(s-=m)}else u<=ZV&&(s+=u);return{width:s,height:o,x:l,y:c}}const fAe=new Set(["absolute","fixed"]);function pAe(t,e){const n=zy(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Td(t)?j0(t):wd(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:l,x:c,y:u}}function QV(t,e,n){let r;if(e==="viewport")r=hAe(t,n);else if(e==="document")r=dAe(Ld(t));else if(Tu(e))r=pAe(e,n);else{const i=Ote(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return cC(r)}function Ite(t,e){const n=Xp(t);return n===e||!Tu(n)||ob(n)?!1:Mu(n).position==="fixed"||Ite(n,e)}function mAe(t,e){const n=e.get(t);if(n)return n;let r=IS(t,[],!1).filter(l=>Tu(l)&&nw(l)!=="body"),i=null;const s=Mu(t).position==="fixed";let o=s?Xp(t):t;for(;Tu(o)&&!ob(o);){const l=Mu(o),c=lB(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&fAe.has(i.position)||uj(o)&&!c&&Ite(t,o))?r=r.filter(d=>d!==o):i=l,o=Xp(o)}return e.set(t,r),r}function gAe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?WP(e)?[]:mAe(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=QV(e,d,i);return u.top=Tl(h.top,u.top),u.right=Yp(h.right,u.right),u.bottom=Yp(h.bottom,u.bottom),u.left=Tl(h.left,u.left),u},QV(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function yAe(t){const{width:e,height:n}=kte(t);return{width:e,height:n}}function vAe(t,e,n){const r=Td(e),i=Ld(e),s=n==="fixed",o=zy(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=wd(0);function u(){c.x=qP(i)}if(r||!r&&!s)if((nw(e)!=="body"||uj(i))&&(l=GP(e)),r){const p=zy(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?Rte(i,l):wd(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function pI(t){return Mu(t).position==="static"}function JV(t,e){if(!Td(t)||Mu(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ld(t)===n&&(n=n.ownerDocument.body),n}function Lte(t,e){const n=Dl(t);if(WP(t))return n;if(!Td(t)){let i=Xp(t);for(;i&&!ob(i);){if(Tu(i)&&!pI(i))return i;i=Xp(i)}return n}let r=JV(t,e);for(;r&&eAe(r)&&pI(r);)r=JV(r,e);return r&&ob(r)&&pI(r)&&!lB(r)?n:r||sAe(t)||n}const xAe=async function(t){const e=this.getOffsetParent||Lte,n=this.getDimensions,r=await n(t.floating);return{reference:vAe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bAe(t){return Mu(t).direction==="rtl"}const wAe={convertOffsetParentRelativeRectToViewportRelativeRect:cAe,getDocumentElement:Ld,getClippingRect:gAe,getOffsetParent:Lte,getElementRects:xAe,getClientRects:uAe,getDimensions:yAe,getScale:j0,isElement:Tu,isRTL:bAe};function Dte(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _Ae(t,e){let n=null,r;const i=Ld(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||e(),!f||!p)return;const m=NN(h),y=NN(i.clientWidth-(d+f)),b=NN(i.clientHeight-(h+p)),v=NN(d),S={rootMargin:-m+"px "+-y+"px "+-b+"px "+-v+"px",threshold:Tl(0,Yp(1,c))||1};let j=!0;function N(A){const M=A[0].intersectionRatio;if(M!==c){if(!j)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!Dte(u,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(N,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,S)}n.observe(t)}return o(!0),s}function SAe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=uB(t),d=i||s?[...u?IS(u):[],...IS(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const h=u&&l?_Ae(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(v=>{let[_]=v;_&&_.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let m,y=c?zy(t):null;c&&b();function b(){const v=zy(t);y&&!Dte(y,v)&&n(),y=v,m=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const EAe=Yje,jAe=Xje,AAe=Wje,NAe=Zje,TAe=Gje,eW=Vje,MAe=Kje,CAe=(t,e,n)=>{const r=new Map,i={platform:wAe,...n},s={...i.platform,_c:r};return Hje(t,e,{...i,platform:s})};var PAe=typeof document<"u",kAe=function(){},fM=PAe?C.useLayoutEffect:kAe;function uC(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!uC(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!uC(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Fte(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tW(t,e){const n=Fte(t);return Math.round(e*n)/n}function mI(t){const e=C.useRef(t);return fM(()=>{e.current=t}),e}function OAe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=C.useState(r);uC(f,r)||p(r);const[m,y]=C.useState(null),[b,v]=C.useState(null),_=C.useCallback($=>{$!==A.current&&(A.current=$,y($))},[]),S=C.useCallback($=>{$!==M.current&&(M.current=$,v($))},[]),j=s||m,N=o||b,A=C.useRef(null),M=C.useRef(null),k=C.useRef(d),L=c!=null,O=mI(c),I=mI(i),U=mI(u),W=C.useCallback(()=>{if(!A.current||!M.current)return;const $={placement:e,strategy:n,middleware:f};I.current&&($.platform=I.current),CAe(A.current,M.current,$).then(Z=>{const B={...Z,isPositioned:U.current!==!1};q.current&&!uC(k.current,B)&&(k.current=B,Yb.flushSync(()=>{h(B)}))})},[f,e,n,I,U]);fM(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[u]);const q=C.useRef(!1);fM(()=>(q.current=!0,()=>{q.current=!1}),[]),fM(()=>{if(j&&(A.current=j),N&&(M.current=N),j&&N){if(O.current)return O.current(j,N,W);W()}},[j,N,W,O,L]);const J=C.useMemo(()=>({reference:A,floating:M,setReference:_,setFloating:S}),[_,S]),K=C.useMemo(()=>({reference:j,floating:N}),[j,N]),ne=C.useMemo(()=>{const $={position:n,left:0,top:0};if(!K.floating)return $;const Z=tW(K.floating,d.x),B=tW(K.floating,d.y);return l?{...$,transform:"translate("+Z+"px, "+B+"px)",...Fte(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:B}},[n,l,K.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:W,refs:J,elements:K,floatingStyles:ne}),[d,W,J,K,ne])}const RAe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?eW({element:r.current,padding:i}).fn(n):{}:r?eW({element:r,padding:i}).fn(n):{}}}},IAe=(t,e)=>({...EAe(t),options:[t,e]}),LAe=(t,e)=>({...jAe(t),options:[t,e]}),DAe=(t,e)=>({...MAe(t),options:[t,e]}),FAe=(t,e)=>({...AAe(t),options:[t,e]}),UAe=(t,e)=>({...NAe(t),options:[t,e]}),BAe=(t,e)=>({...TAe(t),options:[t,e]}),zAe=(t,e)=>({...RAe(t),options:[t,e]});var $Ae="Arrow",Ute=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return a.jsx(Fn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ute.displayName=$Ae;var HAe=Ute;function dB(t){const[e,n]=C.useState(void 0);return Gs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var hB="Popper",[Bte,YP]=Rc(hB),[VAe,zte]=Bte(hB),$te=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return a.jsx(VAe,{scope:e,anchor:r,onAnchorChange:i,children:n})};$te.displayName=hB;var Hte="PopperAnchor",Vte=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=zte(Hte,n),o=C.useRef(null),l=Kr(e,o),c=C.useRef(null);return C.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:a.jsx(Fn.div,{...i,ref:l})});Vte.displayName=Hte;var fB="PopperContent",[WAe,GAe]=Bte(fB),Wte=C.forwardRef((t,e)=>{var Ce,tt,Fe,Ve,Ue,he;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...y}=t,b=zte(fB,n),[v,_]=C.useState(null),S=Kr(e,te=>_(te)),[j,N]=C.useState(null),A=dB(j),M=(A==null?void 0:A.width)??0,k=(A==null?void 0:A.height)??0,L=r+(s!=="center"?"-"+s:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],U=I.length>0,W={padding:O,boundary:I.filter(YAe),altBoundary:U},{refs:q,floatingStyles:J,placement:K,isPositioned:ne,middlewareData:$}=OAe({strategy:"fixed",placement:L,whileElementsMounted:(...te)=>SAe(...te,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[IAe({mainAxis:i+k,alignmentAxis:o}),c&&LAe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?DAe():void 0,...W}),c&&FAe({...W}),UAe({...W,apply:({elements:te,rects:ze,availableWidth:nt,availableHeight:Je})=>{const{width:rt,height:Pt}=ze.reference,bt=te.floating.style;bt.setProperty("--radix-popper-available-width",`${nt}px`),bt.setProperty("--radix-popper-available-height",`${Je}px`),bt.setProperty("--radix-popper-anchor-width",`${rt}px`),bt.setProperty("--radix-popper-anchor-height",`${Pt}px`)}}),j&&zAe({element:j,padding:l}),XAe({arrowWidth:M,arrowHeight:k}),f&&BAe({strategy:"referenceHidden",...W})]}),[Z,B]=Yte(K),ce=Wh(m);Gs(()=>{ne&&(ce==null||ce())},[ne,ce]);const fe=(Ce=$.arrow)==null?void 0:Ce.x,Q=(tt=$.arrow)==null?void 0:tt.y,xe=((Fe=$.arrow)==null?void 0:Fe.centerOffset)!==0,[ke,Re]=C.useState();return Gs(()=>{v&&Re(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ne?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Ve=$.transformOrigin)==null?void 0:Ve.x,(Ue=$.transformOrigin)==null?void 0:Ue.y].join(" "),...((he=$.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(WAe,{scope:n,placedSide:Z,onArrowChange:N,arrowX:fe,arrowY:Q,shouldHideArrow:xe,children:a.jsx(Fn.div,{"data-side":Z,"data-align":B,...y,ref:S,style:{...y.style,animation:ne?void 0:"none"}})})})});Wte.displayName=fB;var Gte="PopperArrow",qAe={top:"bottom",right:"left",bottom:"top",left:"right"},qte=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=GAe(Gte,r),o=qAe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(HAe,{...i,ref:n,style:{...i.style,display:"block"}})})});qte.displayName=Gte;function YAe(t){return t!==null}var XAe=t=>({name:"transformOrigin",options:t,fn(e){var b,v,_;const{placement:n,rects:r,middlewareData:i}=e,o=((b=i.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=Yte(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,p=(((_=i.arrow)==null?void 0:_.y)??0)+c/2;let m="",y="";return u==="bottom"?(m=o?h:`${f}px`,y=`${-c}px`):u==="top"?(m=o?h:`${f}px`,y=`${r.floating.height+c}px`):u==="right"?(m=`${-c}px`,y=o?h:`${p}px`):u==="left"&&(m=`${r.floating.width+c}px`,y=o?h:`${p}px`),{data:{x:m,y}}}});function Yte(t){const[e,n="center"]=t.split("-");return[e,n]}var Xte=$te,pB=Vte,Kte=Wte,Zte=qte,KAe="Portal",XP=C.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=C.useState(!1);Gs(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?fJ.createPortal(a.jsx(Fn.div,{...r,ref:e}),o):null});XP.displayName=KAe;var ZAe=RU[" useInsertionEffect ".trim().toString()]||Gs;function Kp({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=QAe({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const d=C.useRef(t!==void 0);C.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=C.useCallback(d=>{var h;if(l){const f=JAe(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else s(d)},[l,t,s,o]);return[c,u]}function QAe({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),i=C.useRef(n),s=C.useRef(e);return ZAe(()=>{s.current=e},[e]),C.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function JAe(t){return typeof t=="function"}function mB(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Qte=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),eNe="VisuallyHidden",tNe=C.forwardRef((t,e)=>a.jsx(Fn.span,{...t,ref:e,style:{...Qte,...t.style}}));tNe.displayName=eNe;var nNe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},dx=new WeakMap,TN=new WeakMap,MN={},gI=0,Jte=function(t){return t&&(t.host||Jte(t.parentNode))},rNe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Jte(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},iNe=function(t,e,n,r){var i=rNe(e,Array.isArray(t)?t:[t]);MN[n]||(MN[n]=new WeakMap);var s=MN[n],o=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),m=p!==null&&p!=="false",y=(dx.get(f)||0)+1,b=(s.get(f)||0)+1;dx.set(f,y),s.set(f,b),o.push(f),y===1&&m&&TN.set(f,!0),b===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(e),l.clear(),gI++,function(){o.forEach(function(h){var f=dx.get(h)-1,p=s.get(h)-1;dx.set(h,f),s.set(h,p),f||(TN.has(h)||h.removeAttribute(r),TN.delete(h)),p||h.removeAttribute(n)}),gI--,gI||(dx=new WeakMap,dx=new WeakMap,TN=new WeakMap,MN={})}},gB=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=nNe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),iNe(r,i,n,"aria-hidden")):function(){return null}},pM="right-scroll-bar-position",mM="width-before-scroll-bar",sNe="with-scroll-bars-hidden",aNe="--removed-body-scroll-bar-size";function yI(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function oNe(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var lNe=typeof window<"u"?C.useLayoutEffect:C.useEffect,nW=new WeakMap;function cNe(t,e){var n=oNe(null,function(r){return t.forEach(function(i){return yI(i,r)})});return lNe(function(){var r=nW.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||yI(l,null)}),s.forEach(function(l){i.has(l)||yI(l,o)})}nW.set(n,t)},[t]),n}function uNe(t){return t}function dNe(t,e){e===void 0&&(e=uNe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function hNe(t){t===void 0&&(t={});var e=dNe(null);return e.options=bc({async:!0,ssr:!1},t),e}var ene=function(t){var e=t.sideCar,n=um(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,bc({},n))};ene.isSideCarExport=!0;function fNe(t,e){return t.useMedium(e),ene}var tne=hNe(),vI=function(){},KP=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:vI,onWheelCapture:vI,onTouchMoveCapture:vI}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,m=t.noIsolation,y=t.inert,b=t.allowPinchZoom,v=t.as,_=v===void 0?"div":v,S=t.gapMode,j=um(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,A=cNe([n,e]),M=bc(bc({},j),i);return C.createElement(C.Fragment,null,d&&C.createElement(N,{sideCar:tne,removeScrollBar:u,shards:h,noRelative:p,noIsolation:m,inert:y,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:S}),o?C.cloneElement(C.Children.only(l),bc(bc({},M),{ref:A})):C.createElement(_,bc({},M,{className:c,ref:A}),l))});KP.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};KP.classNames={fullWidth:mM,zeroRight:pM};var pNe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mNe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pNe();return e&&t.setAttribute("nonce",e),t}function gNe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yNe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vNe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=mNe())&&(gNe(e,n),yNe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xNe=function(){var t=vNe();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},nne=function(){var t=xNe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},bNe={left:0,top:0,right:0,gap:0},xI=function(t){return parseInt(t||"",10)||0},wNe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[xI(n),xI(r),xI(i)]},_Ne=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return bNe;var e=wNe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},SNe=nne(),A0="data-scroll-locked",ENe=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(sNe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(A0,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pM,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(mM,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(pM," .").concat(pM,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mM," .").concat(mM,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(A0,`] {
    `).concat(aNe,": ").concat(l,`px;
  }
`)},rW=function(){var t=parseInt(document.body.getAttribute(A0)||"0",10);return isFinite(t)?t:0},jNe=function(){C.useEffect(function(){return document.body.setAttribute(A0,(rW()+1).toString()),function(){var t=rW()-1;t<=0?document.body.removeAttribute(A0):document.body.setAttribute(A0,t.toString())}},[])},ANe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;jNe();var s=C.useMemo(function(){return _Ne(i)},[i]);return C.createElement(SNe,{styles:ENe(s,!e,i,n?"":"!important")})},o4=!1;if(typeof window<"u")try{var CN=Object.defineProperty({},"passive",{get:function(){return o4=!0,!0}});window.addEventListener("test",CN,CN),window.removeEventListener("test",CN,CN)}catch{o4=!1}var hx=o4?{passive:!1}:!1,NNe=function(t){return t.tagName==="TEXTAREA"},rne=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!NNe(t)&&n[e]==="visible")},TNe=function(t){return rne(t,"overflowY")},MNe=function(t){return rne(t,"overflowX")},iW=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=ine(t,r);if(i){var s=sne(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},CNe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},PNe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ine=function(t,e){return t==="v"?TNe(e):MNe(e)},sne=function(t,e){return t==="v"?CNe(e):PNe(e)},kNe=function(t,e){return t==="h"&&e==="rtl"?-1:1},ONe=function(t,e,n,r,i){var s=kNe(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var p=sne(t,l),m=p[0],y=p[1],b=p[2],v=y-b-s*m;(m||v)&&ine(t,l)&&(h+=v,f+=m);var _=l.parentNode;l=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},PN=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},sW=function(t){return[t.deltaX,t.deltaY]},aW=function(t){return t&&"current"in t?t.current:t},RNe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},INe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},LNe=0,fx=[];function DNe(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(LNe++)[0],s=C.useState(nne)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=D5([t.lockRef.current],(t.shards||[]).map(aW),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=C.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=PN(y),_=n.current,S="deltaX"in y?y.deltaX:_[0]-v[0],j="deltaY"in y?y.deltaY:_[1]-v[1],N,A=y.target,M=Math.abs(S)>Math.abs(j)?"h":"v";if("touches"in y&&M==="h"&&A.type==="range")return!1;var k=iW(M,A);if(!k)return!0;if(k?N=M:(N=M==="v"?"h":"v",k=iW(M,A)),!k)return!1;if(!r.current&&"changedTouches"in y&&(S||j)&&(r.current=N),!N)return!0;var L=r.current||N;return ONe(L,b,y,L==="h"?S:j)},[]),c=C.useCallback(function(y){var b=y;if(!(!fx.length||fx[fx.length-1]!==s)){var v="deltaY"in b?sW(b):PN(b),_=e.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&RNe(N.delta,v)})[0];if(_&&_.should){b.cancelable&&b.preventDefault();return}if(!_){var S=(o.current.shards||[]).map(aW).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=S.length>0?l(b,S[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=C.useCallback(function(y,b,v,_){var S={name:y,delta:b,target:v,should:_,shadowParent:FNe(v)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(j){return j!==S})},1)},[]),d=C.useCallback(function(y){n.current=PN(y),r.current=void 0},[]),h=C.useCallback(function(y){u(y.type,sW(y),y.target,l(y,t.lockRef.current))},[]),f=C.useCallback(function(y){u(y.type,PN(y),y.target,l(y,t.lockRef.current))},[]);C.useEffect(function(){return fx.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,hx),document.addEventListener("touchmove",c,hx),document.addEventListener("touchstart",d,hx),function(){fx=fx.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,hx),document.removeEventListener("touchmove",c,hx),document.removeEventListener("touchstart",d,hx)}},[]);var p=t.removeScrollBar,m=t.inert;return C.createElement(C.Fragment,null,m?C.createElement(s,{styles:INe(i)}):null,p?C.createElement(ANe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function FNe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const UNe=fNe(tne,DNe);var ZP=C.forwardRef(function(t,e){return C.createElement(KP,bc({},t,{ref:e,sideCar:UNe}))});ZP.classNames=KP.classNames;var BNe=[" ","Enter","ArrowUp","ArrowDown"],zNe=[" ","Enter"],$y="Select",[QP,JP,$Ne]=Ete($y),[rw]=Rc($y,[$Ne,YP]),ek=YP(),[HNe,pm]=rw($y),[VNe,WNe]=rw($y),ane=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:m}=t,y=ek(e),[b,v]=C.useState(null),[_,S]=C.useState(null),[j,N]=C.useState(!1),A=rB(u),[M,k]=Kp({prop:r,defaultProp:i??!1,onChange:s,caller:$y}),[L,O]=Kp({prop:o,defaultProp:l,onChange:c,caller:$y}),I=C.useRef(null),U=b?m||!!b.closest("form"):!0,[W,q]=C.useState(new Set),J=Array.from(W).map(K=>K.props.value).join(";");return a.jsx(Xte,{...y,children:a.jsxs(HNe,{required:p,scope:e,trigger:b,onTriggerChange:v,valueNode:_,onValueNodeChange:S,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Ph(),value:L,onValueChange:O,open:M,onOpenChange:k,dir:A,triggerPointerDownPosRef:I,disabled:f,children:[a.jsx(QP.Provider,{scope:e,children:a.jsx(VNe,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(K=>{q(ne=>new Set(ne).add(K))},[]),onNativeOptionRemove:C.useCallback(K=>{q(ne=>{const $=new Set(ne);return $.delete(K),$})},[]),children:n})}),U?a.jsxs(Cne,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:L,onChange:K=>O(K.target.value),disabled:f,form:m,children:[L===void 0?a.jsx("option",{value:""}):null,Array.from(W)]},J):null]})})};ane.displayName=$y;var one="SelectTrigger",lne=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=ek(n),o=pm(one,n),l=o.disabled||r,c=Kr(e,o.onTriggerChange),u=JP(n),d=C.useRef("touch"),[h,f,p]=kne(y=>{const b=u().filter(S=>!S.disabled),v=b.find(S=>S.value===o.value),_=One(b,y,v);_!==void 0&&o.onValueChange(_.value)}),m=y=>{l||(o.onOpenChange(!0),p()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(pB,{asChild:!0,...s,children:a.jsx(Fn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Pne(o.value)?"":void 0,...i,ref:c,onClick:Yn(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&m(y)}),onPointerDown:Yn(i.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(m(y),y.preventDefault())}),onKeyDown:Yn(i.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(b&&y.key===" ")&&BNe.includes(y.key)&&(m(),y.preventDefault())})})})});lne.displayName=one;var cne="SelectValue",une=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,c=pm(cne,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,h=Kr(e,c.onValueNodeChange);return Gs(()=>{u(d)},[u,d]),a.jsx(Fn.span,{...l,ref:h,style:{pointerEvents:"none"},children:Pne(c.value)?a.jsx(a.Fragment,{children:o}):s})});une.displayName=cne;var GNe="SelectIcon",dne=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return a.jsx(Fn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});dne.displayName=GNe;var qNe="SelectPortal",hne=t=>a.jsx(XP,{asChild:!0,...t});hne.displayName=qNe;var Hy="SelectContent",fne=C.forwardRef((t,e)=>{const n=pm(Hy,t.__scopeSelect),[r,i]=C.useState();if(Gs(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Yb.createPortal(a.jsx(pne,{scope:t.__scopeSelect,children:a.jsx(QP.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(mne,{...t,ref:e})});fne.displayName=Hy;var iu=10,[pne,mm]=rw(Hy),YNe="SelectContentImpl",XNe=By("SelectContent.RemoveScroll"),mne=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:y,avoidCollisions:b,...v}=t,_=pm(Hy,n),[S,j]=C.useState(null),[N,A]=C.useState(null),M=Kr(e,Ce=>j(Ce)),[k,L]=C.useState(null),[O,I]=C.useState(null),U=JP(n),[W,q]=C.useState(!1),J=C.useRef(!1);C.useEffect(()=>{if(S)return gB(S)},[S]),iB();const K=C.useCallback(Ce=>{const[tt,...Fe]=U().map(he=>he.ref.current),[Ve]=Fe.slice(-1),Ue=document.activeElement;for(const he of Ce)if(he===Ue||(he==null||he.scrollIntoView({block:"nearest"}),he===tt&&N&&(N.scrollTop=0),he===Ve&&N&&(N.scrollTop=N.scrollHeight),he==null||he.focus(),document.activeElement!==Ue))return},[U,N]),ne=C.useCallback(()=>K([k,S]),[K,k,S]);C.useEffect(()=>{W&&ne()},[W,ne]);const{onOpenChange:$,triggerPointerDownPosRef:Z}=_;C.useEffect(()=>{if(S){let Ce={x:0,y:0};const tt=Ve=>{var Ue,he;Ce={x:Math.abs(Math.round(Ve.pageX)-(((Ue=Z.current)==null?void 0:Ue.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((he=Z.current)==null?void 0:he.y)??0))}},Fe=Ve=>{Ce.x<=10&&Ce.y<=10?Ve.preventDefault():S.contains(Ve.target)||$(!1),document.removeEventListener("pointermove",tt),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",tt),document.addEventListener("pointerup",Fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",tt),document.removeEventListener("pointerup",Fe,{capture:!0})}}},[S,$,Z]),C.useEffect(()=>{const Ce=()=>$(!1);return window.addEventListener("blur",Ce),window.addEventListener("resize",Ce),()=>{window.removeEventListener("blur",Ce),window.removeEventListener("resize",Ce)}},[$]);const[B,ce]=kne(Ce=>{const tt=U().filter(Ue=>!Ue.disabled),Fe=tt.find(Ue=>Ue.ref.current===document.activeElement),Ve=One(tt,Ce,Fe);Ve&&setTimeout(()=>Ve.ref.current.focus())}),fe=C.useCallback((Ce,tt,Fe)=>{const Ve=!J.current&&!Fe;(_.value!==void 0&&_.value===tt||Ve)&&(L(Ce),Ve&&(J.current=!0))},[_.value]),Q=C.useCallback(()=>S==null?void 0:S.focus(),[S]),xe=C.useCallback((Ce,tt,Fe)=>{const Ve=!J.current&&!Fe;(_.value!==void 0&&_.value===tt||Ve)&&I(Ce)},[_.value]),ke=r==="popper"?l4:gne,Re=ke===l4?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:y,avoidCollisions:b}:{};return a.jsx(pne,{scope:n,content:S,viewport:N,onViewportChange:A,itemRefCallback:fe,selectedItem:k,onItemLeave:Q,itemTextRefCallback:xe,focusSelectedItem:ne,selectedItemText:O,position:r,isPositioned:W,searchRef:B,children:a.jsx(ZP,{as:XNe,allowPinchZoom:!0,children:a.jsx(HP,{asChild:!0,trapped:_.open,onMountAutoFocus:Ce=>{Ce.preventDefault()},onUnmountAutoFocus:Yn(i,Ce=>{var tt;(tt=_.trigger)==null||tt.focus({preventScroll:!0}),Ce.preventDefault()}),children:a.jsx($P,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Ce=>Ce.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:a.jsx(ke,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Ce=>Ce.preventDefault(),...v,...Re,onPlaced:()=>q(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Yn(v.onKeyDown,Ce=>{const tt=Ce.ctrlKey||Ce.altKey||Ce.metaKey;if(Ce.key==="Tab"&&Ce.preventDefault(),!tt&&Ce.key.length===1&&ce(Ce.key),["ArrowUp","ArrowDown","Home","End"].includes(Ce.key)){let Ve=U().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(Ce.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ce.key)){const Ue=Ce.target,he=Ve.indexOf(Ue);Ve=Ve.slice(he+1)}setTimeout(()=>K(Ve)),Ce.preventDefault()}})})})})})})});mne.displayName=YNe;var KNe="SelectItemAlignedPosition",gne=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=pm(Hy,n),o=mm(Hy,n),[l,c]=C.useState(null),[u,d]=C.useState(null),h=Kr(e,M=>d(M)),f=JP(n),p=C.useRef(!1),m=C.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:v,focusSelectedItem:_}=o,S=C.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&y&&b&&v){const M=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),L=s.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(s.dir!=="rtl"){const Ue=O.left-k.left,he=L.left-Ue,te=M.left-he,ze=M.width+te,nt=Math.max(ze,k.width),Je=window.innerWidth-iu,rt=DV(he,[iu,Math.max(iu,Je-nt)]);l.style.minWidth=ze+"px",l.style.left=rt+"px"}else{const Ue=k.right-O.right,he=window.innerWidth-L.right-Ue,te=window.innerWidth-M.right-he,ze=M.width+te,nt=Math.max(ze,k.width),Je=window.innerWidth-iu,rt=DV(he,[iu,Math.max(iu,Je-nt)]);l.style.minWidth=ze+"px",l.style.right=rt+"px"}const I=f(),U=window.innerHeight-iu*2,W=y.scrollHeight,q=window.getComputedStyle(u),J=parseInt(q.borderTopWidth,10),K=parseInt(q.paddingTop,10),ne=parseInt(q.borderBottomWidth,10),$=parseInt(q.paddingBottom,10),Z=J+K+W+$+ne,B=Math.min(b.offsetHeight*5,Z),ce=window.getComputedStyle(y),fe=parseInt(ce.paddingTop,10),Q=parseInt(ce.paddingBottom,10),xe=M.top+M.height/2-iu,ke=U-xe,Re=b.offsetHeight/2,Ce=b.offsetTop+Re,tt=J+K+Ce,Fe=Z-tt;if(tt<=xe){const Ue=I.length>0&&b===I[I.length-1].ref.current;l.style.bottom="0px";const he=u.clientHeight-y.offsetTop-y.offsetHeight,te=Math.max(ke,Re+(Ue?Q:0)+he+ne),ze=tt+te;l.style.height=ze+"px"}else{const Ue=I.length>0&&b===I[0].ref.current;l.style.top="0px";const te=Math.max(xe,J+y.offsetTop+(Ue?fe:0)+Re)+Fe;l.style.height=te+"px",y.scrollTop=tt-xe+y.offsetTop}l.style.margin=`${iu}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,s.trigger,s.valueNode,l,u,y,b,v,s.dir,r]);Gs(()=>S(),[S]);const[j,N]=C.useState();Gs(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const A=C.useCallback(M=>{M&&m.current===!0&&(S(),_==null||_(),m.current=!1)},[S,_]);return a.jsx(QNe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:A,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(Fn.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});gne.displayName=KNe;var ZNe="SelectPopperPosition",l4=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=iu,...s}=t,o=ek(n);return a.jsx(Kte,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});l4.displayName=ZNe;var[QNe,yB]=rw(Hy,{}),c4="SelectViewport",yne=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=mm(c4,n),o=yB(c4,n),l=Kr(e,s.onViewportChange),c=C.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(QP.Slot,{scope:n,children:a.jsx(Fn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Yn(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const m=window.innerHeight-iu*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),v=Math.max(y,b);if(v<m){const _=v+p,S=Math.min(m,_),j=_-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});yne.displayName=c4;var vne="SelectGroup",[JNe,eTe]=rw(vne),tTe=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ph();return a.jsx(JNe,{scope:n,id:i,children:a.jsx(Fn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});tTe.displayName=vne;var xne="SelectLabel",bne=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=eTe(xne,n);return a.jsx(Fn.div,{id:i.id,...r,ref:e})});bne.displayName=xne;var dC="SelectItem",[nTe,wne]=rw(dC),_ne=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=pm(dC,n),c=mm(dC,n),u=l.value===r,[d,h]=C.useState(s??""),[f,p]=C.useState(!1),m=Kr(e,_=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,_,r,i)}),y=Ph(),b=C.useRef("touch"),v=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(nTe,{scope:n,value:r,disabled:i,textId:y,isSelected:u,onItemTextChange:C.useCallback(_=>{h(S=>S||((_==null?void 0:_.textContent)??"").trim())},[]),children:a.jsx(QP.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:a.jsx(Fn.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:Yn(o.onFocus,()=>p(!0)),onBlur:Yn(o.onBlur,()=>p(!1)),onClick:Yn(o.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:Yn(o.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:Yn(o.onPointerDown,_=>{b.current=_.pointerType}),onPointerMove:Yn(o.onPointerMove,_=>{var S;b.current=_.pointerType,i?(S=c.onItemLeave)==null||S.call(c):b.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Yn(o.onPointerLeave,_=>{var S;_.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:Yn(o.onKeyDown,_=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&_.key===" "||(zNe.includes(_.key)&&v(),_.key===" "&&_.preventDefault())})})})})});_ne.displayName=dC;var w1="SelectItemText",Sne=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=pm(w1,n),l=mm(w1,n),c=wne(w1,n),u=WNe(w1,n),[d,h]=C.useState(null),f=Kr(e,v=>h(v),c.onItemTextChange,v=>{var _;return(_=l.itemTextRefCallback)==null?void 0:_.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,m=C.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return Gs(()=>(y(m),()=>b(m)),[y,b,m]),a.jsxs(a.Fragment,{children:[a.jsx(Fn.span,{id:c.textId,...s,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Yb.createPortal(s.children,o.valueNode):null]})});Sne.displayName=w1;var Ene="SelectItemIndicator",jne=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return wne(Ene,n).isSelected?a.jsx(Fn.span,{"aria-hidden":!0,...r,ref:e}):null});jne.displayName=Ene;var u4="SelectScrollUpButton",Ane=C.forwardRef((t,e)=>{const n=mm(u4,t.__scopeSelect),r=yB(u4,t.__scopeSelect),[i,s]=C.useState(!1),o=Kr(e,r.onScrollButtonChange);return Gs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(Tne,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Ane.displayName=u4;var d4="SelectScrollDownButton",Nne=C.forwardRef((t,e)=>{const n=mm(d4,t.__scopeSelect),r=yB(d4,t.__scopeSelect),[i,s]=C.useState(!1),o=Kr(e,r.onScrollButtonChange);return Gs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(Tne,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Nne.displayName=d4;var Tne=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=mm("SelectScrollButton",n),o=C.useRef(null),l=JP(n),c=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),Gs(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Fn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Yn(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Yn(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Yn(i.onPointerLeave,()=>{c()})})}),rTe="SelectSeparator",Mne=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Fn.div,{"aria-hidden":!0,...r,ref:e})});Mne.displayName=rTe;var h4="SelectArrow",iTe=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ek(n),s=pm(h4,n),o=mm(h4,n);return s.open&&o.position==="popper"?a.jsx(Zte,{...i,...r,ref:e}):null});iTe.displayName=h4;var sTe="SelectBubbleInput",Cne=C.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=C.useRef(null),s=Kr(r,i),o=mB(e);return C.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[o,e]),a.jsx(Fn.select,{...n,style:{...Qte,...n.style},ref:s,defaultValue:e})});Cne.displayName=sTe;function Pne(t){return t===""||t===void 0}function kne(t){const e=Wh(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function One(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=aTe(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function aTe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var oTe=ane,Rne=lne,lTe=une,cTe=dne,uTe=hne,Ine=fne,dTe=yne,Lne=bne,Dne=_ne,hTe=Sne,fTe=jne,Fne=Ane,Une=Nne,Bne=Mne;const $n=oTe,Hn=lTe,Ln=C.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(Rne,{ref:r,className:xt("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(cTe,{asChild:!0,children:a.jsx(RP,{className:"h-4 w-4 opacity-50"})})]}));Ln.displayName=Rne.displayName;const zne=C.forwardRef(({className:t,...e},n)=>a.jsx(Fne,{ref:n,className:xt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Y5,{className:"h-4 w-4"})}));zne.displayName=Fne.displayName;const $ne=C.forwardRef(({className:t,...e},n)=>a.jsx(Une,{ref:n,className:xt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(RP,{className:"h-4 w-4"})}));$ne.displayName=Une.displayName;const Dn=C.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>a.jsx(uTe,{children:a.jsxs(Ine,{ref:i,className:xt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-gray-900 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(zne,{}),a.jsx(dTe,{className:xt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx($ne,{})]})}));Dn.displayName=Ine.displayName;const pTe=C.forwardRef(({className:t,...e},n)=>a.jsx(Lne,{ref:n,className:xt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));pTe.displayName=Lne.displayName;const Ie=C.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(Dne,{ref:r,className:xt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(fTe,{children:a.jsx(cd,{className:"h-4 w-4"})})}),a.jsx(hTe,{children:e})]}));Ie.displayName=Dne.displayName;const mTe=C.forwardRef(({className:t,...e},n)=>a.jsx(Bne,{ref:n,className:xt("-mx-1 my-1 h-px bg-gray-100",t),...e}));mTe.displayName=Bne.displayName;function gTe({limit:t=6,showSearch:e=!0,showFilters:n=!0}){const[r,i]=C.useState(""),[s,o]=C.useState("all"),{data:l=[],isLoading:c}=Xr({queryKey:["published-articles"],queryFn:async()=>{const{data:h,error:f}=await Ye.from("articles").select("*").eq("status","published").order("published_at",{ascending:!1}).limit(t);if(f)throw f;return h}}),u=["all","Real Estate Tips","Market Insights","Buying Guide","Selling Guide","Investment","Neighborhood Guides","Home Improvement","General"],d=l.filter(h=>{var m,y;const f=!r||h.title.toLowerCase().includes(r.toLowerCase())||((m=h.excerpt)==null?void 0:m.toLowerCase().includes(r.toLowerCase()))||((y=h.tags)==null?void 0:y.some(b=>b.toLowerCase().includes(r.toLowerCase()))),p=s==="all"||h.category===s;return f&&p});return a.jsx("section",{className:"py-16 bg-muted/30",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Latest Real Estate Insights"}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Expert advice, market trends, and guides to help you succeed in real estate"})]}),(e||n)&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8 max-w-4xl mx-auto",children:[e&&a.jsxs("div",{className:"relative flex-1",children:[a.jsx(av,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Yt,{placeholder:"Search articles, topics, or keywords...",value:r,onChange:h=>i(h.target.value),className:"pl-10"})]}),n&&a.jsxs($n,{value:s,onValueChange:o,children:[a.jsx(Ln,{className:"w-full sm:w-[200px]",children:a.jsx(Hn,{})}),a.jsx(Dn,{children:u.map(h=>a.jsx(Ie,{value:h,children:h==="all"?"All Categories":h},h))})]})]}),c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading articles..."})}):d.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No articles found"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:d.map(h=>{var f;return a.jsx(xn,{to:`/blog/${h.slug}`,children:a.jsxs(Qt,{className:"h-full hover:shadow-xl transition-all duration-300 cursor-pointer group",children:[h.featured_image_url&&a.jsx("div",{className:"overflow-hidden rounded-t-lg",children:a.jsx("img",{src:h.featured_image_url,alt:h.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"})}),a.jsxs(dr,{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[a.jsx(nn,{variant:"secondary",children:h.category}),(f=h.tags)==null?void 0:f.slice(0,2).map(p=>a.jsx(nn,{variant:"outline",className:"text-xs",children:p},p))]}),a.jsx(hr,{className:"line-clamp-2 group-hover:text-primary transition-colors",children:h.title}),a.jsx(qr,{className:"line-clamp-3",children:h.excerpt})]}),a.jsxs(zP,{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Eo,{className:"h-4 w-4"}),new Date(h.published_at).toLocaleDateString()]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Wa,{className:"h-4 w-4"}),h.view_count," views"]})]})]})},h.id)})}),a.jsx("div",{className:"text-center",children:a.jsx(xn,{to:"/blog",children:a.jsxs(He,{size:"lg",className:"gap-2",children:["View All Articles",a.jsx(tte,{className:"h-4 w-4"})]})})})]})]})})}function gm(){return a.jsx("header",{className:"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-50",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[a.jsxs(xn,{to:"/",className:"flex items-center gap-2",children:[a.jsx(Ci,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"AgentBio.net"})]}),a.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[a.jsx("a",{href:"/#features",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Features"}),a.jsx(xn,{to:"/blog",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Blog"}),a.jsx(xn,{to:"/pricing",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Pricing"}),a.jsx(xn,{to:"/auth/login",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Log In"}),a.jsx(xn,{to:"/auth/register",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Get Started"})]})]})})}function ym(){return a.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12 mt-auto",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[a.jsxs("div",{className:"md:col-span-1",children:[a.jsxs(xn,{to:"/",className:"flex items-center gap-2 mb-4",children:[a.jsx(Ci,{className:"h-6 w-6 text-blue-500"}),a.jsx("span",{className:"text-xl font-bold text-white",children:"AgentBio.net"})]}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Professional real estate agent portfolio links to showcase your properties and capture qualified leads."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("a",{href:"https://www.facebook.com/agentbioapp",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-500 transition-colors","aria-label":"Facebook",children:a.jsx(aj,{className:"h-5 w-5"})}),a.jsx("a",{href:"https://x.com/AgentBioApp",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-200 transition-colors","aria-label":"X (formerly Twitter)",children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),a.jsx("a",{href:"https://www.instagram.com/agentbioapp/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-pink-500 transition-colors","aria-label":"Instagram",children:a.jsx(oj,{className:"h-5 w-5"})}),a.jsx("a",{href:"https://www.linkedin.com/company/agentbio/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors","aria-label":"LinkedIn",children:a.jsx(lj,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold mb-4",children:"Product"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"/#features",className:"text-gray-400 hover:text-white transition-colors",children:"Features"})}),a.jsx("li",{children:a.jsx(xn,{to:"/pricing",className:"text-gray-400 hover:text-white transition-colors",children:"Pricing"})}),a.jsx("li",{children:a.jsx(xn,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Blog"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold mb-4",children:"Resources"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(xn,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Real Estate Tips"})}),a.jsx("li",{children:a.jsx(xn,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Market Insights"})}),a.jsx("li",{children:a.jsx(xn,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Agent Guides"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(xn,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx(xn,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"})}),a.jsx("li",{children:a.jsx(xn,{to:"/dmca",className:"text-gray-400 hover:text-white transition-colors",children:"DMCA Policy"})}),a.jsx("li",{children:a.jsx(xn,{to:"/acceptable-use",className:"text-gray-400 hover:text-white transition-colors",children:"Acceptable Use"})}),a.jsx("li",{children:a.jsx("a",{href:"mailto:legal@agentbio.net",className:"text-gray-400 hover:text-white transition-colors",children:"Legal Inquiries"})}),a.jsx("li",{children:a.jsxs("a",{href:"mailto:support@agentbio.net",className:"text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:[a.jsx(Li,{className:"h-4 w-4"}),"Support"]})})]})]})]}),a.jsxs("div",{className:"border-t border-gray-800 pt-8 pb-6",children:[a.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 text-center mb-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-white rounded p-2",children:a.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("rect",{width:"100",height:"100",fill:"white"}),a.jsx("path",{d:"M50 10L20 40H30V90H70V40H80L50 10Z",fill:"#000"}),a.jsx("rect",{x:"40",y:"50",width:"20",height:"20",fill:"white"}),a.jsx("text",{x:"50",y:"66",fontFamily:"Arial",fontSize:"20",fontWeight:"bold",fill:"#000",textAnchor:"middle",children:"="})]})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-white font-semibold text-sm",children:"Equal Housing Opportunity"}),a.jsx("p",{className:"text-gray-400 text-xs",children:"AgentBio.net is committed to fair housing compliance"})]})]})}),a.jsxs("div",{className:"space-y-3 text-xs text-gray-500 text-center max-w-4xl mx-auto",children:[a.jsx("p",{className:"font-semibold text-gray-400",children:"Important Legal Notices"}),a.jsxs("p",{children:[a.jsx("strong",{className:"text-gray-400",children:"Passive Hosting Platform:"})," AgentBio.net is a passive hosting platform and interactive computer service under 47 U.S.C.  230. We do NOT create, verify, endorse, or take responsibility for any content posted by agents, including property listings, photographs, descriptions, pricing, credentials, testimonials, or any other information."]}),a.jsxs("p",{children:[a.jsx("strong",{className:"text-gray-400",children:"Agent Responsibility:"})," All real estate agents using this platform are solely and exclusively responsible for: (1) the accuracy of all property information and credentials, (2) copyright compliance for all photos and materials they upload, (3) Fair Housing Act compliance in all listings and content, (4) obtaining photographer permissions and license authorizations, and (5) compliance with state licensing and advertising requirements in all jurisdictions where they hold licenses."]}),a.jsxs("p",{children:[a.jsx("strong",{className:"text-gray-400",children:"Fair Housing Compliance:"})," All listings must comply with the Fair Housing Act (42 U.S.C.  3604) and applicable state fair housing laws prohibiting discrimination based on race, color, religion, sex, handicap, familial status, national origin, or other protected characteristics."]}),a.jsxs("p",{children:[a.jsx("strong",{className:"text-gray-400",children:"Copyright Notice:"})," Violations of copyright law may result in liability, including statutory damages ranging from $750 to $150,000 per work. Users who receive three valid DMCA notices within 12 months will have their accounts permanently terminated. See our DMCA Policy for details."]}),a.jsxs("p",{className:"pt-2",children:["For complete terms, please review our ",a.jsx(xn,{to:"/terms",className:"text-blue-400 hover:text-blue-300",children:"Terms of Service"}),", "," ",a.jsx(xn,{to:"/privacy",className:"text-blue-400 hover:text-blue-300",children:"Privacy Policy"}),", and "," ",a.jsx(xn,{to:"/dmca",className:"text-blue-400 hover:text-blue-300",children:"DMCA Policy"}),"."]})]})]}),a.jsx("div",{className:"border-t border-gray-800 pt-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("p",{className:"text-sm text-center md:text-left text-gray-400",children:[" ",new Date().getFullYear()," AgentBio.net. All rights reserved."]}),a.jsxs("div",{className:"flex gap-4 text-sm flex-wrap justify-center",children:[a.jsx(xn,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy"}),a.jsx("span",{className:"text-gray-600",children:""}),a.jsx(xn,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms"}),a.jsx("span",{className:"text-gray-600",children:""}),a.jsx(xn,{to:"/dmca",className:"text-gray-400 hover:text-white transition-colors",children:"DMCA"}),a.jsx("span",{className:"text-gray-600",children:""}),a.jsx(xn,{to:"/acceptable-use",className:"text-gray-400 hover:text-white transition-colors",children:"Acceptable Use"})]})]})})]})})}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const iw="169",Pg={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},kg={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Hne=0,f4=1,Vne=2,yTe=3,Wne=0,tk=1,F1=2,ou=3,Yh=0,xo=1,wc=2,_d=0,Ey=1,p4=2,m4=3,g4=4,Gne=5,dp=100,qne=101,Yne=102,Xne=103,Kne=104,Zne=200,Qne=201,Jne=202,ere=203,hC=204,fC=205,tre=206,nre=207,rre=208,ire=209,sre=210,are=211,ore=212,lre=213,cre=214,pC=0,mC=1,gC=2,Vy=3,yC=4,vC=5,xC=6,bC=7,dj=0,ure=1,dre=2,Sd=0,hre=1,fre=2,pre=3,vB=4,mre=5,gre=6,yre=7,y4="attached",vre="detached",Zp=300,Md=301,Qp=302,lb=303,LS=304,sw=306,DS=1e3,Cs=1001,FS=1002,fa=1003,xB=1004,vTe=1004,s0=1005,xTe=1005,Gr=1006,U1=1007,bTe=1007,fd=1008,v4=1008,Zo=1009,nk=1010,rk=1011,cb=1012,hj=1013,Cd=1014,Wi=1015,pa=1016,ik=1017,sk=1018,Wy=1020,bB=35902,wB=1021,_B=1022,ms=1023,SB=1024,EB=1025,jy=1026,Gy=1027,fj=1028,pj=1029,jB=1030,ak=1031,wTe=1032,ok=1033,B1=33776,z1=33777,$1=33778,H1=33779,wC=35840,_C=35841,SC=35842,EC=35843,jC=36196,AC=37492,NC=37496,TC=37808,MC=37809,CC=37810,PC=37811,kC=37812,OC=37813,RC=37814,IC=37815,LC=37816,DC=37817,FC=37818,UC=37819,BC=37820,zC=37821,V1=36492,$C=36494,HC=36495,AB=36283,VC=36284,WC=36285,GC=36286,xre=2200,bre=2201,wre=2202,US=2300,qC=2301,gM=2302,Qg=2400,Jg=2401,BS=2402,lk=2500,NB=2501,_Te=0,STe=1,ETe=2,_re=3200,Sre=3201,jTe=3202,ATe=3203,vm=0,Ere=1,_h="",Nl="srgb",Cc="srgb-linear",ck="display-p3",mj="display-p3-linear",zS="linear",mi="srgb",$S="rec709",HS="p3",NTe=0,Og=7680,TTe=7681,MTe=7682,CTe=7683,PTe=34055,kTe=34056,OTe=5386,RTe=512,ITe=513,LTe=514,DTe=515,FTe=516,UTe=517,BTe=518,x4=519,jre=512,Are=513,Nre=514,TB=515,Tre=516,Mre=517,Cre=518,Pre=519,VS=35044,Ay=35048,zTe=35040,$Te=35045,HTe=35049,VTe=35041,WTe=35046,GTe=35050,qTe=35042,YTe="100",b4="300 es",pd=2e3,WS=2001;let Dd=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Ra=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let oW=1234567;const Ny=Math.PI/180,ub=180/Math.PI;function Fl(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ra[t&255]+Ra[t>>8&255]+Ra[t>>16&255]+Ra[t>>24&255]+"-"+Ra[e&255]+Ra[e>>8&255]+"-"+Ra[e>>16&15|64]+Ra[e>>24&255]+"-"+Ra[n&63|128]+Ra[n>>8&255]+"-"+Ra[n>>16&255]+Ra[n>>24&255]+Ra[r&255]+Ra[r>>8&255]+Ra[r>>16&255]+Ra[r>>24&255]).toLowerCase()}function ss(t,e,n){return Math.max(e,Math.min(n,t))}function MB(t,e){return(t%e+e)%e}function XTe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function KTe(t,e,n){return t!==e?(n-t)/(e-t):0}function W1(t,e,n){return(1-n)*t+n*e}function ZTe(t,e,n,r){return W1(t,e,1-Math.exp(-n*r))}function QTe(t,e=1){return e-Math.abs(MB(t,e*2)-e)}function JTe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function eMe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function tMe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function nMe(t,e){return t+Math.random()*(e-t)}function rMe(t){return t*(.5-Math.random())}function iMe(t){t!==void 0&&(oW=t);let e=oW+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function sMe(t){return t*Ny}function aMe(t){return t*ub}function oMe(t){return(t&t-1)===0&&t!==0}function lMe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function cMe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function uMe(t,e,n,r,i){const s=Math.cos,o=Math.sin,l=s(n/2),c=o(n/2),u=s((e+r)/2),d=o((e+r)/2),h=s((e-r)/2),f=o((e-r)/2),p=s((r-e)/2),m=o((r-e)/2);switch(i){case"XYX":t.set(l*d,c*h,c*f,l*u);break;case"YZY":t.set(c*f,l*d,c*h,l*u);break;case"ZXZ":t.set(c*h,c*f,l*d,l*u);break;case"XZX":t.set(l*d,c*m,c*p,l*u);break;case"YXY":t.set(c*p,l*d,c*m,l*u);break;case"ZYZ":t.set(c*m,c*p,l*d,l*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function go(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function er(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const kre={DEG2RAD:Ny,RAD2DEG:ub,generateUUID:Fl,clamp:ss,euclideanModulo:MB,mapLinear:XTe,inverseLerp:KTe,lerp:W1,damp:ZTe,pingpong:QTe,smoothstep:JTe,smootherstep:eMe,randInt:tMe,randFloat:nMe,randFloatSpread:rMe,seededRandom:iMe,degToRad:sMe,radToDeg:aMe,isPowerOfTwo:oMe,ceilPowerOfTwo:lMe,floorPowerOfTwo:cMe,setQuaternionFromProperEuler:uMe,normalize:er,denormalize:go};class lt{constructor(e=0,n=0){lt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(ss(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Jn{constructor(e,n,r,i,s,o,l,c,u){Jn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,l,c,u)}set(e,n,r,i,s,o,l,c,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=l,d[3]=n,d[4]=s,d[5]=c,d[6]=r,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],l=r[3],c=r[6],u=r[1],d=r[4],h=r[7],f=r[2],p=r[5],m=r[8],y=i[0],b=i[3],v=i[6],_=i[1],S=i[4],j=i[7],N=i[2],A=i[5],M=i[8];return s[0]=o*y+l*_+c*N,s[3]=o*b+l*S+c*A,s[6]=o*v+l*j+c*M,s[1]=u*y+d*_+h*N,s[4]=u*b+d*S+h*A,s[7]=u*v+d*j+h*M,s[2]=f*y+p*_+m*N,s[5]=f*b+p*S+m*A,s[8]=f*v+p*j+m*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],u=e[7],d=e[8];return n*o*d-n*l*u-r*s*d+r*l*c+i*s*u-i*o*c}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=d*o-l*u,f=l*c-d*s,p=u*s-o*c,m=n*h+r*f+i*p;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/m;return e[0]=h*y,e[1]=(i*u-d*r)*y,e[2]=(l*r-i*o)*y,e[3]=f*y,e[4]=(d*n-i*c)*y,e[5]=(i*s-l*n)*y,e[6]=p*y,e[7]=(r*c-u*n)*y,e[8]=(o*n-r*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,l){const c=Math.cos(s),u=Math.sin(s);return this.set(r*c,r*u,-r*(c*o+u*l)+o+e,-i*u,i*c,-i*(-u*o+c*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(bI.makeScale(e,n)),this}rotate(e){return this.premultiply(bI.makeRotation(-e)),this}translate(e,n){return this.premultiply(bI.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const bI=new Jn;function Ore(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const dMe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function a0(t,e){return new dMe[t](e)}function GS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Rre(){const t=GS("canvas");return t.style.display="block",t}const lW={};function yM(t){t in lW||(lW[t]=!0,console.warn(t))}function hMe(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}function fMe(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function pMe(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const cW=new Jn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),uW=new Jn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),P_={[Cc]:{transfer:zS,primaries:$S,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[Nl]:{transfer:mi,primaries:$S,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[mj]:{transfer:zS,primaries:HS,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(uW),fromReference:t=>t.applyMatrix3(cW)},[ck]:{transfer:mi,primaries:HS,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(uW),fromReference:t=>t.applyMatrix3(cW).convertLinearToSRGB()}},mMe=new Set([Cc,mj]),Rr={enabled:!0,_workingColorSpace:Cc,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!mMe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=P_[e].toReference,i=P_[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return P_[t].primaries},getTransfer:function(t){return t===_h?zS:P_[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(P_[e].luminanceCoefficients)}};function N0(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function wI(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let px;class Ire{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{px===void 0&&(px=GS("canvas")),px.width=e.width,px.height=e.height;const r=px.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=px}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=GS("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=N0(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(N0(n[r]/255)*255):n[r]=N0(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let gMe=0;class ey{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:gMe++}),this.uuid=Fl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,l=i.length;o<l;o++)i[o].isDataTexture?s.push(_I(i[o].image)):s.push(_I(i[o]))}else s=_I(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function _I(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Ire.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yMe=0;class ii extends Dd{constructor(e=ii.DEFAULT_IMAGE,n=ii.DEFAULT_MAPPING,r=Cs,i=Cs,s=Gr,o=fd,l=ms,c=Zo,u=ii.DEFAULT_ANISOTROPY,d=_h){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yMe++}),this.uuid=Fl(),this.name="",this.source=new ey(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new lt(0,0),this.repeat=new lt(1,1),this.center=new lt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Zp)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case DS:e.x=e.x-Math.floor(e.x);break;case Cs:e.x=e.x<0?0:1;break;case FS:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case DS:e.y=e.y-Math.floor(e.y);break;case Cs:e.y=e.y<0?0:1;break;case FS:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ii.DEFAULT_IMAGE=null;ii.DEFAULT_MAPPING=Zp;ii.DEFAULT_ANISOTROPY=1;class Cr{constructor(e=0,n=0,r=0,i=1){Cr.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const c=e.elements,u=c[0],d=c[4],h=c[8],f=c[1],p=c[5],m=c[9],y=c[2],b=c[6],v=c[10];if(Math.abs(d-f)<.01&&Math.abs(h-y)<.01&&Math.abs(m-b)<.01){if(Math.abs(d+f)<.1&&Math.abs(h+y)<.1&&Math.abs(m+b)<.1&&Math.abs(u+p+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(u+1)/2,j=(p+1)/2,N=(v+1)/2,A=(d+f)/4,M=(h+y)/4,k=(m+b)/4;return S>j&&S>N?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=A/r,s=M/r):j>N?j<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(j),r=A/i,s=k/i):N<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(N),r=M/s,i=k/s),this.set(r,i,s,n),this}let _=Math.sqrt((b-m)*(b-m)+(h-y)*(h-y)+(f-d)*(f-d));return Math.abs(_)<.001&&(_=1),this.x=(b-m)/_,this.y=(h-y)/_,this.z=(f-d)/_,this.w=Math.acos((u+p+v-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Lre extends Dd{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Cr(0,0,e,n),this.scissorTest=!1,this.viewport=new Cr(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Gr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new ii(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let l=0;l<o;l++)this.textures[l]=s.clone(),this.textures[l].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new ey(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class zl extends Lre{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class uk extends ii{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=fa,this.minFilter=fa,this.wrapR=Cs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class vMe extends zl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new uk(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class CB extends ii{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=fa,this.minFilter=fa,this.wrapR=Cs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xMe extends zl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new CB(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class $a{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,l){let c=r[i+0],u=r[i+1],d=r[i+2],h=r[i+3];const f=s[o+0],p=s[o+1],m=s[o+2],y=s[o+3];if(l===0){e[n+0]=c,e[n+1]=u,e[n+2]=d,e[n+3]=h;return}if(l===1){e[n+0]=f,e[n+1]=p,e[n+2]=m,e[n+3]=y;return}if(h!==y||c!==f||u!==p||d!==m){let b=1-l;const v=c*f+u*p+d*m+h*y,_=v>=0?1:-1,S=1-v*v;if(S>Number.EPSILON){const N=Math.sqrt(S),A=Math.atan2(N,v*_);b=Math.sin(b*A)/N,l=Math.sin(l*A)/N}const j=l*_;if(c=c*b+f*j,u=u*b+p*j,d=d*b+m*j,h=h*b+y*j,b===1-l){const N=1/Math.sqrt(c*c+u*u+d*d+h*h);c*=N,u*=N,d*=N,h*=N}}e[n]=c,e[n+1]=u,e[n+2]=d,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,s,o){const l=r[i],c=r[i+1],u=r[i+2],d=r[i+3],h=s[o],f=s[o+1],p=s[o+2],m=s[o+3];return e[n]=l*m+d*h+c*p-u*f,e[n+1]=c*m+d*f+u*h-l*p,e[n+2]=u*m+d*p+l*f-c*h,e[n+3]=d*m-l*h-c*f-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,l=Math.cos,c=Math.sin,u=l(r/2),d=l(i/2),h=l(s/2),f=c(r/2),p=c(i/2),m=c(s/2);switch(o){case"XYZ":this._x=f*d*h+u*p*m,this._y=u*p*h-f*d*m,this._z=u*d*m+f*p*h,this._w=u*d*h-f*p*m;break;case"YXZ":this._x=f*d*h+u*p*m,this._y=u*p*h-f*d*m,this._z=u*d*m-f*p*h,this._w=u*d*h+f*p*m;break;case"ZXY":this._x=f*d*h-u*p*m,this._y=u*p*h+f*d*m,this._z=u*d*m+f*p*h,this._w=u*d*h-f*p*m;break;case"ZYX":this._x=f*d*h-u*p*m,this._y=u*p*h+f*d*m,this._z=u*d*m-f*p*h,this._w=u*d*h+f*p*m;break;case"YZX":this._x=f*d*h+u*p*m,this._y=u*p*h+f*d*m,this._z=u*d*m-f*p*h,this._w=u*d*h-f*p*m;break;case"XZY":this._x=f*d*h-u*p*m,this._y=u*p*h-f*d*m,this._z=u*d*m+f*p*h,this._w=u*d*h+f*p*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],l=n[5],c=n[9],u=n[2],d=n[6],h=n[10],f=r+l+h;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(d-c)*p,this._y=(s-u)*p,this._z=(o-i)*p}else if(r>l&&r>h){const p=2*Math.sqrt(1+r-l-h);this._w=(d-c)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+u)/p}else if(l>h){const p=2*Math.sqrt(1+l-r-h);this._w=(s-u)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(c+d)/p}else{const p=2*Math.sqrt(1+h-r-l);this._w=(o-i)/p,this._x=(s+u)/p,this._y=(c+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ss(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,l=n._x,c=n._y,u=n._z,d=n._w;return this._x=r*d+o*l+i*u-s*c,this._y=i*d+o*c+s*l-r*u,this._z=s*d+o*u+r*c-i*l,this._w=o*d-r*l-i*c-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let l=o*e._w+r*e._x+i*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const c=1-l*l;if(c<=Number.EPSILON){const p=1-n;return this._w=p*o+n*this._w,this._x=p*r+n*this._x,this._y=p*i+n*this._y,this._z=p*s+n*this._z,this.normalize(),this}const u=Math.sqrt(c),d=Math.atan2(u,l),h=Math.sin((1-n)*d)/u,f=Math.sin(n*d)/u;return this._w=o*h+this._w*f,this._x=r*h+this._x*f,this._y=i*h+this._y*f,this._z=s*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class le{constructor(e=0,n=0,r=0){le.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(dW.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(dW.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,l=e.z,c=e.w,u=2*(o*i-l*r),d=2*(l*n-s*i),h=2*(s*r-o*n);return this.x=n+c*u+o*h-l*d,this.y=r+c*d+l*u-s*h,this.z=i+c*h+s*d-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,l=n.y,c=n.z;return this.x=i*c-s*l,this.y=s*o-r*c,this.z=r*l-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return SI.copy(this).projectOnVector(e),this.sub(SI)}reflect(e){return this.sub(SI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(ss(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const SI=new le,dW=new $a;class bo{constructor(e=new le(1/0,1/0,1/0),n=new le(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Zc.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Zc.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Zc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=s.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Zc):Zc.fromBufferAttribute(s,o),Zc.applyMatrix4(e.matrixWorld),this.expandByPoint(Zc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),kN.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),kN.copy(r.boundingBox)),kN.applyMatrix4(e.matrixWorld),this.union(kN)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Zc),Zc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(k_),ON.subVectors(this.max,k_),mx.subVectors(e.a,k_),gx.subVectors(e.b,k_),yx.subVectors(e.c,k_),$f.subVectors(gx,mx),Hf.subVectors(yx,gx),pg.subVectors(mx,yx);let n=[0,-$f.z,$f.y,0,-Hf.z,Hf.y,0,-pg.z,pg.y,$f.z,0,-$f.x,Hf.z,0,-Hf.x,pg.z,0,-pg.x,-$f.y,$f.x,0,-Hf.y,Hf.x,0,-pg.y,pg.x,0];return!EI(n,mx,gx,yx,ON)||(n=[1,0,0,0,1,0,0,0,1],!EI(n,mx,gx,yx,ON))?!1:(RN.crossVectors($f,Hf),n=[RN.x,RN.y,RN.z],EI(n,mx,gx,yx,ON))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Zc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Zc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(sh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),sh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),sh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),sh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),sh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),sh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),sh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),sh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(sh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const sh=[new le,new le,new le,new le,new le,new le,new le,new le],Zc=new le,kN=new bo,mx=new le,gx=new le,yx=new le,$f=new le,Hf=new le,pg=new le,k_=new le,ON=new le,RN=new le,mg=new le;function EI(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){mg.fromArray(t,s);const l=i.x*Math.abs(mg.x)+i.y*Math.abs(mg.y)+i.z*Math.abs(mg.z),c=e.dot(mg),u=n.dot(mg),d=r.dot(mg);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>l)return!1}return!0}const bMe=new bo,O_=new le,jI=new le;let Ha=class{constructor(e=new le,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):bMe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;O_.subVectors(e,this.center);const n=O_.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(O_,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(jI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(O_.copy(e.center).add(jI)),this.expandByPoint(O_.copy(e.center).sub(jI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const ah=new le,AI=new le,IN=new le,Vf=new le,NI=new le,LN=new le,TI=new le;class lv{constructor(e=new le,n=new le(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ah)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ah.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ah.copy(this.origin).addScaledVector(this.direction,n),ah.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){AI.copy(e).add(n).multiplyScalar(.5),IN.copy(n).sub(e).normalize(),Vf.copy(this.origin).sub(AI);const s=e.distanceTo(n)*.5,o=-this.direction.dot(IN),l=Vf.dot(this.direction),c=-Vf.dot(IN),u=Vf.lengthSq(),d=Math.abs(1-o*o);let h,f,p,m;if(d>0)if(h=o*c-l,f=o*l-c,m=s*d,h>=0)if(f>=-m)if(f<=m){const y=1/d;h*=y,f*=y,p=h*(h+o*f+2*l)+f*(o*h+f+2*c)+u}else f=s,h=Math.max(0,-(o*f+l)),p=-h*h+f*(f+2*c)+u;else f=-s,h=Math.max(0,-(o*f+l)),p=-h*h+f*(f+2*c)+u;else f<=-m?(h=Math.max(0,-(-o*s+l)),f=h>0?-s:Math.min(Math.max(-s,-c),s),p=-h*h+f*(f+2*c)+u):f<=m?(h=0,f=Math.min(Math.max(-s,-c),s),p=f*(f+2*c)+u):(h=Math.max(0,-(o*s+l)),f=h>0?s:Math.min(Math.max(-s,-c),s),p=-h*h+f*(f+2*c)+u);else f=o>0?-s:s,h=Math.max(0,-(o*f+l)),p=-h*h+f*(f+2*c)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(AI).addScaledVector(IN,f),p}intersectSphere(e,n){ah.subVectors(e.center,this.origin);const r=ah.dot(this.direction),i=ah.dot(ah)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),l=r-o,c=r+o;return c<0?null:l<0?this.at(c,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,l,c;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,i=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,i=(e.min.x-f.x)*u),d>=0?(s=(e.min.y-f.y)*d,o=(e.max.y-f.y)*d):(s=(e.max.y-f.y)*d,o=(e.min.y-f.y)*d),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(l=(e.min.z-f.z)*h,c=(e.max.z-f.z)*h):(l=(e.max.z-f.z)*h,c=(e.min.z-f.z)*h),r>c||l>i)||((l>r||r!==r)&&(r=l),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ah)!==null}intersectTriangle(e,n,r,i,s){NI.subVectors(n,e),LN.subVectors(r,e),TI.crossVectors(NI,LN);let o=this.direction.dot(TI),l;if(o>0){if(i)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Vf.subVectors(this.origin,e);const c=l*this.direction.dot(LN.crossVectors(Vf,LN));if(c<0)return null;const u=l*this.direction.dot(NI.cross(Vf));if(u<0||c+u>o)return null;const d=-l*Vf.dot(TI);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class En{constructor(e,n,r,i,s,o,l,c,u,d,h,f,p,m,y,b){En.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,l,c,u,d,h,f,p,m,y,b)}set(e,n,r,i,s,o,l,c,u,d,h,f,p,m,y,b){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=s,v[5]=o,v[9]=l,v[13]=c,v[2]=u,v[6]=d,v[10]=h,v[14]=f,v[3]=p,v[7]=m,v[11]=y,v[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new En().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/vx.setFromMatrixColumn(e,0).length(),s=1/vx.setFromMatrixColumn(e,1).length(),o=1/vx.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const f=o*d,p=o*h,m=l*d,y=l*h;n[0]=c*d,n[4]=-c*h,n[8]=u,n[1]=p+m*u,n[5]=f-y*u,n[9]=-l*c,n[2]=y-f*u,n[6]=m+p*u,n[10]=o*c}else if(e.order==="YXZ"){const f=c*d,p=c*h,m=u*d,y=u*h;n[0]=f+y*l,n[4]=m*l-p,n[8]=o*u,n[1]=o*h,n[5]=o*d,n[9]=-l,n[2]=p*l-m,n[6]=y+f*l,n[10]=o*c}else if(e.order==="ZXY"){const f=c*d,p=c*h,m=u*d,y=u*h;n[0]=f-y*l,n[4]=-o*h,n[8]=m+p*l,n[1]=p+m*l,n[5]=o*d,n[9]=y-f*l,n[2]=-o*u,n[6]=l,n[10]=o*c}else if(e.order==="ZYX"){const f=o*d,p=o*h,m=l*d,y=l*h;n[0]=c*d,n[4]=m*u-p,n[8]=f*u+y,n[1]=c*h,n[5]=y*u+f,n[9]=p*u-m,n[2]=-u,n[6]=l*c,n[10]=o*c}else if(e.order==="YZX"){const f=o*c,p=o*u,m=l*c,y=l*u;n[0]=c*d,n[4]=y-f*h,n[8]=m*h+p,n[1]=h,n[5]=o*d,n[9]=-l*d,n[2]=-u*d,n[6]=p*h+m,n[10]=f-y*h}else if(e.order==="XZY"){const f=o*c,p=o*u,m=l*c,y=l*u;n[0]=c*d,n[4]=-h,n[8]=u*d,n[1]=f*h+y,n[5]=o*d,n[9]=p*h-m,n[2]=m*h-p,n[6]=l*d,n[10]=y*h+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(wMe,e,_Me)}lookAt(e,n,r){const i=this.elements;return bl.subVectors(e,n),bl.lengthSq()===0&&(bl.z=1),bl.normalize(),Wf.crossVectors(r,bl),Wf.lengthSq()===0&&(Math.abs(r.z)===1?bl.x+=1e-4:bl.z+=1e-4,bl.normalize(),Wf.crossVectors(r,bl)),Wf.normalize(),DN.crossVectors(bl,Wf),i[0]=Wf.x,i[4]=DN.x,i[8]=bl.x,i[1]=Wf.y,i[5]=DN.y,i[9]=bl.y,i[2]=Wf.z,i[6]=DN.z,i[10]=bl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],l=r[4],c=r[8],u=r[12],d=r[1],h=r[5],f=r[9],p=r[13],m=r[2],y=r[6],b=r[10],v=r[14],_=r[3],S=r[7],j=r[11],N=r[15],A=i[0],M=i[4],k=i[8],L=i[12],O=i[1],I=i[5],U=i[9],W=i[13],q=i[2],J=i[6],K=i[10],ne=i[14],$=i[3],Z=i[7],B=i[11],ce=i[15];return s[0]=o*A+l*O+c*q+u*$,s[4]=o*M+l*I+c*J+u*Z,s[8]=o*k+l*U+c*K+u*B,s[12]=o*L+l*W+c*ne+u*ce,s[1]=d*A+h*O+f*q+p*$,s[5]=d*M+h*I+f*J+p*Z,s[9]=d*k+h*U+f*K+p*B,s[13]=d*L+h*W+f*ne+p*ce,s[2]=m*A+y*O+b*q+v*$,s[6]=m*M+y*I+b*J+v*Z,s[10]=m*k+y*U+b*K+v*B,s[14]=m*L+y*W+b*ne+v*ce,s[3]=_*A+S*O+j*q+N*$,s[7]=_*M+S*I+j*J+N*Z,s[11]=_*k+S*U+j*K+N*B,s[15]=_*L+S*W+j*ne+N*ce,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],l=e[5],c=e[9],u=e[13],d=e[2],h=e[6],f=e[10],p=e[14],m=e[3],y=e[7],b=e[11],v=e[15];return m*(+s*c*h-i*u*h-s*l*f+r*u*f+i*l*p-r*c*p)+y*(+n*c*p-n*u*f+s*o*f-i*o*p+i*u*d-s*c*d)+b*(+n*u*h-n*l*p-s*o*h+r*o*p+s*l*d-r*u*d)+v*(-i*l*d-n*c*h+n*l*f+i*o*h-r*o*f+r*c*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],f=e[10],p=e[11],m=e[12],y=e[13],b=e[14],v=e[15],_=h*b*u-y*f*u+y*c*p-l*b*p-h*c*v+l*f*v,S=m*f*u-d*b*u-m*c*p+o*b*p+d*c*v-o*f*v,j=d*y*u-m*h*u+m*l*p-o*y*p-d*l*v+o*h*v,N=m*h*c-d*y*c-m*l*f+o*y*f+d*l*b-o*h*b,A=n*_+r*S+i*j+s*N;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/A;return e[0]=_*M,e[1]=(y*f*s-h*b*s-y*i*p+r*b*p+h*i*v-r*f*v)*M,e[2]=(l*b*s-y*c*s+y*i*u-r*b*u-l*i*v+r*c*v)*M,e[3]=(h*c*s-l*f*s-h*i*u+r*f*u+l*i*p-r*c*p)*M,e[4]=S*M,e[5]=(d*b*s-m*f*s+m*i*p-n*b*p-d*i*v+n*f*v)*M,e[6]=(m*c*s-o*b*s-m*i*u+n*b*u+o*i*v-n*c*v)*M,e[7]=(o*f*s-d*c*s+d*i*u-n*f*u-o*i*p+n*c*p)*M,e[8]=j*M,e[9]=(m*h*s-d*y*s-m*r*p+n*y*p+d*r*v-n*h*v)*M,e[10]=(o*y*s-m*l*s+m*r*u-n*y*u-o*r*v+n*l*v)*M,e[11]=(d*l*s-o*h*s-d*r*u+n*h*u+o*r*p-n*l*p)*M,e[12]=N*M,e[13]=(d*y*i-m*h*i+m*r*f-n*y*f-d*r*b+n*h*b)*M,e[14]=(m*l*i-o*y*i-m*r*c+n*y*c+o*r*b-n*l*b)*M,e[15]=(o*h*i-d*l*i+d*r*c-n*h*c-o*r*f+n*l*f)*M,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,l=e.y,c=e.z,u=s*o,d=s*l;return this.set(u*o+r,u*l-i*c,u*c+i*l,0,u*l+i*c,d*l+r,d*c-i*o,0,u*c-i*l,d*c+i*o,s*c*c+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,l=n._z,c=n._w,u=s+s,d=o+o,h=l+l,f=s*u,p=s*d,m=s*h,y=o*d,b=o*h,v=l*h,_=c*u,S=c*d,j=c*h,N=r.x,A=r.y,M=r.z;return i[0]=(1-(y+v))*N,i[1]=(p+j)*N,i[2]=(m-S)*N,i[3]=0,i[4]=(p-j)*A,i[5]=(1-(f+v))*A,i[6]=(b+_)*A,i[7]=0,i[8]=(m+S)*M,i[9]=(b-_)*M,i[10]=(1-(f+y))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=vx.set(i[0],i[1],i[2]).length();const o=vx.set(i[4],i[5],i[6]).length(),l=vx.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Qc.copy(this);const u=1/s,d=1/o,h=1/l;return Qc.elements[0]*=u,Qc.elements[1]*=u,Qc.elements[2]*=u,Qc.elements[4]*=d,Qc.elements[5]*=d,Qc.elements[6]*=d,Qc.elements[8]*=h,Qc.elements[9]*=h,Qc.elements[10]*=h,n.setFromRotationMatrix(Qc),r.x=s,r.y=o,r.z=l,this}makePerspective(e,n,r,i,s,o,l=pd){const c=this.elements,u=2*s/(n-e),d=2*s/(r-i),h=(n+e)/(n-e),f=(r+i)/(r-i);let p,m;if(l===pd)p=-(o+s)/(o-s),m=-2*o*s/(o-s);else if(l===WS)p=-o/(o-s),m=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=u,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=d,c[9]=f,c[13]=0,c[2]=0,c[6]=0,c[10]=p,c[14]=m,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,o,l=pd){const c=this.elements,u=1/(n-e),d=1/(r-i),h=1/(o-s),f=(n+e)*u,p=(r+i)*d;let m,y;if(l===pd)m=(o+s)*h,y=-2*h;else if(l===WS)m=s*h,y=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-f,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-p,c[2]=0,c[6]=0,c[10]=y,c[14]=-m,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const vx=new le,Qc=new En,wMe=new le(0,0,0),_Me=new le(1,1,1),Wf=new le,DN=new le,bl=new le,hW=new En,fW=new $a;class $l{constructor(e=0,n=0,r=0,i=$l.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],l=i[8],c=i[1],u=i[5],d=i[9],h=i[2],f=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(ss(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-ss(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(ss(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-ss(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(ss(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-ss(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return hW.makeRotationFromQuaternion(e),this.setFromRotationMatrix(hW,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return fW.setFromEuler(this),this.setFromQuaternion(fW,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}$l.DEFAULT_ORDER="XYZ";class Ty{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let SMe=0;const pW=new le,xx=new $a,oh=new En,FN=new le,R_=new le,EMe=new le,jMe=new $a,mW=new le(1,0,0),gW=new le(0,1,0),yW=new le(0,0,1),vW={type:"added"},AMe={type:"removed"},bx={type:"childadded",child:null},MI={type:"childremoved",child:null};class kr extends Dd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:SMe++}),this.uuid=Fl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=kr.DEFAULT_UP.clone();const e=new le,n=new $l,r=new $a,i=new le(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new En},normalMatrix:{value:new Jn}}),this.matrix=new En,this.matrixWorld=new En,this.matrixAutoUpdate=kr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=kr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ty,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return xx.setFromAxisAngle(e,n),this.quaternion.multiply(xx),this}rotateOnWorldAxis(e,n){return xx.setFromAxisAngle(e,n),this.quaternion.premultiply(xx),this}rotateX(e){return this.rotateOnAxis(mW,e)}rotateY(e){return this.rotateOnAxis(gW,e)}rotateZ(e){return this.rotateOnAxis(yW,e)}translateOnAxis(e,n){return pW.copy(e).applyQuaternion(this.quaternion),this.position.add(pW.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(mW,e)}translateY(e){return this.translateOnAxis(gW,e)}translateZ(e){return this.translateOnAxis(yW,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(oh.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?FN.copy(e):FN.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),R_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?oh.lookAt(R_,FN,this.up):oh.lookAt(FN,R_,this.up),this.quaternion.setFromRotationMatrix(oh),i&&(oh.extractRotation(i.matrixWorld),xx.setFromRotationMatrix(oh),this.quaternion.premultiply(xx.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(vW),bx.child=e,this.dispatchEvent(bx),bx.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(AMe),MI.child=e,this.dispatchEvent(MI),MI.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),oh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),oh.multiply(e.parent.matrixWorld)),e.applyMatrix4(oh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(vW),bx.child=e,this.dispatchEvent(bx),bx.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(R_,e,EMe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(R_,jMe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const h=c[u];s(e.shapes,h)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(s(e.materials,this.material[c]));i.material=l}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];i.animations.push(s(e.animations,c))}}if(n){const l=o(e.geometries),c=o(e.materials),u=o(e.textures),d=o(e.images),h=o(e.shapes),f=o(e.skeletons),p=o(e.animations),m=o(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=i,r;function o(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}kr.DEFAULT_UP=new le(0,1,0);kr.DEFAULT_MATRIX_AUTO_UPDATE=!0;kr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Jc=new le,lh=new le,CI=new le,ch=new le,wx=new le,_x=new le,xW=new le,PI=new le,kI=new le,OI=new le,RI=new Cr,II=new Cr,LI=new Cr;class Ho{constructor(e=new le,n=new le,r=new le){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Jc.subVectors(e,n),i.cross(Jc);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Jc.subVectors(i,n),lh.subVectors(r,n),CI.subVectors(e,n);const o=Jc.dot(Jc),l=Jc.dot(lh),c=Jc.dot(CI),u=lh.dot(lh),d=lh.dot(CI),h=o*u-l*l;if(h===0)return s.set(0,0,0),null;const f=1/h,p=(u*c-l*d)*f,m=(o*d-l*c)*f;return s.set(1-p-m,m,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,ch)===null?!1:ch.x>=0&&ch.y>=0&&ch.x+ch.y<=1}static getInterpolation(e,n,r,i,s,o,l,c){return this.getBarycoord(e,n,r,i,ch)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,ch.x),c.addScaledVector(o,ch.y),c.addScaledVector(l,ch.z),c)}static getInterpolatedAttribute(e,n,r,i,s,o){return RI.setScalar(0),II.setScalar(0),LI.setScalar(0),RI.fromBufferAttribute(e,n),II.fromBufferAttribute(e,r),LI.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(RI,s.x),o.addScaledVector(II,s.y),o.addScaledVector(LI,s.z),o}static isFrontFacing(e,n,r,i){return Jc.subVectors(r,n),lh.subVectors(e,n),Jc.cross(lh).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jc.subVectors(this.c,this.b),lh.subVectors(this.a,this.b),Jc.cross(lh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ho.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ho.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Ho.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Ho.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ho.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,l;wx.subVectors(i,r),_x.subVectors(s,r),PI.subVectors(e,r);const c=wx.dot(PI),u=_x.dot(PI);if(c<=0&&u<=0)return n.copy(r);kI.subVectors(e,i);const d=wx.dot(kI),h=_x.dot(kI);if(d>=0&&h<=d)return n.copy(i);const f=c*h-d*u;if(f<=0&&c>=0&&d<=0)return o=c/(c-d),n.copy(r).addScaledVector(wx,o);OI.subVectors(e,s);const p=wx.dot(OI),m=_x.dot(OI);if(m>=0&&p<=m)return n.copy(s);const y=p*u-c*m;if(y<=0&&u>=0&&m<=0)return l=u/(u-m),n.copy(r).addScaledVector(_x,l);const b=d*m-p*h;if(b<=0&&h-d>=0&&p-m>=0)return xW.subVectors(s,i),l=(h-d)/(h-d+(p-m)),n.copy(i).addScaledVector(xW,l);const v=1/(b+y+f);return o=y*v,l=f*v,n.copy(r).addScaledVector(wx,o).addScaledVector(_x,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Dre={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Gf={h:0,s:0,l:0},UN={h:0,s:0,l:0};function DI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Gt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Nl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Rr.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Rr.workingColorSpace){return this.r=e,this.g=n,this.b=r,Rr.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Rr.workingColorSpace){if(e=MB(e,1),n=ss(n,0,1),r=ss(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=DI(o,s,e+1/3),this.g=DI(o,s,e),this.b=DI(o,s,e-1/3)}return Rr.toWorkingColorSpace(this,i),this}setStyle(e,n=Nl){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],l=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Nl){const r=Dre[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=N0(e.r),this.g=N0(e.g),this.b=N0(e.b),this}copyLinearToSRGB(e){return this.r=wI(e.r),this.g=wI(e.g),this.b=wI(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Nl){return Rr.fromWorkingColorSpace(Ia.copy(this),e),Math.round(ss(Ia.r*255,0,255))*65536+Math.round(ss(Ia.g*255,0,255))*256+Math.round(ss(Ia.b*255,0,255))}getHexString(e=Nl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Rr.workingColorSpace){Rr.fromWorkingColorSpace(Ia.copy(this),n);const r=Ia.r,i=Ia.g,s=Ia.b,o=Math.max(r,i,s),l=Math.min(r,i,s);let c,u;const d=(l+o)/2;if(l===o)c=0,u=0;else{const h=o-l;switch(u=d<=.5?h/(o+l):h/(2-o-l),o){case r:c=(i-s)/h+(i<s?6:0);break;case i:c=(s-r)/h+2;break;case s:c=(r-i)/h+4;break}c/=6}return e.h=c,e.s=u,e.l=d,e}getRGB(e,n=Rr.workingColorSpace){return Rr.fromWorkingColorSpace(Ia.copy(this),n),e.r=Ia.r,e.g=Ia.g,e.b=Ia.b,e}getStyle(e=Nl){Rr.fromWorkingColorSpace(Ia.copy(this),e);const n=Ia.r,r=Ia.g,i=Ia.b;return e!==Nl?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Gf),this.setHSL(Gf.h+e,Gf.s+n,Gf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Gf),e.getHSL(UN);const r=W1(Gf.h,UN.h,n),i=W1(Gf.s,UN.s,n),s=W1(Gf.l,UN.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Ia=new Gt;Gt.NAMES=Dre;let NMe=0;class Xa extends Dd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:NMe++}),this.uuid=Fl(),this.name="",this.type="Material",this.blending=Ey,this.side=Yh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=hC,this.blendDst=fC,this.blendEquation=dp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Gt(0,0,0),this.blendAlpha=0,this.depthFunc=Vy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=x4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Og,this.stencilZFail=Og,this.stencilZPass=Og,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ey&&(r.blending=this.blending),this.side!==Yh&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==hC&&(r.blendSrc=this.blendSrc),this.blendDst!==fC&&(r.blendDst=this.blendDst),this.blendEquation!==dp&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Vy&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==x4&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Og&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Og&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Og&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const l in s){const c=s[l];delete c.metadata,o.push(c)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class tf extends Xa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new $l,this.combine=dj,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Sh=TMe();function TMe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const u=c-127;u<-27?(r[c]=0,r[c|256]=32768,i[c]=24,i[c|256]=24):u<-14?(r[c]=1024>>-u-14,r[c|256]=1024>>-u-14|32768,i[c]=-u-1,i[c|256]=-u-1):u<=15?(r[c]=u+15<<10,r[c|256]=u+15<<10|32768,i[c]=13,i[c|256]=13):u<128?(r[c]=31744,r[c|256]=64512,i[c]=24,i[c|256]=24):(r[c]=31744,r[c|256]=64512,i[c]=13,i[c|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,d=0;for(;!(u&8388608);)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[c]=u|d}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)o[c]=c<<23;o[31]=1199570944,o[32]=2147483648;for(let c=33;c<63;++c)o[c]=2147483648+(c-32<<23);o[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:l}}function Ro(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=ss(t,-65504,65504),Sh.floatView[0]=t;const e=Sh.uint32View[0],n=e>>23&511;return Sh.baseTable[n]+((e&8388607)>>Sh.shiftTable[n])}function _1(t){const e=t>>10;return Sh.uint32View[0]=Sh.mantissaTable[Sh.offsetTable[e]+(t&1023)]+Sh.exponentTable[e],Sh.floatView[0]}const ty={toHalfFloat:Ro,fromHalfFloat:_1},Ss=new le,BN=new lt;class ei{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=VS,this.updateRanges=[],this.gpuType=Wi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)BN.fromBufferAttribute(this,n),BN.applyMatrix3(e),this.setXY(n,BN.x,BN.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Ss.fromBufferAttribute(this,n),Ss.applyMatrix3(e),this.setXYZ(n,Ss.x,Ss.y,Ss.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Ss.fromBufferAttribute(this,n),Ss.applyMatrix4(e),this.setXYZ(n,Ss.x,Ss.y,Ss.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ss.fromBufferAttribute(this,n),Ss.applyNormalMatrix(e),this.setXYZ(n,Ss.x,Ss.y,Ss.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ss.fromBufferAttribute(this,n),Ss.transformDirection(e),this.setXYZ(n,Ss.x,Ss.y,Ss.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=go(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=er(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=go(n,this.array)),n}setX(e,n){return this.normalized&&(n=er(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=go(n,this.array)),n}setY(e,n){return this.normalized&&(n=er(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=go(n,this.array)),n}setZ(e,n){return this.normalized&&(n=er(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=go(n,this.array)),n}setW(e,n){return this.normalized&&(n=er(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=er(n,this.array),r=er(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=er(n,this.array),r=er(r,this.array),i=er(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=er(n,this.array),r=er(r,this.array),i=er(i,this.array),s=er(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==VS&&(e.usage=this.usage),e}}class MMe extends ei{constructor(e,n,r){super(new Int8Array(e),n,r)}}class CMe extends ei{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class PMe extends ei{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class kMe extends ei{constructor(e,n,r){super(new Int16Array(e),n,r)}}class PB extends ei{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class OMe extends ei{constructor(e,n,r){super(new Int32Array(e),n,r)}}class kB extends ei{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class RMe extends ei{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=_1(this.array[e*this.itemSize]);return this.normalized&&(n=go(n,this.array)),n}setX(e,n){return this.normalized&&(n=er(n,this.array)),this.array[e*this.itemSize]=Ro(n),this}getY(e){let n=_1(this.array[e*this.itemSize+1]);return this.normalized&&(n=go(n,this.array)),n}setY(e,n){return this.normalized&&(n=er(n,this.array)),this.array[e*this.itemSize+1]=Ro(n),this}getZ(e){let n=_1(this.array[e*this.itemSize+2]);return this.normalized&&(n=go(n,this.array)),n}setZ(e,n){return this.normalized&&(n=er(n,this.array)),this.array[e*this.itemSize+2]=Ro(n),this}getW(e){let n=_1(this.array[e*this.itemSize+3]);return this.normalized&&(n=go(n,this.array)),n}setW(e,n){return this.normalized&&(n=er(n,this.array)),this.array[e*this.itemSize+3]=Ro(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=er(n,this.array),r=er(r,this.array)),this.array[e+0]=Ro(n),this.array[e+1]=Ro(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=er(n,this.array),r=er(r,this.array),i=er(i,this.array)),this.array[e+0]=Ro(n),this.array[e+1]=Ro(r),this.array[e+2]=Ro(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=er(n,this.array),r=er(r,this.array),i=er(i,this.array),s=er(s,this.array)),this.array[e+0]=Ro(n),this.array[e+1]=Ro(r),this.array[e+2]=Ro(i),this.array[e+3]=Ro(s),this}}class ln extends ei{constructor(e,n,r){super(new Float32Array(e),n,r)}}let IMe=0;const cc=new En,FI=new kr,Sx=new le,wl=new bo,I_=new bo,la=new le;class fr extends Dd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:IMe++}),this.uuid=Fl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Ore(e)?kB:PB)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Jn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return cc.makeRotationFromQuaternion(e),this.applyMatrix4(cc),this}rotateX(e){return cc.makeRotationX(e),this.applyMatrix4(cc),this}rotateY(e){return cc.makeRotationY(e),this.applyMatrix4(cc),this}rotateZ(e){return cc.makeRotationZ(e),this.applyMatrix4(cc),this}translate(e,n,r){return cc.makeTranslation(e,n,r),this.applyMatrix4(cc),this}scale(e,n,r){return cc.makeScale(e,n,r),this.applyMatrix4(cc),this}lookAt(e){return FI.lookAt(e),FI.updateMatrix(),this.applyMatrix4(FI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sx).negate(),this.translate(Sx.x,Sx.y,Sx.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ln(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new le(-1/0,-1/0,-1/0),new le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];wl.setFromBufferAttribute(s),this.morphTargetsRelative?(la.addVectors(this.boundingBox.min,wl.min),this.boundingBox.expandByPoint(la),la.addVectors(this.boundingBox.max,wl.max),this.boundingBox.expandByPoint(la)):(this.boundingBox.expandByPoint(wl.min),this.boundingBox.expandByPoint(wl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ha);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new le,1/0);return}if(e){const r=this.boundingSphere.center;if(wl.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const l=n[s];I_.setFromBufferAttribute(l),this.morphTargetsRelative?(la.addVectors(wl.min,I_.min),wl.expandByPoint(la),la.addVectors(wl.max,I_.max),wl.expandByPoint(la)):(wl.expandByPoint(I_.min),wl.expandByPoint(I_.max))}wl.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)la.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(la));if(n)for(let s=0,o=n.length;s<o;s++){const l=n[s],c=this.morphTargetsRelative;for(let u=0,d=l.count;u<d;u++)la.fromBufferAttribute(l,u),c&&(Sx.fromBufferAttribute(e,u),la.add(Sx)),i=Math.max(i,r.distanceToSquared(la))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ei(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),l=[],c=[];for(let k=0;k<r.count;k++)l[k]=new le,c[k]=new le;const u=new le,d=new le,h=new le,f=new lt,p=new lt,m=new lt,y=new le,b=new le;function v(k,L,O){u.fromBufferAttribute(r,k),d.fromBufferAttribute(r,L),h.fromBufferAttribute(r,O),f.fromBufferAttribute(s,k),p.fromBufferAttribute(s,L),m.fromBufferAttribute(s,O),d.sub(u),h.sub(u),p.sub(f),m.sub(f);const I=1/(p.x*m.y-m.x*p.y);isFinite(I)&&(y.copy(d).multiplyScalar(m.y).addScaledVector(h,-p.y).multiplyScalar(I),b.copy(h).multiplyScalar(p.x).addScaledVector(d,-m.x).multiplyScalar(I),l[k].add(y),l[L].add(y),l[O].add(y),c[k].add(b),c[L].add(b),c[O].add(b))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let k=0,L=_.length;k<L;++k){const O=_[k],I=O.start,U=O.count;for(let W=I,q=I+U;W<q;W+=3)v(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const S=new le,j=new le,N=new le,A=new le;function M(k){N.fromBufferAttribute(i,k),A.copy(N);const L=l[k];S.copy(L),S.sub(N.multiplyScalar(N.dot(L))).normalize(),j.crossVectors(A,L);const I=j.dot(c[k])<0?-1:1;o.setXYZW(k,S.x,S.y,S.z,I)}for(let k=0,L=_.length;k<L;++k){const O=_[k],I=O.start,U=O.count;for(let W=I,q=I+U;W<q;W+=3)M(e.getX(W+0)),M(e.getX(W+1)),M(e.getX(W+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ei(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,p=r.count;f<p;f++)r.setXYZ(f,0,0,0);const i=new le,s=new le,o=new le,l=new le,c=new le,u=new le,d=new le,h=new le;if(e)for(let f=0,p=e.count;f<p;f+=3){const m=e.getX(f+0),y=e.getX(f+1),b=e.getX(f+2);i.fromBufferAttribute(n,m),s.fromBufferAttribute(n,y),o.fromBufferAttribute(n,b),d.subVectors(o,s),h.subVectors(i,s),d.cross(h),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,y),u.fromBufferAttribute(r,b),l.add(d),c.add(d),u.add(d),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z),r.setXYZ(b,u.x,u.y,u.z)}else for(let f=0,p=n.count;f<p;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),d.subVectors(o,s),h.subVectors(i,s),d.cross(h),r.setXYZ(f+0,d.x,d.y,d.z),r.setXYZ(f+1,d.x,d.y,d.z),r.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)la.fromBufferAttribute(e,n),la.normalize(),e.setXYZ(n,la.x,la.y,la.z)}toNonIndexed(){function e(l,c){const u=l.array,d=l.itemSize,h=l.normalized,f=new u.constructor(c.length*d);let p=0,m=0;for(let y=0,b=c.length;y<b;y++){l.isInterleavedBufferAttribute?p=c[y]*l.data.stride+l.offset:p=c[y]*d;for(let v=0;v<d;v++)f[m++]=u[p++]}return new ei(f,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new fr,r=this.index.array,i=this.attributes;for(const l in i){const c=i[l],u=e(c,r);n.setAttribute(l,u)}const s=this.morphAttributes;for(const l in s){const c=[],u=s[l];for(let d=0,h=u.length;d<h;d++){const f=u[d],p=e(f,r);c.push(p)}n.morphAttributes[l]=c}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const u=o[l];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const u=r[c];e.data.attributes[c]=u.toJSON(e.data)}const i={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let h=0,f=u.length;h<f;h++){const p=u[h];d.push(p.toJSON(e.data))}d.length>0&&(i[c]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(n))}const s=e.morphAttributes;for(const u in s){const d=[],h=s[u];for(let f=0,p=h.length;f<p;f++)d.push(h[f].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const bW=new En,gg=new lv,zN=new Ha,wW=new le,$N=new le,HN=new le,VN=new le,UI=new le,WN=new le,_W=new le,GN=new le;class Gi extends kr{constructor(e=new fr,n=new tf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(s&&l){WN.set(0,0,0);for(let c=0,u=s.length;c<u;c++){const d=l[c],h=s[c];d!==0&&(UI.fromBufferAttribute(h,e),o?WN.addScaledVector(UI,d):WN.addScaledVector(UI.sub(n),d))}n.add(WN)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),zN.copy(r.boundingSphere),zN.applyMatrix4(s),gg.copy(e.ray).recast(e.near),!(zN.containsPoint(gg.origin)===!1&&(gg.intersectSphere(zN,wW)===null||gg.origin.distanceToSquared(wW)>(e.far-e.near)**2))&&(bW.copy(s).invert(),gg.copy(e.ray).applyMatrix4(bW),!(r.boundingBox!==null&&gg.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,gg)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,l=s.index,c=s.attributes.position,u=s.attributes.uv,d=s.attributes.uv1,h=s.attributes.normal,f=s.groups,p=s.drawRange;if(l!==null)if(Array.isArray(o))for(let m=0,y=f.length;m<y;m++){const b=f[m],v=o[b.materialIndex],_=Math.max(b.start,p.start),S=Math.min(l.count,Math.min(b.start+b.count,p.start+p.count));for(let j=_,N=S;j<N;j+=3){const A=l.getX(j),M=l.getX(j+1),k=l.getX(j+2);i=qN(this,v,e,r,u,d,h,A,M,k),i&&(i.faceIndex=Math.floor(j/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const m=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let b=m,v=y;b<v;b+=3){const _=l.getX(b),S=l.getX(b+1),j=l.getX(b+2);i=qN(this,o,e,r,u,d,h,_,S,j),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}else if(c!==void 0)if(Array.isArray(o))for(let m=0,y=f.length;m<y;m++){const b=f[m],v=o[b.materialIndex],_=Math.max(b.start,p.start),S=Math.min(c.count,Math.min(b.start+b.count,p.start+p.count));for(let j=_,N=S;j<N;j+=3){const A=j,M=j+1,k=j+2;i=qN(this,v,e,r,u,d,h,A,M,k),i&&(i.faceIndex=Math.floor(j/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const m=Math.max(0,p.start),y=Math.min(c.count,p.start+p.count);for(let b=m,v=y;b<v;b+=3){const _=b,S=b+1,j=b+2;i=qN(this,o,e,r,u,d,h,_,S,j),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}}}function LMe(t,e,n,r,i,s,o,l){let c;if(e.side===xo?c=r.intersectTriangle(o,s,i,!0,l):c=r.intersectTriangle(i,s,o,e.side===Yh,l),c===null)return null;GN.copy(l),GN.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(GN);return u<n.near||u>n.far?null:{distance:u,point:GN.clone(),object:t}}function qN(t,e,n,r,i,s,o,l,c,u){t.getVertexPosition(l,$N),t.getVertexPosition(c,HN),t.getVertexPosition(u,VN);const d=LMe(t,e,n,r,$N,HN,VN,_W);if(d){const h=new le;Ho.getBarycoord(_W,$N,HN,VN,h),i&&(d.uv=Ho.getInterpolatedAttribute(i,l,c,u,h,new lt)),s&&(d.uv1=Ho.getInterpolatedAttribute(s,l,c,u,h,new lt)),o&&(d.normal=Ho.getInterpolatedAttribute(o,l,c,u,h,new le),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a:l,b:c,c:u,normal:new le,materialIndex:0};Ho.getNormal($N,HN,VN,f.normal),d.face=f,d.barycoord=h}return d}class cv extends fr{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const l=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const c=[],u=[],d=[],h=[];let f=0,p=0;m("z","y","x",-1,-1,r,n,e,o,s,0),m("z","y","x",1,-1,r,n,-e,o,s,1),m("x","z","y",1,1,e,r,n,i,o,2),m("x","z","y",1,-1,e,r,-n,i,o,3),m("x","y","z",1,-1,e,n,r,i,s,4),m("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(c),this.setAttribute("position",new ln(u,3)),this.setAttribute("normal",new ln(d,3)),this.setAttribute("uv",new ln(h,2));function m(y,b,v,_,S,j,N,A,M,k,L){const O=j/M,I=N/k,U=j/2,W=N/2,q=A/2,J=M+1,K=k+1;let ne=0,$=0;const Z=new le;for(let B=0;B<K;B++){const ce=B*I-W;for(let fe=0;fe<J;fe++){const Q=fe*O-U;Z[y]=Q*_,Z[b]=ce*S,Z[v]=q,u.push(Z.x,Z.y,Z.z),Z[y]=0,Z[b]=0,Z[v]=A>0?1:-1,d.push(Z.x,Z.y,Z.z),h.push(fe/M),h.push(1-B/k),ne+=1}}for(let B=0;B<k;B++)for(let ce=0;ce<M;ce++){const fe=f+ce+J*B,Q=f+ce+J*(B+1),xe=f+(ce+1)+J*(B+1),ke=f+(ce+1)+J*B;c.push(fe,Q,ke),c.push(Q,xe,ke),$+=6}l.addGroup(p,$,L),p+=$,f+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cv(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function db(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function co(t){const e={};for(let n=0;n<t.length;n++){const r=db(t[n]);for(const i in r)e[i]=r[i]}return e}function DMe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Fre(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Rr.workingColorSpace}const Ure={clone:db,merge:co};var FMe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,UMe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Qo extends Xa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=FMe,this.fragmentShader=UMe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=db(e.uniforms),this.uniformsGroups=DMe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class gj extends kr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new En,this.projectionMatrix=new En,this.projectionMatrixInverse=new En,this.coordinateSystem=pd}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const qf=new le,SW=new lt,EW=new lt;class Hi extends gj{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=ub*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ny*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ub*2*Math.atan(Math.tan(Ny*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){qf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(qf.x,qf.y).multiplyScalar(-e/qf.z),qf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(qf.x,qf.y).multiplyScalar(-e/qf.z)}getViewSize(e,n){return this.getViewBounds(e,SW,EW),n.subVectors(EW,SW)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Ny*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/c,n-=o.offsetY*r/u,i*=o.width/c,r*=o.height/u}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ex=-90,jx=1;class Bre extends kr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Hi(Ex,jx,e,n);i.layers=this.layers,this.add(i);const s=new Hi(Ex,jx,e,n);s.layers=this.layers,this.add(s);const o=new Hi(Ex,jx,e,n);o.layers=this.layers,this.add(o);const l=new Hi(Ex,jx,e,n);l.layers=this.layers,this.add(l);const c=new Hi(Ex,jx,e,n);c.layers=this.layers,this.add(c);const u=new Hi(Ex,jx,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,l,c]=n;for(const u of n)this.remove(u);if(e===pd)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===WS)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,l,c,u,d]=this.children,h=e.getRenderTarget(),f=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,l),e.setRenderTarget(r,3,i),e.render(n,c),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(h,f,p),e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class yj extends ii{constructor(e,n,r,i,s,o,l,c,u,d){e=e!==void 0?e:[],n=n!==void 0?n:Md,super(e,n,r,i,s,o,l,c,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class OB extends zl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new yj(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Gr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new cv(5,5,5),s=new Qo({name:"CubemapFromEquirect",uniforms:db(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:xo,blending:_d});s.uniforms.tEquirect.value=n;const o=new Gi(i,s),l=n.minFilter;return n.minFilter===fd&&(n.minFilter=Gr),new Bre(1,10,this).update(e,o),n.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const BI=new le,BMe=new le,zMe=new Jn;class yh{constructor(e=new le(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=BI.subVectors(r,n).cross(BMe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(BI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||zMe.getNormalMatrix(e),i=this.coplanarPoint(BI).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const yg=new Ha,YN=new le;class vj{constructor(e=new yh,n=new yh,r=new yh,i=new yh,s=new yh,o=new yh){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(i),l[4].copy(s),l[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=pd){const r=this.planes,i=e.elements,s=i[0],o=i[1],l=i[2],c=i[3],u=i[4],d=i[5],h=i[6],f=i[7],p=i[8],m=i[9],y=i[10],b=i[11],v=i[12],_=i[13],S=i[14],j=i[15];if(r[0].setComponents(c-s,f-u,b-p,j-v).normalize(),r[1].setComponents(c+s,f+u,b+p,j+v).normalize(),r[2].setComponents(c+o,f+d,b+m,j+_).normalize(),r[3].setComponents(c-o,f-d,b-m,j-_).normalize(),r[4].setComponents(c-l,f-h,b-y,j-S).normalize(),n===pd)r[5].setComponents(c+l,f+h,b+y,j+S).normalize();else if(n===WS)r[5].setComponents(l,h,y,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),yg.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),yg.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(yg)}intersectsSprite(e){return yg.center.set(0,0,0),yg.radius=.7071067811865476,yg.applyMatrix4(e.matrixWorld),this.intersectsSphere(yg)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(YN.x=i.normal.x>0?e.max.x:e.min.x,YN.y=i.normal.y>0?e.max.y:e.min.y,YN.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(YN)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function zre(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function $Me(t){const e=new WeakMap;function n(l,c){const u=l.array,d=l.usage,h=u.byteLength,f=t.createBuffer();t.bindBuffer(c,f),t.bufferData(c,u,d),l.onUploadCallback();let p;if(u instanceof Float32Array)p=t.FLOAT;else if(u instanceof Uint16Array)l.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=t.SHORT;else if(u instanceof Uint32Array)p=t.UNSIGNED_INT;else if(u instanceof Int32Array)p=t.INT;else if(u instanceof Int8Array)p=t.BYTE;else if(u instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:f,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:l.version,size:h}}function r(l,c,u){const d=c.array,h=c.updateRanges;if(t.bindBuffer(u,l),h.length===0)t.bufferSubData(u,0,d);else{h.sort((p,m)=>p.start-m.start);let f=0;for(let p=1;p<h.length;p++){const m=h[f],y=h[p];y.start<=m.start+m.count+1?m.count=Math.max(m.count,y.start+y.count-m.start):(++f,h[f]=y)}h.length=f+1;for(let p=0,m=h.length;p<m;p++){const y=h[p];t.bufferSubData(u,y.start*d.BYTES_PER_ELEMENT,d,y.start,y.count)}c.clearUpdateRanges()}c.onUploadCallback()}function i(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function s(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(t.deleteBuffer(c.buffer),e.delete(l))}function o(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const d=e.get(l);(!d||d.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const u=e.get(l);if(u===void 0)e.set(l,n(l,c));else if(u.version<l.version){if(u.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,l,c),u.version=l.version}}return{get:i,remove:s,update:o}}class xm extends fr{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,l=Math.floor(r),c=Math.floor(i),u=l+1,d=c+1,h=e/l,f=n/c,p=[],m=[],y=[],b=[];for(let v=0;v<d;v++){const _=v*f-o;for(let S=0;S<u;S++){const j=S*h-s;m.push(j,-_,0),y.push(0,0,1),b.push(S/l),b.push(1-v/c)}}for(let v=0;v<c;v++)for(let _=0;_<l;_++){const S=_+u*v,j=_+u*(v+1),N=_+1+u*(v+1),A=_+1+u*v;p.push(S,j,A),p.push(j,N,A)}this.setIndex(p),this.setAttribute("position",new ln(m,3)),this.setAttribute("normal",new ln(y,3)),this.setAttribute("uv",new ln(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xm(e.width,e.height,e.widthSegments,e.heightSegments)}}var HMe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,VMe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,WMe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,GMe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qMe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,YMe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,XMe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,KMe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ZMe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,QMe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,JMe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,eCe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tCe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,nCe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,rCe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,iCe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,sCe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,aCe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,oCe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lCe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cCe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,uCe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,dCe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,hCe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,fCe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,pCe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,mCe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,gCe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,yCe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,vCe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,xCe="gl_FragColor = linearToOutputTexel( gl_FragColor );",bCe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,wCe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,_Ce=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,SCe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,ECe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,jCe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ACe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,NCe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,TCe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,MCe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,CCe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,PCe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,kCe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,OCe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,RCe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ICe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,LCe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,DCe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,FCe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,UCe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,BCe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,zCe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$Ce=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,HCe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,VCe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,WCe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,GCe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,qCe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,YCe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,XCe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,KCe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ZCe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,QCe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,JCe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,e2e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,t2e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,n2e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,r2e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,i2e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,s2e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,a2e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,o2e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,l2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,c2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,u2e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,d2e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,h2e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,f2e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,p2e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,m2e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,g2e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,y2e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,v2e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,x2e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,b2e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,w2e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,_2e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,S2e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,E2e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,j2e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,A2e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,N2e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,T2e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,M2e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,C2e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,P2e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,k2e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,O2e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,R2e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,I2e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,L2e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,D2e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,F2e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,U2e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,B2e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,z2e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $2e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,H2e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,V2e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,W2e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,G2e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,q2e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Y2e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,X2e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,K2e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Z2e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Q2e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,J2e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ePe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tPe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nPe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,rPe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iPe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sPe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aPe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,oPe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lPe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cPe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,uPe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dPe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hPe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fPe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pPe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mPe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gPe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,yPe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vPe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xPe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,bPe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wPe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ar={alphahash_fragment:HMe,alphahash_pars_fragment:VMe,alphamap_fragment:WMe,alphamap_pars_fragment:GMe,alphatest_fragment:qMe,alphatest_pars_fragment:YMe,aomap_fragment:XMe,aomap_pars_fragment:KMe,batching_pars_vertex:ZMe,batching_vertex:QMe,begin_vertex:JMe,beginnormal_vertex:eCe,bsdfs:tCe,iridescence_fragment:nCe,bumpmap_pars_fragment:rCe,clipping_planes_fragment:iCe,clipping_planes_pars_fragment:sCe,clipping_planes_pars_vertex:aCe,clipping_planes_vertex:oCe,color_fragment:lCe,color_pars_fragment:cCe,color_pars_vertex:uCe,color_vertex:dCe,common:hCe,cube_uv_reflection_fragment:fCe,defaultnormal_vertex:pCe,displacementmap_pars_vertex:mCe,displacementmap_vertex:gCe,emissivemap_fragment:yCe,emissivemap_pars_fragment:vCe,colorspace_fragment:xCe,colorspace_pars_fragment:bCe,envmap_fragment:wCe,envmap_common_pars_fragment:_Ce,envmap_pars_fragment:SCe,envmap_pars_vertex:ECe,envmap_physical_pars_fragment:ICe,envmap_vertex:jCe,fog_vertex:ACe,fog_pars_vertex:NCe,fog_fragment:TCe,fog_pars_fragment:MCe,gradientmap_pars_fragment:CCe,lightmap_pars_fragment:PCe,lights_lambert_fragment:kCe,lights_lambert_pars_fragment:OCe,lights_pars_begin:RCe,lights_toon_fragment:LCe,lights_toon_pars_fragment:DCe,lights_phong_fragment:FCe,lights_phong_pars_fragment:UCe,lights_physical_fragment:BCe,lights_physical_pars_fragment:zCe,lights_fragment_begin:$Ce,lights_fragment_maps:HCe,lights_fragment_end:VCe,logdepthbuf_fragment:WCe,logdepthbuf_pars_fragment:GCe,logdepthbuf_pars_vertex:qCe,logdepthbuf_vertex:YCe,map_fragment:XCe,map_pars_fragment:KCe,map_particle_fragment:ZCe,map_particle_pars_fragment:QCe,metalnessmap_fragment:JCe,metalnessmap_pars_fragment:e2e,morphinstance_vertex:t2e,morphcolor_vertex:n2e,morphnormal_vertex:r2e,morphtarget_pars_vertex:i2e,morphtarget_vertex:s2e,normal_fragment_begin:a2e,normal_fragment_maps:o2e,normal_pars_fragment:l2e,normal_pars_vertex:c2e,normal_vertex:u2e,normalmap_pars_fragment:d2e,clearcoat_normal_fragment_begin:h2e,clearcoat_normal_fragment_maps:f2e,clearcoat_pars_fragment:p2e,iridescence_pars_fragment:m2e,opaque_fragment:g2e,packing:y2e,premultiplied_alpha_fragment:v2e,project_vertex:x2e,dithering_fragment:b2e,dithering_pars_fragment:w2e,roughnessmap_fragment:_2e,roughnessmap_pars_fragment:S2e,shadowmap_pars_fragment:E2e,shadowmap_pars_vertex:j2e,shadowmap_vertex:A2e,shadowmask_pars_fragment:N2e,skinbase_vertex:T2e,skinning_pars_vertex:M2e,skinning_vertex:C2e,skinnormal_vertex:P2e,specularmap_fragment:k2e,specularmap_pars_fragment:O2e,tonemapping_fragment:R2e,tonemapping_pars_fragment:I2e,transmission_fragment:L2e,transmission_pars_fragment:D2e,uv_pars_fragment:F2e,uv_pars_vertex:U2e,uv_vertex:B2e,worldpos_vertex:z2e,background_vert:$2e,background_frag:H2e,backgroundCube_vert:V2e,backgroundCube_frag:W2e,cube_vert:G2e,cube_frag:q2e,depth_vert:Y2e,depth_frag:X2e,distanceRGBA_vert:K2e,distanceRGBA_frag:Z2e,equirect_vert:Q2e,equirect_frag:J2e,linedashed_vert:ePe,linedashed_frag:tPe,meshbasic_vert:nPe,meshbasic_frag:rPe,meshlambert_vert:iPe,meshlambert_frag:sPe,meshmatcap_vert:aPe,meshmatcap_frag:oPe,meshnormal_vert:lPe,meshnormal_frag:cPe,meshphong_vert:uPe,meshphong_frag:dPe,meshphysical_vert:hPe,meshphysical_frag:fPe,meshtoon_vert:pPe,meshtoon_frag:mPe,points_vert:gPe,points_frag:yPe,shadow_vert:vPe,shadow_frag:xPe,sprite_vert:bPe,sprite_frag:wPe},Lt={common:{diffuse:{value:new Gt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Jn},alphaMap:{value:null},alphaMapTransform:{value:new Jn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Jn}},envmap:{envMap:{value:null},envMapRotation:{value:new Jn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Jn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Jn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Jn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Jn},normalScale:{value:new lt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Jn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Jn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Jn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Jn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Gt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Gt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Jn},alphaTest:{value:0},uvTransform:{value:new Jn}},sprite:{diffuse:{value:new Gt(16777215)},opacity:{value:1},center:{value:new lt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Jn},alphaMap:{value:null},alphaMapTransform:{value:new Jn},alphaTest:{value:0}}},mu={basic:{uniforms:co([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.fog]),vertexShader:ar.meshbasic_vert,fragmentShader:ar.meshbasic_frag},lambert:{uniforms:co([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,Lt.lights,{emissive:{value:new Gt(0)}}]),vertexShader:ar.meshlambert_vert,fragmentShader:ar.meshlambert_frag},phong:{uniforms:co([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,Lt.lights,{emissive:{value:new Gt(0)},specular:{value:new Gt(1118481)},shininess:{value:30}}]),vertexShader:ar.meshphong_vert,fragmentShader:ar.meshphong_frag},standard:{uniforms:co([Lt.common,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.roughnessmap,Lt.metalnessmap,Lt.fog,Lt.lights,{emissive:{value:new Gt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ar.meshphysical_vert,fragmentShader:ar.meshphysical_frag},toon:{uniforms:co([Lt.common,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.gradientmap,Lt.fog,Lt.lights,{emissive:{value:new Gt(0)}}]),vertexShader:ar.meshtoon_vert,fragmentShader:ar.meshtoon_frag},matcap:{uniforms:co([Lt.common,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,{matcap:{value:null}}]),vertexShader:ar.meshmatcap_vert,fragmentShader:ar.meshmatcap_frag},points:{uniforms:co([Lt.points,Lt.fog]),vertexShader:ar.points_vert,fragmentShader:ar.points_frag},dashed:{uniforms:co([Lt.common,Lt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ar.linedashed_vert,fragmentShader:ar.linedashed_frag},depth:{uniforms:co([Lt.common,Lt.displacementmap]),vertexShader:ar.depth_vert,fragmentShader:ar.depth_frag},normal:{uniforms:co([Lt.common,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,{opacity:{value:1}}]),vertexShader:ar.meshnormal_vert,fragmentShader:ar.meshnormal_frag},sprite:{uniforms:co([Lt.sprite,Lt.fog]),vertexShader:ar.sprite_vert,fragmentShader:ar.sprite_frag},background:{uniforms:{uvTransform:{value:new Jn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ar.background_vert,fragmentShader:ar.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Jn}},vertexShader:ar.backgroundCube_vert,fragmentShader:ar.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ar.cube_vert,fragmentShader:ar.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ar.equirect_vert,fragmentShader:ar.equirect_frag},distanceRGBA:{uniforms:co([Lt.common,Lt.displacementmap,{referencePosition:{value:new le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ar.distanceRGBA_vert,fragmentShader:ar.distanceRGBA_frag},shadow:{uniforms:co([Lt.lights,Lt.fog,{color:{value:new Gt(0)},opacity:{value:1}}]),vertexShader:ar.shadow_vert,fragmentShader:ar.shadow_frag}};mu.physical={uniforms:co([mu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Jn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Jn},clearcoatNormalScale:{value:new lt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Jn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Jn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Jn},sheen:{value:0},sheenColor:{value:new Gt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Jn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Jn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Jn},transmissionSamplerSize:{value:new lt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Jn},attenuationDistance:{value:0},attenuationColor:{value:new Gt(0)},specularColor:{value:new Gt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Jn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Jn},anisotropyVector:{value:new lt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Jn}}]),vertexShader:ar.meshphysical_vert,fragmentShader:ar.meshphysical_frag};const XN={r:0,b:0,g:0},vg=new $l,_Pe=new En;function SPe(t,e,n,r,i,s,o){const l=new Gt(0);let c=s===!0?0:1,u,d,h=null,f=0,p=null;function m(_){let S=_.isScene===!0?_.background:null;return S&&S.isTexture&&(S=(_.backgroundBlurriness>0?n:e).get(S)),S}function y(_){let S=!1;const j=m(_);j===null?v(l,c):j&&j.isColor&&(v(j,1),S=!0);const N=t.xr.getEnvironmentBlendMode();N==="additive"?r.buffers.color.setClear(0,0,0,1,o):N==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||S)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function b(_,S){const j=m(S);j&&(j.isCubeTexture||j.mapping===sw)?(d===void 0&&(d=new Gi(new cv(1,1,1),new Qo({name:"BackgroundCubeMaterial",uniforms:db(mu.backgroundCube.uniforms),vertexShader:mu.backgroundCube.vertexShader,fragmentShader:mu.backgroundCube.fragmentShader,side:xo,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(N,A,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),vg.copy(S.backgroundRotation),vg.x*=-1,vg.y*=-1,vg.z*=-1,j.isCubeTexture&&j.isRenderTargetTexture===!1&&(vg.y*=-1,vg.z*=-1),d.material.uniforms.envMap.value=j,d.material.uniforms.flipEnvMap.value=j.isCubeTexture&&j.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(_Pe.makeRotationFromEuler(vg)),d.material.toneMapped=Rr.getTransfer(j.colorSpace)!==mi,(h!==j||f!==j.version||p!==t.toneMapping)&&(d.material.needsUpdate=!0,h=j,f=j.version,p=t.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null)):j&&j.isTexture&&(u===void 0&&(u=new Gi(new xm(2,2),new Qo({name:"BackgroundMaterial",uniforms:db(mu.background.uniforms),vertexShader:mu.background.vertexShader,fragmentShader:mu.background.fragmentShader,side:Yh,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=j,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.toneMapped=Rr.getTransfer(j.colorSpace)!==mi,j.matrixAutoUpdate===!0&&j.updateMatrix(),u.material.uniforms.uvTransform.value.copy(j.matrix),(h!==j||f!==j.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,h=j,f=j.version,p=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null))}function v(_,S){_.getRGB(XN,Fre(t)),r.buffers.color.setClear(XN.r,XN.g,XN.b,S,o)}return{getClearColor:function(){return l},setClearColor:function(_,S=1){l.set(_),c=S,v(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(_){c=_,v(l,c)},render:y,addToRenderList:b}}function EPe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,o=!1;function l(O,I,U,W,q){let J=!1;const K=h(W,U,I);s!==K&&(s=K,u(s.object)),J=p(O,W,U,q),J&&m(O,W,U,q),q!==null&&e.update(q,t.ELEMENT_ARRAY_BUFFER),(J||o)&&(o=!1,j(O,I,U,W),q!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(q).buffer))}function c(){return t.createVertexArray()}function u(O){return t.bindVertexArray(O)}function d(O){return t.deleteVertexArray(O)}function h(O,I,U){const W=U.wireframe===!0;let q=r[O.id];q===void 0&&(q={},r[O.id]=q);let J=q[I.id];J===void 0&&(J={},q[I.id]=J);let K=J[W];return K===void 0&&(K=f(c()),J[W]=K),K}function f(O){const I=[],U=[],W=[];for(let q=0;q<n;q++)I[q]=0,U[q]=0,W[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:U,attributeDivisors:W,object:O,attributes:{},index:null}}function p(O,I,U,W){const q=s.attributes,J=I.attributes;let K=0;const ne=U.getAttributes();for(const $ in ne)if(ne[$].location>=0){const B=q[$];let ce=J[$];if(ce===void 0&&($==="instanceMatrix"&&O.instanceMatrix&&(ce=O.instanceMatrix),$==="instanceColor"&&O.instanceColor&&(ce=O.instanceColor)),B===void 0||B.attribute!==ce||ce&&B.data!==ce.data)return!0;K++}return s.attributesNum!==K||s.index!==W}function m(O,I,U,W){const q={},J=I.attributes;let K=0;const ne=U.getAttributes();for(const $ in ne)if(ne[$].location>=0){let B=J[$];B===void 0&&($==="instanceMatrix"&&O.instanceMatrix&&(B=O.instanceMatrix),$==="instanceColor"&&O.instanceColor&&(B=O.instanceColor));const ce={};ce.attribute=B,B&&B.data&&(ce.data=B.data),q[$]=ce,K++}s.attributes=q,s.attributesNum=K,s.index=W}function y(){const O=s.newAttributes;for(let I=0,U=O.length;I<U;I++)O[I]=0}function b(O){v(O,0)}function v(O,I){const U=s.newAttributes,W=s.enabledAttributes,q=s.attributeDivisors;U[O]=1,W[O]===0&&(t.enableVertexAttribArray(O),W[O]=1),q[O]!==I&&(t.vertexAttribDivisor(O,I),q[O]=I)}function _(){const O=s.newAttributes,I=s.enabledAttributes;for(let U=0,W=I.length;U<W;U++)I[U]!==O[U]&&(t.disableVertexAttribArray(U),I[U]=0)}function S(O,I,U,W,q,J,K){K===!0?t.vertexAttribIPointer(O,I,U,q,J):t.vertexAttribPointer(O,I,U,W,q,J)}function j(O,I,U,W){y();const q=W.attributes,J=U.getAttributes(),K=I.defaultAttributeValues;for(const ne in J){const $=J[ne];if($.location>=0){let Z=q[ne];if(Z===void 0&&(ne==="instanceMatrix"&&O.instanceMatrix&&(Z=O.instanceMatrix),ne==="instanceColor"&&O.instanceColor&&(Z=O.instanceColor)),Z!==void 0){const B=Z.normalized,ce=Z.itemSize,fe=e.get(Z);if(fe===void 0)continue;const Q=fe.buffer,xe=fe.type,ke=fe.bytesPerElement,Re=xe===t.INT||xe===t.UNSIGNED_INT||Z.gpuType===hj;if(Z.isInterleavedBufferAttribute){const Ce=Z.data,tt=Ce.stride,Fe=Z.offset;if(Ce.isInstancedInterleavedBuffer){for(let Ve=0;Ve<$.locationSize;Ve++)v($.location+Ve,Ce.meshPerAttribute);O.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let Ve=0;Ve<$.locationSize;Ve++)b($.location+Ve);t.bindBuffer(t.ARRAY_BUFFER,Q);for(let Ve=0;Ve<$.locationSize;Ve++)S($.location+Ve,ce/$.locationSize,xe,B,tt*ke,(Fe+ce/$.locationSize*Ve)*ke,Re)}else{if(Z.isInstancedBufferAttribute){for(let Ce=0;Ce<$.locationSize;Ce++)v($.location+Ce,Z.meshPerAttribute);O.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Z.meshPerAttribute*Z.count)}else for(let Ce=0;Ce<$.locationSize;Ce++)b($.location+Ce);t.bindBuffer(t.ARRAY_BUFFER,Q);for(let Ce=0;Ce<$.locationSize;Ce++)S($.location+Ce,ce/$.locationSize,xe,B,ce*ke,ce/$.locationSize*Ce*ke,Re)}}else if(K!==void 0){const B=K[ne];if(B!==void 0)switch(B.length){case 2:t.vertexAttrib2fv($.location,B);break;case 3:t.vertexAttrib3fv($.location,B);break;case 4:t.vertexAttrib4fv($.location,B);break;default:t.vertexAttrib1fv($.location,B)}}}}_()}function N(){k();for(const O in r){const I=r[O];for(const U in I){const W=I[U];for(const q in W)d(W[q].object),delete W[q];delete I[U]}delete r[O]}}function A(O){if(r[O.id]===void 0)return;const I=r[O.id];for(const U in I){const W=I[U];for(const q in W)d(W[q].object),delete W[q];delete I[U]}delete r[O.id]}function M(O){for(const I in r){const U=r[I];if(U[O.id]===void 0)continue;const W=U[O.id];for(const q in W)d(W[q].object),delete W[q];delete U[O.id]}}function k(){L(),o=!0,s!==i&&(s=i,u(s.object))}function L(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:l,reset:k,resetDefaultState:L,dispose:N,releaseStatesOfGeometry:A,releaseStatesOfProgram:M,initAttributes:y,enableAttribute:b,disableUnusedAttributes:_}}function jPe(t,e,n){let r;function i(u){r=u}function s(u,d){t.drawArrays(r,u,d),n.update(d,r,1)}function o(u,d,h){h!==0&&(t.drawArraysInstanced(r,u,d,h),n.update(d,r,h))}function l(u,d,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,d,0,h);let p=0;for(let m=0;m<h;m++)p+=d[m];n.update(p,r,1)}function c(u,d,h,f){if(h===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let m=0;m<u.length;m++)o(u[m],d[m],f[m]);else{p.multiDrawArraysInstancedWEBGL(r,u,0,d,0,f,0,h);let m=0;for(let y=0;y<h;y++)m+=d[y];for(let y=0;y<f.length;y++)n.update(m,r,f[y])}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function APe(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(M){return!(M!==ms&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(M){const k=M===pa&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==Zo&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==Wi&&!k)}function c(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const d=c(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const h=n.logarithmicDepthBuffer===!0,f=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control");if(f===!0){const M=e.get("EXT_clip_control");M.clipControlEXT(M.LOWER_LEFT_EXT,M.ZERO_TO_ONE_EXT)}const p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),b=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),S=t.getParameter(t.MAX_VARYING_VECTORS),j=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),N=m>0,A=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:c,textureFormatReadable:o,textureTypeReadable:l,precision:u,logarithmicDepthBuffer:h,reverseDepthBuffer:f,maxTextures:p,maxVertexTextures:m,maxTextureSize:y,maxCubemapSize:b,maxAttributes:v,maxVertexUniforms:_,maxVaryings:S,maxFragmentUniforms:j,vertexTextures:N,maxSamples:A}}function NPe(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new yh,l=new Jn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f){const p=h.length!==0||f||r!==0||i;return i=f,r=h.length,p},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,f){n=d(h,f,0)},this.setState=function(h,f,p){const m=h.clippingPlanes,y=h.clipIntersection,b=h.clipShadows,v=t.get(h);if(!i||m===null||m.length===0||s&&!b)s?d(null):u();else{const _=s?0:r,S=_*4;let j=v.clippingState||null;c.value=j,j=d(m,f,S,p);for(let N=0;N!==S;++N)j[N]=n[N];v.clippingState=j,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=_}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(h,f,p,m){const y=h!==null?h.length:0;let b=null;if(y!==0){if(b=c.value,m!==!0||b===null){const v=p+y*4,_=f.matrixWorldInverse;l.getNormalMatrix(_),(b===null||b.length<v)&&(b=new Float32Array(v));for(let S=0,j=p;S!==y;++S,j+=4)o.copy(h[S]).applyMatrix4(_,l),o.normal.toArray(b,j),b[j+3]=o.constant}c.value=b,c.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,b}}function TPe(t){let e=new WeakMap;function n(o,l){return l===lb?o.mapping=Md:l===LS&&(o.mapping=Qp),o}function r(o){if(o&&o.isTexture){const l=o.mapping;if(l===lb||l===LS)if(e.has(o)){const c=e.get(o).texture;return n(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const u=new OB(c.height);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const l=o.target;l.removeEventListener("dispose",i);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Eu extends gj{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,l=i+n,c=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,l-=d*this.view.offsetY,c=l-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const o0=4,jW=[.125,.215,.35,.446,.526,.582],$g=20,zI=new Eu,AW=new Gt;let $I=null,HI=0,VI=0,WI=!1;const Rg=(1+Math.sqrt(5))/2,Ax=1/Rg,NW=[new le(-Rg,Ax,0),new le(Rg,Ax,0),new le(-Ax,0,Rg),new le(Ax,0,Rg),new le(0,Rg,-Ax),new le(0,Rg,Ax),new le(-1,1,-1),new le(1,1,-1),new le(-1,1,1),new le(1,1,1)];class w4{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){$I=this._renderer.getRenderTarget(),HI=this._renderer.getActiveCubeFace(),VI=this._renderer.getActiveMipmapLevel(),WI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=CW(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=MW(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget($I,HI,VI),this._renderer.xr.enabled=WI,e.scissorTest=!1,KN(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Md||e.mapping===Qp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),$I=this._renderer.getRenderTarget(),HI=this._renderer.getActiveCubeFace(),VI=this._renderer.getActiveMipmapLevel(),WI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Gr,minFilter:Gr,generateMipmaps:!1,type:pa,format:ms,colorSpace:Cc,depthBuffer:!1},i=TW(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=TW(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=MPe(s)),this._blurMaterial=CPe(s,e,n)}return i}_compileMaterial(e){const n=new Gi(this._lodPlanes[0],e);this._renderer.compile(n,zI)}_sceneToCubeUV(e,n,r,i){const l=new Hi(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,f=d.toneMapping;d.getClearColor(AW),d.toneMapping=Sd,d.autoClear=!1;const p=new tf({name:"PMREM.Background",side:xo,depthWrite:!1,depthTest:!1}),m=new Gi(new cv,p);let y=!1;const b=e.background;b?b.isColor&&(p.color.copy(b),e.background=null,y=!0):(p.color.copy(AW),y=!0);for(let v=0;v<6;v++){const _=v%3;_===0?(l.up.set(0,c[v],0),l.lookAt(u[v],0,0)):_===1?(l.up.set(0,0,c[v]),l.lookAt(0,u[v],0)):(l.up.set(0,c[v],0),l.lookAt(0,0,u[v]));const S=this._cubeSize;KN(i,_*S,v>2?S:0,S,S),d.setRenderTarget(i),y&&d.render(m,l),d.render(e,l)}m.geometry.dispose(),m.material.dispose(),d.toneMapping=f,d.autoClear=h,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Md||e.mapping===Qp;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=CW()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=MW());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Gi(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const c=this._cubeSize;KN(n,0,0,3*c,2*c),r.setRenderTarget(n),r.render(o,zI)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),l=NW[(i-s-1)%NW.length];this._blur(e,s-1,s,o,l)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,l){const c=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Gi(this._lodPlanes[i],u),f=u.uniforms,p=this._sizeLods[r]-1,m=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*$g-1),y=s/m,b=isFinite(s)?1+Math.floor(d*y):$g;b>$g&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${$g}`);const v=[];let _=0;for(let M=0;M<$g;++M){const k=M/y,L=Math.exp(-k*k/2);v.push(L),M===0?_+=L:M<b&&(_+=2*L)}for(let M=0;M<v.length;M++)v[M]=v[M]/_;f.envMap.value=e.texture,f.samples.value=b,f.weights.value=v,f.latitudinal.value=o==="latitudinal",l&&(f.poleAxis.value=l);const{_lodMax:S}=this;f.dTheta.value=m,f.mipInt.value=S-r;const j=this._sizeLods[i],N=3*j*(i>S-o0?i-S+o0:0),A=4*(this._cubeSize-j);KN(n,N,A,3*j,2*j),c.setRenderTarget(n),c.render(h,zI)}}function MPe(t){const e=[],n=[],r=[];let i=t;const s=t-o0+1+jW.length;for(let o=0;o<s;o++){const l=Math.pow(2,i);n.push(l);let c=1/l;o>t-o0?c=jW[o-t+o0-1]:o===0&&(c=0),r.push(c);const u=1/(l-2),d=-u,h=1+u,f=[d,d,h,d,h,h,d,d,h,h,d,h],p=6,m=6,y=3,b=2,v=1,_=new Float32Array(y*m*p),S=new Float32Array(b*m*p),j=new Float32Array(v*m*p);for(let A=0;A<p;A++){const M=A%3*2/3-1,k=A>2?0:-1,L=[M,k,0,M+2/3,k,0,M+2/3,k+1,0,M,k,0,M+2/3,k+1,0,M,k+1,0];_.set(L,y*m*A),S.set(f,b*m*A);const O=[A,A,A,A,A,A];j.set(O,v*m*A)}const N=new fr;N.setAttribute("position",new ei(_,y)),N.setAttribute("uv",new ei(S,b)),N.setAttribute("faceIndex",new ei(j,v)),e.push(N),i>o0&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function TW(t,e,n){const r=new zl(t,e,n);return r.texture.mapping=sw,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function KN(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function CPe(t,e,n){const r=new Float32Array($g),i=new le(0,1,0);return new Qo({name:"SphericalGaussianBlur",defines:{n:$g,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:RB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:_d,depthTest:!1,depthWrite:!1})}function MW(){return new Qo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:RB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:_d,depthTest:!1,depthWrite:!1})}function CW(){return new Qo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:RB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:_d,depthTest:!1,depthWrite:!1})}function RB(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function PPe(t){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const c=l.mapping,u=c===lb||c===LS,d=c===Md||c===Qp;if(u||d){let h=e.get(l);const f=h!==void 0?h.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==f)return n===null&&(n=new w4(t)),h=u?n.fromEquirectangular(l,h):n.fromCubemap(l,h),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),h.texture;if(h!==void 0)return h.texture;{const p=l.image;return u&&p&&p.height>0||d&&p&&i(p)?(n===null&&(n=new w4(t)),h=u?n.fromEquirectangular(l):n.fromCubemap(l),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),l.addEventListener("dispose",s),h.texture):null}}}return l}function i(l){let c=0;const u=6;for(let d=0;d<u;d++)l[d]!==void 0&&c++;return c===u}function s(l){const c=l.target;c.removeEventListener("dispose",s);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function kPe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&yM("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function OPe(t,e,n,r){const i={},s=new WeakMap;function o(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const m in f.attributes)e.remove(f.attributes[m]);for(const m in f.morphAttributes){const y=f.morphAttributes[m];for(let b=0,v=y.length;b<v;b++)e.remove(y[b])}f.removeEventListener("dispose",o),delete i[f.id];const p=s.get(f);p&&(e.remove(p),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function l(h,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,n.memory.geometries++),f}function c(h){const f=h.attributes;for(const m in f)e.update(f[m],t.ARRAY_BUFFER);const p=h.morphAttributes;for(const m in p){const y=p[m];for(let b=0,v=y.length;b<v;b++)e.update(y[b],t.ARRAY_BUFFER)}}function u(h){const f=[],p=h.index,m=h.attributes.position;let y=0;if(p!==null){const _=p.array;y=p.version;for(let S=0,j=_.length;S<j;S+=3){const N=_[S+0],A=_[S+1],M=_[S+2];f.push(N,A,A,M,M,N)}}else if(m!==void 0){const _=m.array;y=m.version;for(let S=0,j=_.length/3-1;S<j;S+=3){const N=S+0,A=S+1,M=S+2;f.push(N,A,A,M,M,N)}}else return;const b=new(Ore(f)?kB:PB)(f,1);b.version=y;const v=s.get(h);v&&e.remove(v),s.set(h,b)}function d(h){const f=s.get(h);if(f){const p=h.index;p!==null&&f.version<p.version&&u(h)}else u(h);return s.get(h)}return{get:l,update:c,getWireframeAttribute:d}}function RPe(t,e,n){let r;function i(f){r=f}let s,o;function l(f){s=f.type,o=f.bytesPerElement}function c(f,p){t.drawElements(r,p,s,f*o),n.update(p,r,1)}function u(f,p,m){m!==0&&(t.drawElementsInstanced(r,p,s,f*o,m),n.update(p,r,m))}function d(f,p,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,s,f,0,m);let b=0;for(let v=0;v<m;v++)b+=p[v];n.update(b,r,1)}function h(f,p,m,y){if(m===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let v=0;v<f.length;v++)u(f[v]/o,p[v],y[v]);else{b.multiDrawElementsInstancedWEBGL(r,p,0,s,f,0,y,0,m);let v=0;for(let _=0;_<m;_++)v+=p[_];for(let _=0;_<y.length;_++)n.update(v,r,y[_])}}this.setMode=i,this.setIndex=l,this.render=c,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function IPe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,l){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=l*(s/3);break;case t.LINES:n.lines+=l*(s/2);break;case t.LINE_STRIP:n.lines+=l*(s-1);break;case t.LINE_LOOP:n.lines+=l*s;break;case t.POINTS:n.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function LPe(t,e,n){const r=new WeakMap,i=new Cr;function s(o,l,c){const u=o.morphTargetInfluences,d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,h=d!==void 0?d.length:0;let f=r.get(l);if(f===void 0||f.count!==h){let O=function(){k.dispose(),r.delete(l),l.removeEventListener("dispose",O)};var p=O;f!==void 0&&f.texture.dispose();const m=l.morphAttributes.position!==void 0,y=l.morphAttributes.normal!==void 0,b=l.morphAttributes.color!==void 0,v=l.morphAttributes.position||[],_=l.morphAttributes.normal||[],S=l.morphAttributes.color||[];let j=0;m===!0&&(j=1),y===!0&&(j=2),b===!0&&(j=3);let N=l.attributes.position.count*j,A=1;N>e.maxTextureSize&&(A=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const M=new Float32Array(N*A*4*h),k=new uk(M,N,A,h);k.type=Wi,k.needsUpdate=!0;const L=j*4;for(let I=0;I<h;I++){const U=v[I],W=_[I],q=S[I],J=N*A*4*I;for(let K=0;K<U.count;K++){const ne=K*L;m===!0&&(i.fromBufferAttribute(U,K),M[J+ne+0]=i.x,M[J+ne+1]=i.y,M[J+ne+2]=i.z,M[J+ne+3]=0),y===!0&&(i.fromBufferAttribute(W,K),M[J+ne+4]=i.x,M[J+ne+5]=i.y,M[J+ne+6]=i.z,M[J+ne+7]=0),b===!0&&(i.fromBufferAttribute(q,K),M[J+ne+8]=i.x,M[J+ne+9]=i.y,M[J+ne+10]=i.z,M[J+ne+11]=q.itemSize===4?i.w:1)}}f={count:h,texture:k,size:new lt(N,A)},r.set(l,f),l.addEventListener("dispose",O)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let m=0;for(let b=0;b<u.length;b++)m+=u[b];const y=l.morphTargetsRelative?1:1-m;c.getUniforms().setValue(t,"morphTargetBaseInfluence",y),c.getUniforms().setValue(t,"morphTargetInfluences",u)}c.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),c.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:s}}function DPe(t,e,n,r){let i=new WeakMap;function s(c){const u=r.render.frame,d=c.geometry,h=e.get(c,d);if(i.get(h)!==u&&(e.update(h),i.set(h,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),i.get(c)!==u&&(n.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,t.ARRAY_BUFFER),i.set(c,u))),c.isSkinnedMesh){const f=c.skeleton;i.get(f)!==u&&(f.update(),i.set(f,u))}return h}function o(){i=new WeakMap}function l(c){const u=c.target;u.removeEventListener("dispose",l),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}class IB extends ii{constructor(e,n,r,i,s,o,l,c,u,d=jy){if(d!==jy&&d!==Gy)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===jy&&(r=Cd),r===void 0&&d===Gy&&(r=Wy),super(null,i,s,o,l,c,d,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=l!==void 0?l:fa,this.minFilter=c!==void 0?c:fa,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const $re=new ii,PW=new IB(1,1),Hre=new uk,Vre=new CB,Wre=new yj,kW=[],OW=[],RW=new Float32Array(16),IW=new Float32Array(9),LW=new Float32Array(4);function aw(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=kW[i];if(s===void 0&&(s=new Float32Array(i),kW[i]=s),e!==0){r.toArray(s,0);for(let o=1,l=0;o!==e;++o)l+=n,t[o].toArray(s,l)}return s}function qs(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ys(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function dk(t,e){let n=OW[e];n===void 0&&(n=new Int32Array(e),OW[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function FPe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function UPe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qs(n,e))return;t.uniform2fv(this.addr,e),Ys(n,e)}}function BPe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(qs(n,e))return;t.uniform3fv(this.addr,e),Ys(n,e)}}function zPe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qs(n,e))return;t.uniform4fv(this.addr,e),Ys(n,e)}}function $Pe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qs(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ys(n,e)}else{if(qs(n,r))return;LW.set(r),t.uniformMatrix2fv(this.addr,!1,LW),Ys(n,r)}}function HPe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qs(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ys(n,e)}else{if(qs(n,r))return;IW.set(r),t.uniformMatrix3fv(this.addr,!1,IW),Ys(n,r)}}function VPe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qs(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ys(n,e)}else{if(qs(n,r))return;RW.set(r),t.uniformMatrix4fv(this.addr,!1,RW),Ys(n,r)}}function WPe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function GPe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qs(n,e))return;t.uniform2iv(this.addr,e),Ys(n,e)}}function qPe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(qs(n,e))return;t.uniform3iv(this.addr,e),Ys(n,e)}}function YPe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qs(n,e))return;t.uniform4iv(this.addr,e),Ys(n,e)}}function XPe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function KPe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qs(n,e))return;t.uniform2uiv(this.addr,e),Ys(n,e)}}function ZPe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(qs(n,e))return;t.uniform3uiv(this.addr,e),Ys(n,e)}}function QPe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qs(n,e))return;t.uniform4uiv(this.addr,e),Ys(n,e)}}function JPe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(PW.compareFunction=TB,s=PW):s=$re,n.setTexture2D(e||s,i)}function eke(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Vre,i)}function tke(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Wre,i)}function nke(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Hre,i)}function rke(t){switch(t){case 5126:return FPe;case 35664:return UPe;case 35665:return BPe;case 35666:return zPe;case 35674:return $Pe;case 35675:return HPe;case 35676:return VPe;case 5124:case 35670:return WPe;case 35667:case 35671:return GPe;case 35668:case 35672:return qPe;case 35669:case 35673:return YPe;case 5125:return XPe;case 36294:return KPe;case 36295:return ZPe;case 36296:return QPe;case 35678:case 36198:case 36298:case 36306:case 35682:return JPe;case 35679:case 36299:case 36307:return eke;case 35680:case 36300:case 36308:case 36293:return tke;case 36289:case 36303:case 36311:case 36292:return nke}}function ike(t,e){t.uniform1fv(this.addr,e)}function ske(t,e){const n=aw(e,this.size,2);t.uniform2fv(this.addr,n)}function ake(t,e){const n=aw(e,this.size,3);t.uniform3fv(this.addr,n)}function oke(t,e){const n=aw(e,this.size,4);t.uniform4fv(this.addr,n)}function lke(t,e){const n=aw(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function cke(t,e){const n=aw(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function uke(t,e){const n=aw(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function dke(t,e){t.uniform1iv(this.addr,e)}function hke(t,e){t.uniform2iv(this.addr,e)}function fke(t,e){t.uniform3iv(this.addr,e)}function pke(t,e){t.uniform4iv(this.addr,e)}function mke(t,e){t.uniform1uiv(this.addr,e)}function gke(t,e){t.uniform2uiv(this.addr,e)}function yke(t,e){t.uniform3uiv(this.addr,e)}function vke(t,e){t.uniform4uiv(this.addr,e)}function xke(t,e,n){const r=this.cache,i=e.length,s=dk(n,i);qs(r,s)||(t.uniform1iv(this.addr,s),Ys(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||$re,s[o])}function bke(t,e,n){const r=this.cache,i=e.length,s=dk(n,i);qs(r,s)||(t.uniform1iv(this.addr,s),Ys(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||Vre,s[o])}function wke(t,e,n){const r=this.cache,i=e.length,s=dk(n,i);qs(r,s)||(t.uniform1iv(this.addr,s),Ys(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||Wre,s[o])}function _ke(t,e,n){const r=this.cache,i=e.length,s=dk(n,i);qs(r,s)||(t.uniform1iv(this.addr,s),Ys(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||Hre,s[o])}function Ske(t){switch(t){case 5126:return ike;case 35664:return ske;case 35665:return ake;case 35666:return oke;case 35674:return lke;case 35675:return cke;case 35676:return uke;case 5124:case 35670:return dke;case 35667:case 35671:return hke;case 35668:case 35672:return fke;case 35669:case 35673:return pke;case 5125:return mke;case 36294:return gke;case 36295:return yke;case 36296:return vke;case 35678:case 36198:case 36298:case 36306:case 35682:return xke;case 35679:case 36299:case 36307:return bke;case 35680:case 36300:case 36308:case 36293:return wke;case 36289:case 36303:case 36311:case 36292:return _ke}}class Eke{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=rke(n.type)}}class jke{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Ske(n.type)}}class Ake{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const l=i[s];l.setValue(e,n[l.id],r)}}}const GI=/(\w+)(\])?(\[|\.)?/g;function DW(t,e){t.seq.push(e),t.map[e.id]=e}function Nke(t,e,n){const r=t.name,i=r.length;for(GI.lastIndex=0;;){const s=GI.exec(r),o=GI.lastIndex;let l=s[1];const c=s[2]==="]",u=s[3];if(c&&(l=l|0),u===void 0||u==="["&&o+2===i){DW(n,u===void 0?new Eke(l,t,e):new jke(l,t,e));break}else{let h=n.map[l];h===void 0&&(h=new Ake(l),DW(n,h)),n=h}}}class vM{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);Nke(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const l=n[s],c=r[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function FW(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Tke=37297;let Mke=0;function Cke(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const l=o+1;r.push(`${l===e?">":" "} ${l}: ${n[o]}`)}return r.join(`
`)}function Pke(t){const e=Rr.getPrimaries(Rr.workingColorSpace),n=Rr.getPrimaries(t);let r;switch(e===n?r="":e===HS&&n===$S?r="LinearDisplayP3ToLinearSRGB":e===$S&&n===HS&&(r="LinearSRGBToLinearDisplayP3"),t){case Cc:case mj:return[r,"LinearTransferOETF"];case Nl:case ck:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function UW(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+Cke(t.getShaderSource(e),o)}else return i}function kke(t,e){const n=Pke(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Oke(t,e){let n;switch(e){case hre:n="Linear";break;case fre:n="Reinhard";break;case pre:n="Cineon";break;case vB:n="ACESFilmic";break;case gre:n="AgX";break;case yre:n="Neutral";break;case mre:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const ZN=new le;function Rke(){Rr.getLuminanceCoefficients(ZN);const t=ZN.x.toFixed(4),e=ZN.y.toFixed(4),n=ZN.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Ike(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(S1).join(`
`)}function Lke(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Dke(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let l=1;s.type===t.FLOAT_MAT2&&(l=2),s.type===t.FLOAT_MAT3&&(l=3),s.type===t.FLOAT_MAT4&&(l=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:l}}return n}function S1(t){return t!==""}function BW(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function zW(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Fke=/^[ \t]*#include +<([\w\d./]+)>/gm;function _4(t){return t.replace(Fke,Bke)}const Uke=new Map;function Bke(t,e){let n=ar[e];if(n===void 0){const r=Uke.get(e);if(r!==void 0)n=ar[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return _4(n)}const zke=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function $W(t){return t.replace(zke,$ke)}function $ke(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function HW(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Hke(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===tk?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===F1?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ou&&(e="SHADOWMAP_TYPE_VSM"),e}function Vke(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Md:case Qp:e="ENVMAP_TYPE_CUBE";break;case sw:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Wke(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Qp:e="ENVMAP_MODE_REFRACTION";break}return e}function Gke(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case dj:e="ENVMAP_BLENDING_MULTIPLY";break;case ure:e="ENVMAP_BLENDING_MIX";break;case dre:e="ENVMAP_BLENDING_ADD";break}return e}function qke(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Yke(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,l=n.fragmentShader;const c=Hke(n),u=Vke(n),d=Wke(n),h=Gke(n),f=qke(n),p=Ike(n),m=Lke(s),y=i.createProgram();let b,v,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(S1).join(`
`),b.length>0&&(b+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(S1).join(`
`),v.length>0&&(v+=`
`)):(b=[HW(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(S1).join(`
`),v=[HW(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Sd?"#define TONE_MAPPING":"",n.toneMapping!==Sd?ar.tonemapping_pars_fragment:"",n.toneMapping!==Sd?Oke("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ar.colorspace_pars_fragment,kke("linearToOutputTexel",n.outputColorSpace),Rke(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(S1).join(`
`)),o=_4(o),o=BW(o,n),o=zW(o,n),l=_4(l),l=BW(l,n),l=zW(l,n),o=$W(o),l=$W(l),n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,b=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,v=["#define varying in",n.glslVersion===b4?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===b4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const S=_+b+o,j=_+v+l,N=FW(i,i.VERTEX_SHADER,S),A=FW(i,i.FRAGMENT_SHADER,j);i.attachShader(y,N),i.attachShader(y,A),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function M(I){if(t.debug.checkShaderErrors){const U=i.getProgramInfoLog(y).trim(),W=i.getShaderInfoLog(N).trim(),q=i.getShaderInfoLog(A).trim();let J=!0,K=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(J=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,N,A);else{const ne=UW(i,N,"vertex"),$=UW(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+U+`
`+ne+`
`+$)}else U!==""?console.warn("THREE.WebGLProgram: Program Info Log:",U):(W===""||q==="")&&(K=!1);K&&(I.diagnostics={runnable:J,programLog:U,vertexShader:{log:W,prefix:b},fragmentShader:{log:q,prefix:v}})}i.deleteShader(N),i.deleteShader(A),k=new vM(i,y),L=Dke(i,y)}let k;this.getUniforms=function(){return k===void 0&&M(this),k};let L;this.getAttributes=function(){return L===void 0&&M(this),L};let O=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(y,Tke)),O},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Mke++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=N,this.fragmentShader=A,this}let Xke=0;class Kke{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Zke(e),n.set(e,r)),r}}class Zke{constructor(e){this.id=Xke++,this.code=e,this.usedTimes=0}}function Qke(t,e,n,r,i,s,o){const l=new Ty,c=new Kke,u=new Set,d=[],h=i.logarithmicDepthBuffer,f=i.reverseDepthBuffer,p=i.vertexTextures;let m=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(O){return u.add(O),O===0?"uv":`uv${O}`}function v(O,I,U,W,q){const J=W.fog,K=q.geometry,ne=O.isMeshStandardMaterial?W.environment:null,$=(O.isMeshStandardMaterial?n:e).get(O.envMap||ne),Z=$&&$.mapping===sw?$.image.height:null,B=y[O.type];O.precision!==null&&(m=i.getMaxPrecision(O.precision),m!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",m,"instead."));const ce=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,fe=ce!==void 0?ce.length:0;let Q=0;K.morphAttributes.position!==void 0&&(Q=1),K.morphAttributes.normal!==void 0&&(Q=2),K.morphAttributes.color!==void 0&&(Q=3);let xe,ke,Re,Ce;if(B){const pr=mu[B];xe=pr.vertexShader,ke=pr.fragmentShader}else xe=O.vertexShader,ke=O.fragmentShader,c.update(O),Re=c.getVertexShaderID(O),Ce=c.getFragmentShaderID(O);const tt=t.getRenderTarget(),Fe=q.isInstancedMesh===!0,Ve=q.isBatchedMesh===!0,Ue=!!O.map,he=!!O.matcap,te=!!$,ze=!!O.aoMap,nt=!!O.lightMap,Je=!!O.bumpMap,rt=!!O.normalMap,Pt=!!O.displacementMap,bt=!!O.emissiveMap,H=!!O.metalnessMap,z=!!O.roughnessMap,oe=O.anisotropy>0,je=O.clearcoat>0,Ne=O.dispersion>0,we=O.iridescence>0,me=O.sheen>0,Ae=O.transmission>0,$e=oe&&!!O.anisotropyMap,_t=je&&!!O.clearcoatMap,Ze=je&&!!O.clearcoatNormalMap,wt=je&&!!O.clearcoatRoughnessMap,qt=we&&!!O.iridescenceMap,Rt=we&&!!O.iridescenceThicknessMap,gt=me&&!!O.sheenColorMap,fn=me&&!!O.sheenRoughnessMap,ge=!!O.specularMap,Qe=!!O.specularColorMap,ue=!!O.specularIntensityMap,pt=Ae&&!!O.transmissionMap,Se=Ae&&!!O.thicknessMap,st=!!O.gradientMap,Tt=!!O.alphaMap,kt=O.alphaTest>0,Un=!!O.alphaHash,Ot=!!O.extensions;let hn=Sd;O.toneMapped&&(tt===null||tt.isXRRenderTarget===!0)&&(hn=t.toneMapping);const Vt={shaderID:B,shaderType:O.type,shaderName:O.name,vertexShader:xe,fragmentShader:ke,defines:O.defines,customVertexShaderID:Re,customFragmentShaderID:Ce,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:m,batching:Ve,batchingColor:Ve&&q._colorsTexture!==null,instancing:Fe,instancingColor:Fe&&q.instanceColor!==null,instancingMorph:Fe&&q.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:tt===null?t.outputColorSpace:tt.isXRRenderTarget===!0?tt.texture.colorSpace:Cc,alphaToCoverage:!!O.alphaToCoverage,map:Ue,matcap:he,envMap:te,envMapMode:te&&$.mapping,envMapCubeUVHeight:Z,aoMap:ze,lightMap:nt,bumpMap:Je,normalMap:rt,displacementMap:p&&Pt,emissiveMap:bt,normalMapObjectSpace:rt&&O.normalMapType===Ere,normalMapTangentSpace:rt&&O.normalMapType===vm,metalnessMap:H,roughnessMap:z,anisotropy:oe,anisotropyMap:$e,clearcoat:je,clearcoatMap:_t,clearcoatNormalMap:Ze,clearcoatRoughnessMap:wt,dispersion:Ne,iridescence:we,iridescenceMap:qt,iridescenceThicknessMap:Rt,sheen:me,sheenColorMap:gt,sheenRoughnessMap:fn,specularMap:ge,specularColorMap:Qe,specularIntensityMap:ue,transmission:Ae,transmissionMap:pt,thicknessMap:Se,gradientMap:st,opaque:O.transparent===!1&&O.blending===Ey&&O.alphaToCoverage===!1,alphaMap:Tt,alphaTest:kt,alphaHash:Un,combine:O.combine,mapUv:Ue&&b(O.map.channel),aoMapUv:ze&&b(O.aoMap.channel),lightMapUv:nt&&b(O.lightMap.channel),bumpMapUv:Je&&b(O.bumpMap.channel),normalMapUv:rt&&b(O.normalMap.channel),displacementMapUv:Pt&&b(O.displacementMap.channel),emissiveMapUv:bt&&b(O.emissiveMap.channel),metalnessMapUv:H&&b(O.metalnessMap.channel),roughnessMapUv:z&&b(O.roughnessMap.channel),anisotropyMapUv:$e&&b(O.anisotropyMap.channel),clearcoatMapUv:_t&&b(O.clearcoatMap.channel),clearcoatNormalMapUv:Ze&&b(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:wt&&b(O.clearcoatRoughnessMap.channel),iridescenceMapUv:qt&&b(O.iridescenceMap.channel),iridescenceThicknessMapUv:Rt&&b(O.iridescenceThicknessMap.channel),sheenColorMapUv:gt&&b(O.sheenColorMap.channel),sheenRoughnessMapUv:fn&&b(O.sheenRoughnessMap.channel),specularMapUv:ge&&b(O.specularMap.channel),specularColorMapUv:Qe&&b(O.specularColorMap.channel),specularIntensityMapUv:ue&&b(O.specularIntensityMap.channel),transmissionMapUv:pt&&b(O.transmissionMap.channel),thicknessMapUv:Se&&b(O.thicknessMap.channel),alphaMapUv:Tt&&b(O.alphaMap.channel),vertexTangents:!!K.attributes.tangent&&(rt||oe),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,pointsUvs:q.isPoints===!0&&!!K.attributes.uv&&(Ue||Tt),fog:!!J,useFog:O.fog===!0,fogExp2:!!J&&J.isFogExp2,flatShading:O.flatShading===!0,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:h,reverseDepthBuffer:f,skinning:q.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:fe,morphTextureStride:Q,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:O.dithering,shadowMapEnabled:t.shadowMap.enabled&&U.length>0,shadowMapType:t.shadowMap.type,toneMapping:hn,decodeVideoTexture:Ue&&O.map.isVideoTexture===!0&&Rr.getTransfer(O.map.colorSpace)===mi,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===wc,flipSided:O.side===xo,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:Ot&&O.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ot&&O.extensions.multiDraw===!0||Ve)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return Vt.vertexUv1s=u.has(1),Vt.vertexUv2s=u.has(2),Vt.vertexUv3s=u.has(3),u.clear(),Vt}function _(O){const I=[];if(O.shaderID?I.push(O.shaderID):(I.push(O.customVertexShaderID),I.push(O.customFragmentShaderID)),O.defines!==void 0)for(const U in O.defines)I.push(U),I.push(O.defines[U]);return O.isRawShaderMaterial===!1&&(S(I,O),j(I,O),I.push(t.outputColorSpace)),I.push(O.customProgramCacheKey),I.join()}function S(O,I){O.push(I.precision),O.push(I.outputColorSpace),O.push(I.envMapMode),O.push(I.envMapCubeUVHeight),O.push(I.mapUv),O.push(I.alphaMapUv),O.push(I.lightMapUv),O.push(I.aoMapUv),O.push(I.bumpMapUv),O.push(I.normalMapUv),O.push(I.displacementMapUv),O.push(I.emissiveMapUv),O.push(I.metalnessMapUv),O.push(I.roughnessMapUv),O.push(I.anisotropyMapUv),O.push(I.clearcoatMapUv),O.push(I.clearcoatNormalMapUv),O.push(I.clearcoatRoughnessMapUv),O.push(I.iridescenceMapUv),O.push(I.iridescenceThicknessMapUv),O.push(I.sheenColorMapUv),O.push(I.sheenRoughnessMapUv),O.push(I.specularMapUv),O.push(I.specularColorMapUv),O.push(I.specularIntensityMapUv),O.push(I.transmissionMapUv),O.push(I.thicknessMapUv),O.push(I.combine),O.push(I.fogExp2),O.push(I.sizeAttenuation),O.push(I.morphTargetsCount),O.push(I.morphAttributeCount),O.push(I.numDirLights),O.push(I.numPointLights),O.push(I.numSpotLights),O.push(I.numSpotLightMaps),O.push(I.numHemiLights),O.push(I.numRectAreaLights),O.push(I.numDirLightShadows),O.push(I.numPointLightShadows),O.push(I.numSpotLightShadows),O.push(I.numSpotLightShadowsWithMaps),O.push(I.numLightProbes),O.push(I.shadowMapType),O.push(I.toneMapping),O.push(I.numClippingPlanes),O.push(I.numClipIntersection),O.push(I.depthPacking)}function j(O,I){l.disableAll(),I.supportsVertexTextures&&l.enable(0),I.instancing&&l.enable(1),I.instancingColor&&l.enable(2),I.instancingMorph&&l.enable(3),I.matcap&&l.enable(4),I.envMap&&l.enable(5),I.normalMapObjectSpace&&l.enable(6),I.normalMapTangentSpace&&l.enable(7),I.clearcoat&&l.enable(8),I.iridescence&&l.enable(9),I.alphaTest&&l.enable(10),I.vertexColors&&l.enable(11),I.vertexAlphas&&l.enable(12),I.vertexUv1s&&l.enable(13),I.vertexUv2s&&l.enable(14),I.vertexUv3s&&l.enable(15),I.vertexTangents&&l.enable(16),I.anisotropy&&l.enable(17),I.alphaHash&&l.enable(18),I.batching&&l.enable(19),I.dispersion&&l.enable(20),I.batchingColor&&l.enable(21),O.push(l.mask),l.disableAll(),I.fog&&l.enable(0),I.useFog&&l.enable(1),I.flatShading&&l.enable(2),I.logarithmicDepthBuffer&&l.enable(3),I.reverseDepthBuffer&&l.enable(4),I.skinning&&l.enable(5),I.morphTargets&&l.enable(6),I.morphNormals&&l.enable(7),I.morphColors&&l.enable(8),I.premultipliedAlpha&&l.enable(9),I.shadowMapEnabled&&l.enable(10),I.doubleSided&&l.enable(11),I.flipSided&&l.enable(12),I.useDepthPacking&&l.enable(13),I.dithering&&l.enable(14),I.transmission&&l.enable(15),I.sheen&&l.enable(16),I.opaque&&l.enable(17),I.pointsUvs&&l.enable(18),I.decodeVideoTexture&&l.enable(19),I.alphaToCoverage&&l.enable(20),O.push(l.mask)}function N(O){const I=y[O.type];let U;if(I){const W=mu[I];U=Ure.clone(W.uniforms)}else U=O.uniforms;return U}function A(O,I){let U;for(let W=0,q=d.length;W<q;W++){const J=d[W];if(J.cacheKey===I){U=J,++U.usedTimes;break}}return U===void 0&&(U=new Yke(t,I,O,s),d.push(U)),U}function M(O){if(--O.usedTimes===0){const I=d.indexOf(O);d[I]=d[d.length-1],d.pop(),O.destroy()}}function k(O){c.remove(O)}function L(){c.dispose()}return{getParameters:v,getProgramCacheKey:_,getUniforms:N,acquireProgram:A,releaseProgram:M,releaseShaderCache:k,programs:d,dispose:L}}function Jke(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let l=t.get(o);return l===void 0&&(l={},t.set(o,l)),l}function r(o){t.delete(o)}function i(o,l,c){t.get(o)[l]=c}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function eOe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function VW(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function WW(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(h,f,p,m,y,b){let v=t[e];return v===void 0?(v={id:h.id,object:h,geometry:f,material:p,groupOrder:m,renderOrder:h.renderOrder,z:y,group:b},t[e]=v):(v.id=h.id,v.object=h,v.geometry=f,v.material=p,v.groupOrder=m,v.renderOrder=h.renderOrder,v.z=y,v.group=b),e++,v}function l(h,f,p,m,y,b){const v=o(h,f,p,m,y,b);p.transmission>0?r.push(v):p.transparent===!0?i.push(v):n.push(v)}function c(h,f,p,m,y,b){const v=o(h,f,p,m,y,b);p.transmission>0?r.unshift(v):p.transparent===!0?i.unshift(v):n.unshift(v)}function u(h,f){n.length>1&&n.sort(h||eOe),r.length>1&&r.sort(f||VW),i.length>1&&i.sort(f||VW)}function d(){for(let h=e,f=t.length;h<f;h++){const p=t[h];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:l,unshift:c,finish:d,sort:u}}function tOe(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new WW,t.set(r,[o])):i>=s.length?(o=new WW,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function nOe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new le,color:new Gt};break;case"SpotLight":n={position:new le,direction:new le,color:new Gt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new le,color:new Gt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new le,skyColor:new Gt,groundColor:new Gt};break;case"RectAreaLight":n={color:new Gt,position:new le,halfWidth:new le,halfHeight:new le};break}return t[e.id]=n,n}}}function rOe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new lt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new lt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new lt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let iOe=0;function sOe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function aOe(t){const e=new nOe,n=rOe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new le);const i=new le,s=new En,o=new En;function l(u){let d=0,h=0,f=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let p=0,m=0,y=0,b=0,v=0,_=0,S=0,j=0,N=0,A=0,M=0;u.sort(sOe);for(let L=0,O=u.length;L<O;L++){const I=u[L],U=I.color,W=I.intensity,q=I.distance,J=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)d+=U.r*W,h+=U.g*W,f+=U.b*W;else if(I.isLightProbe){for(let K=0;K<9;K++)r.probe[K].addScaledVector(I.sh.coefficients[K],W);M++}else if(I.isDirectionalLight){const K=e.get(I);if(K.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const ne=I.shadow,$=n.get(I);$.shadowIntensity=ne.intensity,$.shadowBias=ne.bias,$.shadowNormalBias=ne.normalBias,$.shadowRadius=ne.radius,$.shadowMapSize=ne.mapSize,r.directionalShadow[p]=$,r.directionalShadowMap[p]=J,r.directionalShadowMatrix[p]=I.shadow.matrix,_++}r.directional[p]=K,p++}else if(I.isSpotLight){const K=e.get(I);K.position.setFromMatrixPosition(I.matrixWorld),K.color.copy(U).multiplyScalar(W),K.distance=q,K.coneCos=Math.cos(I.angle),K.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),K.decay=I.decay,r.spot[y]=K;const ne=I.shadow;if(I.map&&(r.spotLightMap[N]=I.map,N++,ne.updateMatrices(I),I.castShadow&&A++),r.spotLightMatrix[y]=ne.matrix,I.castShadow){const $=n.get(I);$.shadowIntensity=ne.intensity,$.shadowBias=ne.bias,$.shadowNormalBias=ne.normalBias,$.shadowRadius=ne.radius,$.shadowMapSize=ne.mapSize,r.spotShadow[y]=$,r.spotShadowMap[y]=J,j++}y++}else if(I.isRectAreaLight){const K=e.get(I);K.color.copy(U).multiplyScalar(W),K.halfWidth.set(I.width*.5,0,0),K.halfHeight.set(0,I.height*.5,0),r.rectArea[b]=K,b++}else if(I.isPointLight){const K=e.get(I);if(K.color.copy(I.color).multiplyScalar(I.intensity),K.distance=I.distance,K.decay=I.decay,I.castShadow){const ne=I.shadow,$=n.get(I);$.shadowIntensity=ne.intensity,$.shadowBias=ne.bias,$.shadowNormalBias=ne.normalBias,$.shadowRadius=ne.radius,$.shadowMapSize=ne.mapSize,$.shadowCameraNear=ne.camera.near,$.shadowCameraFar=ne.camera.far,r.pointShadow[m]=$,r.pointShadowMap[m]=J,r.pointShadowMatrix[m]=I.shadow.matrix,S++}r.point[m]=K,m++}else if(I.isHemisphereLight){const K=e.get(I);K.skyColor.copy(I.color).multiplyScalar(W),K.groundColor.copy(I.groundColor).multiplyScalar(W),r.hemi[v]=K,v++}}b>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Lt.LTC_FLOAT_1,r.rectAreaLTC2=Lt.LTC_FLOAT_2):(r.rectAreaLTC1=Lt.LTC_HALF_1,r.rectAreaLTC2=Lt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=h,r.ambient[2]=f;const k=r.hash;(k.directionalLength!==p||k.pointLength!==m||k.spotLength!==y||k.rectAreaLength!==b||k.hemiLength!==v||k.numDirectionalShadows!==_||k.numPointShadows!==S||k.numSpotShadows!==j||k.numSpotMaps!==N||k.numLightProbes!==M)&&(r.directional.length=p,r.spot.length=y,r.rectArea.length=b,r.point.length=m,r.hemi.length=v,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=j,r.spotShadowMap.length=j,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=S,r.spotLightMatrix.length=j+N-A,r.spotLightMap.length=N,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=M,k.directionalLength=p,k.pointLength=m,k.spotLength=y,k.rectAreaLength=b,k.hemiLength=v,k.numDirectionalShadows=_,k.numPointShadows=S,k.numSpotShadows=j,k.numSpotMaps=N,k.numLightProbes=M,r.version=iOe++)}function c(u,d){let h=0,f=0,p=0,m=0,y=0;const b=d.matrixWorldInverse;for(let v=0,_=u.length;v<_;v++){const S=u[v];if(S.isDirectionalLight){const j=r.directional[h];j.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),j.direction.sub(i),j.direction.transformDirection(b),h++}else if(S.isSpotLight){const j=r.spot[p];j.position.setFromMatrixPosition(S.matrixWorld),j.position.applyMatrix4(b),j.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),j.direction.sub(i),j.direction.transformDirection(b),p++}else if(S.isRectAreaLight){const j=r.rectArea[m];j.position.setFromMatrixPosition(S.matrixWorld),j.position.applyMatrix4(b),o.identity(),s.copy(S.matrixWorld),s.premultiply(b),o.extractRotation(s),j.halfWidth.set(S.width*.5,0,0),j.halfHeight.set(0,S.height*.5,0),j.halfWidth.applyMatrix4(o),j.halfHeight.applyMatrix4(o),m++}else if(S.isPointLight){const j=r.point[f];j.position.setFromMatrixPosition(S.matrixWorld),j.position.applyMatrix4(b),f++}else if(S.isHemisphereLight){const j=r.hemi[y];j.direction.setFromMatrixPosition(S.matrixWorld),j.direction.transformDirection(b),y++}}}return{setup:l,setupView:c,state:r}}function GW(t){const e=new aOe(t),n=[],r=[];function i(d){u.camera=d,n.length=0,r.length=0}function s(d){n.push(d)}function o(d){r.push(d)}function l(){e.setup(n)}function c(d){e.setupView(n,d)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:l,setupLightsView:c,pushLight:s,pushShadow:o}}function oOe(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let l;return o===void 0?(l=new GW(t),e.set(i,[l])):s>=o.length?(l=new GW(t),o.push(l)):l=o[s],l}function r(){e=new WeakMap}return{get:n,dispose:r}}class LB extends Xa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_re,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class DB extends Xa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const lOe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,cOe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function uOe(t,e,n){let r=new vj;const i=new lt,s=new lt,o=new Cr,l=new LB({depthPacking:Sre}),c=new DB,u={},d=n.maxTextureSize,h={[Yh]:xo,[xo]:Yh,[wc]:wc},f=new Qo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new lt},radius:{value:4}},vertexShader:lOe,fragmentShader:cOe}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const m=new fr;m.setAttribute("position",new ei(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Gi(m,f),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=tk;let v=this.type;this.render=function(A,M,k){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||A.length===0)return;const L=t.getRenderTarget(),O=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),U=t.state;U.setBlending(_d),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const W=v!==ou&&this.type===ou,q=v===ou&&this.type!==ou;for(let J=0,K=A.length;J<K;J++){const ne=A[J],$=ne.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",ne,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;i.copy($.mapSize);const Z=$.getFrameExtents();if(i.multiply(Z),s.copy($.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/Z.x),i.x=s.x*Z.x,$.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/Z.y),i.y=s.y*Z.y,$.mapSize.y=s.y)),$.map===null||W===!0||q===!0){const ce=this.type!==ou?{minFilter:fa,magFilter:fa}:{};$.map!==null&&$.map.dispose(),$.map=new zl(i.x,i.y,ce),$.map.texture.name=ne.name+".shadowMap",$.camera.updateProjectionMatrix()}t.setRenderTarget($.map),t.clear();const B=$.getViewportCount();for(let ce=0;ce<B;ce++){const fe=$.getViewport(ce);o.set(s.x*fe.x,s.y*fe.y,s.x*fe.z,s.y*fe.w),U.viewport(o),$.updateMatrices(ne,ce),r=$.getFrustum(),j(M,k,$.camera,ne,this.type)}$.isPointLightShadow!==!0&&this.type===ou&&_($,k),$.needsUpdate=!1}v=this.type,b.needsUpdate=!1,t.setRenderTarget(L,O,I)};function _(A,M){const k=e.update(y);f.defines.VSM_SAMPLES!==A.blurSamples&&(f.defines.VSM_SAMPLES=A.blurSamples,p.defines.VSM_SAMPLES=A.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new zl(i.x,i.y)),f.uniforms.shadow_pass.value=A.map.texture,f.uniforms.resolution.value=A.mapSize,f.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(M,null,k,f,y,null),p.uniforms.shadow_pass.value=A.mapPass.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(M,null,k,p,y,null)}function S(A,M,k,L){let O=null;const I=k.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(I!==void 0)O=I;else if(O=k.isPointLight===!0?c:l,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const U=O.uuid,W=M.uuid;let q=u[U];q===void 0&&(q={},u[U]=q);let J=q[W];J===void 0&&(J=O.clone(),q[W]=J,M.addEventListener("dispose",N)),O=J}if(O.visible=M.visible,O.wireframe=M.wireframe,L===ou?O.side=M.shadowSide!==null?M.shadowSide:M.side:O.side=M.shadowSide!==null?M.shadowSide:h[M.side],O.alphaMap=M.alphaMap,O.alphaTest=M.alphaTest,O.map=M.map,O.clipShadows=M.clipShadows,O.clippingPlanes=M.clippingPlanes,O.clipIntersection=M.clipIntersection,O.displacementMap=M.displacementMap,O.displacementScale=M.displacementScale,O.displacementBias=M.displacementBias,O.wireframeLinewidth=M.wireframeLinewidth,O.linewidth=M.linewidth,k.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const U=t.properties.get(O);U.light=k}return O}function j(A,M,k,L,O){if(A.visible===!1)return;if(A.layers.test(M.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&O===ou)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,A.matrixWorld);const W=e.update(A),q=A.material;if(Array.isArray(q)){const J=W.groups;for(let K=0,ne=J.length;K<ne;K++){const $=J[K],Z=q[$.materialIndex];if(Z&&Z.visible){const B=S(A,Z,L,O);A.onBeforeShadow(t,A,M,k,W,B,$),t.renderBufferDirect(k,null,W,B,A,$),A.onAfterShadow(t,A,M,k,W,B,$)}}}else if(q.visible){const J=S(A,q,L,O);A.onBeforeShadow(t,A,M,k,W,J,null),t.renderBufferDirect(k,null,W,J,A,null),A.onAfterShadow(t,A,M,k,W,J,null)}}const U=A.children;for(let W=0,q=U.length;W<q;W++)j(U[W],M,k,L,O)}function N(A){A.target.removeEventListener("dispose",N);for(const k in u){const L=u[k],O=A.target.uuid;O in L&&(L[O].dispose(),delete L[O])}}}const dOe={[pC]:mC,[gC]:xC,[yC]:bC,[Vy]:vC,[mC]:pC,[xC]:gC,[bC]:yC,[vC]:Vy};function hOe(t){function e(){let ue=!1;const pt=new Cr;let Se=null;const st=new Cr(0,0,0,0);return{setMask:function(Tt){Se!==Tt&&!ue&&(t.colorMask(Tt,Tt,Tt,Tt),Se=Tt)},setLocked:function(Tt){ue=Tt},setClear:function(Tt,kt,Un,Ot,hn){hn===!0&&(Tt*=Ot,kt*=Ot,Un*=Ot),pt.set(Tt,kt,Un,Ot),st.equals(pt)===!1&&(t.clearColor(Tt,kt,Un,Ot),st.copy(pt))},reset:function(){ue=!1,Se=null,st.set(-1,0,0,0)}}}function n(){let ue=!1,pt=!1,Se=null,st=null,Tt=null;return{setReversed:function(kt){pt=kt},setTest:function(kt){kt?Re(t.DEPTH_TEST):Ce(t.DEPTH_TEST)},setMask:function(kt){Se!==kt&&!ue&&(t.depthMask(kt),Se=kt)},setFunc:function(kt){if(pt&&(kt=dOe[kt]),st!==kt){switch(kt){case pC:t.depthFunc(t.NEVER);break;case mC:t.depthFunc(t.ALWAYS);break;case gC:t.depthFunc(t.LESS);break;case Vy:t.depthFunc(t.LEQUAL);break;case yC:t.depthFunc(t.EQUAL);break;case vC:t.depthFunc(t.GEQUAL);break;case xC:t.depthFunc(t.GREATER);break;case bC:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}st=kt}},setLocked:function(kt){ue=kt},setClear:function(kt){Tt!==kt&&(t.clearDepth(kt),Tt=kt)},reset:function(){ue=!1,Se=null,st=null,Tt=null}}}function r(){let ue=!1,pt=null,Se=null,st=null,Tt=null,kt=null,Un=null,Ot=null,hn=null;return{setTest:function(Vt){ue||(Vt?Re(t.STENCIL_TEST):Ce(t.STENCIL_TEST))},setMask:function(Vt){pt!==Vt&&!ue&&(t.stencilMask(Vt),pt=Vt)},setFunc:function(Vt,pr,Ar){(Se!==Vt||st!==pr||Tt!==Ar)&&(t.stencilFunc(Vt,pr,Ar),Se=Vt,st=pr,Tt=Ar)},setOp:function(Vt,pr,Ar){(kt!==Vt||Un!==pr||Ot!==Ar)&&(t.stencilOp(Vt,pr,Ar),kt=Vt,Un=pr,Ot=Ar)},setLocked:function(Vt){ue=Vt},setClear:function(Vt){hn!==Vt&&(t.clearStencil(Vt),hn=Vt)},reset:function(){ue=!1,pt=null,Se=null,st=null,Tt=null,kt=null,Un=null,Ot=null,hn=null}}}const i=new e,s=new n,o=new r,l=new WeakMap,c=new WeakMap;let u={},d={},h=new WeakMap,f=[],p=null,m=!1,y=null,b=null,v=null,_=null,S=null,j=null,N=null,A=new Gt(0,0,0),M=0,k=!1,L=null,O=null,I=null,U=null,W=null;const q=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,K=0;const ne=t.getParameter(t.VERSION);ne.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(ne)[1]),J=K>=1):ne.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(ne)[1]),J=K>=2);let $=null,Z={};const B=t.getParameter(t.SCISSOR_BOX),ce=t.getParameter(t.VIEWPORT),fe=new Cr().fromArray(B),Q=new Cr().fromArray(ce);function xe(ue,pt,Se,st){const Tt=new Uint8Array(4),kt=t.createTexture();t.bindTexture(ue,kt),t.texParameteri(ue,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ue,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Un=0;Un<Se;Un++)ue===t.TEXTURE_3D||ue===t.TEXTURE_2D_ARRAY?t.texImage3D(pt,0,t.RGBA,1,1,st,0,t.RGBA,t.UNSIGNED_BYTE,Tt):t.texImage2D(pt+Un,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Tt);return kt}const ke={};ke[t.TEXTURE_2D]=xe(t.TEXTURE_2D,t.TEXTURE_2D,1),ke[t.TEXTURE_CUBE_MAP]=xe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ke[t.TEXTURE_2D_ARRAY]=xe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ke[t.TEXTURE_3D]=xe(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Re(t.DEPTH_TEST),s.setFunc(Vy),nt(!1),Je(f4),Re(t.CULL_FACE),te(_d);function Re(ue){u[ue]!==!0&&(t.enable(ue),u[ue]=!0)}function Ce(ue){u[ue]!==!1&&(t.disable(ue),u[ue]=!1)}function tt(ue,pt){return d[ue]!==pt?(t.bindFramebuffer(ue,pt),d[ue]=pt,ue===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=pt),ue===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=pt),!0):!1}function Fe(ue,pt){let Se=f,st=!1;if(ue){Se=h.get(pt),Se===void 0&&(Se=[],h.set(pt,Se));const Tt=ue.textures;if(Se.length!==Tt.length||Se[0]!==t.COLOR_ATTACHMENT0){for(let kt=0,Un=Tt.length;kt<Un;kt++)Se[kt]=t.COLOR_ATTACHMENT0+kt;Se.length=Tt.length,st=!0}}else Se[0]!==t.BACK&&(Se[0]=t.BACK,st=!0);st&&t.drawBuffers(Se)}function Ve(ue){return p!==ue?(t.useProgram(ue),p=ue,!0):!1}const Ue={[dp]:t.FUNC_ADD,[qne]:t.FUNC_SUBTRACT,[Yne]:t.FUNC_REVERSE_SUBTRACT};Ue[Xne]=t.MIN,Ue[Kne]=t.MAX;const he={[Zne]:t.ZERO,[Qne]:t.ONE,[Jne]:t.SRC_COLOR,[hC]:t.SRC_ALPHA,[sre]:t.SRC_ALPHA_SATURATE,[rre]:t.DST_COLOR,[tre]:t.DST_ALPHA,[ere]:t.ONE_MINUS_SRC_COLOR,[fC]:t.ONE_MINUS_SRC_ALPHA,[ire]:t.ONE_MINUS_DST_COLOR,[nre]:t.ONE_MINUS_DST_ALPHA,[are]:t.CONSTANT_COLOR,[ore]:t.ONE_MINUS_CONSTANT_COLOR,[lre]:t.CONSTANT_ALPHA,[cre]:t.ONE_MINUS_CONSTANT_ALPHA};function te(ue,pt,Se,st,Tt,kt,Un,Ot,hn,Vt){if(ue===_d){m===!0&&(Ce(t.BLEND),m=!1);return}if(m===!1&&(Re(t.BLEND),m=!0),ue!==Gne){if(ue!==y||Vt!==k){if((b!==dp||S!==dp)&&(t.blendEquation(t.FUNC_ADD),b=dp,S=dp),Vt)switch(ue){case Ey:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case p4:t.blendFunc(t.ONE,t.ONE);break;case m4:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case g4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}else switch(ue){case Ey:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case p4:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case m4:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case g4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}v=null,_=null,j=null,N=null,A.set(0,0,0),M=0,y=ue,k=Vt}return}Tt=Tt||pt,kt=kt||Se,Un=Un||st,(pt!==b||Tt!==S)&&(t.blendEquationSeparate(Ue[pt],Ue[Tt]),b=pt,S=Tt),(Se!==v||st!==_||kt!==j||Un!==N)&&(t.blendFuncSeparate(he[Se],he[st],he[kt],he[Un]),v=Se,_=st,j=kt,N=Un),(Ot.equals(A)===!1||hn!==M)&&(t.blendColor(Ot.r,Ot.g,Ot.b,hn),A.copy(Ot),M=hn),y=ue,k=!1}function ze(ue,pt){ue.side===wc?Ce(t.CULL_FACE):Re(t.CULL_FACE);let Se=ue.side===xo;pt&&(Se=!Se),nt(Se),ue.blending===Ey&&ue.transparent===!1?te(_d):te(ue.blending,ue.blendEquation,ue.blendSrc,ue.blendDst,ue.blendEquationAlpha,ue.blendSrcAlpha,ue.blendDstAlpha,ue.blendColor,ue.blendAlpha,ue.premultipliedAlpha),s.setFunc(ue.depthFunc),s.setTest(ue.depthTest),s.setMask(ue.depthWrite),i.setMask(ue.colorWrite);const st=ue.stencilWrite;o.setTest(st),st&&(o.setMask(ue.stencilWriteMask),o.setFunc(ue.stencilFunc,ue.stencilRef,ue.stencilFuncMask),o.setOp(ue.stencilFail,ue.stencilZFail,ue.stencilZPass)),Pt(ue.polygonOffset,ue.polygonOffsetFactor,ue.polygonOffsetUnits),ue.alphaToCoverage===!0?Re(t.SAMPLE_ALPHA_TO_COVERAGE):Ce(t.SAMPLE_ALPHA_TO_COVERAGE)}function nt(ue){L!==ue&&(ue?t.frontFace(t.CW):t.frontFace(t.CCW),L=ue)}function Je(ue){ue!==Hne?(Re(t.CULL_FACE),ue!==O&&(ue===f4?t.cullFace(t.BACK):ue===Vne?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ce(t.CULL_FACE),O=ue}function rt(ue){ue!==I&&(J&&t.lineWidth(ue),I=ue)}function Pt(ue,pt,Se){ue?(Re(t.POLYGON_OFFSET_FILL),(U!==pt||W!==Se)&&(t.polygonOffset(pt,Se),U=pt,W=Se)):Ce(t.POLYGON_OFFSET_FILL)}function bt(ue){ue?Re(t.SCISSOR_TEST):Ce(t.SCISSOR_TEST)}function H(ue){ue===void 0&&(ue=t.TEXTURE0+q-1),$!==ue&&(t.activeTexture(ue),$=ue)}function z(ue,pt,Se){Se===void 0&&($===null?Se=t.TEXTURE0+q-1:Se=$);let st=Z[Se];st===void 0&&(st={type:void 0,texture:void 0},Z[Se]=st),(st.type!==ue||st.texture!==pt)&&($!==Se&&(t.activeTexture(Se),$=Se),t.bindTexture(ue,pt||ke[ue]),st.type=ue,st.texture=pt)}function oe(){const ue=Z[$];ue!==void 0&&ue.type!==void 0&&(t.bindTexture(ue.type,null),ue.type=void 0,ue.texture=void 0)}function je(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ne(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function we(){try{t.texSubImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function me(){try{t.texSubImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ae(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function $e(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function _t(){try{t.texStorage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ze(){try{t.texStorage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function wt(){try{t.texImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function qt(){try{t.texImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Rt(ue){fe.equals(ue)===!1&&(t.scissor(ue.x,ue.y,ue.z,ue.w),fe.copy(ue))}function gt(ue){Q.equals(ue)===!1&&(t.viewport(ue.x,ue.y,ue.z,ue.w),Q.copy(ue))}function fn(ue,pt){let Se=c.get(pt);Se===void 0&&(Se=new WeakMap,c.set(pt,Se));let st=Se.get(ue);st===void 0&&(st=t.getUniformBlockIndex(pt,ue.name),Se.set(ue,st))}function ge(ue,pt){const st=c.get(pt).get(ue);l.get(pt)!==st&&(t.uniformBlockBinding(pt,st,ue.__bindingPointIndex),l.set(pt,st))}function Qe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},$=null,Z={},d={},h=new WeakMap,f=[],p=null,m=!1,y=null,b=null,v=null,_=null,S=null,j=null,N=null,A=new Gt(0,0,0),M=0,k=!1,L=null,O=null,I=null,U=null,W=null,fe.set(0,0,t.canvas.width,t.canvas.height),Q.set(0,0,t.canvas.width,t.canvas.height),i.reset(),s.reset(),o.reset()}return{buffers:{color:i,depth:s,stencil:o},enable:Re,disable:Ce,bindFramebuffer:tt,drawBuffers:Fe,useProgram:Ve,setBlending:te,setMaterial:ze,setFlipSided:nt,setCullFace:Je,setLineWidth:rt,setPolygonOffset:Pt,setScissorTest:bt,activeTexture:H,bindTexture:z,unbindTexture:oe,compressedTexImage2D:je,compressedTexImage3D:Ne,texImage2D:wt,texImage3D:qt,updateUBOMapping:fn,uniformBlockBinding:ge,texStorage2D:_t,texStorage3D:Ze,texSubImage2D:we,texSubImage3D:me,compressedTexSubImage2D:Ae,compressedTexSubImage3D:$e,scissor:Rt,viewport:gt,reset:Qe}}function fOe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function pOe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function mOe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function S4(t,e,n,r){const i=gOe(r);switch(n){case wB:return t*e;case SB:return t*e;case EB:return t*e*2;case fj:return t*e/i.components*i.byteLength;case pj:return t*e/i.components*i.byteLength;case jB:return t*e*2/i.components*i.byteLength;case ak:return t*e*2/i.components*i.byteLength;case _B:return t*e*3/i.components*i.byteLength;case ms:return t*e*4/i.components*i.byteLength;case ok:return t*e*4/i.components*i.byteLength;case B1:case z1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case $1:case H1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case _C:case EC:return Math.max(t,16)*Math.max(e,8)/4;case wC:case SC:return Math.max(t,8)*Math.max(e,8)/2;case jC:case AC:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case NC:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case TC:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case MC:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case CC:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case PC:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case kC:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case OC:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case RC:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case IC:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case LC:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case DC:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case FC:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case UC:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case BC:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case zC:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case V1:case $C:case HC:return Math.ceil(t/4)*Math.ceil(e/4)*16;case AB:case VC:return Math.ceil(t/4)*Math.ceil(e/4)*8;case WC:case GC:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function gOe(t){switch(t){case Zo:case nk:return{byteLength:1,components:1};case cb:case rk:case pa:return{byteLength:2,components:1};case ik:case sk:return{byteLength:2,components:4};case Cd:case hj:case Wi:return{byteLength:4,components:1};case bB:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const yOe={contain:fOe,cover:pOe,fill:mOe,getByteLength:S4};function vOe(t,e,n,r,i,s,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new lt,d=new WeakMap;let h;const f=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(H,z){return p?new OffscreenCanvas(H,z):GS("canvas")}function y(H,z,oe){let je=1;const Ne=bt(H);if((Ne.width>oe||Ne.height>oe)&&(je=oe/Math.max(Ne.width,Ne.height)),je<1)if(typeof HTMLImageElement<"u"&&H instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&H instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&H instanceof ImageBitmap||typeof VideoFrame<"u"&&H instanceof VideoFrame){const we=Math.floor(je*Ne.width),me=Math.floor(je*Ne.height);h===void 0&&(h=m(we,me));const Ae=z?m(we,me):h;return Ae.width=we,Ae.height=me,Ae.getContext("2d").drawImage(H,0,0,we,me),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ne.width+"x"+Ne.height+") to ("+we+"x"+me+")."),Ae}else return"data"in H&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ne.width+"x"+Ne.height+")."),H;return H}function b(H){return H.generateMipmaps&&H.minFilter!==fa&&H.minFilter!==Gr}function v(H){t.generateMipmap(H)}function _(H,z,oe,je,Ne=!1){if(H!==null){if(t[H]!==void 0)return t[H];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+H+"'")}let we=z;if(z===t.RED&&(oe===t.FLOAT&&(we=t.R32F),oe===t.HALF_FLOAT&&(we=t.R16F),oe===t.UNSIGNED_BYTE&&(we=t.R8)),z===t.RED_INTEGER&&(oe===t.UNSIGNED_BYTE&&(we=t.R8UI),oe===t.UNSIGNED_SHORT&&(we=t.R16UI),oe===t.UNSIGNED_INT&&(we=t.R32UI),oe===t.BYTE&&(we=t.R8I),oe===t.SHORT&&(we=t.R16I),oe===t.INT&&(we=t.R32I)),z===t.RG&&(oe===t.FLOAT&&(we=t.RG32F),oe===t.HALF_FLOAT&&(we=t.RG16F),oe===t.UNSIGNED_BYTE&&(we=t.RG8)),z===t.RG_INTEGER&&(oe===t.UNSIGNED_BYTE&&(we=t.RG8UI),oe===t.UNSIGNED_SHORT&&(we=t.RG16UI),oe===t.UNSIGNED_INT&&(we=t.RG32UI),oe===t.BYTE&&(we=t.RG8I),oe===t.SHORT&&(we=t.RG16I),oe===t.INT&&(we=t.RG32I)),z===t.RGB_INTEGER&&(oe===t.UNSIGNED_BYTE&&(we=t.RGB8UI),oe===t.UNSIGNED_SHORT&&(we=t.RGB16UI),oe===t.UNSIGNED_INT&&(we=t.RGB32UI),oe===t.BYTE&&(we=t.RGB8I),oe===t.SHORT&&(we=t.RGB16I),oe===t.INT&&(we=t.RGB32I)),z===t.RGBA_INTEGER&&(oe===t.UNSIGNED_BYTE&&(we=t.RGBA8UI),oe===t.UNSIGNED_SHORT&&(we=t.RGBA16UI),oe===t.UNSIGNED_INT&&(we=t.RGBA32UI),oe===t.BYTE&&(we=t.RGBA8I),oe===t.SHORT&&(we=t.RGBA16I),oe===t.INT&&(we=t.RGBA32I)),z===t.RGB&&oe===t.UNSIGNED_INT_5_9_9_9_REV&&(we=t.RGB9_E5),z===t.RGBA){const me=Ne?zS:Rr.getTransfer(je);oe===t.FLOAT&&(we=t.RGBA32F),oe===t.HALF_FLOAT&&(we=t.RGBA16F),oe===t.UNSIGNED_BYTE&&(we=me===mi?t.SRGB8_ALPHA8:t.RGBA8),oe===t.UNSIGNED_SHORT_4_4_4_4&&(we=t.RGBA4),oe===t.UNSIGNED_SHORT_5_5_5_1&&(we=t.RGB5_A1)}return(we===t.R16F||we===t.R32F||we===t.RG16F||we===t.RG32F||we===t.RGBA16F||we===t.RGBA32F)&&e.get("EXT_color_buffer_float"),we}function S(H,z){let oe;return H?z===null||z===Cd||z===Wy?oe=t.DEPTH24_STENCIL8:z===Wi?oe=t.DEPTH32F_STENCIL8:z===cb&&(oe=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):z===null||z===Cd||z===Wy?oe=t.DEPTH_COMPONENT24:z===Wi?oe=t.DEPTH_COMPONENT32F:z===cb&&(oe=t.DEPTH_COMPONENT16),oe}function j(H,z){return b(H)===!0||H.isFramebufferTexture&&H.minFilter!==fa&&H.minFilter!==Gr?Math.log2(Math.max(z.width,z.height))+1:H.mipmaps!==void 0&&H.mipmaps.length>0?H.mipmaps.length:H.isCompressedTexture&&Array.isArray(H.image)?z.mipmaps.length:1}function N(H){const z=H.target;z.removeEventListener("dispose",N),M(z),z.isVideoTexture&&d.delete(z)}function A(H){const z=H.target;z.removeEventListener("dispose",A),L(z)}function M(H){const z=r.get(H);if(z.__webglInit===void 0)return;const oe=H.source,je=f.get(oe);if(je){const Ne=je[z.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&k(H),Object.keys(je).length===0&&f.delete(oe)}r.remove(H)}function k(H){const z=r.get(H);t.deleteTexture(z.__webglTexture);const oe=H.source,je=f.get(oe);delete je[z.__cacheKey],o.memory.textures--}function L(H){const z=r.get(H);if(H.depthTexture&&H.depthTexture.dispose(),H.isWebGLCubeRenderTarget)for(let je=0;je<6;je++){if(Array.isArray(z.__webglFramebuffer[je]))for(let Ne=0;Ne<z.__webglFramebuffer[je].length;Ne++)t.deleteFramebuffer(z.__webglFramebuffer[je][Ne]);else t.deleteFramebuffer(z.__webglFramebuffer[je]);z.__webglDepthbuffer&&t.deleteRenderbuffer(z.__webglDepthbuffer[je])}else{if(Array.isArray(z.__webglFramebuffer))for(let je=0;je<z.__webglFramebuffer.length;je++)t.deleteFramebuffer(z.__webglFramebuffer[je]);else t.deleteFramebuffer(z.__webglFramebuffer);if(z.__webglDepthbuffer&&t.deleteRenderbuffer(z.__webglDepthbuffer),z.__webglMultisampledFramebuffer&&t.deleteFramebuffer(z.__webglMultisampledFramebuffer),z.__webglColorRenderbuffer)for(let je=0;je<z.__webglColorRenderbuffer.length;je++)z.__webglColorRenderbuffer[je]&&t.deleteRenderbuffer(z.__webglColorRenderbuffer[je]);z.__webglDepthRenderbuffer&&t.deleteRenderbuffer(z.__webglDepthRenderbuffer)}const oe=H.textures;for(let je=0,Ne=oe.length;je<Ne;je++){const we=r.get(oe[je]);we.__webglTexture&&(t.deleteTexture(we.__webglTexture),o.memory.textures--),r.remove(oe[je])}r.remove(H)}let O=0;function I(){O=0}function U(){const H=O;return H>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+H+" texture units while this GPU supports only "+i.maxTextures),O+=1,H}function W(H){const z=[];return z.push(H.wrapS),z.push(H.wrapT),z.push(H.wrapR||0),z.push(H.magFilter),z.push(H.minFilter),z.push(H.anisotropy),z.push(H.internalFormat),z.push(H.format),z.push(H.type),z.push(H.generateMipmaps),z.push(H.premultiplyAlpha),z.push(H.flipY),z.push(H.unpackAlignment),z.push(H.colorSpace),z.join()}function q(H,z){const oe=r.get(H);if(H.isVideoTexture&&rt(H),H.isRenderTargetTexture===!1&&H.version>0&&oe.__version!==H.version){const je=H.image;if(je===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(je.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Q(oe,H,z);return}}n.bindTexture(t.TEXTURE_2D,oe.__webglTexture,t.TEXTURE0+z)}function J(H,z){const oe=r.get(H);if(H.version>0&&oe.__version!==H.version){Q(oe,H,z);return}n.bindTexture(t.TEXTURE_2D_ARRAY,oe.__webglTexture,t.TEXTURE0+z)}function K(H,z){const oe=r.get(H);if(H.version>0&&oe.__version!==H.version){Q(oe,H,z);return}n.bindTexture(t.TEXTURE_3D,oe.__webglTexture,t.TEXTURE0+z)}function ne(H,z){const oe=r.get(H);if(H.version>0&&oe.__version!==H.version){xe(oe,H,z);return}n.bindTexture(t.TEXTURE_CUBE_MAP,oe.__webglTexture,t.TEXTURE0+z)}const $={[DS]:t.REPEAT,[Cs]:t.CLAMP_TO_EDGE,[FS]:t.MIRRORED_REPEAT},Z={[fa]:t.NEAREST,[xB]:t.NEAREST_MIPMAP_NEAREST,[s0]:t.NEAREST_MIPMAP_LINEAR,[Gr]:t.LINEAR,[U1]:t.LINEAR_MIPMAP_NEAREST,[fd]:t.LINEAR_MIPMAP_LINEAR},B={[jre]:t.NEVER,[Pre]:t.ALWAYS,[Are]:t.LESS,[TB]:t.LEQUAL,[Nre]:t.EQUAL,[Cre]:t.GEQUAL,[Tre]:t.GREATER,[Mre]:t.NOTEQUAL};function ce(H,z){if(z.type===Wi&&e.has("OES_texture_float_linear")===!1&&(z.magFilter===Gr||z.magFilter===U1||z.magFilter===s0||z.magFilter===fd||z.minFilter===Gr||z.minFilter===U1||z.minFilter===s0||z.minFilter===fd)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(H,t.TEXTURE_WRAP_S,$[z.wrapS]),t.texParameteri(H,t.TEXTURE_WRAP_T,$[z.wrapT]),(H===t.TEXTURE_3D||H===t.TEXTURE_2D_ARRAY)&&t.texParameteri(H,t.TEXTURE_WRAP_R,$[z.wrapR]),t.texParameteri(H,t.TEXTURE_MAG_FILTER,Z[z.magFilter]),t.texParameteri(H,t.TEXTURE_MIN_FILTER,Z[z.minFilter]),z.compareFunction&&(t.texParameteri(H,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(H,t.TEXTURE_COMPARE_FUNC,B[z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(z.magFilter===fa||z.minFilter!==s0&&z.minFilter!==fd||z.type===Wi&&e.has("OES_texture_float_linear")===!1)return;if(z.anisotropy>1||r.get(z).__currentAnisotropy){const oe=e.get("EXT_texture_filter_anisotropic");t.texParameterf(H,oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,i.getMaxAnisotropy())),r.get(z).__currentAnisotropy=z.anisotropy}}}function fe(H,z){let oe=!1;H.__webglInit===void 0&&(H.__webglInit=!0,z.addEventListener("dispose",N));const je=z.source;let Ne=f.get(je);Ne===void 0&&(Ne={},f.set(je,Ne));const we=W(z);if(we!==H.__cacheKey){Ne[we]===void 0&&(Ne[we]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),Ne[we].usedTimes++;const me=Ne[H.__cacheKey];me!==void 0&&(Ne[H.__cacheKey].usedTimes--,me.usedTimes===0&&k(z)),H.__cacheKey=we,H.__webglTexture=Ne[we].texture}return oe}function Q(H,z,oe){let je=t.TEXTURE_2D;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(je=t.TEXTURE_2D_ARRAY),z.isData3DTexture&&(je=t.TEXTURE_3D);const Ne=fe(H,z),we=z.source;n.bindTexture(je,H.__webglTexture,t.TEXTURE0+oe);const me=r.get(we);if(we.version!==me.__version||Ne===!0){n.activeTexture(t.TEXTURE0+oe);const Ae=Rr.getPrimaries(Rr.workingColorSpace),$e=z.colorSpace===_h?null:Rr.getPrimaries(z.colorSpace),_t=z.colorSpace===_h||Ae===$e?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,_t);let Ze=y(z.image,!1,i.maxTextureSize);Ze=Pt(z,Ze);const wt=s.convert(z.format,z.colorSpace),qt=s.convert(z.type);let Rt=_(z.internalFormat,wt,qt,z.colorSpace,z.isVideoTexture);ce(je,z);let gt;const fn=z.mipmaps,ge=z.isVideoTexture!==!0,Qe=me.__version===void 0||Ne===!0,ue=we.dataReady,pt=j(z,Ze);if(z.isDepthTexture)Rt=S(z.format===Gy,z.type),Qe&&(ge?n.texStorage2D(t.TEXTURE_2D,1,Rt,Ze.width,Ze.height):n.texImage2D(t.TEXTURE_2D,0,Rt,Ze.width,Ze.height,0,wt,qt,null));else if(z.isDataTexture)if(fn.length>0){ge&&Qe&&n.texStorage2D(t.TEXTURE_2D,pt,Rt,fn[0].width,fn[0].height);for(let Se=0,st=fn.length;Se<st;Se++)gt=fn[Se],ge?ue&&n.texSubImage2D(t.TEXTURE_2D,Se,0,0,gt.width,gt.height,wt,qt,gt.data):n.texImage2D(t.TEXTURE_2D,Se,Rt,gt.width,gt.height,0,wt,qt,gt.data);z.generateMipmaps=!1}else ge?(Qe&&n.texStorage2D(t.TEXTURE_2D,pt,Rt,Ze.width,Ze.height),ue&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ze.width,Ze.height,wt,qt,Ze.data)):n.texImage2D(t.TEXTURE_2D,0,Rt,Ze.width,Ze.height,0,wt,qt,Ze.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){ge&&Qe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,pt,Rt,fn[0].width,fn[0].height,Ze.depth);for(let Se=0,st=fn.length;Se<st;Se++)if(gt=fn[Se],z.format!==ms)if(wt!==null)if(ge){if(ue)if(z.layerUpdates.size>0){const Tt=S4(gt.width,gt.height,z.format,z.type);for(const kt of z.layerUpdates){const Un=gt.data.subarray(kt*Tt/gt.data.BYTES_PER_ELEMENT,(kt+1)*Tt/gt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Se,0,0,kt,gt.width,gt.height,1,wt,Un,0,0)}z.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Se,0,0,0,gt.width,gt.height,Ze.depth,wt,gt.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Se,Rt,gt.width,gt.height,Ze.depth,0,gt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ge?ue&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Se,0,0,0,gt.width,gt.height,Ze.depth,wt,qt,gt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Se,Rt,gt.width,gt.height,Ze.depth,0,wt,qt,gt.data)}else{ge&&Qe&&n.texStorage2D(t.TEXTURE_2D,pt,Rt,fn[0].width,fn[0].height);for(let Se=0,st=fn.length;Se<st;Se++)gt=fn[Se],z.format!==ms?wt!==null?ge?ue&&n.compressedTexSubImage2D(t.TEXTURE_2D,Se,0,0,gt.width,gt.height,wt,gt.data):n.compressedTexImage2D(t.TEXTURE_2D,Se,Rt,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ge?ue&&n.texSubImage2D(t.TEXTURE_2D,Se,0,0,gt.width,gt.height,wt,qt,gt.data):n.texImage2D(t.TEXTURE_2D,Se,Rt,gt.width,gt.height,0,wt,qt,gt.data)}else if(z.isDataArrayTexture)if(ge){if(Qe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,pt,Rt,Ze.width,Ze.height,Ze.depth),ue)if(z.layerUpdates.size>0){const Se=S4(Ze.width,Ze.height,z.format,z.type);for(const st of z.layerUpdates){const Tt=Ze.data.subarray(st*Se/Ze.data.BYTES_PER_ELEMENT,(st+1)*Se/Ze.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,st,Ze.width,Ze.height,1,wt,qt,Tt)}z.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ze.width,Ze.height,Ze.depth,wt,qt,Ze.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Rt,Ze.width,Ze.height,Ze.depth,0,wt,qt,Ze.data);else if(z.isData3DTexture)ge?(Qe&&n.texStorage3D(t.TEXTURE_3D,pt,Rt,Ze.width,Ze.height,Ze.depth),ue&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ze.width,Ze.height,Ze.depth,wt,qt,Ze.data)):n.texImage3D(t.TEXTURE_3D,0,Rt,Ze.width,Ze.height,Ze.depth,0,wt,qt,Ze.data);else if(z.isFramebufferTexture){if(Qe)if(ge)n.texStorage2D(t.TEXTURE_2D,pt,Rt,Ze.width,Ze.height);else{let Se=Ze.width,st=Ze.height;for(let Tt=0;Tt<pt;Tt++)n.texImage2D(t.TEXTURE_2D,Tt,Rt,Se,st,0,wt,qt,null),Se>>=1,st>>=1}}else if(fn.length>0){if(ge&&Qe){const Se=bt(fn[0]);n.texStorage2D(t.TEXTURE_2D,pt,Rt,Se.width,Se.height)}for(let Se=0,st=fn.length;Se<st;Se++)gt=fn[Se],ge?ue&&n.texSubImage2D(t.TEXTURE_2D,Se,0,0,wt,qt,gt):n.texImage2D(t.TEXTURE_2D,Se,Rt,wt,qt,gt);z.generateMipmaps=!1}else if(ge){if(Qe){const Se=bt(Ze);n.texStorage2D(t.TEXTURE_2D,pt,Rt,Se.width,Se.height)}ue&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,wt,qt,Ze)}else n.texImage2D(t.TEXTURE_2D,0,Rt,wt,qt,Ze);b(z)&&v(je),me.__version=we.version,z.onUpdate&&z.onUpdate(z)}H.__version=z.version}function xe(H,z,oe){if(z.image.length!==6)return;const je=fe(H,z),Ne=z.source;n.bindTexture(t.TEXTURE_CUBE_MAP,H.__webglTexture,t.TEXTURE0+oe);const we=r.get(Ne);if(Ne.version!==we.__version||je===!0){n.activeTexture(t.TEXTURE0+oe);const me=Rr.getPrimaries(Rr.workingColorSpace),Ae=z.colorSpace===_h?null:Rr.getPrimaries(z.colorSpace),$e=z.colorSpace===_h||me===Ae?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,$e);const _t=z.isCompressedTexture||z.image[0].isCompressedTexture,Ze=z.image[0]&&z.image[0].isDataTexture,wt=[];for(let st=0;st<6;st++)!_t&&!Ze?wt[st]=y(z.image[st],!0,i.maxCubemapSize):wt[st]=Ze?z.image[st].image:z.image[st],wt[st]=Pt(z,wt[st]);const qt=wt[0],Rt=s.convert(z.format,z.colorSpace),gt=s.convert(z.type),fn=_(z.internalFormat,Rt,gt,z.colorSpace),ge=z.isVideoTexture!==!0,Qe=we.__version===void 0||je===!0,ue=Ne.dataReady;let pt=j(z,qt);ce(t.TEXTURE_CUBE_MAP,z);let Se;if(_t){ge&&Qe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,pt,fn,qt.width,qt.height);for(let st=0;st<6;st++){Se=wt[st].mipmaps;for(let Tt=0;Tt<Se.length;Tt++){const kt=Se[Tt];z.format!==ms?Rt!==null?ge?ue&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,Tt,0,0,kt.width,kt.height,Rt,kt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,Tt,fn,kt.width,kt.height,0,kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ge?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,Tt,0,0,kt.width,kt.height,Rt,gt,kt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,Tt,fn,kt.width,kt.height,0,Rt,gt,kt.data)}}}else{if(Se=z.mipmaps,ge&&Qe){Se.length>0&&pt++;const st=bt(wt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,pt,fn,st.width,st.height)}for(let st=0;st<6;st++)if(Ze){ge?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,0,0,wt[st].width,wt[st].height,Rt,gt,wt[st].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,fn,wt[st].width,wt[st].height,0,Rt,gt,wt[st].data);for(let Tt=0;Tt<Se.length;Tt++){const Un=Se[Tt].image[st].image;ge?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,Tt+1,0,0,Un.width,Un.height,Rt,gt,Un.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,Tt+1,fn,Un.width,Un.height,0,Rt,gt,Un.data)}}else{ge?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,0,0,Rt,gt,wt[st]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,fn,Rt,gt,wt[st]);for(let Tt=0;Tt<Se.length;Tt++){const kt=Se[Tt];ge?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,Tt+1,0,0,Rt,gt,kt.image[st]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,Tt+1,fn,Rt,gt,kt.image[st])}}}b(z)&&v(t.TEXTURE_CUBE_MAP),we.__version=Ne.version,z.onUpdate&&z.onUpdate(z)}H.__version=z.version}function ke(H,z,oe,je,Ne,we){const me=s.convert(oe.format,oe.colorSpace),Ae=s.convert(oe.type),$e=_(oe.internalFormat,me,Ae,oe.colorSpace);if(!r.get(z).__hasExternalTextures){const Ze=Math.max(1,z.width>>we),wt=Math.max(1,z.height>>we);Ne===t.TEXTURE_3D||Ne===t.TEXTURE_2D_ARRAY?n.texImage3D(Ne,we,$e,Ze,wt,z.depth,0,me,Ae,null):n.texImage2D(Ne,we,$e,Ze,wt,0,me,Ae,null)}n.bindFramebuffer(t.FRAMEBUFFER,H),Je(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,je,Ne,r.get(oe).__webglTexture,0,nt(z)):(Ne===t.TEXTURE_2D||Ne>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ne<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,je,Ne,r.get(oe).__webglTexture,we),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Re(H,z,oe){if(t.bindRenderbuffer(t.RENDERBUFFER,H),z.depthBuffer){const je=z.depthTexture,Ne=je&&je.isDepthTexture?je.type:null,we=S(z.stencilBuffer,Ne),me=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ae=nt(z);Je(z)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ae,we,z.width,z.height):oe?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ae,we,z.width,z.height):t.renderbufferStorage(t.RENDERBUFFER,we,z.width,z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,me,t.RENDERBUFFER,H)}else{const je=z.textures;for(let Ne=0;Ne<je.length;Ne++){const we=je[Ne],me=s.convert(we.format,we.colorSpace),Ae=s.convert(we.type),$e=_(we.internalFormat,me,Ae,we.colorSpace),_t=nt(z);oe&&Je(z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,_t,$e,z.width,z.height):Je(z)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_t,$e,z.width,z.height):t.renderbufferStorage(t.RENDERBUFFER,$e,z.width,z.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ce(H,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,H),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(z.depthTexture).__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),q(z.depthTexture,0);const je=r.get(z.depthTexture).__webglTexture,Ne=nt(z);if(z.depthTexture.format===jy)Je(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,je,0,Ne):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,je,0);else if(z.depthTexture.format===Gy)Je(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,je,0,Ne):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,je,0);else throw new Error("Unknown depthTexture format")}function tt(H){const z=r.get(H),oe=H.isWebGLCubeRenderTarget===!0;if(z.__boundDepthTexture!==H.depthTexture){const je=H.depthTexture;if(z.__depthDisposeCallback&&z.__depthDisposeCallback(),je){const Ne=()=>{delete z.__boundDepthTexture,delete z.__depthDisposeCallback,je.removeEventListener("dispose",Ne)};je.addEventListener("dispose",Ne),z.__depthDisposeCallback=Ne}z.__boundDepthTexture=je}if(H.depthTexture&&!z.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");Ce(z.__webglFramebuffer,H)}else if(oe){z.__webglDepthbuffer=[];for(let je=0;je<6;je++)if(n.bindFramebuffer(t.FRAMEBUFFER,z.__webglFramebuffer[je]),z.__webglDepthbuffer[je]===void 0)z.__webglDepthbuffer[je]=t.createRenderbuffer(),Re(z.__webglDepthbuffer[je],H,!1);else{const Ne=H.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,we=z.__webglDepthbuffer[je];t.bindRenderbuffer(t.RENDERBUFFER,we),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ne,t.RENDERBUFFER,we)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,z.__webglFramebuffer),z.__webglDepthbuffer===void 0)z.__webglDepthbuffer=t.createRenderbuffer(),Re(z.__webglDepthbuffer,H,!1);else{const je=H.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ne=z.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ne),t.framebufferRenderbuffer(t.FRAMEBUFFER,je,t.RENDERBUFFER,Ne)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Fe(H,z,oe){const je=r.get(H);z!==void 0&&ke(je.__webglFramebuffer,H,H.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),oe!==void 0&&tt(H)}function Ve(H){const z=H.texture,oe=r.get(H),je=r.get(z);H.addEventListener("dispose",A);const Ne=H.textures,we=H.isWebGLCubeRenderTarget===!0,me=Ne.length>1;if(me||(je.__webglTexture===void 0&&(je.__webglTexture=t.createTexture()),je.__version=z.version,o.memory.textures++),we){oe.__webglFramebuffer=[];for(let Ae=0;Ae<6;Ae++)if(z.mipmaps&&z.mipmaps.length>0){oe.__webglFramebuffer[Ae]=[];for(let $e=0;$e<z.mipmaps.length;$e++)oe.__webglFramebuffer[Ae][$e]=t.createFramebuffer()}else oe.__webglFramebuffer[Ae]=t.createFramebuffer()}else{if(z.mipmaps&&z.mipmaps.length>0){oe.__webglFramebuffer=[];for(let Ae=0;Ae<z.mipmaps.length;Ae++)oe.__webglFramebuffer[Ae]=t.createFramebuffer()}else oe.__webglFramebuffer=t.createFramebuffer();if(me)for(let Ae=0,$e=Ne.length;Ae<$e;Ae++){const _t=r.get(Ne[Ae]);_t.__webglTexture===void 0&&(_t.__webglTexture=t.createTexture(),o.memory.textures++)}if(H.samples>0&&Je(H)===!1){oe.__webglMultisampledFramebuffer=t.createFramebuffer(),oe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let Ae=0;Ae<Ne.length;Ae++){const $e=Ne[Ae];oe.__webglColorRenderbuffer[Ae]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,oe.__webglColorRenderbuffer[Ae]);const _t=s.convert($e.format,$e.colorSpace),Ze=s.convert($e.type),wt=_($e.internalFormat,_t,Ze,$e.colorSpace,H.isXRRenderTarget===!0),qt=nt(H);t.renderbufferStorageMultisample(t.RENDERBUFFER,qt,wt,H.width,H.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ae,t.RENDERBUFFER,oe.__webglColorRenderbuffer[Ae])}t.bindRenderbuffer(t.RENDERBUFFER,null),H.depthBuffer&&(oe.__webglDepthRenderbuffer=t.createRenderbuffer(),Re(oe.__webglDepthRenderbuffer,H,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(we){n.bindTexture(t.TEXTURE_CUBE_MAP,je.__webglTexture),ce(t.TEXTURE_CUBE_MAP,z);for(let Ae=0;Ae<6;Ae++)if(z.mipmaps&&z.mipmaps.length>0)for(let $e=0;$e<z.mipmaps.length;$e++)ke(oe.__webglFramebuffer[Ae][$e],H,z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,$e);else ke(oe.__webglFramebuffer[Ae],H,z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0);b(z)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(me){for(let Ae=0,$e=Ne.length;Ae<$e;Ae++){const _t=Ne[Ae],Ze=r.get(_t);n.bindTexture(t.TEXTURE_2D,Ze.__webglTexture),ce(t.TEXTURE_2D,_t),ke(oe.__webglFramebuffer,H,_t,t.COLOR_ATTACHMENT0+Ae,t.TEXTURE_2D,0),b(_t)&&v(t.TEXTURE_2D)}n.unbindTexture()}else{let Ae=t.TEXTURE_2D;if((H.isWebGL3DRenderTarget||H.isWebGLArrayRenderTarget)&&(Ae=H.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ae,je.__webglTexture),ce(Ae,z),z.mipmaps&&z.mipmaps.length>0)for(let $e=0;$e<z.mipmaps.length;$e++)ke(oe.__webglFramebuffer[$e],H,z,t.COLOR_ATTACHMENT0,Ae,$e);else ke(oe.__webglFramebuffer,H,z,t.COLOR_ATTACHMENT0,Ae,0);b(z)&&v(Ae),n.unbindTexture()}H.depthBuffer&&tt(H)}function Ue(H){const z=H.textures;for(let oe=0,je=z.length;oe<je;oe++){const Ne=z[oe];if(b(Ne)){const we=H.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,me=r.get(Ne).__webglTexture;n.bindTexture(we,me),v(we),n.unbindTexture()}}}const he=[],te=[];function ze(H){if(H.samples>0){if(Je(H)===!1){const z=H.textures,oe=H.width,je=H.height;let Ne=t.COLOR_BUFFER_BIT;const we=H.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,me=r.get(H),Ae=z.length>1;if(Ae)for(let $e=0;$e<z.length;$e++)n.bindFramebuffer(t.FRAMEBUFFER,me.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+$e,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,me.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+$e,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,me.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,me.__webglFramebuffer);for(let $e=0;$e<z.length;$e++){if(H.resolveDepthBuffer&&(H.depthBuffer&&(Ne|=t.DEPTH_BUFFER_BIT),H.stencilBuffer&&H.resolveStencilBuffer&&(Ne|=t.STENCIL_BUFFER_BIT)),Ae){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,me.__webglColorRenderbuffer[$e]);const _t=r.get(z[$e]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,_t,0)}t.blitFramebuffer(0,0,oe,je,0,0,oe,je,Ne,t.NEAREST),c===!0&&(he.length=0,te.length=0,he.push(t.COLOR_ATTACHMENT0+$e),H.depthBuffer&&H.resolveDepthBuffer===!1&&(he.push(we),te.push(we),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,te)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,he))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ae)for(let $e=0;$e<z.length;$e++){n.bindFramebuffer(t.FRAMEBUFFER,me.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+$e,t.RENDERBUFFER,me.__webglColorRenderbuffer[$e]);const _t=r.get(z[$e]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,me.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+$e,t.TEXTURE_2D,_t,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,me.__webglMultisampledFramebuffer)}else if(H.depthBuffer&&H.resolveDepthBuffer===!1&&c){const z=H.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[z])}}}function nt(H){return Math.min(i.maxSamples,H.samples)}function Je(H){const z=r.get(H);return H.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function rt(H){const z=o.render.frame;d.get(H)!==z&&(d.set(H,z),H.update())}function Pt(H,z){const oe=H.colorSpace,je=H.format,Ne=H.type;return H.isCompressedTexture===!0||H.isVideoTexture===!0||oe!==Cc&&oe!==_h&&(Rr.getTransfer(oe)===mi?(je!==ms||Ne!==Zo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",oe)),z}function bt(H){return typeof HTMLImageElement<"u"&&H instanceof HTMLImageElement?(u.width=H.naturalWidth||H.width,u.height=H.naturalHeight||H.height):typeof VideoFrame<"u"&&H instanceof VideoFrame?(u.width=H.displayWidth,u.height=H.displayHeight):(u.width=H.width,u.height=H.height),u}this.allocateTextureUnit=U,this.resetTextureUnits=I,this.setTexture2D=q,this.setTexture2DArray=J,this.setTexture3D=K,this.setTextureCube=ne,this.rebindTextures=Fe,this.setupRenderTarget=Ve,this.updateRenderTargetMipmap=Ue,this.updateMultisampleRenderTarget=ze,this.setupDepthRenderbuffer=tt,this.setupFrameBufferTexture=ke,this.useMultisampledRTT=Je}function Gre(t,e){function n(r,i=_h){let s;const o=Rr.getTransfer(i);if(r===Zo)return t.UNSIGNED_BYTE;if(r===ik)return t.UNSIGNED_SHORT_4_4_4_4;if(r===sk)return t.UNSIGNED_SHORT_5_5_5_1;if(r===bB)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===nk)return t.BYTE;if(r===rk)return t.SHORT;if(r===cb)return t.UNSIGNED_SHORT;if(r===hj)return t.INT;if(r===Cd)return t.UNSIGNED_INT;if(r===Wi)return t.FLOAT;if(r===pa)return t.HALF_FLOAT;if(r===wB)return t.ALPHA;if(r===_B)return t.RGB;if(r===ms)return t.RGBA;if(r===SB)return t.LUMINANCE;if(r===EB)return t.LUMINANCE_ALPHA;if(r===jy)return t.DEPTH_COMPONENT;if(r===Gy)return t.DEPTH_STENCIL;if(r===fj)return t.RED;if(r===pj)return t.RED_INTEGER;if(r===jB)return t.RG;if(r===ak)return t.RG_INTEGER;if(r===ok)return t.RGBA_INTEGER;if(r===B1||r===z1||r===$1||r===H1)if(o===mi)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===B1)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===z1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===$1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===H1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===B1)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===z1)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===$1)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===H1)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===wC||r===_C||r===SC||r===EC)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===wC)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===_C)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===SC)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===EC)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===jC||r===AC||r===NC)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===jC||r===AC)return o===mi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===NC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===TC||r===MC||r===CC||r===PC||r===kC||r===OC||r===RC||r===IC||r===LC||r===DC||r===FC||r===UC||r===BC||r===zC)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===TC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===MC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===CC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===PC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===kC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===OC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===RC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===IC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===LC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===DC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===FC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===UC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===BC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===zC)return o===mi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===V1||r===$C||r===HC)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===V1)return o===mi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===$C)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===HC)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===AB||r===VC||r===WC||r===GC)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===V1)return s.COMPRESSED_RED_RGTC1_EXT;if(r===VC)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===WC)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===GC)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Wy?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class qre extends Hi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class l0 extends kr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const xOe={type:"move"};class qI{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new l0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new l0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new l0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const l=this._targetRay,c=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const y of e.hand.values()){const b=n.getJointPose(y,r),v=this._getHandJoint(u,y);b!==null&&(v.matrix.fromArray(b.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=b.radius),v.visible=b!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],f=d.position.distanceTo(h.position),p=.02,m=.005;u.inputState.pinching&&f>p+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=p-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(xOe)))}return l!==null&&(l.visible=i!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new l0;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const bOe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,wOe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class _Oe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new ii,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Qo({vertexShader:bOe,fragmentShader:wOe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Gi(new xm(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class SOe extends Dd{constructor(e,n){super();const r=this;let i=null,s=1,o=null,l="local-floor",c=1,u=null,d=null,h=null,f=null,p=null,m=null;const y=new _Oe,b=n.getContextAttributes();let v=null,_=null;const S=[],j=[],N=new lt;let A=null;const M=new Hi;M.layers.enable(1),M.viewport=new Cr;const k=new Hi;k.layers.enable(2),k.viewport=new Cr;const L=[M,k],O=new qre;O.layers.enable(1),O.layers.enable(2);let I=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(xe){let ke=S[xe];return ke===void 0&&(ke=new qI,S[xe]=ke),ke.getTargetRaySpace()},this.getControllerGrip=function(xe){let ke=S[xe];return ke===void 0&&(ke=new qI,S[xe]=ke),ke.getGripSpace()},this.getHand=function(xe){let ke=S[xe];return ke===void 0&&(ke=new qI,S[xe]=ke),ke.getHandSpace()};function W(xe){const ke=j.indexOf(xe.inputSource);if(ke===-1)return;const Re=S[ke];Re!==void 0&&(Re.update(xe.inputSource,xe.frame,u||o),Re.dispatchEvent({type:xe.type,data:xe.inputSource}))}function q(){i.removeEventListener("select",W),i.removeEventListener("selectstart",W),i.removeEventListener("selectend",W),i.removeEventListener("squeeze",W),i.removeEventListener("squeezestart",W),i.removeEventListener("squeezeend",W),i.removeEventListener("end",q),i.removeEventListener("inputsourceschange",J);for(let xe=0;xe<S.length;xe++){const ke=j[xe];ke!==null&&(j[xe]=null,S[xe].disconnect(ke))}I=null,U=null,y.reset(),e.setRenderTarget(v),p=null,f=null,h=null,i=null,_=null,Q.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(N.width,N.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(xe){s=xe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(xe){l=xe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(xe){u=xe},this.getBaseLayer=function(){return f!==null?f:p},this.getBinding=function(){return h},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(xe){if(i=xe,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",W),i.addEventListener("selectstart",W),i.addEventListener("selectend",W),i.addEventListener("squeeze",W),i.addEventListener("squeezestart",W),i.addEventListener("squeezeend",W),i.addEventListener("end",q),i.addEventListener("inputsourceschange",J),b.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(N),i.renderState.layers===void 0){const ke={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,n,ke),i.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),_=new zl(p.framebufferWidth,p.framebufferHeight,{format:ms,type:Zo,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil})}else{let ke=null,Re=null,Ce=null;b.depth&&(Ce=b.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ke=b.stencil?Gy:jy,Re=b.stencil?Wy:Cd);const tt={colorFormat:n.RGBA8,depthFormat:Ce,scaleFactor:s};h=new XRWebGLBinding(i,n),f=h.createProjectionLayer(tt),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),_=new zl(f.textureWidth,f.textureHeight,{format:ms,type:Zo,depthTexture:new IB(f.textureWidth,f.textureHeight,Re,void 0,void 0,void 0,void 0,void 0,void 0,ke),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}_.isXRRenderTarget=!0,this.setFoveation(c),u=null,o=await i.requestReferenceSpace(l),Q.setContext(i),Q.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function J(xe){for(let ke=0;ke<xe.removed.length;ke++){const Re=xe.removed[ke],Ce=j.indexOf(Re);Ce>=0&&(j[Ce]=null,S[Ce].disconnect(Re))}for(let ke=0;ke<xe.added.length;ke++){const Re=xe.added[ke];let Ce=j.indexOf(Re);if(Ce===-1){for(let Fe=0;Fe<S.length;Fe++)if(Fe>=j.length){j.push(Re),Ce=Fe;break}else if(j[Fe]===null){j[Fe]=Re,Ce=Fe;break}if(Ce===-1)break}const tt=S[Ce];tt&&tt.connect(Re)}}const K=new le,ne=new le;function $(xe,ke,Re){K.setFromMatrixPosition(ke.matrixWorld),ne.setFromMatrixPosition(Re.matrixWorld);const Ce=K.distanceTo(ne),tt=ke.projectionMatrix.elements,Fe=Re.projectionMatrix.elements,Ve=tt[14]/(tt[10]-1),Ue=tt[14]/(tt[10]+1),he=(tt[9]+1)/tt[5],te=(tt[9]-1)/tt[5],ze=(tt[8]-1)/tt[0],nt=(Fe[8]+1)/Fe[0],Je=Ve*ze,rt=Ve*nt,Pt=Ce/(-ze+nt),bt=Pt*-ze;if(ke.matrixWorld.decompose(xe.position,xe.quaternion,xe.scale),xe.translateX(bt),xe.translateZ(Pt),xe.matrixWorld.compose(xe.position,xe.quaternion,xe.scale),xe.matrixWorldInverse.copy(xe.matrixWorld).invert(),tt[10]===-1)xe.projectionMatrix.copy(ke.projectionMatrix),xe.projectionMatrixInverse.copy(ke.projectionMatrixInverse);else{const H=Ve+Pt,z=Ue+Pt,oe=Je-bt,je=rt+(Ce-bt),Ne=he*Ue/z*H,we=te*Ue/z*H;xe.projectionMatrix.makePerspective(oe,je,Ne,we,H,z),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert()}}function Z(xe,ke){ke===null?xe.matrixWorld.copy(xe.matrix):xe.matrixWorld.multiplyMatrices(ke.matrixWorld,xe.matrix),xe.matrixWorldInverse.copy(xe.matrixWorld).invert()}this.updateCamera=function(xe){if(i===null)return;let ke=xe.near,Re=xe.far;y.texture!==null&&(y.depthNear>0&&(ke=y.depthNear),y.depthFar>0&&(Re=y.depthFar)),O.near=k.near=M.near=ke,O.far=k.far=M.far=Re,(I!==O.near||U!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),I=O.near,U=O.far);const Ce=xe.parent,tt=O.cameras;Z(O,Ce);for(let Fe=0;Fe<tt.length;Fe++)Z(tt[Fe],Ce);tt.length===2?$(O,M,k):O.projectionMatrix.copy(M.projectionMatrix),B(xe,O,Ce)};function B(xe,ke,Re){Re===null?xe.matrix.copy(ke.matrixWorld):(xe.matrix.copy(Re.matrixWorld),xe.matrix.invert(),xe.matrix.multiply(ke.matrixWorld)),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.updateMatrixWorld(!0),xe.projectionMatrix.copy(ke.projectionMatrix),xe.projectionMatrixInverse.copy(ke.projectionMatrixInverse),xe.isPerspectiveCamera&&(xe.fov=ub*2*Math.atan(1/xe.projectionMatrix.elements[5]),xe.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(f===null&&p===null))return c},this.setFoveation=function(xe){c=xe,f!==null&&(f.fixedFoveation=xe),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=xe)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(O)};let ce=null;function fe(xe,ke){if(d=ke.getViewerPose(u||o),m=ke,d!==null){const Re=d.views;p!==null&&(e.setRenderTargetFramebuffer(_,p.framebuffer),e.setRenderTarget(_));let Ce=!1;Re.length!==O.cameras.length&&(O.cameras.length=0,Ce=!0);for(let Fe=0;Fe<Re.length;Fe++){const Ve=Re[Fe];let Ue=null;if(p!==null)Ue=p.getViewport(Ve);else{const te=h.getViewSubImage(f,Ve);Ue=te.viewport,Fe===0&&(e.setRenderTargetTextures(_,te.colorTexture,f.ignoreDepthValues?void 0:te.depthStencilTexture),e.setRenderTarget(_))}let he=L[Fe];he===void 0&&(he=new Hi,he.layers.enable(Fe),he.viewport=new Cr,L[Fe]=he),he.matrix.fromArray(Ve.transform.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale),he.projectionMatrix.fromArray(Ve.projectionMatrix),he.projectionMatrixInverse.copy(he.projectionMatrix).invert(),he.viewport.set(Ue.x,Ue.y,Ue.width,Ue.height),Fe===0&&(O.matrix.copy(he.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),Ce===!0&&O.cameras.push(he)}const tt=i.enabledFeatures;if(tt&&tt.includes("depth-sensing")){const Fe=h.getDepthInformation(Re[0]);Fe&&Fe.isValid&&Fe.texture&&y.init(e,Fe,i.renderState)}}for(let Re=0;Re<S.length;Re++){const Ce=j[Re],tt=S[Re];Ce!==null&&tt!==void 0&&tt.update(Ce,ke,u||o)}ce&&ce(xe,ke),ke.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ke}),m=null}const Q=new zre;Q.setAnimationLoop(fe),this.setAnimationLoop=function(xe){ce=xe},this.dispose=function(){}}}const xg=new $l,EOe=new En;function jOe(t,e){function n(b,v){b.matrixAutoUpdate===!0&&b.updateMatrix(),v.value.copy(b.matrix)}function r(b,v){v.color.getRGB(b.fogColor.value,Fre(t)),v.isFog?(b.fogNear.value=v.near,b.fogFar.value=v.far):v.isFogExp2&&(b.fogDensity.value=v.density)}function i(b,v,_,S,j){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(b,v):v.isMeshToonMaterial?(s(b,v),h(b,v)):v.isMeshPhongMaterial?(s(b,v),d(b,v)):v.isMeshStandardMaterial?(s(b,v),f(b,v),v.isMeshPhysicalMaterial&&p(b,v,j)):v.isMeshMatcapMaterial?(s(b,v),m(b,v)):v.isMeshDepthMaterial?s(b,v):v.isMeshDistanceMaterial?(s(b,v),y(b,v)):v.isMeshNormalMaterial?s(b,v):v.isLineBasicMaterial?(o(b,v),v.isLineDashedMaterial&&l(b,v)):v.isPointsMaterial?c(b,v,_,S):v.isSpriteMaterial?u(b,v):v.isShadowMaterial?(b.color.value.copy(v.color),b.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(b,v){b.opacity.value=v.opacity,v.color&&b.diffuse.value.copy(v.color),v.emissive&&b.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(b.map.value=v.map,n(v.map,b.mapTransform)),v.alphaMap&&(b.alphaMap.value=v.alphaMap,n(v.alphaMap,b.alphaMapTransform)),v.bumpMap&&(b.bumpMap.value=v.bumpMap,n(v.bumpMap,b.bumpMapTransform),b.bumpScale.value=v.bumpScale,v.side===xo&&(b.bumpScale.value*=-1)),v.normalMap&&(b.normalMap.value=v.normalMap,n(v.normalMap,b.normalMapTransform),b.normalScale.value.copy(v.normalScale),v.side===xo&&b.normalScale.value.negate()),v.displacementMap&&(b.displacementMap.value=v.displacementMap,n(v.displacementMap,b.displacementMapTransform),b.displacementScale.value=v.displacementScale,b.displacementBias.value=v.displacementBias),v.emissiveMap&&(b.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,b.emissiveMapTransform)),v.specularMap&&(b.specularMap.value=v.specularMap,n(v.specularMap,b.specularMapTransform)),v.alphaTest>0&&(b.alphaTest.value=v.alphaTest);const _=e.get(v),S=_.envMap,j=_.envMapRotation;S&&(b.envMap.value=S,xg.copy(j),xg.x*=-1,xg.y*=-1,xg.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(xg.y*=-1,xg.z*=-1),b.envMapRotation.value.setFromMatrix4(EOe.makeRotationFromEuler(xg)),b.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=v.reflectivity,b.ior.value=v.ior,b.refractionRatio.value=v.refractionRatio),v.lightMap&&(b.lightMap.value=v.lightMap,b.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,b.lightMapTransform)),v.aoMap&&(b.aoMap.value=v.aoMap,b.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,b.aoMapTransform))}function o(b,v){b.diffuse.value.copy(v.color),b.opacity.value=v.opacity,v.map&&(b.map.value=v.map,n(v.map,b.mapTransform))}function l(b,v){b.dashSize.value=v.dashSize,b.totalSize.value=v.dashSize+v.gapSize,b.scale.value=v.scale}function c(b,v,_,S){b.diffuse.value.copy(v.color),b.opacity.value=v.opacity,b.size.value=v.size*_,b.scale.value=S*.5,v.map&&(b.map.value=v.map,n(v.map,b.uvTransform)),v.alphaMap&&(b.alphaMap.value=v.alphaMap,n(v.alphaMap,b.alphaMapTransform)),v.alphaTest>0&&(b.alphaTest.value=v.alphaTest)}function u(b,v){b.diffuse.value.copy(v.color),b.opacity.value=v.opacity,b.rotation.value=v.rotation,v.map&&(b.map.value=v.map,n(v.map,b.mapTransform)),v.alphaMap&&(b.alphaMap.value=v.alphaMap,n(v.alphaMap,b.alphaMapTransform)),v.alphaTest>0&&(b.alphaTest.value=v.alphaTest)}function d(b,v){b.specular.value.copy(v.specular),b.shininess.value=Math.max(v.shininess,1e-4)}function h(b,v){v.gradientMap&&(b.gradientMap.value=v.gradientMap)}function f(b,v){b.metalness.value=v.metalness,v.metalnessMap&&(b.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,b.metalnessMapTransform)),b.roughness.value=v.roughness,v.roughnessMap&&(b.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,b.roughnessMapTransform)),v.envMap&&(b.envMapIntensity.value=v.envMapIntensity)}function p(b,v,_){b.ior.value=v.ior,v.sheen>0&&(b.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),b.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(b.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,b.sheenColorMapTransform)),v.sheenRoughnessMap&&(b.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,b.sheenRoughnessMapTransform))),v.clearcoat>0&&(b.clearcoat.value=v.clearcoat,b.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(b.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,b.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(b.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===xo&&b.clearcoatNormalScale.value.negate())),v.dispersion>0&&(b.dispersion.value=v.dispersion),v.iridescence>0&&(b.iridescence.value=v.iridescence,b.iridescenceIOR.value=v.iridescenceIOR,b.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(b.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,b.iridescenceMapTransform)),v.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),v.transmission>0&&(b.transmission.value=v.transmission,b.transmissionSamplerMap.value=_.texture,b.transmissionSamplerSize.value.set(_.width,_.height),v.transmissionMap&&(b.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,b.transmissionMapTransform)),b.thickness.value=v.thickness,v.thicknessMap&&(b.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=v.attenuationDistance,b.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(b.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(b.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=v.specularIntensity,b.specularColor.value.copy(v.specularColor),v.specularColorMap&&(b.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,b.specularColorMapTransform)),v.specularIntensityMap&&(b.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,b.specularIntensityMapTransform))}function m(b,v){v.matcap&&(b.matcap.value=v.matcap)}function y(b,v){const _=e.get(v).light;b.referencePosition.value.setFromMatrixPosition(_.matrixWorld),b.nearDistance.value=_.shadow.camera.near,b.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function AOe(t,e,n,r){let i={},s={},o=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(_,S){const j=S.program;r.uniformBlockBinding(_,j)}function u(_,S){let j=i[_.id];j===void 0&&(m(_),j=d(_),i[_.id]=j,_.addEventListener("dispose",b));const N=S.program;r.updateUBOMapping(_,N);const A=e.render.frame;s[_.id]!==A&&(f(_),s[_.id]=A)}function d(_){const S=h();_.__bindingPointIndex=S;const j=t.createBuffer(),N=_.__size,A=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,j),t.bufferData(t.UNIFORM_BUFFER,N,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,j),j}function h(){for(let _=0;_<l;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(_){const S=i[_.id],j=_.uniforms,N=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let A=0,M=j.length;A<M;A++){const k=Array.isArray(j[A])?j[A]:[j[A]];for(let L=0,O=k.length;L<O;L++){const I=k[L];if(p(I,A,L,N)===!0){const U=I.__offset,W=Array.isArray(I.value)?I.value:[I.value];let q=0;for(let J=0;J<W.length;J++){const K=W[J],ne=y(K);typeof K=="number"||typeof K=="boolean"?(I.__data[0]=K,t.bufferSubData(t.UNIFORM_BUFFER,U+q,I.__data)):K.isMatrix3?(I.__data[0]=K.elements[0],I.__data[1]=K.elements[1],I.__data[2]=K.elements[2],I.__data[3]=0,I.__data[4]=K.elements[3],I.__data[5]=K.elements[4],I.__data[6]=K.elements[5],I.__data[7]=0,I.__data[8]=K.elements[6],I.__data[9]=K.elements[7],I.__data[10]=K.elements[8],I.__data[11]=0):(K.toArray(I.__data,q),q+=ne.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,U,I.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(_,S,j,N){const A=_.value,M=S+"_"+j;if(N[M]===void 0)return typeof A=="number"||typeof A=="boolean"?N[M]=A:N[M]=A.clone(),!0;{const k=N[M];if(typeof A=="number"||typeof A=="boolean"){if(k!==A)return N[M]=A,!0}else if(k.equals(A)===!1)return k.copy(A),!0}return!1}function m(_){const S=_.uniforms;let j=0;const N=16;for(let M=0,k=S.length;M<k;M++){const L=Array.isArray(S[M])?S[M]:[S[M]];for(let O=0,I=L.length;O<I;O++){const U=L[O],W=Array.isArray(U.value)?U.value:[U.value];for(let q=0,J=W.length;q<J;q++){const K=W[q],ne=y(K),$=j%N,Z=$%ne.boundary,B=$+Z;j+=Z,B!==0&&N-B<ne.storage&&(j+=N-B),U.__data=new Float32Array(ne.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=j,j+=ne.storage}}}const A=j%N;return A>0&&(j+=N-A),_.__size=j,_.__cache={},this}function y(_){const S={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function b(_){const S=_.target;S.removeEventListener("dispose",b);const j=o.indexOf(S.__bindingPointIndex);o.splice(j,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function v(){for(const _ in i)t.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:c,update:u,dispose:v}}class FB{constructor(e={}){const{canvas:n=Rre(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let f;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=r.getContextAttributes().alpha}else f=o;const p=new Uint32Array(4),m=new Int32Array(4);let y=null,b=null;const v=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Nl,this.toneMapping=Sd,this.toneMappingExposure=1;const S=this;let j=!1,N=0,A=0,M=null,k=-1,L=null;const O=new Cr,I=new Cr;let U=null;const W=new Gt(0);let q=0,J=n.width,K=n.height,ne=1,$=null,Z=null;const B=new Cr(0,0,J,K),ce=new Cr(0,0,J,K);let fe=!1;const Q=new vj;let xe=!1,ke=!1;const Re=new En,Ce=new En,tt=new le,Fe=new Cr,Ve={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ue=!1;function he(){return M===null?ne:1}let te=r;function ze(G,se){return n.getContext(G,se)}try{const G={alpha:!0,depth:i,stencil:s,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${iw}`),n.addEventListener("webglcontextlost",st,!1),n.addEventListener("webglcontextrestored",Tt,!1),n.addEventListener("webglcontextcreationerror",kt,!1),te===null){const se="webgl2";if(te=ze(se,G),te===null)throw ze(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(G){throw console.error("THREE.WebGLRenderer: "+G.message),G}let nt,Je,rt,Pt,bt,H,z,oe,je,Ne,we,me,Ae,$e,_t,Ze,wt,qt,Rt,gt,fn,ge,Qe,ue;function pt(){nt=new kPe(te),nt.init(),ge=new Gre(te,nt),Je=new APe(te,nt,e,ge),rt=new hOe(te),Je.reverseDepthBuffer&&rt.buffers.depth.setReversed(!0),Pt=new IPe(te),bt=new Jke,H=new vOe(te,nt,rt,bt,Je,ge,Pt),z=new TPe(S),oe=new PPe(S),je=new $Me(te),Qe=new EPe(te,je),Ne=new OPe(te,je,Pt,Qe),we=new DPe(te,Ne,je,Pt),Rt=new LPe(te,Je,H),Ze=new NPe(bt),me=new Qke(S,z,oe,nt,Je,Qe,Ze),Ae=new jOe(S,bt),$e=new tOe,_t=new oOe(nt),qt=new SPe(S,z,oe,rt,we,f,c),wt=new uOe(S,we,Je),ue=new AOe(te,Pt,Je,rt),gt=new jPe(te,nt,Pt),fn=new RPe(te,nt,Pt),Pt.programs=me.programs,S.capabilities=Je,S.extensions=nt,S.properties=bt,S.renderLists=$e,S.shadowMap=wt,S.state=rt,S.info=Pt}pt();const Se=new SOe(S,te);this.xr=Se,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const G=nt.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=nt.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function(G){G!==void 0&&(ne=G,this.setSize(J,K,!1))},this.getSize=function(G){return G.set(J,K)},this.setSize=function(G,se,be=!0){if(Se.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=G,K=se,n.width=Math.floor(G*ne),n.height=Math.floor(se*ne),be===!0&&(n.style.width=G+"px",n.style.height=se+"px"),this.setViewport(0,0,G,se)},this.getDrawingBufferSize=function(G){return G.set(J*ne,K*ne).floor()},this.setDrawingBufferSize=function(G,se,be){J=G,K=se,ne=be,n.width=Math.floor(G*be),n.height=Math.floor(se*be),this.setViewport(0,0,G,se)},this.getCurrentViewport=function(G){return G.copy(O)},this.getViewport=function(G){return G.copy(B)},this.setViewport=function(G,se,be,ye){G.isVector4?B.set(G.x,G.y,G.z,G.w):B.set(G,se,be,ye),rt.viewport(O.copy(B).multiplyScalar(ne).round())},this.getScissor=function(G){return G.copy(ce)},this.setScissor=function(G,se,be,ye){G.isVector4?ce.set(G.x,G.y,G.z,G.w):ce.set(G,se,be,ye),rt.scissor(I.copy(ce).multiplyScalar(ne).round())},this.getScissorTest=function(){return fe},this.setScissorTest=function(G){rt.setScissorTest(fe=G)},this.setOpaqueSort=function(G){$=G},this.setTransparentSort=function(G){Z=G},this.getClearColor=function(G){return G.copy(qt.getClearColor())},this.setClearColor=function(){qt.setClearColor.apply(qt,arguments)},this.getClearAlpha=function(){return qt.getClearAlpha()},this.setClearAlpha=function(){qt.setClearAlpha.apply(qt,arguments)},this.clear=function(G=!0,se=!0,be=!0){let ye=0;if(G){let pe=!1;if(M!==null){const De=M.texture.format;pe=De===ok||De===ak||De===pj}if(pe){const De=M.texture.type,We=De===Zo||De===Cd||De===cb||De===Wy||De===ik||De===sk,Ge=qt.getClearColor(),At=qt.getClearAlpha(),ft=Ge.r,mt=Ge.g,yt=Ge.b;We?(p[0]=ft,p[1]=mt,p[2]=yt,p[3]=At,te.clearBufferuiv(te.COLOR,0,p)):(m[0]=ft,m[1]=mt,m[2]=yt,m[3]=At,te.clearBufferiv(te.COLOR,0,m))}else ye|=te.COLOR_BUFFER_BIT}se&&(ye|=te.DEPTH_BUFFER_BIT,te.clearDepth(this.capabilities.reverseDepthBuffer?0:1)),be&&(ye|=te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),te.clear(ye)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",st,!1),n.removeEventListener("webglcontextrestored",Tt,!1),n.removeEventListener("webglcontextcreationerror",kt,!1),$e.dispose(),_t.dispose(),bt.dispose(),z.dispose(),oe.dispose(),we.dispose(),Qe.dispose(),ue.dispose(),me.dispose(),Se.dispose(),Se.removeEventListener("sessionstart",Xi),Se.removeEventListener("sessionend",Ks),Si.stop()};function st(G){G.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),j=!0}function Tt(){console.log("THREE.WebGLRenderer: Context Restored."),j=!1;const G=Pt.autoReset,se=wt.enabled,be=wt.autoUpdate,ye=wt.needsUpdate,pe=wt.type;pt(),Pt.autoReset=G,wt.enabled=se,wt.autoUpdate=be,wt.needsUpdate=ye,wt.type=pe}function kt(G){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function Un(G){const se=G.target;se.removeEventListener("dispose",Un),Ot(se)}function Ot(G){hn(G),bt.remove(G)}function hn(G){const se=bt.get(G).programs;se!==void 0&&(se.forEach(function(be){me.releaseProgram(be)}),G.isShaderMaterial&&me.releaseShaderCache(G))}this.renderBufferDirect=function(G,se,be,ye,pe,De){se===null&&(se=Ve);const We=pe.isMesh&&pe.matrixWorld.determinant()<0,Ge=re(G,se,be,ye,pe);rt.setMaterial(ye,We);let At=be.index,ft=1;if(ye.wireframe===!0){if(At=Ne.getWireframeAttribute(be),At===void 0)return;ft=2}const mt=be.drawRange,yt=be.attributes.position;let Dt=mt.start*ft,en=(mt.start+mt.count)*ft;De!==null&&(Dt=Math.max(Dt,De.start*ft),en=Math.min(en,(De.start+De.count)*ft)),At!==null?(Dt=Math.max(Dt,0),en=Math.min(en,At.count)):yt!=null&&(Dt=Math.max(Dt,0),en=Math.min(en,yt.count));const cn=en-Dt;if(cn<0||cn===1/0)return;Qe.setup(pe,ye,Ge,be,At);let rn,Ft=gt;if(At!==null&&(rn=je.get(At),Ft=fn,Ft.setIndex(rn)),pe.isMesh)ye.wireframe===!0?(rt.setLineWidth(ye.wireframeLinewidth*he()),Ft.setMode(te.LINES)):Ft.setMode(te.TRIANGLES);else if(pe.isLine){let St=ye.linewidth;St===void 0&&(St=1),rt.setLineWidth(St*he()),pe.isLineSegments?Ft.setMode(te.LINES):pe.isLineLoop?Ft.setMode(te.LINE_LOOP):Ft.setMode(te.LINE_STRIP)}else pe.isPoints?Ft.setMode(te.POINTS):pe.isSprite&&Ft.setMode(te.TRIANGLES);if(pe.isBatchedMesh)if(pe._multiDrawInstances!==null)Ft.renderMultiDrawInstances(pe._multiDrawStarts,pe._multiDrawCounts,pe._multiDrawCount,pe._multiDrawInstances);else if(nt.get("WEBGL_multi_draw"))Ft.renderMultiDraw(pe._multiDrawStarts,pe._multiDrawCounts,pe._multiDrawCount);else{const St=pe._multiDrawStarts,Pn=pe._multiDrawCounts,Bt=pe._multiDrawCount,nr=At?je.get(At).bytesPerElement:1,si=bt.get(ye).currentProgram.getUniforms();for(let br=0;br<Bt;br++)si.setValue(te,"_gl_DrawID",br),Ft.render(St[br]/nr,Pn[br])}else if(pe.isInstancedMesh)Ft.renderInstances(Dt,cn,pe.count);else if(be.isInstancedBufferGeometry){const St=be._maxInstanceCount!==void 0?be._maxInstanceCount:1/0,Pn=Math.min(be.instanceCount,St);Ft.renderInstances(Dt,cn,Pn)}else Ft.render(Dt,cn)};function Vt(G,se,be){G.transparent===!0&&G.side===wc&&G.forceSinglePass===!1?(G.side=xo,G.needsUpdate=!0,Fc(G,se,be),G.side=Yh,G.needsUpdate=!0,Fc(G,se,be),G.side=wc):Fc(G,se,be)}this.compile=function(G,se,be=null){be===null&&(be=G),b=_t.get(be),b.init(se),_.push(b),be.traverseVisible(function(pe){pe.isLight&&pe.layers.test(se.layers)&&(b.pushLight(pe),pe.castShadow&&b.pushShadow(pe))}),G!==be&&G.traverseVisible(function(pe){pe.isLight&&pe.layers.test(se.layers)&&(b.pushLight(pe),pe.castShadow&&b.pushShadow(pe))}),b.setupLights();const ye=new Set;return G.traverse(function(pe){if(!(pe.isMesh||pe.isPoints||pe.isLine||pe.isSprite))return;const De=pe.material;if(De)if(Array.isArray(De))for(let We=0;We<De.length;We++){const Ge=De[We];Vt(Ge,be,pe),ye.add(Ge)}else Vt(De,be,pe),ye.add(De)}),_.pop(),b=null,ye},this.compileAsync=function(G,se,be=null){const ye=this.compile(G,se,be);return new Promise(pe=>{function De(){if(ye.forEach(function(We){bt.get(We).currentProgram.isReady()&&ye.delete(We)}),ye.size===0){pe(G);return}setTimeout(De,10)}nt.get("KHR_parallel_shader_compile")!==null?De():setTimeout(De,10)})};let pr=null;function Ar(G){pr&&pr(G)}function Xi(){Si.stop()}function Ks(){Si.start()}const Si=new zre;Si.setAnimationLoop(Ar),typeof self<"u"&&Si.setContext(self),this.setAnimationLoop=function(G){pr=G,Se.setAnimationLoop(G),G===null?Si.stop():Si.start()},Se.addEventListener("sessionstart",Xi),Se.addEventListener("sessionend",Ks),this.render=function(G,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(j===!0)return;if(G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),se.parent===null&&se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),Se.enabled===!0&&Se.isPresenting===!0&&(Se.cameraAutoUpdate===!0&&Se.updateCamera(se),se=Se.getCamera()),G.isScene===!0&&G.onBeforeRender(S,G,se,M),b=_t.get(G,_.length),b.init(se),_.push(b),Ce.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),Q.setFromProjectionMatrix(Ce),ke=this.localClippingEnabled,xe=Ze.init(this.clippingPlanes,ke),y=$e.get(G,v.length),y.init(),v.push(y),Se.enabled===!0&&Se.isPresenting===!0){const De=S.xr.getDepthSensingMesh();De!==null&&Pi(De,se,-1/0,S.sortObjects)}Pi(G,se,0,S.sortObjects),y.finish(),S.sortObjects===!0&&y.sort($,Z),Ue=Se.enabled===!1||Se.isPresenting===!1||Se.hasDepthSensing()===!1,Ue&&qt.addToRenderList(y,G),this.info.render.frame++,xe===!0&&Ze.beginShadows();const be=b.state.shadowsArray;wt.render(be,G,se),xe===!0&&Ze.endShadows(),this.info.autoReset===!0&&this.info.reset();const ye=y.opaque,pe=y.transmissive;if(b.setupLights(),se.isArrayCamera){const De=se.cameras;if(pe.length>0)for(let We=0,Ge=De.length;We<Ge;We++){const At=De[We];ql(ye,pe,G,At)}Ue&&qt.render(G);for(let We=0,Ge=De.length;We<Ge;We++){const At=De[We];Lu(y,G,At,At.viewport)}}else pe.length>0&&ql(ye,pe,G,se),Ue&&qt.render(G),Lu(y,G,se);M!==null&&(H.updateMultisampleRenderTarget(M),H.updateRenderTargetMipmap(M)),G.isScene===!0&&G.onAfterRender(S,G,se),Qe.resetDefaultState(),k=-1,L=null,_.pop(),_.length>0?(b=_[_.length-1],xe===!0&&Ze.setGlobalState(S.clippingPlanes,b.state.camera)):b=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Pi(G,se,be,ye){if(G.visible===!1)return;if(G.layers.test(se.layers)){if(G.isGroup)be=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(se);else if(G.isLight)b.pushLight(G),G.castShadow&&b.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||Q.intersectsSprite(G)){ye&&Fe.setFromMatrixPosition(G.matrixWorld).applyMatrix4(Ce);const We=we.update(G),Ge=G.material;Ge.visible&&y.push(G,We,Ge,be,Fe.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||Q.intersectsObject(G))){const We=we.update(G),Ge=G.material;if(ye&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),Fe.copy(G.boundingSphere.center)):(We.boundingSphere===null&&We.computeBoundingSphere(),Fe.copy(We.boundingSphere.center)),Fe.applyMatrix4(G.matrixWorld).applyMatrix4(Ce)),Array.isArray(Ge)){const At=We.groups;for(let ft=0,mt=At.length;ft<mt;ft++){const yt=At[ft],Dt=Ge[yt.materialIndex];Dt&&Dt.visible&&y.push(G,We,Dt,be,Fe.z,yt)}}else Ge.visible&&y.push(G,We,Ge,be,Fe.z,null)}}const De=G.children;for(let We=0,Ge=De.length;We<Ge;We++)Pi(De[We],se,be,ye)}function Lu(G,se,be,ye){const pe=G.opaque,De=G.transmissive,We=G.transparent;b.setupLightsView(be),xe===!0&&Ze.setGlobalState(S.clippingPlanes,be),ye&&rt.viewport(O.copy(ye)),pe.length>0&&Zs(pe,se,be),De.length>0&&Zs(De,se,be),We.length>0&&Zs(We,se,be),rt.buffers.depth.setTest(!0),rt.buffers.depth.setMask(!0),rt.buffers.color.setMask(!0),rt.setPolygonOffset(!1)}function ql(G,se,be,ye){if((be.isScene===!0?be.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[ye.id]===void 0&&(b.state.transmissionRenderTarget[ye.id]=new zl(1,1,{generateMipmaps:!0,type:nt.has("EXT_color_buffer_half_float")||nt.has("EXT_color_buffer_float")?pa:Zo,minFilter:fd,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Rr.workingColorSpace}));const De=b.state.transmissionRenderTarget[ye.id],We=ye.viewport||O;De.setSize(We.z,We.w);const Ge=S.getRenderTarget();S.setRenderTarget(De),S.getClearColor(W),q=S.getClearAlpha(),q<1&&S.setClearColor(16777215,.5),S.clear(),Ue&&qt.render(be);const At=S.toneMapping;S.toneMapping=Sd;const ft=ye.viewport;if(ye.viewport!==void 0&&(ye.viewport=void 0),b.setupLightsView(ye),xe===!0&&Ze.setGlobalState(S.clippingPlanes,ye),Zs(G,be,ye),H.updateMultisampleRenderTarget(De),H.updateRenderTargetMipmap(De),nt.has("WEBGL_multisampled_render_to_texture")===!1){let mt=!1;for(let yt=0,Dt=se.length;yt<Dt;yt++){const en=se[yt],cn=en.object,rn=en.geometry,Ft=en.material,St=en.group;if(Ft.side===wc&&cn.layers.test(ye.layers)){const Pn=Ft.side;Ft.side=xo,Ft.needsUpdate=!0,Xn(cn,be,ye,rn,Ft,St),Ft.side=Pn,Ft.needsUpdate=!0,mt=!0}}mt===!0&&(H.updateMultisampleRenderTarget(De),H.updateRenderTargetMipmap(De))}S.setRenderTarget(Ge),S.setClearColor(W,q),ft!==void 0&&(ye.viewport=ft),S.toneMapping=At}function Zs(G,se,be){const ye=se.isScene===!0?se.overrideMaterial:null;for(let pe=0,De=G.length;pe<De;pe++){const We=G[pe],Ge=We.object,At=We.geometry,ft=ye===null?We.material:ye,mt=We.group;Ge.layers.test(be.layers)&&Xn(Ge,se,be,At,ft,mt)}}function Xn(G,se,be,ye,pe,De){G.onBeforeRender(S,se,be,ye,pe,De),G.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),pe.onBeforeRender(S,se,be,ye,G,De),pe.transparent===!0&&pe.side===wc&&pe.forceSinglePass===!1?(pe.side=xo,pe.needsUpdate=!0,S.renderBufferDirect(be,se,ye,pe,G,De),pe.side=Yh,pe.needsUpdate=!0,S.renderBufferDirect(be,se,ye,pe,G,De),pe.side=wc):S.renderBufferDirect(be,se,ye,pe,G,De),G.onAfterRender(S,se,be,ye,pe,De)}function Fc(G,se,be){se.isScene!==!0&&(se=Ve);const ye=bt.get(G),pe=b.state.lights,De=b.state.shadowsArray,We=pe.state.version,Ge=me.getParameters(G,pe.state,De,se,be),At=me.getProgramCacheKey(Ge);let ft=ye.programs;ye.environment=G.isMeshStandardMaterial?se.environment:null,ye.fog=se.fog,ye.envMap=(G.isMeshStandardMaterial?oe:z).get(G.envMap||ye.environment),ye.envMapRotation=ye.environment!==null&&G.envMap===null?se.environmentRotation:G.envMapRotation,ft===void 0&&(G.addEventListener("dispose",Un),ft=new Map,ye.programs=ft);let mt=ft.get(At);if(mt!==void 0){if(ye.currentProgram===mt&&ye.lightsStateVersion===We)return Y(G,Ge),mt}else Ge.uniforms=me.getUniforms(G),G.onBeforeCompile(Ge,S),mt=me.acquireProgram(Ge,At),ft.set(At,mt),ye.uniforms=Ge.uniforms;const yt=ye.uniforms;return(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(yt.clippingPlanes=Ze.uniform),Y(G,Ge),ye.needsLights=qe(G),ye.lightsStateVersion=We,ye.needsLights&&(yt.ambientLightColor.value=pe.state.ambient,yt.lightProbe.value=pe.state.probe,yt.directionalLights.value=pe.state.directional,yt.directionalLightShadows.value=pe.state.directionalShadow,yt.spotLights.value=pe.state.spot,yt.spotLightShadows.value=pe.state.spotShadow,yt.rectAreaLights.value=pe.state.rectArea,yt.ltc_1.value=pe.state.rectAreaLTC1,yt.ltc_2.value=pe.state.rectAreaLTC2,yt.pointLights.value=pe.state.point,yt.pointLightShadows.value=pe.state.pointShadow,yt.hemisphereLights.value=pe.state.hemi,yt.directionalShadowMap.value=pe.state.directionalShadowMap,yt.directionalShadowMatrix.value=pe.state.directionalShadowMatrix,yt.spotShadowMap.value=pe.state.spotShadowMap,yt.spotLightMatrix.value=pe.state.spotLightMatrix,yt.spotLightMap.value=pe.state.spotLightMap,yt.pointShadowMap.value=pe.state.pointShadowMap,yt.pointShadowMatrix.value=pe.state.pointShadowMatrix),ye.currentProgram=mt,ye.uniformsList=null,mt}function of(G){if(G.uniformsList===null){const se=G.currentProgram.getUniforms();G.uniformsList=vM.seqWithValue(se.seq,G.uniforms)}return G.uniformsList}function Y(G,se){const be=bt.get(G);be.outputColorSpace=se.outputColorSpace,be.batching=se.batching,be.batchingColor=se.batchingColor,be.instancing=se.instancing,be.instancingColor=se.instancingColor,be.instancingMorph=se.instancingMorph,be.skinning=se.skinning,be.morphTargets=se.morphTargets,be.morphNormals=se.morphNormals,be.morphColors=se.morphColors,be.morphTargetsCount=se.morphTargetsCount,be.numClippingPlanes=se.numClippingPlanes,be.numIntersection=se.numClipIntersection,be.vertexAlphas=se.vertexAlphas,be.vertexTangents=se.vertexTangents,be.toneMapping=se.toneMapping}function re(G,se,be,ye,pe){se.isScene!==!0&&(se=Ve),H.resetTextureUnits();const De=se.fog,We=ye.isMeshStandardMaterial?se.environment:null,Ge=M===null?S.outputColorSpace:M.isXRRenderTarget===!0?M.texture.colorSpace:Cc,At=(ye.isMeshStandardMaterial?oe:z).get(ye.envMap||We),ft=ye.vertexColors===!0&&!!be.attributes.color&&be.attributes.color.itemSize===4,mt=!!be.attributes.tangent&&(!!ye.normalMap||ye.anisotropy>0),yt=!!be.morphAttributes.position,Dt=!!be.morphAttributes.normal,en=!!be.morphAttributes.color;let cn=Sd;ye.toneMapped&&(M===null||M.isXRRenderTarget===!0)&&(cn=S.toneMapping);const rn=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,Ft=rn!==void 0?rn.length:0,St=bt.get(ye),Pn=b.state.lights;if(xe===!0&&(ke===!0||G!==L)){const kn=G===L&&ye.id===k;Ze.setState(ye,G,kn)}let Bt=!1;ye.version===St.__version?(St.needsLights&&St.lightsStateVersion!==Pn.state.version||St.outputColorSpace!==Ge||pe.isBatchedMesh&&St.batching===!1||!pe.isBatchedMesh&&St.batching===!0||pe.isBatchedMesh&&St.batchingColor===!0&&pe.colorTexture===null||pe.isBatchedMesh&&St.batchingColor===!1&&pe.colorTexture!==null||pe.isInstancedMesh&&St.instancing===!1||!pe.isInstancedMesh&&St.instancing===!0||pe.isSkinnedMesh&&St.skinning===!1||!pe.isSkinnedMesh&&St.skinning===!0||pe.isInstancedMesh&&St.instancingColor===!0&&pe.instanceColor===null||pe.isInstancedMesh&&St.instancingColor===!1&&pe.instanceColor!==null||pe.isInstancedMesh&&St.instancingMorph===!0&&pe.morphTexture===null||pe.isInstancedMesh&&St.instancingMorph===!1&&pe.morphTexture!==null||St.envMap!==At||ye.fog===!0&&St.fog!==De||St.numClippingPlanes!==void 0&&(St.numClippingPlanes!==Ze.numPlanes||St.numIntersection!==Ze.numIntersection)||St.vertexAlphas!==ft||St.vertexTangents!==mt||St.morphTargets!==yt||St.morphNormals!==Dt||St.morphColors!==en||St.toneMapping!==cn||St.morphTargetsCount!==Ft)&&(Bt=!0):(Bt=!0,St.__version=ye.version);let nr=St.currentProgram;Bt===!0&&(nr=Fc(ye,se,pe));let si=!1,br=!1,ki=!1;const pn=nr.getUniforms(),Fr=St.uniforms;if(rt.useProgram(nr.program)&&(si=!0,br=!0,ki=!0),ye.id!==k&&(k=ye.id,br=!0),si||L!==G){Je.reverseDepthBuffer?(Re.copy(G.projectionMatrix),fMe(Re),pMe(Re),pn.setValue(te,"projectionMatrix",Re)):pn.setValue(te,"projectionMatrix",G.projectionMatrix),pn.setValue(te,"viewMatrix",G.matrixWorldInverse);const kn=pn.map.cameraPosition;kn!==void 0&&kn.setValue(te,tt.setFromMatrixPosition(G.matrixWorld)),Je.logarithmicDepthBuffer&&pn.setValue(te,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),(ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshLambertMaterial||ye.isMeshBasicMaterial||ye.isMeshStandardMaterial||ye.isShaderMaterial)&&pn.setValue(te,"isOrthographic",G.isOrthographicCamera===!0),L!==G&&(L=G,br=!0,ki=!0)}if(pe.isSkinnedMesh){pn.setOptional(te,pe,"bindMatrix"),pn.setOptional(te,pe,"bindMatrixInverse");const kn=pe.skeleton;kn&&(kn.boneTexture===null&&kn.computeBoneTexture(),pn.setValue(te,"boneTexture",kn.boneTexture,H))}pe.isBatchedMesh&&(pn.setOptional(te,pe,"batchingTexture"),pn.setValue(te,"batchingTexture",pe._matricesTexture,H),pn.setOptional(te,pe,"batchingIdTexture"),pn.setValue(te,"batchingIdTexture",pe._indirectTexture,H),pn.setOptional(te,pe,"batchingColorTexture"),pe._colorsTexture!==null&&pn.setValue(te,"batchingColorTexture",pe._colorsTexture,H));const _r=be.morphAttributes;if((_r.position!==void 0||_r.normal!==void 0||_r.color!==void 0)&&Rt.update(pe,be,nr),(br||St.receiveShadow!==pe.receiveShadow)&&(St.receiveShadow=pe.receiveShadow,pn.setValue(te,"receiveShadow",pe.receiveShadow)),ye.isMeshGouraudMaterial&&ye.envMap!==null&&(Fr.envMap.value=At,Fr.flipEnvMap.value=At.isCubeTexture&&At.isRenderTargetTexture===!1?-1:1),ye.isMeshStandardMaterial&&ye.envMap===null&&se.environment!==null&&(Fr.envMapIntensity.value=se.environmentIntensity),br&&(pn.setValue(te,"toneMappingExposure",S.toneMappingExposure),St.needsLights&&Ee(Fr,ki),De&&ye.fog===!0&&Ae.refreshFogUniforms(Fr,De),Ae.refreshMaterialUniforms(Fr,ye,ne,K,b.state.transmissionRenderTarget[G.id]),vM.upload(te,of(St),Fr,H)),ye.isShaderMaterial&&ye.uniformsNeedUpdate===!0&&(vM.upload(te,of(St),Fr,H),ye.uniformsNeedUpdate=!1),ye.isSpriteMaterial&&pn.setValue(te,"center",pe.center),pn.setValue(te,"modelViewMatrix",pe.modelViewMatrix),pn.setValue(te,"normalMatrix",pe.normalMatrix),pn.setValue(te,"modelMatrix",pe.matrixWorld),ye.isShaderMaterial||ye.isRawShaderMaterial){const kn=ye.uniformsGroups;for(let Ur=0,Za=kn.length;Ur<Za;Ur++){const vs=kn[Ur];ue.update(vs,nr),ue.bind(vs,nr)}}return nr}function Ee(G,se){G.ambientLightColor.needsUpdate=se,G.lightProbe.needsUpdate=se,G.directionalLights.needsUpdate=se,G.directionalLightShadows.needsUpdate=se,G.pointLights.needsUpdate=se,G.pointLightShadows.needsUpdate=se,G.spotLights.needsUpdate=se,G.spotLightShadows.needsUpdate=se,G.rectAreaLights.needsUpdate=se,G.hemisphereLights.needsUpdate=se}function qe(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(G,se,be){bt.get(G.texture).__webglTexture=se,bt.get(G.depthTexture).__webglTexture=be;const ye=bt.get(G);ye.__hasExternalTextures=!0,ye.__autoAllocateDepthBuffer=be===void 0,ye.__autoAllocateDepthBuffer||nt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ye.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(G,se){const be=bt.get(G);be.__webglFramebuffer=se,be.__useDefaultFramebuffer=se===void 0},this.setRenderTarget=function(G,se=0,be=0){M=G,N=se,A=be;let ye=!0,pe=null,De=!1,We=!1;if(G){const At=bt.get(G);if(At.__useDefaultFramebuffer!==void 0)rt.bindFramebuffer(te.FRAMEBUFFER,null),ye=!1;else if(At.__webglFramebuffer===void 0)H.setupRenderTarget(G);else if(At.__hasExternalTextures)H.rebindTextures(G,bt.get(G.texture).__webglTexture,bt.get(G.depthTexture).__webglTexture);else if(G.depthBuffer){const yt=G.depthTexture;if(At.__boundDepthTexture!==yt){if(yt!==null&&bt.has(yt)&&(G.width!==yt.image.width||G.height!==yt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");H.setupDepthRenderbuffer(G)}}const ft=G.texture;(ft.isData3DTexture||ft.isDataArrayTexture||ft.isCompressedArrayTexture)&&(We=!0);const mt=bt.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Array.isArray(mt[se])?pe=mt[se][be]:pe=mt[se],De=!0):G.samples>0&&H.useMultisampledRTT(G)===!1?pe=bt.get(G).__webglMultisampledFramebuffer:Array.isArray(mt)?pe=mt[be]:pe=mt,O.copy(G.viewport),I.copy(G.scissor),U=G.scissorTest}else O.copy(B).multiplyScalar(ne).floor(),I.copy(ce).multiplyScalar(ne).floor(),U=fe;if(rt.bindFramebuffer(te.FRAMEBUFFER,pe)&&ye&&rt.drawBuffers(G,pe),rt.viewport(O),rt.scissor(I),rt.setScissorTest(U),De){const At=bt.get(G.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_CUBE_MAP_POSITIVE_X+se,At.__webglTexture,be)}else if(We){const At=bt.get(G.texture),ft=se||0;te.framebufferTextureLayer(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,At.__webglTexture,be||0,ft)}k=-1},this.readRenderTargetPixels=function(G,se,be,ye,pe,De,We){if(!(G&&G.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ge=bt.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&We!==void 0&&(Ge=Ge[We]),Ge){rt.bindFramebuffer(te.FRAMEBUFFER,Ge);try{const At=G.texture,ft=At.format,mt=At.type;if(!Je.textureFormatReadable(ft)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Je.textureTypeReadable(mt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=G.width-ye&&be>=0&&be<=G.height-pe&&te.readPixels(se,be,ye,pe,ge.convert(ft),ge.convert(mt),De)}finally{const At=M!==null?bt.get(M).__webglFramebuffer:null;rt.bindFramebuffer(te.FRAMEBUFFER,At)}}},this.readRenderTargetPixelsAsync=async function(G,se,be,ye,pe,De,We){if(!(G&&G.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ge=bt.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&We!==void 0&&(Ge=Ge[We]),Ge){const At=G.texture,ft=At.format,mt=At.type;if(!Je.textureFormatReadable(ft))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Je.textureTypeReadable(mt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(se>=0&&se<=G.width-ye&&be>=0&&be<=G.height-pe){rt.bindFramebuffer(te.FRAMEBUFFER,Ge);const yt=te.createBuffer();te.bindBuffer(te.PIXEL_PACK_BUFFER,yt),te.bufferData(te.PIXEL_PACK_BUFFER,De.byteLength,te.STREAM_READ),te.readPixels(se,be,ye,pe,ge.convert(ft),ge.convert(mt),0);const Dt=M!==null?bt.get(M).__webglFramebuffer:null;rt.bindFramebuffer(te.FRAMEBUFFER,Dt);const en=te.fenceSync(te.SYNC_GPU_COMMANDS_COMPLETE,0);return te.flush(),await hMe(te,en,4),te.bindBuffer(te.PIXEL_PACK_BUFFER,yt),te.getBufferSubData(te.PIXEL_PACK_BUFFER,0,De),te.deleteBuffer(yt),te.deleteSync(en),De}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(G,se=null,be=0){G.isTexture!==!0&&(yM("WebGLRenderer: copyFramebufferToTexture function signature has changed."),se=arguments[0]||null,G=arguments[1]);const ye=Math.pow(2,-be),pe=Math.floor(G.image.width*ye),De=Math.floor(G.image.height*ye),We=se!==null?se.x:0,Ge=se!==null?se.y:0;H.setTexture2D(G,0),te.copyTexSubImage2D(te.TEXTURE_2D,be,0,0,We,Ge,pe,De),rt.unbindTexture()},this.copyTextureToTexture=function(G,se,be=null,ye=null,pe=0){G.isTexture!==!0&&(yM("WebGLRenderer: copyTextureToTexture function signature has changed."),ye=arguments[0]||null,G=arguments[1],se=arguments[2],pe=arguments[3]||0,be=null);let De,We,Ge,At,ft,mt;be!==null?(De=be.max.x-be.min.x,We=be.max.y-be.min.y,Ge=be.min.x,At=be.min.y):(De=G.image.width,We=G.image.height,Ge=0,At=0),ye!==null?(ft=ye.x,mt=ye.y):(ft=0,mt=0);const yt=ge.convert(se.format),Dt=ge.convert(se.type);H.setTexture2D(se,0),te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,se.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,se.unpackAlignment);const en=te.getParameter(te.UNPACK_ROW_LENGTH),cn=te.getParameter(te.UNPACK_IMAGE_HEIGHT),rn=te.getParameter(te.UNPACK_SKIP_PIXELS),Ft=te.getParameter(te.UNPACK_SKIP_ROWS),St=te.getParameter(te.UNPACK_SKIP_IMAGES),Pn=G.isCompressedTexture?G.mipmaps[pe]:G.image;te.pixelStorei(te.UNPACK_ROW_LENGTH,Pn.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,Pn.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,Ge),te.pixelStorei(te.UNPACK_SKIP_ROWS,At),G.isDataTexture?te.texSubImage2D(te.TEXTURE_2D,pe,ft,mt,De,We,yt,Dt,Pn.data):G.isCompressedTexture?te.compressedTexSubImage2D(te.TEXTURE_2D,pe,ft,mt,Pn.width,Pn.height,yt,Pn.data):te.texSubImage2D(te.TEXTURE_2D,pe,ft,mt,De,We,yt,Dt,Pn),te.pixelStorei(te.UNPACK_ROW_LENGTH,en),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,cn),te.pixelStorei(te.UNPACK_SKIP_PIXELS,rn),te.pixelStorei(te.UNPACK_SKIP_ROWS,Ft),te.pixelStorei(te.UNPACK_SKIP_IMAGES,St),pe===0&&se.generateMipmaps&&te.generateMipmap(te.TEXTURE_2D),rt.unbindTexture()},this.copyTextureToTexture3D=function(G,se,be=null,ye=null,pe=0){G.isTexture!==!0&&(yM("WebGLRenderer: copyTextureToTexture3D function signature has changed."),be=arguments[0]||null,ye=arguments[1]||null,G=arguments[2],se=arguments[3],pe=arguments[4]||0);let De,We,Ge,At,ft,mt,yt,Dt,en;const cn=G.isCompressedTexture?G.mipmaps[pe]:G.image;be!==null?(De=be.max.x-be.min.x,We=be.max.y-be.min.y,Ge=be.max.z-be.min.z,At=be.min.x,ft=be.min.y,mt=be.min.z):(De=cn.width,We=cn.height,Ge=cn.depth,At=0,ft=0,mt=0),ye!==null?(yt=ye.x,Dt=ye.y,en=ye.z):(yt=0,Dt=0,en=0);const rn=ge.convert(se.format),Ft=ge.convert(se.type);let St;if(se.isData3DTexture)H.setTexture3D(se,0),St=te.TEXTURE_3D;else if(se.isDataArrayTexture||se.isCompressedArrayTexture)H.setTexture2DArray(se,0),St=te.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,se.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,se.unpackAlignment);const Pn=te.getParameter(te.UNPACK_ROW_LENGTH),Bt=te.getParameter(te.UNPACK_IMAGE_HEIGHT),nr=te.getParameter(te.UNPACK_SKIP_PIXELS),si=te.getParameter(te.UNPACK_SKIP_ROWS),br=te.getParameter(te.UNPACK_SKIP_IMAGES);te.pixelStorei(te.UNPACK_ROW_LENGTH,cn.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,cn.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,At),te.pixelStorei(te.UNPACK_SKIP_ROWS,ft),te.pixelStorei(te.UNPACK_SKIP_IMAGES,mt),G.isDataTexture||G.isData3DTexture?te.texSubImage3D(St,pe,yt,Dt,en,De,We,Ge,rn,Ft,cn.data):se.isCompressedArrayTexture?te.compressedTexSubImage3D(St,pe,yt,Dt,en,De,We,Ge,rn,cn.data):te.texSubImage3D(St,pe,yt,Dt,en,De,We,Ge,rn,Ft,cn),te.pixelStorei(te.UNPACK_ROW_LENGTH,Pn),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,Bt),te.pixelStorei(te.UNPACK_SKIP_PIXELS,nr),te.pixelStorei(te.UNPACK_SKIP_ROWS,si),te.pixelStorei(te.UNPACK_SKIP_IMAGES,br),pe===0&&se.generateMipmaps&&te.generateMipmap(St),rt.unbindTexture()},this.initRenderTarget=function(G){bt.get(G).__webglFramebuffer===void 0&&H.setupRenderTarget(G)},this.initTexture=function(G){G.isCubeTexture?H.setTextureCube(G,0):G.isData3DTexture?H.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?H.setTexture2DArray(G,0):H.setTexture2D(G,0),rt.unbindTexture()},this.resetState=function(){N=0,A=0,M=null,rt.reset(),Qe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return pd}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===ck?"display-p3":"srgb",n.unpackColorSpace=Rr.workingColorSpace===mj?"display-p3":"srgb"}}class hk{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Gt(e),this.density=n}clone(){return new hk(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class fk{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Gt(e),this.near=n,this.far=r}clone(){return new fk(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let xj=class extends kr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new $l,this.environmentIntensity=1,this.environmentRotation=new $l,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}};class pk{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=VS,this.updateRanges=[],this.version=0,this.uuid=Fl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const oo=new le;class qy{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)oo.fromBufferAttribute(this,n),oo.applyMatrix4(e),this.setXYZ(n,oo.x,oo.y,oo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)oo.fromBufferAttribute(this,n),oo.applyNormalMatrix(e),this.setXYZ(n,oo.x,oo.y,oo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)oo.fromBufferAttribute(this,n),oo.transformDirection(e),this.setXYZ(n,oo.x,oo.y,oo.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=go(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=er(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=er(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=er(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=er(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=er(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=go(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=go(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=go(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=go(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=er(n,this.array),r=er(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=er(n,this.array),r=er(r,this.array),i=er(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=er(n,this.array),r=er(r,this.array),i=er(i,this.array),s=er(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new ei(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new qy(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class UB extends Xa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Gt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Nx;const L_=new le,Tx=new le,Mx=new le,Cx=new lt,D_=new lt,Yre=new En,QN=new le,F_=new le,JN=new le,qW=new lt,YI=new lt,YW=new lt;class Xre extends kr{constructor(e=new UB){if(super(),this.isSprite=!0,this.type="Sprite",Nx===void 0){Nx=new fr;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new pk(n,5);Nx.setIndex([0,1,2,0,2,3]),Nx.setAttribute("position",new qy(r,3,0,!1)),Nx.setAttribute("uv",new qy(r,2,3,!1))}this.geometry=Nx,this.material=e,this.center=new lt(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Tx.setFromMatrixScale(this.matrixWorld),Yre.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Mx.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Tx.multiplyScalar(-Mx.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;eT(QN.set(-.5,-.5,0),Mx,o,Tx,i,s),eT(F_.set(.5,-.5,0),Mx,o,Tx,i,s),eT(JN.set(.5,.5,0),Mx,o,Tx,i,s),qW.set(0,0),YI.set(1,0),YW.set(1,1);let l=e.ray.intersectTriangle(QN,F_,JN,!1,L_);if(l===null&&(eT(F_.set(-.5,.5,0),Mx,o,Tx,i,s),YI.set(0,1),l=e.ray.intersectTriangle(QN,JN,F_,!1,L_),l===null))return;const c=e.ray.origin.distanceTo(L_);c<e.near||c>e.far||n.push({distance:c,point:L_.clone(),uv:Ho.getInterpolation(L_,QN,F_,JN,qW,YI,YW,new lt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function eT(t,e,n,r,i,s){Cx.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(D_.x=s*Cx.x-i*Cx.y,D_.y=i*Cx.x+s*Cx.y):D_.copy(Cx),t.copy(e),t.x+=D_.x,t.y+=D_.y,t.applyMatrix4(Yre)}const tT=new le,XW=new le;class Kre extends kr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){tT.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(tT);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){tT.setFromMatrixPosition(e.matrixWorld),XW.setFromMatrixPosition(this.matrixWorld);const r=tT.distanceTo(XW)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const KW=new le,ZW=new Cr,QW=new Cr,NOe=new le,JW=new En,nT=new le,XI=new Ha,eG=new En,KI=new lv;class Zre extends Gi{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=y4,this.bindMatrix=new En,this.bindMatrixInverse=new En,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new bo),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,nT),this.boundingBox.expandByPoint(nT)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ha),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,nT),this.boundingSphere.expandByPoint(nT)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),XI.copy(this.boundingSphere),XI.applyMatrix4(i),e.ray.intersectsSphere(XI)!==!1&&(eG.copy(i).invert(),KI.copy(e.ray).applyMatrix4(eG),!(this.boundingBox!==null&&KI.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,KI)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Cr,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===y4?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===vre?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;ZW.fromBufferAttribute(i.attributes.skinIndex,e),QW.fromBufferAttribute(i.attributes.skinWeight,e),KW.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=QW.getComponent(s);if(o!==0){const l=ZW.getComponent(s);JW.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),n.addScaledVector(NOe.copy(KW).applyMatrix4(JW),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class BB extends kr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ju extends ii{constructor(e=null,n=1,r=1,i,s,o,l,c,u=fa,d=fa,h,f){super(null,o,l,c,u,d,i,s,h,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const tG=new En,TOe=new En;class mk{constructor(e=[],n=[]){this.uuid=Fl(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new En)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new En;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const l=e[s]?e[s].matrixWorld:TOe;tG.multiplyMatrices(l,n[s]),tG.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new mk(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new ju(n,e,e,ms,Wi);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new BB),this.bones.push(o),this.boneInverses.push(new En().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const l=r[i];e.boneInverses.push(l.toArray())}return e}}class hb extends ei{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Px=new En,nG=new En,rT=[],rG=new bo,MOe=new En,U_=new Gi,B_=new Ha;class Qre extends Gi{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new hb(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,MOe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new bo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Px),rG.copy(e.boundingBox).applyMatrix4(Px),this.boundingBox.union(rG)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ha),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Px),B_.copy(e.boundingSphere).applyMatrix4(Px),this.boundingSphere.union(B_)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let l=0;l<r.length;l++)r[l]=i[o+l]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(U_.geometry=this.geometry,U_.material=this.material,U_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),B_.copy(this.boundingSphere),B_.applyMatrix4(r),e.ray.intersectsSphere(B_)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Px),nG.multiplyMatrices(r,Px),U_.matrixWorld=nG,U_.raycast(e,rT);for(let o=0,l=rT.length;o<l;o++){const c=rT[o];c.instanceId=s,c.object=this,n.push(c)}rT.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new hb(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new ju(new Float32Array(i*this.count),i,this.count,fj,Wi));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const l=this.geometry.morphTargetsRelative?1:1-o,c=i*e;s[c]=l,s.set(r,c+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function COe(t,e){return t.z-e.z}function POe(t,e){return e.z-t.z}class kOe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r){const i=this.pool,s=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});const o=i[this.index];s.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n,o.index=r}reset(){this.list.length=0,this.index=0}}const Yf=new En,ZI=new En,OOe=new En,ROe=new Gt(1,1,1),iG=new En,QI=new vj,iT=new bo,bg=new Ha,z_=new le,sG=new le,IOe=new le,JI=new kOe,La=new Gi,sT=[];function LOe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class Jre extends Gi{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,n,r=n*2,i){super(new fr,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._availableInstanceIds=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new ju(n,e,e,ms,Wi);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new ju(n,e,e,pj,Cd);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new ju(n,e,e,ms,Wi);r.colorSpace=Rr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:l,itemSize:c,normalized:u}=o,d=new l.constructor(r*c),h=new ei(d,c,u);n.setAttribute(s,h)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new ei(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bo);const e=this.boundingBox,n=this._drawInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Yf),this.getBoundingBoxAt(s,iT).applyMatrix4(Yf),e.union(iT)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ha);const e=this.boundingSphere,n=this._drawInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Yf),this.getBoundingSphereAt(s,bg).applyMatrix4(Yf),e.union(bg)}}addInstance(e){if(this._drawInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(i=this._availableInstanceIds.pop(),this._drawInfo[i]=r):(i=this._drawInfo.length,this._drawInfo.push(r));const s=this._matricesTexture,o=s.image.data;OOe.toArray(o,i*16),s.needsUpdate=!0;const l=this._colorsTexture;return l&&(ROe.toArray(l.image.data,i*4),l.needsUpdate=!0),i}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,l=this._drawRanges,c=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const u=e.getIndex(),d=u!==null;if(d&&(r===-1?i.indexCount=u.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._geometryCount;return this._geometryCount++,o.push(i),l.push({start:d?i.indexStart:i.vertexStart,count:-1}),c.push({boxInitialized:!1,box:new bo,sphereInitialized:!1,sphere:new Ha}),this.setGeometryAt(h,e),h}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),l=this._reservedRanges[e];if(i&&o.count>l.indexCount||n.attributes.position.count>l.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const c=l.vertexStart,u=l.vertexCount;for(const p in r.attributes){const m=n.getAttribute(p),y=r.getAttribute(p);LOe(m,y,c);const b=m.itemSize;for(let v=m.count,_=u;v<_;v++){const S=c+v;for(let j=0;j<b;j++)y.setComponent(S,j,0)}y.needsUpdate=!0,y.addUpdateRange(c*b,u*b)}if(i){const p=l.indexStart;for(let m=0;m<o.count;m++)s.setX(p+m,c+o.getX(m));for(let m=o.count,y=l.indexCount;m<y;m++)s.setX(p+m,c);s.needsUpdate=!0,s.addUpdateRange(p,l.indexCount)}const d=this._bounds[e];n.boundingBox!==null?(d.box.copy(n.boundingBox),d.boxInitialized=!0):d.boxInitialized=!1,n.boundingSphere!==null?(d.sphere.copy(n.boundingSphere),d.sphereInitialized=!0):d.sphereInitialized=!1;const h=this._drawRanges[e],f=n.getAttribute("position");return h.count=i?o.count:f.count,this._visibilityChanged=!0,e}deleteInstance(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?this:(n[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this._bounds[e],i=r.box,s=this.geometry;if(r.boxInitialized===!1){i.makeEmpty();const o=s.index,l=s.attributes.position,c=this._drawRanges[e];for(let u=c.start,d=c.start+c.count;u<d;u++){let h=u;o&&(h=o.getX(h)),i.expandByPoint(z_.fromBufferAttribute(l,h))}r.boxInitialized=!0}return n.copy(i),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this._bounds[e],i=r.sphere,s=this.geometry;if(r.sphereInitialized===!1){i.makeEmpty(),this.getBoundingBoxAt(e,iT),iT.getCenter(i.center);const o=s.index,l=s.attributes.position,c=this._drawRanges[e];let u=0;for(let d=c.start,h=c.start+c.count;d<h;d++){let f=d;o&&(f=o.getX(f)),z_.fromBufferAttribute(l,f),u=Math.max(u,i.center.distanceToSquared(z_))}i.radius=Math.sqrt(u),r.sphereInitialized=!0}return n.copy(i),n}setMatrixAt(e,n){const r=this._drawInfo,i=this._matricesTexture,s=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._drawInfo,i=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const r=this._colorsTexture,i=this._colorsTexture.image.data,s=this._drawInfo;return e>=s.length||s[e].active===!1?this:(n.toArray(i,e*4),r.needsUpdate=!0,this)}getColorAt(e,n){const r=this._colorsTexture.image.data,i=this._drawInfo;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*4)}setVisibleAt(e,n){const r=this._drawInfo;return e>=r.length||r[e].active===!1||r[e].visible===n?this:(r[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}setGeometryIdAt(e,n){const r=this._drawInfo;return e>=r.length||r[e].active===!1||n<0||n>=this._geometryCount?null:(r[e].geometryIndex=n,this)}getGeometryIdAt(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?-1:n[e].geometryIndex}getGeometryRangeAt(e,n={}){if(e<0||e>=this._geometryCount)return null;const r=this._drawRanges[e];return n.start=r.start,n.count=r.count,n}raycast(e,n){const r=this._drawInfo,i=this._drawRanges,s=this.matrixWorld,o=this.geometry;La.material=this.material,La.geometry.index=o.index,La.geometry.attributes=o.attributes,La.geometry.boundingBox===null&&(La.geometry.boundingBox=new bo),La.geometry.boundingSphere===null&&(La.geometry.boundingSphere=new Ha);for(let l=0,c=r.length;l<c;l++){if(!r[l].visible||!r[l].active)continue;const u=r[l].geometryIndex,d=i[u];La.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(l,La.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,La.geometry.boundingBox),this.getBoundingSphereAt(u,La.geometry.boundingSphere),La.raycast(e,sT);for(let h=0,f=sT.length;h<f;h++){const p=sT[h];p.object=this,p.batchId=l,n.push(p)}sT.length=0}La.material=null,La.geometry.index=null,La.geometry.attributes={},La.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._drawInfo=e._drawInfo.map(n=>({...n})),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,c=this._drawInfo,u=this._multiDrawStarts,d=this._multiDrawCounts,h=this._drawRanges,f=this.perObjectFrustumCulled,p=this._indirectTexture,m=p.image.data;f&&(iG.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),QI.setFromProjectionMatrix(iG,e.coordinateSystem));let y=0;if(this.sortObjects){ZI.copy(this.matrixWorld).invert(),z_.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ZI),sG.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(ZI);for(let _=0,S=c.length;_<S;_++)if(c[_].visible&&c[_].active){const j=c[_].geometryIndex;this.getMatrixAt(_,Yf),this.getBoundingSphereAt(j,bg).applyMatrix4(Yf);let N=!1;if(f&&(N=!QI.intersectsSphere(bg)),!N){const A=IOe.subVectors(bg.center,z_).dot(sG);JI.push(h[j],A,_)}}const b=JI.list,v=this.customSort;v===null?b.sort(s.transparent?POe:COe):v.call(this,b,r);for(let _=0,S=b.length;_<S;_++){const j=b[_];u[y]=j.start*l,d[y]=j.count,m[y]=j.index,y++}JI.reset()}else for(let b=0,v=c.length;b<v;b++)if(c[b].visible&&c[b].active){const _=c[b].geometryIndex;let S=!1;if(f&&(this.getMatrixAt(b,Yf),this.getBoundingSphereAt(_,bg).applyMatrix4(Yf),S=!QI.intersectsSphere(bg)),!S){const j=h[_];u[y]=j.start*l,d[y]=j.count,m[y]=b,y++}}p.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class jo extends Xa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Gt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const YC=new le,XC=new le,aG=new En,$_=new lv,aT=new Ha,eL=new le,oG=new le;let Jp=class extends kr{constructor(e=new fr,n=new jo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)YC.fromBufferAttribute(n,i-1),XC.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=YC.distanceTo(XC);e.setAttribute("lineDistance",new ln(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),aT.copy(r.boundingSphere),aT.applyMatrix4(i),aT.radius+=s,e.ray.intersectsSphere(aT)===!1)return;aG.copy(i).invert(),$_.copy(e.ray).applyMatrix4(aG);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=this.isLineSegments?2:1,d=r.index,f=r.attributes.position;if(d!==null){const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let y=p,b=m-1;y<b;y+=u){const v=d.getX(y),_=d.getX(y+1),S=oT(this,e,$_,c,v,_);S&&n.push(S)}if(this.isLineLoop){const y=d.getX(m-1),b=d.getX(p),v=oT(this,e,$_,c,y,b);v&&n.push(v)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let y=p,b=m-1;y<b;y+=u){const v=oT(this,e,$_,c,y,y+1);v&&n.push(v)}if(this.isLineLoop){const y=oT(this,e,$_,c,m-1,p);y&&n.push(y)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}};function oT(t,e,n,r,i,s){const o=t.geometry.attributes.position;if(YC.fromBufferAttribute(o,i),XC.fromBufferAttribute(o,s),n.distanceSqToSegment(YC,XC,eL,oG)>r)return;eL.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(eL);if(!(c<e.near||c>e.far))return{distance:c,point:oG.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:t}}const lG=new le,cG=new le;class Fd extends Jp{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)lG.fromBufferAttribute(n,i),cG.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+lG.distanceTo(cG);e.setAttribute("lineDistance",new ln(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class eie extends Jp{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class gk extends Xa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Gt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const uG=new En,E4=new lv,lT=new Ha,cT=new le;let tie=class extends kr{constructor(e=new fr,n=new gk){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),lT.copy(r.boundingSphere),lT.applyMatrix4(i),lT.radius+=s,e.ray.intersectsSphere(lT)===!1)return;uG.copy(i).invert(),E4.copy(e.ray).applyMatrix4(uG);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=r.index,h=r.attributes.position;if(u!==null){const f=Math.max(0,o.start),p=Math.min(u.count,o.start+o.count);for(let m=f,y=p;m<y;m++){const b=u.getX(m);cT.fromBufferAttribute(h,b),dG(cT,b,c,i,e,n,this)}}else{const f=Math.max(0,o.start),p=Math.min(h.count,o.start+o.count);for(let m=f,y=p;m<y;m++)cT.fromBufferAttribute(h,m),dG(cT,m,c,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}};function dG(t,e,n,r,i,s,o){const l=E4.distanceSqToPoint(t);if(l<n){const c=new le;E4.closestPointToPoint(t,c),c.applyMatrix4(r);const u=i.ray.origin.distanceTo(c);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class DOe extends ii{constructor(e,n,r,i,s,o,l,c,u){super(e,n,r,i,s,o,l,c,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Gr,this.magFilter=s!==void 0?s:Gr,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FOe extends ii{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=fa,this.minFilter=fa,this.generateMipmaps=!1,this.needsUpdate=!0}}class yk extends ii{constructor(e,n,r,i,s,o,l,c,u,d,h,f){super(null,o,l,c,u,d,i,s,h,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class UOe extends yk{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Cs,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class BOe extends yk{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Md),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class zOe extends ii{constructor(e,n,r,i,s,o,l,c,u){super(e,n,r,i,s,o,l,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}let Pu=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let l=0,c=s-1,u;for(;l<=c;)if(i=Math.floor(l+(c-l)/2),u=r[i]-o,u<0)l=i+1;else if(u>0)c=i-1;else{c=i;break}if(i=c,r[i]===o)return i/(s-1);const d=r[i],f=r[i+1]-d,p=(o-d)/f;return(i+p)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),l=this.getPoint(s),c=n||(o.isVector2?new lt:new le);return c.copy(l).sub(o).normalize(),c}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new le,i=[],s=[],o=[],l=new le,c=new En;for(let p=0;p<=e;p++){const m=p/e;i[p]=this.getTangentAt(m,new le)}s[0]=new le,o[0]=new le;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),h=Math.abs(i[0].y),f=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),f<=u&&r.set(0,0,1),l.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],l),o[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),l.crossVectors(i[p-1],i[p]),l.length()>Number.EPSILON){l.normalize();const m=Math.acos(ss(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(c.makeRotationAxis(l,m))}o[p].crossVectors(i[p],s[p])}if(n===!0){let p=Math.acos(ss(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(l.crossVectors(s[0],s[e]))>0&&(p=-p);for(let m=1;m<=e;m++)s[m].applyMatrix4(c.makeRotationAxis(i[m],p*m)),o[m].crossVectors(i[m],s[m])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class vk extends Pu{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=l,this.aRotation=c}getPoint(e,n=new lt){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const l=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(l),u=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),f=c-this.aX,p=u-this.aY;c=f*d-p*h+this.aX,u=f*h+p*d+this.aY}return r.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class nie extends vk{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function zB(){let t=0,e=0,n=0,r=0;function i(s,o,l,c){t=s,e=l,n=-3*s+3*o-2*l-c,r=2*s-2*o+l+c}return{initCatmullRom:function(s,o,l,c,u){i(o,l,u*(l-s),u*(c-o))},initNonuniformCatmullRom:function(s,o,l,c,u,d,h){let f=(o-s)/u-(l-s)/(u+d)+(l-o)/d,p=(l-o)/d-(c-o)/(d+h)+(c-l)/h;f*=d,p*=d,i(o,l,f,p)},calc:function(s){const o=s*s,l=o*s;return t+e*s+n*o+r*l}}}const uT=new le,tL=new zB,nL=new zB,rL=new zB;class rie extends Pu{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new le){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:c===0&&l===s-1&&(l=s-2,c=1);let u,d;this.closed||l>0?u=i[(l-1)%s]:(uT.subVectors(i[0],i[1]).add(i[0]),u=uT);const h=i[l%s],f=i[(l+1)%s];if(this.closed||l+2<s?d=i[(l+2)%s]:(uT.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=uT),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let m=Math.pow(u.distanceToSquared(h),p),y=Math.pow(h.distanceToSquared(f),p),b=Math.pow(f.distanceToSquared(d),p);y<1e-4&&(y=1),m<1e-4&&(m=y),b<1e-4&&(b=y),tL.initNonuniformCatmullRom(u.x,h.x,f.x,d.x,m,y,b),nL.initNonuniformCatmullRom(u.y,h.y,f.y,d.y,m,y,b),rL.initNonuniformCatmullRom(u.z,h.z,f.z,d.z,m,y,b)}else this.curveType==="catmullrom"&&(tL.initCatmullRom(u.x,h.x,f.x,d.x,this.tension),nL.initCatmullRom(u.y,h.y,f.y,d.y,this.tension),rL.initCatmullRom(u.z,h.z,f.z,d.z,this.tension));return r.set(tL.calc(c),nL.calc(c),rL.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new le().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function hG(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,l=t*t,c=t*l;return(2*n-2*r+s+o)*c+(-3*n+3*r-2*s-o)*l+s*t+n}function $Oe(t,e){const n=1-t;return n*n*e}function HOe(t,e){return 2*(1-t)*t*e}function VOe(t,e){return t*t*e}function G1(t,e,n,r){return $Oe(t,e)+HOe(t,n)+VOe(t,r)}function WOe(t,e){const n=1-t;return n*n*n*e}function GOe(t,e){const n=1-t;return 3*n*n*t*e}function qOe(t,e){return 3*(1-t)*t*t*e}function YOe(t,e){return t*t*t*e}function q1(t,e,n,r,i){return WOe(t,e)+GOe(t,n)+qOe(t,r)+YOe(t,i)}class $B extends Pu{constructor(e=new lt,n=new lt,r=new lt,i=new lt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new lt){const r=n,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return r.set(q1(e,i.x,s.x,o.x,l.x),q1(e,i.y,s.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class iie extends Pu{constructor(e=new le,n=new le,r=new le,i=new le){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return r.set(q1(e,i.x,s.x,o.x,l.x),q1(e,i.y,s.y,o.y,l.y),q1(e,i.z,s.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class HB extends Pu{constructor(e=new lt,n=new lt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new lt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new lt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sie extends Pu{constructor(e=new le,n=new le){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new le){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new le){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class VB extends Pu{constructor(e=new lt,n=new lt,r=new lt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new lt){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(G1(e,i.x,s.x,o.x),G1(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class WB extends Pu{constructor(e=new le,n=new le,r=new le){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(G1(e,i.x,s.x,o.x),G1(e,i.y,s.y,o.y),G1(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class GB extends Pu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new lt){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),l=s-o,c=i[o===0?o:o-1],u=i[o],d=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(hG(l,c.x,u.x,d.x,h.x),hG(l,c.y,u.y,d.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new lt().fromArray(i))}return this}}var KC=Object.freeze({__proto__:null,ArcCurve:nie,CatmullRomCurve3:rie,CubicBezierCurve:$B,CubicBezierCurve3:iie,EllipseCurve:vk,LineCurve:HB,LineCurve3:sie,QuadraticBezierCurve:VB,QuadraticBezierCurve3:WB,SplineCurve:GB});class aie extends Pu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new KC[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,l=this.curves[s],c=l.getLength(),u=c===0?0:1-o/c;return l.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,c=o.getPoints(l);for(let u=0;u<c.length;u++){const d=c[u];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new KC[i.type]().fromJSON(i))}return this}}let qS=class extends aie{constructor(e){super(),this.type="Path",this.currentPoint=new lt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new HB(this.currentPoint.clone(),new lt(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new VB(this.currentPoint.clone(),new lt(e,n),new lt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const l=new $B(this.currentPoint.clone(),new lt(e,n),new lt(r,i),new lt(s,o));return this.curves.push(l),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new GB(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,n+c,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,l,c){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,n+d,r,i,s,o,l,c),this}absellipse(e,n,r,i,s,o,l,c){const u=new vk(e,n,r,i,s,o,l,c);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class bj extends fr{constructor(e=[new lt(0,-.5),new lt(.5,0),new lt(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=ss(i,0,Math.PI*2);const s=[],o=[],l=[],c=[],u=[],d=1/n,h=new le,f=new lt,p=new le,m=new le,y=new le;let b=0,v=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:b=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,p.x=v*1,p.y=-b,p.z=v*0,y.copy(p),p.normalize(),c.push(p.x,p.y,p.z);break;case e.length-1:c.push(y.x,y.y,y.z);break;default:b=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,p.x=v*1,p.y=-b,p.z=v*0,m.copy(p),p.x+=y.x,p.y+=y.y,p.z+=y.z,p.normalize(),c.push(p.x,p.y,p.z),y.copy(m)}for(let _=0;_<=n;_++){const S=r+_*d*i,j=Math.sin(S),N=Math.cos(S);for(let A=0;A<=e.length-1;A++){h.x=e[A].x*j,h.y=e[A].y,h.z=e[A].x*N,o.push(h.x,h.y,h.z),f.x=_/n,f.y=A/(e.length-1),l.push(f.x,f.y);const M=c[3*A+0]*j,k=c[3*A+1],L=c[3*A+0]*N;u.push(M,k,L)}}for(let _=0;_<n;_++)for(let S=0;S<e.length-1;S++){const j=S+_*e.length,N=j,A=j+e.length,M=j+e.length+1,k=j+1;s.push(N,A,k),s.push(M,k,A)}this.setIndex(s),this.setAttribute("position",new ln(o,3)),this.setAttribute("uv",new ln(l,2)),this.setAttribute("normal",new ln(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bj(e.points,e.segments,e.phiStart,e.phiLength)}}class xk extends bj{constructor(e=1,n=1,r=4,i=8){const s=new qS;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new xk(e.radius,e.length,e.capSegments,e.radialSegments)}}class bk extends fr{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],l=[],c=[],u=new le,d=new lt;o.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let h=0,f=3;h<=n;h++,f+=3){const p=r+h/n*i;u.x=e*Math.cos(p),u.y=e*Math.sin(p),o.push(u.x,u.y,u.z),l.push(0,0,1),d.x=(o[f]/e+1)/2,d.y=(o[f+1]/e+1)/2,c.push(d.x,d.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new ln(o,3)),this.setAttribute("normal",new ln(l,3)),this.setAttribute("uv",new ln(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bk(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ow extends fr{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:c};const u=this;i=Math.floor(i),s=Math.floor(s);const d=[],h=[],f=[],p=[];let m=0;const y=[],b=r/2;let v=0;_(),o===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new ln(h,3)),this.setAttribute("normal",new ln(f,3)),this.setAttribute("uv",new ln(p,2));function _(){const j=new le,N=new le;let A=0;const M=(n-e)/r;for(let k=0;k<=s;k++){const L=[],O=k/s,I=O*(n-e)+e;for(let U=0;U<=i;U++){const W=U/i,q=W*c+l,J=Math.sin(q),K=Math.cos(q);N.x=I*J,N.y=-O*r+b,N.z=I*K,h.push(N.x,N.y,N.z),j.set(J,M,K).normalize(),f.push(j.x,j.y,j.z),p.push(W,1-O),L.push(m++)}y.push(L)}for(let k=0;k<i;k++)for(let L=0;L<s;L++){const O=y[L][k],I=y[L+1][k],U=y[L+1][k+1],W=y[L][k+1];e>0&&(d.push(O,I,W),A+=3),n>0&&(d.push(I,U,W),A+=3)}u.addGroup(v,A,0),v+=A}function S(j){const N=m,A=new lt,M=new le;let k=0;const L=j===!0?e:n,O=j===!0?1:-1;for(let U=1;U<=i;U++)h.push(0,b*O,0),f.push(0,O,0),p.push(.5,.5),m++;const I=m;for(let U=0;U<=i;U++){const q=U/i*c+l,J=Math.cos(q),K=Math.sin(q);M.x=L*K,M.y=b*O,M.z=L*J,h.push(M.x,M.y,M.z),f.push(0,O,0),A.x=J*.5+.5,A.y=K*.5*O+.5,p.push(A.x,A.y),m++}for(let U=0;U<i;U++){const W=N+U,q=I+U;j===!0?d.push(q,q+1,W):d.push(q+1,q,W),k+=3}u.addGroup(v,k,j===!0?1:2),v+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ow(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class wk extends ow{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,l=Math.PI*2){super(0,e,n,r,i,s,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:l}}static fromJSON(e){return new wk(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bm extends fr{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];l(i),u(r),d(),this.setAttribute("position",new ln(s,3)),this.setAttribute("normal",new ln(s.slice(),3)),this.setAttribute("uv",new ln(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function l(_){const S=new le,j=new le,N=new le;for(let A=0;A<n.length;A+=3)p(n[A+0],S),p(n[A+1],j),p(n[A+2],N),c(S,j,N,_)}function c(_,S,j,N){const A=N+1,M=[];for(let k=0;k<=A;k++){M[k]=[];const L=_.clone().lerp(j,k/A),O=S.clone().lerp(j,k/A),I=A-k;for(let U=0;U<=I;U++)U===0&&k===A?M[k][U]=L:M[k][U]=L.clone().lerp(O,U/I)}for(let k=0;k<A;k++)for(let L=0;L<2*(A-k)-1;L++){const O=Math.floor(L/2);L%2===0?(f(M[k][O+1]),f(M[k+1][O]),f(M[k][O])):(f(M[k][O+1]),f(M[k+1][O+1]),f(M[k+1][O]))}}function u(_){const S=new le;for(let j=0;j<s.length;j+=3)S.x=s[j+0],S.y=s[j+1],S.z=s[j+2],S.normalize().multiplyScalar(_),s[j+0]=S.x,s[j+1]=S.y,s[j+2]=S.z}function d(){const _=new le;for(let S=0;S<s.length;S+=3){_.x=s[S+0],_.y=s[S+1],_.z=s[S+2];const j=b(_)/2/Math.PI+.5,N=v(_)/Math.PI+.5;o.push(j,1-N)}m(),h()}function h(){for(let _=0;_<o.length;_+=6){const S=o[_+0],j=o[_+2],N=o[_+4],A=Math.max(S,j,N),M=Math.min(S,j,N);A>.9&&M<.1&&(S<.2&&(o[_+0]+=1),j<.2&&(o[_+2]+=1),N<.2&&(o[_+4]+=1))}}function f(_){s.push(_.x,_.y,_.z)}function p(_,S){const j=_*3;S.x=e[j+0],S.y=e[j+1],S.z=e[j+2]}function m(){const _=new le,S=new le,j=new le,N=new le,A=new lt,M=new lt,k=new lt;for(let L=0,O=0;L<s.length;L+=9,O+=6){_.set(s[L+0],s[L+1],s[L+2]),S.set(s[L+3],s[L+4],s[L+5]),j.set(s[L+6],s[L+7],s[L+8]),A.set(o[O+0],o[O+1]),M.set(o[O+2],o[O+3]),k.set(o[O+4],o[O+5]),N.copy(_).add(S).add(j).divideScalar(3);const I=b(N);y(A,O+0,_,I),y(M,O+2,S,I),y(k,O+4,j,I)}}function y(_,S,j,N){N<0&&_.x===1&&(o[S]=_.x-1),j.x===0&&j.z===0&&(o[S]=N/2/Math.PI+.5)}function b(_){return Math.atan2(_.z,-_.x)}function v(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bm(e.vertices,e.indices,e.radius,e.details)}}class _k extends bm{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _k(e.radius,e.detail)}}const dT=new le,hT=new le,iL=new le,fT=new Ho;class oie extends fr{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Ny*n),o=e.getIndex(),l=e.getAttribute("position"),c=o?o.count:l.count,u=[0,0,0],d=["a","b","c"],h=new Array(3),f={},p=[];for(let m=0;m<c;m+=3){o?(u[0]=o.getX(m),u[1]=o.getX(m+1),u[2]=o.getX(m+2)):(u[0]=m,u[1]=m+1,u[2]=m+2);const{a:y,b,c:v}=fT;if(y.fromBufferAttribute(l,u[0]),b.fromBufferAttribute(l,u[1]),v.fromBufferAttribute(l,u[2]),fT.getNormal(iL),h[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,h[1]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,h[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let _=0;_<3;_++){const S=(_+1)%3,j=h[_],N=h[S],A=fT[d[_]],M=fT[d[S]],k=`${j}_${N}`,L=`${N}_${j}`;L in f&&f[L]?(iL.dot(f[L].normal)<=s&&(p.push(A.x,A.y,A.z),p.push(M.x,M.y,M.z)),f[L]=null):k in f||(f[k]={index0:u[_],index1:u[S],normal:iL.clone()})}}for(const m in f)if(f[m]){const{index0:y,index1:b}=f[m];dT.fromBufferAttribute(l,y),hT.fromBufferAttribute(l,b),p.push(dT.x,dT.y,dT.z),p.push(hT.x,hT.y,hT.z)}this.setAttribute("position",new ln(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Bp=class extends qS{constructor(e){super(e),this.uuid=Fl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new qS().fromJSON(i))}return this}};const XOe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=lie(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let l,c,u,d,h,f,p;if(r&&(s=eRe(t,e,s,n)),t.length>80*n){l=u=t[0],c=d=t[1];for(let m=n;m<i;m+=n)h=t[m],f=t[m+1],h<l&&(l=h),f<c&&(c=f),h>u&&(u=h),f>d&&(d=f);p=Math.max(u-l,d-c),p=p!==0?32767/p:0}return YS(s,o,n,l,c,p,0),o}};function lie(t,e,n,r,i){let s,o;if(i===dRe(t,e,n,r)>0)for(s=e;s<n;s+=r)o=fG(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=fG(s,t[s],t[s+1],o);return o&&Sk(o,o.next)&&(KS(o),o=o.next),o}function Yy(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Sk(n,n.next)||Vi(n.prev,n,n.next)===0)){if(KS(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function YS(t,e,n,r,i,s,o){if(!t)return;!o&&s&&sRe(t,r,i,s);let l=t,c,u;for(;t.prev!==t.next;){if(c=t.prev,u=t.next,s?ZOe(t,r,i,s):KOe(t)){e.push(c.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),KS(t),t=u.next,l=u.next;continue}if(t=u,t===l){o?o===1?(t=QOe(Yy(t),e,n),YS(t,e,n,r,i,s,2)):o===2&&JOe(t,e,n,r,i,s):YS(Yy(t),e,n,r,i,s,1);break}}}function KOe(t){const e=t.prev,n=t,r=t.next;if(Vi(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,l=e.y,c=n.y,u=r.y,d=i<s?i<o?i:o:s<o?s:o,h=l<c?l<u?l:u:c<u?c:u,f=i>s?i>o?i:o:s>o?s:o,p=l>c?l>u?l:u:c>u?c:u;let m=r.next;for(;m!==e;){if(m.x>=d&&m.x<=f&&m.y>=h&&m.y<=p&&c0(i,l,s,c,o,u,m.x,m.y)&&Vi(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function ZOe(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Vi(i,s,o)>=0)return!1;const l=i.x,c=s.x,u=o.x,d=i.y,h=s.y,f=o.y,p=l<c?l<u?l:u:c<u?c:u,m=d<h?d<f?d:f:h<f?h:f,y=l>c?l>u?l:u:c>u?c:u,b=d>h?d>f?d:f:h>f?h:f,v=j4(p,m,e,n,r),_=j4(y,b,e,n,r);let S=t.prevZ,j=t.nextZ;for(;S&&S.z>=v&&j&&j.z<=_;){if(S.x>=p&&S.x<=y&&S.y>=m&&S.y<=b&&S!==i&&S!==o&&c0(l,d,c,h,u,f,S.x,S.y)&&Vi(S.prev,S,S.next)>=0||(S=S.prevZ,j.x>=p&&j.x<=y&&j.y>=m&&j.y<=b&&j!==i&&j!==o&&c0(l,d,c,h,u,f,j.x,j.y)&&Vi(j.prev,j,j.next)>=0))return!1;j=j.nextZ}for(;S&&S.z>=v;){if(S.x>=p&&S.x<=y&&S.y>=m&&S.y<=b&&S!==i&&S!==o&&c0(l,d,c,h,u,f,S.x,S.y)&&Vi(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;j&&j.z<=_;){if(j.x>=p&&j.x<=y&&j.y>=m&&j.y<=b&&j!==i&&j!==o&&c0(l,d,c,h,u,f,j.x,j.y)&&Vi(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function QOe(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!Sk(i,s)&&cie(i,r,r.next,s)&&XS(i,s)&&XS(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),KS(r),KS(r.next),r=t=s),r=r.next}while(r!==t);return Yy(r)}function JOe(t,e,n,r,i,s){let o=t;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&lRe(o,l)){let c=uie(o,l);o=Yy(o,o.next),c=Yy(c,c.next),YS(o,e,n,r,i,s,0),YS(c,e,n,r,i,s,0);return}l=l.next}o=o.next}while(o!==t)}function eRe(t,e,n,r){const i=[];let s,o,l,c,u;for(s=0,o=e.length;s<o;s++)l=e[s]*r,c=s<o-1?e[s+1]*r:t.length,u=lie(t,l,c,r,!1),u===u.next&&(u.steiner=!0),i.push(oRe(u));for(i.sort(tRe),s=0;s<i.length;s++)n=nRe(i[s],n);return n}function tRe(t,e){return t.x-e.x}function nRe(t,e){const n=rRe(t,e);if(!n)return e;const r=uie(n,t);return Yy(r,r.next),Yy(n,n.next)}function rRe(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const f=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=s&&f>r&&(r=f,i=n.x<n.next.x?n:n.next,f===s))return i}n=n.next}while(n!==e);if(!i)return null;const l=i,c=i.x,u=i.y;let d=1/0,h;n=i;do s>=n.x&&n.x>=c&&s!==n.x&&c0(o<u?s:r,o,c,u,o<u?r:s,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(s-n.x),XS(n,t)&&(h<d||h===d&&(n.x>i.x||n.x===i.x&&iRe(i,n)))&&(i=n,d=h)),n=n.next;while(n!==l);return i}function iRe(t,e){return Vi(t.prev,t,e.prev)<0&&Vi(e.next,t,t.next)<0}function sRe(t,e,n,r){let i=t;do i.z===0&&(i.z=j4(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,aRe(i)}function aRe(t){let e,n,r,i,s,o,l,c,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,l=0,e=0;e<u&&(l++,r=r.nextZ,!!r);e++);for(c=u;l>0||c>0&&r;)l!==0&&(c===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function j4(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function oRe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function c0(t,e,n,r,i,s,o,l){return(i-o)*(e-l)>=(t-o)*(s-l)&&(t-o)*(r-l)>=(n-o)*(e-l)&&(n-o)*(s-l)>=(i-o)*(r-l)}function lRe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!cRe(t,e)&&(XS(t,e)&&XS(e,t)&&uRe(t,e)&&(Vi(t.prev,t,e.prev)||Vi(t,e.prev,e))||Sk(t,e)&&Vi(t.prev,t,t.next)>0&&Vi(e.prev,e,e.next)>0)}function Vi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Sk(t,e){return t.x===e.x&&t.y===e.y}function cie(t,e,n,r){const i=mT(Vi(t,e,n)),s=mT(Vi(t,e,r)),o=mT(Vi(n,r,t)),l=mT(Vi(n,r,e));return!!(i!==s&&o!==l||i===0&&pT(t,n,e)||s===0&&pT(t,r,e)||o===0&&pT(n,t,r)||l===0&&pT(n,e,r))}function pT(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function mT(t){return t>0?1:t<0?-1:0}function cRe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&cie(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function XS(t,e){return Vi(t.prev,t,t.next)<0?Vi(t,e,t.next)>=0&&Vi(t,t.prev,e)>=0:Vi(t,e,t.prev)<0||Vi(t,t.next,e)<0}function uRe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function uie(t,e){const n=new A4(t.i,t.x,t.y),r=new A4(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function fG(t,e,n,r){const i=new A4(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function KS(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A4(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function dRe(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Ed{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ed.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];pG(e),mG(r,e);let o=e.length;n.forEach(pG);for(let c=0;c<n.length;c++)i.push(o),o+=n[c].length,mG(r,n[c]);const l=XOe.triangulate(r,i);for(let c=0;c<l.length;c+=3)s.push(l.slice(c,c+3));return s}}function pG(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function mG(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Ek extends fr{constructor(e=new Bp([new lt(.5,.5),new lt(-.5,.5),new lt(-.5,-.5),new lt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];o(u)}this.setAttribute("position",new ln(i,3)),this.setAttribute("uv",new ln(s,2)),this.computeVertexNormals();function o(l){const c=[],u=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:p-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:hRe;let S,j=!1,N,A,M,k;v&&(S=v.getSpacedPoints(d),j=!0,f=!1,N=v.computeFrenetFrames(d,!1),A=new le,M=new le,k=new le),f||(b=0,p=0,m=0,y=0);const L=l.extractPoints(u);let O=L.shape;const I=L.holes;if(!Ed.isClockWise(O)){O=O.reverse();for(let he=0,te=I.length;he<te;he++){const ze=I[he];Ed.isClockWise(ze)&&(I[he]=ze.reverse())}}const W=Ed.triangulateShape(O,I),q=O;for(let he=0,te=I.length;he<te;he++){const ze=I[he];O=O.concat(ze)}function J(he,te,ze){return te||console.error("THREE.ExtrudeGeometry: vec does not exist"),he.clone().addScaledVector(te,ze)}const K=O.length,ne=W.length;function $(he,te,ze){let nt,Je,rt;const Pt=he.x-te.x,bt=he.y-te.y,H=ze.x-he.x,z=ze.y-he.y,oe=Pt*Pt+bt*bt,je=Pt*z-bt*H;if(Math.abs(je)>Number.EPSILON){const Ne=Math.sqrt(oe),we=Math.sqrt(H*H+z*z),me=te.x-bt/Ne,Ae=te.y+Pt/Ne,$e=ze.x-z/we,_t=ze.y+H/we,Ze=(($e-me)*z-(_t-Ae)*H)/(Pt*z-bt*H);nt=me+Pt*Ze-he.x,Je=Ae+bt*Ze-he.y;const wt=nt*nt+Je*Je;if(wt<=2)return new lt(nt,Je);rt=Math.sqrt(wt/2)}else{let Ne=!1;Pt>Number.EPSILON?H>Number.EPSILON&&(Ne=!0):Pt<-Number.EPSILON?H<-Number.EPSILON&&(Ne=!0):Math.sign(bt)===Math.sign(z)&&(Ne=!0),Ne?(nt=-bt,Je=Pt,rt=Math.sqrt(oe)):(nt=Pt,Je=bt,rt=Math.sqrt(oe/2))}return new lt(nt/rt,Je/rt)}const Z=[];for(let he=0,te=q.length,ze=te-1,nt=he+1;he<te;he++,ze++,nt++)ze===te&&(ze=0),nt===te&&(nt=0),Z[he]=$(q[he],q[ze],q[nt]);const B=[];let ce,fe=Z.concat();for(let he=0,te=I.length;he<te;he++){const ze=I[he];ce=[];for(let nt=0,Je=ze.length,rt=Je-1,Pt=nt+1;nt<Je;nt++,rt++,Pt++)rt===Je&&(rt=0),Pt===Je&&(Pt=0),ce[nt]=$(ze[nt],ze[rt],ze[Pt]);B.push(ce),fe=fe.concat(ce)}for(let he=0;he<b;he++){const te=he/b,ze=p*Math.cos(te*Math.PI/2),nt=m*Math.sin(te*Math.PI/2)+y;for(let Je=0,rt=q.length;Je<rt;Je++){const Pt=J(q[Je],Z[Je],nt);Ce(Pt.x,Pt.y,-ze)}for(let Je=0,rt=I.length;Je<rt;Je++){const Pt=I[Je];ce=B[Je];for(let bt=0,H=Pt.length;bt<H;bt++){const z=J(Pt[bt],ce[bt],nt);Ce(z.x,z.y,-ze)}}}const Q=m+y;for(let he=0;he<K;he++){const te=f?J(O[he],fe[he],Q):O[he];j?(M.copy(N.normals[0]).multiplyScalar(te.x),A.copy(N.binormals[0]).multiplyScalar(te.y),k.copy(S[0]).add(M).add(A),Ce(k.x,k.y,k.z)):Ce(te.x,te.y,0)}for(let he=1;he<=d;he++)for(let te=0;te<K;te++){const ze=f?J(O[te],fe[te],Q):O[te];j?(M.copy(N.normals[he]).multiplyScalar(ze.x),A.copy(N.binormals[he]).multiplyScalar(ze.y),k.copy(S[he]).add(M).add(A),Ce(k.x,k.y,k.z)):Ce(ze.x,ze.y,h/d*he)}for(let he=b-1;he>=0;he--){const te=he/b,ze=p*Math.cos(te*Math.PI/2),nt=m*Math.sin(te*Math.PI/2)+y;for(let Je=0,rt=q.length;Je<rt;Je++){const Pt=J(q[Je],Z[Je],nt);Ce(Pt.x,Pt.y,h+ze)}for(let Je=0,rt=I.length;Je<rt;Je++){const Pt=I[Je];ce=B[Je];for(let bt=0,H=Pt.length;bt<H;bt++){const z=J(Pt[bt],ce[bt],nt);j?Ce(z.x,z.y+S[d-1].y,S[d-1].x+ze):Ce(z.x,z.y,h+ze)}}}xe(),ke();function xe(){const he=i.length/3;if(f){let te=0,ze=K*te;for(let nt=0;nt<ne;nt++){const Je=W[nt];tt(Je[2]+ze,Je[1]+ze,Je[0]+ze)}te=d+b*2,ze=K*te;for(let nt=0;nt<ne;nt++){const Je=W[nt];tt(Je[0]+ze,Je[1]+ze,Je[2]+ze)}}else{for(let te=0;te<ne;te++){const ze=W[te];tt(ze[2],ze[1],ze[0])}for(let te=0;te<ne;te++){const ze=W[te];tt(ze[0]+K*d,ze[1]+K*d,ze[2]+K*d)}}r.addGroup(he,i.length/3-he,0)}function ke(){const he=i.length/3;let te=0;Re(q,te),te+=q.length;for(let ze=0,nt=I.length;ze<nt;ze++){const Je=I[ze];Re(Je,te),te+=Je.length}r.addGroup(he,i.length/3-he,1)}function Re(he,te){let ze=he.length;for(;--ze>=0;){const nt=ze;let Je=ze-1;Je<0&&(Je=he.length-1);for(let rt=0,Pt=d+b*2;rt<Pt;rt++){const bt=K*rt,H=K*(rt+1),z=te+nt+bt,oe=te+Je+bt,je=te+Je+H,Ne=te+nt+H;Fe(z,oe,je,Ne)}}}function Ce(he,te,ze){c.push(he),c.push(te),c.push(ze)}function tt(he,te,ze){Ve(he),Ve(te),Ve(ze);const nt=i.length/3,Je=_.generateTopUV(r,i,nt-3,nt-2,nt-1);Ue(Je[0]),Ue(Je[1]),Ue(Je[2])}function Fe(he,te,ze,nt){Ve(he),Ve(te),Ve(nt),Ve(te),Ve(ze),Ve(nt);const Je=i.length/3,rt=_.generateSideWallUV(r,i,Je-6,Je-3,Je-2,Je-1);Ue(rt[0]),Ue(rt[1]),Ue(rt[3]),Ue(rt[1]),Ue(rt[2]),Ue(rt[3])}function Ve(he){i.push(c[he*3+0]),i.push(c[he*3+1]),i.push(c[he*3+2])}function Ue(he){s.push(he.x),s.push(he.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return fRe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const l=n[e.shapes[s]];r.push(l)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new KC[i.type]().fromJSON(i)),new Ek(r,e.options)}}const hRe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],l=e[r*3],c=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new lt(s,o),new lt(l,c),new lt(u,d)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],l=e[n*3+1],c=e[n*3+2],u=e[r*3],d=e[r*3+1],h=e[r*3+2],f=e[i*3],p=e[i*3+1],m=e[i*3+2],y=e[s*3],b=e[s*3+1],v=e[s*3+2];return Math.abs(l-d)<Math.abs(o-u)?[new lt(o,1-c),new lt(u,1-h),new lt(f,1-m),new lt(y,1-v)]:[new lt(l,1-c),new lt(d,1-h),new lt(p,1-m),new lt(b,1-v)]}};function fRe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class wj extends bm{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new wj(e.radius,e.detail)}}class _j extends bm{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _j(e.radius,e.detail)}}class jk extends fr{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const l=[],c=[],u=[],d=[];let h=e;const f=(n-e)/i,p=new le,m=new lt;for(let y=0;y<=i;y++){for(let b=0;b<=r;b++){const v=s+b/r*o;p.x=h*Math.cos(v),p.y=h*Math.sin(v),c.push(p.x,p.y,p.z),u.push(0,0,1),m.x=(p.x/n+1)/2,m.y=(p.y/n+1)/2,d.push(m.x,m.y)}h+=f}for(let y=0;y<i;y++){const b=y*(r+1);for(let v=0;v<r;v++){const _=v+b,S=_,j=_+r+1,N=_+r+2,A=_+1;l.push(S,j,A),l.push(j,N,A)}}this.setIndex(l),this.setAttribute("position",new ln(c,3)),this.setAttribute("normal",new ln(u,3)),this.setAttribute("uv",new ln(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jk(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ak extends fr{constructor(e=new Bp([new lt(0,.5),new lt(-.5,-.5),new lt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let l=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(l,c,d),l+=c,c=0;this.setIndex(r),this.setAttribute("position",new ln(i,3)),this.setAttribute("normal",new ln(s,3)),this.setAttribute("uv",new ln(o,2));function u(d){const h=i.length/3,f=d.extractPoints(n);let p=f.shape;const m=f.holes;Ed.isClockWise(p)===!1&&(p=p.reverse());for(let b=0,v=m.length;b<v;b++){const _=m[b];Ed.isClockWise(_)===!0&&(m[b]=_.reverse())}const y=Ed.triangulateShape(p,m);for(let b=0,v=m.length;b<v;b++){const _=m[b];p=p.concat(_)}for(let b=0,v=p.length;b<v;b++){const _=p[b];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let b=0,v=y.length;b<v;b++){const _=y[b],S=_[0]+h,j=_[1]+h,N=_[2]+h;r.push(S,j,N),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return pRe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new Ak(r,e.curveSegments)}}function pRe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Sj extends fr{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:l},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const c=Math.min(o+l,Math.PI);let u=0;const d=[],h=new le,f=new le,p=[],m=[],y=[],b=[];for(let v=0;v<=r;v++){const _=[],S=v/r;let j=0;v===0&&o===0?j=.5/n:v===r&&c===Math.PI&&(j=-.5/n);for(let N=0;N<=n;N++){const A=N/n;h.x=-e*Math.cos(i+A*s)*Math.sin(o+S*l),h.y=e*Math.cos(o+S*l),h.z=e*Math.sin(i+A*s)*Math.sin(o+S*l),m.push(h.x,h.y,h.z),f.copy(h).normalize(),y.push(f.x,f.y,f.z),b.push(A+j,1-S),_.push(u++)}d.push(_)}for(let v=0;v<r;v++)for(let _=0;_<n;_++){const S=d[v][_+1],j=d[v][_],N=d[v+1][_],A=d[v+1][_+1];(v!==0||o>0)&&p.push(S,j,A),(v!==r-1||c<Math.PI)&&p.push(j,N,A)}this.setIndex(p),this.setAttribute("position",new ln(m,3)),this.setAttribute("normal",new ln(y,3)),this.setAttribute("uv",new ln(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sj(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Nk extends bm{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Nk(e.radius,e.detail)}}class Tk extends fr{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],u=[],d=new le,h=new le,f=new le;for(let p=0;p<=r;p++)for(let m=0;m<=i;m++){const y=m/i*s,b=p/r*Math.PI*2;h.x=(e+n*Math.cos(b))*Math.cos(y),h.y=(e+n*Math.cos(b))*Math.sin(y),h.z=n*Math.sin(b),l.push(h.x,h.y,h.z),d.x=e*Math.cos(y),d.y=e*Math.sin(y),f.subVectors(h,d).normalize(),c.push(f.x,f.y,f.z),u.push(m/i),u.push(p/r)}for(let p=1;p<=r;p++)for(let m=1;m<=i;m++){const y=(i+1)*p+m-1,b=(i+1)*(p-1)+m-1,v=(i+1)*(p-1)+m,_=(i+1)*p+m;o.push(y,b,_),o.push(b,v,_)}this.setIndex(o),this.setAttribute("position",new ln(l,3)),this.setAttribute("normal",new ln(c,3)),this.setAttribute("uv",new ln(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tk(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Mk extends fr{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const l=[],c=[],u=[],d=[],h=new le,f=new le,p=new le,m=new le,y=new le,b=new le,v=new le;for(let S=0;S<=r;++S){const j=S/r*s*Math.PI*2;_(j,s,o,e,p),_(j+.01,s,o,e,m),b.subVectors(m,p),v.addVectors(m,p),y.crossVectors(b,v),v.crossVectors(y,b),y.normalize(),v.normalize();for(let N=0;N<=i;++N){const A=N/i*Math.PI*2,M=-n*Math.cos(A),k=n*Math.sin(A);h.x=p.x+(M*v.x+k*y.x),h.y=p.y+(M*v.y+k*y.y),h.z=p.z+(M*v.z+k*y.z),c.push(h.x,h.y,h.z),f.subVectors(h,p).normalize(),u.push(f.x,f.y,f.z),d.push(S/r),d.push(N/i)}}for(let S=1;S<=r;S++)for(let j=1;j<=i;j++){const N=(i+1)*(S-1)+(j-1),A=(i+1)*S+(j-1),M=(i+1)*S+j,k=(i+1)*(S-1)+j;l.push(N,A,k),l.push(A,M,k)}this.setIndex(l),this.setAttribute("position",new ln(c,3)),this.setAttribute("normal",new ln(u,3)),this.setAttribute("uv",new ln(d,2));function _(S,j,N,A,M){const k=Math.cos(S),L=Math.sin(S),O=N/j*S,I=Math.cos(O);M.x=A*(2+I)*.5*k,M.y=A*(2+I)*L*.5,M.z=A*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mk(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Ck extends fr{constructor(e=new WB(new le(-1,-1,0),new le(-1,1,0),new le(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new le,c=new le,u=new lt;let d=new le;const h=[],f=[],p=[],m=[];y(),this.setIndex(m),this.setAttribute("position",new ln(h,3)),this.setAttribute("normal",new ln(f,3)),this.setAttribute("uv",new ln(p,2));function y(){for(let S=0;S<n;S++)b(S);b(s===!1?n:0),_(),v()}function b(S){d=e.getPointAt(S/n,d);const j=o.normals[S],N=o.binormals[S];for(let A=0;A<=i;A++){const M=A/i*Math.PI*2,k=Math.sin(M),L=-Math.cos(M);c.x=L*j.x+k*N.x,c.y=L*j.y+k*N.y,c.z=L*j.z+k*N.z,c.normalize(),f.push(c.x,c.y,c.z),l.x=d.x+r*c.x,l.y=d.y+r*c.y,l.z=d.z+r*c.z,h.push(l.x,l.y,l.z)}}function v(){for(let S=1;S<=n;S++)for(let j=1;j<=i;j++){const N=(i+1)*(S-1)+(j-1),A=(i+1)*S+(j-1),M=(i+1)*S+j,k=(i+1)*(S-1)+j;m.push(N,A,k),m.push(A,M,k)}}function _(){for(let S=0;S<=n;S++)for(let j=0;j<=i;j++)u.x=S/n,u.y=j/i,p.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Ck(new KC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class die extends fr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new le,s=new le;if(e.index!==null){const o=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let u=0,d=c.length;u<d;++u){const h=c[u],f=h.start,p=h.count;for(let m=f,y=f+p;m<y;m+=3)for(let b=0;b<3;b++){const v=l.getX(m+b),_=l.getX(m+(b+1)%3);i.fromBufferAttribute(o,v),s.fromBufferAttribute(o,_),gG(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let l=0,c=o.count/3;l<c;l++)for(let u=0;u<3;u++){const d=3*l+u,h=3*l+(u+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),gG(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new ln(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function gG(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var yG=Object.freeze({__proto__:null,BoxGeometry:cv,CapsuleGeometry:xk,CircleGeometry:bk,ConeGeometry:wk,CylinderGeometry:ow,DodecahedronGeometry:_k,EdgesGeometry:oie,ExtrudeGeometry:Ek,IcosahedronGeometry:wj,LatheGeometry:bj,OctahedronGeometry:_j,PlaneGeometry:xm,PolyhedronGeometry:bm,RingGeometry:jk,ShapeGeometry:Ak,SphereGeometry:Sj,TetrahedronGeometry:Nk,TorusGeometry:Tk,TorusKnotGeometry:Mk,TubeGeometry:Ck,WireframeGeometry:die});class hie extends Xa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Gt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class fie extends Qo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class qB extends Xa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Gt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vm,this.normalScale=new lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new $l,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pie extends qB{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new lt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ss(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Gt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Gt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Gt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class mie extends Xa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Gt(16777215),this.specular=new Gt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vm,this.normalScale=new lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new $l,this.combine=dj,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gie extends Xa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Gt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vm,this.normalScale=new lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class yie extends Xa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vm,this.normalScale=new lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class vie extends Xa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vm,this.normalScale=new lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new $l,this.combine=dj,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xie extends Xa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Gt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vm,this.normalScale=new lt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bie extends jo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ny(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function wie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _ie(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function N4(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const l=n[s]*e;for(let c=0;c!==e;++c)i[o++]=t[l+c]}return i}function YB(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function mRe(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],d=u.getValueSize(),h=[],f=[];for(let p=0;p<u.times.length;++p){const m=u.times[p]*i;if(!(m<n||m>=r)){h.push(u.times[p]);for(let y=0;y<d;++y)f.push(u.values[p*d+y])}}h.length!==0&&(u.times=ny(h,u.times.constructor),u.values=ny(f,u.values.constructor),o.push(u))}s.tracks=o;let l=1/0;for(let c=0;c<s.tracks.length;++c)l>s.tracks[c].times[0]&&(l=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*l);return s.resetDuration(),s}function gRe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const l=n.tracks[o],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const u=t.tracks.find(function(v){return v.name===l.name&&v.ValueTypeName===c});if(u===void 0)continue;let d=0;const h=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let f=0;const p=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);const m=l.times.length-1;let y;if(s<=l.times[0]){const v=d,_=h-d;y=l.values.slice(v,_)}else if(s>=l.times[m]){const v=m*h+d,_=v+h-d;y=l.values.slice(v,_)}else{const v=l.createInterpolant(),_=d,S=h-d;v.evaluate(s),y=v.resultBuffer.slice(_,S)}c==="quaternion"&&new $a().fromArray(y).normalize().conjugate().toArray(y);const b=u.times.length;for(let v=0;v<b;++v){const _=v*p+f;if(c==="quaternion")$a.multiplyQuaternionsFlat(u.values,_,y,0,u.values,_);else{const S=p-f*2;for(let j=0;j<S;++j)u.values[_+j]-=y[j]}}}return t.blendMode=NB,t}const yRe={convertArray:ny,isTypedArray:wie,getKeyframeOrder:_ie,sortedArray:N4,flattenJSON:YB,subclip:mRe,makeClipAdditive:gRe};class Ej{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let l=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const l=n[1];e<l&&(r=2,s=l);for(let c=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===c)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const l=r+o>>>1;e<n[l]?o=l:r=l+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Sie extends Ej{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Qg,endingEnd:Qg}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,l=i[s],c=i[o];if(l===void 0)switch(this.getSettings_().endingStart){case Jg:s=e,l=2*n-r;break;case BS:s=i.length-2,l=n+i[s]-i[s+1];break;default:s=e,l=r}if(c===void 0)switch(this.getSettings_().endingEnd){case Jg:o=e,c=2*r-n;break;case BS:o=1,c=r+i[1]-i[0];break;default:o=e-1,c=n}const u=(r-n)*.5,d=this.valueSize;this._weightPrev=u/(n-l),this._weightNext=u/(c-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=this._offsetPrev,h=this._offsetNext,f=this._weightPrev,p=this._weightNext,m=(r-n)/(i-n),y=m*m,b=y*m,v=-f*b+2*f*y-f*m,_=(1+f)*b+(-1.5-2*f)*y+(-.5+f)*m+1,S=(-1-p)*b+(1.5+p)*y+.5*m,j=p*b-p*y;for(let N=0;N!==l;++N)s[N]=v*o[d+N]+_*o[u+N]+S*o[c+N]+j*o[h+N];return s}}class XB extends Ej{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=(r-n)/(i-n),h=1-d;for(let f=0;f!==l;++f)s[f]=o[u+f]*h+o[c+f]*d;return s}}class Eie extends Ej{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ku{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ny(n,this.TimeBufferType),this.values=ny(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:ny(e.times,Array),values:ny(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Eie(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new XB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Sie(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case US:n=this.InterpolantFactoryMethodDiscrete;break;case qC:n=this.InterpolantFactoryMethodLinear;break;case gM:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return US;case this.InterpolantFactoryMethodLinear:return qC;case this.InterpolantFactoryMethodSmooth:return gM}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const l=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*l,o*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==s;l++){const c=r[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,o),e=!1;break}o=c}if(i!==void 0&&wie(i))for(let l=0,c=i.length;l!==c;++l){const u=i[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===gM,s=e.length-1;let o=1;for(let l=1;l<s;++l){let c=!1;const u=e[l],d=e[l+1];if(u!==d&&(l!==1||u!==e[0]))if(i)c=!0;else{const h=l*r,f=h-r,p=h+r;for(let m=0;m!==r;++m){const y=n[h+m];if(y!==n[f+m]||y!==n[p+m]){c=!0;break}}}if(c){if(l!==o){e[o]=e[l];const h=l*r,f=o*r;for(let p=0;p!==r;++p)n[f+p]=n[h+p]}++o}}if(s>0){e[o]=e[s];for(let l=s*r,c=o*r,u=0;u!==r;++u)n[c+u]=n[l+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ku.prototype.TimeBufferType=Float32Array;ku.prototype.ValueBufferType=Float32Array;ku.prototype.DefaultInterpolation=qC;class uv extends ku{constructor(e,n,r){super(e,n,r)}}uv.prototype.ValueTypeName="bool";uv.prototype.ValueBufferType=Array;uv.prototype.DefaultInterpolation=US;uv.prototype.InterpolantFactoryMethodLinear=void 0;uv.prototype.InterpolantFactoryMethodSmooth=void 0;class KB extends ku{}KB.prototype.ValueTypeName="color";class ZS extends ku{}ZS.prototype.ValueTypeName="number";class jie extends Ej{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=(r-n)/(i-n);let u=e*l;for(let d=u+l;u!==d;u+=4)$a.slerpFlat(s,0,o,u-l,o,u,c);return s}}class jj extends ku{InterpolantFactoryMethodLinear(e){return new jie(this.times,this.values,this.getValueSize(),e)}}jj.prototype.ValueTypeName="quaternion";jj.prototype.InterpolantFactoryMethodSmooth=void 0;class dv extends ku{constructor(e,n,r){super(e,n,r)}}dv.prototype.ValueTypeName="string";dv.prototype.ValueBufferType=Array;dv.prototype.DefaultInterpolation=US;dv.prototype.InterpolantFactoryMethodLinear=void 0;dv.prototype.InterpolantFactoryMethodSmooth=void 0;class QS extends ku{}QS.prototype.ValueTypeName="vector";class JS{constructor(e="",n=-1,r=[],i=lk){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Fl(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,l=r.length;o!==l;++o)n.push(xRe(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(ku.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let l=0;l<s;l++){let c=[],u=[];c.push((l+s-1)%s,l,(l+1)%s),u.push(0,1,0);const d=_ie(c);c=N4(c,1,d),u=N4(u,1,d),!i&&c[0]===0&&(c.push(s),u.push(u[0])),o.push(new ZS(".morphTargetInfluences["+n[l].name+"]",c,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const u=e[l],d=u.name.match(s);if(d&&d.length>1){const h=d[1];let f=i[h];f||(i[h]=f=[]),f.push(u)}}const o=[];for(const l in i)o.push(this.CreateFromMorphTargetSequence(l,i[l],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,f,p,m,y){if(p.length!==0){const b=[],v=[];YB(p,b,v,m),b.length!==0&&y.push(new h(f,b,v))}},i=[],s=e.name||"default",o=e.fps||30,l=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const f=u[h].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const p={};let m;for(m=0;m<f.length;m++)if(f[m].morphTargets)for(let y=0;y<f[m].morphTargets.length;y++)p[f[m].morphTargets[y]]=-1;for(const y in p){const b=[],v=[];for(let _=0;_!==f[m].morphTargets.length;++_){const S=f[m];b.push(S.time),v.push(S.morphTarget===y?1:0)}i.push(new ZS(".morphTargetInfluence["+y+"]",b,v))}c=p.length*o}else{const p=".bones["+n[h].name+"]";r(QS,p+".position",f,"pos",i),r(jj,p+".quaternion",f,"rot",i),r(QS,p+".scale",f,"scl",i)}}return i.length===0?null:new this(s,c,i,l)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function vRe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ZS;case"vector":case"vector2":case"vector3":case"vector4":return QS;case"color":return KB;case"quaternion":return jj;case"bool":case"boolean":return uv;case"string":return dv}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function xRe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=vRe(t.type);if(t.times===void 0){const n=[],r=[];YB(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ah={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Pk{constructor(e,n,r){const i=this;let s=!1,o=0,l=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(d){l++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,l),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,l),o===l&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,h){return u.push(d,h),this},this.removeHandler=function(d){const h=u.indexOf(d);return h!==-1&&u.splice(h,2),this},this.getHandler=function(d){for(let h=0,f=u.length;h<f;h+=2){const p=u[h],m=u[h+1];if(p.global&&(p.lastIndex=0),p.test(d))return m}return null}}}const Aie=new Pk;class Ao{constructor(e){this.manager=e!==void 0?e:Aie,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ao.DEFAULT_MATERIAL_NAME="__DEFAULT";const uh={};class bRe extends Error{constructor(e,n){super(e),this.response=n}}class Ul extends Ao{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ah.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(uh[e]!==void 0){uh[e].push({onLoad:n,onProgress:r,onError:i});return}uh[e]=[],uh[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=uh[e],h=u.body.getReader(),f=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),p=f?parseInt(f):0,m=p!==0;let y=0;const b=new ReadableStream({start(v){_();function _(){h.read().then(({done:S,value:j})=>{if(S)v.close();else{y+=j.byteLength;const N=new ProgressEvent("progress",{lengthComputable:m,loaded:y,total:p});for(let A=0,M=d.length;A<M;A++){const k=d[A];k.onProgress&&k.onProgress(N)}v.enqueue(j),_()}},S=>{v.error(S)})}}});return new Response(b)}else throw new bRe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,l));case"json":return u.json();default:if(l===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(l),f=h&&h[1]?h[1].toLowerCase():void 0,p=new TextDecoder(f);return u.arrayBuffer().then(m=>p.decode(m))}}}).then(u=>{Ah.add(e,u);const d=uh[e];delete uh[e];for(let h=0,f=d.length;h<f;h++){const p=d[h];p.onLoad&&p.onLoad(u)}}).catch(u=>{const d=uh[e];if(d===void 0)throw this.manager.itemError(e),u;delete uh[e];for(let h=0,f=d.length;h<f;h++){const p=d[h];p.onError&&p.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class wRe extends Ao{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ul(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=JS.parse(e[r]);n.push(i)}return n}}class _Re extends Ao{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],l=new yk,c=new Ul(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let u=0;function d(h){c.load(e[h],function(f){const p=s.parse(f,!0);o[h]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},u+=1,u===6&&(p.mipmapCount===1&&(l.minFilter=Gr),l.image=o,l.format=p.format,l.needsUpdate=!0,n&&n(l))},r,i)}if(Array.isArray(e))for(let h=0,f=e.length;h<f;++h)d(h);else c.load(e,function(h){const f=s.parse(h,!0);if(f.isCubemap){const p=f.mipmaps.length/f.mipmapCount;for(let m=0;m<p;m++){o[m]={mipmaps:[]};for(let y=0;y<f.mipmapCount;y++)o[m].mipmaps.push(f.mipmaps[m*f.mipmapCount+y]),o[m].format=f.format,o[m].width=f.width,o[m].height=f.height}l.image=o}else l.image.width=f.width,l.image.height=f.height,l.mipmaps=f.mipmaps;f.mipmapCount===1&&(l.minFilter=Gr),l.format=f.format,l.needsUpdate=!0,n&&n(l)},r,i);return l}}class eE extends Ao{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ah.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const l=GS("img");function c(){d(),Ah.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(h){d(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){l.removeEventListener("load",c,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class Nie extends Ao{constructor(e){super(e)}load(e,n,r,i){const s=new yj;s.colorSpace=Nl;const o=new eE(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function c(u){o.load(e[u],function(d){s.images[u]=d,l++,l===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)c(u);return s}}class ZB extends Ao{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new ju,l=new Ul(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(c){let u;try{u=s.parse(c)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Cs,o.wrapT=u.wrapT!==void 0?u.wrapT:Cs,o.magFilter=u.magFilter!==void 0?u.magFilter:Gr,o.minFilter=u.minFilter!==void 0?u.minFilter:Gr,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=fd),u.mipmapCount===1&&(o.minFilter=Gr),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class SRe extends Ao{constructor(e){super(e)}load(e,n,r,i){const s=new ii,o=new eE(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){s.image=l,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class wm extends kr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Gt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Tie extends wm{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(kr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Gt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const sL=new En,vG=new le,xG=new le;class QB{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new lt(512,512),this.map=null,this.mapPass=null,this.matrix=new En,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new vj,this._frameExtents=new lt(1,1),this._viewportCount=1,this._viewports=[new Cr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;vG.setFromMatrixPosition(e.matrixWorld),n.position.copy(vG),xG.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(xG),n.updateMatrixWorld(),sL.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sL),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(sL)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ERe extends QB{constructor(){super(new Hi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=ub*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Mie extends wm{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(kr.DEFAULT_UP),this.updateMatrix(),this.target=new kr,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new ERe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const bG=new En,H_=new le,aL=new le;class jRe extends QB{constructor(){super(new Hi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new lt(4,2),this._viewportCount=6,this._viewports=[new Cr(2,1,1,1),new Cr(0,1,1,1),new Cr(3,1,1,1),new Cr(1,1,1,1),new Cr(3,0,1,1),new Cr(1,0,1,1)],this._cubeDirections=[new le(1,0,0),new le(-1,0,0),new le(0,0,1),new le(0,0,-1),new le(0,1,0),new le(0,-1,0)],this._cubeUps=[new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,0,1),new le(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),H_.setFromMatrixPosition(e.matrixWorld),r.position.copy(H_),aL.copy(r.position),aL.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(aL),r.updateMatrixWorld(),i.makeTranslation(-H_.x,-H_.y,-H_.z),bG.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(bG)}}class Cie extends wm{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new jRe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ARe extends QB{constructor(){super(new Eu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Pie extends wm{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(kr.DEFAULT_UP),this.updateMatrix(),this.target=new kr,this.shadow=new ARe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class kie extends wm{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Oie extends wm{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Rie{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new le)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Iie extends wm{constructor(e=new Rie,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class kk extends Ao{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Ul(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Gt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Gt().setHex(o.value);break;case"v2":i.uniforms[s].value=new lt().fromArray(o.value);break;case"v3":i.uniforms[s].value=new le().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Cr().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Jn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new En().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new lt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new lt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return kk.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:hie,SpriteMaterial:UB,RawShaderMaterial:fie,ShaderMaterial:Qo,PointsMaterial:gk,MeshPhysicalMaterial:pie,MeshStandardMaterial:qB,MeshPhongMaterial:mie,MeshToonMaterial:gie,MeshNormalMaterial:yie,MeshLambertMaterial:vie,MeshDepthMaterial:LB,MeshDistanceMaterial:DB,MeshBasicMaterial:tf,MeshMatcapMaterial:xie,LineDashedMaterial:bie,LineBasicMaterial:jo,Material:Xa};return new n[e]}}class T4{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Lie extends fr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Die extends Ao{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ul(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(p,m){if(n[m]!==void 0)return n[m];const b=p.interleavedBuffers[m],v=s(p,b.buffer),_=a0(b.type,v),S=new pk(_,b.stride);return S.uuid=b.uuid,n[m]=S,S}function s(p,m){if(r[m]!==void 0)return r[m];const b=p.arrayBuffers[m],v=new Uint32Array(b).buffer;return r[m]=v,v}const o=e.isInstancedBufferGeometry?new Lie:new fr,l=e.data.index;if(l!==void 0){const p=a0(l.type,l.array);o.setIndex(new ei(p,1))}const c=e.data.attributes;for(const p in c){const m=c[p];let y;if(m.isInterleavedBufferAttribute){const b=i(e.data,m.data);y=new qy(b,m.itemSize,m.offset,m.normalized)}else{const b=a0(m.type,m.array),v=m.isInstancedBufferAttribute?hb:ei;y=new v(b,m.itemSize,m.normalized)}m.name!==void 0&&(y.name=m.name),m.usage!==void 0&&y.setUsage(m.usage),o.setAttribute(p,y)}const u=e.data.morphAttributes;if(u)for(const p in u){const m=u[p],y=[];for(let b=0,v=m.length;b<v;b++){const _=m[b];let S;if(_.isInterleavedBufferAttribute){const j=i(e.data,_.data);S=new qy(j,_.itemSize,_.offset,_.normalized)}else{const j=a0(_.type,_.array);S=new ei(j,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),y.push(S)}o.morphAttributes[p]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let p=0,m=h.length;p!==m;++p){const y=h[p];o.addGroup(y.start,y.count,y.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const p=new le;f.center!==void 0&&p.fromArray(f.center),o.boundingSphere=new Ha(p,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class NRe extends Ao{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?T4.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new Ul(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let u=null;try{u=JSON.parse(c)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?T4.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ul(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),l=JSON.parse(o),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),l=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,l),u=this.parseObject(e.object,s,c,l,r),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),n!==void 0){let h=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,i,l,o,n),u=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,u),this.bindLightTargets(c),c}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Bp().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=new mk().fromJSON(e[s],i);r[l.uuid]=l}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Die;for(let s=0,o=e.length;s<o;s++){let l;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=i.parse(c);break;default:c.type in yG?l=yG[c.type].fromJSON(c,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),r[c.uuid]=l}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new kk;s.setTextures(n);for(let o=0,l=e.length;o<l;o++){const c=e[o];r[c.uuid]===void 0&&(r[c.uuid]=s.parse(c)),i[c.uuid]=r[c.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=JS.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(c){return r.manager.itemStart(c),s.load(c,function(){r.manager.itemEnd(c)},void 0,function(){r.manager.itemError(c),r.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const u=c,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(d)}else return c.data?{data:a0(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new Pk(n);s=new eE(c),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const h=e[u],f=h.url;if(Array.isArray(f)){const p=[];for(let m=0,y=f.length;m<y;m++){const b=f[m],v=l(b);v!==null&&(v instanceof HTMLImageElement?p.push(v):p.push(new ju(v.data,v.width,v.height)))}i[h.uuid]=new ey(p)}else{const p=l(h.url);i[h.uuid]=new ey(p)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const l=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return await i.loadAsync(c)}else return o.data?{data:a0(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new eE(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.url;if(Array.isArray(u)){const d=[];for(let h=0,f=u.length;h<f;h++){const p=u[h],m=await s(p);m!==null&&(m instanceof HTMLImageElement?d.push(m):d.push(new ju(m.data,m.width,m.height)))}r[c.uuid]=new ey(d)}else{const d=await s(c.url);r[c.uuid]=new ey(d)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),n[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=n[l.image],u=c.data;let d;Array.isArray(u)?(d=new yj,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new ju:d=new ii,u&&(d.needsUpdate=!0)),d.source=c,d.uuid=l.uuid,l.name!==void 0&&(d.name=l.name),l.mapping!==void 0&&(d.mapping=r(l.mapping,TRe)),l.channel!==void 0&&(d.channel=l.channel),l.offset!==void 0&&d.offset.fromArray(l.offset),l.repeat!==void 0&&d.repeat.fromArray(l.repeat),l.center!==void 0&&d.center.fromArray(l.center),l.rotation!==void 0&&(d.rotation=l.rotation),l.wrap!==void 0&&(d.wrapS=r(l.wrap[0],wG),d.wrapT=r(l.wrap[1],wG)),l.format!==void 0&&(d.format=l.format),l.internalFormat!==void 0&&(d.internalFormat=l.internalFormat),l.type!==void 0&&(d.type=l.type),l.colorSpace!==void 0&&(d.colorSpace=l.colorSpace),l.minFilter!==void 0&&(d.minFilter=r(l.minFilter,_G)),l.magFilter!==void 0&&(d.magFilter=r(l.magFilter,_G)),l.anisotropy!==void 0&&(d.anisotropy=l.anisotropy),l.flipY!==void 0&&(d.flipY=l.flipY),l.generateMipmaps!==void 0&&(d.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(d.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(d.compareFunction=l.compareFunction),l.userData!==void 0&&(d.userData=l.userData),i[l.uuid]=d}return i}parseObject(e,n,r,i,s){let o;function l(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function c(f){if(f!==void 0){if(Array.isArray(f)){const p=[];for(let m=0,y=f.length;m<y;m++){const b=f[m];r[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),p.push(r[b])}return p}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function u(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let d,h;switch(e.type){case"Scene":o=new xj,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Gt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new fk(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new hk(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Hi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Eu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new kie(e.color,e.intensity);break;case"DirectionalLight":o=new Pie(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new Cie(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Oie(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Mie(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Tie(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Iie().fromJSON(e);break;case"SkinnedMesh":d=l(e.geometry),h=c(e.material),o=new Zre(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=l(e.geometry),h=c(e.material),o=new Gi(d,h);break;case"InstancedMesh":d=l(e.geometry),h=c(e.material);const f=e.count,p=e.instanceMatrix,m=e.instanceColor;o=new Qre(d,h,f),o.instanceMatrix=new hb(new Float32Array(p.array),16),m!==void 0&&(o.instanceColor=new hb(new Float32Array(m.array),m.itemSize));break;case"BatchedMesh":d=l(e.geometry),h=c(e.material),o=new Jre(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(y=>{const b=new bo;b.min.fromArray(y.boxMin),b.max.fromArray(y.boxMax);const v=new Ha;return v.radius=y.sphereRadius,v.center.fromArray(y.sphereCenter),{boxInitialized:y.boxInitialized,box:b,sphereInitialized:y.sphereInitialized,sphere:v}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":o=new Kre;break;case"Line":o=new Jp(l(e.geometry),c(e.material));break;case"LineLoop":o=new eie(l(e.geometry),c(e.material));break;case"LineSegments":o=new Fd(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new tie(l(e.geometry),c(e.material));break;case"Sprite":o=new Xre(c(e.material));break;case"Group":o=new l0;break;case"Bone":o=new BB;break;default:o=new kr}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let p=0;p<f.length;p++)o.add(this.parseObject(f[p],n,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let p=0;p<f.length;p++){const m=f[p];o.animations.push(s[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let p=0;p<f.length;p++){const m=f[p],y=o.getObjectByProperty("uuid",m.object);y!==void 0&&o.addLevel(y,m.distance,m.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new kr}})}}const TRe={UVMapping:Zp,CubeReflectionMapping:Md,CubeRefractionMapping:Qp,EquirectangularReflectionMapping:lb,EquirectangularRefractionMapping:LS,CubeUVReflectionMapping:sw},wG={RepeatWrapping:DS,ClampToEdgeWrapping:Cs,MirroredRepeatWrapping:FS},_G={NearestFilter:fa,NearestMipmapNearestFilter:xB,NearestMipmapLinearFilter:s0,LinearFilter:Gr,LinearMipmapNearestFilter:U1,LinearMipmapLinearFilter:fd};class MRe extends Ao{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ah.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{n&&n(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const c=fetch(e,l).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Ah.add(e,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Ah.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Ah.add(e,c),s.manager.itemStart(e)}}let gT;class JB{static getContext(){return gT===void 0&&(gT=new(window.AudioContext||window.webkitAudioContext)),gT}static setContext(e){gT=e}}class CRe extends Ao{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ul(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{const u=c.slice(0);JB.getContext().decodeAudioData(u,function(h){n(h)}).catch(l)}catch(u){l(u)}},r,i);function l(c){i?i(c):console.error(c),s.manager.itemError(e)}}}const SG=new En,EG=new En,wg=new En;class PRe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,wg.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Ny*n.fov*.5)/n.zoom;let l,c;EG.elements[12]=-i,SG.elements[12]=i,l=-o*n.aspect+s,c=o*n.aspect+s,wg.elements[0]=2*n.near/(c-l),wg.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(wg),l=-o*n.aspect-s,c=o*n.aspect-s,wg.elements[0]=2*n.near/(c-l),wg.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(wg)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(EG),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(SG)}}class ez{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=jG(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=jG();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function jG(){return performance.now()}const _g=new le,AG=new $a,kRe=new le,Sg=new le;class ORe extends kr{constructor(){super(),this.type="AudioListener",this.context=JB.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new ez}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_g,AG,kRe),Sg.set(0,0,-1).applyQuaternion(AG),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(_g.x,i),n.positionY.linearRampToValueAtTime(_g.y,i),n.positionZ.linearRampToValueAtTime(_g.z,i),n.forwardX.linearRampToValueAtTime(Sg.x,i),n.forwardY.linearRampToValueAtTime(Sg.y,i),n.forwardZ.linearRampToValueAtTime(Sg.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(_g.x,_g.y,_g.z),n.setOrientation(Sg.x,Sg.y,Sg.z,r.x,r.y,r.z)}}class Fie extends kr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Eg=new le,NG=new $a,RRe=new le,jg=new le;class IRe extends Fie{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Eg,NG,RRe),jg.set(0,0,1).applyQuaternion(NG);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Eg.x,r),n.positionY.linearRampToValueAtTime(Eg.y,r),n.positionZ.linearRampToValueAtTime(Eg.z,r),n.orientationX.linearRampToValueAtTime(jg.x,r),n.orientationY.linearRampToValueAtTime(jg.y,r),n.orientationZ.linearRampToValueAtTime(jg.z,r)}else n.setPosition(Eg.x,Eg.y,Eg.z),n.setOrientation(jg.x,jg.y,jg.z)}}class LRe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Uie{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==i;++l)r[s+l]=r[l];o=n}else{o+=n;const l=n/o;this._mixBufferRegion(r,s,0,l,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=n*this._origIndex;this._mixBufferRegion(r,i,c,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let c=n,u=n+n;c!==u;++c)if(r[c]!==r[c+n]){l.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){$a.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;$a.multiplyQuaternionsFlat(e,o,e,n,e,r),$a.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let l=0;l!==s;++l){const c=n+l;e[c]=e[c]*o+e[r+l]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]+e[r+o]*i}}}const tz="\\[\\]\\.:\\/",DRe=new RegExp("["+tz+"]","g"),nz="[^"+tz+"]",FRe="[^"+tz.replace("\\.","")+"]",URe=/((?:WC+[\/:])*)/.source.replace("WC",nz),BRe=/(WCOD+)?/.source.replace("WCOD",FRe),zRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",nz),$Re=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",nz),HRe=new RegExp("^"+URe+BRe+zRe+$Re+"$"),VRe=["material","materials","bones","map"];class WRe{constructor(e,n,r){const i=r||Mr.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Mr{constructor(e,n,r){this.path=n,this.parsedPath=r||Mr.parseTrackName(n),this.node=Mr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Mr.Composite(e,n,r):new Mr(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(DRe,"")}static parseTrackName(e){const n=HRe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);VRe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const l=s[o];if(l.name===n||l.uuid===n)return l;const c=r(l.children);if(c)return c}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Mr.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Mr.Composite=WRe;Mr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Mr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Mr.prototype.GetterByBindingType=[Mr.prototype._getValue_direct,Mr.prototype._getValue_array,Mr.prototype._getValue_arrayElement,Mr.prototype._getValue_toArray];Mr.prototype.SetterByBindingTypeAndVersioning=[[Mr.prototype._setValue_direct,Mr.prototype._setValue_direct_setNeedsUpdate,Mr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mr.prototype._setValue_array,Mr.prototype._setValue_array_setNeedsUpdate,Mr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mr.prototype._setValue_arrayElement,Mr.prototype._setValue_arrayElement_setNeedsUpdate,Mr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mr.prototype._setValue_fromArray,Mr.prototype._setValue_fromArray_setNeedsUpdate,Mr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class GRe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Fl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let l,c=e.length,u=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const f=arguments[d],p=f.uuid;let m=n[p];if(m===void 0){m=c++,n[p]=m,e.push(f);for(let y=0,b=o;y!==b;++y)s[y].push(new Mr(f,r[y],i[y]))}else if(m<u){l=e[m];const y=--u,b=e[y];n[b.uuid]=m,e[m]=b,n[p]=y,e[y]=f;for(let v=0,_=o;v!==_;++v){const S=s[v],j=S[y];let N=S[m];S[m]=j,N===void 0&&(N=new Mr(f,r[v],i[v])),S[y]=N}}else e[m]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,d=n[u];if(d!==void 0&&d>=s){const h=s++,f=e[h];n[f.uuid]=d,e[d]=f,n[u]=h,e[h]=c;for(let p=0,m=i;p!==m;++p){const y=r[p],b=y[h],v=y[d];y[d]=b,y[h]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let l=0,c=arguments.length;l!==c;++l){const u=arguments[l],d=u.uuid,h=n[d];if(h!==void 0)if(delete n[d],h<s){const f=--s,p=e[f],m=--o,y=e[m];n[p.uuid]=h,e[h]=p,n[y.uuid]=f,e[f]=y,e.pop();for(let b=0,v=i;b!==v;++b){const _=r[b],S=_[f],j=_[m];_[h]=S,_[f]=j,_.pop()}}else{const f=--o,p=e[f];f>0&&(n[p.uuid]=h),e[h]=p,e.pop();for(let m=0,y=i;m!==y;++m){const b=r[m];b[h]=b[f],b.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,l=this._parsedPaths,c=this._objects,u=c.length,d=this.nCachedObjects_,h=new Array(u);i=s.length,r[e]=i,o.push(e),l.push(n),s.push(h);for(let f=d,p=c.length;f!==p;++f){const m=c[f];h[f]=new Mr(m,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,l=o.length-1,c=o[l],u=e[l];n[u]=r,o[r]=c,o.pop(),s[r]=s[l],s.pop(),i[r]=i[l],i.pop()}}}class Bie{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,l=new Array(o),c={endingStart:Qg,endingEnd:Qg};for(let u=0;u!==o;++u){const d=s[u].createInterpolant(null);l[u]=d,d.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=bre,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,l=i/s;e.warp(1,o,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=i._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,u=l.sampleValues;return c[0]=s,c[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*r;c<0||r===0?n=0:(this._startTime=null,n=r*c)}n*=this._updateTimeScale(e);const o=this._updateTime(n),l=this._updateWeight(e);if(l>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case NB:for(let d=0,h=c.length;d!==h;++d)c[d].evaluate(o),u[d].accumulateAdditive(l);break;case lk:default:for(let d=0,h=c.length;d!==h;++d)c[d].evaluate(o),u[d].accumulate(i,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===wre;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===xre){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const l=Math.floor(i/n);i-=n*l,s+=Math.abs(l);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Jg,i.endingEnd=Jg):(e?i.endingStart=this.zeroSlopeAtStart?Jg:Qg:i.endingStart=BS,n?i.endingEnd=this.zeroSlopeAtEnd?Jg:Qg:i.endingEnd=BS)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,c[0]=n,l[1]=s+e,c[1]=r,this}}const qRe=new Float32Array(1);class YRe extends Dd{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,l=e._interpolants,c=r.uuid,u=this._bindingsByRootAndName;let d=u[c];d===void 0&&(d={},u[c]=d);for(let h=0;h!==s;++h){const f=i[h],p=f.name;let m=d[p];if(m!==void 0)++m.referenceCount,o[h]=m;else{if(m=o[h],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,c,p));continue}const y=n&&n._propertyBindings[h].binding.parsedPath;m=new Uie(Mr.create(r,p,y),f.ValueTypeName,f.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,c,p),o[h]=m}l[h].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,l=o[s],c=l.knownActions,u=c[c.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,c[d]=u,c.pop(),e._byClipCacheIndex=null;const h=l.actionByRoot,f=(e._localRoot||this._root).uuid;delete h[f],c.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,l=o[i],c=n[n.length-1],u=e._cacheIndex;c._cacheIndex=u,n[u]=c,n.pop(),delete l[s],Object.keys(l).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new XB(new Float32Array(2),new Float32Array(2),1,qRe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?JS.findByName(i,e):e;const l=o!==null?o.uuid:e,c=this._actionsByClip[l];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=lk),c!==void 0){const h=c.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;u=c.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new Bie(this,o,n,r);return this._bindAction(d,u),this._addInactiveAction(d,l,s),d}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?JS.findByName(r,e):e,o=s?s.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const l=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)l[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let l=0,c=o.length;l!==c;++l){const u=o[l];this._deactivateAction(u);const d=u._cacheIndex,h=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=d,n[d]=h,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const l=r[o].actionByRoot,c=l[n];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const l=s[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class rz{constructor(e){this.value=e}clone(){return new rz(this.value.clone===void 0?this.value:this.value.clone())}}let XRe=0;class KRe extends Dd{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:XRe++}),this.name="",this.usage=VS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class ZRe extends pk{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class QRe{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const TG=new En;class iz{constructor(e,n,r=0,i=1/0){this.ray=new lv(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Ty,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return TG.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(TG),this}intersectObject(e,n=!0,r=[]){return M4(e,this,r,n),r.sort(MG),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)M4(e[i],this,r,n);return r.sort(MG),r}}function MG(t,e){return t.distance-e.distance}function M4(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,l=s.length;o<l;o++)M4(s[o],e,n,!0)}}class C4{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ss(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class JRe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class sz{constructor(e,n,r,i){sz.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const CG=new lt;class eIe{constructor(e=new lt(1/0,1/0),n=new lt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=CG.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,CG).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const PG=new le,yT=new le;class tIe{constructor(e=new le,n=new le){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){PG.subVectors(e,this.start),yT.subVectors(this.end,this.start);const r=yT.dot(yT);let s=yT.dot(PG)/r;return n&&(s=ss(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const kG=new le;class nIe extends kr{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new fr,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,c=32;o<c;o++,l++){const u=o/c*Math.PI*2,d=l/c*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new ln(i,3));const s=new jo({fog:!1,toneMapped:!1});this.cone=new Fd(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),kG.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(kG),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Xf=new le,vT=new En,oL=new En;class rIe extends Fd{constructor(e){const n=zie(e),r=new fr,i=[],s=[],o=new Gt(0,0,1),l=new Gt(0,1,0);for(let u=0;u<n.length;u++){const d=n[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(l.r,l.g,l.b))}r.setAttribute("position",new ln(i,3)),r.setAttribute("color",new ln(s,3));const c=new jo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");oL.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const l=n[s];l.parent&&l.parent.isBone&&(vT.multiplyMatrices(oL,l.matrixWorld),Xf.setFromMatrixPosition(vT),i.setXYZ(o,Xf.x,Xf.y,Xf.z),vT.multiplyMatrices(oL,l.parent.matrixWorld),Xf.setFromMatrixPosition(vT),i.setXYZ(o+1,Xf.x,Xf.y,Xf.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function zie(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,zie(t.children[n]));return e}class iIe extends Gi{constructor(e,n,r){const i=new Sj(n,4,2),s=new tf({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const sIe=new le,OG=new Gt,RG=new Gt;class aIe extends kr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new _j(n);i.rotateY(Math.PI*.5),this.material=new tf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new ei(o,3)),this.add(new Gi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");OG.copy(this.light.color),RG.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?OG:RG;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(sIe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class oIe extends Fd{constructor(e=10,n=10,r=4473924,i=8947848){r=new Gt(r),i=new Gt(i);const s=n/2,o=e/n,l=e/2,c=[],u=[];for(let f=0,p=0,m=-l;f<=n;f++,m+=o){c.push(-l,0,m,l,0,m),c.push(m,0,-l,m,0,l);const y=f===s?r:i;y.toArray(u,p),p+=3,y.toArray(u,p),p+=3,y.toArray(u,p),p+=3,y.toArray(u,p),p+=3}const d=new fr;d.setAttribute("position",new ln(c,3)),d.setAttribute("color",new ln(u,3));const h=new jo({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class lIe extends Fd{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Gt(s),o=new Gt(o);const l=[],c=[];if(n>1)for(let h=0;h<n;h++){const f=h/n*(Math.PI*2),p=Math.sin(f)*e,m=Math.cos(f)*e;l.push(0,0,0),l.push(p,0,m);const y=h&1?s:o;c.push(y.r,y.g,y.b),c.push(y.r,y.g,y.b)}for(let h=0;h<r;h++){const f=h&1?s:o,p=e-e/r*h;for(let m=0;m<i;m++){let y=m/i*(Math.PI*2),b=Math.sin(y)*p,v=Math.cos(y)*p;l.push(b,0,v),c.push(f.r,f.g,f.b),y=(m+1)/i*(Math.PI*2),b=Math.sin(y)*p,v=Math.cos(y)*p,l.push(b,0,v),c.push(f.r,f.g,f.b)}}const u=new fr;u.setAttribute("position",new ln(l,3)),u.setAttribute("color",new ln(c,3));const d=new jo({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const IG=new le,xT=new le,LG=new le;class cIe extends kr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new fr;i.setAttribute("position",new ln([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new jo({fog:!1,toneMapped:!1});this.lightPlane=new Jp(i,s),this.add(this.lightPlane),i=new fr,i.setAttribute("position",new ln([0,0,0,0,0,1],3)),this.targetLine=new Jp(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),IG.setFromMatrixPosition(this.light.matrixWorld),xT.setFromMatrixPosition(this.light.target.matrixWorld),LG.subVectors(xT,IG),this.lightPlane.lookAt(xT),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(xT),this.targetLine.scale.z=LG.length()}}const bT=new le,ts=new gj;class uIe extends Fd{constructor(e){const n=new fr,r=new jo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(m,y){c(m),c(y)}function c(m){i.push(0,0,0),s.push(0,0,0),o[m]===void 0&&(o[m]=[]),o[m].push(i.length/3-1)}n.setAttribute("position",new ln(i,3)),n.setAttribute("color",new ln(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Gt(16755200),d=new Gt(16711680),h=new Gt(43775),f=new Gt(16777215),p=new Gt(3355443);this.setColors(u,d,h,f,p)}setColors(e,n,r,i,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,n.r,n.g,n.b),l.setXYZ(25,n.r,n.g,n.b),l.setXYZ(26,n.r,n.g,n.b),l.setXYZ(27,n.r,n.g,n.b),l.setXYZ(28,n.r,n.g,n.b),l.setXYZ(29,n.r,n.g,n.b),l.setXYZ(30,n.r,n.g,n.b),l.setXYZ(31,n.r,n.g,n.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,i.r,i.g,i.b),l.setXYZ(39,i.r,i.g,i.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;ts.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),hs("c",n,e,ts,0,0,-1),hs("t",n,e,ts,0,0,1),hs("n1",n,e,ts,-r,-i,-1),hs("n2",n,e,ts,r,-i,-1),hs("n3",n,e,ts,-r,i,-1),hs("n4",n,e,ts,r,i,-1),hs("f1",n,e,ts,-r,-i,1),hs("f2",n,e,ts,r,-i,1),hs("f3",n,e,ts,-r,i,1),hs("f4",n,e,ts,r,i,1),hs("u1",n,e,ts,r*.7,i*1.1,-1),hs("u2",n,e,ts,-r*.7,i*1.1,-1),hs("u3",n,e,ts,0,i*2,-1),hs("cf1",n,e,ts,-r,0,1),hs("cf2",n,e,ts,r,0,1),hs("cf3",n,e,ts,0,-i,1),hs("cf4",n,e,ts,0,i,1),hs("cn1",n,e,ts,-r,0,-1),hs("cn2",n,e,ts,r,0,-1),hs("cn3",n,e,ts,0,-i,-1),hs("cn4",n,e,ts,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function hs(t,e,n,r,i,s,o){bT.set(i,s,o).unproject(r);const l=e[t];if(l!==void 0){const c=n.getAttribute("position");for(let u=0,d=l.length;u<d;u++)c.setXYZ(l[u],bT.x,bT.y,bT.z)}}const wT=new bo;class dIe extends Fd{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new fr;s.setIndex(new ei(r,1)),s.setAttribute("position",new ei(i,3)),super(s,new jo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&wT.setFromObject(this.object),wT.isEmpty())return;const n=wT.min,r=wT.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hIe extends Fd{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new fr;s.setIndex(new ei(r,1)),s.setAttribute("position",new ln(i,3)),super(s,new jo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class fIe extends Jp{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new fr;o.setAttribute("position",new ln(s,3)),o.computeBoundingSphere(),super(o,new jo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new fr;c.setAttribute("position",new ln(l,3)),c.computeBoundingSphere(),this.add(new Gi(c,new tf({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const DG=new le;let _T,lL;class pIe extends kr{constructor(e=new le(0,0,1),n=new le(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",_T===void 0&&(_T=new fr,_T.setAttribute("position",new ln([0,0,0,0,1,0],3)),lL=new ow(0,.5,1,5,1),lL.translate(0,-.5,0)),this.position.copy(n),this.line=new Jp(_T,new jo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Gi(lL,new tf({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{DG.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(DG,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class mIe extends Fd{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new fr;i.setAttribute("position",new ln(n,3)),i.setAttribute("color",new ln(r,3));const s=new jo({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Gt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class gIe{constructor(){this.type="ShapePath",this.color=new Gt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new qS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const _=[];for(let S=0,j=v.length;S<j;S++){const N=v[S],A=new Bp;A.curves=N.curves,_.push(A)}return _}function r(v,_){const S=_.length;let j=!1;for(let N=S-1,A=0;A<S;N=A++){let M=_[N],k=_[A],L=k.x-M.x,O=k.y-M.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(M=_[A],L=-L,k=_[N],O=-O),v.y<M.y||v.y>k.y)continue;if(v.y===M.y){if(v.x===M.x)return!0}else{const I=O*(v.x-M.x)-L*(v.y-M.y);if(I===0)return!0;if(I<0)continue;j=!j}}else{if(v.y!==M.y)continue;if(k.x<=v.x&&v.x<=M.x||M.x<=v.x&&v.x<=k.x)return!0}}return j}const i=Ed.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,l,c;const u=[];if(s.length===1)return l=s[0],c=new Bp,c.curves=l.curves,u.push(c),u;let d=!i(s[0].getPoints());d=e?!d:d;const h=[],f=[];let p=[],m=0,y;f[m]=void 0,p[m]=[];for(let v=0,_=s.length;v<_;v++)l=s[v],y=l.getPoints(),o=i(y),o=e?!o:o,o?(!d&&f[m]&&m++,f[m]={s:new Bp,p:y},f[m].s.curves=l.curves,d&&m++,p[m]=[]):p[m].push({h:l,p:y[0]});if(!f[0])return n(s);if(f.length>1){let v=!1,_=0;for(let S=0,j=f.length;S<j;S++)h[S]=[];for(let S=0,j=f.length;S<j;S++){const N=p[S];for(let A=0;A<N.length;A++){const M=N[A];let k=!0;for(let L=0;L<f.length;L++)r(M.p,f[L].p)&&(S!==L&&_++,k?(k=!1,h[L].push(M)):v=!0);k&&h[S].push(M)}}_>0&&v===!1&&(p=h)}let b;for(let v=0,_=f.length;v<_;v++){c=f[v].s,u.push(c),b=p[v];for(let S=0,j=b.length;S<j;S++)c.holes.push(b[S].h)}return u}}class yIe extends Dd{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class vIe extends zl{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:iw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=iw);const xIe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:vB,AddEquation:dp,AddOperation:dre,AdditiveAnimationBlendMode:NB,AdditiveBlending:p4,AgXToneMapping:gre,AlphaFormat:wB,AlwaysCompare:Pre,AlwaysDepth:mC,AlwaysStencilFunc:x4,AmbientLight:kie,AnimationAction:Bie,AnimationClip:JS,AnimationLoader:wRe,AnimationMixer:YRe,AnimationObjectGroup:GRe,AnimationUtils:yRe,ArcCurve:nie,ArrayCamera:qre,ArrowHelper:pIe,AttachedBindMode:y4,Audio:Fie,AudioAnalyser:LRe,AudioContext:JB,AudioListener:ORe,AudioLoader:CRe,AxesHelper:mIe,BackSide:xo,BasicDepthPacking:_re,BasicShadowMap:Wne,BatchedMesh:Jre,Bone:BB,BooleanKeyframeTrack:uv,Box2:eIe,Box3:bo,Box3Helper:hIe,BoxGeometry:cv,BoxHelper:dIe,BufferAttribute:ei,BufferGeometry:fr,BufferGeometryLoader:Die,ByteType:nk,Cache:Ah,Camera:gj,CameraHelper:uIe,CanvasTexture:zOe,CapsuleGeometry:xk,CatmullRomCurve3:rie,CineonToneMapping:pre,CircleGeometry:bk,ClampToEdgeWrapping:Cs,Clock:ez,Color:Gt,ColorKeyframeTrack:KB,ColorManagement:Rr,CompressedArrayTexture:UOe,CompressedCubeTexture:BOe,CompressedTexture:yk,CompressedTextureLoader:_Re,ConeGeometry:wk,ConstantAlphaFactor:lre,ConstantColorFactor:are,Controls:yIe,CubeCamera:Bre,CubeReflectionMapping:Md,CubeRefractionMapping:Qp,CubeTexture:yj,CubeTextureLoader:Nie,CubeUVReflectionMapping:sw,CubicBezierCurve:$B,CubicBezierCurve3:iie,CubicInterpolant:Sie,CullFaceBack:f4,CullFaceFront:Vne,CullFaceFrontBack:yTe,CullFaceNone:Hne,Curve:Pu,CurvePath:aie,CustomBlending:Gne,CustomToneMapping:mre,CylinderGeometry:ow,Cylindrical:JRe,Data3DTexture:CB,DataArrayTexture:uk,DataTexture:ju,DataTextureLoader:ZB,DataUtils:ty,DecrementStencilOp:CTe,DecrementWrapStencilOp:kTe,DefaultLoadingManager:Aie,DepthFormat:jy,DepthStencilFormat:Gy,DepthTexture:IB,DetachedBindMode:vre,DirectionalLight:Pie,DirectionalLightHelper:cIe,DiscreteInterpolant:Eie,DisplayP3ColorSpace:ck,DodecahedronGeometry:_k,DoubleSide:wc,DstAlphaFactor:tre,DstColorFactor:rre,DynamicCopyUsage:GTe,DynamicDrawUsage:Ay,DynamicReadUsage:HTe,EdgesGeometry:oie,EllipseCurve:vk,EqualCompare:Nre,EqualDepth:yC,EqualStencilFunc:LTe,EquirectangularReflectionMapping:lb,EquirectangularRefractionMapping:LS,Euler:$l,EventDispatcher:Dd,ExtrudeGeometry:Ek,FileLoader:Ul,Float16BufferAttribute:RMe,Float32BufferAttribute:ln,FloatType:Wi,Fog:fk,FogExp2:hk,FramebufferTexture:FOe,FrontSide:Yh,Frustum:vj,GLBufferAttribute:QRe,GLSL1:YTe,GLSL3:b4,GreaterCompare:Tre,GreaterDepth:xC,GreaterEqualCompare:Cre,GreaterEqualDepth:vC,GreaterEqualStencilFunc:BTe,GreaterStencilFunc:FTe,GridHelper:oIe,Group:l0,HalfFloatType:pa,HemisphereLight:Tie,HemisphereLightHelper:aIe,IcosahedronGeometry:wj,ImageBitmapLoader:MRe,ImageLoader:eE,ImageUtils:Ire,IncrementStencilOp:MTe,IncrementWrapStencilOp:PTe,InstancedBufferAttribute:hb,InstancedBufferGeometry:Lie,InstancedInterleavedBuffer:ZRe,InstancedMesh:Qre,Int16BufferAttribute:kMe,Int32BufferAttribute:OMe,Int8BufferAttribute:MMe,IntType:hj,InterleavedBuffer:pk,InterleavedBufferAttribute:qy,Interpolant:Ej,InterpolateDiscrete:US,InterpolateLinear:qC,InterpolateSmooth:gM,InvertStencilOp:OTe,KeepStencilOp:Og,KeyframeTrack:ku,LOD:Kre,LatheGeometry:bj,Layers:Ty,LessCompare:Are,LessDepth:gC,LessEqualCompare:TB,LessEqualDepth:Vy,LessEqualStencilFunc:DTe,LessStencilFunc:ITe,Light:wm,LightProbe:Iie,Line:Jp,Line3:tIe,LineBasicMaterial:jo,LineCurve:HB,LineCurve3:sie,LineDashedMaterial:bie,LineLoop:eie,LineSegments:Fd,LinearDisplayP3ColorSpace:mj,LinearFilter:Gr,LinearInterpolant:XB,LinearMipMapLinearFilter:v4,LinearMipMapNearestFilter:bTe,LinearMipmapLinearFilter:fd,LinearMipmapNearestFilter:U1,LinearSRGBColorSpace:Cc,LinearToneMapping:hre,LinearTransfer:zS,Loader:Ao,LoaderUtils:T4,LoadingManager:Pk,LoopOnce:xre,LoopPingPong:wre,LoopRepeat:bre,LuminanceAlphaFormat:EB,LuminanceFormat:SB,MOUSE:Pg,Material:Xa,MaterialLoader:kk,MathUtils:kre,Matrix2:sz,Matrix3:Jn,Matrix4:En,MaxEquation:Kne,Mesh:Gi,MeshBasicMaterial:tf,MeshDepthMaterial:LB,MeshDistanceMaterial:DB,MeshLambertMaterial:vie,MeshMatcapMaterial:xie,MeshNormalMaterial:yie,MeshPhongMaterial:mie,MeshPhysicalMaterial:pie,MeshStandardMaterial:qB,MeshToonMaterial:gie,MinEquation:Xne,MirroredRepeatWrapping:FS,MixOperation:ure,MultiplyBlending:g4,MultiplyOperation:dj,NearestFilter:fa,NearestMipMapLinearFilter:xTe,NearestMipMapNearestFilter:vTe,NearestMipmapLinearFilter:s0,NearestMipmapNearestFilter:xB,NeutralToneMapping:yre,NeverCompare:jre,NeverDepth:pC,NeverStencilFunc:RTe,NoBlending:_d,NoColorSpace:_h,NoToneMapping:Sd,NormalAnimationBlendMode:lk,NormalBlending:Ey,NotEqualCompare:Mre,NotEqualDepth:bC,NotEqualStencilFunc:UTe,NumberKeyframeTrack:ZS,Object3D:kr,ObjectLoader:NRe,ObjectSpaceNormalMap:Ere,OctahedronGeometry:_j,OneFactor:Qne,OneMinusConstantAlphaFactor:cre,OneMinusConstantColorFactor:ore,OneMinusDstAlphaFactor:nre,OneMinusDstColorFactor:ire,OneMinusSrcAlphaFactor:fC,OneMinusSrcColorFactor:ere,OrthographicCamera:Eu,P3Primaries:HS,PCFShadowMap:tk,PCFSoftShadowMap:F1,PMREMGenerator:w4,Path:qS,PerspectiveCamera:Hi,Plane:yh,PlaneGeometry:xm,PlaneHelper:fIe,PointLight:Cie,PointLightHelper:iIe,Points:tie,PointsMaterial:gk,PolarGridHelper:lIe,PolyhedronGeometry:bm,PositionalAudio:IRe,PropertyBinding:Mr,PropertyMixer:Uie,QuadraticBezierCurve:VB,QuadraticBezierCurve3:WB,Quaternion:$a,QuaternionKeyframeTrack:jj,QuaternionLinearInterpolant:jie,RED_GREEN_RGTC2_Format:WC,RED_RGTC1_Format:AB,REVISION:iw,RGBADepthPacking:Sre,RGBAFormat:ms,RGBAIntegerFormat:ok,RGBA_ASTC_10x10_Format:UC,RGBA_ASTC_10x5_Format:LC,RGBA_ASTC_10x6_Format:DC,RGBA_ASTC_10x8_Format:FC,RGBA_ASTC_12x10_Format:BC,RGBA_ASTC_12x12_Format:zC,RGBA_ASTC_4x4_Format:TC,RGBA_ASTC_5x4_Format:MC,RGBA_ASTC_5x5_Format:CC,RGBA_ASTC_6x5_Format:PC,RGBA_ASTC_6x6_Format:kC,RGBA_ASTC_8x5_Format:OC,RGBA_ASTC_8x6_Format:RC,RGBA_ASTC_8x8_Format:IC,RGBA_BPTC_Format:V1,RGBA_ETC2_EAC_Format:NC,RGBA_PVRTC_2BPPV1_Format:EC,RGBA_PVRTC_4BPPV1_Format:SC,RGBA_S3TC_DXT1_Format:z1,RGBA_S3TC_DXT3_Format:$1,RGBA_S3TC_DXT5_Format:H1,RGBDepthPacking:jTe,RGBFormat:_B,RGBIntegerFormat:wTe,RGB_BPTC_SIGNED_Format:$C,RGB_BPTC_UNSIGNED_Format:HC,RGB_ETC1_Format:jC,RGB_ETC2_Format:AC,RGB_PVRTC_2BPPV1_Format:_C,RGB_PVRTC_4BPPV1_Format:wC,RGB_S3TC_DXT1_Format:B1,RGDepthPacking:ATe,RGFormat:jB,RGIntegerFormat:ak,RawShaderMaterial:fie,Ray:lv,Raycaster:iz,Rec709Primaries:$S,RectAreaLight:Oie,RedFormat:fj,RedIntegerFormat:pj,ReinhardToneMapping:fre,RenderTarget:Lre,RepeatWrapping:DS,ReplaceStencilOp:TTe,ReverseSubtractEquation:Yne,RingGeometry:jk,SIGNED_RED_GREEN_RGTC2_Format:GC,SIGNED_RED_RGTC1_Format:VC,SRGBColorSpace:Nl,SRGBTransfer:mi,Scene:xj,ShaderChunk:ar,ShaderLib:mu,ShaderMaterial:Qo,ShadowMaterial:hie,Shape:Bp,ShapeGeometry:Ak,ShapePath:gIe,ShapeUtils:Ed,ShortType:rk,Skeleton:mk,SkeletonHelper:rIe,SkinnedMesh:Zre,Source:ey,Sphere:Ha,SphereGeometry:Sj,Spherical:C4,SphericalHarmonics3:Rie,SplineCurve:GB,SpotLight:Mie,SpotLightHelper:nIe,Sprite:Xre,SpriteMaterial:UB,SrcAlphaFactor:hC,SrcAlphaSaturateFactor:sre,SrcColorFactor:Jne,StaticCopyUsage:WTe,StaticDrawUsage:VS,StaticReadUsage:$Te,StereoCamera:PRe,StreamCopyUsage:qTe,StreamDrawUsage:zTe,StreamReadUsage:VTe,StringKeyframeTrack:dv,SubtractEquation:qne,SubtractiveBlending:m4,TOUCH:kg,TangentSpaceNormalMap:vm,TetrahedronGeometry:Nk,Texture:ii,TextureLoader:SRe,TextureUtils:yOe,TorusGeometry:Tk,TorusKnotGeometry:Mk,Triangle:Ho,TriangleFanDrawMode:ETe,TriangleStripDrawMode:STe,TrianglesDrawMode:_Te,TubeGeometry:Ck,UVMapping:Zp,Uint16BufferAttribute:PB,Uint32BufferAttribute:kB,Uint8BufferAttribute:CMe,Uint8ClampedBufferAttribute:PMe,Uniform:rz,UniformsGroup:KRe,UniformsLib:Lt,UniformsUtils:Ure,UnsignedByteType:Zo,UnsignedInt248Type:Wy,UnsignedInt5999Type:bB,UnsignedIntType:Cd,UnsignedShort4444Type:ik,UnsignedShort5551Type:sk,UnsignedShortType:cb,VSMShadowMap:ou,Vector2:lt,Vector3:le,Vector4:Cr,VectorKeyframeTrack:QS,VideoTexture:DOe,WebGL3DRenderTarget:xMe,WebGLArrayRenderTarget:vMe,WebGLCoordinateSystem:pd,WebGLCubeRenderTarget:OB,WebGLMultipleRenderTargets:vIe,WebGLRenderTarget:zl,WebGLRenderer:FB,WebGLUtils:Gre,WebGPUCoordinateSystem:WS,WireframeGeometry:die,WrapAroundEnding:BS,ZeroCurvatureEnding:Qg,ZeroFactor:Zne,ZeroSlopeEnding:Jg,ZeroStencilOp:NTe,createCanvasElement:Rre},Symbol.toStringTag,{value:"Module"}));var $ie={exports:{}},hv={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */hv.ConcurrentRoot=1;hv.ContinuousEventPriority=4;hv.DefaultEventPriority=16;hv.DiscreteEventPriority=1;hv.IdleEventPriority=536870912;hv.LegacyRoot=0;$ie.exports=hv;var u0=$ie.exports;function bIe(t){let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const f=e;e=d?h:Object.assign({},e,h),n.forEach(p=>p(e,f))}},i=()=>e,s=(u,d=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=d(e);function p(){const m=d(e);if(!h(f,m)){const y=f;u(f=m,y)}}return n.add(p),()=>n.delete(p)},c={setState:r,getState:i,subscribe:(u,d,h)=>d||h?s(u,d,h):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,c),c}const wIe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),FG=wIe?C.useEffect:C.useLayoutEffect;function Hie(t){const e=typeof t=="function"?bIe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=C.useReducer(b=>b+1,0),o=e.getState(),l=C.useRef(o),c=C.useRef(r),u=C.useRef(i),d=C.useRef(!1),h=C.useRef();h.current===void 0&&(h.current=r(o));let f,p=!1;(l.current!==o||c.current!==r||u.current!==i||d.current)&&(f=r(o),p=!i(h.current,f)),FG(()=>{p&&(h.current=f),l.current=o,c.current=r,u.current=i,d.current=!1});const m=C.useRef(o);FG(()=>{const b=()=>{try{const _=e.getState(),S=c.current(_);u.current(h.current,S)||(l.current=_,h.current=S,s())}catch{d.current=!0,s()}},v=e.subscribe(b);return e.getState()!==m.current&&b(),v},[]);const y=p?f:h.current;return C.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const _Ie=t=>typeof t=="object"&&typeof t.then=="function",ry=[];function Vie(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Wie(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of ry)if(Vie(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=ry.indexOf(i);s!==-1&&ry.splice(s,1)},promise:(_Ie(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(ry.push(i),!n)throw i.promise}const SIe=(t,e,n)=>Wie(t,e,!1,n),EIe=(t,e,n)=>void Wie(t,e,!0,n),jIe=t=>{if(t===void 0||t.length===0)ry.splice(0,ry.length);else{const e=ry.find(n=>Vie(t,n.keys,n.equal));e&&e.remove()}};var Gie={exports:{}},cL={exports:{}},uL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UG;function AIe(){return UG||(UG=1,function(t){function e($,Z){var B=$.length;$.push(Z);e:for(;0<B;){var ce=B-1>>>1,fe=$[ce];if(0<i(fe,Z))$[ce]=Z,$[B]=fe,B=ce;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],B=$.pop();if(B!==Z){$[0]=B;e:for(var ce=0,fe=$.length,Q=fe>>>1;ce<Q;){var xe=2*(ce+1)-1,ke=$[xe],Re=xe+1,Ce=$[Re];if(0>i(ke,B))Re<fe&&0>i(Ce,ke)?($[ce]=Ce,$[Re]=B,ce=Re):($[ce]=ke,$[xe]=B,ce=xe);else if(Re<fe&&0>i(Ce,B))$[ce]=Ce,$[Re]=B,ce=Re;else break e}}return Z}function i($,Z){var B=$.sortIndex-Z.sortIndex;return B!==0?B:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=$)r(u),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(u)}}function j($){if(y=!1,S($),!m)if(n(c)!==null)m=!0,K(N);else{var Z=n(u);Z!==null&&ne(j,Z.startTime-$)}}function N($,Z){m=!1,y&&(y=!1,v(k),k=-1),p=!0;var B=f;try{for(S(Z),h=n(c);h!==null&&(!(h.expirationTime>Z)||$&&!I());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,f=h.priorityLevel;var fe=ce(h.expirationTime<=Z);Z=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(c)&&r(c),S(Z)}else r(c);h=n(c)}if(h!==null)var Q=!0;else{var xe=n(u);xe!==null&&ne(j,xe.startTime-Z),Q=!1}return Q}finally{h=null,f=B,p=!1}}var A=!1,M=null,k=-1,L=5,O=-1;function I(){return!(t.unstable_now()-O<L)}function U(){if(M!==null){var $=t.unstable_now();O=$;var Z=!0;try{Z=M(!0,$)}finally{Z?W():(A=!1,M=null)}}else A=!1}var W;if(typeof _=="function")W=function(){_(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,J=q.port2;q.port1.onmessage=U,W=function(){J.postMessage(null)}}else W=function(){b(U,0)};function K($){M=$,A||(A=!0,W())}function ne($,Z){k=b(function(){$(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,K(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var B=f;f=Z;try{return $()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=f;f=$;try{return Z()}finally{f=B}},t.unstable_scheduleCallback=function($,Z,B){var ce=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ce+B:ce):B=ce,$){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=B+fe,$={id:d++,callback:Z,priorityLevel:$,startTime:B,expirationTime:fe,sortIndex:-1},B>ce?($.sortIndex=B,e(u,$),n(c)===null&&$===n(u)&&(y?(v(k),k=-1):y=!0,ne(j,B-ce))):($.sortIndex=fe,e(c,$),m||p||(m=!0,K(N))),$},t.unstable_shouldYield=I,t.unstable_wrapCallback=function($){var Z=f;return function(){var B=f;f=Z;try{return $.apply(this,arguments)}finally{f=B}}}}(uL)),uL}var BG;function NIe(){return BG||(BG=1,cL.exports=AIe()),cL.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TIe=function(e){var n={},r=C,i=NIe(),s=Object.assign;function o(x){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+x,T=1;T<arguments.length;T++)w+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+x+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),N=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=N&&x[N]||x["@@iterator"],typeof x=="function"?x:null)}function M(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case b:return"Suspense";case v:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case m:return(x.displayName||"Context")+".Consumer";case p:return(x._context.displayName||"Context")+".Provider";case y:var w=x.render;return x=x.displayName,x||(x=w.displayName||w.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case _:return w=x.displayName||null,w!==null?w:M(x.type)||"Memo";case S:w=x._payload,x=x._init;try{return M(x(w))}catch{}}return null}function k(x){var w=x.type;switch(x.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=w.render,x=x.displayName||x.name||"",w.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(w);case 8:return w===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function L(x){var w=x,T=x;if(x.alternate)for(;w.return;)w=w.return;else{x=w;do w=x,w.flags&4098&&(T=w.return),x=w.return;while(x)}return w.tag===3?T:null}function O(x){if(L(x)!==x)throw Error(o(188))}function I(x){var w=x.alternate;if(!w){if(w=L(x),w===null)throw Error(o(188));return w!==x?null:x}for(var T=x,R=w;;){var D=T.return;if(D===null)break;var V=D.alternate;if(V===null){if(R=D.return,R!==null){T=R;continue}break}if(D.child===V.child){for(V=D.child;V;){if(V===T)return O(D),x;if(V===R)return O(D),w;V=V.sibling}throw Error(o(188))}if(T.return!==R.return)T=D,R=V;else{for(var de=!1,Pe=D.child;Pe;){if(Pe===T){de=!0,T=D,R=V;break}if(Pe===R){de=!0,R=D,T=V;break}Pe=Pe.sibling}if(!de){for(Pe=V.child;Pe;){if(Pe===T){de=!0,T=V,R=D;break}if(Pe===R){de=!0,R=V,T=D;break}Pe=Pe.sibling}if(!de)throw Error(o(189))}}if(T.alternate!==R)throw Error(o(190))}if(T.tag!==3)throw Error(o(188));return T.stateNode.current===T?x:w}function U(x){return x=I(x),x!==null?W(x):null}function W(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var w=W(x);if(w!==null)return w;x=x.sibling}return null}function q(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){if(x.tag!==4){var w=q(x);if(w!==null)return w}x=x.sibling}return null}var J=Array.isArray,K=e.getPublicInstance,ne=e.getRootHostContext,$=e.getChildHostContext,Z=e.prepareForCommit,B=e.resetAfterCommit,ce=e.createInstance,fe=e.appendInitialChild,Q=e.finalizeInitialChildren,xe=e.prepareUpdate,ke=e.shouldSetTextContent,Re=e.createTextInstance,Ce=e.scheduleTimeout,tt=e.cancelTimeout,Fe=e.noTimeout,Ve=e.isPrimaryRenderer,Ue=e.supportsMutation,he=e.supportsPersistence,te=e.supportsHydration,ze=e.getInstanceFromNode,nt=e.preparePortalMount,Je=e.getCurrentEventPriority,rt=e.detachDeletedInstance,Pt=e.supportsMicrotasks,bt=e.scheduleMicrotask,H=e.supportsTestSelectors,z=e.findFiberRoot,oe=e.getBoundingRect,je=e.getTextContent,Ne=e.isHiddenSubtree,we=e.matchAccessibilityRole,me=e.setFocusIfFocusable,Ae=e.setupIntersectionObserver,$e=e.appendChild,_t=e.appendChildToContainer,Ze=e.commitTextUpdate,wt=e.commitMount,qt=e.commitUpdate,Rt=e.insertBefore,gt=e.insertInContainerBefore,fn=e.removeChild,ge=e.removeChildFromContainer,Qe=e.resetTextContent,ue=e.hideInstance,pt=e.hideTextInstance,Se=e.unhideInstance,st=e.unhideTextInstance,Tt=e.clearContainer,kt=e.cloneInstance,Un=e.createContainerChildSet,Ot=e.appendChildToContainerChildSet,hn=e.finalizeContainerChildren,Vt=e.replaceContainerChildren,pr=e.cloneHiddenInstance,Ar=e.cloneHiddenTextInstance,Xi=e.canHydrateInstance,Ks=e.canHydrateTextInstance,Si=e.canHydrateSuspenseInstance,Pi=e.isSuspenseInstancePending,Lu=e.isSuspenseInstanceFallback,ql=e.registerSuspenseInstanceRetry,Zs=e.getNextHydratableSibling,Xn=e.getFirstHydratableChild,Fc=e.getFirstHydratableChildWithinContainer,of=e.getFirstHydratableChildWithinSuspenseInstance,Y=e.hydrateInstance,re=e.hydrateTextInstance,Ee=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,G=e.commitHydratedContainer,se=e.commitHydratedSuspenseInstance,be=e.clearSuspenseBoundary,ye=e.clearSuspenseBoundaryFromContainer,pe=e.shouldDeleteUnhydratedTailInstances,De=e.didNotMatchHydratedContainerTextInstance,We=e.didNotMatchHydratedTextInstance,Ge;function At(x){if(Ge===void 0)try{throw Error()}catch(T){var w=T.stack.trim().match(/\n( *(at )?)/);Ge=w&&w[1]||""}return`
`+Ge+x}var ft=!1;function mt(x,w){if(!x||ft)return"";ft=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(Et){var R=Et}Reflect.construct(x,[],w)}else{try{w.call()}catch(Et){R=Et}x.call(w.prototype)}else{try{throw Error()}catch(Et){R=Et}x()}}catch(Et){if(Et&&R&&typeof Et.stack=="string"){for(var D=Et.stack.split(`
`),V=R.stack.split(`
`),de=D.length-1,Pe=V.length-1;1<=de&&0<=Pe&&D[de]!==V[Pe];)Pe--;for(;1<=de&&0<=Pe;de--,Pe--)if(D[de]!==V[Pe]){if(de!==1||Pe!==1)do if(de--,Pe--,0>Pe||D[de]!==V[Pe]){var et=`
`+D[de].replace(" at new "," at ");return x.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",x.displayName)),et}while(1<=de&&0<=Pe);break}}}finally{ft=!1,Error.prepareStackTrace=T}return(x=x?x.displayName||x.name:"")?At(x):""}var yt=Object.prototype.hasOwnProperty,Dt=[],en=-1;function cn(x){return{current:x}}function rn(x){0>en||(x.current=Dt[en],Dt[en]=null,en--)}function Ft(x,w){en++,Dt[en]=x.current,x.current=w}var St={},Pn=cn(St),Bt=cn(!1),nr=St;function si(x,w){var T=x.type.contextTypes;if(!T)return St;var R=x.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===w)return R.__reactInternalMemoizedMaskedChildContext;var D={},V;for(V in T)D[V]=w[V];return R&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=w,x.__reactInternalMemoizedMaskedChildContext=D),D}function br(x){return x=x.childContextTypes,x!=null}function ki(){rn(Bt),rn(Pn)}function pn(x,w,T){if(Pn.current!==St)throw Error(o(168));Ft(Pn,w),Ft(Bt,T)}function Fr(x,w,T){var R=x.stateNode;if(w=w.childContextTypes,typeof R.getChildContext!="function")return T;R=R.getChildContext();for(var D in R)if(!(D in w))throw Error(o(108,k(x)||"Unknown",D));return s({},T,R)}function _r(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||St,nr=Pn.current,Ft(Pn,x),Ft(Bt,Bt.current),!0}function kn(x,w,T){var R=x.stateNode;if(!R)throw Error(o(169));T?(x=Fr(x,w,nr),R.__reactInternalMemoizedMergedChildContext=x,rn(Bt),rn(Pn),Ft(Pn,x)):rn(Bt),Ft(Bt,T)}var Ur=Math.clz32?Math.clz32:il,Za=Math.log,vs=Math.LN2;function il(x){return x>>>=0,x===0?32:31-(Za(x)/vs|0)|0}var lf=64,cf=4194304;function Yl(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function Pm(x,w){var T=x.pendingLanes;if(T===0)return 0;var R=0,D=x.suspendedLanes,V=x.pingedLanes,de=T&268435455;if(de!==0){var Pe=de&~D;Pe!==0?R=Yl(Pe):(V&=de,V!==0&&(R=Yl(V)))}else de=T&~D,de!==0?R=Yl(de):V!==0&&(R=Yl(V));if(R===0)return 0;if(w!==0&&w!==R&&!(w&D)&&(D=R&-R,V=w&-w,D>=V||D===16&&(V&4194240)!==0))return w;if(R&4&&(R|=T&16),w=x.entangledLanes,w!==0)for(x=x.entanglements,w&=R;0<w;)T=31-Ur(w),D=1<<T,R|=x[T],w&=~D;return R}function Wj(x,w){switch(x){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OO(x,w){for(var T=x.suspendedLanes,R=x.pingedLanes,D=x.expirationTimes,V=x.pendingLanes;0<V;){var de=31-Ur(V),Pe=1<<de,et=D[de];et===-1?(!(Pe&T)||Pe&R)&&(D[de]=Wj(Pe,w)):et<=w&&(x.expiredLanes|=Pe),V&=~Pe}}function wv(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function _v(x){for(var w=[],T=0;31>T;T++)w.push(x);return w}function uf(x,w,T){x.pendingLanes|=w,w!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,w=31-Ur(w),x[w]=T}function Gj(x,w){var T=x.pendingLanes&~w;x.pendingLanes=w,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=w,x.mutableReadLanes&=w,x.entangledLanes&=w,w=x.entanglements;var R=x.eventTimes;for(x=x.expirationTimes;0<T;){var D=31-Ur(T),V=1<<D;w[D]=0,R[D]=-1,x[D]=-1,T&=~V}}function Mw(x,w){var T=x.entangledLanes|=w;for(x=x.entanglements;T;){var R=31-Ur(T),D=1<<R;D&w|x[R]&w&&(x[R]|=w),T&=~D}}var Nr=0;function qj(x){return x&=-x,1<x?4<x?x&268435455?16:536870912:4:1}var Sv=i.unstable_scheduleCallback,Yj=i.unstable_cancelCallback,RO=i.unstable_shouldYield,IO=i.unstable_requestPaint,xs=i.unstable_now,km=i.unstable_ImmediatePriority,LO=i.unstable_UserBlockingPriority,Cw=i.unstable_NormalPriority,DO=i.unstable_IdlePriority,Ev=null,Xl=null;function ai(x){if(Xl&&typeof Xl.onCommitFiberRoot=="function")try{Xl.onCommitFiberRoot(Ev,x,void 0,(x.current.flags&128)===128)}catch{}}function ni(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var Kl=typeof Object.is=="function"?Object.is:ni,Uc=null,jv=!1,Pw=!1;function Xj(x){Uc===null?Uc=[x]:Uc.push(x)}function FO(x){jv=!0,Xj(x)}function sl(){if(!Pw&&Uc!==null){Pw=!0;var x=0,w=Nr;try{var T=Uc;for(Nr=1;x<T.length;x++){var R=T[x];do R=R(!0);while(R!==null)}Uc=null,jv=!1}catch(D){throw Uc!==null&&(Uc=Uc.slice(x+1)),Sv(km,sl),D}finally{Nr=w,Pw=!1}}return null}var UO=l.ReactCurrentBatchConfig;function Ki(x,w){if(Kl(x,w))return!0;if(typeof x!="object"||x===null||typeof w!="object"||w===null)return!1;var T=Object.keys(x),R=Object.keys(w);if(T.length!==R.length)return!1;for(R=0;R<T.length;R++){var D=T[R];if(!yt.call(w,D)||!Kl(x[D],w[D]))return!1}return!0}function kw(x){switch(x.tag){case 5:return At(x.type);case 16:return At("Lazy");case 13:return At("Suspense");case 19:return At("SuspenseList");case 0:case 2:case 15:return x=mt(x.type,!1),x;case 11:return x=mt(x.type.render,!1),x;case 1:return x=mt(x.type,!0),x;default:return""}}function Rs(x,w){if(x&&x.defaultProps){w=s({},w),x=x.defaultProps;for(var T in x)w[T]===void 0&&(w[T]=x[T]);return w}return w}var Om=cn(null),df=null,Is=null,Av=null;function Nv(){Av=Is=df=null}function Ow(x,w,T){Ve?(Ft(Om,w._currentValue),w._currentValue=T):(Ft(Om,w._currentValue2),w._currentValue2=T)}function Tv(x){var w=Om.current;rn(Om),Ve?x._currentValue=w:x._currentValue2=w}function Mv(x,w,T){for(;x!==null;){var R=x.alternate;if((x.childLanes&w)!==w?(x.childLanes|=w,R!==null&&(R.childLanes|=w)):R!==null&&(R.childLanes&w)!==w&&(R.childLanes|=w),x===T)break;x=x.return}}function $d(x,w){df=x,Av=Is=null,x=x.dependencies,x!==null&&x.firstContext!==null&&(x.lanes&w&&(Ja=!0),x.firstContext=null)}function hi(x){var w=Ve?x._currentValue:x._currentValue2;if(Av!==x)if(x={context:x,memoizedValue:w,next:null},Is===null){if(df===null)throw Error(o(308));Is=x,df.dependencies={lanes:0,firstContext:x}}else Is=Is.next=x;return w}var Zl=null,as=!1;function Rw(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iw(x,w){x=x.updateQueue,w.updateQueue===x&&(w.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Qs(x,w){return{eventTime:x,lane:w,tag:0,payload:null,callback:null,next:null}}function al(x,w){var T=x.updateQueue;T!==null&&(T=T.shared,Zi!==null&&x.mode&1&&!(Kn&2)?(x=T.interleaved,x===null?(w.next=w,Zl===null?Zl=[T]:Zl.push(T)):(w.next=x.next,x.next=w),T.interleaved=w):(x=T.pending,x===null?w.next=w:(w.next=x.next,x.next=w),T.pending=w))}function hf(x,w,T){if(w=w.updateQueue,w!==null&&(w=w.shared,(T&4194240)!==0)){var R=w.lanes;R&=x.pendingLanes,T|=R,w.lanes=T,Mw(x,T)}}function oi(x,w){var T=x.updateQueue,R=x.alternate;if(R!==null&&(R=R.updateQueue,T===R)){var D=null,V=null;if(T=T.firstBaseUpdate,T!==null){do{var de={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};V===null?D=V=de:V=V.next=de,T=T.next}while(T!==null);V===null?D=V=w:V=V.next=w}else D=V=w;T={baseState:R.baseState,firstBaseUpdate:D,lastBaseUpdate:V,shared:R.shared,effects:R.effects},x.updateQueue=T;return}x=T.lastBaseUpdate,x===null?T.firstBaseUpdate=w:x.next=w,T.lastBaseUpdate=w}function ol(x,w,T,R){var D=x.updateQueue;as=!1;var V=D.firstBaseUpdate,de=D.lastBaseUpdate,Pe=D.shared.pending;if(Pe!==null){D.shared.pending=null;var et=Pe,Et=et.next;et.next=null,de===null?V=Et:de.next=Et,de=et;var Xt=x.alternate;Xt!==null&&(Xt=Xt.updateQueue,Pe=Xt.lastBaseUpdate,Pe!==de&&(Pe===null?Xt.firstBaseUpdate=Et:Pe.next=Et,Xt.lastBaseUpdate=et))}if(V!==null){var In=D.baseState;de=0,Xt=Et=et=null,Pe=V;do{var mn=Pe.lane,$r=Pe.eventTime;if((R&mn)===mn){Xt!==null&&(Xt=Xt.next={eventTime:$r,lane:0,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null});e:{var sn=x,aa=Pe;switch(mn=w,$r=T,aa.tag){case 1:if(sn=aa.payload,typeof sn=="function"){In=sn.call($r,In,mn);break e}In=sn;break e;case 3:sn.flags=sn.flags&-65537|128;case 0:if(sn=aa.payload,mn=typeof sn=="function"?sn.call($r,In,mn):sn,mn==null)break e;In=s({},In,mn);break e;case 2:as=!0}}Pe.callback!==null&&Pe.lane!==0&&(x.flags|=64,mn=D.effects,mn===null?D.effects=[Pe]:mn.push(Pe))}else $r={eventTime:$r,lane:mn,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null},Xt===null?(Et=Xt=$r,et=In):Xt=Xt.next=$r,de|=mn;if(Pe=Pe.next,Pe===null){if(Pe=D.shared.pending,Pe===null)break;mn=Pe,Pe=mn.next,mn.next=null,D.lastBaseUpdate=mn,D.shared.pending=null}}while(!0);if(Xt===null&&(et=In),D.baseState=et,D.firstBaseUpdate=Et,D.lastBaseUpdate=Xt,w=D.shared.interleaved,w!==null){D=w;do de|=D.lane,D=D.next;while(D!==w)}else V===null&&(D.shared.lanes=0);Of|=de,x.lanes=de,x.memoizedState=In}}function Cv(x,w,T){if(x=w.effects,w.effects=null,x!==null)for(w=0;w<x.length;w++){var R=x[w],D=R.callback;if(D!==null){if(R.callback=null,R=T,typeof D!="function")throw Error(o(191,D));D.call(R)}}}var Kj=new r.Component().refs;function Rm(x,w,T,R){w=x.memoizedState,T=T(R,w),T=T==null?w:s({},w,T),x.memoizedState=T,x.lanes===0&&(x.updateQueue.baseState=T)}var Pv={isMounted:function(x){return(x=x._reactInternals)?L(x)===x:!1},enqueueSetState:function(x,w,T){x=x._reactInternals;var R=na(),D=ic(x),V=Qs(R,D);V.payload=w,T!=null&&(V.callback=T),al(x,V),w=To(x,D,R),w!==null&&hf(w,x,D)},enqueueReplaceState:function(x,w,T){x=x._reactInternals;var R=na(),D=ic(x),V=Qs(R,D);V.tag=1,V.payload=w,T!=null&&(V.callback=T),al(x,V),w=To(x,D,R),w!==null&&hf(w,x,D)},enqueueForceUpdate:function(x,w){x=x._reactInternals;var T=na(),R=ic(x),D=Qs(T,R);D.tag=2,w!=null&&(D.callback=w),al(x,D),w=To(x,R,T),w!==null&&hf(w,x,R)}};function Zj(x,w,T,R,D,V,de){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(R,V,de):w.prototype&&w.prototype.isPureReactComponent?!Ki(T,R)||!Ki(D,V):!0}function Qj(x,w,T){var R=!1,D=St,V=w.contextType;return typeof V=="object"&&V!==null?V=hi(V):(D=br(w)?nr:Pn.current,R=w.contextTypes,V=(R=R!=null)?si(x,D):St),w=new w(T,V),x.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Pv,x.stateNode=w,w._reactInternals=x,R&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=D,x.__reactInternalMemoizedMaskedChildContext=V),w}function Lw(x,w,T,R){x=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(T,R),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(T,R),w.state!==x&&Pv.enqueueReplaceState(w,w.state,null)}function ff(x,w,T,R){var D=x.stateNode;D.props=T,D.state=x.memoizedState,D.refs=Kj,Rw(x);var V=w.contextType;typeof V=="object"&&V!==null?D.context=hi(V):(V=br(w)?nr:Pn.current,D.context=si(x,V)),D.state=x.memoizedState,V=w.getDerivedStateFromProps,typeof V=="function"&&(Rm(x,w,V,T),D.state=x.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(w=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),w!==D.state&&Pv.enqueueReplaceState(D,D.state,null),ol(x,T,D,R),D.state=x.memoizedState),typeof D.componentDidMount=="function"&&(x.flags|=4194308)}var ll=[],pf=0,Im=null,Lm=0,Ma=[],Ca=0,Du=null,Bc=1,cl="";function zc(x,w){ll[pf++]=Lm,ll[pf++]=Im,Im=x,Lm=w}function Jj(x,w,T){Ma[Ca++]=Bc,Ma[Ca++]=cl,Ma[Ca++]=Du,Du=x;var R=Bc;x=cl;var D=32-Ur(R)-1;R&=~(1<<D),T+=1;var V=32-Ur(w)+D;if(30<V){var de=D-D%5;V=(R&(1<<de)-1).toString(32),R>>=de,D-=de,Bc=1<<32-Ur(w)+D|T<<D|R,cl=V+x}else Bc=1<<V|T<<D|R,cl=x}function kv(x){x.return!==null&&(zc(x,1),Jj(x,1,0))}function va(x){for(;x===Im;)Im=ll[--pf],ll[pf]=null,Lm=ll[--pf],ll[pf]=null;for(;x===Du;)Du=Ma[--Ca],Ma[Ca]=null,cl=Ma[--Ca],Ma[Ca]=null,Bc=Ma[--Ca],Ma[Ca]=null}var xa=null,Ls=null,li=!1,mf=!1,ul=null;function eA(x,w){var T=Mo(5,null,null,0);T.elementType="DELETED",T.stateNode=w,T.return=x,w=x.deletions,w===null?(x.deletions=[T],x.flags|=16):w.push(T)}function tA(x,w){switch(x.tag){case 5:return w=Xi(w,x.type,x.pendingProps),w!==null?(x.stateNode=w,xa=x,Ls=Xn(w),!0):!1;case 6:return w=Ks(w,x.pendingProps),w!==null?(x.stateNode=w,xa=x,Ls=null,!0):!1;case 13:if(w=Si(w),w!==null){var T=Du!==null?{id:Bc,overflow:cl}:null;return x.memoizedState={dehydrated:w,treeContext:T,retryLane:1073741824},T=Mo(18,null,null,0),T.stateNode=w,T.return=x,x.child=T,xa=x,Ls=null,!0}return!1;default:return!1}}function Dw(x){return(x.mode&1)!==0&&(x.flags&128)===0}function Fw(x){if(li){var w=Ls;if(w){var T=w;if(!tA(x,w)){if(Dw(x))throw Error(o(418));w=Zs(T);var R=xa;w&&tA(x,w)?eA(R,T):(x.flags=x.flags&-4097|2,li=!1,xa=x)}}else{if(Dw(x))throw Error(o(418));x.flags=x.flags&-4097|2,li=!1,xa=x}}}function Hd(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;xa=x}function Dm(x){if(!te||x!==xa)return!1;if(!li)return Hd(x),li=!0,!1;if(x.tag!==3&&(x.tag!==5||pe(x.type)&&!ke(x.type,x.memoizedProps))){var w=Ls;if(w){if(Dw(x)){for(x=Ls;x;)x=Zs(x);throw Error(o(418))}for(;w;)eA(x,w),w=Zs(w)}}if(Hd(x),x.tag===13){if(!te)throw Error(o(316));if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));Ls=qe(x)}else Ls=xa?Zs(x.stateNode):null;return!0}function gf(){te&&(Ls=xa=null,mf=li=!1)}function Fm(x){ul===null?ul=[x]:ul.push(x)}function yf(x,w,T){if(x=T.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(o(309));var R=T.stateNode}if(!R)throw Error(o(147,x));var D=R,V=""+x;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===V?w.ref:(w=function(de){var Pe=D.refs;Pe===Kj&&(Pe=D.refs={}),de===null?delete Pe[V]:Pe[V]=de},w._stringRef=V,w)}if(typeof x!="string")throw Error(o(284));if(!T._owner)throw Error(o(290,x))}return x}function dl(x,w){throw x=Object.prototype.toString.call(w),Error(o(31,x==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":x))}function Um(x){var w=x._init;return w(x._payload)}function nA(x){function w(Be,Oe){if(x){var Ke=Be.deletions;Ke===null?(Be.deletions=[Oe],Be.flags|=16):Ke.push(Oe)}}function T(Be,Oe){if(!x)return null;for(;Oe!==null;)w(Be,Oe),Oe=Oe.sibling;return null}function R(Be,Oe){for(Be=new Map;Oe!==null;)Oe.key!==null?Be.set(Oe.key,Oe):Be.set(Oe.index,Oe),Oe=Oe.sibling;return Be}function D(Be,Oe){return Be=Gc(Be,Oe),Be.index=0,Be.sibling=null,Be}function V(Be,Oe,Ke){return Be.index=Ke,x?(Ke=Be.alternate,Ke!==null?(Ke=Ke.index,Ke<Oe?(Be.flags|=2,Oe):Ke):(Be.flags|=2,Oe)):(Be.flags|=1048576,Oe)}function de(Be){return x&&Be.alternate===null&&(Be.flags|=2),Be}function Pe(Be,Oe,Ke,zt){return Oe===null||Oe.tag!==6?(Oe=sa(Ke,Be.mode,zt),Oe.return=Be,Oe):(Oe=D(Oe,Ke),Oe.return=Be,Oe)}function et(Be,Oe,Ke,zt){var an=Ke.type;return an===d?Xt(Be,Oe,Ke.props.children,zt,Ke.key):Oe!==null&&(Oe.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===S&&Um(an)===Oe.type)?(zt=D(Oe,Ke.props),zt.ref=yf(Be,Oe,Ke),zt.return=Be,zt):(zt=Qv(Ke.type,Ke.key,Ke.props,null,Be.mode,zt),zt.ref=yf(Be,Oe,Ke),zt.return=Be,zt)}function Et(Be,Oe,Ke,zt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ke.containerInfo||Oe.stateNode.implementation!==Ke.implementation?(Oe=Co(Ke,Be.mode,zt),Oe.return=Be,Oe):(Oe=D(Oe,Ke.children||[]),Oe.return=Be,Oe)}function Xt(Be,Oe,Ke,zt,an){return Oe===null||Oe.tag!==7?(Oe=Zu(Ke,Be.mode,zt,an),Oe.return=Be,Oe):(Oe=D(Oe,Ke),Oe.return=Be,Oe)}function In(Be,Oe,Ke){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Oe=sa(""+Oe,Be.mode,Ke),Oe.return=Be,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case c:return Ke=Qv(Oe.type,Oe.key,Oe.props,null,Be.mode,Ke),Ke.ref=yf(Be,null,Oe),Ke.return=Be,Ke;case u:return Oe=Co(Oe,Be.mode,Ke),Oe.return=Be,Oe;case S:var zt=Oe._init;return In(Be,zt(Oe._payload),Ke)}if(J(Oe)||A(Oe))return Oe=Zu(Oe,Be.mode,Ke,null),Oe.return=Be,Oe;dl(Be,Oe)}return null}function mn(Be,Oe,Ke,zt){var an=Oe!==null?Oe.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return an!==null?null:Pe(Be,Oe,""+Ke,zt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case c:return Ke.key===an?et(Be,Oe,Ke,zt):null;case u:return Ke.key===an?Et(Be,Oe,Ke,zt):null;case S:return an=Ke._init,mn(Be,Oe,an(Ke._payload),zt)}if(J(Ke)||A(Ke))return an!==null?null:Xt(Be,Oe,Ke,zt,null);dl(Be,Ke)}return null}function $r(Be,Oe,Ke,zt,an){if(typeof zt=="string"&&zt!==""||typeof zt=="number")return Be=Be.get(Ke)||null,Pe(Oe,Be,""+zt,an);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case c:return Be=Be.get(zt.key===null?Ke:zt.key)||null,et(Oe,Be,zt,an);case u:return Be=Be.get(zt.key===null?Ke:zt.key)||null,Et(Oe,Be,zt,an);case S:var Zn=zt._init;return $r(Be,Oe,Ke,Zn(zt._payload),an)}if(J(zt)||A(zt))return Be=Be.get(Ke)||null,Xt(Oe,Be,zt,an,null);dl(Oe,zt)}return null}function sn(Be,Oe,Ke,zt){for(var an=null,Zn=null,Bn=Oe,Qn=Oe=0,Ji=null;Bn!==null&&Qn<Ke.length;Qn++){Bn.index>Qn?(Ji=Bn,Bn=null):Ji=Bn.sibling;var wr=mn(Be,Bn,Ke[Qn],zt);if(wr===null){Bn===null&&(Bn=Ji);break}x&&Bn&&wr.alternate===null&&w(Be,Bn),Oe=V(wr,Oe,Qn),Zn===null?an=wr:Zn.sibling=wr,Zn=wr,Bn=Ji}if(Qn===Ke.length)return T(Be,Bn),li&&zc(Be,Qn),an;if(Bn===null){for(;Qn<Ke.length;Qn++)Bn=In(Be,Ke[Qn],zt),Bn!==null&&(Oe=V(Bn,Oe,Qn),Zn===null?an=Bn:Zn.sibling=Bn,Zn=Bn);return li&&zc(Be,Qn),an}for(Bn=R(Be,Bn);Qn<Ke.length;Qn++)Ji=$r(Bn,Be,Qn,Ke[Qn],zt),Ji!==null&&(x&&Ji.alternate!==null&&Bn.delete(Ji.key===null?Qn:Ji.key),Oe=V(Ji,Oe,Qn),Zn===null?an=Ji:Zn.sibling=Ji,Zn=Ji);return x&&Bn.forEach(function(ac){return w(Be,ac)}),li&&zc(Be,Qn),an}function aa(Be,Oe,Ke,zt){var an=A(Ke);if(typeof an!="function")throw Error(o(150));if(Ke=an.call(Ke),Ke==null)throw Error(o(151));for(var Zn=an=null,Bn=Oe,Qn=Oe=0,Ji=null,wr=Ke.next();Bn!==null&&!wr.done;Qn++,wr=Ke.next()){Bn.index>Qn?(Ji=Bn,Bn=null):Ji=Bn.sibling;var ac=mn(Be,Bn,wr.value,zt);if(ac===null){Bn===null&&(Bn=Ji);break}x&&Bn&&ac.alternate===null&&w(Be,Bn),Oe=V(ac,Oe,Qn),Zn===null?an=ac:Zn.sibling=ac,Zn=ac,Bn=Ji}if(wr.done)return T(Be,Bn),li&&zc(Be,Qn),an;if(Bn===null){for(;!wr.done;Qn++,wr=Ke.next())wr=In(Be,wr.value,zt),wr!==null&&(Oe=V(wr,Oe,Qn),Zn===null?an=wr:Zn.sibling=wr,Zn=wr);return li&&zc(Be,Qn),an}for(Bn=R(Be,Bn);!wr.done;Qn++,wr=Ke.next())wr=$r(Bn,Be,Qn,wr.value,zt),wr!==null&&(x&&wr.alternate!==null&&Bn.delete(wr.key===null?Qn:wr.key),Oe=V(wr,Oe,Qn),Zn===null?an=wr:Zn.sibling=wr,Zn=wr);return x&&Bn.forEach(function(ex){return w(Be,ex)}),li&&zc(Be,Qn),an}function io(Be,Oe,Ke,zt){if(typeof Ke=="object"&&Ke!==null&&Ke.type===d&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case c:e:{for(var an=Ke.key,Zn=Oe;Zn!==null;){if(Zn.key===an){if(an=Ke.type,an===d){if(Zn.tag===7){T(Be,Zn.sibling),Oe=D(Zn,Ke.props.children),Oe.return=Be,Be=Oe;break e}}else if(Zn.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===S&&Um(an)===Zn.type){T(Be,Zn.sibling),Oe=D(Zn,Ke.props),Oe.ref=yf(Be,Zn,Ke),Oe.return=Be,Be=Oe;break e}T(Be,Zn);break}else w(Be,Zn);Zn=Zn.sibling}Ke.type===d?(Oe=Zu(Ke.props.children,Be.mode,zt,Ke.key),Oe.return=Be,Be=Oe):(zt=Qv(Ke.type,Ke.key,Ke.props,null,Be.mode,zt),zt.ref=yf(Be,Oe,Ke),zt.return=Be,Be=zt)}return de(Be);case u:e:{for(Zn=Ke.key;Oe!==null;){if(Oe.key===Zn)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ke.containerInfo&&Oe.stateNode.implementation===Ke.implementation){T(Be,Oe.sibling),Oe=D(Oe,Ke.children||[]),Oe.return=Be,Be=Oe;break e}else{T(Be,Oe);break}else w(Be,Oe);Oe=Oe.sibling}Oe=Co(Ke,Be.mode,zt),Oe.return=Be,Be=Oe}return de(Be);case S:return Zn=Ke._init,io(Be,Oe,Zn(Ke._payload),zt)}if(J(Ke))return sn(Be,Oe,Ke,zt);if(A(Ke))return aa(Be,Oe,Ke,zt);dl(Be,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?(Ke=""+Ke,Oe!==null&&Oe.tag===6?(T(Be,Oe.sibling),Oe=D(Oe,Ke),Oe.return=Be,Be=Oe):(T(Be,Oe),Oe=sa(Ke,Be.mode,zt),Oe.return=Be,Be=Oe),de(Be)):T(Be,Oe)}return io}var vf=nA(!0),rA=nA(!1),Ql={},Oi=cn(Ql),xf=cn(Ql),bf=cn(Ql);function Jl(x){if(x===Ql)throw Error(o(174));return x}function Uw(x,w){Ft(bf,w),Ft(xf,x),Ft(Oi,Ql),x=ne(w),rn(Oi),Ft(Oi,x)}function wf(){rn(Oi),rn(xf),rn(bf)}function iA(x){var w=Jl(bf.current),T=Jl(Oi.current);w=$(T,x.type,w),T!==w&&(Ft(xf,x),Ft(Oi,w))}function Fu(x){xf.current===x&&(rn(Oi),rn(xf))}var Me=cn(0);function it(x){for(var w=x;w!==null;){if(w.tag===13){var T=w.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||Pi(T)||Lu(T)))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if(w.flags&128)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===x)break;for(;w.sibling===null;){if(w.return===null||w.return===x)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var Xe=[];function Ht(){for(var x=0;x<Xe.length;x++){var w=Xe[x];Ve?w._workInProgressVersionPrimary=null:w._workInProgressVersionSecondary=null}Xe.length=0}var Cn=l.ReactCurrentDispatcher,Vn=l.ReactCurrentBatchConfig,fi=0,An=null,bs=null,ws=null,ba=!1,Uu=!1,Bm=0,_f=0;function os(){throw Error(o(321))}function Sf(x,w){if(w===null)return!1;for(var T=0;T<w.length&&T<x.length;T++)if(!Kl(x[T],w[T]))return!1;return!0}function Tr(x,w,T,R,D,V){if(fi=V,An=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,Cn.current=x===null||x.memoizedState===null?Ym:Gw,x=T(R,D),Uu){V=0;do{if(Uu=!1,Bm=0,25<=V)throw Error(o(301));V+=1,ws=bs=null,w.updateQueue=null,Cn.current=Af,x=T(R,D)}while(Uu)}if(Cn.current=jf,w=bs!==null&&bs.next!==null,fi=0,ws=bs=An=null,ba=!1,w)throw Error(o(300));return x}function Bw(){var x=Bm!==0;return Bm=0,x}function ec(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ws===null?An.memoizedState=ws=x:ws=ws.next=x,ws}function Qa(){if(bs===null){var x=An.alternate;x=x!==null?x.memoizedState:null}else x=bs.next;var w=ws===null?An.memoizedState:ws.next;if(w!==null)ws=w,bs=x;else{if(x===null)throw Error(o(310));bs=x,x={memoizedState:bs.memoizedState,baseState:bs.baseState,baseQueue:bs.baseQueue,queue:bs.queue,next:null},ws===null?An.memoizedState=ws=x:ws=ws.next=x}return ws}function Vd(x,w){return typeof w=="function"?w(x):w}function Ov(x){var w=Qa(),T=w.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=x;var R=bs,D=R.baseQueue,V=T.pending;if(V!==null){if(D!==null){var de=D.next;D.next=V.next,V.next=de}R.baseQueue=D=V,T.pending=null}if(D!==null){V=D.next,R=R.baseState;var Pe=de=null,et=null,Et=V;do{var Xt=Et.lane;if((fi&Xt)===Xt)et!==null&&(et=et.next={lane:0,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),R=Et.hasEagerState?Et.eagerState:x(R,Et.action);else{var In={lane:Xt,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null};et===null?(Pe=et=In,de=R):et=et.next=In,An.lanes|=Xt,Of|=Xt}Et=Et.next}while(Et!==null&&Et!==V);et===null?de=R:et.next=Pe,Kl(R,w.memoizedState)||(Ja=!0),w.memoizedState=R,w.baseState=de,w.baseQueue=et,T.lastRenderedState=R}if(x=T.interleaved,x!==null){D=x;do V=D.lane,An.lanes|=V,Of|=V,D=D.next;while(D!==x)}else D===null&&(T.lanes=0);return[w.memoizedState,T.dispatch]}function Rv(x){var w=Qa(),T=w.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=x;var R=T.dispatch,D=T.pending,V=w.memoizedState;if(D!==null){T.pending=null;var de=D=D.next;do V=x(V,de.action),de=de.next;while(de!==D);Kl(V,w.memoizedState)||(Ja=!0),w.memoizedState=V,w.baseQueue===null&&(w.baseState=V),T.lastRenderedState=V}return[V,R]}function zm(){}function $c(x,w){var T=An,R=Qa(),D=w(),V=!Kl(R.memoizedState,D);if(V&&(R.memoizedState=D,Ja=!0),R=R.queue,Vm(Hm.bind(null,T,R,x),[x]),R.getSnapshot!==w||V||ws!==null&&ws.memoizedState.tag&1){if(T.flags|=2048,Bu(9,zw.bind(null,T,R,D,w),void 0,null),Zi===null)throw Error(o(349));fi&30||$m(T,w,D)}return D}function $m(x,w,T){x.flags|=16384,x={getSnapshot:w,value:T},w=An.updateQueue,w===null?(w={lastEffect:null,stores:null},An.updateQueue=w,w.stores=[x]):(T=w.stores,T===null?w.stores=[x]:T.push(x))}function zw(x,w,T,R){w.value=T,w.getSnapshot=R,$w(w)&&To(x,1,-1)}function Hm(x,w,T){return T(function(){$w(w)&&To(x,1,-1)})}function $w(x){var w=x.getSnapshot;x=x.value;try{var T=w();return!Kl(x,T)}catch{return!0}}function Iv(x){var w=ec();return typeof x=="function"&&(x=x()),w.memoizedState=w.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:x},w.queue=x,x=x.dispatch=Js.bind(null,An,x),[w.memoizedState,x]}function Bu(x,w,T,R){return x={tag:x,create:w,destroy:T,deps:R,next:null},w=An.updateQueue,w===null?(w={lastEffect:null,stores:null},An.updateQueue=w,w.lastEffect=x.next=x):(T=w.lastEffect,T===null?w.lastEffect=x.next=x:(R=T.next,T.next=x,x.next=R,w.lastEffect=x)),x}function Hw(){return Qa().memoizedState}function zu(x,w,T,R){var D=ec();An.flags|=x,D.memoizedState=Bu(1|w,T,void 0,R===void 0?null:R)}function tc(x,w,T,R){var D=Qa();R=R===void 0?null:R;var V=void 0;if(bs!==null){var de=bs.memoizedState;if(V=de.destroy,R!==null&&Sf(R,de.deps)){D.memoizedState=Bu(w,T,V,R);return}}An.flags|=x,D.memoizedState=Bu(1|w,T,V,R)}function Ef(x,w){return zu(8390656,8,x,w)}function Vm(x,w){return tc(2048,8,x,w)}function sA(x,w){return tc(4,2,x,w)}function aA(x,w){return tc(4,4,x,w)}function Wm(x,w){if(typeof w=="function")return x=x(),w(x),function(){w(null)};if(w!=null)return x=x(),w.current=x,function(){w.current=null}}function Gm(x,w,T){return T=T!=null?T.concat([x]):null,tc(4,4,Wm.bind(null,w,x),T)}function qm(){}function oA(x,w){var T=Qa();w=w===void 0?null:w;var R=T.memoizedState;return R!==null&&w!==null&&Sf(w,R[1])?R[0]:(T.memoizedState=[x,w],x)}function Vw(x,w){var T=Qa();w=w===void 0?null:w;var R=T.memoizedState;return R!==null&&w!==null&&Sf(w,R[1])?R[0]:(x=x(),T.memoizedState=[x,w],x)}function BO(x,w){var T=Nr;Nr=T!==0&&4>T?T:4,x(!0);var R=Vn.transition;Vn.transition={};try{x(!1),w()}finally{Nr=T,Vn.transition=R}}function lA(){return Qa().memoizedState}function ls(x,w,T){var R=ic(x);T={lane:R,action:T,hasEagerState:!1,eagerState:null,next:null},cA(x)?uA(w,T):(Ww(x,w,T),T=na(),x=To(x,R,T),x!==null&&dA(x,w,R))}function Js(x,w,T){var R=ic(x),D={lane:R,action:T,hasEagerState:!1,eagerState:null,next:null};if(cA(x))uA(w,D);else{Ww(x,w,D);var V=x.alternate;if(x.lanes===0&&(V===null||V.lanes===0)&&(V=w.lastRenderedReducer,V!==null))try{var de=w.lastRenderedState,Pe=V(de,T);if(D.hasEagerState=!0,D.eagerState=Pe,Kl(Pe,de))return}catch{}finally{}T=na(),x=To(x,R,T),x!==null&&dA(x,w,R)}}function cA(x){var w=x.alternate;return x===An||w!==null&&w===An}function uA(x,w){Uu=ba=!0;var T=x.pending;T===null?w.next=w:(w.next=T.next,T.next=w),x.pending=w}function Ww(x,w,T){Zi!==null&&x.mode&1&&!(Kn&2)?(x=w.interleaved,x===null?(T.next=T,Zl===null?Zl=[w]:Zl.push(w)):(T.next=x.next,x.next=T),w.interleaved=T):(x=w.pending,x===null?T.next=T:(T.next=x.next,x.next=T),w.pending=T)}function dA(x,w,T){if(T&4194240){var R=w.lanes;R&=x.pendingLanes,T|=R,w.lanes=T,Mw(x,T)}}var jf={readContext:hi,useCallback:os,useContext:os,useEffect:os,useImperativeHandle:os,useInsertionEffect:os,useLayoutEffect:os,useMemo:os,useReducer:os,useRef:os,useState:os,useDebugValue:os,useDeferredValue:os,useTransition:os,useMutableSource:os,useSyncExternalStore:os,useId:os,unstable_isNewReconciler:!1},Ym={readContext:hi,useCallback:function(x,w){return ec().memoizedState=[x,w===void 0?null:w],x},useContext:hi,useEffect:Ef,useImperativeHandle:function(x,w,T){return T=T!=null?T.concat([x]):null,zu(4194308,4,Wm.bind(null,w,x),T)},useLayoutEffect:function(x,w){return zu(4194308,4,x,w)},useInsertionEffect:function(x,w){return zu(4,2,x,w)},useMemo:function(x,w){var T=ec();return w=w===void 0?null:w,x=x(),T.memoizedState=[x,w],x},useReducer:function(x,w,T){var R=ec();return w=T!==void 0?T(w):w,R.memoizedState=R.baseState=w,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:w},R.queue=x,x=x.dispatch=ls.bind(null,An,x),[R.memoizedState,x]},useRef:function(x){var w=ec();return x={current:x},w.memoizedState=x},useState:Iv,useDebugValue:qm,useDeferredValue:function(x){var w=Iv(x),T=w[0],R=w[1];return Ef(function(){var D=Vn.transition;Vn.transition={};try{R(x)}finally{Vn.transition=D}},[x]),T},useTransition:function(){var x=Iv(!1),w=x[0];return x=BO.bind(null,x[1]),ec().memoizedState=x,[w,x]},useMutableSource:function(){},useSyncExternalStore:function(x,w,T){var R=An,D=ec();if(li){if(T===void 0)throw Error(o(407));T=T()}else{if(T=w(),Zi===null)throw Error(o(349));fi&30||$m(R,w,T)}D.memoizedState=T;var V={value:T,getSnapshot:w};return D.queue=V,Ef(Hm.bind(null,R,V,x),[x]),R.flags|=2048,Bu(9,zw.bind(null,R,V,T,w),void 0,null),T},useId:function(){var x=ec(),w=Zi.identifierPrefix;if(li){var T=cl,R=Bc;T=(R&~(1<<32-Ur(R)-1)).toString(32)+T,w=":"+w+"R"+T,T=Bm++,0<T&&(w+="H"+T.toString(32)),w+=":"}else T=_f++,w=":"+w+"r"+T.toString(32)+":";return x.memoizedState=w},unstable_isNewReconciler:!1},Gw={readContext:hi,useCallback:oA,useContext:hi,useEffect:Vm,useImperativeHandle:Gm,useInsertionEffect:sA,useLayoutEffect:aA,useMemo:Vw,useReducer:Ov,useRef:Hw,useState:function(){return Ov(Vd)},useDebugValue:qm,useDeferredValue:function(x){var w=Ov(Vd),T=w[0],R=w[1];return Vm(function(){var D=Vn.transition;Vn.transition={};try{R(x)}finally{Vn.transition=D}},[x]),T},useTransition:function(){var x=Ov(Vd)[0],w=Qa().memoizedState;return[x,w]},useMutableSource:zm,useSyncExternalStore:$c,useId:lA,unstable_isNewReconciler:!1},Af={readContext:hi,useCallback:oA,useContext:hi,useEffect:Vm,useImperativeHandle:Gm,useInsertionEffect:sA,useLayoutEffect:aA,useMemo:Vw,useReducer:Rv,useRef:Hw,useState:function(){return Rv(Vd)},useDebugValue:qm,useDeferredValue:function(x){var w=Rv(Vd),T=w[0],R=w[1];return Vm(function(){var D=Vn.transition;Vn.transition={};try{R(x)}finally{Vn.transition=D}},[x]),T},useTransition:function(){var x=Rv(Vd)[0],w=Qa().memoizedState;return[x,w]},useMutableSource:zm,useSyncExternalStore:$c,useId:lA,unstable_isNewReconciler:!1};function Wd(x,w){try{var T="",R=w;do T+=kw(R),R=R.return;while(R);var D=T}catch(V){D=`
Error generating stack: `+V.message+`
`+V.stack}return{value:x,source:w,stack:D}}function Gd(x,w){try{console.error(w.value)}catch(T){setTimeout(function(){throw T})}}var Lv=typeof WeakMap=="function"?WeakMap:Map;function qd(x,w,T){T=Qs(-1,T),T.tag=3,T.payload={element:null};var R=w.value;return T.callback=function(){ng||(ng=!0,Vv=R),Gd(x,w)},T}function hA(x,w,T){T=Qs(-1,T),T.tag=3;var R=x.type.getDerivedStateFromError;if(typeof R=="function"){var D=w.value;T.payload=function(){return R(D)},T.callback=function(){Gd(x,w)}}var V=x.stateNode;return V!==null&&typeof V.componentDidCatch=="function"&&(T.callback=function(){Gd(x,w),typeof R!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var de=w.stack;this.componentDidCatch(w.value,{componentStack:de!==null?de:""})}),T}function fA(x,w,T){var R=x.pingCache;if(R===null){R=x.pingCache=new Lv;var D=new Set;R.set(w,D)}else D=R.get(w),D===void 0&&(D=new Set,R.set(w,D));D.has(T)||(D.add(T),x=Xu.bind(null,x,w,T),w.then(x,x))}function pA(x){do{var w;if((w=x.tag===13)&&(w=x.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return x;x=x.return}while(x!==null);return null}function mA(x,w,T,R,D){return x.mode&1?(x.flags|=65536,x.lanes=D,x):(x===w?x.flags|=65536:(x.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(w=Qs(-1,1),w.tag=2,al(T,w))),T.lanes|=1),x)}function nc(x){x.flags|=4}function Xm(x,w){if(x!==null&&x.child===w.child)return!0;if(w.flags&16)return!1;for(x=w.child;x!==null;){if(x.flags&12854||x.subtreeFlags&12854)return!1;x=x.sibling}return!0}var Hc,Nf,ee,Vc;if(Ue)Hc=function(x,w){for(var T=w.child;T!==null;){if(T.tag===5||T.tag===6)fe(x,T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===w)break;for(;T.sibling===null;){if(T.return===null||T.return===w)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},Nf=function(){},ee=function(x,w,T,R,D){if(x=x.memoizedProps,x!==R){var V=w.stateNode,de=Jl(Oi.current);T=xe(V,T,x,R,D,de),(w.updateQueue=T)&&nc(w)}},Vc=function(x,w,T,R){T!==R&&nc(w)};else if(he){Hc=function(x,w,T,R){for(var D=w.child;D!==null;){if(D.tag===5){var V=D.stateNode;T&&R&&(V=pr(V,D.type,D.memoizedProps,D)),fe(x,V)}else if(D.tag===6)V=D.stateNode,T&&R&&(V=Ar(V,D.memoizedProps,D)),fe(x,V);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)V=D.child,V!==null&&(V.return=D),Hc(x,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===w)break;for(;D.sibling===null;){if(D.return===null||D.return===w)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var Km=function(x,w,T,R){for(var D=w.child;D!==null;){if(D.tag===5){var V=D.stateNode;T&&R&&(V=pr(V,D.type,D.memoizedProps,D)),Ot(x,V)}else if(D.tag===6)V=D.stateNode,T&&R&&(V=Ar(V,D.memoizedProps,D)),Ot(x,V);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)V=D.child,V!==null&&(V.return=D),Km(x,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===w)break;for(;D.sibling===null;){if(D.return===null||D.return===w)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};Nf=function(x,w){var T=w.stateNode;if(!Xm(x,w)){x=T.containerInfo;var R=Un(x);Km(R,w,!1,!1),T.pendingChildren=R,nc(w),hn(x,R)}},ee=function(x,w,T,R,D){var V=x.stateNode,de=x.memoizedProps;if((x=Xm(x,w))&&de===R)w.stateNode=V;else{var Pe=w.stateNode,et=Jl(Oi.current),Et=null;de!==R&&(Et=xe(Pe,T,de,R,D,et)),x&&Et===null?w.stateNode=V:(V=kt(V,Et,T,de,R,w,x,Pe),Q(V,T,R,D,et)&&nc(w),w.stateNode=V,x?nc(w):Hc(V,w,!1,!1))}},Vc=function(x,w,T,R){T!==R?(x=Jl(bf.current),T=Jl(Oi.current),w.stateNode=Re(R,x,T,w),nc(w)):w.stateNode=x.stateNode}}else Nf=function(){},ee=function(){},Vc=function(){};function ea(x,w){if(!li)switch(x.tailMode){case"hidden":w=x.tail;for(var T=null;w!==null;)w.alternate!==null&&(T=w),w=w.sibling;T===null?x.tail=null:T.sibling=null;break;case"collapsed":T=x.tail;for(var R=null;T!==null;)T.alternate!==null&&(R=T),T=T.sibling;R===null?w||x.tail===null?x.tail=null:x.tail.sibling=null:R.sibling=null}}function wn(x){var w=x.alternate!==null&&x.alternate.child===x.child,T=0,R=0;if(w)for(var D=x.child;D!==null;)T|=D.lanes|D.childLanes,R|=D.subtreeFlags&14680064,R|=D.flags&14680064,D.return=x,D=D.sibling;else for(D=x.child;D!==null;)T|=D.lanes|D.childLanes,R|=D.subtreeFlags,R|=D.flags,D.return=x,D=D.sibling;return x.subtreeFlags|=R,x.childLanes=T,w}function zO(x,w,T){var R=w.pendingProps;switch(va(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(w),null;case 1:return br(w.type)&&ki(),wn(w),null;case 3:return R=w.stateNode,wf(),rn(Bt),rn(Pn),Ht(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(x===null||x.child===null)&&(Dm(w)?nc(w):x===null||x.memoizedState.isDehydrated&&!(w.flags&256)||(w.flags|=1024,ul!==null&&(Qd(ul),ul=null))),Nf(x,w),wn(w),null;case 5:Fu(w),T=Jl(bf.current);var D=w.type;if(x!==null&&w.stateNode!=null)ee(x,w,D,R,T),x.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!R){if(w.stateNode===null)throw Error(o(166));return wn(w),null}if(x=Jl(Oi.current),Dm(w)){if(!te)throw Error(o(175));x=Y(w.stateNode,w.type,w.memoizedProps,T,x,w,!mf),w.updateQueue=x,x!==null&&nc(w)}else{var V=ce(D,R,T,x,w);Hc(V,w,!1,!1),w.stateNode=V,Q(V,D,R,T,x)&&nc(w)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return wn(w),null;case 6:if(x&&w.stateNode!=null)Vc(x,w,x.memoizedProps,R);else{if(typeof R!="string"&&w.stateNode===null)throw Error(o(166));if(x=Jl(bf.current),T=Jl(Oi.current),Dm(w)){if(!te)throw Error(o(176));if(x=w.stateNode,R=w.memoizedProps,(T=re(x,R,w,!mf))&&(D=xa,D!==null))switch(V=(D.mode&1)!==0,D.tag){case 3:De(D.stateNode.containerInfo,x,R,V);break;case 5:We(D.type,D.memoizedProps,D.stateNode,x,R,V)}T&&nc(w)}else w.stateNode=Re(R,x,T,w)}return wn(w),null;case 13:if(rn(Me),R=w.memoizedState,li&&Ls!==null&&w.mode&1&&!(w.flags&128)){for(x=Ls;x;)x=Zs(x);return gf(),w.flags|=98560,w}if(R!==null&&R.dehydrated!==null){if(R=Dm(w),x===null){if(!R)throw Error(o(318));if(!te)throw Error(o(344));if(x=w.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));Ee(x,w)}else gf(),!(w.flags&128)&&(w.memoizedState=null),w.flags|=4;return wn(w),null}return ul!==null&&(Qd(ul),ul=null),w.flags&128?(w.lanes=T,w):(R=R!==null,T=!1,x===null?Dm(w):T=x.memoizedState!==null,R&&!T&&(w.child.flags|=8192,w.mode&1&&(x===null||Me.current&1?Ui===0&&(Ui=3):Xv())),w.updateQueue!==null&&(w.flags|=4),wn(w),null);case 4:return wf(),Nf(x,w),x===null&&nt(w.stateNode.containerInfo),wn(w),null;case 10:return Tv(w.type._context),wn(w),null;case 17:return br(w.type)&&ki(),wn(w),null;case 19:if(rn(Me),D=w.memoizedState,D===null)return wn(w),null;if(R=(w.flags&128)!==0,V=D.rendering,V===null)if(R)ea(D,!1);else{if(Ui!==0||x!==null&&x.flags&128)for(x=w.child;x!==null;){if(V=it(x),V!==null){for(w.flags|=128,ea(D,!1),x=V.updateQueue,x!==null&&(w.updateQueue=x,w.flags|=4),w.subtreeFlags=0,x=T,R=w.child;R!==null;)T=R,D=x,T.flags&=14680066,V=T.alternate,V===null?(T.childLanes=0,T.lanes=D,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=V.childLanes,T.lanes=V.lanes,T.child=V.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=V.memoizedProps,T.memoizedState=V.memoizedState,T.updateQueue=V.updateQueue,T.type=V.type,D=V.dependencies,T.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),R=R.sibling;return Ft(Me,Me.current&1|2),w.child}x=x.sibling}D.tail!==null&&xs()>tg&&(w.flags|=128,R=!0,ea(D,!1),w.lanes=4194304)}else{if(!R)if(x=it(V),x!==null){if(w.flags|=128,R=!0,x=x.updateQueue,x!==null&&(w.updateQueue=x,w.flags|=4),ea(D,!0),D.tail===null&&D.tailMode==="hidden"&&!V.alternate&&!li)return wn(w),null}else 2*xs()-D.renderingStartTime>tg&&T!==1073741824&&(w.flags|=128,R=!0,ea(D,!1),w.lanes=4194304);D.isBackwards?(V.sibling=w.child,w.child=V):(x=D.last,x!==null?x.sibling=V:w.child=V,D.last=V)}return D.tail!==null?(w=D.tail,D.rendering=w,D.tail=w.sibling,D.renderingStartTime=xs(),w.sibling=null,x=Me.current,Ft(Me,R?x&1|2:x&1),w):(wn(w),null);case 22:case 23:return l_(),R=w.memoizedState!==null,x!==null&&x.memoizedState!==null!==R&&(w.flags|=8192),R&&w.mode&1?no&1073741824&&(wn(w),Ue&&w.subtreeFlags&6&&(w.flags|=8192)):wn(w),null;case 24:return null;case 25:return null}throw Error(o(156,w.tag))}var $O=l.ReactCurrentOwner,Ja=!1;function Di(x,w,T,R){w.child=x===null?rA(w,null,T,R):vf(w,x.child,T,R)}function gA(x,w,T,R,D){T=T.render;var V=w.ref;return $d(w,D),R=Tr(x,w,T,R,V,D),T=Bw(),x!==null&&!Ja?(w.updateQueue=x.updateQueue,w.flags&=-2053,x.lanes&=~D,cs(x,w,D)):(li&&T&&kv(w),w.flags|=1,Di(x,w,R,D),w.child)}function yA(x,w,T,R,D){if(x===null){var V=T.type;return typeof V=="function"&&!p_(V)&&V.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(w.tag=15,w.type=V,vA(x,w,V,R,D)):(x=Qv(T.type,null,R,w,w.mode,D),x.ref=w.ref,x.return=w,w.child=x)}if(V=x.child,!(x.lanes&D)){var de=V.memoizedProps;if(T=T.compare,T=T!==null?T:Ki,T(de,R)&&x.ref===w.ref)return cs(x,w,D)}return w.flags|=1,x=Gc(V,R),x.ref=w.ref,x.return=w,w.child=x}function vA(x,w,T,R,D){if(x!==null&&Ki(x.memoizedProps,R)&&x.ref===w.ref)if(Ja=!1,(x.lanes&D)!==0)x.flags&131072&&(Ja=!0);else return w.lanes=x.lanes,cs(x,w,D);return hl(x,w,T,R,D)}function xA(x,w,T){var R=w.pendingProps,D=R.children,V=x!==null?x.memoizedState:null;if(R.mode==="hidden")if(!(w.mode&1))w.memoizedState={baseLanes:0,cachePool:null},Ft(Pf,no),no|=T;else if(T&1073741824)w.memoizedState={baseLanes:0,cachePool:null},R=V!==null?V.baseLanes:T,Ft(Pf,no),no|=R;else return x=V!==null?V.baseLanes|T:T,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:x,cachePool:null},w.updateQueue=null,Ft(Pf,no),no|=x,null;else V!==null?(R=V.baseLanes|T,w.memoizedState=null):R=T,Ft(Pf,no),no|=R;return Di(x,w,D,T),w.child}function bA(x,w){var T=w.ref;(x===null&&T!==null||x!==null&&x.ref!==T)&&(w.flags|=512,w.flags|=2097152)}function hl(x,w,T,R,D){var V=br(T)?nr:Pn.current;return V=si(w,V),$d(w,D),T=Tr(x,w,T,R,V,D),R=Bw(),x!==null&&!Ja?(w.updateQueue=x.updateQueue,w.flags&=-2053,x.lanes&=~D,cs(x,w,D)):(li&&R&&kv(w),w.flags|=1,Di(x,w,T,D),w.child)}function wA(x,w,T,R,D){if(br(T)){var V=!0;_r(w)}else V=!1;if($d(w,D),w.stateNode===null)x!==null&&(x.alternate=null,w.alternate=null,w.flags|=2),Qj(w,T,R),ff(w,T,R,D),R=!0;else if(x===null){var de=w.stateNode,Pe=w.memoizedProps;de.props=Pe;var et=de.context,Et=T.contextType;typeof Et=="object"&&Et!==null?Et=hi(Et):(Et=br(T)?nr:Pn.current,Et=si(w,Et));var Xt=T.getDerivedStateFromProps,In=typeof Xt=="function"||typeof de.getSnapshotBeforeUpdate=="function";In||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Pe!==R||et!==Et)&&Lw(w,de,R,Et),as=!1;var mn=w.memoizedState;de.state=mn,ol(w,R,de,D),et=w.memoizedState,Pe!==R||mn!==et||Bt.current||as?(typeof Xt=="function"&&(Rm(w,T,Xt,R),et=w.memoizedState),(Pe=as||Zj(w,T,Pe,R,mn,et,Et))?(In||typeof de.UNSAFE_componentWillMount!="function"&&typeof de.componentWillMount!="function"||(typeof de.componentWillMount=="function"&&de.componentWillMount(),typeof de.UNSAFE_componentWillMount=="function"&&de.UNSAFE_componentWillMount()),typeof de.componentDidMount=="function"&&(w.flags|=4194308)):(typeof de.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=R,w.memoizedState=et),de.props=R,de.state=et,de.context=Et,R=Pe):(typeof de.componentDidMount=="function"&&(w.flags|=4194308),R=!1)}else{de=w.stateNode,Iw(x,w),Pe=w.memoizedProps,Et=w.type===w.elementType?Pe:Rs(w.type,Pe),de.props=Et,In=w.pendingProps,mn=de.context,et=T.contextType,typeof et=="object"&&et!==null?et=hi(et):(et=br(T)?nr:Pn.current,et=si(w,et));var $r=T.getDerivedStateFromProps;(Xt=typeof $r=="function"||typeof de.getSnapshotBeforeUpdate=="function")||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Pe!==In||mn!==et)&&Lw(w,de,R,et),as=!1,mn=w.memoizedState,de.state=mn,ol(w,R,de,D);var sn=w.memoizedState;Pe!==In||mn!==sn||Bt.current||as?(typeof $r=="function"&&(Rm(w,T,$r,R),sn=w.memoizedState),(Et=as||Zj(w,T,Et,R,mn,sn,et)||!1)?(Xt||typeof de.UNSAFE_componentWillUpdate!="function"&&typeof de.componentWillUpdate!="function"||(typeof de.componentWillUpdate=="function"&&de.componentWillUpdate(R,sn,et),typeof de.UNSAFE_componentWillUpdate=="function"&&de.UNSAFE_componentWillUpdate(R,sn,et)),typeof de.componentDidUpdate=="function"&&(w.flags|=4),typeof de.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof de.componentDidUpdate!="function"||Pe===x.memoizedProps&&mn===x.memoizedState||(w.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Pe===x.memoizedProps&&mn===x.memoizedState||(w.flags|=1024),w.memoizedProps=R,w.memoizedState=sn),de.props=R,de.state=sn,de.context=et,R=Et):(typeof de.componentDidUpdate!="function"||Pe===x.memoizedProps&&mn===x.memoizedState||(w.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Pe===x.memoizedProps&&mn===x.memoizedState||(w.flags|=1024),R=!1)}return qw(x,w,T,R,V,D)}function qw(x,w,T,R,D,V){bA(x,w);var de=(w.flags&128)!==0;if(!R&&!de)return D&&kn(w,T,!1),cs(x,w,V);R=w.stateNode,$O.current=w;var Pe=de&&typeof T.getDerivedStateFromError!="function"?null:R.render();return w.flags|=1,x!==null&&de?(w.child=vf(w,x.child,null,V),w.child=vf(w,null,Pe,V)):Di(x,w,Pe,V),w.memoizedState=R.state,D&&kn(w,T,!0),w.child}function _A(x){var w=x.stateNode;w.pendingContext?pn(x,w.pendingContext,w.pendingContext!==w.context):w.context&&pn(x,w.context,!1),Uw(x,w.containerInfo)}function SA(x,w,T,R,D){return gf(),Fm(D),w.flags|=256,Di(x,w,T,R),w.child}var Dv={dehydrated:null,treeContext:null,retryLane:0};function No(x){return{baseLanes:x,cachePool:null}}function EA(x,w,T){var R=w.pendingProps,D=Me.current,V=!1,de=(w.flags&128)!==0,Pe;if((Pe=de)||(Pe=x!==null&&x.memoizedState===null?!1:(D&2)!==0),Pe?(V=!0,w.flags&=-129):(x===null||x.memoizedState!==null)&&(D|=1),Ft(Me,D&1),x===null)return Fw(w),x=w.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?(w.mode&1?Lu(x)?w.lanes=8:w.lanes=1073741824:w.lanes=1,null):(D=R.children,x=R.fallback,V?(R=w.mode,V=w.child,D={mode:"hidden",children:D},!(R&1)&&V!==null?(V.childLanes=0,V.pendingProps=D):V=ag(D,R,0,null),x=Zu(x,R,T,null),V.return=w,x.return=w,V.sibling=x,w.child=V,w.child.memoizedState=No(T),w.memoizedState=Dv,x):Yw(w,D));if(D=x.memoizedState,D!==null){if(Pe=D.dehydrated,Pe!==null){if(de)return w.flags&256?(w.flags&=-257,Fv(x,w,T,Error(o(422)))):w.memoizedState!==null?(w.child=x.child,w.flags|=128,null):(V=R.fallback,D=w.mode,R=ag({mode:"visible",children:R.children},D,0,null),V=Zu(V,D,T,null),V.flags|=2,R.return=w,V.return=w,R.sibling=V,w.child=R,w.mode&1&&vf(w,x.child,null,T),w.child.memoizedState=No(T),w.memoizedState=Dv,V);if(!(w.mode&1))w=Fv(x,w,T,null);else if(Lu(Pe))w=Fv(x,w,T,Error(o(419)));else if(R=(T&x.childLanes)!==0,Ja||R){if(R=Zi,R!==null){switch(T&-T){case 4:V=2;break;case 16:V=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:V=32;break;case 536870912:V=268435456;break;default:V=0}R=V&(R.suspendedLanes|T)?0:V,R!==0&&R!==D.retryLane&&(D.retryLane=R,To(x,R,-1))}Xv(),w=Fv(x,w,T,Error(o(421)))}else Pi(Pe)?(w.flags|=128,w.child=x.child,w=Ku.bind(null,x),ql(Pe,w),w=null):(T=D.treeContext,te&&(Ls=of(Pe),xa=w,li=!0,ul=null,mf=!1,T!==null&&(Ma[Ca++]=Bc,Ma[Ca++]=cl,Ma[Ca++]=Du,Bc=T.id,cl=T.overflow,Du=w)),w=Yw(w,w.pendingProps.children),w.flags|=4096);return w}return V?(R=AA(x,w,R.children,R.fallback,T),V=w.child,D=x.child.memoizedState,V.memoizedState=D===null?No(T):{baseLanes:D.baseLanes|T,cachePool:null},V.childLanes=x.childLanes&~T,w.memoizedState=Dv,R):(T=jA(x,w,R.children,T),w.memoizedState=null,T)}return V?(R=AA(x,w,R.children,R.fallback,T),V=w.child,D=x.child.memoizedState,V.memoizedState=D===null?No(T):{baseLanes:D.baseLanes|T,cachePool:null},V.childLanes=x.childLanes&~T,w.memoizedState=Dv,R):(T=jA(x,w,R.children,T),w.memoizedState=null,T)}function Yw(x,w){return w=ag({mode:"visible",children:w},x.mode,0,null),w.return=x,x.child=w}function jA(x,w,T,R){var D=x.child;return x=D.sibling,T=Gc(D,{mode:"visible",children:T}),!(w.mode&1)&&(T.lanes=R),T.return=w,T.sibling=null,x!==null&&(R=w.deletions,R===null?(w.deletions=[x],w.flags|=16):R.push(x)),w.child=T}function AA(x,w,T,R,D){var V=w.mode;x=x.child;var de=x.sibling,Pe={mode:"hidden",children:T};return!(V&1)&&w.child!==x?(T=w.child,T.childLanes=0,T.pendingProps=Pe,w.deletions=null):(T=Gc(x,Pe),T.subtreeFlags=x.subtreeFlags&14680064),de!==null?R=Gc(de,R):(R=Zu(R,V,D,null),R.flags|=2),R.return=w,T.return=w,T.sibling=R,w.child=T,R}function Fv(x,w,T,R){return R!==null&&Fm(R),vf(w,x.child,null,T),x=Yw(w,w.pendingProps.children),x.flags|=2,w.memoizedState=null,x}function $u(x,w,T){x.lanes|=w;var R=x.alternate;R!==null&&(R.lanes|=w),Mv(x.return,w,T)}function Xw(x,w,T,R,D){var V=x.memoizedState;V===null?x.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:R,tail:T,tailMode:D}:(V.isBackwards=w,V.rendering=null,V.renderingStartTime=0,V.last=R,V.tail=T,V.tailMode=D)}function NA(x,w,T){var R=w.pendingProps,D=R.revealOrder,V=R.tail;if(Di(x,w,R.children,T),R=Me.current,R&2)R=R&1|2,w.flags|=128;else{if(x!==null&&x.flags&128)e:for(x=w.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&$u(x,T,w);else if(x.tag===19)$u(x,T,w);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===w)break e;for(;x.sibling===null;){if(x.return===null||x.return===w)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}R&=1}if(Ft(Me,R),!(w.mode&1))w.memoizedState=null;else switch(D){case"forwards":for(T=w.child,D=null;T!==null;)x=T.alternate,x!==null&&it(x)===null&&(D=T),T=T.sibling;T=D,T===null?(D=w.child,w.child=null):(D=T.sibling,T.sibling=null),Xw(w,!1,D,T,V);break;case"backwards":for(T=null,D=w.child,w.child=null;D!==null;){if(x=D.alternate,x!==null&&it(x)===null){w.child=D;break}x=D.sibling,D.sibling=T,T=D,D=x}Xw(w,!0,T,null,V);break;case"together":Xw(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function cs(x,w,T){if(x!==null&&(w.dependencies=x.dependencies),Of|=w.lanes,!(T&w.childLanes))return null;if(x!==null&&w.child!==x.child)throw Error(o(153));if(w.child!==null){for(x=w.child,T=Gc(x,x.pendingProps),w.child=T,T.return=w;x.sibling!==null;)x=x.sibling,T=T.sibling=Gc(x,x.pendingProps),T.return=w;T.sibling=null}return w.child}function HO(x,w,T){switch(w.tag){case 3:_A(w),gf();break;case 5:iA(w);break;case 1:br(w.type)&&_r(w);break;case 4:Uw(w,w.stateNode.containerInfo);break;case 10:Ow(w,w.type._context,w.memoizedProps.value);break;case 13:var R=w.memoizedState;if(R!==null)return R.dehydrated!==null?(Ft(Me,Me.current&1),w.flags|=128,null):T&w.child.childLanes?EA(x,w,T):(Ft(Me,Me.current&1),x=cs(x,w,T),x!==null?x.sibling:null);Ft(Me,Me.current&1);break;case 19:if(R=(T&w.childLanes)!==0,x.flags&128){if(R)return NA(x,w,T);w.flags|=128}var D=w.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Ft(Me,Me.current),R)break;return null;case 22:case 23:return w.lanes=0,xA(x,w,T)}return cs(x,w,T)}function VO(x,w){switch(va(w),w.tag){case 1:return br(w.type)&&ki(),x=w.flags,x&65536?(w.flags=x&-65537|128,w):null;case 3:return wf(),rn(Bt),rn(Pn),Ht(),x=w.flags,x&65536&&!(x&128)?(w.flags=x&-65537|128,w):null;case 5:return Fu(w),null;case 13:if(rn(Me),x=w.memoizedState,x!==null&&x.dehydrated!==null){if(w.alternate===null)throw Error(o(340));gf()}return x=w.flags,x&65536?(w.flags=x&-65537|128,w):null;case 19:return rn(Me),null;case 4:return wf(),null;case 10:return Tv(w.type._context),null;case 22:case 23:return l_(),null;case 24:return null;default:return null}}var Uv=!1,Yd=!1,WO=typeof WeakSet=="function"?WeakSet:Set,It=null;function Zm(x,w){var T=x.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(R){ia(x,w,R)}else T.current=null}function Kw(x,w,T){try{T()}catch(R){ia(x,w,R)}}var TA=!1;function Zw(x,w){for(Z(x.containerInfo),It=w;It!==null;)if(x=It,w=x.child,(x.subtreeFlags&1028)!==0&&w!==null)w.return=x,It=w;else for(;It!==null;){x=It;try{var T=x.alternate;if(x.flags&1024)switch(x.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var R=T.memoizedProps,D=T.memoizedState,V=x.stateNode,de=V.getSnapshotBeforeUpdate(x.elementType===x.type?R:Rs(x.type,R),D);V.__reactInternalSnapshotBeforeUpdate=de}break;case 3:Ue&&Tt(x.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Pe){ia(x,x.return,Pe)}if(w=x.sibling,w!==null){w.return=x.return,It=w;break}It=x.return}return T=TA,TA=!1,T}function fl(x,w,T){var R=w.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var D=R=R.next;do{if((D.tag&x)===x){var V=D.destroy;D.destroy=void 0,V!==void 0&&Kw(w,T,V)}D=D.next}while(D!==R)}}function Hu(x,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&x)===x){var R=T.create;T.destroy=R()}T=T.next}while(T!==w)}}function Qw(x){var w=x.ref;if(w!==null){var T=x.stateNode;switch(x.tag){case 5:x=K(T);break;default:x=T}typeof w=="function"?w(x):w.current=x}}function Jw(x,w,T){if(Xl&&typeof Xl.onCommitFiberUnmount=="function")try{Xl.onCommitFiberUnmount(Ev,w)}catch{}switch(w.tag){case 0:case 11:case 14:case 15:if(x=w.updateQueue,x!==null&&(x=x.lastEffect,x!==null)){var R=x=x.next;do{var D=R,V=D.destroy;D=D.tag,V!==void 0&&(D&2||D&4)&&Kw(w,T,V),R=R.next}while(R!==x)}break;case 1:if(Zm(w,T),x=w.stateNode,typeof x.componentWillUnmount=="function")try{x.props=w.memoizedProps,x.state=w.memoizedState,x.componentWillUnmount()}catch(de){ia(w,T,de)}break;case 5:Zm(w,T);break;case 4:Ue?t_(x,w,T):he&&he&&(w=w.stateNode.containerInfo,T=Un(w),Vt(w,T))}}function MA(x,w,T){for(var R=w;;)if(Jw(x,R,T),R.child===null||Ue&&R.tag===4){if(R===w)break;for(;R.sibling===null;){if(R.return===null||R.return===w)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function rc(x){var w=x.alternate;w!==null&&(x.alternate=null,rc(w)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(w=x.stateNode,w!==null&&rt(w)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function Bv(x){return x.tag===5||x.tag===3||x.tag===4}function Vu(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||Bv(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function eo(x){if(Ue){e:{for(var w=x.return;w!==null;){if(Bv(w))break e;w=w.return}throw Error(o(160))}var T=w;switch(T.tag){case 5:w=T.stateNode,T.flags&32&&(Qe(w),T.flags&=-33),T=Vu(x),zv(x,T,w);break;case 3:case 4:w=T.stateNode.containerInfo,T=Vu(x),e_(x,T,w);break;default:throw Error(o(161))}}}function e_(x,w,T){var R=x.tag;if(R===5||R===6)x=x.stateNode,w?gt(T,x,w):_t(T,x);else if(R!==4&&(x=x.child,x!==null))for(e_(x,w,T),x=x.sibling;x!==null;)e_(x,w,T),x=x.sibling}function zv(x,w,T){var R=x.tag;if(R===5||R===6)x=x.stateNode,w?Rt(T,x,w):$e(T,x);else if(R!==4&&(x=x.child,x!==null))for(zv(x,w,T),x=x.sibling;x!==null;)zv(x,w,T),x=x.sibling}function t_(x,w,T){for(var R=w,D=!1,V,de;;){if(!D){D=R.return;e:for(;;){if(D===null)throw Error(o(160));switch(V=D.stateNode,D.tag){case 5:de=!1;break e;case 3:V=V.containerInfo,de=!0;break e;case 4:V=V.containerInfo,de=!0;break e}D=D.return}D=!0}if(R.tag===5||R.tag===6)MA(x,R,T),de?ge(V,R.stateNode):fn(V,R.stateNode);else if(R.tag===18)de?ye(V,R.stateNode):be(V,R.stateNode);else if(R.tag===4){if(R.child!==null){V=R.stateNode.containerInfo,de=!0,R.child.return=R,R=R.child;continue}}else if(Jw(x,R,T),R.child!==null){R.child.return=R,R=R.child;continue}if(R===w)break;for(;R.sibling===null;){if(R.return===null||R.return===w)return;R=R.return,R.tag===4&&(D=!1)}R.sibling.return=R.return,R=R.sibling}}function Xd(x,w){if(Ue){switch(w.tag){case 0:case 11:case 14:case 15:fl(3,w,w.return),Hu(3,w),fl(5,w,w.return);return;case 1:return;case 5:var T=w.stateNode;if(T!=null){var R=w.memoizedProps;x=x!==null?x.memoizedProps:R;var D=w.type,V=w.updateQueue;w.updateQueue=null,V!==null&&qt(T,V,D,x,R,w)}return;case 6:if(w.stateNode===null)throw Error(o(162));T=w.memoizedProps,Ze(w.stateNode,x!==null?x.memoizedProps:T,T);return;case 3:te&&x!==null&&x.memoizedState.isDehydrated&&G(w.stateNode.containerInfo);return;case 12:return;case 13:pl(w);return;case 19:pl(w);return;case 17:return}throw Error(o(163))}switch(w.tag){case 0:case 11:case 14:case 15:fl(3,w,w.return),Hu(3,w),fl(5,w,w.return);return;case 12:return;case 13:pl(w);return;case 19:pl(w);return;case 3:te&&x!==null&&x.memoizedState.isDehydrated&&G(w.stateNode.containerInfo);break;case 22:case 23:return}e:if(he){switch(w.tag){case 1:case 5:case 6:break e;case 3:case 4:w=w.stateNode,Vt(w.containerInfo,w.pendingChildren);break e}throw Error(o(163))}}function pl(x){var w=x.updateQueue;if(w!==null){x.updateQueue=null;var T=x.stateNode;T===null&&(T=x.stateNode=new WO),w.forEach(function(R){var D=DA.bind(null,x,R);T.has(R)||(T.add(R),R.then(D,D))})}}function CA(x,w){for(It=w;It!==null;){w=It;var T=w.deletions;if(T!==null)for(var R=0;R<T.length;R++){var D=T[R];try{var V=x;Ue?t_(V,D,w):MA(V,D,w);var de=D.alternate;de!==null&&(de.return=null),D.return=null}catch(an){ia(D,w,an)}}if(T=w.child,w.subtreeFlags&12854&&T!==null)T.return=w,It=T;else for(;It!==null;){w=It;try{var Pe=w.flags;if(Pe&32&&Ue&&Qe(w.stateNode),Pe&512){var et=w.alternate;if(et!==null){var Et=et.ref;Et!==null&&(typeof Et=="function"?Et(null):Et.current=null)}}if(Pe&8192)switch(w.tag){case 13:if(w.memoizedState!==null){var Xt=w.alternate;(Xt===null||Xt.memoizedState===null)&&(a_=xs())}break;case 22:var In=w.memoizedState!==null,mn=w.alternate,$r=mn!==null&&mn.memoizedState!==null;if(T=w,Ue){e:if(R=T,D=In,V=null,Ue)for(var sn=R;;){if(sn.tag===5){if(V===null){V=sn;var aa=sn.stateNode;D?ue(aa):Se(sn.stateNode,sn.memoizedProps)}}else if(sn.tag===6){if(V===null){var io=sn.stateNode;D?pt(io):st(io,sn.memoizedProps)}}else if((sn.tag!==22&&sn.tag!==23||sn.memoizedState===null||sn===R)&&sn.child!==null){sn.child.return=sn,sn=sn.child;continue}if(sn===R)break;for(;sn.sibling===null;){if(sn.return===null||sn.return===R)break e;V===sn&&(V=null),sn=sn.return}V===sn&&(V=null),sn.sibling.return=sn.return,sn=sn.sibling}}if(In&&!$r&&T.mode&1){It=T;for(var Be=T.child;Be!==null;){for(T=It=Be;It!==null;){R=It;var Oe=R.child;switch(R.tag){case 0:case 11:case 14:case 15:fl(4,R,R.return);break;case 1:Zm(R,R.return);var Ke=R.stateNode;if(typeof Ke.componentWillUnmount=="function"){var zt=R.return;try{Ke.props=R.memoizedProps,Ke.state=R.memoizedState,Ke.componentWillUnmount()}catch(an){ia(R,zt,an)}}break;case 5:Zm(R,R.return);break;case 22:if(R.memoizedState!==null){n_(T);continue}}Oe!==null?(Oe.return=R,It=Oe):n_(T)}Be=Be.sibling}}}switch(Pe&4102){case 2:eo(w),w.flags&=-3;break;case 6:eo(w),w.flags&=-3,Xd(w.alternate,w);break;case 4096:w.flags&=-4097;break;case 4100:w.flags&=-4097,Xd(w.alternate,w);break;case 4:Xd(w.alternate,w)}}catch(an){ia(w,w.return,an)}if(T=w.sibling,T!==null){T.return=w.return,It=T;break}It=w.return}}}function GO(x,w,T){It=x,Qm(x)}function Qm(x,w,T){for(var R=(x.mode&1)!==0;It!==null;){var D=It,V=D.child;if(D.tag===22&&R){var de=D.memoizedState!==null||Uv;if(!de){var Pe=D.alternate,et=Pe!==null&&Pe.memoizedState!==null||Yd;Pe=Uv;var Et=Yd;if(Uv=de,(Yd=et)&&!Et)for(It=D;It!==null;)de=It,et=de.child,de.tag===22&&de.memoizedState!==null?_s(D):et!==null?(et.return=de,It=et):_s(D);for(;V!==null;)It=V,Qm(V),V=V.sibling;It=D,Uv=Pe,Yd=Et}PA(x)}else D.subtreeFlags&8772&&V!==null?(V.return=D,It=V):PA(x)}}function PA(x){for(;It!==null;){var w=It;if(w.flags&8772){var T=w.alternate;try{if(w.flags&8772)switch(w.tag){case 0:case 11:case 15:Yd||Hu(5,w);break;case 1:var R=w.stateNode;if(w.flags&4&&!Yd)if(T===null)R.componentDidMount();else{var D=w.elementType===w.type?T.memoizedProps:Rs(w.type,T.memoizedProps);R.componentDidUpdate(D,T.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var V=w.updateQueue;V!==null&&Cv(w,V,R);break;case 3:var de=w.updateQueue;if(de!==null){if(T=null,w.child!==null)switch(w.child.tag){case 5:T=K(w.child.stateNode);break;case 1:T=w.child.stateNode}Cv(w,de,T)}break;case 5:var Pe=w.stateNode;T===null&&w.flags&4&&wt(Pe,w.type,w.memoizedProps,w);break;case 6:break;case 4:break;case 12:break;case 13:if(te&&w.memoizedState===null){var et=w.alternate;if(et!==null){var Et=et.memoizedState;if(Et!==null){var Xt=Et.dehydrated;Xt!==null&&se(Xt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Yd||w.flags&512&&Qw(w)}catch(In){ia(w,w.return,In)}}if(w===x){It=null;break}if(T=w.sibling,T!==null){T.return=w.return,It=T;break}It=w.return}}function n_(x){for(;It!==null;){var w=It;if(w===x){It=null;break}var T=w.sibling;if(T!==null){T.return=w.return,It=T;break}It=w.return}}function _s(x){for(;It!==null;){var w=It;try{switch(w.tag){case 0:case 11:case 15:var T=w.return;try{Hu(4,w)}catch(et){ia(w,T,et)}break;case 1:var R=w.stateNode;if(typeof R.componentDidMount=="function"){var D=w.return;try{R.componentDidMount()}catch(et){ia(w,D,et)}}var V=w.return;try{Qw(w)}catch(et){ia(w,V,et)}break;case 5:var de=w.return;try{Qw(w)}catch(et){ia(w,de,et)}}}catch(et){ia(w,w.return,et)}if(w===x){It=null;break}var Pe=w.sibling;if(Pe!==null){Pe.return=w.return,It=Pe;break}It=w.return}}var Tf=0,Jm=1,to=2,Mf=3,Kd=4;if(typeof Symbol=="function"&&Symbol.for){var ml=Symbol.for;Tf=ml("selector.component"),Jm=ml("selector.has_pseudo_class"),to=ml("selector.role"),Mf=ml("selector.test_id"),Kd=ml("selector.text")}function $v(x){var w=ze(x);if(w!=null){if(typeof w.memoizedProps["data-testname"]!="string")throw Error(o(364));return w}if(x=z(x),x===null)throw Error(o(362));return x.stateNode.current}function Ds(x,w){switch(w.$$typeof){case Tf:if(x.type===w.value)return!0;break;case Jm:e:{w=w.value,x=[x,0];for(var T=0;T<x.length;){var R=x[T++],D=x[T++],V=w[D];if(R.tag!==5||!Ne(R)){for(;V!=null&&Ds(R,V);)D++,V=w[D];if(D===w.length){w=!0;break e}else for(R=R.child;R!==null;)x.push(R,D),R=R.sibling}}w=!1}return w;case to:if(x.tag===5&&we(x.stateNode,w.value))return!0;break;case Kd:if((x.tag===5||x.tag===6)&&(x=je(x),x!==null&&0<=x.indexOf(w.value)))return!0;break;case Mf:if(x.tag===5&&(x=x.memoizedProps["data-testname"],typeof x=="string"&&x.toLowerCase()===w.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function eg(x){switch(x.$$typeof){case Tf:return"<"+(M(x.value)||"Unknown")+">";case Jm:return":has("+(eg(x)||"")+")";case to:return'[role="'+x.value+'"]';case Kd:return'"'+x.value+'"';case Mf:return'[data-testname="'+x.value+'"]';default:throw Error(o(365))}}function kA(x,w){var T=[];x=[x,0];for(var R=0;R<x.length;){var D=x[R++],V=x[R++],de=w[V];if(D.tag!==5||!Ne(D)){for(;de!=null&&Ds(D,de);)V++,de=w[V];if(V===w.length)T.push(D);else for(D=D.child;D!==null;)x.push(D,V),D=D.sibling}}return T}function r_(x,w){if(!H)throw Error(o(363));x=$v(x),x=kA(x,w),w=[],x=Array.from(x);for(var T=0;T<x.length;){var R=x[T++];if(R.tag===5)Ne(R)||w.push(R.stateNode);else for(R=R.child;R!==null;)x.push(R),R=R.sibling}return w}var qO=Math.ceil,Cf=l.ReactCurrentDispatcher,i_=l.ReactCurrentOwner,ci=l.ReactCurrentBatchConfig,Kn=0,Zi=null,Qi=null,Fi=0,no=0,Pf=cn(0),Ui=0,kf=null,Of=0,Hv=0,s_=0,Rf=null,ta=null,a_=0,tg=1/0;function Zd(){tg=xs()+500}var ng=!1,Vv=null,gl=null,Wv=!1,Wc=null,rg=0,ig=0,Gv=null,qv=-1,If=0;function na(){return Kn&6?xs():qv!==-1?qv:qv=xs()}function ic(x){return x.mode&1?Kn&2&&Fi!==0?Fi&-Fi:UO.transition!==null?(If===0&&(x=lf,lf<<=1,!(lf&4194240)&&(lf=64),If=x),If):(x=Nr,x!==0?x:Je()):1}function To(x,w,T){if(50<ig)throw ig=0,Gv=null,Error(o(185));var R=Lf(x,w);return R===null?null:(uf(R,w,T),(!(Kn&2)||R!==Zi)&&(R===Zi&&(!(Kn&2)&&(Hv|=w),Ui===4&&Wu(R,Fi)),bn(R,T),w===1&&Kn===0&&!(x.mode&1)&&(Zd(),jv&&sl())),R)}function Lf(x,w){x.lanes|=w;var T=x.alternate;for(T!==null&&(T.lanes|=w),T=x,x=x.return;x!==null;)x.childLanes|=w,T=x.alternate,T!==null&&(T.childLanes|=w),T=x,x=x.return;return T.tag===3?T.stateNode:null}function bn(x,w){var T=x.callbackNode;OO(x,w);var R=Pm(x,x===Zi?Fi:0);if(R===0)T!==null&&Yj(T),x.callbackNode=null,x.callbackPriority=0;else if(w=R&-R,x.callbackPriority!==w){if(T!=null&&Yj(T),w===1)x.tag===0?FO(IA.bind(null,x)):Xj(IA.bind(null,x)),Pt?bt(function(){Kn===0&&sl()}):Sv(km,sl),T=null;else{switch(qj(R)){case 1:T=km;break;case 4:T=LO;break;case 16:T=Cw;break;case 536870912:T=DO;break;default:T=Cw}T=Zv(T,OA.bind(null,x))}x.callbackPriority=w,x.callbackNode=T}}function OA(x,w){if(qv=-1,If=0,Kn&6)throw Error(o(327));var T=x.callbackNode;if(Yu()&&x.callbackNode!==T)return null;var R=Pm(x,x===Zi?Fi:0);if(R===0)return null;if(R&30||R&x.expiredLanes||w)w=ra(x,R);else{w=R;var D=Kn;Kn|=2;var V=c_();(Zi!==x||Fi!==w)&&(Zd(),sc(x,w));do try{u_();break}catch(Pe){Yv(x,Pe)}while(!0);Nv(),Cf.current=V,Kn=D,Qi!==null?w=0:(Zi=null,Fi=0,w=Ui)}if(w!==0){if(w===2&&(D=wv(x),D!==0&&(R=D,w=o_(x,D))),w===1)throw T=kf,sc(x,0),Wu(x,R),bn(x,xs()),T;if(w===6)Wu(x,R);else{if(D=x.current.alternate,!(R&30)&&!RA(D)&&(w=ra(x,R),w===2&&(V=wv(x),V!==0&&(R=V,w=o_(x,V))),w===1))throw T=kf,sc(x,0),Wu(x,R),bn(x,xs()),T;switch(x.finishedWork=D,x.finishedLanes=R,w){case 0:case 1:throw Error(o(345));case 2:qu(x,ta);break;case 3:if(Wu(x,R),(R&130023424)===R&&(w=a_+500-xs(),10<w)){if(Pm(x,0)!==0)break;if(D=x.suspendedLanes,(D&R)!==R){na(),x.pingedLanes|=x.suspendedLanes&D;break}x.timeoutHandle=Ce(qu.bind(null,x,ta),w);break}qu(x,ta);break;case 4:if(Wu(x,R),(R&4194240)===R)break;for(w=x.eventTimes,D=-1;0<R;){var de=31-Ur(R);V=1<<de,de=w[de],de>D&&(D=de),R&=~V}if(R=D,R=xs()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*qO(R/1960))-R,10<R){x.timeoutHandle=Ce(qu.bind(null,x,ta),R);break}qu(x,ta);break;case 5:qu(x,ta);break;default:throw Error(o(329))}}}return bn(x,xs()),x.callbackNode===T?OA.bind(null,x):null}function o_(x,w){var T=Rf;return x.current.memoizedState.isDehydrated&&(sc(x,w).flags|=256),x=ra(x,w),x!==2&&(w=ta,ta=T,w!==null&&Qd(w)),x}function Qd(x){ta===null?ta=x:ta.push.apply(ta,x)}function RA(x){for(var w=x;;){if(w.flags&16384){var T=w.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var R=0;R<T.length;R++){var D=T[R],V=D.getSnapshot;D=D.value;try{if(!Kl(V(),D))return!1}catch{return!1}}}if(T=w.child,w.subtreeFlags&16384&&T!==null)T.return=w,w=T;else{if(w===x)break;for(;w.sibling===null;){if(w.return===null||w.return===x)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function Wu(x,w){for(w&=~s_,w&=~Hv,x.suspendedLanes|=w,x.pingedLanes&=~w,x=x.expirationTimes;0<w;){var T=31-Ur(w),R=1<<T;x[T]=-1,w&=~R}}function IA(x){if(Kn&6)throw Error(o(327));Yu();var w=Pm(x,0);if(!(w&1))return bn(x,xs()),null;var T=ra(x,w);if(x.tag!==0&&T===2){var R=wv(x);R!==0&&(w=R,T=o_(x,R))}if(T===1)throw T=kf,sc(x,0),Wu(x,w),bn(x,xs()),T;if(T===6)throw Error(o(345));return x.finishedWork=x.current.alternate,x.finishedLanes=w,qu(x,ta),bn(x,xs()),null}function ro(x){Wc!==null&&Wc.tag===0&&!(Kn&6)&&Yu();var w=Kn;Kn|=1;var T=ci.transition,R=Nr;try{if(ci.transition=null,Nr=1,x)return x()}finally{Nr=R,ci.transition=T,Kn=w,!(Kn&6)&&sl()}}function l_(){no=Pf.current,rn(Pf)}function sc(x,w){x.finishedWork=null,x.finishedLanes=0;var T=x.timeoutHandle;if(T!==Fe&&(x.timeoutHandle=Fe,tt(T)),Qi!==null)for(T=Qi.return;T!==null;){var R=T;switch(va(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&ki();break;case 3:wf(),rn(Bt),rn(Pn),Ht();break;case 5:Fu(R);break;case 4:wf();break;case 13:rn(Me);break;case 19:rn(Me);break;case 10:Tv(R.type._context);break;case 22:case 23:l_()}T=T.return}if(Zi=x,Qi=x=Gc(x.current,null),Fi=no=w,Ui=0,kf=null,s_=Hv=Of=0,ta=Rf=null,Zl!==null){for(w=0;w<Zl.length;w++)if(T=Zl[w],R=T.interleaved,R!==null){T.interleaved=null;var D=R.next,V=T.pending;if(V!==null){var de=V.next;V.next=D,R.next=de}T.pending=R}Zl=null}return x}function Yv(x,w){do{var T=Qi;try{if(Nv(),Cn.current=jf,ba){for(var R=An.memoizedState;R!==null;){var D=R.queue;D!==null&&(D.pending=null),R=R.next}ba=!1}if(fi=0,ws=bs=An=null,Uu=!1,Bm=0,i_.current=null,T===null||T.return===null){Ui=1,kf=w,Qi=null;break}e:{var V=x,de=T.return,Pe=T,et=w;if(w=Fi,Pe.flags|=32768,et!==null&&typeof et=="object"&&typeof et.then=="function"){var Et=et,Xt=Pe,In=Xt.tag;if(!(Xt.mode&1)&&(In===0||In===11||In===15)){var mn=Xt.alternate;mn?(Xt.updateQueue=mn.updateQueue,Xt.memoizedState=mn.memoizedState,Xt.lanes=mn.lanes):(Xt.updateQueue=null,Xt.memoizedState=null)}var $r=pA(de);if($r!==null){$r.flags&=-257,mA($r,de,Pe,V,w),$r.mode&1&&fA(V,Et,w),w=$r,et=Et;var sn=w.updateQueue;if(sn===null){var aa=new Set;aa.add(et),w.updateQueue=aa}else sn.add(et);break e}else{if(!(w&1)){fA(V,Et,w),Xv();break e}et=Error(o(426))}}else if(li&&Pe.mode&1){var io=pA(de);if(io!==null){!(io.flags&65536)&&(io.flags|=256),mA(io,de,Pe,V,w),Fm(et);break e}}V=et,Ui!==4&&(Ui=2),Rf===null?Rf=[V]:Rf.push(V),et=Wd(et,Pe),Pe=de;do{switch(Pe.tag){case 3:Pe.flags|=65536,w&=-w,Pe.lanes|=w;var Be=qd(Pe,et,w);oi(Pe,Be);break e;case 1:V=et;var Oe=Pe.type,Ke=Pe.stateNode;if(!(Pe.flags&128)&&(typeof Oe.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(gl===null||!gl.has(Ke)))){Pe.flags|=65536,w&=-w,Pe.lanes|=w;var zt=hA(Pe,V,w);oi(Pe,zt);break e}}Pe=Pe.return}while(Pe!==null)}sg(T)}catch(an){w=an,Qi===T&&T!==null&&(Qi=T=T.return);continue}break}while(!0)}function c_(){var x=Cf.current;return Cf.current=jf,x===null?jf:x}function Xv(){(Ui===0||Ui===3||Ui===2)&&(Ui=4),Zi===null||!(Of&268435455)&&!(Hv&268435455)||Wu(Zi,Fi)}function ra(x,w){var T=Kn;Kn|=2;var R=c_();Zi===x&&Fi===w||sc(x,w);do try{Gu();break}catch(D){Yv(x,D)}while(!0);if(Nv(),Kn=T,Cf.current=R,Qi!==null)throw Error(o(261));return Zi=null,Fi=0,Ui}function Gu(){for(;Qi!==null;)d_(Qi)}function u_(){for(;Qi!==null&&!RO();)d_(Qi)}function d_(x){var w=f_(x.alternate,x,no);x.memoizedProps=x.pendingProps,w===null?sg(x):Qi=w,i_.current=null}function sg(x){var w=x;do{var T=w.alternate;if(x=w.return,w.flags&32768){if(T=VO(T,w),T!==null){T.flags&=32767,Qi=T;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{Ui=6,Qi=null;return}}else if(T=zO(T,w,no),T!==null){Qi=T;return}if(w=w.sibling,w!==null){Qi=w;return}Qi=w=x}while(w!==null);Ui===0&&(Ui=5)}function qu(x,w){var T=Nr,R=ci.transition;try{ci.transition=null,Nr=1,h_(x,w,T)}finally{ci.transition=R,Nr=T}return null}function h_(x,w,T){do Yu();while(Wc!==null);if(Kn&6)throw Error(o(327));var R=x.finishedWork,D=x.finishedLanes;if(R===null)return null;if(x.finishedWork=null,x.finishedLanes=0,R===x.current)throw Error(o(177));x.callbackNode=null,x.callbackPriority=0;var V=R.lanes|R.childLanes;if(Gj(x,V),x===Zi&&(Qi=Zi=null,Fi=0),!(R.subtreeFlags&2064)&&!(R.flags&2064)||Wv||(Wv=!0,Zv(Cw,function(){return Yu(),null})),V=(R.flags&15990)!==0,R.subtreeFlags&15990||V){V=ci.transition,ci.transition=null;var de=Nr;Nr=1;var Pe=Kn;Kn|=4,i_.current=null,Zw(x,R),CA(x,R),B(x.containerInfo),x.current=R,GO(R),IO(),Kn=Pe,Nr=de,ci.transition=V}else x.current=R;if(Wv&&(Wv=!1,Wc=x,rg=D),V=x.pendingLanes,V===0&&(gl=null),ai(R.stateNode),bn(x,xs()),w!==null)for(T=x.onRecoverableError,R=0;R<w.length;R++)T(w[R]);if(ng)throw ng=!1,x=Vv,Vv=null,x;return rg&1&&x.tag!==0&&Yu(),V=x.pendingLanes,V&1?x===Gv?ig++:(ig=0,Gv=x):ig=0,sl(),null}function Yu(){if(Wc!==null){var x=qj(rg),w=ci.transition,T=Nr;try{if(ci.transition=null,Nr=16>x?16:x,Wc===null)var R=!1;else{if(x=Wc,Wc=null,rg=0,Kn&6)throw Error(o(331));var D=Kn;for(Kn|=4,It=x.current;It!==null;){var V=It,de=V.child;if(It.flags&16){var Pe=V.deletions;if(Pe!==null){for(var et=0;et<Pe.length;et++){var Et=Pe[et];for(It=Et;It!==null;){var Xt=It;switch(Xt.tag){case 0:case 11:case 15:fl(8,Xt,V)}var In=Xt.child;if(In!==null)In.return=Xt,It=In;else for(;It!==null;){Xt=It;var mn=Xt.sibling,$r=Xt.return;if(rc(Xt),Xt===Et){It=null;break}if(mn!==null){mn.return=$r,It=mn;break}It=$r}}}var sn=V.alternate;if(sn!==null){var aa=sn.child;if(aa!==null){sn.child=null;do{var io=aa.sibling;aa.sibling=null,aa=io}while(aa!==null)}}It=V}}if(V.subtreeFlags&2064&&de!==null)de.return=V,It=de;else e:for(;It!==null;){if(V=It,V.flags&2048)switch(V.tag){case 0:case 11:case 15:fl(9,V,V.return)}var Be=V.sibling;if(Be!==null){Be.return=V.return,It=Be;break e}It=V.return}}var Oe=x.current;for(It=Oe;It!==null;){de=It;var Ke=de.child;if(de.subtreeFlags&2064&&Ke!==null)Ke.return=de,It=Ke;else e:for(de=Oe;It!==null;){if(Pe=It,Pe.flags&2048)try{switch(Pe.tag){case 0:case 11:case 15:Hu(9,Pe)}}catch(an){ia(Pe,Pe.return,an)}if(Pe===de){It=null;break e}var zt=Pe.sibling;if(zt!==null){zt.return=Pe.return,It=zt;break e}It=Pe.return}}if(Kn=D,sl(),Xl&&typeof Xl.onPostCommitFiberRoot=="function")try{Xl.onPostCommitFiberRoot(Ev,x)}catch{}R=!0}return R}finally{Nr=T,ci.transition=w}}return!1}function Kv(x,w,T){w=Wd(T,w),w=qd(x,w,1),al(x,w),w=na(),x=Lf(x,1),x!==null&&(uf(x,1,w),bn(x,w))}function ia(x,w,T){if(x.tag===3)Kv(x,x,T);else for(;w!==null;){if(w.tag===3){Kv(w,x,T);break}else if(w.tag===1){var R=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(gl===null||!gl.has(R))){x=Wd(T,x),x=hA(w,x,1),al(w,x),x=na(),w=Lf(w,1),w!==null&&(uf(w,1,x),bn(w,x));break}}w=w.return}}function Xu(x,w,T){var R=x.pingCache;R!==null&&R.delete(w),w=na(),x.pingedLanes|=x.suspendedLanes&T,Zi===x&&(Fi&T)===T&&(Ui===4||Ui===3&&(Fi&130023424)===Fi&&500>xs()-a_?sc(x,0):s_|=T),bn(x,w)}function LA(x,w){w===0&&(x.mode&1?(w=cf,cf<<=1,!(cf&130023424)&&(cf=4194304)):w=1);var T=na();x=Lf(x,w),x!==null&&(uf(x,w,T),bn(x,T))}function Ku(x){var w=x.memoizedState,T=0;w!==null&&(T=w.retryLane),LA(x,T)}function DA(x,w){var T=0;switch(x.tag){case 13:var R=x.stateNode,D=x.memoizedState;D!==null&&(T=D.retryLane);break;case 19:R=x.stateNode;break;default:throw Error(o(314))}R!==null&&R.delete(w),LA(x,T)}var f_;f_=function(x,w,T){if(x!==null)if(x.memoizedProps!==w.pendingProps||Bt.current)Ja=!0;else{if(!(x.lanes&T)&&!(w.flags&128))return Ja=!1,HO(x,w,T);Ja=!!(x.flags&131072)}else Ja=!1,li&&w.flags&1048576&&Jj(w,Lm,w.index);switch(w.lanes=0,w.tag){case 2:var R=w.type;x!==null&&(x.alternate=null,w.alternate=null,w.flags|=2),x=w.pendingProps;var D=si(w,Pn.current);$d(w,T),D=Tr(null,w,R,x,D,T);var V=Bw();return w.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,br(R)?(V=!0,_r(w)):V=!1,w.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Rw(w),D.updater=Pv,w.stateNode=D,D._reactInternals=w,ff(w,R,x,T),w=qw(null,w,R,!0,V,T)):(w.tag=0,li&&V&&kv(w),Di(null,w,D,T),w=w.child),w;case 16:R=w.elementType;e:{switch(x!==null&&(x.alternate=null,w.alternate=null,w.flags|=2),x=w.pendingProps,D=R._init,R=D(R._payload),w.type=R,D=w.tag=FA(R),x=Rs(R,x),D){case 0:w=hl(null,w,R,x,T);break e;case 1:w=wA(null,w,R,x,T);break e;case 11:w=gA(null,w,R,x,T);break e;case 14:w=yA(null,w,R,Rs(R.type,x),T);break e}throw Error(o(306,R,""))}return w;case 0:return R=w.type,D=w.pendingProps,D=w.elementType===R?D:Rs(R,D),hl(x,w,R,D,T);case 1:return R=w.type,D=w.pendingProps,D=w.elementType===R?D:Rs(R,D),wA(x,w,R,D,T);case 3:e:{if(_A(w),x===null)throw Error(o(387));R=w.pendingProps,V=w.memoizedState,D=V.element,Iw(x,w),ol(w,R,null,T);var de=w.memoizedState;if(R=de.element,te&&V.isDehydrated)if(V={element:R,isDehydrated:!1,cache:de.cache,transitions:de.transitions},w.updateQueue.baseState=V,w.memoizedState=V,w.flags&256){D=Error(o(423)),w=SA(x,w,R,T,D);break e}else if(R!==D){D=Error(o(424)),w=SA(x,w,R,T,D);break e}else for(te&&(Ls=Fc(w.stateNode.containerInfo),xa=w,li=!0,ul=null,mf=!1),T=rA(w,null,R,T),w.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(gf(),R===D){w=cs(x,w,T);break e}Di(x,w,R,T)}w=w.child}return w;case 5:return iA(w),x===null&&Fw(w),R=w.type,D=w.pendingProps,V=x!==null?x.memoizedProps:null,de=D.children,ke(R,D)?de=null:V!==null&&ke(R,V)&&(w.flags|=32),bA(x,w),Di(x,w,de,T),w.child;case 6:return x===null&&Fw(w),null;case 13:return EA(x,w,T);case 4:return Uw(w,w.stateNode.containerInfo),R=w.pendingProps,x===null?w.child=vf(w,null,R,T):Di(x,w,R,T),w.child;case 11:return R=w.type,D=w.pendingProps,D=w.elementType===R?D:Rs(R,D),gA(x,w,R,D,T);case 7:return Di(x,w,w.pendingProps,T),w.child;case 8:return Di(x,w,w.pendingProps.children,T),w.child;case 12:return Di(x,w,w.pendingProps.children,T),w.child;case 10:e:{if(R=w.type._context,D=w.pendingProps,V=w.memoizedProps,de=D.value,Ow(w,R,de),V!==null)if(Kl(V.value,de)){if(V.children===D.children&&!Bt.current){w=cs(x,w,T);break e}}else for(V=w.child,V!==null&&(V.return=w);V!==null;){var Pe=V.dependencies;if(Pe!==null){de=V.child;for(var et=Pe.firstContext;et!==null;){if(et.context===R){if(V.tag===1){et=Qs(-1,T&-T),et.tag=2;var Et=V.updateQueue;if(Et!==null){Et=Et.shared;var Xt=Et.pending;Xt===null?et.next=et:(et.next=Xt.next,Xt.next=et),Et.pending=et}}V.lanes|=T,et=V.alternate,et!==null&&(et.lanes|=T),Mv(V.return,T,w),Pe.lanes|=T;break}et=et.next}}else if(V.tag===10)de=V.type===w.type?null:V.child;else if(V.tag===18){if(de=V.return,de===null)throw Error(o(341));de.lanes|=T,Pe=de.alternate,Pe!==null&&(Pe.lanes|=T),Mv(de,T,w),de=V.sibling}else de=V.child;if(de!==null)de.return=V;else for(de=V;de!==null;){if(de===w){de=null;break}if(V=de.sibling,V!==null){V.return=de.return,de=V;break}de=de.return}V=de}Di(x,w,D.children,T),w=w.child}return w;case 9:return D=w.type,R=w.pendingProps.children,$d(w,T),D=hi(D),R=R(D),w.flags|=1,Di(x,w,R,T),w.child;case 14:return R=w.type,D=Rs(R,w.pendingProps),D=Rs(R.type,D),yA(x,w,R,D,T);case 15:return vA(x,w,w.type,w.pendingProps,T);case 17:return R=w.type,D=w.pendingProps,D=w.elementType===R?D:Rs(R,D),x!==null&&(x.alternate=null,w.alternate=null,w.flags|=2),w.tag=1,br(R)?(x=!0,_r(w)):x=!1,$d(w,T),Qj(w,R,D),ff(w,R,D,T),qw(null,w,R,!0,x,T);case 19:return NA(x,w,T);case 22:return xA(x,w,T)}throw Error(o(156,w.tag))};function Zv(x,w){return Sv(x,w)}function YO(x,w,T,R){this.tag=x,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mo(x,w,T,R){return new YO(x,w,T,R)}function p_(x){return x=x.prototype,!(!x||!x.isReactComponent)}function FA(x){if(typeof x=="function")return p_(x)?1:0;if(x!=null){if(x=x.$$typeof,x===y)return 11;if(x===_)return 14}return 2}function Gc(x,w){var T=x.alternate;return T===null?(T=Mo(x.tag,w,x.key,x.mode),T.elementType=x.elementType,T.type=x.type,T.stateNode=x.stateNode,T.alternate=x,x.alternate=T):(T.pendingProps=w,T.type=x.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=x.flags&14680064,T.childLanes=x.childLanes,T.lanes=x.lanes,T.child=x.child,T.memoizedProps=x.memoizedProps,T.memoizedState=x.memoizedState,T.updateQueue=x.updateQueue,w=x.dependencies,T.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},T.sibling=x.sibling,T.index=x.index,T.ref=x.ref,T}function Qv(x,w,T,R,D,V){var de=2;if(R=x,typeof x=="function")p_(x)&&(de=1);else if(typeof x=="string")de=5;else e:switch(x){case d:return Zu(T.children,D,V,w);case h:de=8,D|=8;break;case f:return x=Mo(12,T,w,D|2),x.elementType=f,x.lanes=V,x;case b:return x=Mo(13,T,w,D),x.elementType=b,x.lanes=V,x;case v:return x=Mo(19,T,w,D),x.elementType=v,x.lanes=V,x;case j:return ag(T,D,V,w);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case p:de=10;break e;case m:de=9;break e;case y:de=11;break e;case _:de=14;break e;case S:de=16,R=null;break e}throw Error(o(130,x==null?x:typeof x,""))}return w=Mo(de,T,w,D),w.elementType=x,w.type=R,w.lanes=V,w}function Zu(x,w,T,R){return x=Mo(7,x,R,w),x.lanes=T,x}function ag(x,w,T,R){return x=Mo(22,x,R,w),x.elementType=j,x.lanes=T,x.stateNode={},x}function sa(x,w,T){return x=Mo(6,x,null,w),x.lanes=T,x}function Co(x,w,T){return w=Mo(4,x.children!==null?x.children:[],x.key,w),w.lanes=T,w.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},w}function XO(x,w,T,R,D){this.tag=w,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Fe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_v(0),this.expirationTimes=_v(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_v(0),this.identifierPrefix=R,this.onRecoverableError=D,te&&(this.mutableSourceEagerHydrationData=null)}function UA(x,w,T,R,D,V,de,Pe,et){return x=new XO(x,w,T,Pe,et),w===1?(w=1,V===!0&&(w|=8)):w=0,V=Mo(3,null,null,w),x.current=V,V.stateNode=x,V.memoizedState={element:R,isDehydrated:T,cache:null,transitions:null},Rw(V),x}function og(x){if(!x)return St;x=x._reactInternals;e:{if(L(x)!==x||x.tag!==1)throw Error(o(170));var w=x;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(br(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(o(171))}if(x.tag===1){var T=x.type;if(br(T))return Fr(x,T,w)}return w}function Jd(x){var w=x._reactInternals;if(w===void 0)throw typeof x.render=="function"?Error(o(188)):(x=Object.keys(x).join(","),Error(o(268,x)));return x=U(w),x===null?null:x.stateNode}function m_(x,w){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var T=x.retryLane;x.retryLane=T!==0&&T<w?T:w}}function Jv(x,w){m_(x,w),(x=x.alternate)&&m_(x,w)}function KO(x){return x=U(x),x===null?null:x.stateNode}function BA(){return null}return n.attemptContinuousHydration=function(x){if(x.tag===13){var w=na();To(x,134217728,w),Jv(x,134217728)}},n.attemptHydrationAtCurrentPriority=function(x){if(x.tag===13){var w=na(),T=ic(x);To(x,T,w),Jv(x,T)}},n.attemptSynchronousHydration=function(x){switch(x.tag){case 3:var w=x.stateNode;if(w.current.memoizedState.isDehydrated){var T=Yl(w.pendingLanes);T!==0&&(Mw(w,T|1),bn(w,xs()),!(Kn&6)&&(Zd(),sl()))}break;case 13:var R=na();ro(function(){return To(x,1,R)}),Jv(x,1)}},n.batchedUpdates=function(x,w){var T=Kn;Kn|=1;try{return x(w)}finally{Kn=T,Kn===0&&(Zd(),jv&&sl())}},n.createComponentSelector=function(x){return{$$typeof:Tf,value:x}},n.createContainer=function(x,w,T,R,D,V,de){return UA(x,w,!1,null,T,R,D,V,de)},n.createHasPseudoClassSelector=function(x){return{$$typeof:Jm,value:x}},n.createHydrationContainer=function(x,w,T,R,D,V,de,Pe,et){return x=UA(T,R,!0,x,D,V,de,Pe,et),x.context=og(null),T=x.current,R=na(),D=ic(T),V=Qs(R,D),V.callback=w??null,al(T,V),x.current.lanes=D,uf(x,D,R),bn(x,R),x},n.createPortal=function(x,w,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:R==null?null:""+R,children:x,containerInfo:w,implementation:T}},n.createRoleSelector=function(x){return{$$typeof:to,value:x}},n.createTestNameSelector=function(x){return{$$typeof:Mf,value:x}},n.createTextSelector=function(x){return{$$typeof:Kd,value:x}},n.deferredUpdates=function(x){var w=Nr,T=ci.transition;try{return ci.transition=null,Nr=16,x()}finally{Nr=w,ci.transition=T}},n.discreteUpdates=function(x,w,T,R,D){var V=Nr,de=ci.transition;try{return ci.transition=null,Nr=1,x(w,T,R,D)}finally{Nr=V,ci.transition=de,Kn===0&&Zd()}},n.findAllNodes=r_,n.findBoundingRects=function(x,w){if(!H)throw Error(o(363));w=r_(x,w),x=[];for(var T=0;T<w.length;T++)x.push(oe(w[T]));for(w=x.length-1;0<w;w--){T=x[w];for(var R=T.x,D=R+T.width,V=T.y,de=V+T.height,Pe=w-1;0<=Pe;Pe--)if(w!==Pe){var et=x[Pe],Et=et.x,Xt=Et+et.width,In=et.y,mn=In+et.height;if(R>=Et&&V>=In&&D<=Xt&&de<=mn){x.splice(w,1);break}else if(R!==Et||T.width!==et.width||mn<V||In>de){if(!(V!==In||T.height!==et.height||Xt<R||Et>D)){Et>R&&(et.width+=Et-R,et.x=R),Xt<D&&(et.width=D-Et),x.splice(w,1);break}}else{In>V&&(et.height+=In-V,et.y=V),mn<de&&(et.height=de-In),x.splice(w,1);break}}}return x},n.findHostInstance=Jd,n.findHostInstanceWithNoPortals=function(x){return x=I(x),x=x!==null?q(x):null,x===null?null:x.stateNode},n.findHostInstanceWithWarning=function(x){return Jd(x)},n.flushControlled=function(x){var w=Kn;Kn|=1;var T=ci.transition,R=Nr;try{ci.transition=null,Nr=1,x()}finally{Nr=R,ci.transition=T,Kn=w,Kn===0&&(Zd(),sl())}},n.flushPassiveEffects=Yu,n.flushSync=ro,n.focusWithin=function(x,w){if(!H)throw Error(o(363));for(x=$v(x),w=kA(x,w),w=Array.from(w),x=0;x<w.length;){var T=w[x++];if(!Ne(T)){if(T.tag===5&&me(T.stateNode))return!0;for(T=T.child;T!==null;)w.push(T),T=T.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Nr},n.getFindAllNodesFailureDescription=function(x,w){if(!H)throw Error(o(363));var T=0,R=[];x=[$v(x),0];for(var D=0;D<x.length;){var V=x[D++],de=x[D++],Pe=w[de];if((V.tag!==5||!Ne(V))&&(Ds(V,Pe)&&(R.push(eg(Pe)),de++,de>T&&(T=de)),de<w.length))for(V=V.child;V!==null;)x.push(V,de),V=V.sibling}if(T<w.length){for(x=[];T<w.length;T++)x.push(eg(w[T]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+x.join(" > ")}return null},n.getPublicRootInstance=function(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return K(x.child.stateNode);default:return x.child.stateNode}},n.injectIntoDevTools=function(x){if(x={bundleType:x.bundleType,version:x.version,rendererPackageName:x.rendererPackageName,rendererConfig:x.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:KO,findFiberByHostInstance:x.findFiberByHostInstance||BA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")x=!1;else{var w=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(w.isDisabled||!w.supportsFiber)x=!0;else{try{Ev=w.inject(x),Xl=w}catch{}x=!!w.checkDCE}}return x},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(x,w,T,R){if(!H)throw Error(o(363));x=r_(x,w);var D=Ae(x,T,R).disconnect;return{disconnect:function(){D()}}},n.registerMutableSourceForHydration=function(x,w){var T=w._getVersion;T=T(w._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[w,T]:x.mutableSourceEagerHydrationData.push(w,T)},n.runWithPriority=function(x,w){var T=Nr;try{return Nr=x,w()}finally{Nr=T}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(x,w,T,R){var D=w.current,V=na(),de=ic(D);return T=og(T),w.context===null?w.context=T:w.pendingContext=T,w=Qs(V,de),w.payload={element:x},R=R===void 0?null:R,R!==null&&(w.callback=R),al(D,w),x=To(D,de,V),x!==null&&hf(x,D,de),de},n};Gie.exports=TIe;var MIe=Gie.exports;const CIe=jr(MIe);var qie={exports:{}},Yie={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Z){var B=$.length;$.push(Z);e:for(;0<B;){var ce=B-1>>>1,fe=$[ce];if(0<i(fe,Z))$[ce]=Z,$[B]=fe,B=ce;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],B=$.pop();if(B!==Z){$[0]=B;e:for(var ce=0,fe=$.length,Q=fe>>>1;ce<Q;){var xe=2*(ce+1)-1,ke=$[xe],Re=xe+1,Ce=$[Re];if(0>i(ke,B))Re<fe&&0>i(Ce,ke)?($[ce]=Ce,$[Re]=B,ce=Re):($[ce]=ke,$[xe]=B,ce=xe);else if(Re<fe&&0>i(Ce,B))$[ce]=Ce,$[Re]=B,ce=Re;else break e}}return Z}function i($,Z){var B=$.sortIndex-Z.sortIndex;return B!==0?B:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=$)r(u),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(u)}}function j($){if(y=!1,S($),!m)if(n(c)!==null)m=!0,K(N);else{var Z=n(u);Z!==null&&ne(j,Z.startTime-$)}}function N($,Z){m=!1,y&&(y=!1,v(k),k=-1),p=!0;var B=f;try{for(S(Z),h=n(c);h!==null&&(!(h.expirationTime>Z)||$&&!I());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,f=h.priorityLevel;var fe=ce(h.expirationTime<=Z);Z=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(c)&&r(c),S(Z)}else r(c);h=n(c)}if(h!==null)var Q=!0;else{var xe=n(u);xe!==null&&ne(j,xe.startTime-Z),Q=!1}return Q}finally{h=null,f=B,p=!1}}var A=!1,M=null,k=-1,L=5,O=-1;function I(){return!(t.unstable_now()-O<L)}function U(){if(M!==null){var $=t.unstable_now();O=$;var Z=!0;try{Z=M(!0,$)}finally{Z?W():(A=!1,M=null)}}else A=!1}var W;if(typeof _=="function")W=function(){_(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,J=q.port2;q.port1.onmessage=U,W=function(){J.postMessage(null)}}else W=function(){b(U,0)};function K($){M=$,A||(A=!0,W())}function ne($,Z){k=b(function(){$(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,K(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var B=f;f=Z;try{return $()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=f;f=$;try{return Z()}finally{f=B}},t.unstable_scheduleCallback=function($,Z,B){var ce=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ce+B:ce):B=ce,$){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=B+fe,$={id:d++,callback:Z,priorityLevel:$,startTime:B,expirationTime:fe,sortIndex:-1},B>ce?($.sortIndex=B,e(u,$),n(c)===null&&$===n(u)&&(y?(v(k),k=-1):y=!0,ne(j,B-ce))):($.sortIndex=fe,e(c,$),m||p||(m=!0,K(N))),$},t.unstable_shouldYield=I,t.unstable_wrapCallback=function($){var Z=f;return function(){var B=f;f=Z;try{return $.apply(this,arguments)}finally{f=B}}}})(Yie);qie.exports=Yie;var zG=qie.exports;const az={},Xie=t=>void Object.assign(az,t);function PIe(t,e){function n(d,{args:h=[],attach:f,...p},m){let y=`${d[0].toUpperCase()}${d.slice(1)}`,b;if(d==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=p.object;b=$x(v,{type:d,root:m,attach:f,primitive:!0})}else{const v=az[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");b=$x(new v(...h),{type:d,root:m,attach:f,memoizedProps:{args:h}})}return b.__r3f.attach===void 0&&(b.isBufferGeometry?b.__r3f.attach="geometry":b.isMaterial&&(b.__r3f.attach="material")),y!=="inject"&&fL(b,p),b}function r(d,h){let f=!1;if(h){var p,m;(p=h.__r3f)!=null&&p.attach?hL(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),f=!0),f||(m=d.__r3f)==null||m.objects.push(h),h.__r3f||$x(h,{}),h.__r3f.parent=d,k4(h),Hx(h)}}function i(d,h,f){let p=!1;if(h){var m,y;if((m=h.__r3f)!=null&&m.attach)hL(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:h});const b=d.children.filter(_=>_!==h),v=b.indexOf(f);d.children=[...b.slice(0,v),h,...b.slice(v)],p=!0}p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||$x(h,{}),h.__r3f.parent=d,k4(h),Hx(h)}}function s(d,h,f=!1){d&&[...d].forEach(p=>o(h,p,f))}function o(d,h,f){if(h){var p,m,y;if(h.__r3f&&(h.__r3f.parent=null),(p=d.__r3f)!=null&&p.objects&&(d.__r3f.objects=d.__r3f.objects.filter(j=>j!==h)),(m=h.__r3f)!=null&&m.attach)GG(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var b;d.remove(h),(b=h.__r3f)!=null&&b.root&&FIe(xM(h),h)}const _=(y=h.__r3f)==null?void 0:y.primitive,S=!_&&(f===void 0?h.dispose!==null:f);if(!_){var v;s((v=h.__r3f)==null?void 0:v.objects,h,S),s(h.children,h,S)}if(delete h.__r3f,S&&h.dispose&&h.type!=="Scene"){const j=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?zG.unstable_scheduleCallback(zG.unstable_IdlePriority,j):j()}Hx(d)}}function l(d,h,f,p){var m;const y=(m=d.__r3f)==null?void 0:m.parent;if(!y)return;const b=n(h,f,d.__r3f.root);if(d.children){for(const v of d.children)v.__r3f&&r(b,v);d.children=d.children.filter(v=>!v.__r3f)}d.__r3f.objects.forEach(v=>r(b,v)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(y,d),b.parent&&(b.__r3f.autoRemovedBeforeAppend=!0),r(y,b),b.raycast&&b.__r3f.eventCount&&xM(b).getState().internal.interaction.push(b),[p,p.alternate].forEach(v=>{v!==null&&(v.stateNode=b,v.ref&&(typeof v.ref=="function"?v.ref(b):v.ref.current=b))})}const c=()=>{};return{reconciler:CIe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const f=d.getState().scene;f.__r3f&&(f.__r3f.root=d,r(f,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,f)=>{if(!h||!f)return;const p=d.getState().scene;p.__r3f&&i(p,h,f)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,f,p){var m;if(((m=d==null?void 0:d.__r3f)!=null?m:{}).primitive&&p.object&&p.object!==d)return[!0];{const{args:b=[],children:v,..._}=p,{args:S=[],children:j,...N}=f;if(!Array.isArray(b))throw new Error("R3F: the args prop must be an array!");if(b.some((M,k)=>M!==S[k]))return[!0];const A=nse(d,_,N,!0);return A.changes.length?[!1,A]:null}},commitUpdate(d,[h,f],p,m,y,b){h?l(d,p,y,b):fL(d,f)},commitMount(d,h,f,p){var m;const y=(m=d.__r3f)!=null?m:{};d.raycast&&y.handlers&&y.eventCount&&xM(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>$x(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:f,parent:p}=(h=d.__r3f)!=null?h:{};f&&p&&GG(p,d,f),d.isObject3D&&(d.visible=!1),Hx(d)},unhideInstance(d,h){var f;const{attach:p,parent:m}=(f=d.__r3f)!=null?f:{};p&&m&&hL(m,d,p),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),Hx(d)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():u0.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&vi.fun(performance.now)?performance.now:vi.fun(Date.now)?Date.now:()=>0,scheduleTimeout:vi.fun(setTimeout)?setTimeout:void 0,cancelTimeout:vi.fun(clearTimeout)?clearTimeout:void 0}),applyProps:fL}}var $G,HG;const dL=t=>"colorSpace"in t||"outputColorSpace"in t,Kie=()=>{var t;return(t=az.ColorManagement)!=null?t:null},Zie=t=>t&&t.isOrthographicCamera,kIe=t=>t&&t.hasOwnProperty("current"),Aj=typeof window<"u"&&(($G=window.document)!=null&&$G.createElement||((HG=window.navigator)==null?void 0:HG.product)==="ReactNative")?C.useLayoutEffect:C.useEffect;function Qie(t){const e=C.useRef(t);return Aj(()=>void(e.current=t),[t]),e}function OIe({set:t}){return Aj(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}let Jie=class extends C.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};Jie.getDerivedStateFromError=()=>({error:!0});const ese="__default",VG=new Map,RIe=t=>t&&!!t.memoized&&!!t.changes;function tse(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const V_=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function xM(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const vi={obj:t=>t===Object(t)&&!vi.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(vi.str(t)||vi.num(t)||vi.boo(t))return t===e;const s=vi.obj(t);if(s&&r==="reference")return t===e;const o=vi.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let l;for(l in t)if(!(l in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(l in i?e:t)if(!vi.equ(t[l],e[l],{strict:i,objects:"reference"}))return!1}else for(l in i?e:t)if(t[l]!==e[l])return!1;if(vi.und(l)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function IIe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function LIe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function $x(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function P4(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const WG=/-\d+$/;function hL(t,e,n){if(vi.str(n)){if(WG.test(n)){const s=n.replace(WG,""),{target:o,key:l}=P4(t,s);Array.isArray(o[l])||(o[l]=[])}const{target:r,key:i}=P4(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function GG(t,e,n){var r,i;if(vi.str(n)){const{target:s,key:o}=P4(t,n),l=e.__r3f.previousAttach;l===void 0?delete s[o]:s[o]=l}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function nse(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:l,...c}={},u=!1){const d=t.__r3f,h=Object.entries(i),f=[];if(u){const m=Object.keys(c);for(let y=0;y<m.length;y++)i.hasOwnProperty(m[y])||h.unshift([m[y],ese+"remove"])}h.forEach(([m,y])=>{var b;if((b=t.__r3f)!=null&&b.primitive&&m==="object"||vi.equ(y,c[m]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(m))return f.push([m,y,!0,[]]);let v=[];m.includes("-")&&(v=m.split("-")),f.push([m,y,!1,v]);for(const _ in i){const S=i[_];_.startsWith(`${m}-`)&&f.push([_,S,!1,_.split("-")])}});const p={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(p.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(p.attach=d.memoizedProps.attach),{memoized:p,changes:f}}function fL(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:l}=RIe(e)?e:nse(t,e),c=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let f=0;f<l.length;f++){let[p,m,y,b]=l[f];if(dL(t)){const j="srgb",N="srgb-linear";p==="encoding"?(p="colorSpace",m=m===3001?j:N):p==="outputEncoding"&&(p="outputColorSpace",m=m===3001?j:N)}let v=t,_=v[p];if(b.length&&(_=b.reduce((S,j)=>S[j],t),!(_&&_.set))){const[S,...j]=b.reverse();v=j.reverse().reduce((N,A)=>N[A],t),p=S}if(m===ese+"remove")if(v.constructor){let S=VG.get(v.constructor);S||(S=new v.constructor,VG.set(v.constructor,S)),m=S[p]}else m=0;if(y&&r)m?r.handlers[p]=m:delete r.handlers[p],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Ty)){if(Array.isArray(m))_.fromArray?_.fromArray(m):_.set(...m);else if(_.copy&&m&&m.constructor&&_.constructor===m.constructor)_.copy(m);else if(m!==void 0){var u;const S=(u=_)==null?void 0:u.isColor;!S&&_.setScalar?_.setScalar(m):_ instanceof Ty&&m instanceof Ty?_.mask=m.mask:_.set(m),!Kie()&&s&&!s.linear&&S&&_.convertSRGBToLinear()}}else{var d;if(v[p]=m,(d=v[p])!=null&&d.isTexture&&v[p].format===ms&&v[p].type===Zo&&s){const S=v[p];dL(S)&&dL(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}}Hx(t)}if(r&&r.parent&&t.raycast&&c!==r.eventCount){const f=xM(t).getState().internal,p=f.interaction.indexOf(t);p>-1&&f.interaction.splice(p,1),r.eventCount&&f.interaction.push(t)}return!(l.length===1&&l[0][0]==="onUpdate")&&l.length&&(n=t.__r3f)!=null&&n.parent&&k4(t),t}function Hx(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function k4(t){t.onUpdate==null||t.onUpdate(t)}function rse(t,e){t.manual||(Zie(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function ST(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function DIe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return u0.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return u0.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return u0.ContinuousEventPriority;default:return u0.DefaultEventPriority}}function ise(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function FIe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{ise(n.capturedMap,e,r,i)})}function UIe(t){function e(c){const{internal:u}=t.getState(),d=c.offsetX-u.initialClick[0],h=c.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function n(c){return c.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function r(c,u){const d=t.getState(),h=new Set,f=[],p=u?u(d.internal.interaction):d.internal.interaction;for(let v=0;v<p.length;v++){const _=V_(p[v]);_&&(_.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(c,d);function m(v){const _=V_(v);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(c,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(v,!0):[]}let y=p.flatMap(m).sort((v,_)=>{const S=V_(v.object),j=V_(_.object);return!S||!j?v.distance-_.distance:j.events.priority-S.events.priority||v.distance-_.distance}).filter(v=>{const _=ST(v);return h.has(_)?!1:(h.add(_),!0)});d.events.filter&&(y=d.events.filter(y,d));for(const v of y){let _=v.object;for(;_;){var b;(b=_.__r3f)!=null&&b.eventCount&&f.push({...v,eventObject:_}),_=_.parent}}if("pointerId"in c&&d.internal.capturedMap.has(c.pointerId))for(let v of d.internal.capturedMap.get(c.pointerId).values())h.has(ST(v.intersection))||f.push(v.intersection);return f}function i(c,u,d,h){const f=t.getState();if(c.length){const p={stopped:!1};for(const m of c){const y=V_(m.object)||f,{raycaster:b,pointer:v,camera:_,internal:S}=y,j=new le(v.x,v.y,0).unproject(_),N=O=>{var I,U;return(I=(U=S.capturedMap.get(O))==null?void 0:U.has(m.eventObject))!=null?I:!1},A=O=>{const I={intersection:m,target:u.target};S.capturedMap.has(O)?S.capturedMap.get(O).set(m.eventObject,I):S.capturedMap.set(O,new Map([[m.eventObject,I]])),u.target.setPointerCapture(O)},M=O=>{const I=S.capturedMap.get(O);I&&ise(S.capturedMap,m.eventObject,I,O)};let k={};for(let O in u){let I=u[O];typeof I!="function"&&(k[O]=I)}let L={...m,...k,pointer:v,intersections:c,stopped:p.stopped,delta:d,unprojectedPoint:j,ray:b.ray,camera:_,stopPropagation(){const O="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!O||O.has(m.eventObject))&&(L.stopped=p.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(I=>I.eventObject===m.eventObject))){const I=c.slice(0,c.indexOf(m));s([...I,m])}},target:{hasPointerCapture:N,setPointerCapture:A,releasePointerCapture:M},currentTarget:{hasPointerCapture:N,setPointerCapture:A,releasePointerCapture:M},nativeEvent:u};if(h(L),p.stopped===!0)break}}return c}function s(c){const{internal:u}=t.getState();for(const d of u.hovered.values())if(!c.length||!c.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const f=d.eventObject.__r3f,p=f==null?void 0:f.handlers;if(u.hovered.delete(ST(d)),f!=null&&f.eventCount){const m={...d,intersections:c};p.onPointerOut==null||p.onPointerOut(m),p.onPointerLeave==null||p.onPointerLeave(m)}}}function o(c,u){for(let d=0;d<u.length;d++){const h=u[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=t.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:f}=t.getState();f.lastEvent.current=d;const p=c==="onPointerMove",m=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",b=r(d,p?n:void 0),v=m?e(d):0;c==="onPointerDown"&&(f.initialClick=[d.offsetX,d.offsetY],f.initialHits=b.map(S=>S.eventObject)),m&&!b.length&&v<=2&&(o(d,f.interaction),h&&h(d)),p&&s(b);function _(S){const j=S.eventObject,N=j.__r3f,A=N==null?void 0:N.handlers;if(N!=null&&N.eventCount)if(p){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const M=ST(S),k=f.hovered.get(M);k?k.stopped&&S.stopPropagation():(f.hovered.set(M,S),A.onPointerOver==null||A.onPointerOver(S),A.onPointerEnter==null||A.onPointerEnter(S))}A.onPointerMove==null||A.onPointerMove(S)}else{const M=A[c];M?(!m||f.initialHits.includes(j))&&(o(d,f.interaction.filter(k=>!f.initialHits.includes(k))),M(S)):m&&f.initialHits.includes(j)&&o(d,f.interaction.filter(k=>!f.initialHits.includes(k)))}}i(b,d,v,_)}}return{handlePointer:l}}const BIe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],sse=t=>!!(t!=null&&t.render),oz=C.createContext(null),zIe=(t,e)=>{const n=Hie((l,c)=>{const u=new le,d=new le,h=new le;function f(v=c().camera,_=d,S=c().size){const{width:j,height:N,top:A,left:M}=S,k=j/N;_.isVector3?h.copy(_):h.set(..._);const L=v.getWorldPosition(u).distanceTo(h);if(Zie(v))return{width:j/v.zoom,height:N/v.zoom,top:A,left:M,factor:1,distance:L,aspect:k};{const O=v.fov*Math.PI/180,I=2*Math.tan(O/2)*L,U=I*(j/N);return{width:U,height:I,top:A,left:M,factor:j/U,distance:L,aspect:k}}}let p;const m=v=>l(_=>({performance:{..._.performance,current:v}})),y=new lt;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(c(),v),advance:(v,_)=>e(v,_,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new ez,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=c();p&&clearTimeout(p),v.performance.current!==v.performance.min&&m(v.performance.min),p=setTimeout(()=>m(c().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:v=>l(_=>({..._,events:{..._.events,...v}})),setSize:(v,_,S,j,N)=>{const A=c().camera,M={width:v,height:_,top:j||0,left:N||0,updateStyle:S};l(k=>({size:M,viewport:{...k.viewport,...f(A,d,M)}}))},setDpr:v=>l(_=>{const S=tse(v);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(v="always")=>{const _=c().clock;_.stop(),_.elapsedTime=0,v!=="never"&&(_.start(),_.elapsedTime=0),l(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:C.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,_,S)=>{const j=c().internal;return j.priority=j.priority+(_>0?1:0),j.subscribers.push({ref:v,priority:_,store:S}),j.subscribers=j.subscribers.sort((N,A)=>N.priority-A.priority),()=>{const N=c().internal;N!=null&&N.subscribers&&(N.priority=N.priority-(_>0?1:0),N.subscribers=N.subscribers.filter(A=>A.ref!==v))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:l,size:c,viewport:u,gl:d,set:h}=n.getState();if(c.width!==i.width||c.height!==i.height||u.dpr!==s){var f;i=c,s=u.dpr,rse(l,c),d.setPixelRatio(u.dpr);const p=(f=c.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(c.width,c.height,p)}l!==o&&(o=l,h(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(l)}})))}),n.subscribe(l=>t(l)),n};let ET,$Ie=new Set,HIe=new Set,VIe=new Set;function pL(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function W_(t,e){switch(t){case"before":return pL($Ie,e);case"after":return pL(HIe,e);case"tail":return pL(VIe,e)}}let mL,gL;function yL(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),mL=e.internal.subscribers,ET=0;ET<mL.length;ET++)gL=mL[ET],gL.ref.current(gL.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function WIe(t){let e=!1,n=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,W_("before",u),n=!0;for(const h of t.values()){var d;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=yL(u,s))}if(n=!1,W_("after",u),r===0)return W_("tail",u),e=!1,cancelAnimationFrame(i)}function l(u,d=1){var h;if(!u)return t.forEach(f=>l(f.store.getState(),d));(h=u.gl.xr)!=null&&h.isPresenting||!u.internal.active||u.frameloop==="never"||(d>1?u.internal.frames=Math.min(60,u.internal.frames+d):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function c(u,d=!0,h,f){if(d&&W_("before",u),h)yL(u,h,f);else for(const p of t.values())yL(u,p.store.getState());d&&W_("after",u)}return{loop:o,invalidate:l,advance:c}}function lz(){const t=C.useContext(oz);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Bo(t=n=>n,e){return lz()(t,e)}function Ou(t,e=0){const n=lz(),r=n.getState().internal.subscribe,i=Qie(t);return Aj(()=>r(i,e,n),[e,r,n]),null}const qG=new WeakMap;function ase(t,e){return function(n,...r){let i=qG.get(n);return i||(i=new n,qG.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,l)=>i.load(s,c=>{c.scene&&Object.assign(c,IIe(c.scene)),o(c)},e,c=>l(new Error(`Could not load ${s}: ${c==null?void 0:c.message}`))))))}}function fb(t,e,n,r){const i=Array.isArray(e)?e:[e],s=SIe(ase(n,r),[t,...i],{equal:vi.equ});return Array.isArray(e)?s:s[0]}fb.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return EIe(ase(n),[t,...r])};fb.clear=function(t,e){const n=Array.isArray(e)?e:[e];return jIe([t,...n])};const pb=new Map,{invalidate:YG,advance:XG}=WIe(pb),{reconciler:tE,applyProps:sp}=PIe(pb,DIe),kx={objects:"shallow",strict:!1},GIe=(t,e)=>{const n=typeof t=="function"?t(e):t;return sse(n)?n:new FB({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function qIe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:l=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:l}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function YIe(t){const e=pb.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||zIe(YG,XG),o=n||tE.createContainer(s,u0.ConcurrentRoot,null,!1,null,"",i,null);e||pb.set(t,{fiber:o,store:s});let l,c=!1,u;return{configure(d={}){let{gl:h,size:f,scene:p,events:m,onCreated:y,shadows:b=!1,linear:v=!1,flat:_=!1,legacy:S=!1,orthographic:j=!1,frameloop:N="always",dpr:A=[1,2],performance:M,raycaster:k,camera:L,onPointerMissed:O}=d,I=s.getState(),U=I.gl;I.gl||I.set({gl:U=GIe(h,t)});let W=I.raycaster;W||I.set({raycaster:W=new iz});const{params:q,...J}=k||{};if(vi.equ(J,W,kx)||sp(W,{...J}),vi.equ(q,W.params,kx)||sp(W,{params:{...W.params,...q}}),!I.camera||I.camera===u&&!vi.equ(u,L,kx)){u=L;const B=L instanceof gj,ce=B?L:j?new Eu(0,0,0,0,.1,1e3):new Hi(75,0,.1,1e3);B||(ce.position.z=5,L&&(sp(ce,L),("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&(ce.manual=!0,ce.updateProjectionMatrix())),!I.camera&&!(L!=null&&L.rotation)&&ce.lookAt(0,0,0)),I.set({camera:ce}),W.camera=ce}if(!I.scene){let B;p!=null&&p.isScene?B=p:(B=new xj,p&&sp(B,p)),I.set({scene:$x(B)})}if(!I.xr){var K;const B=(Q,xe)=>{const ke=s.getState();ke.frameloop!=="never"&&XG(Q,!0,ke,xe)},ce=()=>{const Q=s.getState();Q.gl.xr.enabled=Q.gl.xr.isPresenting,Q.gl.xr.setAnimationLoop(Q.gl.xr.isPresenting?B:null),Q.gl.xr.isPresenting||YG(Q)},fe={connect(){const Q=s.getState().gl;Q.xr.addEventListener("sessionstart",ce),Q.xr.addEventListener("sessionend",ce)},disconnect(){const Q=s.getState().gl;Q.xr.removeEventListener("sessionstart",ce),Q.xr.removeEventListener("sessionend",ce)}};typeof((K=U.xr)==null?void 0:K.addEventListener)=="function"&&fe.connect(),I.set({xr:fe})}if(U.shadowMap){const B=U.shadowMap.enabled,ce=U.shadowMap.type;if(U.shadowMap.enabled=!!b,vi.boo(b))U.shadowMap.type=F1;else if(vi.str(b)){var ne;const fe={basic:Wne,percentage:tk,soft:F1,variance:ou};U.shadowMap.type=(ne=fe[b])!=null?ne:F1}else vi.obj(b)&&Object.assign(U.shadowMap,b);(B!==U.shadowMap.enabled||ce!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const $=Kie();$&&("enabled"in $?$.enabled=!S:"legacyMode"in $&&($.legacyMode=S)),c||sp(U,{outputEncoding:v?3e3:3001,toneMapping:_?Sd:vB}),I.legacy!==S&&I.set(()=>({legacy:S})),I.linear!==v&&I.set(()=>({linear:v})),I.flat!==_&&I.set(()=>({flat:_})),h&&!vi.fun(h)&&!sse(h)&&!vi.equ(h,U,kx)&&sp(U,h),m&&!I.events.handlers&&I.set({events:m(s)});const Z=qIe(t,f);return vi.equ(Z,I.size,kx)||I.setSize(Z.width,Z.height,Z.updateStyle,Z.top,Z.left),A&&I.viewport.dpr!==tse(A)&&I.setDpr(A),I.frameloop!==N&&I.setFrameloop(N),I.onPointerMissed||I.set({onPointerMissed:O}),M&&!vi.equ(M,I.performance,kx)&&I.set(B=>({performance:{...B.performance,...M}})),l=y,c=!0,this},render(d){return c||this.configure(),tE.updateContainer(a.jsx(XIe,{store:s,children:d,onCreated:l,rootElement:t}),o,null,()=>{}),s},unmount(){ose(t)}}}function XIe({store:t,children:e,onCreated:n,rootElement:r}){return Aj(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),a.jsx(oz.Provider,{value:t,children:e})}function ose(t,e){const n=pb.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),tE.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,l,c;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(l=i.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=i.gl)!=null&&c.xr&&i.xr.disconnect(),LIe(i),pb.delete(t)}catch{}},500)})}}function KIe(t,e,n){return a.jsx(ZIe,{children:t,container:e,state:n},e.uuid)}function ZIe({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=lz(),[l]=C.useState(()=>new iz),[c]=C.useState(()=>new lt),u=C.useCallback((h,f)=>{const p={...h};Object.keys(h).forEach(y=>{(BIe.includes(y)||h[y]!==f[y]&&f[y])&&delete p[y]});let m;if(f&&i){const y=f.camera;m=h.viewport.getCurrentViewport(y,new le,i),y!==h.camera&&rse(y,i)}return{...p,scene:n,raycaster:l,pointer:c,mouse:c,previousRoot:o,events:{...h.events,...f==null?void 0:f.events,...r},size:{...h.size,...i},viewport:{...h.viewport,...m},...s}},[t]),[d]=C.useState(()=>{const h=o.getState();return Hie((p,m)=>({...h,scene:n,raycaster:l,pointer:c,mouse:c,previousRoot:o,events:{...h.events,...r},size:{...h.size,...i},...s,set:p,get:m,setEvents:y=>p(b=>({...b,events:{...b.events,...y}}))}))});return C.useEffect(()=>{const h=o.subscribe(f=>d.setState(p=>u(f,p)));return()=>{h()}},[u]),C.useEffect(()=>{d.setState(h=>u(o.getState(),h))},[u]),C.useEffect(()=>()=>{d.destroy()},[]),a.jsx(a.Fragment,{children:tE.createPortal(a.jsx(oz.Provider,{value:d,children:e}),d,null)})}tE.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:C.version});const vL={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function QIe(t){const{handlePointer:e}=UIe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(vL).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,l])=>{const[c,u]=vL[o];n.addEventListener(c,l,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[l]=vL[s];r.connected.removeEventListener(l,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function KG(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function JIe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=C.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=C.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,d=C.useRef(!1);C.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,f,p]=C.useMemo(()=>{const v=()=>{if(!l.current.element)return;const{left:_,top:S,width:j,height:N,bottom:A,right:M,x:k,y:L}=l.current.element.getBoundingClientRect(),O={left:_,top:S,width:j,height:N,bottom:A,right:M,x:k,y:L};l.current.element instanceof HTMLElement&&r&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),d.current&&!rLe(l.current.lastBounds,O)&&o(l.current.lastBounds=O)};return[v,u?KG(v,u):v,c?KG(v,c):v]},[o,r,c,u]);function m(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",p,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function y(){l.current.element&&(l.current.resizeObserver=new i(p),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(v=>v.addEventListener("scroll",p,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const b=v=>{!v||v===l.current.element||(m(),l.current.element=v,l.current.scrollContainers=lse(v),y())};return tLe(p,!!e),eLe(f),C.useEffect(()=>{m(),y()},[e,p,f]),C.useEffect(()=>m,[]),[b,s,h]}function eLe(t){C.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function tLe(t,e){C.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function lse(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...lse(t.parentElement)]}const nLe=["x","y","top","bottom","left","right","width","height"],rLe=(t,e)=>nLe.every(n=>t[n]===e[n]);var iLe=Object.defineProperty,sLe=Object.defineProperties,aLe=Object.getOwnPropertyDescriptors,ZG=Object.getOwnPropertySymbols,oLe=Object.prototype.hasOwnProperty,lLe=Object.prototype.propertyIsEnumerable,QG=(t,e,n)=>e in t?iLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JG=(t,e)=>{for(var n in e||(e={}))oLe.call(e,n)&&QG(t,n,e[n]);if(ZG)for(var n of ZG(e))lLe.call(e,n)&&QG(t,n,e[n]);return t},cLe=(t,e)=>sLe(t,aLe(e)),e9,t9;typeof window<"u"&&((e9=window.document)!=null&&e9.createElement||((t9=window.navigator)==null?void 0:t9.product)==="ReactNative")?C.useLayoutEffect:C.useEffect;function cse(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=cse(r,e,n);if(i)return i;r=r.sibling}}function use(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const n9=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=n9;return}return n9.apply(this,arguments)};const cz=use(C.createContext(null));class dse extends C.Component{render(){return C.createElement(cz.Provider,{value:this._reactInternals},this.props.children)}}function uLe(){const t=C.useContext(cz);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=C.useId();return C.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=cse(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function dLe(){const t=uLe(),[e]=C.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==cz&&!e.has(i)&&e.set(i,C.useContext(use(i)))}n=n.return}return e}function hLe(){const t=dLe();return C.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>C.createElement(e,null,C.createElement(n.Provider,cLe(JG({},r),{value:t.get(n)}))),e=>C.createElement(dse,JG({},e))),[t])}const fLe=C.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=QIe,eventSource:l,eventPrefix:c,shadows:u,linear:d,flat:h,legacy:f,orthographic:p,frameloop:m,dpr:y,performance:b,raycaster:v,camera:_,scene:S,onPointerMissed:j,onCreated:N,...A},M){C.useMemo(()=>Xie(xIe),[]);const k=hLe(),[L,O]=JIe({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=C.useRef(null),U=C.useRef(null);C.useImperativeHandle(M,()=>I.current);const W=Qie(j),[q,J]=C.useState(!1),[K,ne]=C.useState(!1);if(q)throw q;if(K)throw K;const $=C.useRef(null);Aj(()=>{const B=I.current;O.width>0&&O.height>0&&B&&($.current||($.current=YIe(B)),$.current.configure({gl:s,events:o,shadows:u,linear:d,flat:h,legacy:f,orthographic:p,frameloop:m,dpr:y,performance:b,raycaster:v,camera:_,scene:S,size:O,onPointerMissed:(...ce)=>W.current==null?void 0:W.current(...ce),onCreated:ce=>{ce.events.connect==null||ce.events.connect(l?kIe(l)?l.current:l:U.current),c&&ce.setEvents({compute:(fe,Q)=>{const xe=fe[c+"X"],ke=fe[c+"Y"];Q.pointer.set(xe/Q.size.width*2-1,-(ke/Q.size.height)*2+1),Q.raycaster.setFromCamera(Q.pointer,Q.camera)}}),N==null||N(ce)}}),$.current.render(a.jsx(k,{children:a.jsx(Jie,{set:ne,children:a.jsx(C.Suspense,{fallback:a.jsx(OIe,{set:J}),children:e??null})})})))}),C.useEffect(()=>{const B=I.current;if(B)return()=>ose(B)},[]);const Z=l?"none":"auto";return a.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...i},...A,children:a.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:a.jsx("canvas",{ref:I,style:{display:"block"},children:n})})})}),Ok=C.forwardRef(function(e,n){return a.jsx(dse,{children:a.jsx(fLe,{...e,ref:n})})});function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(null,arguments)}const Nj=new le,uz=new le,pLe=new le,r9=new lt;function mLe(t,e,n){const r=Nj.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function gLe(t,e){const n=Nj.setFromMatrixPosition(t.matrixWorld),r=uz.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(pLe);return i.angleTo(s)>Math.PI/2}function yLe(t,e,n,r){const i=Nj.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),r9.set(s.x,s.y),n.setFromCamera(r9,e);const o=n.intersectObjects(r,!0);if(o.length){const l=o[0].distance;return i.distanceTo(n.ray.origin)<l}return!0}function vLe(t,e){if(e instanceof Eu)return e.zoom;if(e instanceof Hi){const n=Nj.setFromMatrixPosition(t.matrixWorld),r=uz.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function xLe(t,e,n){if(e instanceof Hi||e instanceof Eu){const r=Nj.setFromMatrixPosition(t.matrixWorld),i=uz.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),l=n[1]-o*e.far;return Math.round(o*s+l)}}const O4=t=>Math.abs(t)<1e-10?0:t;function hse(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=O4(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const bLe=(t=>e=>hse(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),wLe=(t=>(e,n)=>hse(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function _Le(t){return t&&typeof t=="object"&&"current"in t}const dz=C.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:l,distanceFactor:c,sprite:u=!1,transform:d=!1,occlude:h,onOcclude:f,castShadow:p,receiveShadow:m,material:y,geometry:b,zIndexRange:v=[16777271,0],calculatePosition:_=mLe,as:S="div",wrapperClass:j,pointerEvents:N="auto",...A},M)=>{const{gl:k,camera:L,scene:O,size:I,raycaster:U,events:W,viewport:q}=Bo(),[J]=C.useState(()=>document.createElement(S)),K=C.useRef(),ne=C.useRef(null),$=C.useRef(0),Z=C.useRef([0,0]),B=C.useRef(null),ce=C.useRef(null),fe=(l==null?void 0:l.current)||W.connected||k.domElement.parentNode,Q=C.useRef(null),xe=C.useRef(!1),ke=C.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&_Le(h[0]),[h]);C.useLayoutEffect(()=>{const Ve=k.domElement;h&&h==="blending"?(Ve.style.zIndex=`${Math.floor(v[0]/2)}`,Ve.style.position="absolute",Ve.style.pointerEvents="none"):(Ve.style.zIndex=null,Ve.style.position=null,Ve.style.pointerEvents=null)},[h]),C.useLayoutEffect(()=>{if(ne.current){const Ve=K.current=pJ(J);if(O.updateMatrixWorld(),d)J.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ue=_(ne.current,L,I);J.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ue[0]}px,${Ue[1]}px,0);transform-origin:0 0;`}return fe&&(i?fe.prepend(J):fe.appendChild(J)),()=>{fe&&fe.removeChild(J),Ve.unmount()}}},[fe,d]),C.useLayoutEffect(()=>{j&&(J.className=j)},[j]);const Re=C.useMemo(()=>d?{position:"absolute",top:0,left:0,width:I.width,height:I.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-I.height/2,left:-I.width/2,width:I.width,height:I.height},...n},[n,s,o,I,d]),Ce=C.useMemo(()=>({position:"absolute",pointerEvents:N}),[N]);C.useLayoutEffect(()=>{if(xe.current=!1,d){var Ve;(Ve=K.current)==null||Ve.render(C.createElement("div",{ref:B,style:Re},C.createElement("div",{ref:ce,style:Ce},C.createElement("div",{ref:M,className:r,style:n,children:t}))))}else{var Ue;(Ue=K.current)==null||Ue.render(C.createElement("div",{ref:M,style:Re,className:r,children:t}))}});const tt=C.useRef(!0);Ou(Ve=>{if(ne.current){L.updateMatrixWorld(),ne.current.updateWorldMatrix(!0,!1);const Ue=d?Z.current:_(ne.current,L,I);if(d||Math.abs($.current-L.zoom)>e||Math.abs(Z.current[0]-Ue[0])>e||Math.abs(Z.current[1]-Ue[1])>e){const he=gLe(ne.current,L);let te=!1;ke&&(Array.isArray(h)?te=h.map(rt=>rt.current):h!=="blending"&&(te=[O]));const ze=tt.current;if(te){const rt=yLe(ne.current,L,U,te);tt.current=rt&&!he}else tt.current=!he;ze!==tt.current&&(f?f(!tt.current):J.style.display=tt.current?"block":"none");const nt=Math.floor(v[0]/2),Je=h?ke?[v[0],nt]:[nt-1,0]:v;if(J.style.zIndex=`${xLe(ne.current,L,Je)}`,d){const[rt,Pt]=[I.width/2,I.height/2],bt=L.projectionMatrix.elements[5]*Pt,{isOrthographicCamera:H,top:z,left:oe,bottom:je,right:Ne}=L,we=bLe(L.matrixWorldInverse),me=H?`scale(${bt})translate(${O4(-(Ne+oe)/2)}px,${O4((z+je)/2)}px)`:`translateZ(${bt}px)`;let Ae=ne.current.matrixWorld;u&&(Ae=L.matrixWorldInverse.clone().transpose().copyPosition(Ae).scale(ne.current.scale),Ae.elements[3]=Ae.elements[7]=Ae.elements[11]=0,Ae.elements[15]=1),J.style.width=I.width+"px",J.style.height=I.height+"px",J.style.perspective=H?"":`${bt}px`,B.current&&ce.current&&(B.current.style.transform=`${me}${we}translate(${rt}px,${Pt}px)`,ce.current.style.transform=wLe(Ae,1/((c||10)/400)))}else{const rt=c===void 0?1:vLe(ne.current,L)*c;J.style.transform=`translate3d(${Ue[0]}px,${Ue[1]}px,0) scale(${rt})`}Z.current=Ue,$.current=L.zoom}}if(!ke&&Q.current&&!xe.current)if(d){if(B.current){const Ue=B.current.children[0];if(Ue!=null&&Ue.clientWidth&&Ue!=null&&Ue.clientHeight){const{isOrthographicCamera:he}=L;if(he||b)A.scale&&(Array.isArray(A.scale)?A.scale instanceof le?Q.current.scale.copy(A.scale.clone().divideScalar(1)):Q.current.scale.set(1/A.scale[0],1/A.scale[1],1/A.scale[2]):Q.current.scale.setScalar(1/A.scale));else{const te=(c||10)/400,ze=Ue.clientWidth*te,nt=Ue.clientHeight*te;Q.current.scale.set(ze,nt,1)}xe.current=!0}}}else{const Ue=J.children[0];if(Ue!=null&&Ue.clientWidth&&Ue!=null&&Ue.clientHeight){const he=1/q.factor,te=Ue.clientWidth*he,ze=Ue.clientHeight*he;Q.current.scale.set(te,ze,1),xe.current=!0}Q.current.lookAt(Ve.camera.position)}});const Fe=C.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return C.createElement("group",Pc({},A,{ref:ne}),h&&!ke&&C.createElement("mesh",{castShadow:p,receiveShadow:m,ref:Q},b||C.createElement("planeGeometry",null),y||C.createElement("shaderMaterial",{side:wc,vertexShader:Fe.vertexShader,fragmentShader:Fe.fragmentShader})))}),fse=parseInt(iw.replace(/\D+/g,""));function SLe(t,e=Math.PI/3){const n=Math.cos(e),r=(1+1e-10)*100,i=[new le,new le,new le],s=new le,o=new le,l=new le,c=new le;function u(y){const b=~~(y.x*r),v=~~(y.y*r),_=~~(y.z*r);return`${b},${v},${_}`}const d=t.index?t.toNonIndexed():t,h=d.attributes.position,f={};for(let y=0,b=h.count/3;y<b;y++){const v=3*y,_=i[0].fromBufferAttribute(h,v+0),S=i[1].fromBufferAttribute(h,v+1),j=i[2].fromBufferAttribute(h,v+2);s.subVectors(j,S),o.subVectors(_,S);const N=new le().crossVectors(s,o).normalize();for(let A=0;A<3;A++){const M=i[A],k=u(M);k in f||(f[k]=[]),f[k].push(N)}}const p=new Float32Array(h.count*3),m=new ei(p,3,!1);for(let y=0,b=h.count/3;y<b;y++){const v=3*y,_=i[0].fromBufferAttribute(h,v+0),S=i[1].fromBufferAttribute(h,v+1),j=i[2].fromBufferAttribute(h,v+2);s.subVectors(j,S),o.subVectors(_,S),l.crossVectors(s,o).normalize();for(let N=0;N<3;N++){const A=i[N],M=u(A),k=f[M];c.set(0,0,0);for(let L=0,O=k.length;L<O;L++){const I=k[L];l.dot(I)>n&&c.add(I)}c.normalize(),m.setXYZ(v+N,c.x,c.y,c.z)}}return d.setAttribute("normal",m),d}var _c=Uint8Array,Ap=Uint16Array,R4=Uint32Array,pse=new _c([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mse=new _c([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ELe=new _c([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gse=function(t,e){for(var n=new Ap(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new R4(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},yse=gse(pse,2),vse=yse[0],jLe=yse[1];vse[28]=258,jLe[258]=28;var ALe=gse(mse,0),NLe=ALe[0],I4=new Ap(32768);for(var Ti=0;Ti<32768;++Ti){var Kf=(Ti&43690)>>>1|(Ti&21845)<<1;Kf=(Kf&52428)>>>2|(Kf&13107)<<2,Kf=(Kf&61680)>>>4|(Kf&3855)<<4,I4[Ti]=((Kf&65280)>>>8|(Kf&255)<<8)>>>1}var Y1=function(t,e,n){for(var r=t.length,i=0,s=new Ap(e);i<r;++i)++s[t[i]-1];var o=new Ap(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(n){l=new Ap(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],h=o[t[i]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)l[I4[h]>>>c]=u}else for(l=new Ap(r),i=0;i<r;++i)t[i]&&(l[i]=I4[o[t[i]-1]++]>>>15-t[i]);return l},Tj=new _c(288);for(var Ti=0;Ti<144;++Ti)Tj[Ti]=8;for(var Ti=144;Ti<256;++Ti)Tj[Ti]=9;for(var Ti=256;Ti<280;++Ti)Tj[Ti]=7;for(var Ti=280;Ti<288;++Ti)Tj[Ti]=8;var xse=new _c(32);for(var Ti=0;Ti<32;++Ti)xse[Ti]=5;var TLe=Y1(Tj,9,1),MLe=Y1(xse,5,1),xL=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},eu=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},bL=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},CLe=function(t){return(t/8|0)+(t&7&&1)},PLe=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Ap?Ap:t instanceof R4?R4:_c)(n-e);return r.set(t.subarray(e,n)),r},kLe=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new _c(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new _c(r*3));var o=function(Re){var Ce=e.length;if(Re>Ce){var tt=new _c(Math.max(Ce*2,Re));tt.set(e),e=tt}},l=n.f||0,c=n.p||0,u=n.b||0,d=n.l,h=n.d,f=n.m,p=n.n,m=r*8;do{if(!d){n.f=l=eu(t,c,1);var y=eu(t,c+1,3);if(c+=3,y)if(y==1)d=TLe,h=MLe,f=9,p=5;else if(y==2){var S=eu(t,c,31)+257,j=eu(t,c+10,15)+4,N=S+eu(t,c+5,31)+1;c+=14;for(var A=new _c(N),M=new _c(19),k=0;k<j;++k)M[ELe[k]]=eu(t,c+k*3,7);c+=j*3;for(var L=xL(M),O=(1<<L)-1,I=Y1(M,L,1),k=0;k<N;){var U=I[eu(t,c,O)];c+=U&15;var b=U>>>4;if(b<16)A[k++]=b;else{var W=0,q=0;for(b==16?(q=3+eu(t,c,3),c+=2,W=A[k-1]):b==17?(q=3+eu(t,c,7),c+=3):b==18&&(q=11+eu(t,c,127),c+=7);q--;)A[k++]=W}}var J=A.subarray(0,S),K=A.subarray(S);f=xL(J),p=xL(K),d=Y1(J,f,1),h=Y1(K,p,1)}else throw"invalid block type";else{var b=CLe(c)+4,v=t[b-4]|t[b-3]<<8,_=b+v;if(_>r){if(s)throw"unexpected EOF";break}i&&o(u+v),e.set(t.subarray(b,_),u),n.b=u+=v,n.p=c=_*8;continue}if(c>m){if(s)throw"unexpected EOF";break}}i&&o(u+131072);for(var ne=(1<<f)-1,$=(1<<p)-1,Z=c;;Z=c){var W=d[bL(t,c)&ne],B=W>>>4;if(c+=W&15,c>m){if(s)throw"unexpected EOF";break}if(!W)throw"invalid length/literal";if(B<256)e[u++]=B;else if(B==256){Z=c,d=null;break}else{var ce=B-254;if(B>264){var k=B-257,fe=pse[k];ce=eu(t,c,(1<<fe)-1)+vse[k],c+=fe}var Q=h[bL(t,c)&$],xe=Q>>>4;if(!Q)throw"invalid distance";c+=Q&15;var K=NLe[xe];if(xe>3){var fe=mse[xe];K+=bL(t,c)&(1<<fe)-1,c+=fe}if(c>m){if(s)throw"unexpected EOF";break}i&&o(u+131072);for(var ke=u+ce;u<ke;u+=4)e[u]=e[u-K],e[u+1]=e[u+1-K],e[u+2]=e[u+2-K],e[u+3]=e[u+3-K];u=ke}}n.l=d,n.p=Z,n.b=u,d&&(l=1,n.m=f,n.d=h,n.n=p)}while(!l);return u==e.length?e:PLe(e,0,u)},OLe=new _c(0),RLe=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function jT(t,e){return kLe((RLe(t),t.subarray(2,-4)),e)}var ILe=typeof TextDecoder<"u"&&new TextDecoder,LLe=0;try{ILe.decode(OLe,{stream:!0}),LLe=1}catch{}const DLe=t=>t&&t.isCubeTexture;class FLe extends Gi{constructor(e,n){var r,i;const s=DLe(e),l=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,c=Math.floor(Math.log2(l)),u=Math.pow(2,c),d=3*Math.max(u,16*7),h=4*u,f=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/d}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${c}.0`],p=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,m=f.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${fse>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,y={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},b=new wj(1,16),v=new Qo({uniforms:y,fragmentShader:m,vertexShader:p,side:wc});super(b,v)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var ULe=Object.defineProperty,BLe=(t,e,n)=>e in t?ULe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zLe=(t,e,n)=>(BLe(t,e+"",n),n);class $Le{constructor(){zLe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var HLe=Object.defineProperty,VLe=(t,e,n)=>e in t?HLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_n=(t,e,n)=>(VLe(t,typeof e!="symbol"?e+"":e,n),n);const AT=new lv,i9=new yh,WLe=Math.cos(70*(Math.PI/180)),s9=(t,e)=>(t%e+e)%e;let GLe=class extends $Le{constructor(e,n){super(),_n(this,"object"),_n(this,"domElement"),_n(this,"enabled",!0),_n(this,"target",new le),_n(this,"minDistance",0),_n(this,"maxDistance",1/0),_n(this,"minZoom",0),_n(this,"maxZoom",1/0),_n(this,"minPolarAngle",0),_n(this,"maxPolarAngle",Math.PI),_n(this,"minAzimuthAngle",-1/0),_n(this,"maxAzimuthAngle",1/0),_n(this,"enableDamping",!1),_n(this,"dampingFactor",.05),_n(this,"enableZoom",!0),_n(this,"zoomSpeed",1),_n(this,"enableRotate",!0),_n(this,"rotateSpeed",1),_n(this,"enablePan",!0),_n(this,"panSpeed",1),_n(this,"screenSpacePanning",!0),_n(this,"keyPanSpeed",7),_n(this,"zoomToCursor",!1),_n(this,"autoRotate",!1),_n(this,"autoRotateSpeed",2),_n(this,"reverseOrbit",!1),_n(this,"reverseHorizontalOrbit",!1),_n(this,"reverseVerticalOrbit",!1),_n(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),_n(this,"mouseButtons",{LEFT:Pg.ROTATE,MIDDLE:Pg.DOLLY,RIGHT:Pg.PAN}),_n(this,"touches",{ONE:kg.ROTATE,TWO:kg.DOLLY_PAN}),_n(this,"target0"),_n(this,"position0"),_n(this,"zoom0"),_n(this,"_domElementKeyEvents",null),_n(this,"getPolarAngle"),_n(this,"getAzimuthalAngle"),_n(this,"setPolarAngle"),_n(this,"setAzimuthalAngle"),_n(this,"getDistance"),_n(this,"getZoomScale"),_n(this,"listenToKeyEvents"),_n(this,"stopListenToKeyEvents"),_n(this,"saveState"),_n(this,"reset"),_n(this,"update"),_n(this,"connect"),_n(this,"dispose"),_n(this,"dollyIn"),_n(this,"dollyOut"),_n(this,"getScale"),_n(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=ge=>{let Qe=s9(ge,2*Math.PI),ue=d.phi;ue<0&&(ue+=2*Math.PI),Qe<0&&(Qe+=2*Math.PI);let pt=Math.abs(Qe-ue);2*Math.PI-pt<pt&&(Qe<ue?Qe+=2*Math.PI:ue+=2*Math.PI),h.phi=Qe-ue,r.update()},this.setAzimuthalAngle=ge=>{let Qe=s9(ge,2*Math.PI),ue=d.theta;ue<0&&(ue+=2*Math.PI),Qe<0&&(Qe+=2*Math.PI);let pt=Math.abs(Qe-ue);2*Math.PI-pt<pt&&(Qe<ue?Qe+=2*Math.PI:ue+=2*Math.PI),h.theta=Qe-ue,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ge=>{ge.addEventListener("keydown",$e),this._domElementKeyEvents=ge},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",$e),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),c=l.NONE},this.update=(()=>{const ge=new le,Qe=new le(0,1,0),ue=new $a().setFromUnitVectors(e.up,Qe),pt=ue.clone().invert(),Se=new le,st=new $a,Tt=2*Math.PI;return function(){const Un=r.object.position;ue.setFromUnitVectors(e.up,Qe),pt.copy(ue).invert(),ge.copy(Un).sub(r.target),ge.applyQuaternion(ue),d.setFromVector3(ge),r.autoRotate&&c===l.NONE&&q(U()),r.enableDamping?(d.theta+=h.theta*r.dampingFactor,d.phi+=h.phi*r.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let Ot=r.minAzimuthAngle,hn=r.maxAzimuthAngle;isFinite(Ot)&&isFinite(hn)&&(Ot<-Math.PI?Ot+=Tt:Ot>Math.PI&&(Ot-=Tt),hn<-Math.PI?hn+=Tt:hn>Math.PI&&(hn-=Tt),Ot<=hn?d.theta=Math.max(Ot,Math.min(hn,d.theta)):d.theta=d.theta>(Ot+hn)/2?Math.max(Ot,d.theta):Math.min(hn,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),r.zoomToCursor&&L||r.object.isOrthographicCamera?d.radius=Q(d.radius):d.radius=Q(d.radius*f),ge.setFromSpherical(d),ge.applyQuaternion(pt),Un.copy(r.target).add(ge),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),p.set(0,0,0));let Vt=!1;if(r.zoomToCursor&&L){let pr=null;if(r.object instanceof Hi&&r.object.isPerspectiveCamera){const Ar=ge.length();pr=Q(Ar*f);const Xi=Ar-pr;r.object.position.addScaledVector(M,Xi),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Ar=new le(k.x,k.y,0);Ar.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),Vt=!0;const Xi=new le(k.x,k.y,0);Xi.unproject(r.object),r.object.position.sub(Xi).add(Ar),r.object.updateMatrixWorld(),pr=ge.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;pr!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(pr).add(r.object.position):(AT.origin.copy(r.object.position),AT.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(AT.direction))<WLe?e.lookAt(r.target):(i9.setFromNormalAndCoplanarPoint(r.object.up,r.target),AT.intersectPlane(i9,r.target))))}else r.object instanceof Eu&&r.object.isOrthographicCamera&&(Vt=f!==1,Vt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix()));return f=1,L=!1,Vt||Se.distanceToSquared(r.object.position)>u||8*(1-st.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Se.copy(r.object.position),st.copy(r.object.quaternion),Vt=!1,!0):!1}})(),this.connect=ge=>{r.domElement=ge,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",wt),r.domElement.addEventListener("pointerdown",oe),r.domElement.addEventListener("pointercancel",Ne),r.domElement.addEventListener("wheel",Ae)},this.dispose=()=>{var ge,Qe,ue,pt,Se,st;r.domElement&&(r.domElement.style.touchAction="auto"),(ge=r.domElement)==null||ge.removeEventListener("contextmenu",wt),(Qe=r.domElement)==null||Qe.removeEventListener("pointerdown",oe),(ue=r.domElement)==null||ue.removeEventListener("pointercancel",Ne),(pt=r.domElement)==null||pt.removeEventListener("wheel",Ae),(Se=r.domElement)==null||Se.ownerDocument.removeEventListener("pointermove",je),(st=r.domElement)==null||st.ownerDocument.removeEventListener("pointerup",Ne),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",$e)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const u=1e-6,d=new C4,h=new C4;let f=1;const p=new le,m=new lt,y=new lt,b=new lt,v=new lt,_=new lt,S=new lt,j=new lt,N=new lt,A=new lt,M=new le,k=new lt;let L=!1;const O=[],I={};function U(){return 2*Math.PI/60/60*r.autoRotateSpeed}function W(){return Math.pow(.95,r.zoomSpeed)}function q(ge){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=ge:h.theta-=ge}function J(ge){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=ge:h.phi-=ge}const K=(()=>{const ge=new le;return function(ue,pt){ge.setFromMatrixColumn(pt,0),ge.multiplyScalar(-ue),p.add(ge)}})(),ne=(()=>{const ge=new le;return function(ue,pt){r.screenSpacePanning===!0?ge.setFromMatrixColumn(pt,1):(ge.setFromMatrixColumn(pt,0),ge.crossVectors(r.object.up,ge)),ge.multiplyScalar(ue),p.add(ge)}})(),$=(()=>{const ge=new le;return function(ue,pt){const Se=r.domElement;if(Se&&r.object instanceof Hi&&r.object.isPerspectiveCamera){const st=r.object.position;ge.copy(st).sub(r.target);let Tt=ge.length();Tt*=Math.tan(r.object.fov/2*Math.PI/180),K(2*ue*Tt/Se.clientHeight,r.object.matrix),ne(2*pt*Tt/Se.clientHeight,r.object.matrix)}else Se&&r.object instanceof Eu&&r.object.isOrthographicCamera?(K(ue*(r.object.right-r.object.left)/r.object.zoom/Se.clientWidth,r.object.matrix),ne(pt*(r.object.top-r.object.bottom)/r.object.zoom/Se.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Z(ge){r.object instanceof Hi&&r.object.isPerspectiveCamera||r.object instanceof Eu&&r.object.isOrthographicCamera?f=ge:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function B(ge){Z(f/ge)}function ce(ge){Z(f*ge)}function fe(ge){if(!r.zoomToCursor||!r.domElement)return;L=!0;const Qe=r.domElement.getBoundingClientRect(),ue=ge.clientX-Qe.left,pt=ge.clientY-Qe.top,Se=Qe.width,st=Qe.height;k.x=ue/Se*2-1,k.y=-(pt/st)*2+1,M.set(k.x,k.y,1).unproject(r.object).sub(r.object.position).normalize()}function Q(ge){return Math.max(r.minDistance,Math.min(r.maxDistance,ge))}function xe(ge){m.set(ge.clientX,ge.clientY)}function ke(ge){fe(ge),j.set(ge.clientX,ge.clientY)}function Re(ge){v.set(ge.clientX,ge.clientY)}function Ce(ge){y.set(ge.clientX,ge.clientY),b.subVectors(y,m).multiplyScalar(r.rotateSpeed);const Qe=r.domElement;Qe&&(q(2*Math.PI*b.x/Qe.clientHeight),J(2*Math.PI*b.y/Qe.clientHeight)),m.copy(y),r.update()}function tt(ge){N.set(ge.clientX,ge.clientY),A.subVectors(N,j),A.y>0?B(W()):A.y<0&&ce(W()),j.copy(N),r.update()}function Fe(ge){_.set(ge.clientX,ge.clientY),S.subVectors(_,v).multiplyScalar(r.panSpeed),$(S.x,S.y),v.copy(_),r.update()}function Ve(ge){fe(ge),ge.deltaY<0?ce(W()):ge.deltaY>0&&B(W()),r.update()}function Ue(ge){let Qe=!1;switch(ge.code){case r.keys.UP:$(0,r.keyPanSpeed),Qe=!0;break;case r.keys.BOTTOM:$(0,-r.keyPanSpeed),Qe=!0;break;case r.keys.LEFT:$(r.keyPanSpeed,0),Qe=!0;break;case r.keys.RIGHT:$(-r.keyPanSpeed,0),Qe=!0;break}Qe&&(ge.preventDefault(),r.update())}function he(){if(O.length==1)m.set(O[0].pageX,O[0].pageY);else{const ge=.5*(O[0].pageX+O[1].pageX),Qe=.5*(O[0].pageY+O[1].pageY);m.set(ge,Qe)}}function te(){if(O.length==1)v.set(O[0].pageX,O[0].pageY);else{const ge=.5*(O[0].pageX+O[1].pageX),Qe=.5*(O[0].pageY+O[1].pageY);v.set(ge,Qe)}}function ze(){const ge=O[0].pageX-O[1].pageX,Qe=O[0].pageY-O[1].pageY,ue=Math.sqrt(ge*ge+Qe*Qe);j.set(0,ue)}function nt(){r.enableZoom&&ze(),r.enablePan&&te()}function Je(){r.enableZoom&&ze(),r.enableRotate&&he()}function rt(ge){if(O.length==1)y.set(ge.pageX,ge.pageY);else{const ue=fn(ge),pt=.5*(ge.pageX+ue.x),Se=.5*(ge.pageY+ue.y);y.set(pt,Se)}b.subVectors(y,m).multiplyScalar(r.rotateSpeed);const Qe=r.domElement;Qe&&(q(2*Math.PI*b.x/Qe.clientHeight),J(2*Math.PI*b.y/Qe.clientHeight)),m.copy(y)}function Pt(ge){if(O.length==1)_.set(ge.pageX,ge.pageY);else{const Qe=fn(ge),ue=.5*(ge.pageX+Qe.x),pt=.5*(ge.pageY+Qe.y);_.set(ue,pt)}S.subVectors(_,v).multiplyScalar(r.panSpeed),$(S.x,S.y),v.copy(_)}function bt(ge){const Qe=fn(ge),ue=ge.pageX-Qe.x,pt=ge.pageY-Qe.y,Se=Math.sqrt(ue*ue+pt*pt);N.set(0,Se),A.set(0,Math.pow(N.y/j.y,r.zoomSpeed)),B(A.y),j.copy(N)}function H(ge){r.enableZoom&&bt(ge),r.enablePan&&Pt(ge)}function z(ge){r.enableZoom&&bt(ge),r.enableRotate&&rt(ge)}function oe(ge){var Qe,ue;r.enabled!==!1&&(O.length===0&&((Qe=r.domElement)==null||Qe.ownerDocument.addEventListener("pointermove",je),(ue=r.domElement)==null||ue.ownerDocument.addEventListener("pointerup",Ne)),qt(ge),ge.pointerType==="touch"?_t(ge):we(ge))}function je(ge){r.enabled!==!1&&(ge.pointerType==="touch"?Ze(ge):me(ge))}function Ne(ge){var Qe,ue,pt;Rt(ge),O.length===0&&((Qe=r.domElement)==null||Qe.releasePointerCapture(ge.pointerId),(ue=r.domElement)==null||ue.ownerDocument.removeEventListener("pointermove",je),(pt=r.domElement)==null||pt.ownerDocument.removeEventListener("pointerup",Ne)),r.dispatchEvent(o),c=l.NONE}function we(ge){let Qe;switch(ge.button){case 0:Qe=r.mouseButtons.LEFT;break;case 1:Qe=r.mouseButtons.MIDDLE;break;case 2:Qe=r.mouseButtons.RIGHT;break;default:Qe=-1}switch(Qe){case Pg.DOLLY:if(r.enableZoom===!1)return;ke(ge),c=l.DOLLY;break;case Pg.ROTATE:if(ge.ctrlKey||ge.metaKey||ge.shiftKey){if(r.enablePan===!1)return;Re(ge),c=l.PAN}else{if(r.enableRotate===!1)return;xe(ge),c=l.ROTATE}break;case Pg.PAN:if(ge.ctrlKey||ge.metaKey||ge.shiftKey){if(r.enableRotate===!1)return;xe(ge),c=l.ROTATE}else{if(r.enablePan===!1)return;Re(ge),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&r.dispatchEvent(s)}function me(ge){if(r.enabled!==!1)switch(c){case l.ROTATE:if(r.enableRotate===!1)return;Ce(ge);break;case l.DOLLY:if(r.enableZoom===!1)return;tt(ge);break;case l.PAN:if(r.enablePan===!1)return;Fe(ge);break}}function Ae(ge){r.enabled===!1||r.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(ge.preventDefault(),r.dispatchEvent(s),Ve(ge),r.dispatchEvent(o))}function $e(ge){r.enabled===!1||r.enablePan===!1||Ue(ge)}function _t(ge){switch(gt(ge),O.length){case 1:switch(r.touches.ONE){case kg.ROTATE:if(r.enableRotate===!1)return;he(),c=l.TOUCH_ROTATE;break;case kg.PAN:if(r.enablePan===!1)return;te(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(r.touches.TWO){case kg.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;nt(),c=l.TOUCH_DOLLY_PAN;break;case kg.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Je(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&r.dispatchEvent(s)}function Ze(ge){switch(gt(ge),c){case l.TOUCH_ROTATE:if(r.enableRotate===!1)return;rt(ge),r.update();break;case l.TOUCH_PAN:if(r.enablePan===!1)return;Pt(ge),r.update();break;case l.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;H(ge),r.update();break;case l.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;z(ge),r.update();break;default:c=l.NONE}}function wt(ge){r.enabled!==!1&&ge.preventDefault()}function qt(ge){O.push(ge)}function Rt(ge){delete I[ge.pointerId];for(let Qe=0;Qe<O.length;Qe++)if(O[Qe].pointerId==ge.pointerId){O.splice(Qe,1);return}}function gt(ge){let Qe=I[ge.pointerId];Qe===void 0&&(Qe=new lt,I[ge.pointerId]=Qe),Qe.set(ge.pageX,ge.pageY)}function fn(ge){const Qe=ge.pointerId===O[0].pointerId?O[1]:O[0];return I[Qe.pointerId]}this.dollyIn=(ge=W())=>{ce(ge),r.update()},this.dollyOut=(ge=W())=>{B(ge),r.update()},this.getScale=()=>f,this.setScale=ge=>{Z(ge),r.update()},this.getZoomScale=()=>W(),n!==void 0&&this.connect(n),this.update()}};class qLe extends ZB{constructor(e){super(e),this.type=pa}parse(e){const o=function(k,L){switch(k){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(L||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(L||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(L||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(L||""))}},d=`
`,h=function(k,L,O){L=L||1024;let U=k.pos,W=-1,q=0,J="",K=String.fromCharCode.apply(null,new Uint16Array(k.subarray(U,U+128)));for(;0>(W=K.indexOf(d))&&q<L&&U<k.byteLength;)J+=K,q+=K.length,U+=128,K+=String.fromCharCode.apply(null,new Uint16Array(k.subarray(U,U+128)));return-1<W?(k.pos+=q+W+1,J+K.slice(0,W)):!1},f=function(k){const L=/^#\?(\S+)/,O=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,I=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,U=/^\s*FORMAT=(\S+)\s*$/,W=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,q={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let J,K;for((k.pos>=k.byteLength||!(J=h(k)))&&o(1,"no header found"),(K=J.match(L))||o(3,"bad initial token"),q.valid|=1,q.programtype=K[1],q.string+=J+`
`;J=h(k),J!==!1;){if(q.string+=J+`
`,J.charAt(0)==="#"){q.comments+=J+`
`;continue}if((K=J.match(O))&&(q.gamma=parseFloat(K[1])),(K=J.match(I))&&(q.exposure=parseFloat(K[1])),(K=J.match(U))&&(q.valid|=2,q.format=K[1]),(K=J.match(W))&&(q.valid|=4,q.height=parseInt(K[1],10),q.width=parseInt(K[2],10)),q.valid&2&&q.valid&4)break}return q.valid&2||o(3,"missing format specifier"),q.valid&4||o(3,"missing image size specifier"),q},p=function(k,L,O){const I=L;if(I<8||I>32767||k[0]!==2||k[1]!==2||k[2]&128)return new Uint8Array(k);I!==(k[2]<<8|k[3])&&o(3,"wrong scanline width");const U=new Uint8Array(4*L*O);U.length||o(4,"unable to allocate buffer space");let W=0,q=0;const J=4*I,K=new Uint8Array(4),ne=new Uint8Array(J);let $=O;for(;$>0&&q<k.byteLength;){q+4>k.byteLength&&o(1),K[0]=k[q++],K[1]=k[q++],K[2]=k[q++],K[3]=k[q++],(K[0]!=2||K[1]!=2||(K[2]<<8|K[3])!=I)&&o(3,"bad rgbe scanline format");let Z=0,B;for(;Z<J&&q<k.byteLength;){B=k[q++];const fe=B>128;if(fe&&(B-=128),(B===0||Z+B>J)&&o(3,"bad scanline data"),fe){const Q=k[q++];for(let xe=0;xe<B;xe++)ne[Z++]=Q}else ne.set(k.subarray(q,q+B),Z),Z+=B,q+=B}const ce=I;for(let fe=0;fe<ce;fe++){let Q=0;U[W]=ne[fe+Q],Q+=I,U[W+1]=ne[fe+Q],Q+=I,U[W+2]=ne[fe+Q],Q+=I,U[W+3]=ne[fe+Q],W+=4}$--}return U},m=function(k,L,O,I){const U=k[L+3],W=Math.pow(2,U-128)/255;O[I+0]=k[L+0]*W,O[I+1]=k[L+1]*W,O[I+2]=k[L+2]*W,O[I+3]=1},y=function(k,L,O,I){const U=k[L+3],W=Math.pow(2,U-128)/255;O[I+0]=ty.toHalfFloat(Math.min(k[L+0]*W,65504)),O[I+1]=ty.toHalfFloat(Math.min(k[L+1]*W,65504)),O[I+2]=ty.toHalfFloat(Math.min(k[L+2]*W,65504)),O[I+3]=ty.toHalfFloat(1)},b=new Uint8Array(e);b.pos=0;const v=f(b),_=v.width,S=v.height,j=p(b.subarray(b.pos),_,S);let N,A,M;switch(this.type){case Wi:M=j.length/4;const k=new Float32Array(M*4);for(let O=0;O<M;O++)m(j,O*4,k,O*4);N=k,A=Wi;break;case pa:M=j.length/4;const L=new Uint16Array(M*4);for(let O=0;O<M;O++)y(j,O*4,L,O*4);N=L,A=pa;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:_,height:S,data:N,header:v.string,gamma:v.gamma,exposure:v.exposure,type:A}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,l){switch(o.type){case Wi:case pa:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=Gr,o.magFilter=Gr,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,l)}return super.load(e,s,r,i)}}const G_=fse>=152;class YLe extends ZB{constructor(e){super(e),this.type=pa}parse(e){const L=Math.pow(2.7182818,2.2);function O(Y,re){for(var Ee=0,qe=0;qe<65536;++qe)(qe==0||Y[qe>>3]&1<<(qe&7))&&(re[Ee++]=qe);for(var G=Ee-1;Ee<65536;)re[Ee++]=0;return G}function I(Y){for(var re=0;re<16384;re++)Y[re]={},Y[re].len=0,Y[re].lit=0,Y[re].p=null}const U={l:0,c:0,lc:0};function W(Y,re,Ee,qe,G){for(;Ee<Y;)re=re<<8|fn(qe,G),Ee+=8;Ee-=Y,U.l=re>>Ee&(1<<Y)-1,U.c=re,U.lc=Ee}const q=new Array(59);function J(Y){for(var re=0;re<=58;++re)q[re]=0;for(var re=0;re<65537;++re)q[Y[re]]+=1;for(var Ee=0,re=58;re>0;--re){var qe=Ee+q[re]>>1;q[re]=Ee,Ee=qe}for(var re=0;re<65537;++re){var G=Y[re];G>0&&(Y[re]=G|q[G]++<<6)}}function K(Y,re,Ee,qe,G,se,be){for(var ye=Ee,pe=0,De=0;G<=se;G++){if(ye.value-Ee.value>qe)return!1;W(6,pe,De,Y,ye);var We=U.l;if(pe=U.c,De=U.lc,be[G]=We,We==63){if(ye.value-Ee.value>qe)throw"Something wrong with hufUnpackEncTable";W(8,pe,De,Y,ye);var Ge=U.l+6;if(pe=U.c,De=U.lc,G+Ge>se+1)throw"Something wrong with hufUnpackEncTable";for(;Ge--;)be[G++]=0;G--}else if(We>=59){var Ge=We-59+2;if(G+Ge>se+1)throw"Something wrong with hufUnpackEncTable";for(;Ge--;)be[G++]=0;G--}}J(be)}function ne(Y){return Y&63}function $(Y){return Y>>6}function Z(Y,re,Ee,qe){for(;re<=Ee;re++){var G=$(Y[re]),se=ne(Y[re]);if(G>>se)throw"Invalid table entry";if(se>14){var be=qe[G>>se-14];if(be.len)throw"Invalid table entry";if(be.lit++,be.p){var ye=be.p;be.p=new Array(be.lit);for(var pe=0;pe<be.lit-1;++pe)be.p[pe]=ye[pe]}else be.p=new Array(1);be.p[be.lit-1]=re}else if(se)for(var De=0,pe=1<<14-se;pe>0;pe--){var be=qe[(G<<14-se)+De];if(be.len||be.p)throw"Invalid table entry";be.len=se,be.lit=re,De++}}return!0}const B={c:0,lc:0};function ce(Y,re,Ee,qe){Y=Y<<8|fn(Ee,qe),re+=8,B.c=Y,B.lc=re}const fe={c:0,lc:0};function Q(Y,re,Ee,qe,G,se,be,ye,pe,De){if(Y==re){qe<8&&(ce(Ee,qe,G,be),Ee=B.c,qe=B.lc),qe-=8;var We=Ee>>qe,We=new Uint8Array([We])[0];if(pe.value+We>De)return!1;for(var Ge=ye[pe.value-1];We-- >0;)ye[pe.value++]=Ge}else if(pe.value<De)ye[pe.value++]=Y;else return!1;fe.c=Ee,fe.lc=qe}function xe(Y){return Y&65535}function ke(Y){var re=xe(Y);return re>32767?re-65536:re}const Re={a:0,b:0};function Ce(Y,re){var Ee=ke(Y),qe=ke(re),G=qe,se=Ee+(G&1)+(G>>1),be=se,ye=se-G;Re.a=be,Re.b=ye}function tt(Y,re){var Ee=xe(Y),qe=xe(re),G=Ee-(qe>>1)&65535,se=qe+G-32768&65535;Re.a=se,Re.b=G}function Fe(Y,re,Ee,qe,G,se,be){for(var ye=be<16384,pe=Ee>G?G:Ee,De=1,We;De<=pe;)De<<=1;for(De>>=1,We=De,De>>=1;De>=1;){for(var Ge=0,At=Ge+se*(G-We),ft=se*De,mt=se*We,yt=qe*De,Dt=qe*We,en,cn,rn,Ft;Ge<=At;Ge+=mt){for(var St=Ge,Pn=Ge+qe*(Ee-We);St<=Pn;St+=Dt){var Bt=St+yt,nr=St+ft,si=nr+yt;ye?(Ce(Y[St+re],Y[nr+re]),en=Re.a,rn=Re.b,Ce(Y[Bt+re],Y[si+re]),cn=Re.a,Ft=Re.b,Ce(en,cn),Y[St+re]=Re.a,Y[Bt+re]=Re.b,Ce(rn,Ft),Y[nr+re]=Re.a,Y[si+re]=Re.b):(tt(Y[St+re],Y[nr+re]),en=Re.a,rn=Re.b,tt(Y[Bt+re],Y[si+re]),cn=Re.a,Ft=Re.b,tt(en,cn),Y[St+re]=Re.a,Y[Bt+re]=Re.b,tt(rn,Ft),Y[nr+re]=Re.a,Y[si+re]=Re.b)}if(Ee&De){var nr=St+ft;ye?Ce(Y[St+re],Y[nr+re]):tt(Y[St+re],Y[nr+re]),en=Re.a,Y[nr+re]=Re.b,Y[St+re]=en}}if(G&De)for(var St=Ge,Pn=Ge+qe*(Ee-We);St<=Pn;St+=Dt){var Bt=St+yt;ye?Ce(Y[St+re],Y[Bt+re]):tt(Y[St+re],Y[Bt+re]),en=Re.a,Y[Bt+re]=Re.b,Y[St+re]=en}We=De,De>>=1}return Ge}function Ve(Y,re,Ee,qe,G,se,be,ye,pe,De){for(var We=0,Ge=0,At=ye,ft=Math.trunc(G.value+(se+7)/8);G.value<ft;)for(ce(We,Ge,Ee,G),We=B.c,Ge=B.lc;Ge>=14;){var mt=We>>Ge-14&16383,yt=re[mt];if(yt.len)Ge-=yt.len,Q(yt.lit,be,We,Ge,Ee,qe,G,pe,De,At),We=fe.c,Ge=fe.lc;else{if(!yt.p)throw"hufDecode issues";var Dt;for(Dt=0;Dt<yt.lit;Dt++){for(var en=ne(Y[yt.p[Dt]]);Ge<en&&G.value<ft;)ce(We,Ge,Ee,G),We=B.c,Ge=B.lc;if(Ge>=en&&$(Y[yt.p[Dt]])==(We>>Ge-en&(1<<en)-1)){Ge-=en,Q(yt.p[Dt],be,We,Ge,Ee,qe,G,pe,De,At),We=fe.c,Ge=fe.lc;break}}if(Dt==yt.lit)throw"hufDecode issues"}}var cn=8-se&7;for(We>>=cn,Ge-=cn;Ge>0;){var yt=re[We<<14-Ge&16383];if(yt.len)Ge-=yt.len,Q(yt.lit,be,We,Ge,Ee,qe,G,pe,De,At),We=fe.c,Ge=fe.lc;else throw"hufDecode issues"}return!0}function Ue(Y,re,Ee,qe,G,se){var be={value:0},ye=Ee.value,pe=gt(re,Ee),De=gt(re,Ee);Ee.value+=4;var We=gt(re,Ee);if(Ee.value+=4,pe<0||pe>=65537||De<0||De>=65537)throw"Something wrong with HUF_ENCSIZE";var Ge=new Array(65537),At=new Array(16384);I(At);var ft=qe-(Ee.value-ye);if(K(Y,re,Ee,ft,pe,De,Ge),We>8*(qe-(Ee.value-ye)))throw"Something wrong with hufUncompress";Z(Ge,pe,De,At),Ve(Ge,At,Y,re,Ee,We,De,se,G,be)}function he(Y,re,Ee){for(var qe=0;qe<Ee;++qe)re[qe]=Y[re[qe]]}function te(Y){for(var re=1;re<Y.length;re++){var Ee=Y[re-1]+Y[re]-128;Y[re]=Ee}}function ze(Y,re){for(var Ee=0,qe=Math.floor((Y.length+1)/2),G=0,se=Y.length-1;!(G>se||(re[G++]=Y[Ee++],G>se));)re[G++]=Y[qe++]}function nt(Y){for(var re=Y.byteLength,Ee=new Array,qe=0,G=new DataView(Y);re>0;){var se=G.getInt8(qe++);if(se<0){var be=-se;re-=be+1;for(var ye=0;ye<be;ye++)Ee.push(G.getUint8(qe++))}else{var be=se;re-=2;for(var pe=G.getUint8(qe++),ye=0;ye<be+1;ye++)Ee.push(pe)}}return Ee}function Je(Y,re,Ee,qe,G,se){var Bt=new DataView(se.buffer),be=Ee[Y.idx[0]].width,ye=Ee[Y.idx[0]].height,pe=3,De=Math.floor(be/8),We=Math.ceil(be/8),Ge=Math.ceil(ye/8),At=be-(We-1)*8,ft=ye-(Ge-1)*8,mt={value:0},yt=new Array(pe),Dt=new Array(pe),en=new Array(pe),cn=new Array(pe),rn=new Array(pe);for(let pn=0;pn<pe;++pn)rn[pn]=re[Y.idx[pn]],yt[pn]=pn<1?0:yt[pn-1]+We*Ge,Dt[pn]=new Float32Array(64),en[pn]=new Uint16Array(64),cn[pn]=new Uint16Array(We*64);for(let pn=0;pn<Ge;++pn){var Ft=8;pn==Ge-1&&(Ft=ft);var St=8;for(let _r=0;_r<We;++_r){_r==We-1&&(St=At);for(let kn=0;kn<pe;++kn)en[kn].fill(0),en[kn][0]=G[yt[kn]++],rt(mt,qe,en[kn]),Pt(en[kn],Dt[kn]),bt(Dt[kn]);H(Dt);for(let kn=0;kn<pe;++kn)z(Dt[kn],cn[kn],_r*64)}let Fr=0;for(let _r=0;_r<pe;++_r){const kn=Ee[Y.idx[_r]].type;for(let Ur=8*pn;Ur<8*pn+Ft;++Ur){Fr=rn[_r][Ur];for(let Za=0;Za<De;++Za){const vs=Za*64+(Ur&7)*8;Bt.setUint16(Fr+0*2*kn,cn[_r][vs+0],!0),Bt.setUint16(Fr+1*2*kn,cn[_r][vs+1],!0),Bt.setUint16(Fr+2*2*kn,cn[_r][vs+2],!0),Bt.setUint16(Fr+3*2*kn,cn[_r][vs+3],!0),Bt.setUint16(Fr+4*2*kn,cn[_r][vs+4],!0),Bt.setUint16(Fr+5*2*kn,cn[_r][vs+5],!0),Bt.setUint16(Fr+6*2*kn,cn[_r][vs+6],!0),Bt.setUint16(Fr+7*2*kn,cn[_r][vs+7],!0),Fr+=8*2*kn}}if(De!=We)for(let Ur=8*pn;Ur<8*pn+Ft;++Ur){const Za=rn[_r][Ur]+8*De*2*kn,vs=De*64+(Ur&7)*8;for(let il=0;il<St;++il)Bt.setUint16(Za+il*2*kn,cn[_r][vs+il],!0)}}}for(var Pn=new Uint16Array(be),Bt=new DataView(se.buffer),nr=0;nr<pe;++nr){Ee[Y.idx[nr]].decoded=!0;var si=Ee[Y.idx[nr]].type;if(Ee[nr].type==2)for(var br=0;br<ye;++br){const pn=rn[nr][br];for(var ki=0;ki<be;++ki)Pn[ki]=Bt.getUint16(pn+ki*2*si,!0);for(var ki=0;ki<be;++ki)Bt.setFloat32(pn+ki*2*si,Se(Pn[ki]),!0)}}}function rt(Y,re,Ee){for(var qe,G=1;G<64;)qe=re[Y.value],qe==65280?G=64:qe>>8==255?G+=qe&255:(Ee[G]=qe,G++),Y.value++}function Pt(Y,re){re[0]=Se(Y[0]),re[1]=Se(Y[1]),re[2]=Se(Y[5]),re[3]=Se(Y[6]),re[4]=Se(Y[14]),re[5]=Se(Y[15]),re[6]=Se(Y[27]),re[7]=Se(Y[28]),re[8]=Se(Y[2]),re[9]=Se(Y[4]),re[10]=Se(Y[7]),re[11]=Se(Y[13]),re[12]=Se(Y[16]),re[13]=Se(Y[26]),re[14]=Se(Y[29]),re[15]=Se(Y[42]),re[16]=Se(Y[3]),re[17]=Se(Y[8]),re[18]=Se(Y[12]),re[19]=Se(Y[17]),re[20]=Se(Y[25]),re[21]=Se(Y[30]),re[22]=Se(Y[41]),re[23]=Se(Y[43]),re[24]=Se(Y[9]),re[25]=Se(Y[11]),re[26]=Se(Y[18]),re[27]=Se(Y[24]),re[28]=Se(Y[31]),re[29]=Se(Y[40]),re[30]=Se(Y[44]),re[31]=Se(Y[53]),re[32]=Se(Y[10]),re[33]=Se(Y[19]),re[34]=Se(Y[23]),re[35]=Se(Y[32]),re[36]=Se(Y[39]),re[37]=Se(Y[45]),re[38]=Se(Y[52]),re[39]=Se(Y[54]),re[40]=Se(Y[20]),re[41]=Se(Y[22]),re[42]=Se(Y[33]),re[43]=Se(Y[38]),re[44]=Se(Y[46]),re[45]=Se(Y[51]),re[46]=Se(Y[55]),re[47]=Se(Y[60]),re[48]=Se(Y[21]),re[49]=Se(Y[34]),re[50]=Se(Y[37]),re[51]=Se(Y[47]),re[52]=Se(Y[50]),re[53]=Se(Y[56]),re[54]=Se(Y[59]),re[55]=Se(Y[61]),re[56]=Se(Y[35]),re[57]=Se(Y[36]),re[58]=Se(Y[48]),re[59]=Se(Y[49]),re[60]=Se(Y[57]),re[61]=Se(Y[58]),re[62]=Se(Y[62]),re[63]=Se(Y[63])}function bt(Y){const re=.5*Math.cos(.7853975),Ee=.5*Math.cos(3.14159/16),qe=.5*Math.cos(3.14159/8),G=.5*Math.cos(3*3.14159/16),se=.5*Math.cos(5*3.14159/16),be=.5*Math.cos(3*3.14159/8),ye=.5*Math.cos(7*3.14159/16);for(var pe=new Array(4),De=new Array(4),We=new Array(4),Ge=new Array(4),At=0;At<8;++At){var ft=At*8;pe[0]=qe*Y[ft+2],pe[1]=be*Y[ft+2],pe[2]=qe*Y[ft+6],pe[3]=be*Y[ft+6],De[0]=Ee*Y[ft+1]+G*Y[ft+3]+se*Y[ft+5]+ye*Y[ft+7],De[1]=G*Y[ft+1]-ye*Y[ft+3]-Ee*Y[ft+5]-se*Y[ft+7],De[2]=se*Y[ft+1]-Ee*Y[ft+3]+ye*Y[ft+5]+G*Y[ft+7],De[3]=ye*Y[ft+1]-se*Y[ft+3]+G*Y[ft+5]-Ee*Y[ft+7],We[0]=re*(Y[ft+0]+Y[ft+4]),We[3]=re*(Y[ft+0]-Y[ft+4]),We[1]=pe[0]+pe[3],We[2]=pe[1]-pe[2],Ge[0]=We[0]+We[1],Ge[1]=We[3]+We[2],Ge[2]=We[3]-We[2],Ge[3]=We[0]-We[1],Y[ft+0]=Ge[0]+De[0],Y[ft+1]=Ge[1]+De[1],Y[ft+2]=Ge[2]+De[2],Y[ft+3]=Ge[3]+De[3],Y[ft+4]=Ge[3]-De[3],Y[ft+5]=Ge[2]-De[2],Y[ft+6]=Ge[1]-De[1],Y[ft+7]=Ge[0]-De[0]}for(var mt=0;mt<8;++mt)pe[0]=qe*Y[16+mt],pe[1]=be*Y[16+mt],pe[2]=qe*Y[48+mt],pe[3]=be*Y[48+mt],De[0]=Ee*Y[8+mt]+G*Y[24+mt]+se*Y[40+mt]+ye*Y[56+mt],De[1]=G*Y[8+mt]-ye*Y[24+mt]-Ee*Y[40+mt]-se*Y[56+mt],De[2]=se*Y[8+mt]-Ee*Y[24+mt]+ye*Y[40+mt]+G*Y[56+mt],De[3]=ye*Y[8+mt]-se*Y[24+mt]+G*Y[40+mt]-Ee*Y[56+mt],We[0]=re*(Y[mt]+Y[32+mt]),We[3]=re*(Y[mt]-Y[32+mt]),We[1]=pe[0]+pe[3],We[2]=pe[1]-pe[2],Ge[0]=We[0]+We[1],Ge[1]=We[3]+We[2],Ge[2]=We[3]-We[2],Ge[3]=We[0]-We[1],Y[0+mt]=Ge[0]+De[0],Y[8+mt]=Ge[1]+De[1],Y[16+mt]=Ge[2]+De[2],Y[24+mt]=Ge[3]+De[3],Y[32+mt]=Ge[3]-De[3],Y[40+mt]=Ge[2]-De[2],Y[48+mt]=Ge[1]-De[1],Y[56+mt]=Ge[0]-De[0]}function H(Y){for(var re=0;re<64;++re){var Ee=Y[0][re],qe=Y[1][re],G=Y[2][re];Y[0][re]=Ee+1.5747*G,Y[1][re]=Ee-.1873*qe-.4682*G,Y[2][re]=Ee+1.8556*qe}}function z(Y,re,Ee){for(var qe=0;qe<64;++qe)re[Ee+qe]=ty.toHalfFloat(oe(Y[qe]))}function oe(Y){return Y<=1?Math.sign(Y)*Math.pow(Math.abs(Y),2.2):Math.sign(Y)*Math.pow(L,Math.abs(Y)-1)}function je(Y){return new DataView(Y.array.buffer,Y.offset.value,Y.size)}function Ne(Y){var re=Y.viewer.buffer.slice(Y.offset.value,Y.offset.value+Y.size),Ee=new Uint8Array(nt(re)),qe=new Uint8Array(Ee.length);return te(Ee),ze(Ee,qe),new DataView(qe.buffer)}function we(Y){var re=Y.array.slice(Y.offset.value,Y.offset.value+Y.size),Ee=jT(re),qe=new Uint8Array(Ee.length);return te(Ee),ze(Ee,qe),new DataView(qe.buffer)}function me(Y){for(var re=Y.viewer,Ee={value:Y.offset.value},qe=new Uint16Array(Y.width*Y.scanlineBlockSize*(Y.channels*Y.type)),G=new Uint8Array(8192),se=0,be=new Array(Y.channels),ye=0;ye<Y.channels;ye++)be[ye]={},be[ye].start=se,be[ye].end=be[ye].start,be[ye].nx=Y.width,be[ye].ny=Y.lines,be[ye].size=Y.type,se+=be[ye].nx*be[ye].ny*be[ye].size;var pe=st(re,Ee),De=st(re,Ee);if(De>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(pe<=De)for(var ye=0;ye<De-pe+1;ye++)G[ye+pe]=ge(re,Ee);var We=new Uint16Array(65536),Ge=O(G,We),At=gt(re,Ee);Ue(Y.array,re,Ee,At,qe,se);for(var ye=0;ye<Y.channels;++ye)for(var ft=be[ye],mt=0;mt<be[ye].size;++mt)Fe(qe,ft.start+mt,ft.nx,ft.size,ft.ny,ft.nx*ft.size,Ge);he(We,qe,se);for(var yt=0,Dt=new Uint8Array(qe.buffer.byteLength),en=0;en<Y.lines;en++)for(var cn=0;cn<Y.channels;cn++){var ft=be[cn],rn=ft.nx*ft.size,Ft=new Uint8Array(qe.buffer,ft.end*2,rn*2);Dt.set(Ft,yt),yt+=rn*2,ft.end+=rn}return new DataView(Dt.buffer)}function Ae(Y){var re=Y.array.slice(Y.offset.value,Y.offset.value+Y.size),Ee=jT(re);const qe=Y.lines*Y.channels*Y.width,G=Y.type==1?new Uint16Array(qe):new Uint32Array(qe);let se=0,be=0;const ye=new Array(4);for(let pe=0;pe<Y.lines;pe++)for(let De=0;De<Y.channels;De++){let We=0;switch(Y.type){case 1:ye[0]=se,ye[1]=ye[0]+Y.width,se=ye[1]+Y.width;for(let Ge=0;Ge<Y.width;++Ge){const At=Ee[ye[0]++]<<8|Ee[ye[1]++];We+=At,G[be]=We,be++}break;case 2:ye[0]=se,ye[1]=ye[0]+Y.width,ye[2]=ye[1]+Y.width,se=ye[2]+Y.width;for(let Ge=0;Ge<Y.width;++Ge){const At=Ee[ye[0]++]<<24|Ee[ye[1]++]<<16|Ee[ye[2]++]<<8;We+=At,G[be]=We,be++}break}}return new DataView(G.buffer)}function $e(Y){var re=Y.viewer,Ee={value:Y.offset.value},qe=new Uint8Array(Y.width*Y.lines*(Y.channels*Y.type*2)),G={version:Qe(re,Ee),unknownUncompressedSize:Qe(re,Ee),unknownCompressedSize:Qe(re,Ee),acCompressedSize:Qe(re,Ee),dcCompressedSize:Qe(re,Ee),rleCompressedSize:Qe(re,Ee),rleUncompressedSize:Qe(re,Ee),rleRawSize:Qe(re,Ee),totalAcUncompressedCount:Qe(re,Ee),totalDcUncompressedCount:Qe(re,Ee),acCompression:Qe(re,Ee)};if(G.version<2)throw"EXRLoader.parse: "+Zs.compression+" version "+G.version+" is unsupported";for(var se=new Array,be=st(re,Ee)-2;be>0;){var ye=_t(re.buffer,Ee),pe=ge(re,Ee),De=pe>>2&3,We=(pe>>4)-1,Ge=new Int8Array([We])[0],At=ge(re,Ee);se.push({name:ye,index:Ge,type:At,compression:De}),be-=ye.length+3}for(var ft=Zs.channels,mt=new Array(Y.channels),yt=0;yt<Y.channels;++yt){var Dt=mt[yt]={},en=ft[yt];Dt.name=en.name,Dt.compression=0,Dt.decoded=!1,Dt.type=en.pixelType,Dt.pLinear=en.pLinear,Dt.width=Y.width,Dt.height=Y.lines}for(var cn={idx:new Array(3)},rn=0;rn<Y.channels;++rn)for(var Dt=mt[rn],yt=0;yt<se.length;++yt){var Ft=se[yt];Dt.name==Ft.name&&(Dt.compression=Ft.compression,Ft.index>=0&&(cn.idx[Ft.index]=rn),Dt.offset=rn)}if(G.acCompressedSize>0)switch(G.acCompression){case 0:var Bt=new Uint16Array(G.totalAcUncompressedCount);Ue(Y.array,re,Ee,G.acCompressedSize,Bt,G.totalAcUncompressedCount);break;case 1:var St=Y.array.slice(Ee.value,Ee.value+G.totalAcUncompressedCount),Pn=jT(St),Bt=new Uint16Array(Pn.buffer);Ee.value+=G.totalAcUncompressedCount;break}if(G.dcCompressedSize>0){var nr={array:Y.array,offset:Ee,size:G.dcCompressedSize},si=new Uint16Array(we(nr).buffer);Ee.value+=G.dcCompressedSize}if(G.rleRawSize>0){var St=Y.array.slice(Ee.value,Ee.value+G.rleCompressedSize),Pn=jT(St),br=nt(Pn.buffer);Ee.value+=G.rleCompressedSize}for(var ki=0,pn=new Array(mt.length),yt=0;yt<pn.length;++yt)pn[yt]=new Array;for(var Fr=0;Fr<Y.lines;++Fr)for(var _r=0;_r<mt.length;++_r)pn[_r].push(ki),ki+=mt[_r].width*Y.type*2;Je(cn,pn,mt,Bt,si,qe);for(var yt=0;yt<mt.length;++yt){var Dt=mt[yt];if(!Dt.decoded)switch(Dt.compression){case 2:for(var kn=0,Ur=0,Fr=0;Fr<Y.lines;++Fr){for(var Za=pn[yt][kn],vs=0;vs<Dt.width;++vs){for(var il=0;il<2*Dt.type;++il)qe[Za++]=br[Ur+il*Dt.width*Dt.height];Ur++}kn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(qe.buffer)}function _t(Y,re){for(var Ee=new Uint8Array(Y),qe=0;Ee[re.value+qe]!=0;)qe+=1;var G=new TextDecoder().decode(Ee.slice(re.value,re.value+qe));return re.value=re.value+qe+1,G}function Ze(Y,re,Ee){var qe=new TextDecoder().decode(new Uint8Array(Y).slice(re.value,re.value+Ee));return re.value=re.value+Ee,qe}function wt(Y,re){var Ee=Rt(Y,re),qe=gt(Y,re);return[Ee,qe]}function qt(Y,re){var Ee=gt(Y,re),qe=gt(Y,re);return[Ee,qe]}function Rt(Y,re){var Ee=Y.getInt32(re.value,!0);return re.value=re.value+4,Ee}function gt(Y,re){var Ee=Y.getUint32(re.value,!0);return re.value=re.value+4,Ee}function fn(Y,re){var Ee=Y[re.value];return re.value=re.value+1,Ee}function ge(Y,re){var Ee=Y.getUint8(re.value);return re.value=re.value+1,Ee}const Qe=function(Y,re){let Ee;return"getBigInt64"in DataView.prototype?Ee=Number(Y.getBigInt64(re.value,!0)):Ee=Y.getUint32(re.value+4,!0)+Number(Y.getUint32(re.value,!0)<<32),re.value+=8,Ee};function ue(Y,re){var Ee=Y.getFloat32(re.value,!0);return re.value+=4,Ee}function pt(Y,re){return ty.toHalfFloat(ue(Y,re))}function Se(Y){var re=(Y&31744)>>10,Ee=Y&1023;return(Y>>15?-1:1)*(re?re===31?Ee?NaN:1/0:Math.pow(2,re-15)*(1+Ee/1024):6103515625e-14*(Ee/1024))}function st(Y,re){var Ee=Y.getUint16(re.value,!0);return re.value+=2,Ee}function Tt(Y,re){return Se(st(Y,re))}function kt(Y,re,Ee,qe){for(var G=Ee.value,se=[];Ee.value<G+qe-1;){var be=_t(re,Ee),ye=Rt(Y,Ee),pe=ge(Y,Ee);Ee.value+=3;var De=Rt(Y,Ee),We=Rt(Y,Ee);se.push({name:be,pixelType:ye,pLinear:pe,xSampling:De,ySampling:We})}return Ee.value+=1,se}function Un(Y,re){var Ee=ue(Y,re),qe=ue(Y,re),G=ue(Y,re),se=ue(Y,re),be=ue(Y,re),ye=ue(Y,re),pe=ue(Y,re),De=ue(Y,re);return{redX:Ee,redY:qe,greenX:G,greenY:se,blueX:be,blueY:ye,whiteX:pe,whiteY:De}}function Ot(Y,re){var Ee=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],qe=ge(Y,re);return Ee[qe]}function hn(Y,re){var Ee=gt(Y,re),qe=gt(Y,re),G=gt(Y,re),se=gt(Y,re);return{xMin:Ee,yMin:qe,xMax:G,yMax:se}}function Vt(Y,re){var Ee=["INCREASING_Y"],qe=ge(Y,re);return Ee[qe]}function pr(Y,re){var Ee=ue(Y,re),qe=ue(Y,re);return[Ee,qe]}function Ar(Y,re){var Ee=ue(Y,re),qe=ue(Y,re),G=ue(Y,re);return[Ee,qe,G]}function Xi(Y,re,Ee,qe,G){if(qe==="string"||qe==="stringvector"||qe==="iccProfile")return Ze(re,Ee,G);if(qe==="chlist")return kt(Y,re,Ee,G);if(qe==="chromaticities")return Un(Y,Ee);if(qe==="compression")return Ot(Y,Ee);if(qe==="box2i")return hn(Y,Ee);if(qe==="lineOrder")return Vt(Y,Ee);if(qe==="float")return ue(Y,Ee);if(qe==="v2f")return pr(Y,Ee);if(qe==="v3f")return Ar(Y,Ee);if(qe==="int")return Rt(Y,Ee);if(qe==="rational")return wt(Y,Ee);if(qe==="timecode")return qt(Y,Ee);if(qe==="preview")return Ee.value+=G,"skipped";Ee.value+=G}function Ks(Y,re,Ee){const qe={};if(Y.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";qe.version=Y.getUint8(4);const G=Y.getUint8(5);qe.spec={singleTile:!!(G&2),longName:!!(G&4),deepFormat:!!(G&8),multiPart:!!(G&16)},Ee.value=8;for(var se=!0;se;){var be=_t(re,Ee);if(be==0)se=!1;else{var ye=_t(re,Ee),pe=gt(Y,Ee),De=Xi(Y,re,Ee,ye,pe);De===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${ye}'.`):qe[be]=De}}if(G&-5)throw console.error("EXRHeader:",qe),"THREE.EXRLoader: provided file is currently unsupported.";return qe}function Si(Y,re,Ee,qe,G){const se={size:0,viewer:re,array:Ee,offset:qe,width:Y.dataWindow.xMax-Y.dataWindow.xMin+1,height:Y.dataWindow.yMax-Y.dataWindow.yMin+1,channels:Y.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:Y.channels[0].pixelType,uncompress:null,getter:null,format:null,[G_?"colorSpace":"encoding"]:null};switch(Y.compression){case"NO_COMPRESSION":se.lines=1,se.uncompress=je;break;case"RLE_COMPRESSION":se.lines=1,se.uncompress=Ne;break;case"ZIPS_COMPRESSION":se.lines=1,se.uncompress=we;break;case"ZIP_COMPRESSION":se.lines=16,se.uncompress=we;break;case"PIZ_COMPRESSION":se.lines=32,se.uncompress=me;break;case"PXR24_COMPRESSION":se.lines=16,se.uncompress=Ae;break;case"DWAA_COMPRESSION":se.lines=32,se.uncompress=$e;break;case"DWAB_COMPRESSION":se.lines=256,se.uncompress=$e;break;default:throw"EXRLoader.parse: "+Y.compression+" is unsupported"}if(se.scanlineBlockSize=se.lines,se.type==1)switch(G){case Wi:se.getter=Tt,se.inputSize=2;break;case pa:se.getter=st,se.inputSize=2;break}else if(se.type==2)switch(G){case Wi:se.getter=ue,se.inputSize=4;break;case pa:se.getter=pt,se.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+se.type+" for "+Y.compression+".";se.blockCount=(Y.dataWindow.yMax+1)/se.scanlineBlockSize;for(var be=0;be<se.blockCount;be++)Qe(re,qe);se.outputChannels=se.channels==3?4:se.channels;const ye=se.width*se.height*se.outputChannels;switch(G){case Wi:se.byteArray=new Float32Array(ye),se.channels<se.outputChannels&&se.byteArray.fill(1,0,ye);break;case pa:se.byteArray=new Uint16Array(ye),se.channels<se.outputChannels&&se.byteArray.fill(15360,0,ye);break;default:console.error("THREE.EXRLoader: unsupported type: ",G);break}return se.bytesPerLine=se.width*se.inputSize*se.channels,se.outputChannels==4?se.format=ms:se.format=fj,G_?se.colorSpace="srgb-linear":se.encoding=3e3,se}const Pi=new DataView(e),Lu=new Uint8Array(e),ql={value:0},Zs=Ks(Pi,e,ql),Xn=Si(Zs,Pi,Lu,ql,this.type),Fc={value:0},of={R:0,G:1,B:2,A:3,Y:0};for(let Y=0;Y<Xn.height/Xn.scanlineBlockSize;Y++){const re=gt(Pi,ql);Xn.size=gt(Pi,ql),Xn.lines=re+Xn.scanlineBlockSize>Xn.height?Xn.height-re:Xn.scanlineBlockSize;const qe=Xn.size<Xn.lines*Xn.bytesPerLine?Xn.uncompress(Xn):je(Xn);ql.value+=Xn.size;for(let G=0;G<Xn.scanlineBlockSize;G++){const se=G+Y*Xn.scanlineBlockSize;if(se>=Xn.height)break;for(let be=0;be<Xn.channels;be++){const ye=of[Zs.channels[be].name];for(let pe=0;pe<Xn.width;pe++){Fc.value=(G*(Xn.channels*Xn.width)+be*Xn.width+pe)*Xn.inputSize;const De=(Xn.height-1-se)*(Xn.width*Xn.outputChannels)+pe*Xn.outputChannels+ye;Xn.byteArray[De]=Xn.getter(qe,Fc)}}}}return{header:Zs,width:Xn.width,height:Xn.height,data:Xn.byteArray,format:Xn.format,[G_?"colorSpace":"encoding"]:Xn[G_?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,l){G_?o.colorSpace=l.colorSpace:o.encoding=l.encoding,o.minFilter=Gr,o.magFilter=Gr,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,l)}return super.load(e,s,r,i)}}const XLe=()=>parseInt(iw.replace(/\D+/g,"")),bse=XLe(),KLe=C.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:l,onEnd:c,...u},d)=>{const h=Bo(A=>A.invalidate),f=Bo(A=>A.camera),p=Bo(A=>A.gl),m=Bo(A=>A.events),y=Bo(A=>A.setEvents),b=Bo(A=>A.set),v=Bo(A=>A.get),_=Bo(A=>A.performance),S=e||f,j=r||m.connected||p.domElement,N=C.useMemo(()=>new GLe(S),[S]);return Ou(()=>{N.enabled&&N.update()},-1),C.useEffect(()=>(s&&N.connect(s===!0?j:s),N.connect(j),()=>void N.dispose()),[s,j,n,N,h]),C.useEffect(()=>{const A=L=>{h(),n&&_.regress(),o&&o(L)},M=L=>{l&&l(L)},k=L=>{c&&c(L)};return N.addEventListener("change",A),N.addEventListener("start",M),N.addEventListener("end",k),()=>{N.removeEventListener("start",M),N.removeEventListener("end",k),N.removeEventListener("change",A)}},[o,l,c,N,h,y]),C.useEffect(()=>{if(t){const A=v().controls;return b({controls:N}),()=>b({controls:A})}},[t,N]),C.createElement("primitive",Pc({ref:d,object:N,enableDamping:i},u))});var wse={exports:{}},ZLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QLe=ZLe,JLe=QLe;function _se(){}function Sse(){}Sse.resetWarningCache=_se;var e3e=function(){function t(r,i,s,o,l,c){if(c!==JLe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Sse,resetWarningCache:_se};return n.PropTypes=n,n};wse.exports=e3e();var t3e=wse.exports;const Vr=jr(t3e),n3e=3e3,r3e=3001,wL=bse>=154?"opaque_fragment":"output_fragment";class i3e extends gk{constructor(e){super(e),this.onBeforeCompile=(n,r)=>{const{isWebGL2:i}=r.capabilities;n.fragmentShader=n.fragmentShader.replace(`#include <${wL}>`,`
        ${i?`#include <${wL}>`:`#extension GL_OES_standard_derivatives : enable
#include <${wL}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${bse>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const s3e=C.forwardRef((t,e)=>{const[n]=C.useState(()=>new i3e(null));return C.createElement("primitive",Pc({},t,{object:n,ref:e,attach:"material"}))});function Ese(t,e){const n=t+"Geometry";return C.forwardRef(({args:r,children:i,...s},o)=>{const l=C.useRef(null);return C.useImperativeHandle(o,()=>l.current),C.useLayoutEffect(()=>void(e==null?void 0:e(l.current))),C.createElement("mesh",Pc({ref:l},s),C.createElement(n,{attach:"geometry",args:r}),i)})}const nE=Ese("cylinder"),NT=Ese("sphere"),ed=1e-5;function a3e(t,e,n){const r=new Bp,i=n-ed;return r.absarc(ed,ed,ed,-Math.PI/2,-Math.PI,!0),r.absarc(ed,e-i*2,ed,Math.PI,Math.PI/2,!0),r.absarc(t-i*2,e-i*2,ed,Math.PI/2,0,!0),r.absarc(t-i*2,ed,ed,0,-Math.PI/2,!0),r}const Da=C.forwardRef(function({args:[e=1,n=1,r=1]=[],radius:i=.05,steps:s=1,smoothness:o=4,bevelSegments:l=4,creaseAngle:c=.4,children:u,...d},h){const f=C.useMemo(()=>a3e(e,n,i),[e,n,i]),p=C.useMemo(()=>({depth:r-i*2,bevelEnabled:!0,bevelSegments:l*2,steps:s,bevelSize:i-ed,bevelThickness:i,curveSegments:o}),[r,i,o]),m=C.useRef(null);return C.useLayoutEffect(()=>{m.current&&(m.current.center(),SLe(m.current,c))},[f,p]),C.createElement("mesh",Pc({ref:h},d),C.createElement("extrudeGeometry",{ref:m,args:[f,p]}),u)}),Rk=C.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...l},c)=>{const u=C.useRef(null);C.useImperativeHandle(c,()=>u.current,[]);const d=C.useRef(Math.random()*1e4);return Ou(h=>{var f,p;if(!e||n===0)return;o&&h.invalidate();const m=d.current+h.clock.elapsedTime;u.current.rotation.x=Math.cos(m/4*n)/8*r,u.current.rotation.y=Math.sin(m/4*n)/8*r,u.current.rotation.z=Math.sin(m/4*n)/20*r;let y=Math.sin(m/4*n)/10;y=kre.mapLinear(y,-.1,.1,(f=s==null?void 0:s[0])!==null&&f!==void 0?f:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),u.current.position.y=y*i,u.current.updateMatrix()}),C.createElement("group",l,C.createElement("group",{ref:u,matrixAutoUpdate:!1},t))}),jse=(t,e,n)=>{let r;switch(t){case Zo:r=new Uint8ClampedArray(e*n*4);break;case pa:r=new Uint16Array(e*n*4);break;case Cd:r=new Uint32Array(e*n*4);break;case nk:r=new Int8Array(e*n*4);break;case rk:r=new Int16Array(e*n*4);break;case hj:r=new Int32Array(e*n*4);break;case Wi:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let TT;const o3e=(t,e,n,r)=>{if(TT!==void 0)return TT;const i=new zl(1,1,r);e.setRenderTarget(i);const s=new Gi(new xm,new tf({color:16777215}));e.render(s,n),e.setRenderTarget(null);const o=jse(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),s.geometry.dispose(),s.material.dispose(),TT=o[0]!==0,TT};class hz{constructor(e){var n,r,i,s,o,l,c,u,d,h,f,p,m,y,b,v;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(S){throw this._renderer.setRenderTarget(null),S}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const _={format:ms,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(l=e.renderTargetOptions)===null||l===void 0?void 0:l.magFilter:Gr,minFilter:((c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter:Gr,samples:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.samples:void 0,wrapS:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.wrapS)!==void 0?(p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapS:Cs,wrapT:((m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapT)!==void 0?(y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapT:Cs};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=hz.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new xj,this._camera=new Eu,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!o3e(this._type,this._renderer,this._camera,_)){let S;switch(this._type){case pa:S=this._renderer.extensions.has("EXT_color_buffer_float")?Wi:void 0;break}S!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Wi}`),this._type=S):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Gi(new xm,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new zl(this.width,this.height,_),this._renderTarget.texture.mapping=((b=e.renderTargetOptions)===null||b===void 0?void 0:b.mapping)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.mapping:Zp}static instantiateRenderer(){const e=new FB;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=jse(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new ju(this.toArray(),this.width,this.height,ms,this._type,(e==null?void 0:e.mapping)||Zp,(e==null?void 0:e.wrapS)||Cs,(e==null?void 0:e.wrapT)||Cs,(e==null?void 0:e.magFilter)||Gr,(e==null?void 0:e.minFilter)||Gr,(e==null?void 0:e.anisotropy)||1,Cc);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Qo&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof ii&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof ii&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const l3e=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,c3e=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class u3e extends Qo{constructor({gamma:e,offsetHdr:n,offsetSdr:r,gainMapMin:i,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:l,hdrCapacityMax:c,sdr:u,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:l3e,fragmentShader:c3e,uniforms:{sdr:{value:u},gainMap:{value:d},gamma:{value:new le(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new le().fromArray(n)},offsetSdr:{value:new le().fromArray(r)},gainMapMin:{value:new le().fromArray(i)},gainMapMax:{value:new le().fromArray(s)},weightFactor:{value:(Math.log2(o)-l)/(c-l)}},blending:_d,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=l,this._hdrCapacityMax=c,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class Ase extends Error{}class Nse extends Error{}const q_=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},d3e=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const s=q_(i,"hdrgm:GainMapMin","0"),o=q_(i,"hdrgm:GainMapMax"),l=q_(i,"hdrgm:Gamma","1"),c=q_(i,"hdrgm:OffsetSDR","0.015625"),u=q_(i,"hdrgm:OffsetHDR","0.015625"),d=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),h=d?d[1]:"0",f=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!f)throw new Error("Incomplete gainmap metadata");const p=f[1];return{gainMapMin:Array.isArray(s)?s.map(m=>parseFloat(m)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(o)?o.map(m=>parseFloat(m)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(l)?l.map(m=>parseFloat(m)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetSdr:Array.isArray(c)?c.map(m=>parseFloat(m)):[parseFloat(c),parseFloat(c),parseFloat(c)],offsetHdr:Array.isArray(u)?u.map(m=>parseFloat(m)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(h),hdrCapacityMax:parseFloat(p)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class h3e{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=s.byteLength;let l=2,c=0,u;for(;l<o;){if(++c>250){r(new Error(`Found no marker after ${c} loops `));return}if(s.getUint8(l)!==255){r(new Error(`Not a valid marker at offset 0x${l.toString(16)}, found: 0x${s.getUint8(l).toString(16)}`));return}if(u=s.getUint8(l+1),i&&console.log(`Marker: ${u.toString(16)}`),u===226){i&&console.log("Found APP2 marker (0xffe2)");const d=l+4;if(s.getUint32(d)===1297106432){const h=d+4;let f;if(s.getUint16(h)===18761)f=!1;else if(s.getUint16(h)===19789)f=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(h+2,!f)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const p=s.getUint32(h+4,!f);if(p<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const m=h+p,y=s.getUint16(m,!f),b=m+2;let v=0;for(let N=b;N<b+12*y;N+=12)s.getUint16(N,!f)===45057&&(v=s.getUint32(N+8,!f));const S=m+2+y*12+4,j=[];for(let N=S;N<S+v*16;N+=16){const A={MPType:s.getUint32(N,!f),size:s.getUint32(N+4,!f),dataOffset:s.getUint32(N+8,!f),dependantImages:s.getUint32(N+12,!f),start:-1,end:-1,isFII:!1};A.dataOffset?(A.start=h+A.dataOffset,A.isFII=!1):(A.start=0,A.isFII=!0),A.end=A.start+A.size,j.push(A)}if(this.options.extractNonFII&&j.length){const N=new Blob([s]),A=[];for(const M of j){if(M.isFII&&!this.options.extractFII)continue;const k=N.slice(M.start,M.end+1,"image/jpeg");A.push(k)}n(A)}}}l+=2+s.getUint16(l+2)}})}}const f3e=async t=>{const e=d3e(t);if(!e)throw new Nse("Gain map XMP metadata not found");const r=await new h3e({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new Ase("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},a9=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class Tse extends Ao{constructor(e,n){super(n),e&&(this._renderer=e),this._internalLoadingManager=new Pk}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new u3e({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new ii,sdr:new ii});return new hz({width:16,height:16,type:pa,colorSpace:Cc,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,n,r,i){const s=i?new Blob([i],{type:"image/jpeg"}):void 0,o=new Blob([r],{type:"image/jpeg"});let l,c,u=!1;if(typeof createImageBitmap>"u"){const f=await Promise.all([s?a9(s):Promise.resolve(void 0),a9(o)]);c=f[0],l=f[1],u=!0}else{const f=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);c=f[0],l=f[1]}const d=new ii(c||new ImageData(2,2),Zp,Cs,Cs,Gr,v4,ms,Zo,1,Cc);d.flipY=u,d.needsUpdate=!0;const h=new ii(l,Zp,Cs,Cs,Gr,v4,ms,Zo,1,Nl);h.flipY=u,h.needsUpdate=!0,e.width=l.width,e.height=l.height,e.material.gainMap=d,e.material.sdr=h,e.material.gainMapMin=n.gainMapMin,e.material.gainMapMax=n.gainMapMax,e.material.offsetHdr=n.offsetHdr,e.material.offsetSdr=n.offsetSdr,e.material.gamma=n.gamma,e.material.hdrCapacityMin=n.hdrCapacityMin,e.material.hdrCapacityMax=n.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,n.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class p3e extends Tse{load([e,n,r],i,s,o){const l=this.prepareQuadRenderer();let c,u,d;const h=async()=>{if(c&&u&&d){try{await this.render(l,d,c,u)}catch(L){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof o=="function"&&o(L),l.disposeOnDemandRenderer();return}typeof i=="function"&&i(l),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),l.disposeOnDemandRenderer()}};let f=!0,p=0,m=0,y=!0,b=0,v=0,_=!0,S=0,j=0;const N=()=>{if(typeof s=="function"){const L=p+b+S,O=m+v+j,I=f&&y&&_;s(new ProgressEvent("progress",{lengthComputable:I,loaded:O,total:L}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const A=new Ul(this._internalLoadingManager);A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setPath(this.path),A.setWithCredentials(this.withCredentials),A.load(e,async L=>{if(typeof L=="string")throw new Error("Invalid sdr buffer");c=L,await h()},L=>{f=L.lengthComputable,m=L.loaded,p=L.total,N()},L=>{this.manager.itemError(e),typeof o=="function"&&o(L)});const M=new Ul(this._internalLoadingManager);M.setResponseType("arraybuffer"),M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(n,async L=>{if(typeof L=="string")throw new Error("Invalid gainmap buffer");u=L,await h()},L=>{y=L.lengthComputable,v=L.loaded,b=L.total,N()},L=>{this.manager.itemError(n),typeof o=="function"&&o(L)});const k=new Ul(this._internalLoadingManager);return k.setRequestHeader(this.requestHeader),k.setPath(this.path),k.setWithCredentials(this.withCredentials),k.load(r,async L=>{if(typeof L!="string")throw new Error("Invalid metadata string");d=JSON.parse(L),await h()},L=>{_=L.lengthComputable,j=L.loaded,S=L.total,N()},L=>{this.manager.itemError(r),typeof o=="function"&&o(L)}),l}}class m3e extends Tse{load(e,n,r,i){const s=this.prepareQuadRenderer(),o=new Ul(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async l=>{if(typeof l=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const c=new Uint8Array(l);let u,d,h;try{const f=await f3e(c);u=f.sdr,d=f.gainMap,h=f.metadata}catch(f){if(f instanceof Nse||f instanceof Ase)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),h={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=c;else throw f}try{await this.render(s,h,u,d)}catch(f){this.manager.itemError(e),typeof i=="function"&&i(f),s.disposeOnDemandRenderer();return}typeof n=="function"&&n(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,l=>{this.manager.itemError(e),typeof i=="function"&&i(l)}),s}}const rE={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Mse="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",T0=t=>Array.isArray(t),fz=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Ik({files:t=fz,path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){let s=null,o=!1;n&&(pz(n),t=rE[n],e=Mse),o=T0(t);const{extension:l,isCubemap:c}=mz(t);if(s=gz(l),!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);const u=Bo(p=>p.gl);C.useLayoutEffect(()=>{if(l!=="webp"&&l!=="jpg"&&l!=="jpeg")return;function p(){fb.clear(s,o?[t]:t)}u.domElement.addEventListener("webglcontextlost",p,{once:!0})},[t,u.domElement]);const d=fb(s,o?[t]:t,p=>{(l==="webp"||l==="jpg"||l==="jpeg")&&p.setRenderer(u),p.setPath==null||p.setPath(e),i&&i(p)});let h=o?d[0]:d;if(l==="jpg"||l==="jpeg"||l==="webp"){var f;h=(f=h.renderTarget)==null?void 0:f.texture}return h.mapping=c?Md:lb,"colorSpace"in h?h.colorSpace=r??c?"srgb":"srgb-linear":h.encoding=r??c?r3e:n3e,h}const g3e={files:fz,path:"",preset:void 0,extensions:void 0};Ik.preload=t=>{const e={...g3e,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:s}=e;i&&(pz(i),n=rE[i],r=Mse);const{extension:o}=mz(n);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const l=gz(o);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+n);fb.preload(l,T0(n)?[n]:n,c=>{c.setPath==null||c.setPath(r),s&&s(c)})};const y3e={files:fz,preset:void 0};Ik.clear=t=>{const e={...y3e,...t};let{files:n}=e;const{preset:r}=e;r&&(pz(r),n=rE[r]);const{extension:i}=mz(n),s=gz(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);fb.clear(s,T0(n)?[n]:n)};function pz(t){if(!(t in rE))throw new Error("Preset must be one of: "+Object.keys(rE).join(", "))}function mz(t){var e;const n=T0(t)&&t.length===6,r=T0(t)&&t.length===3&&t.some(o=>o.endsWith("json")),i=T0(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function gz(t){return t==="cube"?Nie:t==="hdr"?qLe:t==="exr"?YLe:t==="jpg"||t==="jpeg"?m3e:t==="webp"?p3e:null}const v3e=t=>t.current&&t.current.isScene,x3e=t=>v3e(t)?t.current:t;function yz(t,e,n,r,i={}){var s,o,l,c;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=x3e(e||n),d=u.background,h=u.environment,f={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(s=(o=u.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(l=(c=u.environmentRotation)==null||c.clone==null?void 0:c.clone())!==null&&l!==void 0?l:[0,0,0]};return t!=="only"&&(u.environment=r),t&&(u.background=r),sp(u,i),()=>{t!=="only"&&(u.environment=h),t&&(u.background=d),sp(u,f)}}function vz({scene:t,background:e=!1,map:n,...r}){const i=Bo(s=>s.scene);return C.useLayoutEffect(()=>{if(n)return yz(e,t,i,n,r)}),null}function Cse({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:l,...c}){const u=Ik(c),d=Bo(h=>h.scene);return C.useLayoutEffect(()=>yz(t,e,d,u,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:l})),C.useEffect(()=>()=>{u.dispose()},[u]),null}function b3e({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:l,backgroundBlurriness:c,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:h,environmentRotation:f,scene:p,files:m,path:y,preset:b=void 0,extensions:v}){const _=Bo(k=>k.gl),S=Bo(k=>k.scene),j=C.useRef(null),[N]=C.useState(()=>new xj),A=C.useMemo(()=>{const k=new OB(r);return k.texture.type=pa,k},[r]);C.useEffect(()=>()=>{A.dispose()},[A]),C.useLayoutEffect(()=>{if(i===1){const k=_.autoClear;_.autoClear=!0,j.current.update(_,N),_.autoClear=k}return yz(o,p,S,A.texture,{backgroundBlurriness:l??c,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:h,environmentRotation:f})},[t,N,A.texture,p,S,o,i,_]);let M=1;return Ou(()=>{if(i===1/0||M<i){const k=_.autoClear;_.autoClear=!0,j.current.update(_,N),_.autoClear=k,M++}}),C.createElement(C.Fragment,null,KIe(C.createElement(C.Fragment,null,t,C.createElement("cubeCamera",{ref:j,args:[e,n,A]}),m||b?C.createElement(Cse,{background:!0,files:m,preset:b,path:y,extensions:v}):s?C.createElement(vz,{background:!0,map:s,extensions:v}):null),N))}function w3e(t){var e,n,r,i;const s=Ik(t),o=t.map||s;C.useMemo(()=>Xie({GroundProjectedEnvImpl:FLe}),[]),C.useEffect(()=>()=>{s.dispose()},[s]);const l=C.useMemo(()=>[o],[o]),c=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,d=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return C.createElement(C.Fragment,null,C.createElement(vz,Pc({},t,{map:o})),C.createElement("groundProjectedEnvImpl",{args:l,scale:d,height:c,radius:u}))}function _3e(t){return t.ground?C.createElement(w3e,t):t.map?C.createElement(vz,t):t.children?C.createElement(b3e,t):C.createElement(Cse,t)}let Ag,Y_;const S3e=C.createContext(null),o9=new En,l9=new le,E3e=C.forwardRef(({children:t,range:e,limit:n=1e3,...r},i)=>{const s=C.useRef(null);C.useImperativeHandle(i,()=>s.current,[]);const[o,l]=C.useState([]),[[c,u,d]]=C.useState(()=>[new Float32Array(n*3),Float32Array.from({length:n*3},()=>1),Float32Array.from({length:n},()=>1)]);C.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),Ou(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),o9.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(n,e!==void 0?e:n,o.length),Ag=0;Ag<o.length;Ag++)Y_=o[Ag].current,Y_.getWorldPosition(l9).applyMatrix4(o9),l9.toArray(c,Ag*3),s.current.geometry.attributes.position.needsUpdate=!0,Y_.matrixWorldNeedsUpdate=!0,Y_.color.toArray(u,Ag*3),s.current.geometry.attributes.color.needsUpdate=!0,d.set([Y_.size],Ag),s.current.geometry.attributes.size.needsUpdate=!0});const h=C.useMemo(()=>({getParent:()=>s,subscribe:f=>(l(p=>[...p,f]),()=>l(p=>p.filter(m=>m.current!==f.current)))}),[]);return C.createElement("points",Pc({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},r),C.createElement("bufferGeometry",null,C.createElement("bufferAttribute",{attach:"attributes-position",count:c.length/3,array:c,itemSize:3,usage:Ay}),C.createElement("bufferAttribute",{attach:"attributes-color",count:u.length/3,array:u,itemSize:3,usage:Ay}),C.createElement("bufferAttribute",{attach:"attributes-size",count:d.length,array:d,itemSize:1,usage:Ay})),C.createElement(S3e.Provider,{value:h},t))}),j3e=C.forwardRef(({children:t,positions:e,colors:n,sizes:r,stride:i=3,...s},o)=>{const l=C.useRef(null);return C.useImperativeHandle(o,()=>l.current,[]),Ou(()=>{const c=l.current.geometry.attributes;c.position.needsUpdate=!0,n&&(c.color.needsUpdate=!0),r&&(c.size.needsUpdate=!0)}),C.createElement("points",Pc({ref:l},s),C.createElement("bufferGeometry",null,C.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/i,array:e,itemSize:i,usage:Ay}),n&&C.createElement("bufferAttribute",{attach:"attributes-color",count:n.length/i,array:n,itemSize:3,usage:Ay}),r&&C.createElement("bufferAttribute",{attach:"attributes-size",count:r.length/i,array:r,itemSize:1,usage:Ay})),t)}),A3e=C.forwardRef((t,e)=>t.positions instanceof Float32Array?C.createElement(j3e,Pc({},t,{ref:e})):C.createElement(E3e,Pc({},t,{ref:e})));function N3e(){const t=C.useRef(null);return a.jsxs("group",{ref:t,position:[0,-.8,-.5],children:[a.jsx(Da,{args:[5,.1,4],radius:.02,position:[0,-.05,0],receiveShadow:!0,children:a.jsx("meshStandardMaterial",{color:"#2c2c2c",roughness:.8,metalness:.2})}),a.jsx(Da,{args:[4,1.2,3.5],radius:.05,position:[0,.6,0],castShadow:!0,receiveShadow:!0,children:a.jsx("meshStandardMaterial",{color:"#f5f5f5",roughness:.2,metalness:.8})}),a.jsx(Da,{args:[3,1,3],radius:.05,position:[-.3,1.5,.2],castShadow:!0,receiveShadow:!0,children:a.jsx("meshStandardMaterial",{color:"#ffffff",roughness:.1,metalness:.3})}),a.jsx(Da,{args:[1,2,3.2],radius:.03,position:[1.3,1.2,0],castShadow:!0,receiveShadow:!0,children:a.jsx("meshStandardMaterial",{color:"#e8f4f8",roughness:.15,metalness:.4})}),a.jsx(Da,{args:[3.1,.1,3.1],radius:.02,position:[-.3,2.05,.2],castShadow:!0,children:a.jsx("meshStandardMaterial",{color:"#a1c4fd",roughness:.2,metalness:.8})}),a.jsx(Da,{args:[1.5,.08,1.5],radius:.02,position:[-.3,2.15,.2],children:a.jsx("meshStandardMaterial",{color:"#80d0c7",roughness:.3,metalness:.7})}),a.jsx(Da,{args:[2.5,1,.05],radius:.01,position:[0,.6,1.76],castShadow:!0,children:a.jsx("meshPhysicalMaterial",{color:"#b8e6f5",roughness:.05,metalness:.95,emissive:"#a1c4fd",emissiveIntensity:.4,transparent:!0,opacity:.9})}),a.jsx(Da,{args:[2.2,.8,.05],radius:.01,position:[-.3,1.5,1.63],castShadow:!0,children:a.jsx("meshPhysicalMaterial",{color:"#b8e6f5",roughness:.05,metalness:.95,emissive:"#a1c4fd",emissiveIntensity:.3,transparent:!0,opacity:.9})}),a.jsx(Da,{args:[2.4,.05,.05],radius:.01,position:[-.3,1,1.65],children:a.jsx("meshStandardMaterial",{color:"#c2e9fb",roughness:.05,metalness:.95,emissive:"#a1c4fd",emissiveIntensity:.3,transparent:!0,opacity:.9})}),a.jsx(Da,{args:[.5,1.1,.05],radius:.02,position:[1.2,.5,1.76],children:a.jsx("meshStandardMaterial",{color:"#5a9fb8",roughness:.3,metalness:.6})}),a.jsx(nE,{args:[.03,.03,.15,8],rotation:[0,0,Math.PI/2],position:[1,.5,1.8],children:a.jsx("meshStandardMaterial",{color:"#c9b037",roughness:.2,metalness:1})}),a.jsx(Da,{args:[.05,2,2.8],radius:.01,position:[2.02,1.2,0],castShadow:!0,children:a.jsx("meshPhysicalMaterial",{color:"#b8e6f5",roughness:.05,metalness:.95,emissive:"#a1c4fd",emissiveIntensity:.3,transparent:!0,opacity:.85})}),a.jsx(Da,{args:[5,.05,2],radius:.01,position:[0,-.04,2.8],receiveShadow:!0,children:a.jsx("meshStandardMaterial",{color:"#80d0c7",roughness:.2,metalness:.7})}),a.jsx(Da,{args:[.8,.03,2],radius:.01,position:[1.2,-.02,2.8],receiveShadow:!0,children:a.jsx("meshStandardMaterial",{color:"#7ab8c7",roughness:.4,metalness:.5})}),a.jsx(NT,{args:[.3,16,16],position:[-1.5,.2,2.2],children:a.jsx("meshStandardMaterial",{color:"#2d5016",roughness:.9})}),a.jsx(NT,{args:[.25,16,16],position:[.5,.15,2.5],children:a.jsx("meshStandardMaterial",{color:"#2d5016",roughness:.9})}),a.jsx(NT,{args:[.35,16,16],position:[-2,.25,2],children:a.jsx("meshStandardMaterial",{color:"#2d5016",roughness:.9})}),a.jsxs("group",{position:[-2.5,0,2.5],children:[a.jsx(nE,{args:[.1,.12,1,8],position:[0,.5,0],children:a.jsx("meshStandardMaterial",{color:"#4a3c28",roughness:.9})}),a.jsx(NT,{args:[.5,16,16],position:[0,1.3,0],children:a.jsx("meshStandardMaterial",{color:"#2d5016",roughness:.9})})]})]})}function X_({position:t,scale:e,color:n,speed:r}){const i=C.useRef(null);return Ou(s=>{i.current&&(i.current.rotation.x=s.clock.getElapsedTime()*r*.3,i.current.rotation.y=s.clock.getElapsedTime()*r*.5,i.current.position.y=t[1]+Math.sin(s.clock.getElapsedTime()*r)*.2)}),a.jsx(Rk,{speed:r,rotationIntensity:.5,floatIntensity:.5,children:a.jsxs("mesh",{ref:i,position:t,scale:e,children:[a.jsx("boxGeometry",{args:[1,1,1]}),a.jsx("meshStandardMaterial",{color:n,roughness:.2,metalness:.8})]})})}function c9({position:t,rotation:e=0}){return a.jsx(Rk,{speed:2,rotationIntensity:.3,floatIntensity:.5,children:a.jsxs("group",{position:t,rotation:[0,e,0],children:[a.jsx(Da,{args:[1.2,.8,.05],radius:.02,children:a.jsx("meshStandardMaterial",{color:"#ffffff",roughness:.1,metalness:.2})}),a.jsx(Da,{args:[1.1,.4,.01],radius:.01,position:[0,.2,.026],children:a.jsx("meshStandardMaterial",{color:"#80d0c7"})}),a.jsxs(dz,{position:[0,-.15,.03],transform:!0,occlude:!0,style:{width:"110px",fontSize:"8px",color:"#333",textAlign:"center",pointerEvents:"none",userSelect:"none"},children:[a.jsx("div",{style:{fontWeight:"bold",marginBottom:"2px"},children:"$850,000"}),a.jsx("div",{style:{fontSize:"7px",color:"#666"},children:"4 bd  3 ba  2,400 sqft"})]})]})})}function T3e(){const t=C.useRef(null);return a.jsx(Rk,{speed:1.5,rotationIntensity:.2,floatIntensity:.3,children:a.jsxs("group",{ref:t,position:[-3,.5,1],children:[a.jsx(nE,{args:[.05,.05,1.5,16],position:[0,-.3,0],children:a.jsx("meshStandardMaterial",{color:"#4a4a4a",metalness:.6,roughness:.4})}),a.jsx(Da,{args:[.8,.5,.05],radius:.02,castShadow:!0,children:a.jsx("meshStandardMaterial",{color:"#dc2626",roughness:.3,metalness:.2})}),a.jsx(dz,{position:[0,0,.03],transform:!0,occlude:!0,style:{width:"80px",textAlign:"center",pointerEvents:"none",userSelect:"none"},children:a.jsx("div",{style:{color:"white",fontSize:"24px",fontWeight:"bold",textShadow:"0 2px 4px rgba(0,0,0,0.3)",letterSpacing:"2px"},children:"SOLD"})})]})})}function M3e(){const t=C.useRef(null),e=C.useMemo(()=>{const n=new Float32Array(6e3);for(let r=0;r<2e3;r++){const i=(Math.random()-.5)*15,s=(Math.random()-.5)*15,o=(Math.random()-.5)*15;n.set([i,s,o],r*3)}return n},[]);return Ou(n=>{t.current&&(t.current.rotation.y=n.clock.getElapsedTime()*.05)}),a.jsxs("points",{ref:t,children:[a.jsx("bufferGeometry",{children:a.jsx("bufferAttribute",{attach:"attributes-position",count:e.length/3,array:e,itemSize:3})}),a.jsx("pointsMaterial",{size:.02,color:"#80d0c7",transparent:!0,opacity:.6,sizeAttenuation:!0})]})}function C3e({position:t,value:e,label:n,color:r}){return a.jsx(Rk,{speed:2.5,rotationIntensity:.4,floatIntensity:.6,children:a.jsxs("group",{position:t,children:[a.jsx(nE,{args:[.4,.4,.1,32],rotation:[Math.PI/2,0,0],children:a.jsx("meshStandardMaterial",{color:r,roughness:.2,metalness:.8,emissive:r,emissiveIntensity:.3})}),a.jsx(nE,{args:[.32,.32,.02,32],rotation:[Math.PI/2,0,0],position:[0,0,.06],children:a.jsx("meshStandardMaterial",{color:"#ffffff",roughness:.1,metalness:.3})}),a.jsxs(dz,{position:[0,0,.08],transform:!0,occlude:!0,style:{width:"70px",textAlign:"center",pointerEvents:"none",userSelect:"none"},children:[a.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#333",marginBottom:"2px"},children:e}),a.jsx("div",{style:{fontSize:"10px",color:"#666"},children:n})]})]})})}function P3e(){const t={teal:"#80d0c7",blue:"#a1c4fd",lightBlue:"#c2e9fb"};return a.jsxs(a.Fragment,{children:[a.jsx("ambientLight",{intensity:.5}),a.jsx("pointLight",{position:[10,10,10],intensity:1,color:"#ffffff"}),a.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:"#80d0c7"}),a.jsx("spotLight",{position:[0,5,0],intensity:.5,angle:.6,penumbra:1,color:"#a1c4fd"}),a.jsx(_3e,{preset:"city"}),a.jsx(N3e,{}),a.jsx(c9,{position:[-3.5,2,-1],rotation:.3}),a.jsx(c9,{position:[3.5,1.5,0],rotation:-.4}),a.jsx(T3e,{}),a.jsx(C3e,{position:[3,2.5,2],value:"$2M+",label:"Sold",color:"#80d0c7"}),a.jsx(X_,{position:[-3,.5,-1],scale:.4,color:t.teal,speed:.8}),a.jsx(X_,{position:[3,-.5,-2],scale:.35,color:t.blue,speed:1.2}),a.jsx(X_,{position:[-2.5,-1.5,1],scale:.3,color:t.lightBlue,speed:1.5}),a.jsx(X_,{position:[2.8,1.5,.5],scale:.45,color:t.teal,speed:.6}),a.jsx(X_,{position:[0,-2,-1.5],scale:.35,color:t.blue,speed:1}),a.jsx(M3e,{}),a.jsx(KLe,{enableZoom:!1,enablePan:!1,autoRotate:!0,autoRotateSpeed:.5,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2})]})}function k3e(){return a.jsx("div",{className:"flex items-center justify-center w-full h-full",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-glass-border rounded-full animate-pulse"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#80d0c7] to-[#a1c4fd] rounded-full animate-ping"})})]})})}function O3e({className:t="",height:e="600px"}){return a.jsxs("div",{className:`relative overflow-hidden rounded-2xl ${t}`,style:{height:e},children:[a.jsx("div",{className:"absolute inset-0 bg-glass-background backdrop-blur-sm border border-glass-border rounded-2xl"}),a.jsx("div",{className:"absolute inset-0",children:a.jsx(C.Suspense,{fallback:a.jsx(k3e,{}),children:a.jsx(Ok,{camera:{position:[0,0,5],fov:75},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},dpr:[1,2],children:a.jsx(P3e,{})})})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-black/10 rounded-2xl pointer-events-none"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/20 to-transparent rounded-b-2xl pointer-events-none"})]})}function R3e({title:t="Professional Real Estate Agent",subtitle:e="Portfolio Link",description:n="Create your professional agent portfolio link to showcase sold properties, active listings, and testimonials. Capture qualified leads and convert social media traffic into clients.",primaryCta:r={text:"Start Free Trial",href:"/auth/register"},secondaryCta:i={text:"See How It Works",href:"#features"},badge:s={icon:a.jsx(Vh,{className:"h-4 w-4","aria-hidden":"true"}),text:"Built for Real Estate Professionals"},showStats:o=!0}){return a.jsx("section",{className:"relative container mx-auto px-4 py-12 md:py-20",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("article",{className:"space-y-8 z-10",children:[s&&a.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-glass-background backdrop-blur-md border border-glass-border rounded-full text-sm font-light tracking-tight",children:a.jsxs("div",{className:"text-transparent bg-gradient-to-r from-[#80d0c7] to-[#a1c4fd] bg-clip-text flex items-center gap-2",children:[s.icon,a.jsx("span",{className:"font-normal",children:s.text})]})}),a.jsx("div",{children:a.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-light tracking-tight mb-4 leading-tight",children:[t,a.jsx("span",{className:"block mt-2",children:a.jsx("span",{className:"glass-heading text-5xl md:text-7xl lg:text-8xl",children:e})})]})}),a.jsx("p",{className:"text-lg md:text-xl glass-body max-w-xl leading-relaxed",children:n}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(xn,{to:r.href,className:"group relative inline-flex items-center justify-center gap-2 px-8 py-4 bg-glass-background backdrop-blur-md border border-glass-border rounded-xl font-light tracking-tight transition-all hover:border-[#80d0c7] hover:shadow-lg hover:shadow-[#80d0c7]/20",children:[a.jsx("span",{className:"relative z-10 text-foreground group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-[#80d0c7] group-hover:to-[#a1c4fd] group-hover:bg-clip-text transition-all",children:r.text}),a.jsx(tte,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#80d0c7]/10 to-[#a1c4fd]/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsxs("a",{href:i.href,className:"inline-flex items-center justify-center gap-2 px-8 py-4 bg-transparent border-2 border-glass-border rounded-xl font-light tracking-tight text-foreground/90 hover:bg-glass-background hover:border-[#a1c4fd] backdrop-blur-sm transition-all",children:[i.text,a.jsx(sC,{className:"h-4 w-4"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground font-light",children:"No credit card required  Setup in 5 minutes"}),o&&a.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-8 border-t border-glass-border",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-2xl md:text-3xl font-light glass-accent",children:"5k+"}),a.jsx("div",{className:"text-sm text-muted-foreground font-light",children:"Active Agents"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-2xl md:text-3xl font-light glass-accent",children:"50k+"}),a.jsx("div",{className:"text-sm text-muted-foreground font-light",children:"Properties Shown"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-2xl md:text-3xl font-light glass-accent",children:"99.9%"}),a.jsx("div",{className:"text-sm text-muted-foreground font-light",children:"Uptime"})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(O3e,{height:"500px",className:"shadow-2xl"}),a.jsx("div",{className:"hidden lg:block absolute -top-8 -right-8 w-48 p-4 bg-glass-background backdrop-blur-md border border-glass-border rounded-xl shadow-lg animate-float-slow",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-[#80d0c7] to-[#a1c4fd] flex items-center justify-center",children:a.jsx(sC,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-light text-foreground",children:"Interactive 3D"}),a.jsx("div",{className:"text-xs text-muted-foreground font-light",children:"Drag to explore"})]})]})}),a.jsx("div",{className:"hidden lg:block absolute -bottom-6 -left-6 w-56 p-4 bg-glass-background backdrop-blur-md border border-glass-border rounded-xl shadow-lg animate-float-delayed",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground font-light",children:"Design Quality"}),a.jsx("span",{className:"text-xs glass-accent font-normal",children:"98%"})]}),a.jsx("div",{className:"h-2 bg-glass-border rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full w-[98%] bg-gradient-to-r from-[#80d0c7] to-[#a1c4fd] rounded-full"})})]})})]})]})})}const Pse=document.createElement("style");Pse.textContent=`
  @keyframes float-slow {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  @keyframes float-delayed {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-15px);
    }
  }

  .animate-float-slow {
    animation: float-slow 6s ease-in-out infinite;
  }

  .animate-float-delayed {
    animation: float-delayed 8s ease-in-out infinite;
    animation-delay: 1s;
  }
`;document.head.appendChild(Pse);function I3e(){const t={"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":`${window.location.origin}/#website`,url:window.location.origin,name:"AgentBio - Professional Real Estate Agent Portfolio Link",description:"Professional real estate agent portfolio link platform to showcase listings, sold properties, and capture qualified leads.",publisher:{"@id":`${window.location.origin}/#organization`}},{"@type":"Organization","@id":`${window.location.origin}/#organization`,name:"AgentBio",url:window.location.origin,logo:{"@type":"ImageObject",url:`${window.location.origin}/logo.png`},sameAs:[]},{"@type":"SoftwareApplication",name:"AgentBio - Professional Real Estate Agent Portfolio Link",applicationCategory:"BusinessApplication",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"USD"},description:"Create your professional real estate agent portfolio link to showcase sold properties, active listings, testimonials, and capture qualified leads.",featureList:["Agent property showcase link","Realtor sold properties portfolio","Professional agent portfolio builder","Lead capture forms","Analytics and insights"]}]};return a.jsxs(a.Fragment,{children:[a.jsx(eB,{title:"Professional Real Estate Agent Portfolio Link | AgentBio",description:"Create a professional real estate agent portfolio link to showcase listings, sold properties, and testimonials. Purpose-built for agents to capture qualified leads and grow their business.",keywords:["professional real estate agent portfolio link","agent property showcase link","realtor sold properties portfolio","agent listing promotion link","professional agent portfolio builder","real estate agent bio link"],canonicalUrl:window.location.origin,schema:t}),a.jsxs("main",{className:"min-h-screen bg-background",children:[a.jsx(gm,{}),a.jsx(R3e,{}),a.jsx("section",{id:"features",className:"py-20 bg-background/50","aria-labelledby":"features-heading",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("header",{className:"text-center mb-16",children:[a.jsxs("h2",{id:"features-heading",className:"text-4xl md:text-5xl font-light tracking-tight text-foreground mb-4",children:["Professional Agent Portfolio Builder",a.jsx("span",{className:"block mt-2 glass-heading text-3xl md:text-4xl",children:"Features"})]}),a.jsx("p",{className:"text-xl glass-body max-w-2xl mx-auto",children:"Purpose-built for real estate agents. Create your professional realtor portfolio link with everything you need to showcase sold properties and convert leads."})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsx(_L,{icon:a.jsx(Ci,{className:"h-8 w-8","aria-hidden":"true"}),title:"Agent Property Showcase Link",description:"Display your agent sold properties portfolio, active listings, and pending sales with stunning photos, prices, and property details. Mobile-optimized galleries for professional presentation."}),a.jsx(_L,{icon:a.jsx(Nu,{className:"h-8 w-8","aria-hidden":"true"}),title:"Qualified Lead Capture",description:"Built-in buyer, seller, and home valuation forms designed for real estate professionals. Capture qualified leads with detailed questionnaires and agent client testimonials."}),a.jsx(_L,{icon:a.jsx(ib,{className:"h-8 w-8","aria-hidden":"true"}),title:"Agent Analytics & Insights",description:"Track your professional portfolio performance with detailed analytics. Monitor profile views, link clicks, and lead sources. See which listings and sold properties get the most attention."})]})]})}),a.jsx(gTe,{limit:6,showSearch:!0,showFilters:!0}),a.jsxs("section",{className:"py-20 relative overflow-hidden","aria-labelledby":"cta-heading",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#80d0c7]/20 via-[#a1c4fd]/20 to-[#c2e9fb]/20"}),a.jsx("div",{className:"absolute inset-0 bg-glass-background backdrop-blur-sm"}),a.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[a.jsx("h2",{id:"cta-heading",className:"text-4xl md:text-5xl font-light tracking-tight mb-4",children:a.jsx("span",{className:"glass-heading",children:"Create Your Professional Portfolio"})}),a.jsx("p",{className:"text-xl mb-8 glass-body max-w-2xl mx-auto",children:"Join thousands of agents showcasing sold properties and capturing qualified leads"}),a.jsx(xn,{to:"/auth/register",className:"inline-flex items-center gap-2 px-8 py-4 bg-glass-background backdrop-blur-md border border-glass-border rounded-xl font-light tracking-tight transition-all hover:border-[#80d0c7] hover:shadow-lg hover:shadow-[#80d0c7]/20","aria-label":"Create your free real estate agent portfolio - no credit card required",children:a.jsx("span",{className:"glass-accent",children:"Get Started Free - No Credit Card Required"})})]})]}),a.jsx(ym,{})]})]})}function _L({icon:t,title:e,description:n}){return a.jsxs("div",{className:"group p-6 rounded-xl bg-glass-background backdrop-blur-md border border-glass-border hover:border-[#80d0c7] hover:shadow-lg hover:shadow-[#80d0c7]/10 transition-all relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#80d0c7]/5 to-[#a1c4fd]/5 opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"mb-4 text-transparent bg-gradient-to-r from-[#80d0c7] to-[#a1c4fd] bg-clip-text",children:t}),a.jsx("h3",{className:"text-xl font-light tracking-tight text-foreground mb-2",children:e}),a.jsx("p",{className:"glass-body",children:n})]})]})}const kse=({size:t="md",className:e="",text:n})=>{const r={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return a.jsxs("div",{className:`flex flex-col items-center justify-center gap-2 ${e}`,children:[a.jsx(zr,{className:`${r[t]} animate-spin text-primary`}),n&&a.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})},u9=({text:t})=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsx(kse,{size:"lg",text:t||"Loading..."})});function L3e({profile:t}){return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 md:p-8 text-center",children:[a.jsx("div",{className:"mb-4",children:t.profile_photo?a.jsx("img",{src:t.profile_photo,alt:t.display_name,className:"w-24 h-24 md:w-32 md:h-32 rounded-full mx-auto object-cover border-4 border-blue-100"}):a.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full mx-auto bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center border-4 border-blue-100",children:a.jsx("span",{className:"text-4xl md:text-5xl font-bold text-white",children:(t.display_name||t.full_name||t.username||"U").split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})})}),a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:t.display_name||t.full_name||t.username}),t.title&&a.jsx("p",{className:"text-lg text-blue-600 font-medium mb-4",children:t.title}),t.brokerage_name&&a.jsx("div",{className:"flex items-center justify-center gap-2 text-gray-600 mb-4",children:t.brokerage_logo?a.jsx("img",{src:t.brokerage_logo,alt:t.brokerage_name,className:"h-6 object-contain"}):a.jsx("span",{children:t.brokerage_name})}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm text-gray-600 mb-6",children:[t.years_experience&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Eo,{className:"h-4 w-4"}),a.jsxs("span",{children:[t.years_experience," years"]})]}),t.service_cities&&t.service_cities.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(fm,{className:"h-4 w-4"}),a.jsx("span",{children:t.service_cities[0]}),t.service_cities.length>1&&a.jsxs("span",{className:"text-blue-600",children:["+",t.service_cities.length-1," more"]})]}),t.certifications&&t.certifications.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(nte,{className:"h-4 w-4"}),a.jsx("span",{children:t.certifications.join(", ")})]})]}),t.bio&&a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:t.bio})}),t.specialties&&t.specialties.length>0&&a.jsx("div",{className:"mt-6",children:a.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:t.specialties.map((e,n)=>a.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm font-medium",children:e},n))})}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["License #",t.license_number," (",t.license_state,")"]})})]})}function D3e({profile:t,onContactClick:e}){const n=(r,i)=>{e&&e(r),r==="phone"?window.location.href=`tel:${i}`:r==="email"?window.location.href=`mailto:${i}`:r==="sms"&&(window.location.href=`sms:${i}`)};return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Get in Touch"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.phone&&a.jsxs("button",{onClick:()=>n("phone",t.phone),className:"flex items-center justify-center gap-2 px-6 py-4 rounded-lg font-semibold transition-all shadow-sm hover:shadow-md",style:{backgroundColor:"hsl(var(--theme-primary, 217 91% 60%))",color:"white"},children:[a.jsx(Ko,{className:"h-5 w-5"}),a.jsx("span",{children:"Call"})]}),t.email_display&&a.jsxs("button",{onClick:()=>n("email",t.email_display),className:"flex items-center justify-center gap-2 px-6 py-4 rounded-lg font-semibold transition-all shadow-sm hover:shadow-md",style:{backgroundColor:"hsl(var(--theme-secondary, 142 71% 45%))",color:"white"},children:[a.jsx(Li,{className:"h-5 w-5"}),a.jsx("span",{children:"Email"})]}),t.phone&&t.sms_enabled&&a.jsxs("button",{onClick:()=>n("sms",t.phone),className:"flex items-center justify-center gap-2 px-6 py-4 rounded-lg font-semibold transition-all shadow-sm hover:shadow-md",style:{backgroundColor:"hsl(var(--theme-accent, 38 92% 50%))",color:"white"},children:[a.jsx(Gp,{className:"h-5 w-5"}),a.jsx("span",{children:"Text"})]})]}),a.jsx("div",{className:"hidden md:block mt-4 pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-gray-600",children:[t.phone&&a.jsx("a",{href:`tel:${t.phone}`,className:"hover:text-blue-600 transition-colors",children:t.phone}),t.email_display&&a.jsx("a",{href:`mailto:${t.email_display}`,className:"hover:text-blue-600 transition-colors",children:t.email_display})]})})]})}const F3e=[{key:"instagram_url",icon:oj,label:"Instagram",color:"hover:text-pink-600"},{key:"facebook_url",icon:aj,label:"Facebook",color:"hover:text-blue-600"},{key:"linkedin_url",icon:lj,label:"LinkedIn",color:"hover:text-blue-700"},{key:"tiktok_url",icon:IP,label:"TikTok",color:"hover:text-gray-900"},{key:"youtube_url",icon:FP,label:"YouTube",color:"hover:text-red-600"},{key:"zillow_url",icon:Ci,label:"Zillow",color:"hover:text-blue-600"},{key:"realtor_com_url",icon:ste,label:"Realtor.com",color:"hover:text-red-600"},{key:"website_url",icon:sv,label:"Website",color:"hover:text-blue-600"}];function U3e({profile:t}){const e=F3e.filter(n=>t[n.key]);return e.length===0?null:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Connect With Me"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:e.map(n=>{const r=n.icon,i=t[n.key];return a.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 px-4 py-2 border-2 border-gray-200 rounded-lg text-gray-700 font-medium transition-all ${n.color} hover:border-current hover:shadow-md`,"aria-label":n.label,children:[a.jsx(r,{className:"h-5 w-5"}),a.jsx("span",{className:"hidden sm:inline",children:n.label})]},n.key)})})]})}function Lr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Xh(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function B3e(t,e){const n=Lr(t);return isNaN(e)?Xh(t,NaN):(e&&n.setDate(n.getDate()+e),n)}const Ose=6048e5,z3e=864e5,MT=43200,d9=1440;let $3e={};function Mj(){return $3e}function iE(t,e){var l,c,u,d;const n=Mj(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Lr(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ZC(t){return iE(t,{weekStartsOn:1})}function Rse(t){const e=Lr(t),n=e.getFullYear(),r=Xh(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ZC(r),s=Xh(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=ZC(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function h9(t){const e=Lr(t);return e.setHours(0,0,0,0),e}function QC(t){const e=Lr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function H3e(t,e){const n=h9(t),r=h9(e),i=+n-QC(n),s=+r-QC(r);return Math.round((i-s)/z3e)}function V3e(t){const e=Rse(t),n=Xh(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ZC(n)}function bM(t,e){const n=Lr(t),r=Lr(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function W3e(t){return Xh(t,Date.now())}function G3e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function q3e(t){if(!G3e(t)&&typeof t!="number")return!1;const e=Lr(t);return!isNaN(Number(e))}function Y3e(t,e){const n=Lr(t),r=Lr(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function X3e(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function K3e(t,e){return+Lr(t)-+Lr(e)}function Z3e(t){const e=Lr(t);return e.setHours(23,59,59,999),e}function L4(t){const e=Lr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Q3e(t){const e=Lr(t);return+Z3e(e)==+L4(e)}function J3e(t,e){const n=Lr(t),r=Lr(e),i=bM(n,r),s=Math.abs(Y3e(n,r));let o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let l=bM(n,r)===-i;Q3e(Lr(t))&&s===1&&bM(t,r)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}function eDe(t,e,n){const r=K3e(t,e)/1e3;return X3e(n==null?void 0:n.roundingMethod)(r)}function tDe(t,e){const n=Lr(t.start),r=Lr(t.end);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=s;)c.push(Lr(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return i?c.reverse():c}function SL(t){const e=Lr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function nDe(t){const e=Lr(t),n=Xh(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const rDe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iDe=(t,e,n)=>{let r;const i=rDe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function EL(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const sDe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aDe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oDe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lDe={date:EL({formats:sDe,defaultWidth:"full"}),time:EL({formats:aDe,defaultWidth:"full"}),dateTime:EL({formats:oDe,defaultWidth:"full"})},cDe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uDe=(t,e,n,r)=>cDe[t];function K_(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const dDe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hDe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fDe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pDe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mDe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gDe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yDe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},vDe={ordinalNumber:yDe,era:K_({values:dDe,defaultWidth:"wide"}),quarter:K_({values:hDe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:K_({values:fDe,defaultWidth:"wide"}),day:K_({values:pDe,defaultWidth:"wide"}),dayPeriod:K_({values:mDe,defaultWidth:"wide",formattingValues:gDe,defaultFormattingWidth:"wide"})};function Z_(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?bDe(l,h=>h.test(o)):xDe(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function xDe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function bDe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function wDe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const _De=/^(\d+)(th|st|nd|rd)?/i,SDe=/\d+/i,EDe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jDe={any:[/^b/i,/^(a|c)/i]},ADe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NDe={any:[/1/i,/2/i,/3/i,/4/i]},TDe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MDe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CDe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PDe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kDe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ODe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RDe={ordinalNumber:wDe({matchPattern:_De,parsePattern:SDe,valueCallback:t=>parseInt(t,10)}),era:Z_({matchPatterns:EDe,defaultMatchWidth:"wide",parsePatterns:jDe,defaultParseWidth:"any"}),quarter:Z_({matchPatterns:ADe,defaultMatchWidth:"wide",parsePatterns:NDe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Z_({matchPatterns:TDe,defaultMatchWidth:"wide",parsePatterns:MDe,defaultParseWidth:"any"}),day:Z_({matchPatterns:CDe,defaultMatchWidth:"wide",parsePatterns:PDe,defaultParseWidth:"any"}),dayPeriod:Z_({matchPatterns:kDe,defaultMatchWidth:"any",parsePatterns:ODe,defaultParseWidth:"any"})},Ise={code:"en-US",formatDistance:iDe,formatLong:lDe,formatRelative:uDe,localize:vDe,match:RDe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function IDe(t){const e=Lr(t);return H3e(e,nDe(e))+1}function LDe(t){const e=Lr(t),n=+ZC(e)-+V3e(e);return Math.round(n/Ose)+1}function Lse(t,e){var d,h,f,p;const n=Lr(t),r=n.getFullYear(),i=Mj(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=Xh(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=iE(o,e),c=Xh(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=iE(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function DDe(t,e){var l,c,u,d;const n=Mj(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Lse(t,e),s=Xh(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),iE(s,e)}function FDe(t,e){const n=Lr(t),r=+iE(n,e)-+DDe(n,e);return Math.round(r/Ose)+1}function Zr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Zf={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Zr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Zr(n+1,2)},d(t,e){return Zr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Zr(t.getHours()%12||12,e.length)},H(t,e){return Zr(t.getHours(),e.length)},m(t,e){return Zr(t.getMinutes(),e.length)},s(t,e){return Zr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Zr(i,e.length)}},Ox={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},f9={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Zf.y(t,e)},Y:function(t,e,n,r){const i=Lse(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Zr(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Zr(s,e.length)},R:function(t,e){const n=Rse(t);return Zr(n,e.length)},u:function(t,e){const n=t.getFullYear();return Zr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Zr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Zr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Zf.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Zr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=FDe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Zr(i,e.length)},I:function(t,e,n){const r=LDe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Zr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Zf.d(t,e)},D:function(t,e,n){const r=IDe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Zr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Zr(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Zr(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Zr(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ox.noon:r===0?i=Ox.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ox.evening:r>=12?i=Ox.afternoon:r>=4?i=Ox.morning:i=Ox.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Zf.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Zf.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Zr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Zr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zf.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Zf.s(t,e)},S:function(t,e){return Zf.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return m9(r);case"XXXX":case"XX":return Ig(r);case"XXXXX":case"XXX":default:return Ig(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return m9(r);case"xxxx":case"xx":return Ig(r);case"xxxxx":case"xxx":default:return Ig(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+p9(r,":");case"OOOO":default:return"GMT"+Ig(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+p9(r,":");case"zzzz":default:return"GMT"+Ig(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Zr(r,e.length)},T:function(t,e,n){const r=t.getTime();return Zr(r,e.length)}};function p9(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Zr(s,2)}function m9(t,e){return t%60===0?(t>0?"-":"+")+Zr(Math.abs(t)/60,2):Ig(t,e)}function Ig(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Zr(Math.trunc(r/60),2),s=Zr(r%60,2);return n+i+e+s}const g9=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Dse=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},UDe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return g9(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",g9(r,e)).replace("{{time}}",Dse(i,e))},BDe={p:Dse,P:UDe},zDe=/^D+$/,$De=/^Y+$/,HDe=["D","DD","YY","YYYY"];function VDe(t){return zDe.test(t)}function WDe(t){return $De.test(t)}function GDe(t,e,n){const r=qDe(t,e,n);if(console.warn(r),HDe.includes(t))throw new RangeError(r)}function qDe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YDe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XDe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KDe=/^'([^]*?)'?$/,ZDe=/''/g,QDe=/[a-zA-Z]/;function md(t,e,n){var d,h,f,p;const r=Mj(),i=r.locale??Ise,s=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=Lr(t);if(!q3e(l))throw new RangeError("Invalid time value");let c=e.match(XDe).map(m=>{const y=m[0];if(y==="p"||y==="P"){const b=BDe[y];return b(m,i.formatLong)}return m}).join("").match(YDe).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:JDe(m)};if(f9[y])return{isToken:!0,value:m};if(y.match(QDe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(m=>{if(!m.isToken)return m.value;const y=m.value;(WDe(y)||VDe(y))&&GDe(y,e,String(t));const b=f9[y[0]];return b(l,y,i.localize,u)}).join("")}function JDe(t){const e=t.match(KDe);return e?e[1].replace(ZDe,"'"):t}function Fse(t,e,n){const r=Mj(),i=(n==null?void 0:n.locale)??r.locale??Ise,s=2520,o=bM(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=Lr(e),u=Lr(t)):(c=Lr(t),u=Lr(e));const d=eDe(u,c),h=(QC(u)-QC(c))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):f===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",f,l);if(f<45)return i.formatDistance("xMinutes",f,l);if(f<90)return i.formatDistance("aboutXHours",1,l);if(f<d9){const m=Math.round(f/60);return i.formatDistance("aboutXHours",m,l)}else{if(f<s)return i.formatDistance("xDays",1,l);if(f<MT){const m=Math.round(f/d9);return i.formatDistance("xDays",m,l)}else if(f<MT*2)return p=Math.round(f/MT),i.formatDistance("aboutXMonths",p,l)}if(p=J3e(u,c),p<12){const m=Math.round(f/MT);return i.formatDistance("xMonths",m,l)}else{const m=p%12,y=Math.trunc(p/12);return m<3?i.formatDistance("aboutXYears",y,l):m<9?i.formatDistance("overXYears",y,l):i.formatDistance("almostXYears",y+1,l)}}function mb(t,e){return Fse(t,W3e(t),e)}function ud(t,e){return B3e(t,-e)}function D4(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function iy(t){if(typeof t=="number")return isNaN(t)?0:t;if(t==null)return 0;const e=Number(String(t).replace(/[^0-9.]/g,""));return isNaN(e)?0:e}function e4e(t,e="MMM d, yyyy"){return md(new Date(t),e)}function Use(t){return Fse(new Date(t),new Date,{addSuffix:!0})}function t4e(t,e,n){const r=[];return t&&r.push(`${t} bd`),r.join(" | ")}function Bse(t,e="listings"){if(!t)return"/placeholder-property.jpg";if(t.startsWith("http://")||t.startsWith("https://"))return t;const{data:n}=Ye.storage.from(e).getPublicUrl(t);return n.publicUrl}function n4e(t,e="listings"){return!t||t.length===0?["/placeholder-property.jpg"]:t.map(n=>Bse(n,e))}const r4e={active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",under_contract:"bg-orange-100 text-orange-800",sold:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800"},i4e={active:"Active",pending:"Pending",under_contract:"Under Contract",sold:"Sold",draft:"Draft"};function zse({listing:t,onClick:e}){var r;const n=Bse(t.image||((r=t.photos)==null?void 0:r[0]),"listings");return a.jsxs("div",{onClick:e,className:"bg-white rounded-lg shadow-sm overflow-hidden cursor-pointer hover:shadow-lg transition-all group",children:[a.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100",children:[a.jsx("img",{src:n,alt:t.title||t.address||"Property",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:i=>{i.currentTarget.src="/placeholder-property.jpg"}}),a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${r4e[t.status]}`,children:i4e[t.status]})}),t.is_featured&&a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("span",{className:"px-3 py-1 bg-purple-600 text-white rounded-full text-xs font-semibold",children:"Featured"})}),t.days_on_market!==null&&t.status==="active"&&a.jsx("div",{className:"absolute bottom-3 right-3",children:a.jsxs("span",{className:"px-2 py-1 bg-black/70 text-white rounded text-xs font-medium flex items-center gap-1",children:[a.jsx(Eo,{className:"h-3 w-3"}),t.days_on_market," days"]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D4(iy(t.price))}),t.original_price&&iy(t.original_price)!==iy(t.price)&&a.jsx("p",{className:"text-sm text-gray-500 line-through",children:D4(iy(t.original_price))})]}),(t.bedrooms||t.bathrooms||t.square_feet)&&a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[t.bedrooms&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(q5,{className:"h-4 w-4"}),a.jsxs("span",{children:[t.bedrooms," bd"]})]}),t.bathrooms&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(G5,{className:"h-4 w-4"}),a.jsxs("span",{children:[t.bathrooms," ba"]})]}),t.square_feet&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(zSe,{className:"h-4 w-4"}),a.jsxs("span",{children:[t.square_feet.toLocaleString()," sqft"]})]})]}),a.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[a.jsx(fm,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),a.jsxs("p",{className:"line-clamp-2",children:[t.address||"",t.city?`, ${t.city}`:""]})]}),t.description&&a.jsx("p",{className:"mt-3 text-sm text-gray-600 line-clamp-2",children:t.description}),t.open_house_date&&t.status==="active"&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:a.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Open House:"," ",new Date(t.open_house_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]})})]})]})}function s4e({listings:t,title:e="Active Listings",emptyMessage:n="No listings available at this time.",onListingClick:r}){const[i,s]=C.useState("grid");return t.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 md:p-12 text-center",children:[a.jsx(ite,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:n})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[e,a.jsxs("span",{className:"ml-2 text-lg font-normal text-gray-500",children:["(",t.length,")"]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>a.jsx(zse,{listing:o,onClick:()=>r==null?void 0:r(o)},o.id))})]})}function a4e({listings:t,onListingClick:e}){const n=t.filter(s=>s.status==="sold");if(n.length===0)return null;const r=n.reduce((s,o)=>s+iy(o.price),0),i=n.length>0?r/n.length:0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(rEe,{className:"h-8 w-8"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Recent Success Stories"}),a.jsx("p",{className:"text-blue-100",children:"Proven track record of successful sales"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[a.jsx("p",{className:"text-3xl font-bold",children:n.length}),a.jsx("p",{className:"text-sm text-blue-100",children:"Properties Sold"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[a.jsxs("p",{className:"text-3xl font-bold",children:["$",r>=1e6?`${(r/1e6).toFixed(1)}M+`:`${(r/1e3).toFixed(0)}K+`]}),a.jsx("p",{className:"text-sm text-blue-100",children:"Total Volume"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 col-span-2 md:col-span-1",children:[a.jsxs("p",{className:"text-3xl font-bold flex items-center gap-2",children:["$",i>=1e6?`${(i/1e6).toFixed(1)}M`:`${(i/1e3).toFixed(0)}K`,a.jsx(Qr,{className:"h-5 w-5"})]}),a.jsx("p",{className:"text-sm text-blue-100",children:"Avg Sale Price"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recently Sold"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.slice(0,6).map(s=>a.jsxs("div",{className:"relative",children:[a.jsx(zse,{listing:s,onClick:()=>e==null?void 0:e(s)}),a.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-lg flex items-center justify-center pointer-events-none",children:a.jsx("div",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold text-2xl transform -rotate-12 shadow-xl",children:"SOLD"})})]},s.id))}),n.length>6&&a.jsx("div",{className:"text-center mt-6",children:a.jsxs("button",{className:"text-blue-600 hover:text-blue-700 font-semibold",children:["View All ",n.length," Sold Properties "]})})]})]})}function o4e(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var _m=t=>{const{present:e,children:n}=t,r=l4e(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=Kr(r.ref,c4e(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};_m.displayName="Presence";function l4e(t){const[e,n]=C.useState(),r=C.useRef(null),i=C.useRef(t),s=C.useRef("none"),o=t?"mounted":"unmounted",[l,c]=o4e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=CT(r.current);s.current=l==="mounted"?u:"none"},[l]),Gs(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,p=CT(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Gs(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const y=CT(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&y&&(c("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=p=>{p.target===e&&(s.current=CT(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function CT(t){return(t==null?void 0:t.animationName)||"none"}function c4e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Lk="Dialog",[$se,Hse]=Rc(Lk),[u4e,Ru]=$se(Lk),Vse=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=C.useRef(null),c=C.useRef(null),[u,d]=Kp({prop:r,defaultProp:i??!1,onChange:s,caller:Lk});return a.jsx(u4e,{scope:e,triggerRef:l,contentRef:c,contentId:Ph(),titleId:Ph(),descriptionId:Ph(),open:u,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};Vse.displayName=Lk;var Wse="DialogTrigger",Gse=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ru(Wse,n),s=Kr(e,i.triggerRef);return a.jsx(Fn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":wz(i.open),...r,ref:s,onClick:Yn(t.onClick,i.onOpenToggle)})});Gse.displayName=Wse;var xz="DialogPortal",[d4e,qse]=$se(xz,{forceMount:void 0}),Yse=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ru(xz,e);return a.jsx(d4e,{scope:e,forceMount:n,children:C.Children.map(r,o=>a.jsx(_m,{present:n||s.open,children:a.jsx(XP,{asChild:!0,container:i,children:o})}))})};Yse.displayName=xz;var JC="DialogOverlay",Xse=C.forwardRef((t,e)=>{const n=qse(JC,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ru(JC,t.__scopeDialog);return s.modal?a.jsx(_m,{present:r||s.open,children:a.jsx(f4e,{...i,ref:e})}):null});Xse.displayName=JC;var h4e=By("DialogOverlay.RemoveScroll"),f4e=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ru(JC,n);return a.jsx(ZP,{as:h4e,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Fn.div,{"data-state":wz(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Xy="DialogContent",Kse=C.forwardRef((t,e)=>{const n=qse(Xy,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ru(Xy,t.__scopeDialog);return a.jsx(_m,{present:r||s.open,children:s.modal?a.jsx(p4e,{...i,ref:e}):a.jsx(m4e,{...i,ref:e})})});Kse.displayName=Xy;var p4e=C.forwardRef((t,e)=>{const n=Ru(Xy,t.__scopeDialog),r=C.useRef(null),i=Kr(e,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return gB(s)},[]),a.jsx(Zse,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Yn(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Yn(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Yn(t.onFocusOutside,s=>s.preventDefault())})}),m4e=C.forwardRef((t,e)=>{const n=Ru(Xy,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return a.jsx(Zse,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Zse=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=Ru(Xy,n),c=C.useRef(null),u=Kr(e,c);return iB(),a.jsxs(a.Fragment,{children:[a.jsx(HP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx($P,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":wz(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(y4e,{titleId:l.titleId}),a.jsx(x4e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),bz="DialogTitle",Qse=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ru(bz,n);return a.jsx(Fn.h2,{id:i.titleId,...r,ref:e})});Qse.displayName=bz;var Jse="DialogDescription",eae=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ru(Jse,n);return a.jsx(Fn.p,{id:i.descriptionId,...r,ref:e})});eae.displayName=Jse;var tae="DialogClose",nae=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ru(tae,n);return a.jsx(Fn.button,{type:"button",...r,ref:e,onClick:Yn(t.onClick,()=>i.onOpenChange(!1))})});nae.displayName=tae;function wz(t){return t?"open":"closed"}var rae="DialogTitleWarning",[g4e,iae]=uje(rae,{contentName:Xy,titleName:bz,docsSlug:"dialog"}),y4e=({titleId:t})=>{const e=iae(rae),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},v4e="DialogDescriptionWarning",x4e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iae(v4e).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},sae=Vse,aae=Gse,oae=Yse,_z=Xse,Sz=Kse,Ez=Qse,jz=eae,Az=nae;const Ga=sae,Kh=aae,b4e=oae,lae=C.forwardRef(({className:t,...e},n)=>a.jsx(_z,{ref:n,className:xt("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lae.displayName=_z.displayName;const Ta=C.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(b4e,{children:[a.jsx(lae,{}),a.jsxs(Sz,{ref:r,className:xt("fixed left-[50%] top-[50%] z-50 grid w-[calc(100%-2rem)] sm:w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-3 sm:gap-4 border border-gray-200 bg-white p-4 sm:p-6 shadow-lg duration-200 max-h-[90vh] overflow-y-auto momentum-scroll rounded-lg sm:rounded-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",t),...n,children:[e,a.jsxs(Az,{className:"absolute right-3 sm:right-4 top-3 sm:top-4 rounded-sm opacity-70 ring-offset-white transition-all hover:opacity-100 active:scale-90 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500 min-w-[44px] min-h-[44px] flex items-center justify-center",children:[a.jsx(tl,{className:"h-5 w-5 sm:h-4 sm:w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ta.displayName=Sz.displayName;const qa=({className:t,...e})=>a.jsx("div",{className:xt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});qa.displayName="DialogHeader";const em=({className:t,...e})=>a.jsx("div",{className:xt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});em.displayName="DialogFooter";const Ya=C.forwardRef(({className:t,...e},n)=>a.jsx(Ez,{ref:n,className:xt("text-base sm:text-lg font-semibold leading-tight sm:leading-none tracking-tight text-gray-900 pr-8",t),...e}));Ya.displayName=Ez.displayName;const Hl=C.forwardRef(({className:t,...e},n)=>a.jsx(jz,{ref:n,className:xt("text-xs sm:text-sm text-gray-500 leading-relaxed",t),...e}));Hl.displayName=jz.displayName;var Cj=t=>t.type==="checkbox",sy=t=>t instanceof Date,zo=t=>t==null;const cae=t=>typeof t=="object";var ks=t=>!zo(t)&&!Array.isArray(t)&&cae(t)&&!sy(t),w4e=t=>ks(t)&&t.target?Cj(t.target)?t.target.checked:t.target.value:t,_4e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,S4e=(t,e)=>t.has(_4e(e)),E4e=t=>{const e=t.constructor&&t.constructor.prototype;return ks(e)&&e.hasOwnProperty("isPrototypeOf")},Nz=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ca(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Nz&&(t instanceof Blob||r))&&(n||ks(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!E4e(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ca(t[i]));else return t;return e}var Dk=t=>/^\w*$/.test(t),fs=t=>t===void 0,Tz=t=>Array.isArray(t)?t.filter(Boolean):[],Mz=t=>Tz(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Jt=(t,e,n)=>{if(!e||!ks(t))return n;const r=(Dk(e)?[e]:Mz(e)).reduce((i,s)=>zo(i)?i:i[s],t);return fs(r)||r===t?fs(t[e])?n:t[e]:r},rd=t=>typeof t=="boolean",ui=(t,e,n)=>{let r=-1;const i=Dk(e)?[e]:Mz(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==o){const u=t[l];c=ks(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const y9={BLUR:"blur",FOCUS_OUT:"focusout"},gu={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},dh={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},j4e=ae.createContext(null);j4e.displayName="HookFormContext";var A4e=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==gu.all&&(e._proxyFormState[o]=!r||gu.all),t[o]}});return i};const N4e=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;var kl=t=>typeof t=="string",T4e=(t,e,n,r,i)=>kl(t)?(r&&e.watch.add(t),Jt(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Jt(n,s))):(r&&(e.watchAll=!0),n),F4=t=>zo(t)||!cae(t);function hp(t,e,n=new WeakSet){if(F4(t)||F4(e))return t===e;if(sy(t)&&sy(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const o=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const l=e[s];if(sy(o)&&sy(l)||ks(o)&&ks(l)||Array.isArray(o)&&Array.isArray(l)?!hp(o,l,n):o!==l)return!1}}return!0}var uae=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},X1=t=>Array.isArray(t)?t:[t],v9=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function dae(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],s=e[r];if(i&&ks(i)&&s){const o=dae(i,s);ks(o)&&(n[r]=o)}else t[r]&&(n[r]=s)}return n}var Fo=t=>ks(t)&&!Object.keys(t).length,Cz=t=>t.type==="file",yu=t=>typeof t=="function",e2=t=>{if(!Nz)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hae=t=>t.type==="select-multiple",Pz=t=>t.type==="radio",M4e=t=>Pz(t)||Cj(t),jL=t=>e2(t)&&t.isConnected;function C4e(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=fs(t)?r++:t[e[r++]];return t}function P4e(t){for(const e in t)if(t.hasOwnProperty(e)&&!fs(t[e]))return!1;return!0}function Es(t,e){const n=Array.isArray(e)?e:Dk(e)?[e]:Mz(e),r=n.length===1?t:C4e(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(ks(r)&&Fo(r)||Array.isArray(r)&&P4e(r))&&Es(t,n.slice(0,-1)),t}var k4e=t=>{for(const e in t)if(yu(t[e]))return!0;return!1};function fae(t){return Array.isArray(t)||ks(t)&&!k4e(t)}function U4(t,e={}){for(const n in t)fae(t[n])?(e[n]=Array.isArray(t[n])?[]:{},U4(t[n],e[n])):fs(t[n])||(e[n]=!0);return e}function Vx(t,e,n){n||(n=U4(e));for(const r in t)fae(t[r])?fs(e)||F4(n[r])?n[r]=U4(t[r],Array.isArray(t[r])?[]:{}):Vx(t[r],zo(e)?{}:e[r],n[r]):n[r]=!hp(t[r],e[r]);return n}const x9={value:!1,isValid:!1},b9={value:!0,isValid:!0};var pae=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!fs(t[0].attributes.value)?fs(t[0].value)||t[0].value===""?b9:{value:t[0].value,isValid:!0}:b9:x9}return x9},mae=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>fs(t)?t:e?t===""?NaN:t&&+t:n&&kl(t)?new Date(t):r?r(t):t;const w9={isValid:!1,value:null};var gae=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,w9):w9;function _9(t){const e=t.ref;return Cz(e)?e.files:Pz(e)?gae(t.refs).value:hae(e)?[...e.selectedOptions].map(({value:n})=>n):Cj(e)?pae(t.refs).value:mae(fs(e.value)?t.ref.value:e.value,t)}var O4e=(t,e,n,r)=>{const i={};for(const s of t){const o=Jt(e,s);o&&ui(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},t2=t=>t instanceof RegExp,Q_=t=>fs(t)?t:t2(t)?t.source:ks(t)?t2(t.value)?t.value.source:t.value:t,S9=t=>({isOnSubmit:!t||t===gu.onSubmit,isOnBlur:t===gu.onBlur,isOnChange:t===gu.onChange,isOnAll:t===gu.all,isOnTouch:t===gu.onTouched});const E9="AsyncFunction";var R4e=t=>!!t&&!!t.validate&&!!(yu(t.validate)&&t.validate.constructor.name===E9||ks(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===E9)),I4e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),j9=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const K1=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Jt(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(K1(l,e))break}else if(ks(l)&&K1(l,e))break}}};function A9(t,e,n){const r=Jt(t,n);if(r||Dk(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Jt(e,s),l=Jt(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var L4e=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Fo(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||gu.all))},D4e=(t,e,n)=>!t||!e||t===e||X1(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),F4e=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,U4e=(t,e)=>!Tz(Jt(t,e)).length&&Es(t,e),B4e=(t,e,n)=>{const r=X1(Jt(t,n));return ui(r,"root",e[n]),ui(t,n,r),t};function N9(t,e,n="validate"){if(kl(t)||Array.isArray(t)&&t.every(kl)||rd(t)&&!t)return{type:n,message:kl(t)?t:"",ref:e}}var Rx=t=>ks(t)&&!t2(t)?t:{value:t,message:""},T9=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:b,mount:v}=t._f,_=Jt(n,y);if(!v||e.has(y))return{};const S=l?l[0]:o,j=U=>{i&&S.reportValidity&&(S.setCustomValidity(rd(U)?"":U||""),S.reportValidity())},N={},A=Pz(o),M=Cj(o),k=A||M,L=(b||Cz(o))&&fs(o.value)&&fs(_)||e2(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,O=uae.bind(null,y,r,N),I=(U,W,q,J=dh.maxLength,K=dh.minLength)=>{const ne=U?W:q;N[y]={type:U?J:K,message:ne,ref:o,...O(U?J:K,ne)}};if(s?!Array.isArray(_)||!_.length:c&&(!k&&(L||zo(_))||rd(_)&&!_||M&&!pae(l).isValid||A&&!gae(l).isValid)){const{value:U,message:W}=kl(c)?{value:!!c,message:c}:Rx(c);if(U&&(N[y]={type:dh.required,message:W,ref:S,...O(dh.required,W)},!r))return j(W),N}if(!L&&(!zo(h)||!zo(f))){let U,W;const q=Rx(f),J=Rx(h);if(!zo(_)&&!isNaN(_)){const K=o.valueAsNumber||_&&+_;zo(q.value)||(U=K>q.value),zo(J.value)||(W=K<J.value)}else{const K=o.valueAsDate||new Date(_),ne=B=>new Date(new Date().toDateString()+" "+B),$=o.type=="time",Z=o.type=="week";kl(q.value)&&_&&(U=$?ne(_)>ne(q.value):Z?_>q.value:K>new Date(q.value)),kl(J.value)&&_&&(W=$?ne(_)<ne(J.value):Z?_<J.value:K<new Date(J.value))}if((U||W)&&(I(!!U,q.message,J.message,dh.max,dh.min),!r))return j(N[y].message),N}if((u||d)&&!L&&(kl(_)||s&&Array.isArray(_))){const U=Rx(u),W=Rx(d),q=!zo(U.value)&&_.length>+U.value,J=!zo(W.value)&&_.length<+W.value;if((q||J)&&(I(q,U.message,W.message),!r))return j(N[y].message),N}if(p&&!L&&kl(_)){const{value:U,message:W}=Rx(p);if(t2(U)&&!_.match(U)&&(N[y]={type:dh.pattern,message:W,ref:o,...O(dh.pattern,W)},!r))return j(W),N}if(m){if(yu(m)){const U=await m(_,n),W=N9(U,S);if(W&&(N[y]={...W,...O(dh.validate,W.message)},!r))return j(W.message),N}else if(ks(m)){let U={};for(const W in m){if(!Fo(U)&&!r)break;const q=N9(await m[W](_,n),S,W);q&&(U={...q,...O(W,q.message)},j(q.message),r&&(N[y]=U))}if(!Fo(U)&&(N[y]={ref:S,...U},!r))return N}}return j(!0),N};const z4e={mode:gu.onSubmit,reValidateMode:gu.onChange,shouldFocusError:!0};function $4e(t={}){let e={...z4e,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:yu(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=ks(e.defaultValues)||ks(e.values)?ca(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ca(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:v9(),state:v9()},p=e.criteriaMode===gu.all,m=H=>z=>{clearTimeout(u),u=setTimeout(H,z)},y=async H=>{if(!e.disabled&&(d.isValid||h.isValid||H)){const z=e.resolver?Fo((await M()).errors):await L(r,!0);z!==n.isValid&&f.state.next({isValid:z})}},b=(H,z)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((H||Array.from(l.mount)).forEach(oe=>{oe&&(z?ui(n.validatingFields,oe,z):Es(n.validatingFields,oe))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Fo(n.validatingFields)}))},v=(H,z=[],oe,je,Ne=!0,we=!0)=>{if(je&&oe&&!e.disabled){if(o.action=!0,we&&Array.isArray(Jt(r,H))){const me=oe(Jt(r,H),je.argA,je.argB);Ne&&ui(r,H,me)}if(we&&Array.isArray(Jt(n.errors,H))){const me=oe(Jt(n.errors,H),je.argA,je.argB);Ne&&ui(n.errors,H,me),U4e(n.errors,H)}if((d.touchedFields||h.touchedFields)&&we&&Array.isArray(Jt(n.touchedFields,H))){const me=oe(Jt(n.touchedFields,H),je.argA,je.argB);Ne&&ui(n.touchedFields,H,me)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Vx(i,s)),f.state.next({name:H,isDirty:I(H,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ui(s,H,z)},_=(H,z)=>{ui(n.errors,H,z),f.state.next({errors:n.errors})},S=H=>{n.errors=H,f.state.next({errors:n.errors,isValid:!1})},j=(H,z,oe,je)=>{const Ne=Jt(r,H);if(Ne){const we=Jt(s,H,fs(oe)?Jt(i,H):oe);fs(we)||je&&je.defaultChecked||z?ui(s,H,z?we:_9(Ne._f)):q(H,we),o.mount&&y()}},N=(H,z,oe,je,Ne)=>{let we=!1,me=!1;const Ae={name:H};if(!e.disabled){if(!oe||je){(d.isDirty||h.isDirty)&&(me=n.isDirty,n.isDirty=Ae.isDirty=I(),we=me!==Ae.isDirty);const $e=hp(Jt(i,H),z);me=!!Jt(n.dirtyFields,H),$e?Es(n.dirtyFields,H):ui(n.dirtyFields,H,!0),Ae.dirtyFields=n.dirtyFields,we=we||(d.dirtyFields||h.dirtyFields)&&me!==!$e}if(oe){const $e=Jt(n.touchedFields,H);$e||(ui(n.touchedFields,H,oe),Ae.touchedFields=n.touchedFields,we=we||(d.touchedFields||h.touchedFields)&&$e!==oe)}we&&Ne&&f.state.next(Ae)}return we?Ae:{}},A=(H,z,oe,je)=>{const Ne=Jt(n.errors,H),we=(d.isValid||h.isValid)&&rd(z)&&n.isValid!==z;if(e.delayError&&oe?(c=m(()=>_(H,oe)),c(e.delayError)):(clearTimeout(u),c=null,oe?ui(n.errors,H,oe):Es(n.errors,H)),(oe?!hp(Ne,oe):Ne)||!Fo(je)||we){const me={...je,...we&&rd(z)?{isValid:z}:{},errors:n.errors,name:H};n={...n,...me},f.state.next(me)}},M=async H=>{b(H,!0);const z=await e.resolver(s,e.context,O4e(H||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(H),z},k=async H=>{const{errors:z}=await M(H);if(H)for(const oe of H){const je=Jt(z,oe);je?ui(n.errors,oe,je):Es(n.errors,oe)}else n.errors=z;return z},L=async(H,z,oe={valid:!0})=>{for(const je in H){const Ne=H[je];if(Ne){const{_f:we,...me}=Ne;if(we){const Ae=l.array.has(we.name),$e=Ne._f&&R4e(Ne._f);$e&&d.validatingFields&&b([we.name],!0);const _t=await T9(Ne,l.disabled,s,p,e.shouldUseNativeValidation&&!z,Ae);if($e&&d.validatingFields&&b([we.name]),_t[we.name]&&(oe.valid=!1,z))break;!z&&(Jt(_t,we.name)?Ae?B4e(n.errors,_t,we.name):ui(n.errors,we.name,_t[we.name]):Es(n.errors,we.name))}!Fo(me)&&await L(me,z,oe)}}return oe.valid},O=()=>{for(const H of l.unMount){const z=Jt(r,H);z&&(z._f.refs?z._f.refs.every(oe=>!jL(oe)):!jL(z._f.ref))&&Ce(H)}l.unMount=new Set},I=(H,z)=>!e.disabled&&(H&&z&&ui(s,H,z),!hp(B(),i)),U=(H,z,oe)=>T4e(H,l,{...o.mount?s:fs(z)?i:kl(H)?{[H]:z}:z},oe,z),W=H=>Tz(Jt(o.mount?s:i,H,e.shouldUnregister?Jt(i,H,[]):[])),q=(H,z,oe={})=>{const je=Jt(r,H);let Ne=z;if(je){const we=je._f;we&&(!we.disabled&&ui(s,H,mae(z,we)),Ne=e2(we.ref)&&zo(z)?"":z,hae(we.ref)?[...we.ref.options].forEach(me=>me.selected=Ne.includes(me.value)):we.refs?Cj(we.ref)?we.refs.forEach(me=>{(!me.defaultChecked||!me.disabled)&&(Array.isArray(Ne)?me.checked=!!Ne.find(Ae=>Ae===me.value):me.checked=Ne===me.value||!!Ne)}):we.refs.forEach(me=>me.checked=me.value===Ne):Cz(we.ref)?we.ref.value="":(we.ref.value=Ne,we.ref.type||f.state.next({name:H,values:ca(s)})))}(oe.shouldDirty||oe.shouldTouch)&&N(H,Ne,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&Z(H)},J=(H,z,oe)=>{for(const je in z){if(!z.hasOwnProperty(je))return;const Ne=z[je],we=H+"."+je,me=Jt(r,we);(l.array.has(H)||ks(Ne)||me&&!me._f)&&!sy(Ne)?J(we,Ne,oe):q(we,Ne,oe)}},K=(H,z,oe={})=>{const je=Jt(r,H),Ne=l.array.has(H),we=ca(z);ui(s,H,we),Ne?(f.array.next({name:H,values:ca(s)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&oe.shouldDirty&&f.state.next({name:H,dirtyFields:Vx(i,s),isDirty:I(H,we)})):je&&!je._f&&!zo(we)?J(H,we,oe):q(H,we,oe),j9(H,l)&&f.state.next({...n,name:H}),f.state.next({name:o.mount?H:void 0,values:ca(s)})},ne=async H=>{o.mount=!0;const z=H.target;let oe=z.name,je=!0;const Ne=Jt(r,oe),we=$e=>{je=Number.isNaN($e)||sy($e)&&isNaN($e.getTime())||hp($e,Jt(s,oe,$e))},me=S9(e.mode),Ae=S9(e.reValidateMode);if(Ne){let $e,_t;const Ze=z.type?_9(Ne._f):w4e(H),wt=H.type===y9.BLUR||H.type===y9.FOCUS_OUT,qt=!I4e(Ne._f)&&!e.resolver&&!Jt(n.errors,oe)&&!Ne._f.deps||F4e(wt,Jt(n.touchedFields,oe),n.isSubmitted,Ae,me),Rt=j9(oe,l,wt);ui(s,oe,Ze),wt?(!z||!z.readOnly)&&(Ne._f.onBlur&&Ne._f.onBlur(H),c&&c(0)):Ne._f.onChange&&Ne._f.onChange(H);const gt=N(oe,Ze,wt),fn=!Fo(gt)||Rt;if(!wt&&f.state.next({name:oe,type:H.type,values:ca(s)}),qt)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?wt&&y():wt||y()),fn&&f.state.next({name:oe,...Rt?{}:gt});if(!wt&&Rt&&f.state.next({...n}),e.resolver){const{errors:ge}=await M([oe]);if(we(Ze),je){const Qe=A9(n.errors,r,oe),ue=A9(ge,r,Qe.name||oe);$e=ue.error,oe=ue.name,_t=Fo(ge)}}else b([oe],!0),$e=(await T9(Ne,l.disabled,s,p,e.shouldUseNativeValidation))[oe],b([oe]),we(Ze),je&&($e?_t=!1:(d.isValid||h.isValid)&&(_t=await L(r,!0)));je&&(Ne._f.deps&&(!Array.isArray(Ne._f.deps)||Ne._f.deps.length>0)&&Z(Ne._f.deps),A(oe,_t,$e,gt))}},$=(H,z)=>{if(Jt(n.errors,z)&&H.focus)return H.focus(),1},Z=async(H,z={})=>{let oe,je;const Ne=X1(H);if(e.resolver){const we=await k(fs(H)?H:Ne);oe=Fo(we),je=H?!Ne.some(me=>Jt(we,me)):oe}else H?(je=(await Promise.all(Ne.map(async we=>{const me=Jt(r,we);return await L(me&&me._f?{[we]:me}:me)}))).every(Boolean),!(!je&&!n.isValid)&&y()):je=oe=await L(r);return f.state.next({...!kl(H)||(d.isValid||h.isValid)&&oe!==n.isValid?{}:{name:H},...e.resolver||!H?{isValid:oe}:{},errors:n.errors}),z.shouldFocus&&!je&&K1(r,$,H?Ne:l.mount),je},B=(H,z)=>{let oe={...o.mount?s:i};return z&&(oe=dae(z.dirtyFields?n.dirtyFields:n.touchedFields,oe)),fs(H)?oe:kl(H)?Jt(oe,H):H.map(je=>Jt(oe,je))},ce=(H,z)=>({invalid:!!Jt((z||n).errors,H),isDirty:!!Jt((z||n).dirtyFields,H),error:Jt((z||n).errors,H),isValidating:!!Jt(n.validatingFields,H),isTouched:!!Jt((z||n).touchedFields,H)}),fe=H=>{H&&X1(H).forEach(z=>Es(n.errors,z)),f.state.next({errors:H?n.errors:{}})},Q=(H,z,oe)=>{const je=(Jt(r,H,{_f:{}})._f||{}).ref,Ne=Jt(n.errors,H)||{},{ref:we,message:me,type:Ae,...$e}=Ne;ui(n.errors,H,{...$e,...z,ref:je}),f.state.next({name:H,errors:n.errors,isValid:!1}),oe&&oe.shouldFocus&&je&&je.focus&&je.focus()},xe=(H,z)=>yu(H)?f.state.subscribe({next:oe=>"values"in oe&&H(U(void 0,z),oe)}):U(H,z,!0),ke=H=>f.state.subscribe({next:z=>{D4e(H.name,z.name,H.exact)&&L4e(z,H.formState||d,rt,H.reRenderRoot)&&H.callback({values:{...s},...n,...z,defaultValues:i})}}).unsubscribe,Re=H=>(o.mount=!0,h={...h,...H.formState},ke({...H,formState:h})),Ce=(H,z={})=>{for(const oe of H?X1(H):l.mount)l.mount.delete(oe),l.array.delete(oe),z.keepValue||(Es(r,oe),Es(s,oe)),!z.keepError&&Es(n.errors,oe),!z.keepDirty&&Es(n.dirtyFields,oe),!z.keepTouched&&Es(n.touchedFields,oe),!z.keepIsValidating&&Es(n.validatingFields,oe),!e.shouldUnregister&&!z.keepDefaultValue&&Es(i,oe);f.state.next({values:ca(s)}),f.state.next({...n,...z.keepDirty?{isDirty:I()}:{}}),!z.keepIsValid&&y()},tt=({disabled:H,name:z})=>{(rd(H)&&o.mount||H||l.disabled.has(z))&&(H?l.disabled.add(z):l.disabled.delete(z))},Fe=(H,z={})=>{let oe=Jt(r,H);const je=rd(z.disabled)||rd(e.disabled);return ui(r,H,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:H}},name:H,mount:!0,...z}}),l.mount.add(H),oe?tt({disabled:rd(z.disabled)?z.disabled:e.disabled,name:H}):j(H,!0,z.value),{...je?{disabled:z.disabled||e.disabled}:{},...e.progressive?{required:!!z.required,min:Q_(z.min),max:Q_(z.max),minLength:Q_(z.minLength),maxLength:Q_(z.maxLength),pattern:Q_(z.pattern)}:{},name:H,onChange:ne,onBlur:ne,ref:Ne=>{if(Ne){Fe(H,z),oe=Jt(r,H);const we=fs(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,me=M4e(we),Ae=oe._f.refs||[];if(me?Ae.find($e=>$e===we):we===oe._f.ref)return;ui(r,H,{_f:{...oe._f,...me?{refs:[...Ae.filter(jL),we,...Array.isArray(Jt(i,H))?[{}]:[]],ref:{type:we.type,name:H}}:{ref:we}}}),j(H,!1,void 0,we)}else oe=Jt(r,H,{}),oe._f&&(oe._f.mount=!1),(e.shouldUnregister||z.shouldUnregister)&&!(S4e(l.array,H)&&o.action)&&l.unMount.add(H)}}},Ve=()=>e.shouldFocusError&&K1(r,$,l.mount),Ue=H=>{rd(H)&&(f.state.next({disabled:H}),K1(r,(z,oe)=>{const je=Jt(r,oe);je&&(z.disabled=je._f.disabled||H,Array.isArray(je._f.refs)&&je._f.refs.forEach(Ne=>{Ne.disabled=je._f.disabled||H}))},0,!1))},he=(H,z)=>async oe=>{let je;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let Ne=ca(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:we,values:me}=await M();n.errors=we,Ne=ca(me)}else await L(r);if(l.disabled.size)for(const we of l.disabled)Es(Ne,we);if(Es(n.errors,"root"),Fo(n.errors)){f.state.next({errors:{}});try{await H(Ne,oe)}catch(we){je=we}}else z&&await z({...n.errors},oe),Ve(),setTimeout(Ve);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fo(n.errors)&&!je,submitCount:n.submitCount+1,errors:n.errors}),je)throw je},te=(H,z={})=>{Jt(r,H)&&(fs(z.defaultValue)?K(H,ca(Jt(i,H))):(K(H,z.defaultValue),ui(i,H,ca(z.defaultValue))),z.keepTouched||Es(n.touchedFields,H),z.keepDirty||(Es(n.dirtyFields,H),n.isDirty=z.defaultValue?I(H,ca(Jt(i,H))):I()),z.keepError||(Es(n.errors,H),d.isValid&&y()),f.state.next({...n}))},ze=(H,z={})=>{const oe=H?ca(H):i,je=ca(oe),Ne=Fo(H),we=Ne?i:je;if(z.keepDefaultValues||(i=oe),!z.keepValues){if(z.keepDirtyValues){const me=new Set([...l.mount,...Object.keys(Vx(i,s))]);for(const Ae of Array.from(me))Jt(n.dirtyFields,Ae)?ui(we,Ae,Jt(s,Ae)):K(Ae,Jt(we,Ae))}else{if(Nz&&fs(H))for(const me of l.mount){const Ae=Jt(r,me);if(Ae&&Ae._f){const $e=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(e2($e)){const _t=$e.closest("form");if(_t){_t.reset();break}}}}if(z.keepFieldsRef)for(const me of l.mount)K(me,Jt(we,me));else r={}}s=e.shouldUnregister?z.keepDefaultValues?ca(i):{}:ca(we),f.array.next({values:{...we}}),f.state.next({values:{...we}})}l={mount:z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!z.keepIsValid||!!z.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:Ne?!1:z.keepDirty?n.isDirty:!!(z.keepDefaultValues&&!hp(H,i)),isSubmitted:z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ne?{}:z.keepDirtyValues?z.keepDefaultValues&&s?Vx(i,s):n.dirtyFields:z.keepDefaultValues&&H?Vx(i,H):z.keepDirty?n.dirtyFields:{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},nt=(H,z)=>ze(yu(H)?H(s):H,z),Je=(H,z={})=>{const oe=Jt(r,H),je=oe&&oe._f;if(je){const Ne=je.refs?je.refs[0]:je.ref;Ne.focus&&(Ne.focus(),z.shouldSelect&&yu(Ne.select)&&Ne.select())}},rt=H=>{n={...n,...H}},bt={control:{register:Fe,unregister:Ce,getFieldState:ce,handleSubmit:he,setError:Q,_subscribe:ke,_runSchema:M,_focusError:Ve,_getWatch:U,_getDirty:I,_setValid:y,_setFieldArray:v,_setDisabledField:tt,_setErrors:S,_getFieldArray:W,_reset:ze,_resetDefaultValues:()=>yu(e.defaultValues)&&e.defaultValues().then(H=>{nt(H,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:Ue,_subjects:f,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(H){o=H},get _defaultValues(){return i},get _names(){return l},set _names(H){l=H},get _formState(){return n},get _options(){return e},set _options(H){e={...e,...H}}},subscribe:Re,trigger:Z,register:Fe,handleSubmit:he,watch:xe,setValue:K,getValues:B,reset:nt,resetField:te,clearErrors:fe,unregister:Ce,setError:Q,setFocus:Je,getFieldState:ce};return{...bt,formControl:bt}}function lw(t={}){const e=ae.useRef(void 0),n=ae.useRef(void 0),[r,i]=ae.useState({isDirty:!1,isValidating:!1,isLoading:yu(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:yu(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!yu(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=$4e(t);e.current={...l,formState:r}}const s=e.current.control;return s._options=t,N4e(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),ae.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ae.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),ae.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),ae.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),ae.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),ae.useEffect(()=>{t.values&&!hp(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),ae.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=A4e(r,s),e.current}const M9=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Jt(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},yae=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?M9(r.ref,n,t):r.refs&&r.refs.forEach(i=>M9(i,n,t))}},H4e=(t,e)=>{e.shouldUseNativeValidation&&yae(t,e);const n={};for(const r in t){const i=Jt(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(V4e(e.names||Object.keys(t),r)){const o=Object.assign({},Jt(n,r));ui(o,"root",s),ui(n,r,o)}else ui(n,r,s)}return n},V4e=(t,e)=>t.some(n=>n.startsWith(e+"."));var W4e=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=uae(o,e,n,i,u?[].concat(u,r.message):r.message)}t.shift()}return n},cw=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return s.shouldUseNativeValidation&&yae({},s),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:H4e(W4e(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Ir;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ir||(Ir={}));var C9;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(C9||(C9={}));const tn=Ir.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ap=t=>{switch(typeof t){case"undefined":return tn.undefined;case"string":return tn.string;case"number":return Number.isNaN(t)?tn.nan:tn.number;case"boolean":return tn.boolean;case"function":return tn.function;case"bigint":return tn.bigint;case"symbol":return tn.symbol;case"object":return Array.isArray(t)?tn.array:t===null?tn.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?tn.promise:typeof Map<"u"&&t instanceof Map?tn.map:typeof Set<"u"&&t instanceof Set?tn.set:typeof Date<"u"&&t instanceof Date?tn.date:tn.object;default:return tn.unknown}},Mt=Ir.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Pd extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),r}static assert(e){if(!(e instanceof Pd))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ir.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Pd.create=t=>new Pd(t);const B4=(t,e)=>{let n;switch(t.code){case Mt.invalid_type:t.received===tn.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Mt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ir.jsonStringifyReplacer)}`;break;case Mt.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ir.joinValues(t.keys,", ")}`;break;case Mt.invalid_union:n="Invalid input";break;case Mt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ir.joinValues(t.options)}`;break;case Mt.invalid_enum_value:n=`Invalid enum value. Expected ${Ir.joinValues(t.options)}, received '${t.received}'`;break;case Mt.invalid_arguments:n="Invalid function arguments";break;case Mt.invalid_return_type:n="Invalid function return type";break;case Mt.invalid_date:n="Invalid date";break;case Mt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ir.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Mt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Mt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Mt.custom:n="Invalid input";break;case Mt.invalid_intersection_types:n="Intersection results could not be merged";break;case Mt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Mt.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ir.assertNever(t)}return{message:n}};let G4e=B4;function q4e(){return G4e}const Y4e=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function Wt(t,e){const n=q4e(),r=Y4e({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===B4?void 0:B4].filter(i=>!!i)});t.common.issues.push(r)}class Vl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Wn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Vl.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Wn;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Wn=Object.freeze({status:"aborted"}),E1=t=>({status:"dirty",value:t}),Ic=t=>({status:"valid",value:t}),P9=t=>t.status==="aborted",k9=t=>t.status==="dirty",gb=t=>t.status==="valid",n2=t=>typeof Promise<"u"&&t instanceof Promise;var dn;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(dn||(dn={}));class tm{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const O9=(t,e)=>{if(gb(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Pd(t.common.issues);return this._error=n,this._error}}};function gr(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class Or{get description(){return this._def.description}_getType(e){return ap(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ap(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vl,ctx:{common:e.parent.common,data:e.data,parsedType:ap(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(n2(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ap(e)},i=this._parseSync({data:e,path:r.path,parent:r});return O9(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ap(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return gb(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>gb(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ap(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(n2(i)?i:Promise.resolve(i));return O9(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:Mt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new vb({schema:this,typeName:Gn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return zp.create(this,this._def)}nullable(){return xb.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jd.create(this)}promise(){return a2.create(this,this._def)}or(e){return i2.create([this,e],this._def)}and(e){return s2.create(this,e,this._def)}transform(e){return new vb({...gr(this._def),schema:this,typeName:Gn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new H4({...gr(this._def),innerType:this,defaultValue:n,typeName:Gn.ZodDefault})}brand(){return new yFe({typeName:Gn.ZodBranded,type:this,...gr(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new V4({...gr(this._def),innerType:this,catchValue:n,typeName:Gn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return kz.create(this,e)}readonly(){return W4.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const X4e=/^c[^\s-]{8,}$/i,K4e=/^[0-9a-z]+$/,Z4e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Q4e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,J4e=/^[a-z0-9_-]{21}$/i,eFe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tFe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nFe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rFe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let AL;const iFe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sFe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aFe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oFe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lFe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cFe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vae="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uFe=new RegExp(`^${vae}$`);function xae(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function dFe(t){return new RegExp(`^${xae(t)}$`)}function hFe(t){let e=`${vae}T${xae(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function fFe(t,e){return!!((e==="v4"||!e)&&iFe.test(t)||(e==="v6"||!e)&&aFe.test(t))}function pFe(t,e){if(!eFe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function mFe(t,e){return!!((e==="v4"||!e)&&sFe.test(t)||(e==="v6"||!e)&&oFe.test(t))}class Np extends Or{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==tn.string){const s=this._getOrReturnCtx(e);return Wt(s,{code:Mt.invalid_type,expected:tn.string,received:s.parsedType}),Wn}const r=new Vl;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Wt(i,{code:Mt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Wt(i,{code:Mt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Wt(i,{code:Mt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Wt(i,{code:Mt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")nFe.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"email",code:Mt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")AL||(AL=new RegExp(rFe,"u")),AL.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"emoji",code:Mt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Q4e.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"uuid",code:Mt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")J4e.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"nanoid",code:Mt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")X4e.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"cuid",code:Mt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")K4e.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"cuid2",code:Mt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Z4e.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"ulid",code:Mt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Wt(i,{validation:"url",code:Mt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"regex",code:Mt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Wt(i,{code:Mt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Wt(i,{code:Mt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Wt(i,{code:Mt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?hFe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{code:Mt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?uFe.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{code:Mt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?dFe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{code:Mt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?tFe.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"duration",code:Mt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?fFe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"ip",code:Mt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?pFe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"jwt",code:Mt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?mFe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"cidr",code:Mt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?lFe.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"base64",code:Mt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?cFe.test(e.data)||(i=this._getOrReturnCtx(e,i),Wt(i,{validation:"base64url",code:Mt.invalid_string,message:s.message}),r.dirty()):Ir.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Mt.invalid_string,...dn.errToObj(r)})}_addCheck(e){return new Np({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...dn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...dn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...dn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...dn.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...dn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...dn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...dn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...dn.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...dn.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...dn.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...dn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...dn.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...dn.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...dn.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...dn.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...dn.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...dn.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...dn.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...dn.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...dn.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...dn.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...dn.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...dn.errToObj(n)})}nonempty(e){return this.min(1,dn.errToObj(e))}trim(){return new Np({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Np({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Np({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Np.create=t=>new Np({checks:[],typeName:Gn.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...gr(t)});function gFe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class sE extends Or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==tn.number){const s=this._getOrReturnCtx(e);return Wt(s,{code:Mt.invalid_type,expected:tn.number,received:s.parsedType}),Wn}let r;const i=new Vl;for(const s of this._def.checks)s.kind==="int"?Ir.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Wt(r,{code:Mt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Wt(r,{code:Mt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Wt(r,{code:Mt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?gFe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Wt(r,{code:Mt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Wt(r,{code:Mt.not_finite,message:s.message}),i.dirty()):Ir.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,dn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,dn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,dn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,dn.toString(n))}setLimit(e,n,r,i){return new sE({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:dn.toString(i)}]})}_addCheck(e){return new sE({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:dn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:dn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:dn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:dn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:dn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:dn.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:dn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:dn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:dn.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ir.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}sE.create=t=>new sE({checks:[],typeName:Gn.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...gr(t)});class aE extends Or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==tn.bigint)return this._getInvalidInput(e);let r;const i=new Vl;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Wt(r,{code:Mt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Wt(r,{code:Mt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Wt(r,{code:Mt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ir.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Wt(n,{code:Mt.invalid_type,expected:tn.bigint,received:n.parsedType}),Wn}gte(e,n){return this.setLimit("min",e,!0,dn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,dn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,dn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,dn.toString(n))}setLimit(e,n,r,i){return new aE({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:dn.toString(i)}]})}_addCheck(e){return new aE({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:dn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:dn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:dn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:dn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:dn.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}aE.create=t=>new aE({checks:[],typeName:Gn.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...gr(t)});class z4 extends Or{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==tn.boolean){const r=this._getOrReturnCtx(e);return Wt(r,{code:Mt.invalid_type,expected:tn.boolean,received:r.parsedType}),Wn}return Ic(e.data)}}z4.create=t=>new z4({typeName:Gn.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...gr(t)});class r2 extends Or{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==tn.date){const s=this._getOrReturnCtx(e);return Wt(s,{code:Mt.invalid_type,expected:tn.date,received:s.parsedType}),Wn}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Wt(s,{code:Mt.invalid_date}),Wn}const r=new Vl;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Wt(i,{code:Mt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Wt(i,{code:Mt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ir.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r2({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:dn.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:dn.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}r2.create=t=>new r2({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Gn.ZodDate,...gr(t)});class R9 extends Or{_parse(e){if(this._getType(e)!==tn.symbol){const r=this._getOrReturnCtx(e);return Wt(r,{code:Mt.invalid_type,expected:tn.symbol,received:r.parsedType}),Wn}return Ic(e.data)}}R9.create=t=>new R9({typeName:Gn.ZodSymbol,...gr(t)});class I9 extends Or{_parse(e){if(this._getType(e)!==tn.undefined){const r=this._getOrReturnCtx(e);return Wt(r,{code:Mt.invalid_type,expected:tn.undefined,received:r.parsedType}),Wn}return Ic(e.data)}}I9.create=t=>new I9({typeName:Gn.ZodUndefined,...gr(t)});class L9 extends Or{_parse(e){if(this._getType(e)!==tn.null){const r=this._getOrReturnCtx(e);return Wt(r,{code:Mt.invalid_type,expected:tn.null,received:r.parsedType}),Wn}return Ic(e.data)}}L9.create=t=>new L9({typeName:Gn.ZodNull,...gr(t)});class D9 extends Or{constructor(){super(...arguments),this._any=!0}_parse(e){return Ic(e.data)}}D9.create=t=>new D9({typeName:Gn.ZodAny,...gr(t)});class F9 extends Or{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ic(e.data)}}F9.create=t=>new F9({typeName:Gn.ZodUnknown,...gr(t)});class nm extends Or{_parse(e){const n=this._getOrReturnCtx(e);return Wt(n,{code:Mt.invalid_type,expected:tn.never,received:n.parsedType}),Wn}}nm.create=t=>new nm({typeName:Gn.ZodNever,...gr(t)});class U9 extends Or{_parse(e){if(this._getType(e)!==tn.undefined){const r=this._getOrReturnCtx(e);return Wt(r,{code:Mt.invalid_type,expected:tn.void,received:r.parsedType}),Wn}return Ic(e.data)}}U9.create=t=>new U9({typeName:Gn.ZodVoid,...gr(t)});class jd extends Or{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==tn.array)return Wt(n,{code:Mt.invalid_type,expected:tn.array,received:n.parsedType}),Wn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Wt(n,{code:o?Mt.too_big:Mt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Wt(n,{code:Mt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Wt(n,{code:Mt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new tm(n,o,n.path,l)))).then(o=>Vl.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new tm(n,o,n.path,l)));return Vl.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new jd({...this._def,minLength:{value:e,message:dn.toString(n)}})}max(e,n){return new jd({...this._def,maxLength:{value:e,message:dn.toString(n)}})}length(e,n){return new jd({...this._def,exactLength:{value:e,message:dn.toString(n)}})}nonempty(e){return this.min(1,e)}}jd.create=(t,e)=>new jd({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Gn.ZodArray,...gr(e)});function Wx(t){if(t instanceof Ts){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=zp.create(Wx(r))}return new Ts({...t._def,shape:()=>e})}else return t instanceof jd?new jd({...t._def,type:Wx(t.element)}):t instanceof zp?zp.create(Wx(t.unwrap())):t instanceof xb?xb.create(Wx(t.unwrap())):t instanceof Ky?Ky.create(t.items.map(e=>Wx(e))):t}class Ts extends Or{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ir.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==tn.object){const u=this._getOrReturnCtx(e);return Wt(u,{code:Mt.invalid_type,expected:tn.object,received:u.parsedType}),Wn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof nm&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new tm(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof nm){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(Wt(i,{code:Mt.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new tm(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>Vl.mergeObjectSync(r,u)):Vl.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return dn.errToObj,new Ts({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:dn.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Ts({...this._def,unknownKeys:"strip"})}passthrough(){return new Ts({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ts({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ts({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Gn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ts({...this._def,catchall:e})}pick(e){const n={};for(const r of Ir.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ts({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ir.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Ts({...this._def,shape:()=>n})}deepPartial(){return Wx(this)}partial(e){const n={};for(const r of Ir.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Ts({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ir.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof zp;)s=s._def.innerType;n[r]=s}return new Ts({...this._def,shape:()=>n})}keyof(){return bae(Ir.objectKeys(this.shape))}}Ts.create=(t,e)=>new Ts({shape:()=>t,unknownKeys:"strip",catchall:nm.create(),typeName:Gn.ZodObject,...gr(e)});Ts.strictCreate=(t,e)=>new Ts({shape:()=>t,unknownKeys:"strict",catchall:nm.create(),typeName:Gn.ZodObject,...gr(e)});Ts.lazycreate=(t,e)=>new Ts({shape:t,unknownKeys:"strip",catchall:nm.create(),typeName:Gn.ZodObject,...gr(e)});class i2 extends Or{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Pd(l.ctx.common.issues));return Wt(n,{code:Mt.invalid_union,unionErrors:o}),Wn}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Pd(c));return Wt(n,{code:Mt.invalid_union,unionErrors:l}),Wn}}get options(){return this._def.options}}i2.create=(t,e)=>new i2({options:t,typeName:Gn.ZodUnion,...gr(e)});function $4(t,e){const n=ap(t),r=ap(e);if(t===e)return{valid:!0,data:t};if(n===tn.object&&r===tn.object){const i=Ir.objectKeys(e),s=Ir.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=$4(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===tn.array&&r===tn.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=$4(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===tn.date&&r===tn.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class s2 extends Or{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(P9(s)||P9(o))return Wn;const l=$4(s.value,o.value);return l.valid?((k9(s)||k9(o))&&n.dirty(),{status:n.value,value:l.data}):(Wt(r,{code:Mt.invalid_intersection_types}),Wn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}s2.create=(t,e,n)=>new s2({left:t,right:e,typeName:Gn.ZodIntersection,...gr(n)});class Ky extends Or{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==tn.array)return Wt(r,{code:Mt.invalid_type,expected:tn.array,received:r.parsedType}),Wn;if(r.data.length<this._def.items.length)return Wt(r,{code:Mt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Wn;!this._def.rest&&r.data.length>this._def.items.length&&(Wt(r,{code:Mt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new tm(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Vl.mergeArray(n,o)):Vl.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Ky({...this._def,rest:e})}}Ky.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ky({items:t,typeName:Gn.ZodTuple,rest:null,...gr(e)})};class B9 extends Or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==tn.map)return Wt(r,{code:Mt.invalid_type,expected:tn.map,received:r.parsedType}),Wn;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:i._parse(new tm(r,l,r.path,[u,"key"])),value:s._parse(new tm(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Wn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Wn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}B9.create=(t,e,n)=>new B9({valueType:e,keyType:t,typeName:Gn.ZodMap,...gr(n)});class oE extends Or{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==tn.set)return Wt(r,{code:Mt.invalid_type,expected:tn.set,received:r.parsedType}),Wn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Wt(r,{code:Mt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Wt(r,{code:Mt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Wn;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>s._parse(new tm(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new oE({...this._def,minSize:{value:e,message:dn.toString(n)}})}max(e,n){return new oE({...this._def,maxSize:{value:e,message:dn.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}oE.create=(t,e)=>new oE({valueType:t,minSize:null,maxSize:null,typeName:Gn.ZodSet,...gr(e)});class z9 extends Or{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}z9.create=(t,e)=>new z9({getter:t,typeName:Gn.ZodLazy,...gr(e)});class $9 extends Or{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Wt(n,{received:n.data,code:Mt.invalid_literal,expected:this._def.value}),Wn}return{status:"valid",value:e.data}}get value(){return this._def.value}}$9.create=(t,e)=>new $9({value:t,typeName:Gn.ZodLiteral,...gr(e)});function bae(t,e){return new yb({values:t,typeName:Gn.ZodEnum,...gr(e)})}class yb extends Or{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Wt(n,{expected:Ir.joinValues(r),received:n.parsedType,code:Mt.invalid_type}),Wn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Wt(n,{received:n.data,code:Mt.invalid_enum_value,options:r}),Wn}return Ic(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return yb.create(e,{...this._def,...n})}exclude(e,n=this._def){return yb.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}yb.create=bae;class H9 extends Or{_parse(e){const n=Ir.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==tn.string&&r.parsedType!==tn.number){const i=Ir.objectValues(n);return Wt(r,{expected:Ir.joinValues(i),received:r.parsedType,code:Mt.invalid_type}),Wn}if(this._cache||(this._cache=new Set(Ir.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Ir.objectValues(n);return Wt(r,{received:r.data,code:Mt.invalid_enum_value,options:i}),Wn}return Ic(e.data)}get enum(){return this._def.values}}H9.create=(t,e)=>new H9({values:t,typeName:Gn.ZodNativeEnum,...gr(e)});class a2 extends Or{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==tn.promise&&n.common.async===!1)return Wt(n,{code:Mt.invalid_type,expected:tn.promise,received:n.parsedType}),Wn;const r=n.parsedType===tn.promise?n.data:Promise.resolve(n.data);return Ic(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}a2.create=(t,e)=>new a2({type:t,typeName:Gn.ZodPromise,...gr(e)});class vb extends Or{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Gn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Wt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Wn;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Wn:c.status==="dirty"||n.value==="dirty"?E1(c.value):c});{if(n.value==="aborted")return Wn;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Wn:l.status==="dirty"||n.value==="dirty"?E1(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Wn:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Wn:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!gb(o))return Wn;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>gb(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):Wn);Ir.assertNever(i)}}vb.create=(t,e,n)=>new vb({schema:t,typeName:Gn.ZodEffects,effect:e,...gr(n)});vb.createWithPreprocess=(t,e,n)=>new vb({schema:e,effect:{type:"preprocess",transform:t},typeName:Gn.ZodEffects,...gr(n)});class zp extends Or{_parse(e){return this._getType(e)===tn.undefined?Ic(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zp.create=(t,e)=>new zp({innerType:t,typeName:Gn.ZodOptional,...gr(e)});class xb extends Or{_parse(e){return this._getType(e)===tn.null?Ic(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xb.create=(t,e)=>new xb({innerType:t,typeName:Gn.ZodNullable,...gr(e)});class H4 extends Or{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===tn.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}H4.create=(t,e)=>new H4({innerType:t,typeName:Gn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...gr(e)});class V4 extends Or{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return n2(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Pd(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Pd(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}V4.create=(t,e)=>new V4({innerType:t,typeName:Gn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...gr(e)});class V9 extends Or{_parse(e){if(this._getType(e)!==tn.nan){const r=this._getOrReturnCtx(e);return Wt(r,{code:Mt.invalid_type,expected:tn.nan,received:r.parsedType}),Wn}return{status:"valid",value:e.data}}}V9.create=t=>new V9({typeName:Gn.ZodNaN,...gr(t)});class yFe extends Or{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class kz extends Or{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Wn:s.status==="dirty"?(n.dirty(),E1(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Wn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new kz({in:e,out:n,typeName:Gn.ZodPipeline})}}class W4 extends Or{_parse(e){const n=this._def.innerType._parse(e),r=i=>(gb(i)&&(i.value=Object.freeze(i.value)),i);return n2(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}W4.create=(t,e)=>new W4({innerType:t,typeName:Gn.ZodReadonly,...gr(e)});var Gn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Gn||(Gn={}));const or=Np.create,Gx=z4.create;nm.create;jd.create;const uw=Ts.create;i2.create;s2.create;Ky.create;yb.create;a2.create;zp.create;xb.create;var vFe="Label",wae=C.forwardRef((t,e)=>a.jsx(Fn.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wae.displayName=vFe;var _ae=wae;const xFe=BP("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ct=C.forwardRef(({className:t,...e},n)=>a.jsx(_ae,{ref:n,className:xt(xFe(),t),...e}));ct.displayName=_ae.displayName;const Jo=C.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:xt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Jo.displayName="Textarea";const Sa=C.forwardRef(({label:t,error:e,helperText:n,required:r,className:i,...s},o)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:s.id,className:"text-sm font-medium",children:[t,r&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx(Yt,{ref:o,className:xt(e&&"border-red-500 focus-visible:ring-red-500",i),"aria-invalid":e?"true":"false","aria-describedby":e?`${s.id}-error`:void 0,...s}),e&&a.jsx("p",{id:`${s.id}-error`,className:"text-sm text-red-500 font-medium",role:"alert",children:e}),n&&!e&&a.jsx("p",{className:"text-sm text-muted-foreground",children:n})]}));Sa.displayName="FormField";const Fk=C.forwardRef(({label:t,error:e,helperText:n,required:r,className:i,...s},o)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:s.id,className:"text-sm font-medium",children:[t,r&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx(Jo,{ref:o,className:xt(e&&"border-red-500 focus-visible:ring-red-500",i),"aria-invalid":e?"true":"false","aria-describedby":e?`${s.id}-error`:void 0,...s}),e&&a.jsx("p",{id:`${s.id}-error`,className:"text-sm text-red-500 font-medium",role:"alert",children:e}),n&&!e&&a.jsx("p",{className:"text-sm text-muted-foreground",children:n})]}));Fk.displayName="TextareaField";const bFe=uw({name:or().min(2,"Name must be at least 2 characters"),email:or().email("Please enter a valid email address"),phone:or().min(10,"Please enter a valid phone number"),message:or().min(10,"Message must be at least 10 characters")});function wFe({agentId:t,agentName:e,onSuccess:n}){var f,p,m,y;const[r,i]=C.useState(!1),[s,o]=C.useState(!1),{register:l,handleSubmit:c,formState:{errors:u},reset:d}=lw({resolver:cw(bFe)}),h=async b=>{i(!0);try{console.log("Contact form submitted:",{...b,agentId:t}),await new Promise(v=>setTimeout(v,1500)),o(!0),d(),setTimeout(()=>{o(!1),n==null||n()},3e3)}catch(v){console.error("Error submitting contact form:",v)}finally{i(!1)}};return s?a.jsx(Qt,{className:"border-green-200 bg-green-50",children:a.jsx(vn,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx(Cu,{className:"w-16 h-16 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Message Sent!"}),a.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[e," will get back to you shortly."]})]})]})})}):a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsxs(hr,{className:"flex items-center gap-2",children:[a.jsx(Li,{className:"w-5 h-5"}),"Send a Message"]}),a.jsxs(qr,{children:["Get in touch with ",e," directly"]})]}),a.jsx(vn,{children:a.jsxs("form",{onSubmit:c(h),className:"space-y-4",children:[a.jsx(Sa,{label:"Your Name",id:"name",placeholder:"John Doe",error:(f=u.name)==null?void 0:f.message,required:!0,...l("name")}),a.jsx(Sa,{label:"Email Address",id:"email",type:"email",placeholder:"john@example.com",error:(p=u.email)==null?void 0:p.message,required:!0,...l("email")}),a.jsx(Sa,{label:"Phone Number",id:"phone",type:"tel",placeholder:"(555) 123-4567",error:(m=u.phone)==null?void 0:m.message,required:!0,...l("phone")}),a.jsx(Fk,{label:"Message",id:"message",placeholder:"Tell me about your real estate needs...",rows:4,error:(y=u.message)==null?void 0:y.message,required:!0,...l("message")}),a.jsx(He,{type:"submit",className:"w-full",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Li,{className:"mr-2 h-4 w-4"}),"Send Message"]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Your information is secure and will never be shared."})]})})]})}const _Fe=uw({name:or().min(2,"Name must be at least 2 characters"),email:or().email("Please enter a valid email address"),phone:or().min(10,"Please enter a valid phone number"),propertyType:or().min(1,"Please select a property type"),priceRange:or().min(1,"Please select a price range"),bedrooms:or().min(1,"Please select number of bedrooms"),timeline:or().min(1,"Please select a timeline"),preApproved:or().min(1,"Please select pre-approval status"),message:or().optional()});function SFe({agentId:t,agentName:e,onSuccess:n}){var m,y,b,v;const[r,i]=C.useState(!1),[s,o]=C.useState(!1),{register:l,handleSubmit:c,formState:{errors:u},reset:d,setValue:h,watch:f}=lw({resolver:cw(_Fe)}),p=async _=>{i(!0);try{console.log("Buyer inquiry submitted:",{..._,agentId:t,leadType:"buyer"}),await new Promise(S=>setTimeout(S,1500)),o(!0),d(),setTimeout(()=>{o(!1),n==null||n()},3e3)}catch(S){console.error("Error submitting buyer inquiry:",S)}finally{i(!1)}};return s?a.jsx(Qt,{className:"border-green-200 bg-green-50",children:a.jsx(vn,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx(Cu,{className:"w-16 h-16 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Inquiry Received!"}),a.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[e," will contact you within 24 hours to discuss your home search."]})]})]})})}):a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsxs(hr,{className:"flex items-center gap-2",children:[a.jsx(Ci,{className:"w-5 h-5"}),"Find Your Dream Home"]}),a.jsxs(qr,{children:["Let ",e," help you find the perfect property"]})]}),a.jsx(vn,{children:a.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Sa,{label:"Your Name",id:"name",placeholder:"John Doe",error:(m=u.name)==null?void 0:m.message,required:!0,...l("name")}),a.jsx(Sa,{label:"Email Address",id:"email",type:"email",placeholder:"john@example.com",error:(y=u.email)==null?void 0:y.message,required:!0,...l("email")})]}),a.jsx(Sa,{label:"Phone Number",id:"phone",type:"tel",placeholder:"(555) 123-4567",error:(b=u.phone)==null?void 0:b.message,required:!0,...l("phone")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"propertyType",children:["Property Type"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:_=>h("propertyType",_),children:[a.jsx(Ln,{id:"propertyType",children:a.jsx(Hn,{placeholder:"Select type"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"single-family",children:"Single Family Home"}),a.jsx(Ie,{value:"condo",children:"Condo/Townhouse"}),a.jsx(Ie,{value:"multi-family",children:"Multi-Family"}),a.jsx(Ie,{value:"land",children:"Land/Lot"}),a.jsx(Ie,{value:"luxury",children:"Luxury Estate"})]})]}),u.propertyType&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.propertyType.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"priceRange",children:["Price Range"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:_=>h("priceRange",_),children:[a.jsx(Ln,{id:"priceRange",children:a.jsx(Hn,{placeholder:"Select range"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"0-250k",children:"Under $250k"}),a.jsx(Ie,{value:"250k-500k",children:"$250k - $500k"}),a.jsx(Ie,{value:"500k-750k",children:"$500k - $750k"}),a.jsx(Ie,{value:"750k-1m",children:"$750k - $1M"}),a.jsx(Ie,{value:"1m-2m",children:"$1M - $2M"}),a.jsx(Ie,{value:"2m+",children:"$2M+"})]})]}),u.priceRange&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.priceRange.message})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"bedrooms",children:["Bedrooms ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:_=>h("bedrooms",_),children:[a.jsx(Ln,{id:"bedrooms",children:a.jsx(Hn,{placeholder:"Select"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"1",children:"1 Bed"}),a.jsx(Ie,{value:"2",children:"2 Beds"}),a.jsx(Ie,{value:"3",children:"3 Beds"}),a.jsx(Ie,{value:"4",children:"4 Beds"}),a.jsx(Ie,{value:"5+",children:"5+ Beds"})]})]}),u.bedrooms&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.bedrooms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"timeline",children:["Timeline ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:_=>h("timeline",_),children:[a.jsx(Ln,{id:"timeline",children:a.jsx(Hn,{placeholder:"When are you buying?"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"immediate",children:"ASAP (0-30 days)"}),a.jsx(Ie,{value:"1-3-months",children:"1-3 months"}),a.jsx(Ie,{value:"3-6-months",children:"3-6 months"}),a.jsx(Ie,{value:"6+-months",children:"6+ months"}),a.jsx(Ie,{value:"just-looking",children:"Just looking"})]})]}),u.timeline&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.timeline.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"preApproved",children:["Pre-Approval Status"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:_=>h("preApproved",_),children:[a.jsx(Ln,{id:"preApproved",children:a.jsx(Hn,{placeholder:"Select status"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"yes",children:"Yes, I'm pre-approved"}),a.jsx(Ie,{value:"in-process",children:"In process"}),a.jsx(Ie,{value:"not-yet",children:"Not yet, need help"}),a.jsx(Ie,{value:"cash",children:"Cash buyer"})]})]}),u.preApproved&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.preApproved.message})]}),a.jsx(Fk,{label:"Additional Details",id:"message",placeholder:"Tell us more about your ideal home...",rows:3,error:(v=u.message)==null?void 0:v.message,...l("message")}),a.jsx(He,{type:"submit",className:"w-full",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Start Your Home Search"]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Your information is secure. No spam, ever."})]})})]})}const EFe=uw({name:or().min(2,"Name must be at least 2 characters"),email:or().email("Please enter a valid email address"),phone:or().min(10,"Please enter a valid phone number"),address:or().min(5,"Please enter your property address"),propertyType:or().min(1,"Please select a property type"),bedrooms:or().min(1,"Please select number of bedrooms"),bathrooms:or().min(1,"Please select number of bathrooms"),timeline:or().min(1,"Please select a timeline"),reason:or().min(1,"Please select a reason"),message:or().optional()});function jFe({agentId:t,agentName:e,onSuccess:n}){var p,m,y,b,v;const[r,i]=C.useState(!1),[s,o]=C.useState(!1),{register:l,handleSubmit:c,formState:{errors:u},reset:d,setValue:h}=lw({resolver:cw(EFe)}),f=async _=>{i(!0);try{console.log("Seller inquiry submitted:",{..._,agentId:t,leadType:"seller"}),await new Promise(S=>setTimeout(S,1500)),o(!0),d(),setTimeout(()=>{o(!1),n==null||n()},3e3)}catch(S){console.error("Error submitting seller inquiry:",S)}finally{i(!1)}};return s?a.jsx(Qt,{className:"border-green-200 bg-green-50",children:a.jsx(vn,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx(Cu,{className:"w-16 h-16 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Request Received!"}),a.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[e," will contact you within 24 hours to discuss selling your home."]})]})]})})}):a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsxs(hr,{className:"flex items-center gap-2",children:[a.jsx(PS,{className:"w-5 h-5"}),"Sell Your Home"]}),a.jsxs(qr,{children:["Get a competitive market analysis from ",e]})]}),a.jsx(vn,{children:a.jsxs("form",{onSubmit:c(f),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Sa,{label:"Your Name",id:"name",placeholder:"John Doe",error:(p=u.name)==null?void 0:p.message,required:!0,...l("name")}),a.jsx(Sa,{label:"Email Address",id:"email",type:"email",placeholder:"john@example.com",error:(m=u.email)==null?void 0:m.message,required:!0,...l("email")})]}),a.jsx(Sa,{label:"Phone Number",id:"phone",type:"tel",placeholder:"(555) 123-4567",error:(y=u.phone)==null?void 0:y.message,required:!0,...l("phone")}),a.jsx(Sa,{label:"Property Address",id:"address",placeholder:"123 Main Street, City, State",error:(b=u.address)==null?void 0:b.message,helperText:"We'll use this for a detailed market analysis",required:!0,...l("address")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"propertyType",children:["Property Type"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:_=>h("propertyType",_),children:[a.jsx(Ln,{id:"propertyType",children:a.jsx(Hn,{placeholder:"Select"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"single-family",children:"Single Family"}),a.jsx(Ie,{value:"condo",children:"Condo"}),a.jsx(Ie,{value:"townhouse",children:"Townhouse"}),a.jsx(Ie,{value:"multi-family",children:"Multi-Family"}),a.jsx(Ie,{value:"land",children:"Land"})]})]}),u.propertyType&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.propertyType.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"bedrooms",children:["Bedrooms ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:_=>h("bedrooms",_),children:[a.jsx(Ln,{id:"bedrooms",children:a.jsx(Hn,{placeholder:"Select"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"1",children:"1"}),a.jsx(Ie,{value:"2",children:"2"}),a.jsx(Ie,{value:"3",children:"3"}),a.jsx(Ie,{value:"4",children:"4"}),a.jsx(Ie,{value:"5+",children:"5+"})]})]}),u.bedrooms&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.bedrooms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"bathrooms",children:["Bathrooms"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:_=>h("bathrooms",_),children:[a.jsx(Ln,{id:"bathrooms",children:a.jsx(Hn,{placeholder:"Select"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"1",children:"1"}),a.jsx(Ie,{value:"1.5",children:"1.5"}),a.jsx(Ie,{value:"2",children:"2"}),a.jsx(Ie,{value:"2.5",children:"2.5"}),a.jsx(Ie,{value:"3",children:"3"}),a.jsx(Ie,{value:"3.5",children:"3.5"}),a.jsx(Ie,{value:"4+",children:"4+"})]})]}),u.bathrooms&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.bathrooms.message})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"timeline",children:["When are you selling?"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:_=>h("timeline",_),children:[a.jsx(Ln,{id:"timeline",children:a.jsx(Hn,{placeholder:"Select timeline"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"immediate",children:"ASAP (0-30 days)"}),a.jsx(Ie,{value:"1-3-months",children:"1-3 months"}),a.jsx(Ie,{value:"3-6-months",children:"3-6 months"}),a.jsx(Ie,{value:"6+-months",children:"6+ months"}),a.jsx(Ie,{value:"just-exploring",children:"Just exploring"})]})]}),u.timeline&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.timeline.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"reason",children:["Reason for selling"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:_=>h("reason",_),children:[a.jsx(Ln,{id:"reason",children:a.jsx(Hn,{placeholder:"Select reason"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"upsizing",children:"Upsizing"}),a.jsx(Ie,{value:"downsizing",children:"Downsizing"}),a.jsx(Ie,{value:"relocation",children:"Relocation"}),a.jsx(Ie,{value:"investment",children:"Investment property"}),a.jsx(Ie,{value:"financial",children:"Financial reasons"}),a.jsx(Ie,{value:"other",children:"Other"})]})]}),u.reason&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.reason.message})]})]}),a.jsx(Fk,{label:"Additional Details",id:"message",placeholder:"Tell us about your property (recent upgrades, special features, etc.)",rows:3,error:(v=u.message)==null?void 0:v.message,...l("message")}),a.jsx(He,{type:"submit",className:"w-full",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(PS,{className:"mr-2 h-4 w-4"}),"Get Free Market Analysis"]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"No obligation. Your information is secure and confidential."})]})})]})}const AFe=uw({name:or().min(2,"Name must be at least 2 characters"),email:or().email("Please enter a valid email address"),phone:or().min(10,"Please enter a valid phone number"),address:or().min(5,"Please enter your property address"),propertyType:or().min(1,"Please select a property type"),bedrooms:or().min(1,"Please select number of bedrooms"),bathrooms:or().min(1,"Please select number of bathrooms"),squareFeet:or().min(1,"Please enter square footage"),yearBuilt:or().optional(),condition:or().min(1,"Please select property condition")});function NFe({agentId:t,agentName:e,onSuccess:n}){var p,m,y,b,v,_;const[r,i]=C.useState(!1),[s,o]=C.useState(!1),{register:l,handleSubmit:c,formState:{errors:u},reset:d,setValue:h}=lw({resolver:cw(AFe)}),f=async S=>{i(!0);try{console.log("Valuation request submitted:",{...S,agentId:t,leadType:"valuation"}),await new Promise(j=>setTimeout(j,1500)),o(!0),d(),setTimeout(()=>{o(!1),n==null||n()},3e3)}catch(j){console.error("Error submitting valuation request:",j)}finally{i(!1)}};return s?a.jsx(Qt,{className:"border-green-200 bg-green-50",children:a.jsx(vn,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx(Cu,{className:"w-16 h-16 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Valuation Request Received!"}),a.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[e," will send you a detailed home valuation report within 24 hours."]})]})]})})}):a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsxs(hr,{className:"flex items-center gap-2",children:[a.jsx(Qr,{className:"w-5 h-5"}),"Free Home Valuation"]}),a.jsxs(qr,{children:["Find out what your home is worth in today's market with"," ",e]})]}),a.jsx(vn,{children:a.jsxs("form",{onSubmit:c(f),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Sa,{label:"Your Name",id:"name",placeholder:"John Doe",error:(p=u.name)==null?void 0:p.message,required:!0,...l("name")}),a.jsx(Sa,{label:"Email Address",id:"email",type:"email",placeholder:"john@example.com",error:(m=u.email)==null?void 0:m.message,required:!0,...l("email")})]}),a.jsx(Sa,{label:"Phone Number",id:"phone",type:"tel",placeholder:"(555) 123-4567",error:(y=u.phone)==null?void 0:y.message,required:!0,...l("phone")}),a.jsx(Sa,{label:"Property Address",id:"address",placeholder:"123 Main Street, City, State, ZIP",error:(b=u.address)==null?void 0:b.message,helperText:"Full address helps us provide the most accurate valuation",required:!0,...l("address")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"propertyType",children:["Property Type"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:S=>h("propertyType",S),children:[a.jsx(Ln,{id:"propertyType",children:a.jsx(Hn,{placeholder:"Select type"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"single-family",children:"Single Family Home"}),a.jsx(Ie,{value:"condo",children:"Condo"}),a.jsx(Ie,{value:"townhouse",children:"Townhouse"}),a.jsx(Ie,{value:"multi-family",children:"Multi-Family"}),a.jsx(Ie,{value:"manufactured",children:"Manufactured"})]})]}),u.propertyType&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.propertyType.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"condition",children:["Property Condition"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:S=>h("condition",S),children:[a.jsx(Ln,{id:"condition",children:a.jsx(Hn,{placeholder:"Select condition"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"excellent",children:"Excellent"}),a.jsx(Ie,{value:"good",children:"Good"}),a.jsx(Ie,{value:"average",children:"Average"}),a.jsx(Ie,{value:"fair",children:"Fair"}),a.jsx(Ie,{value:"needs-work",children:"Needs Work"})]})]}),u.condition&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.condition.message})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"bedrooms",children:["Bedrooms ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:S=>h("bedrooms",S),children:[a.jsx(Ln,{id:"bedrooms",children:a.jsx(Hn,{placeholder:"Select"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"1",children:"1"}),a.jsx(Ie,{value:"2",children:"2"}),a.jsx(Ie,{value:"3",children:"3"}),a.jsx(Ie,{value:"4",children:"4"}),a.jsx(Ie,{value:"5",children:"5"}),a.jsx(Ie,{value:"6+",children:"6+"})]})]}),u.bedrooms&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.bedrooms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:"bathrooms",children:["Bathrooms"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs($n,{onValueChange:S=>h("bathrooms",S),children:[a.jsx(Ln,{id:"bathrooms",children:a.jsx(Hn,{placeholder:"Select"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"1",children:"1"}),a.jsx(Ie,{value:"1.5",children:"1.5"}),a.jsx(Ie,{value:"2",children:"2"}),a.jsx(Ie,{value:"2.5",children:"2.5"}),a.jsx(Ie,{value:"3",children:"3"}),a.jsx(Ie,{value:"3.5",children:"3.5"}),a.jsx(Ie,{value:"4",children:"4"}),a.jsx(Ie,{value:"4.5+",children:"4.5+"})]})]}),u.bathrooms&&a.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.bathrooms.message})]}),a.jsx(Sa,{label:"Square Feet",id:"squareFeet",type:"number",placeholder:"2,000",error:(v=u.squareFeet)==null?void 0:v.message,required:!0,...l("squareFeet")})]}),a.jsx(Sa,{label:"Year Built",id:"yearBuilt",type:"number",placeholder:"1995",error:(_=u.yearBuilt)==null?void 0:_.message,helperText:"Optional, but helps with accuracy",...l("yearBuilt")}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"What You'll Get:"}),a.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[a.jsx("li",{children:" Detailed market analysis report"}),a.jsx("li",{children:" Comparable sales in your area"}),a.jsx("li",{children:" Current market trends"}),a.jsx("li",{children:" Personalized selling strategy"})]})]}),a.jsx(He,{type:"submit",className:"w-full",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-4 w-4"}),"Get Free Valuation Report"]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"100% free with no obligation. Results delivered to your email."})]})})]})}function Sae({isOpen:t,onClose:e,formType:n,agentId:r,agentName:i}){const s=()=>{switch(n){case"contact":return a.jsx(wFe,{agentId:r,agentName:i,onSuccess:e});case"buyer":return a.jsx(SFe,{agentId:r,agentName:i,onSuccess:e});case"seller":return a.jsx(jFe,{agentId:r,agentName:i,onSuccess:e});case"valuation":return a.jsx(NFe,{agentId:r,agentName:i,onSuccess:e});default:return null}};return a.jsx(Ga,{open:t,onOpenChange:e,children:a.jsx(Ta,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:s()})})}function TFe({agentId:t,agentName:e}){const[n,r]=C.useState(!1),[i,s]=C.useState("contact"),o=l=>{s(l),r(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"w-full max-w-4xl mx-auto px-4 py-12",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold mb-3",children:"How Can I Help You?"}),a.jsx("p",{className:"text-muted-foreground",children:"Choose the option that best fits your needs"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Qt,{className:"border-2 hover:border-primary transition-colors cursor-pointer group",children:a.jsx(vn,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:a.jsx(Ci,{className:"w-8 h-8 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Looking to Buy?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Find your dream home with personalized search assistance"})]}),a.jsxs(He,{onClick:()=>o("buyer"),className:"w-full",size:"lg",children:[a.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Start Home Search"]})]})})}),a.jsx(Qt,{className:"border-2 hover:border-primary transition-colors cursor-pointer group",children:a.jsx(vn,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center group-hover:bg-green-200 transition-colors",children:a.jsx(PS,{className:"w-8 h-8 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Ready to Sell?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get a competitive market analysis and selling strategy"})]}),a.jsxs(He,{onClick:()=>o("seller"),className:"w-full",size:"lg",variant:"outline",children:[a.jsx(PS,{className:"mr-2 h-4 w-4"}),"List My Home"]})]})})}),a.jsx(Qt,{className:"border-2 hover:border-primary transition-colors cursor-pointer group",children:a.jsx(vn,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:a.jsx(Qr,{className:"w-8 h-8 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"What's It Worth?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get a free home valuation report with market insights"})]}),a.jsxs(He,{onClick:()=>o("valuation"),className:"w-full",size:"lg",variant:"outline",children:[a.jsx(Qr,{className:"mr-2 h-4 w-4"}),"Free Valuation"]})]})})}),a.jsx(Qt,{className:"border-2 hover:border-primary transition-colors cursor-pointer group",children:a.jsx(vn,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-orange-100 flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:a.jsx(Li,{className:"w-8 h-8 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Just Have Questions?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send a message and I'll get back to you right away"})]}),a.jsxs(He,{onClick:()=>o("contact"),className:"w-full",size:"lg",variant:"outline",children:[a.jsx(Li,{className:"mr-2 h-4 w-4"}),"Send Message"]})]})})})]})]}),a.jsx(Sae,{isOpen:n,onClose:()=>r(!1),formType:i,agentId:t,agentName:e})]})}function MFe(){return YJ.useSyncExternalStore(CFe,()=>!0,()=>!1)}function CFe(){return()=>{}}var Oz="Avatar",[PFe]=Rc(Oz),[kFe,Eae]=PFe(Oz),jae=C.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=C.useState("idle");return a.jsx(kFe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(Fn.span,{...r,ref:e})})});jae.displayName=Oz;var Aae="AvatarImage",Nae=C.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=Eae(Aae,n),l=OFe(r,s),c=Wh(u=>{i(u),o.onImageLoadingStatusChange(u)});return Gs(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(Fn.img,{...s,ref:e,src:r}):null});Nae.displayName=Aae;var Tae="AvatarFallback",Mae=C.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=Eae(Tae,n),[o,l]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(Fn.span,{...i,ref:e}):null});Mae.displayName=Tae;function W9(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function OFe(t,{referrerPolicy:e,crossOrigin:n}){const r=MFe(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=C.useState(()=>W9(s,t));return Gs(()=>{l(W9(s,t))},[s,t]),Gs(()=>{const c=h=>()=>{l(h)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,e]),o}var Cae=jae,Pae=Nae,kae=Mae;const lE=C.forwardRef(({className:t,...e},n)=>a.jsx(Cae,{ref:n,className:xt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));lE.displayName=Cae.displayName;const cE=C.forwardRef(({className:t,...e},n)=>a.jsx(Pae,{ref:n,className:xt("aspect-square h-full w-full",t),...e}));cE.displayName=Pae.displayName;const uE=C.forwardRef(({className:t,...e},n)=>a.jsx(kae,{ref:n,className:xt("flex h-full w-full items-center justify-center rounded-full bg-gray-100",t),...e}));uE.displayName=kae.displayName;function G9({testimonial:t,variant:e="default"}){const n=t.client_name.split(" ").map(i=>i[0]).join("").toUpperCase().slice(0,2),r=()=>a.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((i,s)=>a.jsx($h,{className:`w-4 h-4 ${s<t.rating?"text-yellow-400 fill-yellow-400":"text-gray-300 fill-gray-300"}`},s))});return e==="compact"?a.jsx(Qt,{className:"h-full",children:a.jsx(vn,{className:"p-5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(qD,{className:"w-8 h-8 text-primary/20 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[r(),a.jsxs("p",{className:"text-sm text-muted-foreground mt-3 line-clamp-4",children:['"',t.review_text,'"']}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsxs(lE,{className:"w-8 h-8",children:[a.jsx(cE,{src:t.client_photo||void 0}),a.jsx(uE,{className:"text-xs",children:n})]}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:t.client_name}),t.client_title&&a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.client_title})]})]})]})]})})}):a.jsx(Qt,{className:"h-full hover:shadow-lg transition-shadow",children:a.jsxs(vn,{className:"p-6",children:[a.jsx("div",{className:"mb-4",children:a.jsx(qD,{className:"w-10 h-10 text-primary/20"})}),a.jsx("div",{className:"mb-3",children:r()}),a.jsxs("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:['"',t.review_text,'"']}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs(lE,{className:"w-12 h-12",children:[a.jsx(cE,{src:t.client_photo||void 0,alt:t.client_name}),a.jsx(uE,{children:n})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold",children:t.client_name}),t.client_title&&a.jsx("p",{className:"text-sm text-muted-foreground",children:t.client_title}),a.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[t.transaction_type&&a.jsx(nn,{variant:"secondary",className:"text-xs",children:t.transaction_type==="buyer"?"Buyer":"Seller"}),t.property_type&&a.jsx(nn,{variant:"outline",className:"text-xs",children:t.property_type})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:Use(t.date)})]})]})]})})}function RFe({onSwipeLeft:t,onSwipeRight:e,onSwipeUp:n,onSwipeDown:r,threshold:i=50,disabled:s=!1}={}){const[o,l]=C.useState({isSwiping:!1,direction:null,distance:0}),c=C.useRef(0),u=C.useRef(0),d=C.useRef(0),h=C.useRef(0),f=C.useRef(null);return C.useEffect(()=>{if(s)return;const p=f.current;if(!p)return;const m=v=>{c.current=v.touches[0].clientX,u.current=v.touches[0].clientY,l({isSwiping:!0,direction:null,distance:0})},y=v=>{if(!o.isSwiping)return;d.current=v.touches[0].clientX,h.current=v.touches[0].clientY;const _=d.current-c.current,S=h.current-u.current;if(Math.abs(_)>Math.abs(S)){const j=_>0?"right":"left";l({isSwiping:!0,direction:j,distance:Math.abs(_)})}else{const j=S>0?"down":"up";l({isSwiping:!0,direction:j,distance:Math.abs(S)})}},b=()=>{const v=d.current-c.current,_=h.current-u.current;Math.abs(v)>Math.abs(_)?Math.abs(v)>i&&(v>0&&e?e():v<0&&t&&t()):Math.abs(_)>i&&(_>0&&r?r():_<0&&n&&n()),l({isSwiping:!1,direction:null,distance:0})};return p.addEventListener("touchstart",m,{passive:!0}),p.addEventListener("touchmove",y,{passive:!0}),p.addEventListener("touchend",b,{passive:!0}),()=>{p.removeEventListener("touchstart",m),p.removeEventListener("touchmove",y),p.removeEventListener("touchend",b)}},[s,t,e,n,r,i,o.isSwiping]),{containerRef:f,swipeState:o}}function IFe({testimonials:t}){const[e,n]=C.useState(0);if(!t||t.length===0)return null;const r=[...t].sort((u,d)=>u.is_featured&&!d.is_featured?-1:!u.is_featured&&d.is_featured?1:u.sort_order!==d.sort_order?u.sort_order-d.sort_order:new Date(d.date).getTime()-new Date(u.date).getTime()),i=t.reduce((u,d)=>u+d.rating,0)/t.length,s=()=>{n4.selection(),n(u=>u===0?r.length-1:u-1)},o=()=>{n4.selection(),n(u=>u===r.length-1?0:u+1)},{containerRef:l}=RFe({onSwipeLeft:o,onSwipeRight:s,threshold:50}),c=[r[e],r[(e+1)%r.length],r[(e+2)%r.length]].filter(Boolean);return a.jsxs("section",{className:"w-full max-w-6xl mx-auto px-4 py-12",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:a.jsx(cj,{className:"w-8 h-8 text-primary"})}),a.jsx("h2",{className:"text-3xl font-bold mb-3",children:"What My Clients Say"}),a.jsxs("div",{className:"flex items-center justify-center gap-3 text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx($h,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"}),a.jsx("span",{className:"text-lg font-semibold text-foreground",children:i.toFixed(1)})]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[t.length," reviews"]})]})]}),a.jsxs("div",{className:"hidden md:block",children:[a.jsxs("div",{className:"relative",children:[r.length>3&&a.jsxs(a.Fragment,{children:[a.jsx(He,{variant:"outline",size:"icon",className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-10 rounded-full bg-white shadow-lg",onClick:s,children:a.jsx(wV,{className:"h-4 w-4"})}),a.jsx(He,{variant:"outline",size:"icon",className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-10 rounded-full bg-white shadow-lg",onClick:o,children:a.jsx(sb,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(u=>a.jsx(G9,{testimonial:u,variant:"compact"},u.id))})]}),r.length>3&&a.jsx("div",{className:"flex justify-center gap-2 mt-6",children:r.map((u,d)=>a.jsx("button",{onClick:()=>n(d),className:`h-2 rounded-full transition-all ${d===e?"w-8 bg-primary":"w-2 bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to testimonial ${d+1}`},d))})]}),a.jsx("div",{className:"md:hidden",children:a.jsxs("div",{ref:l,className:"relative select-none",children:[a.jsx(G9,{testimonial:r[e],variant:"default"}),r.length>1&&a.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[a.jsx(He,{variant:"outline",size:"icon",onClick:s,children:a.jsx(wV,{className:"h-4 w-4"})}),a.jsx(He,{variant:"outline",size:"icon",onClick:o,children:a.jsx(sb,{className:"h-4 w-4"})})]}),r.length>1&&a.jsx("div",{className:"flex justify-center gap-2 mt-4",children:r.map((u,d)=>a.jsx("button",{onClick:()=>n(d),className:`h-2 rounded-full transition-all ${d===e?"w-8 bg-primary":"w-2 bg-gray-300"}`,"aria-label":`Go to testimonial ${d+1}`},d))})]})})]})}function LFe({stats:t}){const e=r=>r>=1e6?`$${(r/1e6).toFixed(1)}M+`:r>=1e3?`$${(r/1e3).toFixed(0)}K+`:`$${r.toLocaleString()}`,n=[t.propertiesSold&&t.propertiesSold>0&&{icon:Ci,value:t.propertiesSold.toString(),label:"Properties Sold",color:"text-blue-600",bgColor:"bg-blue-100"},t.totalVolume&&t.totalVolume>0&&{icon:Qr,value:e(t.totalVolume),label:"Total Volume",color:"text-green-600",bgColor:"bg-green-100"},t.averageRating&&t.reviewCount&&t.averageRating>0&&t.reviewCount>0&&{icon:$h,value:`${t.averageRating.toFixed(1)}/5`,label:`${t.reviewCount} Reviews`,color:"text-yellow-600",bgColor:"bg-yellow-100"},t.yearsExperience&&t.yearsExperience>0&&{icon:nte,value:`${t.yearsExperience}+`,label:"Years Experience",color:"text-purple-600",bgColor:"bg-purple-100"}].filter(Boolean);return n.length===0?null:a.jsx("div",{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-8 px-4 rounded-xl shadow-lg",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h3",{className:"text-center text-lg font-semibold mb-6",children:"Trusted by Hundreds of Happy Clients"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:n.map((r,i)=>{if(!r)return null;const s=r.icon;return a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-white/20 mb-3",children:a.jsx(s,{className:"w-6 h-6"})}),a.jsx("div",{className:"text-2xl md:text-3xl font-bold mb-1",children:r.value}),a.jsx("div",{className:"text-sm opacity-90",children:r.label})]},i)})})]})})}function DFe({listing:t,isOpen:e,onClose:n}){var h,f;const[r,i]=C.useState(0),[s,o]=C.useState(!1);if(!e)return null;const l=n4e(((h=t.photos)==null?void 0:h.length)>0?t.photos:t.primary_photo?[t.primary_photo]:void 0,"listings"),c=()=>{i(p=>p===0?l.length-1:p-1)},u=()=>{i(p=>p===l.length-1?0:p+1)},d=async()=>{if(navigator.share)try{await navigator.share({title:t.title,text:`Check out this property: ${t.title}`,url:window.location.href})}catch(p){console.error("Error sharing:",p)}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 truncate pr-4",children:t.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>o(!s),className:`p-2 rounded-lg transition-colors ${s?"bg-red-100 text-red-600":"hover:bg-gray-100 text-gray-600"}`,"aria-label":"Add to favorites",children:a.jsx(LSe,{className:"h-5 w-5",fill:s?"currentColor":"none"})}),a.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 text-gray-600 rounded-lg transition-colors","aria-label":"Share listing",children:a.jsx(hte,{className:"h-5 w-5"})}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 text-gray-600 rounded-lg transition-colors","aria-label":"Close modal",children:a.jsx(tl,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"relative bg-gray-900 aspect-video",children:[a.jsx("img",{src:l[r],alt:`${t.title||t.address||"Property"} - Image ${r+1}`,className:"w-full h-full object-contain",onError:p=>{p.currentTarget.src="/placeholder-property.jpg"}}),l.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:c,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg transition-all","aria-label":"Previous image",children:""}),a.jsx("button",{onClick:u,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg transition-all","aria-label":"Next image",children:""}),a.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:[r+1," / ",l.length]})]})]}),l.length>1&&a.jsx("div",{className:"flex gap-2 p-4 overflow-x-auto",children:l.map((p,m)=>a.jsx("button",{onClick:()=>i(m),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${m===r?"border-blue-600 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:a.jsx("img",{src:p,alt:`Thumbnail ${m+1}`,className:"w-full h-full object-cover",onError:y=>{y.currentTarget.src="/placeholder-property.jpg"}})},m))}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:D4(iy(t.price))}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(fm,{className:"h-4 w-4"}),a.jsxs("span",{children:[t.address||"",t.city?`, ${t.city}`:""]})]})]}),a.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${t.status==="active"?"bg-green-100 text-green-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 py-6 border-y",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(q5,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.bedrooms}),a.jsx("p",{className:"text-sm text-gray-600",children:"Bedrooms"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(G5,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.bathrooms}),a.jsx("p",{className:"text-sm text-gray-600",children:"Bathrooms"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(YSe,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t4e(t).split("  ")[2]||"N/A"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Sq Ft"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Property Description"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description||"No description available for this property."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Property Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Property Type"}),a.jsx("p",{className:"font-medium text-gray-900",children:((f=t.property_type)==null?void 0:f.split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "))||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Listed Date"}),a.jsxs("p",{className:"font-medium text-gray-900",children:[a.jsx(Eo,{className:"h-4 w-4 inline mr-1"}),e4e(t.created_at)]})]}),t.square_feet&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Square Feet"}),a.jsxs("p",{className:"font-medium text-gray-900",children:[t.square_feet.toLocaleString()," sq ft"]})]}),t.lot_size&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Lot Size"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.lot_size})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Interested in this property?"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Get in touch to schedule a viewing or learn more about this listing."}),a.jsx("button",{className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Contact Agent"})]})]})]})]})})}function FFe({hasListings:t=!0,hasTestimonials:e=!0}){const[n,r]=C.useState(!1),[i,s]=C.useState(!1);typeof window<"u"&&window.addEventListener("scroll",()=>{s(window.scrollY>300)});const o=()=>{window.scrollTo({top:0,behavior:"smooth"})},l=c=>{const u=document.getElementById(c);if(u){const f=u.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:f,behavior:"smooth"})}r(!1)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"md:hidden fixed top-4 right-4 z-30",children:[a.jsx("button",{onClick:()=>r(!n),className:"bg-white rounded-full p-3 shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors","aria-label":n?"Close navigation menu":"Open navigation menu","aria-expanded":n,children:n?a.jsx(tl,{className:"w-5 h-5"}):a.jsx(dte,{className:"w-5 h-5"})}),n&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/30 -z-10",onClick:()=>r(!1),"aria-hidden":"true"}),a.jsxs("nav",{className:"absolute top-14 right-0 bg-white rounded-lg shadow-xl p-2 space-y-1 min-w-[180px] border border-gray-200",children:[a.jsxs("button",{onClick:()=>l("about"),className:"flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-100 transition-colors w-full text-left",children:[a.jsx(Hh,{className:"w-4 h-4 text-gray-600"}),a.jsx("span",{className:"text-sm font-medium",children:"About"})]}),t&&a.jsxs("button",{onClick:()=>l("listings"),className:"flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-100 transition-colors w-full text-left",children:[a.jsx(Ci,{className:"w-4 h-4 text-gray-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Listings"})]}),a.jsxs("button",{onClick:()=>l("contact"),className:"flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-100 transition-colors w-full text-left",children:[a.jsx(cj,{className:"w-4 h-4 text-gray-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Contact"})]}),e&&a.jsxs("button",{onClick:()=>l("testimonials"),className:"flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-100 transition-colors w-full text-left",children:[a.jsx($h,{className:"w-4 h-4 text-gray-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Testimonials"})]})]})]})]}),i&&a.jsx("button",{onClick:o,className:"fixed bottom-20 left-4 z-30 bg-white rounded-full p-3 shadow-lg border border-gray-200 hover:bg-gray-50 transition-all","aria-label":"Scroll to top",children:a.jsx(Y5,{className:"w-5 h-5"})})]})}const UFe={instagram:{name:"instagram",title:"Instagram",icon:"fa-brands fa-instagram",color:"#E4405F",url_pattern:"https://instagram.com/{username}"},facebook:{name:"facebook",title:"Facebook",icon:"fa-brands fa-facebook",color:"#1877F2",url_pattern:"https://facebook.com/{username}"},twitter:{name:"twitter",title:"Twitter",icon:"fa-brands fa-twitter",color:"#1DA1F2",url_pattern:"https://twitter.com/{username}"},linkedin:{name:"linkedin",title:"LinkedIn",icon:"fa-brands fa-linkedin",color:"#0A66C2",url_pattern:"https://linkedin.com/in/{username}"},tiktok:{name:"tiktok",title:"TikTok",icon:"fa-brands fa-tiktok",color:"#000000",url_pattern:"https://tiktok.com/@{username}"},youtube:{name:"youtube",title:"YouTube",icon:"fa-brands fa-youtube",color:"#FF0000",url_pattern:"https://youtube.com/@{username}"},github:{name:"github",title:"GitHub",icon:"fa-brands fa-github",color:"#181717",url_pattern:"https://github.com/{username}"},website:{name:"website",title:"Website",icon:"fa-solid fa-globe",color:"#000000",url_pattern:"{username}"},email:{name:"email",title:"Email",icon:"fa-solid fa-envelope",color:"#EA4335",url_pattern:"mailto:{username}"},phone:{name:"phone",title:"Phone",icon:"fa-solid fa-phone",color:"#34A853",url_pattern:"tel:{username}"}};function BFe({links:t,onLinkClick:e}){const n=t.filter(s=>s.up_link==="yes").sort((s,o)=>s.order-o.order);if(n.length===0)return null;const r=s=>{e&&e(s)},i=s=>{var o;switch(s.type){case"spacer":return a.jsx("div",{className:"w-full",style:{height:"32px"}},s.id);case"heading":return a.jsx("div",{className:"w-full text-center py-2",children:a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:s.title})},s.id);case"text":return a.jsx("div",{className:"w-full text-center py-2 px-4",children:a.jsx("p",{className:"text-gray-600",children:s.title})},s.id);case"link":return a.jsx("a",{href:s.link||"#",target:"_blank",rel:"noopener noreferrer",onClick:()=>r(s),className:"block w-full bg-white hover:bg-gray-50 border-2 border-gray-900 rounded-lg px-6 py-4 transition-all hover:scale-[1.02] active:scale-[0.98]",style:s.custom_css?{cssText:s.custom_css}:void 0,children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.custom_icon&&a.jsx("i",{className:s.custom_icon}),a.jsx("span",{className:"font-semibold text-gray-900",children:s.title}),a.jsx(Su,{className:"w-4 h-4 text-gray-600"})]})},s.id);case"predefined":const l=(o=s.type_params)==null?void 0:o.service_name,c=l?UFe[l]:null,u=s.link||"#";return a.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",onClick:()=>r(s),className:"block w-full hover:opacity-90 rounded-lg px-6 py-4 transition-all hover:scale-[1.02] active:scale-[0.98]",style:{backgroundColor:(c==null?void 0:c.color)||"#000000",color:"#ffffff"},children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[(c==null?void 0:c.icon)&&a.jsx("i",{className:c.icon}),a.jsx("span",{className:"font-semibold",children:(c==null?void 0:c.title)||s.title})]})},s.id);case"telephone":return a.jsx("a",{href:s.link||"#",onClick:()=>r(s),className:"block w-full bg-green-600 hover:bg-green-700 text-white rounded-lg px-6 py-4 transition-all hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(Ko,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:s.title||"Call Me"})]})},s.id);case"email":return a.jsx("a",{href:s.link||"#",onClick:()=>r(s),className:"block w-full bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-6 py-4 transition-all hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(Li,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:s.title||"Email Me"})]})},s.id);case"vcard":return a.jsx("a",{href:s.link||"#",onClick:()=>r(s),download:!0,className:"block w-full bg-gray-800 hover:bg-gray-900 text-white rounded-lg px-6 py-4 transition-all hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(sj,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:s.title||"Save Contact"})]})},s.id);default:return null}};return a.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-3 py-6",children:[a.jsx("div",{className:"text-center mb-4",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"More Links"})}),n.map(s=>i(s))]})}function zFe(t,e){C.useEffect(()=>{if(!t)return;(async()=>{try{let r=localStorage.getItem("visitor_id");r||(r=crypto.randomUUID(),localStorage.setItem("visitor_id",r));const i=/Mobile|Android|iPhone/i.test(navigator.userAgent)?"mobile":"desktop",s=document.referrer||"direct";await Ye.from("analytics_views").insert({user_id:t,visitor_id:r,device:i,source:s,location:null})}catch(r){console.error("Error tracking profile view:",r)}})()},[t,e])}async function $Fe(t){try{const{error:e}=await Ye.rpc("increment_link_clicks",{link_id:t});if(e){const{data:n}=await Ye.from("links").select("click_count").eq("id",t).single();n&&await Ye.from("links").update({click_count:(n.click_count||0)+1}).eq("id",t)}}catch(e){console.error("Error tracking link click:",e)}}const HFe=t=>Xr({queryKey:["public-profile",t],queryFn:async()=>{const{data:e,error:n}=await Ye.from("profiles").select("*").eq("username",t).eq("is_published",!0).single();if(n)throw n;if(!e)throw new Error("Profile not found");await Ye.rpc("increment_profile_views",{_profile_id:e.id});const{data:r,error:i}=await Ye.from("listings").select("*").eq("user_id",e.id).in("status",["active","pending","under_contract","sold"]).order("sort_order",{ascending:!0});if(i)throw i;const{data:s,error:o}=await Ye.from("testimonials").select("*").eq("user_id",e.id).eq("is_published",!0).order("sort_order",{ascending:!0});if(o)throw o;const{data:l,error:c}=await Ye.from("links").select("*").eq("user_id",e.id).eq("is_active",!0).order("position",{ascending:!0});if(c)throw c;const{data:u,error:d}=await Ye.from("user_settings").select("show_listings, show_sold_properties, show_testimonials, show_social_proof, show_contact_buttons").eq("user_id",e.id).maybeSingle();if(d)throw d;return{profile:e,listings:r||[],testimonials:s||[],links:l||[],settings:u||{show_listings:!0,show_sold_properties:!0,show_testimonials:!0,show_social_proof:!0,show_contact_buttons:!0}}},enabled:!!t}),Hg=[{id:"modern",name:"Modern",description:"Clean and contemporary design with blue accents",isPremium:!1,colors:{primary:"#2563eb",secondary:"#10b981",accent:"#f59e0b",background:"#ffffff",foreground:"#1f2937",muted:"#9ca3af"},fonts:{heading:"Inter",body:"Inter"}},{id:"classic",name:"Classic",description:"Traditional and timeless styling",isPremium:!1,colors:{primary:"#1e40af",secondary:"#059669",accent:"#dc2626",background:"#f9fafb",foreground:"#111827",muted:"#6b7280"},fonts:{heading:"Georgia",body:"Georgia"}},{id:"minimal",name:"Minimal",description:"Simple and elegant monochrome design",isPremium:!1,colors:{primary:"#000000",secondary:"#6b7280",accent:"#000000",background:"#ffffff",foreground:"#374151",muted:"#9ca3af"},fonts:{heading:"Helvetica",body:"Helvetica"}},{id:"bold",name:"Bold",description:"Vibrant and energetic color scheme",isPremium:!0,colors:{primary:"#dc2626",secondary:"#f59e0b",accent:"#7c2d12",background:"#fef2f2",foreground:"#1f2937",muted:"#f87171"},fonts:{heading:"Montserrat",body:"Open Sans"}},{id:"elegant",name:"Elegant",description:"Sophisticated purple and violet tones",isPremium:!0,colors:{primary:"#6366f1",secondary:"#8b5cf6",accent:"#c026d3",background:"#faf5ff",foreground:"#1e1b4b",muted:"#a78bfa"},fonts:{heading:"Playfair Display",body:"Lora"}},{id:"ocean",name:"Ocean",description:"Calming blue and cyan palette",isPremium:!0,colors:{primary:"#0891b2",secondary:"#06b6d4",accent:"#0e7490",background:"#ecfeff",foreground:"#164e63",muted:"#67e8f9"},fonts:{heading:"Roboto",body:"Roboto"}},{id:"cosmic",name:"Cosmic",description:"Futuristic theme with 3D particle effects",isPremium:!0,has3D:!0,threeDEffect:"3d-particles",colors:{primary:"#8b5cf6",secondary:"#a78bfa",accent:"#c084fc",background:"#0f172a",foreground:"#e2e8f0",muted:"#6366f1"},fonts:{heading:"Orbitron",body:"Rajdhani"}},{id:"luxe",name:"Luxe",description:"Premium gradient mesh with 3D sphere animation",isPremium:!0,has3D:!0,threeDEffect:"3d-mesh",colors:{primary:"#fbbf24",secondary:"#f59e0b",accent:"#d97706",background:"#1e1b4b",foreground:"#fef3c7",muted:"#fde68a"},fonts:{heading:"Playfair Display",body:"Crimson Pro"}},{id:"neon",name:"Neon",description:"Vibrant theme with floating 3D geometry",isPremium:!0,has3D:!0,threeDEffect:"3d-floating",colors:{primary:"#ec4899",secondary:"#f472b6",accent:"#fb7185",background:"#18181b",foreground:"#fce7f3",muted:"#f9a8d4"},fonts:{heading:"Bungee",body:"Exo 2"}},{id:"royal",name:"Royal",description:"Regal purple and gold with animated particles",isPremium:!0,has3D:!0,threeDEffect:"3d-particles",colors:{primary:"#7c3aed",secondary:"#a855f7",accent:"#fbbf24",background:"#1e1b4b",foreground:"#f3e8ff",muted:"#c4b5fd"},fonts:{heading:"Cinzel",body:"Cormorant Garamond"}},{id:"aurora",name:"Aurora",description:"Northern lights inspired with gradient mesh",isPremium:!0,has3D:!0,threeDEffect:"3d-mesh",colors:{primary:"#10b981",secondary:"#34d399",accent:"#6ee7b7",background:"#0c4a6e",foreground:"#ecfdf5",muted:"#6ee7b7"},fonts:{heading:"Quicksand",body:"Nunito"}}],J_=t=>{const e=t.replace("#",""),n=parseInt(e.substring(0,2),16)/255,r=parseInt(e.substring(2,4),16)/255,i=parseInt(e.substring(4,6),16)/255,s=Math.max(n,r,i),o=Math.min(n,r,i);let l=0,c=0;const u=(s+o)/2;if(s!==o){const d=s-o;switch(c=u>.5?d/(2-s-o):d/(s+o),s){case n:l=((r-i)/d+(r<i?6:0))/6;break;case r:l=((i-n)/d+2)/6;break;case i:l=((n-r)/d+4)/6;break}}return`${Math.round(l*360)} ${Math.round(c*100)}% ${Math.round(u*100)}%`},Z1=t=>{if(t)try{let e;typeof t=="string"?e=JSON.parse(t):e=t;const n=document.documentElement;if(e.colors){const r=e.colors.primary,i=e.colors.secondary,s=e.colors.background,o=e.colors.text||e.colors.foreground,l=e.colors.accent;r&&n.style.setProperty("--theme-primary",J_(r)),i&&n.style.setProperty("--theme-secondary",J_(i)),s&&n.style.setProperty("--theme-background",J_(s)),o&&n.style.setProperty("--theme-text",J_(o)),l&&n.style.setProperty("--theme-accent",J_(l))}if(e.fonts&&(n.style.setProperty("--theme-font-heading",e.fonts.heading),n.style.setProperty("--theme-font-body",e.fonts.body),document.body.style.fontFamily=`${e.fonts.body}, sans-serif`),e.borderRadius){const r={none:"0",small:"0.25rem",medium:"0.5rem",large:"1rem",full:"9999px"};n.style.setProperty("--theme-border-radius",r[e.borderRadius]||"0.5rem")}if(e.spacing){const r={compact:"0.5rem",normal:"1rem",spacious:"2rem"};n.style.setProperty("--theme-spacing",r[e.spacing]||"1rem")}}catch(e){console.error("Failed to apply theme:",e)}},VFe=t=>Hg.find(n=>n.id==="modern")||Hg[0];function Oae(){return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(Ci,{className:"h-20 w-20 text-blue-600 mx-auto mb-4"}),a.jsx("h1",{className:"text-9xl font-bold text-gray-900 mb-4",children:"404"}),a.jsx("h2",{className:"text-3xl font-semibold text-gray-700 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(xn,{to:"/",className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ci,{className:"h-5 w-5"}),"Go Home"]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:border-gray-400 transition-colors",children:[a.jsx(OP,{className:"h-5 w-5"}),"Go Back"]})]})]})})}function WFe({count:t,color:e}){const n=C.useRef(null),r=C.useMemo(()=>{const i=new Float32Array(t*3);for(let s=0;s<t;s++){const o=(Math.random()-.5)*10,l=(Math.random()-.5)*10,c=(Math.random()-.5)*10;i.set([o,l,c],s*3)}return i},[t]);return Ou(i=>{n.current&&(n.current.rotation.x=i.clock.getElapsedTime()*.05,n.current.rotation.y=i.clock.getElapsedTime()*.075)}),a.jsx(A3e,{ref:n,positions:r,stride:3,frustumCulled:!1,children:a.jsx(s3e,{transparent:!0,color:e,size:.02,sizeAttenuation:!0,depthWrite:!1})})}function GFe({variant:t,color:e="#2563eb"}){return a.jsx("div",{className:"fixed inset-0 -z-10 opacity-30",children:a.jsxs(Ok,{camera:{position:[0,0,5],fov:75},children:[a.jsx("ambientLight",{intensity:.5}),t==="particles"&&a.jsx(WFe,{count:3e3,color:e})]})})}function qFe({color1:t,color2:e}){const n=C.useRef(null);return Ou(r=>{n.current&&(n.current.rotation.x=r.clock.getElapsedTime()*.2,n.current.rotation.y=r.clock.getElapsedTime()*.3)}),a.jsxs("mesh",{ref:n,scale:3,children:[a.jsx("icosahedronGeometry",{args:[1,4]}),a.jsx("meshStandardMaterial",{color:t,emissive:e,emissiveIntensity:.3,roughness:.3,metalness:.8})]})}function YFe({color1:t="#6366f1",color2:e="#8b5cf6"}){return a.jsx("div",{className:"fixed inset-0 -z-10 opacity-20",children:a.jsxs(Ok,{camera:{position:[0,0,5],fov:75},children:[a.jsx("ambientLight",{intensity:.5}),a.jsx("pointLight",{position:[10,10,10],intensity:1}),a.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:e}),a.jsx(qFe,{color1:t,color2:e})]})})}function XFe({position:t,color:e}){const n=C.useRef(null);return Ou(r=>{n.current&&(n.current.position.y=t[1]+Math.sin(r.clock.getElapsedTime()+t[0])*.5,n.current.rotation.x=r.clock.getElapsedTime()*.2,n.current.rotation.y=r.clock.getElapsedTime()*.3)}),a.jsxs("mesh",{ref:n,position:t,children:[a.jsx("boxGeometry",{args:[.5,.5,.5]}),a.jsx("meshStandardMaterial",{color:e,transparent:!0,opacity:.6})]})}function KFe({color:t="#f59e0b"}){const e=[[-2,0,-2],[2,0,-2],[-2,0,2],[2,0,2],[0,1,0]];return a.jsx("div",{className:"fixed inset-0 -z-10 opacity-25",children:a.jsxs(Ok,{camera:{position:[0,0,8],fov:75},children:[a.jsx("ambientLight",{intensity:.5}),a.jsx("pointLight",{position:[10,10,10],intensity:1}),e.map((n,r)=>a.jsx(XFe,{position:n,color:t},r))]})})}function ZFe(){var U;const{slug:t}=O5(),[e,n]=C.useState(null),[r,i]=C.useState(null),[s,o]=C.useState(null),[l,c]=C.useState(!0),[u,d]=C.useState(!1),{data:h,isLoading:f,error:p}=HFe(t||"");if(C.useEffect(()=>{h&&(async()=>{var q;if(!t||!((q=h==null?void 0:h.profile)!=null&&q.id)){c(!1);return}try{const{data:J,error:K}=await Ye.from("custom_pages").select("slug").eq("user_id",h.profile.id).eq("is_active",!0).eq("published",!0).single();!K&&J&&o(J.slug)}catch(J){console.error("Error checking for custom page:",J)}finally{c(!1)}})()},[t,h]),zFe((U=h==null?void 0:h.profile)==null?void 0:U.id,t||""),l)return a.jsx(u9,{text:"Loading profile..."});if(s)return a.jsx(R5,{to:`/p/${s}`,replace:!0});if(C.useEffect(()=>{var W;if((W=h==null?void 0:h.profile)!=null&&W.theme)try{if(typeof h.profile.theme=="string")if(h.profile.theme.trim().startsWith("{")||h.profile.theme.trim().startsWith("[")){const q=JSON.parse(h.profile.theme);i(q),Z1(h.profile.theme)}else console.log("[Theme] Using theme preset:",h.profile.theme);else i(h.profile.theme),Z1(JSON.stringify(h.profile.theme))}catch(q){console.error("Failed to apply profile theme:",q)}},[h]),f)return a.jsx(u9,{text:"Loading profile..."});if(p||!h)return a.jsx(Oae,{});const{profile:m,listings:y,testimonials:b,links:v,settings:_}=h,S=y.filter(W=>W.status==="active"),j=y.filter(W=>W.status==="sold"),N=j.reduce((W,q)=>W+iy(q.price),0),A=b.length>0?b.reduce((W,q)=>W+(q.rating||0),0)/b.length:0,M=m.seo_title||`${m.full_name||m.username} - Real Estate Agent`,k=m.seo_description||m.bio||`Browse properties and connect with ${m.full_name||m.username}, a trusted real estate professional.`,L=`${window.location.origin}/${t}`,O={"@context":"https://schema.org","@type":"RealEstateAgent",name:m.full_name||m.username,description:m.bio,telephone:m.phone,email:m.email_display,image:m.avatar_url,address:{"@type":"PostalAddress",addressRegion:m.license_state},jobTitle:m.title,aggregateRating:b.length>0?{"@type":"AggregateRating",ratingValue:A,reviewCount:b.length}:void 0},I=()=>{var J,K;if(!(r!=null&&r.has3D)||!(r!=null&&r.threeDEffect))return null;const W=((J=r.colors)==null?void 0:J.primary)||"#2563eb",q=((K=r.colors)==null?void 0:K.secondary)||"#10b981";switch(r.threeDEffect){case"3d-particles":return a.jsx(GFe,{variant:"particles",color:W});case"3d-mesh":return a.jsx(YFe,{color1:W,color2:q});case"3d-floating":return a.jsx(KFe,{color:W});default:return null}};return a.jsxs(a.Fragment,{children:[a.jsx(eB,{title:M,description:k,ogImage:m.og_image||m.avatar_url,canonicalUrl:L,keywords:[m.full_name||m.username,"real estate agent",m.license_state||"",...m.specialties||[],...m.service_cities||[]].filter(Boolean),schema:O}),I(),a.jsx(FFe,{hasListings:S.length>0,hasTestimonials:b.length>0}),a.jsxs("div",{className:"min-h-screen relative",style:{backgroundColor:"hsl(var(--theme-background, 217 33% 97%))",color:"hsl(var(--theme-text, 222 47% 11%))"},children:[a.jsx("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8 max-w-5xl relative z-10 pb-24 sm:pb-8",children:a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsx("section",{id:"about",className:"scroll-mt-16 sm:scroll-mt-20",children:a.jsx(L3e,{profile:m})}),(_==null?void 0:_.show_contact_buttons)!==!1&&a.jsx(D3e,{profile:m,onContactClick:W=>console.log("Contact clicked:",W)}),(_==null?void 0:_.show_social_proof)!==!1&&a.jsx("div",{className:"pt-2 sm:pt-4",children:a.jsx(LFe,{stats:{propertiesSold:j.length,totalVolume:N,averageRating:A,reviewCount:b.length,yearsExperience:m.years_experience}})}),(_==null?void 0:_.show_listings)!==!1&&S.length>0&&a.jsx("section",{id:"listings",className:"pt-2 sm:pt-4 scroll-mt-16 sm:scroll-mt-20",children:a.jsx(s4e,{listings:S,title:"Featured Properties",onListingClick:W=>n(W)})}),a.jsx("section",{id:"contact",className:"pt-4 sm:pt-8 scroll-mt-16 sm:scroll-mt-20",children:a.jsx(TFe,{agentId:m.id,agentName:m.full_name||m.username})}),(_==null?void 0:_.show_sold_properties)!==!1&&a.jsx("div",{className:"pt-2 sm:pt-4",children:a.jsx(a4e,{listings:y,onListingClick:W=>n(W)})}),(_==null?void 0:_.show_testimonials)!==!1&&b.length>0&&a.jsx("section",{id:"testimonials",className:"pt-4 sm:pt-8 scroll-mt-16 sm:scroll-mt-20",children:a.jsx(IFe,{testimonials:b})}),v.length>0&&a.jsx(BFe,{links:v,onLinkClick:async W=>{$Fe(W.id.toString()),await Ye.rpc("increment_link_clicks",{link_id:W.id})}}),a.jsx(U3e,{profile:m}),a.jsx("footer",{className:"mt-8 sm:mt-12 pt-6 sm:pt-8 pb-4 sm:pb-6 border-t border-gray-200 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"text-center px-3 sm:px-4",children:[a.jsx("div",{className:"flex justify-center mb-2 sm:mb-3",children:a.jsxs("svg",{className:"h-8 w-8 sm:h-10 sm:w-10 text-blue-600",viewBox:"0 0 100 100",fill:"currentColor",role:"img","aria-label":"Equal Housing Opportunity",children:[a.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"3",fill:"none"}),a.jsx("rect",{x:"30",y:"20",width:"40",height:"60",fill:"none",stroke:"currentColor",strokeWidth:"3"}),a.jsx("line",{x1:"35",y1:"45",x2:"65",y2:"45",stroke:"currentColor",strokeWidth:"3"}),a.jsx("line",{x1:"35",y1:"55",x2:"65",y2:"55",stroke:"currentColor",strokeWidth:"3"})]})}),a.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2",children:"Equal Housing Opportunity"}),a.jsx("p",{className:"text-xs text-gray-600 mb-3 sm:mb-4 max-w-2xl mx-auto leading-relaxed",children:"We are pledged to the letter and spirit of U.S. policy for the achievement of equal housing opportunity throughout the Nation."}),m.license_number&&a.jsxs("div",{className:"mb-3 sm:mb-4 pb-3 sm:pb-4 border-b border-gray-300",children:[a.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 font-medium",children:[m.display_name,m.title&&` | ${m.title}`]}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[m.brokerage_name&&`${m.brokerage_name} | `,"License #",m.license_number," (",m.license_state,")"]})]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 text-xs text-gray-500 mb-2 sm:mb-3",children:[a.jsx("a",{href:"/terms",className:"hover:text-blue-600 active:text-blue-700 hover:underline min-h-[32px] flex items-center",children:"Terms of Service"}),a.jsx("span",{children:""}),a.jsx("a",{href:"/privacy",className:"hover:text-blue-600 active:text-blue-700 hover:underline min-h-[32px] flex items-center",children:"Privacy Policy"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," ",m.display_name,". All rights reserved."]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1 sm:mt-2",children:["Powered by"," ",a.jsx("a",{href:"https://agentbio.net",className:"hover:text-blue-600 active:text-blue-700 hover:underline",target:"_blank",rel:"noopener",children:"AgentBio.net"})]})]})})]})}),e&&a.jsx(DFe,{listing:e,isOpen:!!e,onClose:()=>n(null)}),a.jsx(Sae,{isOpen:u,onClose:()=>d(!1),formType:"contact",agentId:m.id,agentName:m.full_name||m.username}),a.jsxs("button",{onClick:()=>d(!0),className:"md:hidden fixed bottom-6 right-4 z-40 bg-blue-600 text-white rounded-full px-5 py-3.5 shadow-xl hover:bg-blue-700 hover:shadow-2xl transition-all active:scale-90 flex items-center gap-2 min-w-[56px] min-h-[56px] justify-center no-select safe-area-inset-bottom","aria-label":"Contact agent",style:{bottom:"calc(1.5rem + env(safe-area-inset-bottom))"},children:[a.jsx(cj,{className:"w-6 h-6 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-semibold whitespace-nowrap",children:"Contact Me"})]})]})]})}function QFe(){return a.jsxs(a.Fragment,{children:[a.jsx(gm,{}),a.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),a.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[a.jsxs("p",{className:"text-muted-foreground mb-6",children:["Last updated: ",new Date().toLocaleDateString()]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),a.jsx("p",{className:"mb-4",children:'AgentBio.net ("we," "us," "our," or "Platform") respects your privacy and is committed to protecting your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our platform.'}),a.jsx("p",{className:"mb-4",children:"By using AgentBio.net, you agree to the collection and use of information in accordance with this Privacy Policy. If you do not agree with our policies and practices, please do not use our Platform."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Information We Collect"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"2.1 Information You Provide Directly"}),a.jsx("p",{className:"mb-4",children:"We collect information that you voluntarily provide to us, including:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Account Registration:"})," Full name, username, email address, password (encrypted), phone number"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Profile Information:"})," Professional bio, headshot/profile photo, real estate license number(s), brokerage affiliation, office location (city and state), states where licensed, years of experience, specialties, service areas"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Listing Content:"})," Property photos, descriptions, pricing information, addresses, features, square footage, and other property details"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Payment Information:"})," Credit card information, billing address (processed and stored by our payment processor Stripe; we do not store complete credit card numbers)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Communication Data:"})," Messages you send through our platform, customer support inquiries, feedback, and survey responses"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Marketing Preferences:"})," Email subscription preferences, SMS opt-in status, communication preferences"]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"2.2 Information Collected Automatically"}),a.jsx("p",{className:"mb-4",children:"When you use our Platform, we automatically collect certain information, including:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Usage Data:"})," Pages visited, features used, time spent on pages, links clicked, search queries, referral sources"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Device Information:"})," IP address, browser type and version, device type, operating system, unique device identifiers"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Location Data:"})," General geographic location based on IP address (city/state level, not precise GPS)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Cookies and Tracking Technologies:"})," Session cookies, persistent cookies, web beacons, analytics data (see Section 9 for details)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Log Data:"})," Access times, error logs, crash data, API calls"]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"2.3 Information from Third-Party Sources"}),a.jsx("p",{className:"mb-4",children:"We may receive information from:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Public Records:"})," State real estate commission license verification databases (to verify active licenses)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Social Media:"})," If you link your social media accounts, we may receive profile information you choose to share"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Payment Processors:"})," Transaction confirmation and payment status from Stripe"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Analytics Services:"})," Aggregated usage statistics from Google Analytics or similar services"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Information"}),a.jsx("p",{className:"mb-4",children:"We use your personal information for the following purposes:"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.1 Service Provision"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Create and maintain your account"}),a.jsx("li",{children:"Display your agent profile and listings to potential clients"}),a.jsx("li",{children:"Process subscription payments and manage billing"}),a.jsx("li",{children:"Provide customer support and respond to inquiries"}),a.jsx("li",{children:"Send transactional emails (account confirmations, password resets, billing notifications, account updates)"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.2 Platform Improvement and Analytics"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Analyze usage patterns to improve user experience"}),a.jsx("li",{children:"Conduct research and development for new features"}),a.jsx("li",{children:"Monitor platform performance and fix technical issues"}),a.jsx("li",{children:"Perform data analytics and statistical analysis"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.3 Marketing and Communications (With Your Consent)"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Send marketing emails about new features, tips, and platform updates (only if you opt-in)"}),a.jsx("li",{children:"Send SMS marketing messages (only with prior express written consent)"}),a.jsx("li",{children:"Conduct surveys and request feedback"}),a.jsx("li",{children:"Promote your listings to interested buyers (this is a core platform feature)"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.4 Legal Compliance and Safety"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Comply with legal obligations, court orders, and regulatory requirements"}),a.jsx("li",{children:"Enforce our Terms of Service, DMCA Policy, and Acceptable Use Policy"}),a.jsx("li",{children:"Detect, prevent, and address fraud, security issues, and technical problems"}),a.jsx("li",{children:"Respond to Fair Housing complaints and copyright infringement notices"}),a.jsx("li",{children:"Verify real estate license status to maintain platform integrity"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. How We Share Your Information"}),a.jsxs("p",{className:"mb-4",children:[a.jsx("strong",{children:"We do NOT sell your personal information to third parties."})," We may share your information in the following circumstances:"]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"4.1 Public Profile Information"}),a.jsx("p",{className:"mb-4",children:"Your agent profile, including your name, photo, bio, license information, brokerage affiliation, and listings, is publicly displayed to all Platform visitors. This is the core purpose of the Platformto showcase your professional profile to potential clients."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"4.2 Third-Party Service Providers"}),a.jsx("p",{className:"mb-4",children:"We share information with trusted service providers who assist us in operating our Platform:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Payment Processing:"})," Stripe (payment processing, subscription management, fraud detection)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Email Services:"})," SendGrid or similar (transactional and marketing emails)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Cloud Hosting:"})," AWS, Google Cloud, or similar (data storage and platform hosting)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Analytics:"})," Google Analytics or similar (usage analytics and reporting)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Customer Support:"})," Support ticket systems and live chat providers"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Security Services:"})," DDoS protection, firewall services, security monitoring"]})]}),a.jsx("p",{className:"mb-4",children:"These service providers are contractually obligated to protect your information and use it only for the purposes we specify."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"4.3 Legal Requirements"}),a.jsx("p",{className:"mb-4",children:"We may disclose your information to comply with:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Legal processes (subpoenas, court orders, legal proceedings)"}),a.jsx("li",{children:"Law enforcement requests"}),a.jsx("li",{children:"Regulatory requirements (e.g., Iowa Attorney General data breach notifications)"}),a.jsx("li",{children:"National security requirements"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"4.4 Business Transfers"}),a.jsx("p",{className:"mb-4",children:"If AgentBio.net is involved in a merger, acquisition, asset sale, or bankruptcy, your information may be transferred to the successor entity. You will be notified of any such change via email and/or prominent notice on our Platform."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"4.5 With Your Consent"}),a.jsx("p",{className:"mb-4",children:"We may share your information for any other purpose with your explicit consent."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Email and SMS Marketing Communications"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"5.1 Email Marketing (CAN-SPAM Compliance)"}),a.jsx("p",{className:"mb-4",children:"We comply with the CAN-SPAM Act (15 U.S.C.  7701) for all commercial email communications. All marketing emails include:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Clear identification as an advertisement"}),a.jsx("li",{children:"Our valid physical postal address"}),a.jsx("li",{children:"A clear and conspicuous unsubscribe mechanism"}),a.jsx("li",{children:'Accurate "From" and subject line information'})]}),a.jsx("p",{className:"mb-4",children:"You may opt out of marketing emails at any time by:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:'Clicking the "Unsubscribe" link in any marketing email'}),a.jsx("li",{children:"Updating your preferences in your account settings"}),a.jsx("li",{children:'Emailing privacy@agentbio.net with "Unsubscribe" in the subject line'})]}),a.jsxs("p",{className:"mb-4",children:["We will process opt-out requests within ",a.jsx("strong",{children:"10 business days"}),". Note that you cannot opt out of transactional emails (account confirmations, password resets, billing notifications)."]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"5.2 SMS Marketing (TCPA Compliance)"}),a.jsxs("p",{className:"mb-4",children:["We comply with the Telephone Consumer Protection Act (47 U.S.C.  227) for all SMS marketing. We will NEVER send you marketing text messages unless you provide ",a.jsx("strong",{children:"Prior Express Written Consent"})," by:"]}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Checking a clear consent checkbox"}),a.jsx("li",{children:"Providing your mobile phone number"}),a.jsx("li",{children:"Acknowledging that you're agreeing to receive automated marketing texts"}),a.jsx("li",{children:"Understanding that consent is not required to purchase services"})]}),a.jsx("p",{className:"mb-4",children:"If you opt in to SMS marketing:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Message frequency varies (typically 2-4 messages per month)"}),a.jsx("li",{children:"Standard message and data rates apply"}),a.jsx("li",{children:"Reply STOP to opt out at any time"}),a.jsx("li",{children:"Reply HELP for assistance"}),a.jsx("li",{children:"We will honor opt-outs within 10 business days"}),a.jsx("li",{children:"We will not send messages before 8 AM or after 9 PM in your local time zone"})]}),a.jsx("p",{className:"mb-4",children:"Transactional SMS messages (appointment confirmations, account security alerts) require only basic consent and are not subject to the same restrictions as marketing messages."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Data Security"}),a.jsx("p",{className:"mb-4",children:"We implement industry-standard security measures to protect your personal information:"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"6.1 Technical Safeguards"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Encryption:"})," HTTPS/TLS encryption for all data in transit"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Database Encryption:"})," Encryption at rest for sensitive data"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Password Security:"})," Passwords hashed using bcrypt or Argon2"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Access Controls:"})," Role-based access permissions for admin accounts"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Two-Factor Authentication:"})," Available for account protection"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Security Monitoring:"})," Continuous monitoring for suspicious activity"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Regular Backups:"})," Daily automated backups stored securely"]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"6.2 Organizational Safeguards"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Limited employee access to personal information on a need-to-know basis"}),a.jsx("li",{children:"Background checks for employees with data access"}),a.jsx("li",{children:"Regular security training for staff"}),a.jsx("li",{children:"Documented data breach response plan"}),a.jsx("li",{children:"Third-party security audits"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"6.3 Limitations"}),a.jsx("p",{className:"mb-4",children:"Despite our security measures, no method of transmission over the Internet or electronic storage is 100% secure. We cannot guarantee absolute security. You are responsible for maintaining the confidentiality of your account credentials and for all activities under your account."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Data Breach Notification"}),a.jsx("p",{className:"mb-4",children:"In compliance with applicable federal and state data breach notification laws across all 50 states, if we discover a data breach compromising your personal information, we will:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Notify affected users in the most expeditious manner possible and without unreasonable delay (typically within 30-60 days)"}),a.jsx("li",{children:"Notify affected state attorneys general as required by state laws (most states require notification if 500+ residents of that state are affected, timing varies by state)"}),a.jsx("li",{children:"Provide written, electronic, or substitute notice as appropriate under applicable law"}),a.jsx("li",{children:"Include in notifications: description of breach, approximate date, types of personal information obtained, credit bureau contact information, advice to report identity theft"}),a.jsx("li",{children:"Comply with state-specific breach notification requirements including timing, content, and notification methods"})]}),a.jsx("p",{className:"mb-4",children:"All 50 states plus Washington D.C., Puerto Rico, and the U.S. Virgin Islands have data breach notification laws with varying requirements. We comply with the most stringent applicable requirements to ensure all affected users receive timely notification."}),a.jsx("p",{className:"mb-4",children:"You can report suspected security incidents to security@agentbio.net."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Your Privacy Rights"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"8.1 General Rights (All Users)"}),a.jsx("p",{className:"mb-4",children:"All users have the following rights:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Access:"})," Request a copy of the personal information we hold about you"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Correction:"})," Request correction of inaccurate or incomplete information"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Deletion:"})," Request deletion of your personal information (subject to legal retention requirements)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Data Portability:"})," Request your data in a structured, machine-readable format"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Opt-Out of Marketing:"})," Unsubscribe from marketing emails and SMS messages"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Account Deletion:"})," Delete your account and associated data"]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"8.2 California Residents (CCPA/CPRA Rights)"}),a.jsx("p",{className:"mb-4",children:"If you are a California resident and we meet the CCPA applicability thresholds (annual revenue > $26.625 million OR processing data of 100,000+ California residents), you have additional rights:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Right to Know:"})," Request disclosure of categories and specific pieces of personal information we collect, use, and disclose"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Right to Delete:"})," Request deletion of personal information (with exceptions for legal compliance, fraud prevention, etc.)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Right to Opt-Out of Sale/Sharing:"})," We do NOT sell or share personal information for cross-context behavioral advertising"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Right to Correct:"})," Request correction of inaccurate personal information"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Right to Limit Sensitive Personal Information Use:"})," We do not use sensitive personal information for purposes requiring opt-out under CCPA"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Non-Discrimination:"})," We will not discriminate against you for exercising CCPA rights"]})]}),a.jsxs("p",{className:"mb-4",children:[a.jsx("strong",{children:"Do Not Sell My Personal Information:"})," We do NOT sell personal information. We have not sold personal information in the preceding 12 months."]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"8.3 Other State Privacy Law Rights"}),a.jsx("p",{className:"mb-4",children:"Residents of states with comprehensive privacy laws have similar rights to CCPA. These states include (but are not limited to):"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Colorado, Connecticut, Virginia, Utah:"})," Rights to access, correct, delete, and obtain portable copies of personal data; opt out of targeted advertising and sales"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Iowa:"})," Rights apply when processing 100,000+ Iowa residents OR 25,000+ residents with 50%+ revenue from data sales"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Oregon, Texas, Montana:"})," Similar comprehensive privacy rights (laws effective 2024-2026)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Additional States:"})," Many other states have enacted or are enacting privacy laws with similar consumer rights"]})]}),a.jsx("p",{className:"mb-4",children:"Common rights across state privacy laws include:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Right to access your personal data"}),a.jsx("li",{children:"Right to correct inaccurate personal data"}),a.jsx("li",{children:"Right to delete personal data"}),a.jsx("li",{children:"Right to obtain a portable copy of your data"}),a.jsx("li",{children:"Right to opt out of: (a) sale of personal data, (b) targeted advertising, (c) profiling with legal/significant effects"})]}),a.jsxs("p",{className:"mb-4",children:["We respond to state privacy law requests within ",a.jsx("strong",{children:"45 days"})," (or as required by applicable state law), extendable by an additional 45 days with notice. We do not discriminate against users for exercising their privacy rights."]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"8.4 How to Exercise Your Rights"}),a.jsx("p",{className:"mb-4",children:"To exercise any privacy rights, contact us at:"}),a.jsxs("div",{className:"bg-muted p-4 rounded-md mb-4",children:[a.jsx("p",{className:"font-mono",children:"Email: privacy@agentbio.net"}),a.jsx("p",{className:"font-mono",children:"Subject Line: Privacy Rights Request"}),a.jsx("p",{className:"font-mono",children:"Include: Your name, email address, and specific request"})]}),a.jsx("p",{className:"mb-4",children:"We will verify your identity before processing requests and respond within 45 days (or as required by applicable law). You may designate an authorized agent to submit requests on your behalf by providing written authorization."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Cookies and Tracking Technologies"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"9.1 Types of Cookies We Use"}),a.jsx("p",{className:"mb-4",children:"We use the following types of cookies:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Essential Cookies:"})," Required for platform functionality (login sessions, security, shopping cart). Cannot be disabled."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Performance Cookies:"})," Analytics and usage statistics (Google Analytics) to improve platform performance"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Functional Cookies:"})," Remember your preferences (language, display settings)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Targeting Cookies:"})," Track visits across websites for advertising purposes (if applicable)"]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"9.2 Cookie Management"}),a.jsx("p",{className:"mb-4",children:"You can control cookies through:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Browser settings (most browsers allow you to refuse cookies or delete existing cookies)"}),a.jsx("li",{children:"Our cookie preference center (accessible in the footer)"}),a.jsx("li",{children:"Global Privacy Control (GPC) signals (we honor GPC browser settings)"})]}),a.jsx("p",{className:"mb-4",children:"Note: Disabling essential cookies may prevent you from using certain platform features."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"9.3 Analytics Services"}),a.jsx("p",{className:"mb-4",children:"We use Google Analytics to understand platform usage. Google Analytics collects information such as how often users visit the Platform, what pages they visit, and what other sites they used prior to visiting. We use this information only to improve our Platform."}),a.jsxs("p",{className:"mb-4",children:["Google's ability to use and share information collected by Google Analytics is restricted by the ",a.jsx("a",{href:"https://www.google.com/policies/privacy/partners/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Google Analytics Terms of Service"})," and ",a.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Google Privacy Policy"}),". You can opt out of Google Analytics by installing the ",a.jsx("a",{href:"https://tools.google.com/dlpage/gaoptout/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Google Analytics Opt-out Browser Add-on"}),"."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Data Retention"}),a.jsx("p",{className:"mb-4",children:"We retain your personal information for as long as necessary to fulfill the purposes outlined in this Privacy Policy, unless a longer retention period is required or permitted by law."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"10.1 Retention Periods"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Active Accounts:"})," Personal information retained while account is active"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Deleted Accounts:"})," Most data deleted within 30 days of account deletion; some data retained for legal compliance"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Financial Records:"})," Payment and billing records retained for 7 years (tax and accounting compliance)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"DMCA Notices:"})," Copyright infringement records retained for 4+ years"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Email Opt-Out Records:"})," Unsubscribe lists retained for 4+ years (CAN-SPAM compliance)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"SMS Consent Records:"})," Retained indefinitely (TCPA compliance - burden of proof)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Legal Hold:"})," Data subject to litigation, investigations, or legal proceedings retained until matter resolves"]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"10.2 Data Deletion"}),a.jsx("p",{className:"mb-4",children:"When we delete data, we use secure deletion methods including overwriting, degaussing, or physical destruction of storage media. Backup copies may persist for up to 90 days before permanent deletion."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Children's Privacy"}),a.jsx("p",{className:"mb-4",children:"AgentBio.net is not intended for individuals under 18 years of age. We do not knowingly collect personal information from children under 18. If we learn we have collected personal information from a child under 18 without parental consent, we will delete that information as quickly as possible."}),a.jsx("p",{className:"mb-4",children:"If you believe we have collected information from a child under 18, please contact us immediately at privacy@agentbio.net."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. International Data Transfers"}),a.jsx("p",{className:"mb-4",children:"AgentBio.net is based in the United States. If you access our Platform from outside the United States, your information will be transferred to, stored, and processed in the United States."}),a.jsx("p",{className:"mb-4",children:"The United States may have data protection laws that differ from the laws of your country. By using our Platform, you consent to the transfer of your information to the United States and processing in accordance with this Privacy Policy."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Third-Party Links"}),a.jsx("p",{className:"mb-4",children:"Our Platform may contain links to third-party websites, including brokerage websites, MLS systems, social media platforms, and other real estate services. We are not responsible for the privacy practices of these third parties."}),a.jsx("p",{className:"mb-4",children:"We encourage you to read the privacy policies of any third-party sites you visit. This Privacy Policy applies only to information collected by AgentBio.net."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Changes to This Privacy Policy"}),a.jsx("p",{className:"mb-4",children:"We may update this Privacy Policy from time to time to reflect changes in our practices, technology, legal requirements, or other factors. Material changes will be communicated via:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:["Email notification at least ",a.jsx("strong",{children:"30 days in advance"})]}),a.jsx("li",{children:"Prominent notice on the Platform"}),a.jsx("li",{children:'Updated "Last Updated" date at the top of this policy'})]}),a.jsx("p",{className:"mb-4",children:"Your continued use of the Platform after the effective date of changes constitutes acceptance of the revised Privacy Policy. We encourage you to review this Privacy Policy periodically."}),a.jsx("p",{className:"mb-4",children:"We maintain archived versions of previous Privacy Policies available upon request."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Contact Information"}),a.jsx("p",{className:"mb-4",children:"If you have questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us:"}),a.jsx("div",{className:"bg-muted p-4 rounded-md mb-4",children:a.jsxs("p",{className:"font-mono text-sm",children:[a.jsx("strong",{children:"Privacy Inquiries:"}),a.jsx("br",{}),"Email: privacy@agentbio.net",a.jsx("br",{}),"Subject: Privacy Policy Question",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Privacy Rights Requests:"}),a.jsx("br",{}),"Email: privacy@agentbio.net",a.jsx("br",{}),"Subject: Privacy Rights Request",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Data Breach Reports:"}),a.jsx("br",{}),"Email: security@agentbio.net",a.jsx("br",{}),"Subject: Security Incident",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"General Legal Inquiries:"}),a.jsx("br",{}),"Email: legal@agentbio.net",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Mailing Address:"}),a.jsx("br",{}),"AgentBio.net Privacy Department",a.jsx("br",{}),"[Physical Address - To be added]",a.jsx("br",{}),"Des Moines, IA [ZIP]"]})}),a.jsx("p",{className:"mb-4",children:"We will respond to privacy inquiries within 45 days (or as required by applicable law)."})]}),a.jsxs("div",{className:"mt-12 p-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[a.jsx("h3",{className:"text-xl font-semibold mb-3 text-blue-900 dark:text-blue-100",children:" Summary of Key Privacy Practices"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-blue-900 dark:text-blue-100",children:[a.jsx("li",{children:"We do NOT sell your personal information"}),a.jsx("li",{children:"Your profile is publicly displayed to showcase your professional services"}),a.jsx("li",{children:"We use trusted service providers (Stripe, SendGrid) bound by confidentiality"}),a.jsx("li",{children:"You can opt out of marketing emails and SMS at any time"}),a.jsx("li",{children:"We comply with CCPA, Iowa CDPA, CAN-SPAM, TCPA, and data breach notification laws"}),a.jsx("li",{children:"You have rights to access, correct, delete, and port your data"}),a.jsx("li",{children:"We implement strong security measures but cannot guarantee absolute security"}),a.jsx("li",{children:"Contact privacy@agentbio.net for privacy rights requests or questions"})]})]})]})]})}),a.jsx(ym,{})]})}function JFe(){return a.jsxs(a.Fragment,{children:[a.jsx(gm,{}),a.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),a.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[a.jsxs("p",{className:"text-muted-foreground mb-6",children:["Last updated: ",new Date().toLocaleDateString()]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),a.jsx("p",{className:"mb-4",children:'By accessing and using AgentBio.net ("Platform", "Service", "we", "us", or "our"), you ("User", "Agent", "you", or "your") accept and agree to be bound by these Terms of Service, including our Privacy Policy, DMCA Policy, and Acceptable Use Policy, which are incorporated by reference. If you do not agree to these terms, you must not access or use this Service.'}),a.jsx("p",{className:"mb-4",children:"By creating an account, uploading content, or using our services, you represent that you are at least 18 years of age and have the legal capacity to enter into this binding agreement."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Platform Purpose and Services"}),a.jsx("p",{className:"mb-4",children:"AgentBio.net provides a platform for licensed real estate professionals to create professional profiles, showcase their listings, and connect with potential clients. The Platform is an interactive computer service that hosts user-generated content and is not responsible for content posted by users."}),a.jsxs("p",{className:"mb-4",children:[a.jsx("strong",{className:"text-red-600",children:"IMPORTANT:"})," AgentBio.net is a passive hosting platform. We do NOT create, verify, endorse, or take responsibility for any content posted by agents, including but not limited to property listings, photographs, descriptions, pricing, agent credentials, testimonials, or any other information."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Agent Representations, Warranties, and Responsibilities"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.1 General Warranties"}),a.jsx("p",{className:"mb-4",children:'By using this Platform and uploading any content ("User Content"), you represent, warrant, and covenant that:'}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"You are a licensed real estate professional in good standing in all jurisdictions where you claim to hold a license"}),a.jsx("li",{children:"All information you provide is accurate, current, and complete"}),a.jsx("li",{children:"You will maintain the accuracy of all information and promptly update any changes"}),a.jsx("li",{children:"You have full authority to enter into this agreement and grant the licenses described herein"}),a.jsx("li",{children:"Your use of the Platform complies with all applicable federal, state, and local laws and regulations"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.2 Content Ownership and Authorization"}),a.jsx("p",{className:"mb-4",children:a.jsx("strong",{children:"You represent and warrant that you own all User Content OR have obtained all necessary rights, licenses, consents, and permissions to upload and grant Platform rights to display such content."})}),a.jsx("p",{className:"mb-4",children:"Specifically, for each piece of content you upload, you warrant that:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Photographs:"})," You either (a) took the photograph yourself and own the copyright, OR (b) have a written license from the copyright owner (photographer, MLS, previous listing agent, property owner, etc.) that explicitly permits third-party platform upload and public display for the duration content remains on AgentBio.net. You have verified any license permits this specific use and is not limited to MLS display, IDX, or active listing marketing only."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"MLS Photos:"})," You understand that most MLS licenses DO NOT authorize upload to third-party platforms like AgentBio.net. You warrant that any MLS photos you upload are either (a) authorized by specific MLS policy for third-party platform use, OR (b) you have obtained separate written authorization from the copyright owner."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Professional Photography:"})," You understand that photographers retain copyright unless explicitly transferred in writing. Payment alone does not transfer copyright. You warrant you have obtained written authorization from photographers for third-party platform use, not merely for listing marketing."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Logos and Trademarks:"})," You have current authorization to use any brokerage logos, company trademarks, REALTOR marks, or other proprietary marks displayed on your profile. You will immediately remove any such marks upon termination of your affiliation or authorization."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Testimonials and Reviews:"})," You have obtained written consent from all individuals named, quoted, or depicted in testimonials, including permission to use their name, likeness, and statements for commercial marketing purposes on this Platform."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Property Information:"})," All listing information, including descriptions, pricing, features, square footage, and other property details, is accurate to the best of your knowledge and sourced from reliable information."]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.3 Fair Housing Compliance"}),a.jsx("p",{className:"mb-4",children:"You represent and warrant that all content you post complies with the Fair Housing Act (42 U.S.C.  3604) and applicable state fair housing laws. Specifically, you warrant that:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Your listings, descriptions, and advertisements contain NO statements indicating any preference, limitation, or discrimination based on race, color, religion, sex, handicap, familial status, national origin, or other protected characteristics"}),a.jsx("li",{children:"You will not use discriminatory language, symbols, or imagery"}),a.jsx("li",{children:"You understand that violations of the Fair Housing Act may result in immediate account termination and reporting to appropriate authorities"}),a.jsx("li",{children:"You will comply with all Equal Housing Opportunity requirements in your advertising"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.4 State-Specific Licensing and Advertising Requirements"}),a.jsxs("p",{className:"mb-4",children:[a.jsx("strong",{children:"AgentBio.net is a national platform serving licensed real estate professionals across all 50 states."})," You warrant that you will comply with ALL applicable state real estate licensing laws and advertising requirements in the state(s) where you hold a license and conduct business."]}),a.jsx("p",{className:"mb-4",children:"Each state has unique advertising and disclosure requirements. Examples include (but are not limited to):"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"All States:"})," Display your full name as licensed, brokerage affiliation, office location, and license number as required by your state"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Iowa:"})," Iowa Administrative Code 193E-10 requires display of licensed name (no abbreviations), city and state of office, and states where licensed on every page"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"California:"})," Business and Professions Code  10140.6 requires license number on all advertising"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"New York:"})," 19 NYCRR  175.25 requires firm name and location in all advertising"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Texas:"})," TREC Rule  535.154 requires disclosure of license holder status and license number"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Florida:"})," Florida Statute  475.42 requires brokerage name in all advertising"]})]}),a.jsxs("p",{className:"mb-4",children:[a.jsx("strong",{children:"You are solely responsible for knowing and complying with your state's specific requirements."})," Violations may result in fines, license suspension, or disciplinary action by your state real estate commission. We recommend consulting your state real estate commission website or legal counsel for complete requirements."]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.5 Full Responsibility for Listings"}),a.jsx("p",{className:"mb-4",children:a.jsx("strong",{className:"text-red-600",children:"YOU ACKNOWLEDGE AND AGREE THAT YOU BEAR FULL AND SOLE RESPONSIBILITY FOR ALL LISTINGS, CONTENT, AND INFORMATION YOU POST ON AGENTBIO.NET."})}),a.jsx("p",{className:"mb-4",children:"This includes but is not limited to:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Accuracy of all property information, pricing, features, and descriptions"}),a.jsx("li",{children:"Compliance with all copyright laws regarding photos and materials"}),a.jsx("li",{children:"Compliance with Fair Housing laws and regulations"}),a.jsx("li",{children:"Compliance with state real estate licensing and advertising requirements"}),a.jsx("li",{children:"Obtaining all necessary permissions, licenses, and authorizations"}),a.jsx("li",{children:"Any harm, damages, or legal consequences arising from your content"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Indemnification"}),a.jsx("p",{className:"mb-4",children:a.jsx("strong",{children:`You agree to indemnify, defend, and hold harmless AgentBio.net, its owners, officers, directors, employees, agents, successors, and assigns ("Indemnified Parties") from and against any and all claims, damages, losses, liabilities, costs, and expenses (including reasonable attorneys' fees and legal costs) arising from or related to:`})}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Your use of the Platform"}),a.jsx("li",{children:"Any User Content you upload, post, or transmit through the Platform"}),a.jsx("li",{children:"Your breach of these Terms of Service"}),a.jsx("li",{children:"Your violation of any law, regulation, or third-party right, including without limitation any copyright, trademark, publicity right, privacy right, or fair housing law"}),a.jsx("li",{children:"Any claim that your User Content caused damage to a third party"}),a.jsx("li",{children:"Any dispute between you and any third party arising from your use of the Platform"})]}),a.jsx("p",{className:"mb-4",children:"This indemnification obligation survives termination of your account and these Terms. We reserve the right, at our own expense, to assume the exclusive defense and control of any matter otherwise subject to indemnification by you, and you shall cooperate with our defense of such claim."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. License Grant to Platform"}),a.jsx("p",{className:"mb-4",children:"You retain all ownership rights in your User Content. By uploading User Content to the Platform, you grant AgentBio.net a non-exclusive, worldwide, royalty-free, transferable license to use, reproduce, distribute, prepare derivative works of, display, and perform your User Content in connection with providing and promoting the Platform and our services."}),a.jsx("p",{className:"mb-4",children:"This license continues until you remove your User Content from the Platform, except that cached or archived copies may persist for reasonable technical periods."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Copyright Policy and DMCA Compliance"}),a.jsx("p",{className:"mb-4",children:"AgentBio.net respects intellectual property rights and complies with the Digital Millennium Copyright Act (DMCA). We maintain a repeat infringer policy and will terminate accounts of users who repeatedly infringe copyrights."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"6.1 DMCA Designated Agent"}),a.jsx("p",{className:"mb-4",children:"If you believe content on our Platform infringes your copyright, please send a DMCA notice to our designated agent:"}),a.jsxs("div",{className:"bg-muted p-4 rounded-md mb-4",children:[a.jsx("p",{className:"font-mono",children:"Copyright Agent, AgentBio.net"}),a.jsx("p",{className:"font-mono",children:"Email: dmca@agentbio.net"}),a.jsx("p",{className:"font-mono",children:"Address: [Physical Address - To be added]"})]}),a.jsx("p",{className:"mb-4",children:"Your notice must include all information required by 17 U.S.C.  512(c)(3). See our complete DMCA Policy for detailed requirements."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"6.2 Repeat Infringer Policy"}),a.jsxs("p",{className:"mb-4",children:["Users who receive ",a.jsx("strong",{children:"three (3) valid DMCA notices within a twelve (12) month period"})," will have their accounts permanently terminated. We maintain records of all copyright complaints and track violations per user. This policy is strictly enforced."]}),a.jsx("p",{className:"mb-4",children:"Warnings will be issued after the first and second notices. The third valid notice results in immediate permanent account termination without refund."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Prohibited Uses and Content"}),a.jsx("p",{className:"mb-4",children:"You may NOT use our Platform to:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Upload content you do not own or have authorization to use"}),a.jsx("li",{children:"Infringe any copyright, trademark, patent, or other intellectual property right"}),a.jsx("li",{children:"Violate the Fair Housing Act or any civil rights laws"}),a.jsx("li",{children:"Post false, misleading, or deceptive information about properties or your credentials"}),a.jsx("li",{children:"Use another agent's photos, content, or credentials"}),a.jsx("li",{children:"Continue using brokerage logos or trademarks after leaving that brokerage"}),a.jsx("li",{children:"Harass, threaten, defame, or abuse any person"}),a.jsx("li",{children:"Post discriminatory content or engage in discriminatory practices"}),a.jsx("li",{children:"Violate any local, state, or federal law or regulation"}),a.jsx("li",{children:"Interfere with the Platform's operation or security"}),a.jsx("li",{children:"Scrape, copy, or harvest data from the Platform"}),a.jsx("li",{children:"Upload malicious code, viruses, or harmful software"})]}),a.jsx("p",{className:"mb-4",children:"Violation of these prohibited uses may result in immediate account suspension or termination without notice or refund."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Account Termination and Suspension"}),a.jsx("p",{className:"mb-4",children:"We reserve the right to suspend or terminate your account immediately, with or without notice, for any reason, including but not limited to:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Breach of these Terms of Service"}),a.jsx("li",{children:"Copyright infringement or repeat infringer status"}),a.jsx("li",{children:"Fair Housing Act violations"}),a.jsx("li",{children:"False or misleading information"}),a.jsx("li",{children:"Loss of real estate license or license suspension"}),a.jsx("li",{children:"Complaints from third parties regarding your content"}),a.jsx("li",{children:"Fraudulent or illegal activity"}),a.jsx("li",{children:"Non-payment of subscription fees"})]}),a.jsx("p",{className:"mb-4",children:"Upon termination, your right to use the Platform immediately ceases. We may delete your account and all associated content. Termination does not relieve you of obligations under these Terms, including indemnification obligations."}),a.jsx("p",{className:"mb-4",children:"You may terminate your account at any time by contacting support. Termination does not entitle you to a refund except as provided in our Refund Policy."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Subscription and Payment Terms"}),a.jsx("p",{className:"mb-4",children:"Certain features of the Platform require paid subscriptions. By subscribing, you agree to the following:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"You will be billed in advance on a recurring monthly or annual basis"}),a.jsx("li",{children:"You must provide accurate and complete payment information"}),a.jsx("li",{children:"You authorize automatic recurring charges to your payment method"}),a.jsx("li",{children:"Subscription fees are non-refundable except as specified in Section 10"}),a.jsx("li",{children:"We reserve the right to modify subscription fees with 30 days advance notice"}),a.jsx("li",{children:"Failure to pay may result in immediate account suspension or termination"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Refund Policy"}),a.jsxs("p",{className:"mb-4",children:["We offer refunds within ",a.jsx("strong",{children:"14 days of initial purchase"})," for monthly and annual subscriptions. After 14 days, all subscription fees are non-refundable."]}),a.jsx("p",{className:"mb-4",children:"No refunds are provided for:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Account termination due to Terms of Service violations"}),a.jsx("li",{children:"Account termination due to copyright infringement"}),a.jsx("li",{children:"Voluntary account cancellation after 14-day period"}),a.jsx("li",{children:"Partial subscription periods"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:'11. Disclaimers and "AS IS" Provision'}),a.jsx("p",{className:"mb-4",children:a.jsx("strong",{children:'THE PLATFORM AND ALL CONTENT, MATERIALS, INFORMATION, AND SERVICES ARE PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED.'})}),a.jsx("p",{className:"mb-4",children:"TO THE FULLEST EXTENT PERMITTED BY LAW, AGENTBIO.NET DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE"}),a.jsx("li",{children:"WARRANTIES REGARDING ACCURACY, RELIABILITY, OR COMPLETENESS OF CONTENT"}),a.jsx("li",{children:"WARRANTIES THAT THE PLATFORM WILL BE UNINTERRUPTED, SECURE, OR ERROR-FREE"}),a.jsx("li",{children:"WARRANTIES REGARDING USER-POSTED CONTENT ACCURACY OR LEGALITY"})]}),a.jsx("p",{className:"mb-4",children:"We do not warrant or guarantee that:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"The Platform will meet your specific requirements"}),a.jsx("li",{children:"Any particular results will be achieved through Platform use"}),a.jsx("li",{children:"User Content is accurate, lawful, or does not infringe third-party rights"}),a.jsx("li",{children:"Agents using the Platform are properly licensed or compliant with laws"})]}),a.jsx("p",{className:"mb-4",children:a.jsx("strong",{children:"YOU ASSUME ALL RISK ARISING FROM YOUR USE OF THE PLATFORM."})})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Limitation of Liability"}),a.jsx("p",{className:"mb-4",children:a.jsx("strong",{children:"TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, IN NO EVENT SHALL AGENTBIO.NET OR ITS OWNERS, OFFICERS, DIRECTORS, EMPLOYEES, OR AGENTS BE LIABLE FOR:"})}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES"}),a.jsx("li",{children:"LOSS OF PROFITS, REVENUE, DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES"}),a.jsx("li",{children:"DAMAGES ARISING FROM USER CONTENT OR THIRD-PARTY CONTENT"}),a.jsx("li",{children:"DAMAGES ARISING FROM YOUR RELIANCE ON PLATFORM CONTENT"}),a.jsx("li",{children:"DAMAGES ARISING FROM UNAUTHORIZED ACCESS TO YOUR ACCOUNT OR DATA"}),a.jsx("li",{children:"DAMAGES ARISING FROM PLATFORM INTERRUPTIONS, ERRORS, OR DEFECTS"})]}),a.jsx("p",{className:"mb-4",children:a.jsx("strong",{children:"OUR TOTAL LIABILITY FOR ALL CLAIMS ARISING FROM OR RELATED TO THE PLATFORM SHALL NOT EXCEED THE GREATER OF (A) FEES YOU PAID TO US IN THE TWELVE (12) MONTHS PRECEDING THE CLAIM, OR (B) ONE HUNDRED DOLLARS ($100)."})}),a.jsx("p",{className:"mb-4",children:"These limitations apply regardless of the legal theory (contract, tort, negligence, strict liability, or otherwise), even if we have been advised of the possibility of such damages."}),a.jsxs("p",{className:"mb-4",children:[a.jsx("strong",{children:"Exceptions:"})," Applicable state and federal laws may not permit limitation of liability for personal injury, death, gross negligence, willful misconduct, or fraud. These limitations do not apply to such claims where prohibited by law."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Arbitration and Dispute Resolution"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"13.1 Agreement to Arbitrate"}),a.jsx("p",{className:"mb-4",children:"Except as provided below, any dispute, claim, or controversy arising out of or relating to these Terms or the Platform shall be resolved by binding arbitration administered by the American Arbitration Association (AAA) under its Commercial Arbitration Rules."}),a.jsx("p",{className:"mb-4",children:"Arbitration shall be conducted by a single neutral arbitrator. The arbitration shall take place remotely via videoconference or telephone, or if in-person arbitration is required, in the federal judicial district where you reside or in Polk County, Iowa, at your option. The arbitrator's decision shall be final and binding and may be entered as a judgment in any court of competent jurisdiction."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"13.2 Small Claims Court Exception"}),a.jsx("p",{className:"mb-4",children:"Either party may bring an individual action in small claims court as an alternative to arbitration for claims within that court's jurisdiction."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"13.3 Class Action Waiver"}),a.jsx("p",{className:"mb-4",children:"TO THE FULLEST EXTENT PERMITTED BY LAW, YOU AND AGENTBIO.NET AGREE THAT EACH MAY BRING CLAIMS AGAINST THE OTHER ONLY IN AN INDIVIDUAL CAPACITY AND NOT AS A CLASS MEMBER OR REPRESENTATIVE IN ANY CLASS, CONSOLIDATED, OR REPRESENTATIVE PROCEEDING."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"13.4 Opt-Out Right"}),a.jsxs("p",{className:"mb-4",children:["You may opt out of this arbitration agreement within ",a.jsx("strong",{children:"thirty (30) days"}),' of account creation by sending written notice to legal@agentbio.net with the subject line "Arbitration Opt-Out" and including your name and account email.']}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"13.5 Injunctive Relief Exception"}),a.jsx("p",{className:"mb-4",children:"Notwithstanding the arbitration agreement, either party may seek injunctive or equitable relief in court to protect intellectual property rights or confidential information."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Governing Law and Jurisdiction"}),a.jsx("p",{className:"mb-4",children:"These Terms shall be governed by and construed in accordance with the laws of the State of Iowa, without regard to its conflict of law provisions."}),a.jsx("p",{className:"mb-4",children:"For any disputes not subject to arbitration, you consent to the exclusive jurisdiction and venue of the state and federal courts located in Polk County, Iowa."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Modifications to Terms"}),a.jsx("p",{className:"mb-4",children:"We reserve the right to modify these Terms at any time. Material changes will be communicated via:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:["Email notification to your registered email address at least ",a.jsx("strong",{children:"30 days in advance"})]}),a.jsx("li",{children:"Prominent notice on the Platform"}),a.jsx("li",{children:"Login prompt requiring acknowledgment before continued use"})]}),a.jsx("p",{className:"mb-4",children:"Your continued use of the Platform after the effective date of modified Terms constitutes acceptance of the changes. If you do not agree to the modified Terms, you must discontinue use and may terminate your account."}),a.jsx("p",{className:"mb-4",children:"We maintain archived versions of all Terms with effective dates for your reference."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"16. Privacy and Data Protection"}),a.jsx("p",{className:"mb-4",children:"Your privacy is important to us. Our collection, use, and protection of your personal information is governed by our Privacy Policy, which is incorporated into these Terms by reference."}),a.jsx("p",{className:"mb-4",children:"By using the Platform, you consent to our collection and use of information as described in the Privacy Policy. You are responsible for maintaining the confidentiality of your account credentials and for all activities under your account."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"17. Third-Party Services and Links"}),a.jsx("p",{className:"mb-4",children:"The Platform may contain links to third-party websites, services, or resources. We do not endorse and are not responsible for third-party content, privacy practices, or terms of service."}),a.jsx("p",{className:"mb-4",children:"Your interactions with third parties, including payment processors (Stripe), email service providers, and any other third-party services, are solely between you and such third parties. We shall not be liable for any damages arising from such interactions."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"18. Severability and Entire Agreement"}),a.jsx("p",{className:"mb-4",children:"If any provision of these Terms is found to be invalid or unenforceable by a court of competent jurisdiction, that provision shall be limited or eliminated to the minimum extent necessary, and the remaining provisions shall remain in full force and effect."}),a.jsx("p",{className:"mb-4",children:"These Terms, together with the Privacy Policy, DMCA Policy, and Acceptable Use Policy, constitute the entire agreement between you and AgentBio.net regarding the Platform and supersede all prior agreements and understandings."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"19. Assignment"}),a.jsx("p",{className:"mb-4",children:"You may not assign or transfer these Terms or your account to any other person or entity. We may assign these Terms to any successor or affiliate without restriction."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"20. Survival"}),a.jsx("p",{className:"mb-4",children:"The following sections survive termination of your account or these Terms: User Warranties (Section 3), Indemnification (Section 4), DMCA Repeat Infringer Policy (Section 6), Disclaimers (Section 11), Limitation of Liability (Section 12), Arbitration (Section 13), and Governing Law (Section 14)."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"21. Contact Information"}),a.jsx("p",{className:"mb-4",children:"Questions about these Terms of Service should be sent to:"}),a.jsxs("div",{className:"bg-muted p-4 rounded-md mb-4",children:[a.jsx("p",{className:"font-mono",children:"AgentBio.net Legal Department"}),a.jsx("p",{className:"font-mono",children:"Email: legal@agentbio.net"}),a.jsx("p",{className:"font-mono",children:"DMCA Agent: dmca@agentbio.net"}),a.jsx("p",{className:"font-mono",children:"Support: support@agentbio.net"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"22. Acknowledgment"}),a.jsx("p",{className:"mb-4",children:"BY CREATING AN ACCOUNT OR USING THE PLATFORM, YOU ACKNOWLEDGE THAT:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"You have read and understood these Terms of Service"}),a.jsx("li",{children:"You agree to be bound by these Terms and all incorporated policies"}),a.jsx("li",{children:"You understand your full responsibility for all content you upload"}),a.jsx("li",{children:"You understand that AgentBio.net is NOT responsible for user-posted content"}),a.jsx("li",{children:"You understand your obligations regarding copyright, Fair Housing, and licensing compliance"}),a.jsx("li",{children:"You have obtained all necessary permissions for photos, logos, and other content"}),a.jsx("li",{children:"You accept full legal responsibility for your listings and profile content"})]})]}),a.jsxs("div",{className:"mt-12 p-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[a.jsx("h3",{className:"text-xl font-semibold mb-3 text-yellow-900 dark:text-yellow-100",children:" Important Legal Notice"}),a.jsx("p",{className:"mb-2 text-yellow-900 dark:text-yellow-100",children:a.jsx("strong",{children:"As a real estate professional using AgentBio.net, you bear full legal responsibility for:"})}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-yellow-900 dark:text-yellow-100",children:[a.jsx("li",{children:"Copyright compliance for all photos and materials you upload"}),a.jsx("li",{children:"Fair Housing Act compliance in all listings and content"}),a.jsx("li",{children:"Accuracy of all property information and credentials"}),a.jsx("li",{children:"Obtaining photographer permissions and license authorizations"}),a.jsx("li",{children:"State licensing and advertising requirement compliance"})]}),a.jsx("p",{className:"mt-3 text-yellow-900 dark:text-yellow-100",children:"AgentBio.net is a passive hosting platform and is NOT responsible for your content. Violations may result in legal consequences including copyright lawsuits, Fair Housing enforcement, and license sanctions."})]})]})]})}),a.jsx(ym,{})]})}function eUe(){return a.jsxs(a.Fragment,{children:[a.jsx(gm,{}),a.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:"DMCA Copyright Policy"}),a.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[a.jsxs("p",{className:"text-muted-foreground mb-6",children:["Last updated: ",new Date().toLocaleDateString()]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),a.jsx("p",{className:"mb-4",children:"AgentBio.net respects the intellectual property rights of others and expects our users to do the same. In compliance with the Digital Millennium Copyright Act (DMCA), 17 U.S.C.  512, we have implemented procedures to respond to copyright infringement claims and to terminate the accounts of repeat infringers."}),a.jsx("p",{className:"mb-4",children:"This policy explains how copyright owners can report alleged infringements, how users can respond with counter-notices, and our repeat infringer policy."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. DMCA Designated Agent"}),a.jsx("p",{className:"mb-4",children:"Our designated agent for copyright infringement claims under the DMCA is:"}),a.jsxs("div",{className:"bg-muted p-6 rounded-md mb-4 border border-border",children:[a.jsx("p",{className:"font-mono text-lg mb-2",children:a.jsx("strong",{children:"Copyright Agent, AgentBio.net"})}),a.jsxs("p",{className:"font-mono mb-1",children:["Email: ",a.jsx("a",{href:"mailto:dmca@agentbio.net",className:"text-primary hover:underline",children:"dmca@agentbio.net"})]}),a.jsx("p",{className:"font-mono mb-1",children:"Physical Address: [To be added]"}),a.jsx("p",{className:"font-mono",children:"Des Moines, IA [ZIP]"})]}),a.jsxs("p",{className:"mb-4",children:["Our designated agent is registered with the U.S. Copyright Office. This information is publicly available in the Copyright Office's online directory at ",a.jsx("a",{href:"https://dmca.copyright.gov/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"dmca.copyright.gov"}),"."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Filing a DMCA Takedown Notice"}),a.jsxs("p",{className:"mb-4",children:["If you believe that content on AgentBio.net infringes your copyright, you may send a DMCA takedown notice to our designated agent at ",a.jsx("strong",{children:"dmca@agentbio.net"}),"."]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.1 Required Elements"}),a.jsxs("p",{className:"mb-4",children:["To be valid under 17 U.S.C.  512(c)(3), your notice must include ",a.jsx("strong",{children:"ALL"})," of the following:"]}),a.jsxs("ul",{className:"list-decimal pl-6 mb-4 space-y-3",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Physical or Electronic Signature:"})," A physical or electronic signature of the copyright owner or a person authorized to act on behalf of the copyright owner."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Identification of Copyrighted Work:"})," Identification of the copyrighted work claimed to have been infringed. If multiple copyrighted works are covered by a single notification, provide a representative list of such works."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Identification of Infringing Material:"})," Identification of the material that is claimed to be infringing, with information reasonably sufficient to permit us to locate the material. Please provide specific URLs or profile links where the allegedly infringing material appears."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Your Contact Information:"})," Your name, address, telephone number, and email address."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Good Faith Statement:"})," A statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent, or the law."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Accuracy and Authority Statement:"})," A statement that the information in the notification is accurate, and under penalty of perjury, that you are authorized to act on behalf of the copyright owner."]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.2 Sample DMCA Notice"}),a.jsxs("div",{className:"bg-muted p-4 rounded-md mb-4 text-sm font-mono",children:[a.jsx("p",{className:"mb-2",children:"To: dmca@agentbio.net"}),a.jsx("p",{className:"mb-2",children:"Subject: DMCA Takedown Notice"}),a.jsx("p",{className:"mb-4",children:"---"}),a.jsx("p",{className:"mb-2",children:"I, [Your Full Name], am the copyright owner (or authorized agent) of the following work:"}),a.jsx("p",{className:"mb-2",children:'[Describe the copyrighted work, e.g., "Professional real estate photographs of 123 Main Street, Des Moines, IA"]'}),a.jsx("p",{className:"mb-4 mt-4",children:"The following material on AgentBio.net infringes my copyright:"}),a.jsx("p",{className:"mb-2",children:"[Specific URL(s): https://agentbio.net/agent/username/photo-123]"}),a.jsx("p",{className:"mb-4 mt-4",children:"My contact information is:"}),a.jsx("p",{className:"mb-1",children:"Name: [Your Full Name]"}),a.jsx("p",{className:"mb-1",children:"Address: [Your Address]"}),a.jsx("p",{className:"mb-1",children:"Phone: [Your Phone]"}),a.jsx("p",{className:"mb-1",children:"Email: [Your Email]"}),a.jsx("p",{className:"mb-4 mt-4",children:"I have a good faith belief that use of the copyrighted materials described above is not authorized by the copyright owner, its agent, or the law."}),a.jsx("p",{className:"mb-4",children:"I swear, under penalty of perjury, that the information in this notification is accurate and that I am the copyright owner, or am authorized to act on behalf of the copyright owner."}),a.jsx("p",{className:"mb-2 mt-4",children:"Signature: [Your Signature or Electronic Signature]"}),a.jsx("p",{children:"Date: [Date]"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.3 Incomplete Notices"}),a.jsx("p",{className:"mb-4",children:"Notices that do not include all required elements may not be processed. We may request additional information before taking action. Please ensure your notice is complete to avoid delays."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Our Response to DMCA Notices"}),a.jsx("p",{className:"mb-4",children:"Upon receiving a valid DMCA notice, we will:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Expeditiously Remove or Disable Access:"})," We will remove or disable access to the allegedly infringing material within ",a.jsx("strong",{children:"24-48 hours"})," of receiving a complete notice"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Notify the User:"})," We will forward a copy of the DMCA notice to the user who posted the material and inform them that the content has been removed"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Document the Action:"})," We maintain records of all DMCA notices, actions taken, and communications with all parties"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Track Repeat Infringers:"})," We add the incident to the user's account record for repeat infringer tracking (see Section 7)"]})]}),a.jsx("p",{className:"mb-4",children:"We do NOT evaluate the merits of copyright claims. Our role is to comply with the DMCA by promptly removing content when we receive proper notice and providing users an opportunity to file counter-notices."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Filing a Counter-Notice"}),a.jsx("p",{className:"mb-4",children:"If you believe that content you posted was removed in error or that you have authorization to use the material, you may file a DMCA counter-notice."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"5.1 Required Elements"}),a.jsx("p",{className:"mb-4",children:"To be valid under 17 U.S.C.  512(g)(3), your counter-notice must include ALL of the following:"}),a.jsxs("ul",{className:"list-decimal pl-6 mb-4 space-y-3",children:[a.jsx("li",{children:a.jsx("strong",{children:"Your Physical or Electronic Signature"})}),a.jsxs("li",{children:[a.jsx("strong",{children:"Identification of Material:"})," Identification of the material that was removed and the location where it appeared before removal"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Good Faith Statement:"})," A statement under penalty of perjury that you have a good faith belief that the material was removed or disabled as a result of mistake or misidentification"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Your Contact Information:"})," Your name, address, and telephone number"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Consent to Jurisdiction:"})," A statement that you consent to the jurisdiction of the Federal District Court for the judicial district in which your address is located (or the federal judicial district in which AgentBio.net's principal place of business is located if your address is outside the United States), and that you will accept service of process from the person who filed the original DMCA notice or their agent"]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"5.2 Counter-Notice Process"}),a.jsx("p",{className:"mb-4",children:"After we receive a valid counter-notice, we will:"}),a.jsxs("ul",{className:"list-decimal pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Forward a copy of the counter-notice to the original complainant within 2-3 business days"}),a.jsxs("li",{children:["Inform the complainant that we will restore the removed content in ",a.jsx("strong",{children:"10-14 business days"})," unless they file a lawsuit seeking a court order to restrain the user from engaging in infringing activity"]}),a.jsx("li",{children:"If the complainant notifies us that they have filed a lawsuit within the 10-14 day period, we will keep the content down pending litigation"}),a.jsxs("li",{children:["If we do not receive notice of a lawsuit within 10-14 business days, we will ",a.jsx("strong",{children:"restore the content"})]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"5.3 Important Warnings"}),a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4",children:[a.jsx("p",{className:"mb-2 text-yellow-900 dark:text-yellow-100",children:a.jsx("strong",{children:" Legal Consequences of Filing a False Counter-Notice:"})}),a.jsx("p",{className:"text-yellow-900 dark:text-yellow-100",children:"Filing a counter-notice subjects you to potential liability for perjury if you misrepresent that material was removed by mistake. You may also be sued by the copyright owner for copyright infringement. Only file a counter-notice if you have a legitimate good faith belief that the content was removed in error or you have authorization to post it."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Misrepresentation and Section 512(f) Liability"}),a.jsx("p",{className:"mb-4",children:"Under 17 U.S.C.  512(f), any person who knowingly materially misrepresents:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"That material or activity is infringing, OR"}),a.jsx("li",{children:"That material or activity was removed or disabled by mistake or misidentification"})]}),a.jsx("p",{className:"mb-4",children:"...shall be liable for any damages, including costs and attorneys' fees, incurred by the alleged infringer or by the copyright owner who is injured by such misrepresentation."}),a.jsxs("p",{className:"mb-4",children:[a.jsx("strong",{children:"Please carefully consider the accuracy of your DMCA notice or counter-notice before submitting."})," Bad faith abuse of the DMCA process may result in legal liability."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Repeat Infringer Policy"}),a.jsx("p",{className:"mb-4",children:"In accordance with the DMCA and as confirmed by case law (BMG v. Cox Communications, Sony Music v. Cox Communications), we maintain and enforce a policy of terminating the accounts of users who repeatedly infringe copyrights."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"7.1 Definition of Repeat Infringer"}),a.jsxs("p",{className:"mb-4",children:['A "repeat infringer" is a user who has received ',a.jsx("strong",{children:"three (3) valid DMCA takedown notices"})," within a ",a.jsx("strong",{children:"twelve (12) month period"}),"."]}),a.jsx("p",{className:"mb-4",children:'A "valid" DMCA notice is one that:'}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Includes all required elements under 17 U.S.C.  512(c)(3)"}),a.jsx("li",{children:"Results in content removal or disabling"}),a.jsx("li",{children:"Was not successfully countered by a valid counter-notice leading to content restoration"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"7.2 Progressive Enforcement"}),a.jsx("p",{className:"mb-4",children:"Our repeat infringer policy is enforced as follows:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-3",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"First Valid DMCA Notice:"})," Content removed; user receives written warning about copyright compliance obligations and repeat infringer policy; incident recorded in user account"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Second Valid DMCA Notice (within 12 months):"})," Content removed; user receives second warning with explicit notice that one more violation will result in permanent account termination; account placed on probationary status"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Third Valid DMCA Notice (within 12 months):"})," ",a.jsx("strong",{className:"text-red-600",children:"Immediate permanent account termination without refund"}),"; all content deleted; user permanently banned from creating new accounts; decision is final and not subject to appeal"]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"7.3 Tracking and Documentation"}),a.jsx("p",{className:"mb-4",children:"We maintain detailed records of all copyright complaints, including:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Date and time of each DMCA notice received"}),a.jsx("li",{children:"Identity of complainant and claimed copyrighted work"}),a.jsx("li",{children:"Specific content removed or disabled"}),a.jsx("li",{children:"User notification sent and date"}),a.jsx("li",{children:"Counter-notices filed (if any) and outcomes"}),a.jsx("li",{children:"Actions taken (warnings, suspensions, terminations)"}),a.jsx("li",{children:"User account history of violations"})]}),a.jsxs("p",{className:"mb-4",children:["These records are retained for a minimum of ",a.jsx("strong",{children:"four (4) years"})," and are available to law enforcement and in legal proceedings."]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"7.4 No Tolerance for Willful Infringement"}),a.jsx("p",{className:"mb-4",children:"We reserve the right to immediately terminate accounts for egregious copyright violations, such as:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Mass upload of clearly infringing professional photographs"}),a.jsx("li",{children:"Commercially selling or licensing infringing content"}),a.jsx("li",{children:"Repeated violations within a short time period (e.g., multiple notices within days)"}),a.jsx("li",{children:"Evidence of willful, knowing infringement"})]}),a.jsx("p",{className:"mb-4",children:"In such cases, we may terminate accounts before the third notice threshold is reached."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Special Guidance for Real Estate Photos"}),a.jsx("p",{className:"mb-4",children:"Based on real estate industry copyright issues (VHT v. Zillow and similar cases), we provide specific guidance for agents:"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"8.1 Common Copyright Issues"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Professional Listing Photos:"})," Photographers retain copyright unless explicitly transferred in writing. Payment does NOT transfer copyright. Licenses are typically limited to active listing marketing, not third-party platform upload."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"MLS Photos:"})," Most MLS licenses prohibit third-party platform upload. Authorization expires when listings close or expire. Verify your MLS policy before uploading."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Previous Listings:"})," Photos from past listings may no longer be authorized for use, even if you originally had permission for listing marketing."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Brokerage Marketing Materials:"})," Your brokerage may own copyright to marketing materials created by in-house teams. Authorization typically terminates when you leave the brokerage."]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"8.2 What You CAN Upload"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Photos you personally took and own copyright to"}),a.jsx("li",{children:"Photos with written authorization from the photographer explicitly permitting third-party platform upload and display"}),a.jsx("li",{children:"Photos licensed under Creative Commons or similar open licenses (verify terms)"}),a.jsx("li",{children:"Photos you purchased with rights explicitly covering third-party platform use"}),a.jsx("li",{children:"Stock photos you licensed with appropriate usage rights"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"8.3 Best Practices"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Obtain written photographer agreements specifying third-party platform rights"}),a.jsx("li",{children:"Keep documentation of licenses and permissions"}),a.jsx("li",{children:"When in doubt, ask the photographer or copyright owner"}),a.jsx("li",{children:"Use your own photos or hire photographers with written work-for-hire agreements"}),a.jsx("li",{children:"Remove photos from old listings unless you have perpetual licenses"}),a.jsx("li",{children:"Update your profile when changing brokerages to remove brokerage-owned content"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Trademark Complaints"}),a.jsx("p",{className:"mb-4",children:"While this policy primarily addresses copyright issues under the DMCA, we also respond to trademark infringement complaints."}),a.jsxs("p",{className:"mb-4",children:["If you believe content on AgentBio.net infringes your trademark rights, please send a notice to ",a.jsx("strong",{children:"legal@agentbio.net"})," (not the DMCA agent) with:"]}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Identification of the trademark (registration number if registered)"}),a.jsx("li",{children:"Explanation of how it is being infringed"}),a.jsx("li",{children:"Specific URL(s) where the infringement appears"}),a.jsx("li",{children:"Your contact information"}),a.jsx("li",{children:"Statement of good faith belief of infringement"}),a.jsx("li",{children:"Statement of accuracy under penalty of perjury"})]}),a.jsx("p",{className:"mb-4",children:"We will review trademark complaints on a case-by-case basis and may remove content or require users to modify their profiles."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Contact Information"}),a.jsx("p",{className:"mb-4",children:"For copyright-related inquiries:"}),a.jsxs("div",{className:"bg-muted p-4 rounded-md mb-4",children:[a.jsx("p",{className:"font-mono mb-2",children:a.jsx("strong",{children:"DMCA Takedown Notices:"})}),a.jsx("p",{className:"font-mono mb-1",children:"Email: dmca@agentbio.net"}),a.jsx("p",{className:"font-mono mb-4",children:"Subject: DMCA Takedown Notice"}),a.jsx("p",{className:"font-mono mb-2 mt-4",children:a.jsx("strong",{children:"Counter-Notices:"})}),a.jsx("p",{className:"font-mono mb-1",children:"Email: dmca@agentbio.net"}),a.jsx("p",{className:"font-mono mb-4",children:"Subject: DMCA Counter-Notice"}),a.jsx("p",{className:"font-mono mb-2 mt-4",children:a.jsx("strong",{children:"General Copyright Questions:"})}),a.jsx("p",{className:"font-mono mb-1",children:"Email: legal@agentbio.net"}),a.jsx("p",{className:"font-mono mb-4",children:"Subject: Copyright Inquiry"}),a.jsx("p",{className:"font-mono mb-2 mt-4",children:a.jsx("strong",{children:"Trademark Issues:"})}),a.jsx("p",{className:"font-mono mb-1",children:"Email: legal@agentbio.net"}),a.jsx("p",{className:"font-mono",children:"Subject: Trademark Complaint"})]})]}),a.jsxs("div",{className:"mt-12 p-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[a.jsx("h3",{className:"text-xl font-semibold mb-3 text-red-900 dark:text-red-100",children:" Important Notice to Agents"}),a.jsx("p",{className:"mb-2 text-red-900 dark:text-red-100",children:a.jsx("strong",{children:"Copyright infringement is serious:"})}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-red-900 dark:text-red-100 mb-3",children:[a.jsx("li",{children:"Statutory damages range from $750 to $30,000 per work (up to $150,000 if willful)"}),a.jsx("li",{children:"Copyright owners may sue you directly for infringement"}),a.jsx("li",{children:"Three DMCA notices in 12 months results in permanent account termination"}),a.jsx("li",{children:"You are personally liable for photos you upload without authorization"})]}),a.jsxs("p",{className:"text-red-900 dark:text-red-100",children:[a.jsx("strong",{children:"When in doubt, don't upload."})," Use only photos you own or have explicit written permission to use on third-party platforms."]})]})]})]})}),a.jsx(ym,{})]})}function tUe(){return a.jsxs(a.Fragment,{children:[a.jsx(gm,{}),a.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Acceptable Use Policy"}),a.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[a.jsxs("p",{className:"text-muted-foreground mb-6",children:["Last updated: ",new Date().toLocaleDateString()]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),a.jsx("p",{className:"mb-4",children:'This Acceptable Use Policy ("AUP") governs your use of AgentBio.net and describes prohibited conduct that may result in account suspension or termination. This AUP is incorporated into and part of our Terms of Service.'}),a.jsx("p",{className:"mb-4",children:"By using AgentBio.net, you agree to comply with this AUP. Violations may result in immediate account suspension or termination without notice or refund, and may be reported to law enforcement authorities when appropriate."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Prohibited Content"}),a.jsx("p",{className:"mb-4",children:"You may NOT upload, post, transmit, or otherwise make available through AgentBio.net any content that:"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"2.1 Violates Intellectual Property Rights"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Infringes any copyright, trademark, patent, trade secret, or other intellectual property right"}),a.jsx("li",{children:"Uses photos you do not own or have authorization to use"}),a.jsx("li",{children:"Displays brokerage logos or trademarks without current authorization"}),a.jsx("li",{children:"Uses the REALTOR mark without active NAR membership"}),a.jsx("li",{children:"Copies content, photos, or descriptions from other agents or websites"}),a.jsx("li",{children:"Uses MLS photos beyond the scope of MLS authorization"}),a.jsx("li",{children:"Violates photographer copyrights or licensing agreements"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"2.2 Violates Fair Housing Laws"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Indicates any preference, limitation, or discrimination based on race, color, religion, sex, handicap, familial status, national origin, or other protected characteristics"}),a.jsx("li",{children:'Uses discriminatory language in property descriptions (e.g., "perfect for single professionals," "great for empty nesters," "ideal Christian community")'}),a.jsx("li",{children:"Displays symbols or imagery suggesting discriminatory preferences"}),a.jsx("li",{children:"Steers clients based on protected characteristics"}),a.jsx("li",{children:"Violates Equal Housing Opportunity requirements"}),a.jsx("li",{children:"Contains any language prohibited by HUD's Fair Housing guidelines"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"2.3 Contains False or Misleading Information"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"False property information (pricing, square footage, features, condition)"}),a.jsx("li",{children:"Misrepresentation of your credentials, licenses, experience, or qualifications"}),a.jsx("li",{children:"Fake testimonials or reviews"}),a.jsx("li",{children:"False claims about sales history or performance"}),a.jsx("li",{children:"Deceptive bait-and-switch tactics"}),a.jsx("li",{children:"Fraudulent investment or financing claims"}),a.jsx("li",{children:"Misrepresentation of property availability or status"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"2.4 Is Illegal or Promotes Illegal Activity"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Violates any federal, state, or local law or regulation"}),a.jsx("li",{children:"Promotes illegal activities or transactions"}),a.jsx("li",{children:"Facilitates money laundering or other financial crimes"}),a.jsx("li",{children:"Violates real estate licensing laws or regulations"}),a.jsx("li",{children:"Breaches fiduciary duties to clients"}),a.jsx("li",{children:"Violates anti-fraud or consumer protection laws"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"2.5 Is Harmful, Abusive, or Offensive"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Harassing, threatening, or abusive content"}),a.jsx("li",{children:"Hate speech or content promoting violence"}),a.jsx("li",{children:"Defamatory, libelous, or slanderous statements"}),a.jsx("li",{children:"Pornographic, sexually explicit, or obscene material"}),a.jsx("li",{children:"Graphic violence or disturbing imagery"}),a.jsx("li",{children:"Content exploiting or harming minors"}),a.jsx("li",{children:"Bullying or targeted harassment of individuals"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"2.6 Violates Privacy Rights"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Posts others' personal information without consent (doxxing)"}),a.jsx("li",{children:"Violates reasonable expectations of privacy"}),a.jsx("li",{children:"Uses testimonials without proper consent"}),a.jsx("li",{children:"Publishes private communications without authorization"}),a.jsx("li",{children:"Misappropriates publicity rights or likeness without permission"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Prohibited Activities"}),a.jsx("p",{className:"mb-4",children:"You may NOT engage in any of the following activities:"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.1 Account Misuse"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Creating multiple accounts to evade enforcement actions"}),a.jsx("li",{children:"Sharing account credentials or allowing unauthorized access"}),a.jsx("li",{children:"Impersonating another person, agent, or entity"}),a.jsx("li",{children:"Creating accounts with false identity information"}),a.jsx("li",{children:"Operating accounts without valid real estate licenses"}),a.jsx("li",{children:"Using accounts after license expiration, suspension, or revocation"}),a.jsx("li",{children:"Transferring accounts to other individuals"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.2 Platform Interference"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Attempting to gain unauthorized access to Platform systems or data"}),a.jsx("li",{children:"Interfering with or disrupting Platform services or servers"}),a.jsx("li",{children:"Circumventing security measures or access controls"}),a.jsx("li",{children:"Probing, scanning, or testing Platform vulnerabilities"}),a.jsx("li",{children:"Overloading systems with excessive requests (DoS attacks)"}),a.jsx("li",{children:"Reverse engineering Platform software or features"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.3 Data Misuse"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Scraping, harvesting, or crawling Platform content or data"}),a.jsx("li",{children:"Using automated tools to collect user information"}),a.jsx("li",{children:"Creating databases of Platform users or listings"}),a.jsx("li",{children:"Selling or licensing Platform data to third parties"}),a.jsx("li",{children:"Using Platform data for spam or unsolicited marketing"}),a.jsx("li",{children:"Reverse-engineering user contact information"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.4 Spam and Malicious Content"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Uploading viruses, malware, or malicious code"}),a.jsx("li",{children:"Sending spam or unsolicited bulk communications"}),a.jsx("li",{children:"Posting repetitive or duplicate content"}),a.jsx("li",{children:"Creating fake engagement (fake views, clicks, or interactions)"}),a.jsx("li",{children:"Link farming or SEO manipulation schemes"}),a.jsx("li",{children:"Phishing attempts or social engineering attacks"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"3.5 Commercial Misuse"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Advertising non-real estate products or services"}),a.jsx("li",{children:"Multi-level marketing or pyramid scheme promotion"}),a.jsx("li",{children:"Affiliate marketing unrelated to real estate services"}),a.jsx("li",{children:"Unauthorized commercial solicitation of other users"}),a.jsx("li",{children:"Posting listings you are not authorized to market"}),a.jsx("li",{children:"False claims about exclusive listings or representation"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Professional Standards"}),a.jsx("p",{className:"mb-4",children:"As a platform for licensed real estate professionals, we expect users to maintain professional standards:"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"4.1 Licensing Requirements"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"You must hold an active, valid real estate license in all states where you claim to practice"}),a.jsx("li",{children:"You must promptly update your profile if your license status changes (suspension, revocation, expiration)"}),a.jsx("li",{children:"You must comply with all state real estate licensing laws and regulations"}),a.jsx("li",{children:"You must display required licensing information as mandated by your state(s)"}),a.jsx("li",{children:"You may not practice real estate without proper authorization"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"4.2 Accuracy and Honesty"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Provide accurate, complete, and current information in your profile"}),a.jsx("li",{children:"Ensure all listing information is accurate to the best of your knowledge"}),a.jsx("li",{children:"Promptly update information when circumstances change"}),a.jsx("li",{children:"Disclose material facts and defects as required by law"}),a.jsx("li",{children:"Do not make promises or guarantees you cannot fulfill"}),a.jsx("li",{children:"Correct errors or inaccuracies when discovered"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"4.3 Ethical Conduct"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Comply with the NAR Code of Ethics (if a REALTOR)"}),a.jsx("li",{children:"Respect fiduciary duties to clients"}),a.jsx("li",{children:"Maintain client confidentiality"}),a.jsx("li",{children:"Avoid conflicts of interest or disclose them appropriately"}),a.jsx("li",{children:"Treat all parties and other agents with respect and professionalism"}),a.jsx("li",{children:"Do not disparage competitors or engage in unfair competitive practices"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"4.4 Brokerage Relationships"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Accurately represent your current brokerage affiliation"}),a.jsx("li",{children:"Remove brokerage logos and trademarks immediately upon leaving a brokerage"}),a.jsx("li",{children:"Comply with your brokerage's policies regarding online marketing"}),a.jsx("li",{children:"Update your profile within 10 days of changing brokerages"}),a.jsx("li",{children:"Do not misrepresent your role or authority within your brokerage"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Fair Housing Compliance"}),a.jsx("p",{className:"mb-4",children:"Compliance with the Fair Housing Act and state fair housing laws is mandatory and strictly enforced."}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"5.1 Prohibited Language and Content"}),a.jsx("p",{className:"mb-4",children:"Your listings, descriptions, and profile must NOT contain:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:'References to race or color (e.g., "diverse neighborhood," "traditional community")'}),a.jsx("li",{children:'Religious references suggesting preference (e.g., "close to churches," "perfect for Christian families")'}),a.jsx("li",{children:'Sex or gender indications (e.g., "bachelor pad," "perfect for career women")'}),a.jsx("li",{children:'Familial status preferences (e.g., "great for empty nesters," "ideal for young families," "adults only," "no kids")'}),a.jsx("li",{children:'Disability or handicap references (e.g., "able-bodied," "great for active individuals," "must see stairs")'}),a.jsx("li",{children:'National origin indicators (e.g., "close to ethnic markets," "English-speaking preferred")'}),a.jsx("li",{children:"Age preferences (except legally qualified senior housing)"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"5.2 Required Equal Housing Opportunity Compliance"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"All listings are available to qualified buyers regardless of protected characteristics"}),a.jsx("li",{children:"Marketing must be conducted in a non-discriminatory manner"}),a.jsx("li",{children:"Agents must display the Equal Housing Opportunity logo in their advertising"}),a.jsx("li",{children:"Any steering or discriminatory practices will result in immediate account termination and reporting to HUD"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"5.3 Reporting Fair Housing Violations"}),a.jsxs("p",{className:"mb-4",children:["If you encounter content that violates fair housing laws, please report it immediately to ",a.jsx("strong",{children:"legal@agentbio.net"}),' with the subject line "Fair Housing Complaint."']}),a.jsx("p",{className:"mb-4",children:"We investigate all fair housing complaints within 24-48 hours and take prompt action, including content removal and account termination when warranted."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Enforcement and Consequences"}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"6.1 Violation Review"}),a.jsx("p",{className:"mb-4",children:"When we become aware of potential AUP violations (through user reports, automated monitoring, or copyright complaints), we will:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Review the reported content or activity"}),a.jsx("li",{children:"Assess the severity and nature of the violation"}),a.jsx("li",{children:"Consider the user's history and any prior violations"}),a.jsx("li",{children:"Take appropriate enforcement action based on our policies"}),a.jsx("li",{children:"Document all actions taken"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"6.2 Enforcement Actions"}),a.jsx("p",{className:"mb-4",children:"Depending on the severity and nature of the violation, we may take the following actions:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Content Removal:"})," Remove specific content that violates this AUP"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Warning:"})," Issue a written warning for first-time or minor violations"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Account Suspension:"})," Temporarily suspend account access (typically 7-30 days)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Account Termination:"})," Permanently terminate account without refund"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Permanent Ban:"})," Prevent creation of future accounts"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Legal Referral:"})," Report serious violations to law enforcement or regulatory authorities"]})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"6.3 Immediate Termination Violations"}),a.jsxs("p",{className:"mb-4",children:["The following violations result in ",a.jsx("strong",{children:"immediate permanent account termination"})," without warning:"]}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Operating without a valid real estate license"}),a.jsx("li",{children:"Egregious Fair Housing Act violations"}),a.jsx("li",{children:"Fraud or deceptive practices causing consumer harm"}),a.jsx("li",{children:"Three DMCA copyright notices within 12 months (repeat infringer policy)"}),a.jsx("li",{children:"Uploading illegal content (child exploitation, terrorism)"}),a.jsx("li",{children:"Hacking, unauthorized access, or security violations"}),a.jsx("li",{children:"Creating accounts to circumvent prior terminations"}),a.jsx("li",{children:"Serious violations of state licensing or consumer protection laws"})]}),a.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"6.4 Appeals"}),a.jsxs("p",{className:"mb-4",children:["You may appeal content removals or account suspensions (but not permanent terminations) by emailing ",a.jsx("strong",{children:"legal@agentbio.net"})," within ",a.jsx("strong",{children:"10 business days"})," of the action. Include:"]}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Your account username and email"}),a.jsx("li",{children:"Description of the enforcement action"}),a.jsx("li",{children:"Explanation of why you believe the action was in error"}),a.jsx("li",{children:"Supporting evidence or documentation"})]}),a.jsx("p",{className:"mb-4",children:"We will review appeals within 10 business days and notify you of our decision. Our decision is final."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Reporting Violations"}),a.jsx("p",{className:"mb-4",children:"If you encounter content or conduct that violates this Acceptable Use Policy, please report it:"}),a.jsxs("div",{className:"bg-muted p-4 rounded-md mb-4",children:[a.jsx("p",{className:"font-mono mb-2",children:a.jsx("strong",{children:"Fair Housing Violations:"})}),a.jsx("p",{className:"font-mono mb-1",children:"Email: legal@agentbio.net"}),a.jsx("p",{className:"font-mono mb-4",children:"Subject: Fair Housing Complaint"}),a.jsx("p",{className:"font-mono mb-2 mt-4",children:a.jsx("strong",{children:"Copyright Infringement:"})}),a.jsx("p",{className:"font-mono mb-1",children:"Email: dmca@agentbio.net"}),a.jsx("p",{className:"font-mono mb-4",children:"Subject: DMCA Takedown Notice"}),a.jsx("p",{className:"font-mono mb-2 mt-4",children:a.jsx("strong",{children:"Other AUP Violations:"})}),a.jsx("p",{className:"font-mono mb-1",children:"Email: support@agentbio.net"}),a.jsx("p",{className:"font-mono mb-1",children:"Subject: AUP Violation Report"}),a.jsx("p",{className:"font-mono",children:"Include: URL of content, description of violation, your contact information"})]}),a.jsx("p",{className:"mb-4",children:"We review all reports and take appropriate action. However, we cannot respond individually to every report or disclose specific enforcement actions taken against other users due to privacy considerations."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Platform Rights and Discretion"}),a.jsx("p",{className:"mb-4",children:"AgentBio.net reserves the right to:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Remove any content for any reason, with or without notice"}),a.jsx("li",{children:"Suspend or terminate any account for violations or suspicious activity"}),a.jsx("li",{children:"Modify this AUP at any time with notice to users"}),a.jsx("li",{children:"Refuse service to anyone for any lawful reason"}),a.jsx("li",{children:"Cooperate with law enforcement investigations"}),a.jsx("li",{children:"Report illegal activity to appropriate authorities"}),a.jsx("li",{children:"Implement additional content moderation or filtering systems"})]}),a.jsx("p",{className:"mb-4",children:"We are not obligated to pre-screen content but may do so at our discretion. Our failure to enforce this AUP in one instance does not waive our right to enforce it in other instances."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Updates to This Policy"}),a.jsx("p",{className:"mb-4",children:"We may update this Acceptable Use Policy from time to time. Material changes will be communicated via:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[a.jsx("li",{children:"Email notification at least 30 days in advance"}),a.jsx("li",{children:"Prominent notice on the Platform"}),a.jsx("li",{children:'Updated "Last Updated" date at the top of this policy'})]}),a.jsx("p",{className:"mb-4",children:"Your continued use of the Platform after changes become effective constitutes acceptance of the updated AUP."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Contact Information"}),a.jsx("p",{className:"mb-4",children:"Questions about this Acceptable Use Policy should be sent to:"}),a.jsxs("div",{className:"bg-muted p-4 rounded-md mb-4",children:[a.jsx("p",{className:"font-mono",children:"Email: legal@agentbio.net"}),a.jsx("p",{className:"font-mono",children:"Subject: Acceptable Use Policy Question"})]})]}),a.jsxs("div",{className:"mt-12 p-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[a.jsx("h3",{className:"text-xl font-semibold mb-3 text-blue-900 dark:text-blue-100",children:" Key Takeaways"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-blue-900 dark:text-blue-100",children:[a.jsx("li",{children:"Only upload content you own or have explicit authorization to use"}),a.jsx("li",{children:"Ensure all content complies with Fair Housing laws"}),a.jsx("li",{children:"Maintain accurate, honest information in your profile and listings"}),a.jsx("li",{children:"Keep your license current and update profile if status changes"}),a.jsx("li",{children:"Treat all users with respect and professionalism"}),a.jsx("li",{children:"Report violations to help maintain platform integrity"}),a.jsx("li",{children:"Violations may result in account termination without refund"})]})]})]})]})}),a.jsx(ym,{})]})}var Uk="Switch",[nUe]=Rc(Uk),[rUe,iUe]=nUe(Uk),Rae=C.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,p]=C.useState(null),m=Kr(e,S=>p(S)),y=C.useRef(!1),b=f?d||!!f.closest("form"):!0,[v,_]=Kp({prop:i,defaultProp:s??!1,onChange:u,caller:Uk});return a.jsxs(rUe,{scope:n,checked:v,disabled:l,children:[a.jsx(Fn.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":Fae(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:m,onClick:Yn(t.onClick,S=>{_(j=>!j),b&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})}),b&&a.jsx(Dae,{control:f,bubbles:!y.current,name:r,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Rae.displayName=Uk;var Iae="SwitchThumb",Lae=C.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=iUe(Iae,n);return a.jsx(Fn.span,{"data-state":Fae(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Lae.displayName=Iae;var sUe="SwitchBubbleInput",Dae=C.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=C.useRef(null),l=Kr(o,s),c=mB(n),u=dB(e);return C.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const m=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(m)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Dae.displayName=sUe;function Fae(t){return t?"checked":"unchecked"}var Uae=Rae,aUe=Lae;const rm=C.forwardRef(({className:t,...e},n)=>a.jsx(Uae,{className:xt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:a.jsx(aUe,{className:xt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rm.displayName=Uae.displayName;const oUe=()=>{var o,l;const{data:t}=Xr({queryKey:["session"],queryFn:async()=>{const{data:c}=await Ye.auth.getSession();return c.session}}),{data:e,isLoading:n}=Xr({queryKey:["user-subscription",(o=t==null?void 0:t.user)==null?void 0:o.id],queryFn:async()=>{var d;if(!((d=t==null?void 0:t.user)!=null&&d.id))return null;const{data:c,error:u}=await Ye.rpc("get_user_plan",{_user_id:t.user.id});if(u)throw u;return c},enabled:!!((l=t==null?void 0:t.user)!=null&&l.id)}),{data:r}=Xr({queryKey:["subscription-plans"],queryFn:async()=>{const{data:c,error:u}=await Ye.from("subscription_plans").select("*").eq("is_active",!0).order("sort_order");if(u)throw u;return c}});return{subscription:e,plans:r,isLoading:n,checkLimit:(c,u)=>{if(!(e!=null&&e.limits))return u<3;const d=e.limits[c];return d===-1?!0:d===void 0?!1:u<d},hasFeature:c=>e!=null&&e.features?e.features[c]===!0:!1,isPro:(e==null?void 0:e.plan_name)==="professional"||(e==null?void 0:e.plan_name)==="team"||(e==null?void 0:e.plan_name)==="enterprise",isTeam:(e==null?void 0:e.plan_name)==="team"||(e==null?void 0:e.plan_name)==="enterprise"}},lUe=1,cUe=1e6;let NL=0;function uUe(){return NL=(NL+1)%Number.MAX_VALUE,NL.toString()}const TL=new Map,q9=t=>{if(TL.has(t))return;const e=setTimeout(()=>{TL.delete(t),Q1({type:"REMOVE_TOAST",toastId:t})},cUe);TL.set(t,e)},dUe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,lUe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?q9(n):t.toasts.forEach(r=>{q9(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},wM=[];let _M={toasts:[]};function Q1(t){_M=dUe(_M,t),wM.forEach(e=>{e(_M)})}function hUe({...t}){const e=uUe(),n=i=>Q1({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Q1({type:"DISMISS_TOAST",toastId:e});return Q1({type:"ADD_TOAST",toast:{...t,id:e}}),{id:e,dismiss:r,update:n}}function Ud(){const[t,e]=C.useState(_M);return C.useEffect(()=>(wM.push(e),()=>{const n=wM.indexOf(e);n>-1&&wM.splice(n,1)}),[t]),{...t,toast:hUe,dismiss:n=>Q1({type:"DISMISS_TOAST",toastId:n})}}function fUe(){const[t,e]=C.useState(!1),{plans:n,subscription:r}=oUe(),{toast:i}=Ud(),s={"@context":"https://schema.org","@type":"ProductGroup",name:"AgentBio Subscription Plans",description:"Choose the perfect plan for your real estate business"},o=async d=>{try{const{data:{session:h}}=await Ye.auth.getSession();if(!h){i({title:"Authentication required",description:"Please sign in to subscribe",variant:"destructive"});return}const{data:f,error:p}=await Ye.functions.invoke("create-checkout-session",{body:{priceId:t?d.replace("monthly","yearly"):d,successUrl:`${window.location.origin}/dashboard?subscription=success`,cancelUrl:`${window.location.origin}/pricing`}});if(p)throw p;f.url&&(window.location.href=f.url)}catch{i({title:"Error",description:"Failed to create checkout session",variant:"destructive"})}},l=d=>{const h=t?d.price_yearly:d.price_monthly;return h===0?"Free":`$${h}`},c=()=>t?"/year":"/month",u=d=>(r==null?void 0:r.plan_name)===d;return a.jsxs(a.Fragment,{children:[a.jsx(eB,{title:"Pricing - AgentBio Professional Plans",description:"Choose the perfect plan for your real estate business. Start free and scale as you grow with AgentBio.",keywords:["real estate pricing","agent subscriptions","link in bio plans"],canonicalUrl:`${window.location.origin}/pricing`,schema:s}),a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(gm,{}),a.jsx("div",{className:"bg-gradient-to-br from-background via-background to-primary/5 py-20 px-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Choose Your Plan"}),a.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Start free and scale as you grow"}),a.jsxs("div",{className:"flex items-center justify-center gap-4",children:[a.jsx("span",{className:t?"text-muted-foreground":"font-semibold",children:"Monthly"}),a.jsx(rm,{checked:t,onCheckedChange:e}),a.jsxs("span",{className:t?"font-semibold":"text-muted-foreground",children:["Yearly ",a.jsx("span",{className:"text-primary text-sm",children:"(Save 17%)"})]})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:n==null?void 0:n.map(d=>a.jsxs(Qt,{className:`relative ${d.name==="professional"?"border-primary shadow-lg shadow-primary/20 scale-105":""}`,children:[d.name==="professional"&&a.jsxs("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground px-4 py-1 rounded-full text-sm font-semibold flex items-center gap-2",children:[a.jsx(Vh,{className:"w-4 h-4"}),"Most Popular"]}),a.jsxs(dr,{children:[a.jsx(hr,{className:"text-2xl capitalize",children:d.name}),a.jsxs(qr,{children:[a.jsx("span",{className:"text-4xl font-bold text-foreground",children:l(d)}),d.price_monthly>0&&a.jsx("span",{className:"text-muted-foreground",children:c()}),d.name==="team"&&a.jsx("div",{className:"text-sm mt-2",children:"per agent (5 minimum)"})]})]}),a.jsx(vn,{children:a.jsxs("ul",{className:"space-y-3",children:[d.limits.listings!==void 0&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(cd,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),a.jsxs("span",{className:"text-sm",children:[d.limits.listings===-1?"Unlimited":d.limits.listings," active listings"]})]}),d.limits.links!==void 0&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(cd,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),a.jsxs("span",{className:"text-sm",children:[d.limits.links===-1?"Unlimited":d.limits.links," custom links"]})]}),d.limits.testimonials!==void 0&&d.limits.testimonials>0&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(cd,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),a.jsxs("span",{className:"text-sm",children:[d.limits.testimonials===-1?"Unlimited":d.limits.testimonials," testimonials"]})]}),d.limits.analytics_days&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(cd,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),a.jsxs("span",{className:"text-sm",children:[d.limits.analytics_days===-1?"Unlimited":`${d.limits.analytics_days}-day`," analytics"]})]}),Object.entries(d.features).map(([h,f])=>f&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(cd,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm capitalize",children:h.replace(/_/g," ")})]},h))]})}),a.jsx(zP,{children:a.jsx(He,{className:"w-full",variant:d.name==="professional"?"default":"outline",disabled:u(d.name)||d.name==="enterprise"||!d.stripe_price_id,onClick:()=>d.stripe_price_id&&o(d.stripe_price_id),asChild:d.name==="free",children:d.name==="free"?a.jsx(xn,{to:"/register",children:"Get Started"}):u(d.name)?"Current Plan":d.name==="enterprise"?"Contact Sales":d.stripe_price_id?"Subscribe":"Coming Soon"})})]},d.id))}),a.jsxs("div",{className:"mt-16 text-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Add-Ons Available"}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 max-w-4xl mx-auto",children:[a.jsxs(Qt,{className:"p-4",children:[a.jsx("p",{className:"font-semibold",children:"Premium Themes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"$15 one-time"})]}),a.jsxs(Qt,{className:"p-4",children:[a.jsx("p",{className:"font-semibold",children:"MLS Integration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"$25/month"})]}),a.jsxs(Qt,{className:"p-4",children:[a.jsx("p",{className:"font-semibold",children:"CRM Connectors"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"$20/month each"})]}),a.jsxs(Qt,{className:"p-4",children:[a.jsx("p",{className:"font-semibold",children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"$15/month"})]})]})]})]})}),a.jsx(ym,{})]})]})}function pUe({totalArticles:t,latestArticleDate:e}){const n="Plain Page Link",r=window.location.origin,i=`${r}/blog`,s="Real Estate Blog - Tips, Guides & Market Insights",o="Discover expert real estate advice, market insights, buying and selling guides, investment tips, and neighborhood information. Stay informed with our comprehensive blog for agents, buyers, and sellers.",l={"@context":"https://schema.org","@type":"Blog","@id":i,name:s,description:o,url:i,publisher:{"@type":"Organization",name:n,logo:{"@type":"ImageObject",url:`${r}/Cover.png`}},inLanguage:"en-US",...e&&{dateModified:e}},c={"@context":"https://schema.org","@type":"Organization",name:n,url:r,logo:{"@type":"ImageObject",url:`${r}/Cover.png`},sameAs:[]},u={"@context":"https://schema.org","@type":"WebSite","@id":r,name:n,url:r,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${i}?search={search_term_string}`},"query-input":"required name=search_term_string"}},d={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:r},{"@type":"ListItem",position:2,name:"Blog",item:i}]};return a.jsxs(MP,{children:[a.jsx("title",{children:s}),a.jsx("meta",{name:"description",content:o}),a.jsx("meta",{name:"keywords",content:"real estate blog, real estate tips, home buying guide, selling guide, market insights, investment tips, neighborhood guides, real estate agents, property advice"}),a.jsx("link",{rel:"canonical",href:i}),a.jsx("meta",{property:"og:type",content:"website"}),a.jsx("meta",{property:"og:url",content:i}),a.jsx("meta",{property:"og:title",content:s}),a.jsx("meta",{property:"og:description",content:o}),a.jsx("meta",{property:"og:image",content:`${r}/Cover.png`}),a.jsx("meta",{property:"og:image:width",content:"1200"}),a.jsx("meta",{property:"og:image:height",content:"630"}),a.jsx("meta",{property:"og:site_name",content:n}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:url",content:i}),a.jsx("meta",{name:"twitter:title",content:s}),a.jsx("meta",{name:"twitter:description",content:o}),a.jsx("meta",{name:"twitter:image",content:`${r}/Cover.png`}),a.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),a.jsx("meta",{name:"googlebot",content:"index, follow"}),a.jsx("meta",{name:"bingbot",content:"index, follow"}),a.jsx("meta",{property:"article:publisher",content:n}),a.jsx("meta",{property:"article:section",content:"Real Estate"}),a.jsx("meta",{name:"author",content:n}),a.jsx("meta",{name:"language",content:"English"}),a.jsx("meta",{httpEquiv:"content-language",content:"en-US"}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(l)}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(c)}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(u)}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(d)})]})}function mUe(){const[t,e]=C.useState(""),[n,r]=C.useState("all"),{data:i=[],isLoading:s}=Xr({queryKey:["published-articles"],queryFn:async()=>{const{data:u,error:d}=await Ye.from("articles").select("*").eq("status","published").order("published_at",{ascending:!1});if(d)throw d;return u}}),o=["all","Real Estate Tips","Market Insights","Buying Guide","Selling Guide","Investment","Neighborhood Guides","Home Improvement","General"],l=i.filter(u=>{var f;const d=!t||u.title.toLowerCase().includes(t.toLowerCase())||((f=u.excerpt)==null?void 0:f.toLowerCase().includes(t.toLowerCase())),h=n==="all"||u.category===n;return d&&h}),c=C.useMemo(()=>{var u;if(i.length!==0)return(u=i[0])==null?void 0:u.published_at},[i]);return a.jsxs(a.Fragment,{children:[a.jsx(pUe,{totalArticles:i.length,latestArticleDate:c}),a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx(gm,{}),a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-b",children:a.jsx("div",{className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"max-w-3xl",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Real Estate Blog"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Expert tips, market insights, and comprehensive guides for homebuyers, sellers, and real estate professionals"})]})})}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(av,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Yt,{placeholder:"Search articles...",value:t,onChange:u=>e(u.target.value),className:"pl-10"})]}),a.jsxs($n,{value:n,onValueChange:r,children:[a.jsx(Ln,{className:"w-full sm:w-[200px]",children:a.jsx(Hn,{})}),a.jsx(Dn,{children:o.map(u=>a.jsx(Ie,{value:u,children:u==="all"?"All Categories":u},u))})]})]}),s?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading articles..."})}):l.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No articles found"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(u=>{var d;return a.jsx(xn,{to:`/blog/${u.slug}`,children:a.jsxs(Qt,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[u.featured_image_url&&a.jsx("img",{src:u.featured_image_url,alt:u.title,className:"w-full h-48 object-cover rounded-t-lg"}),a.jsxs(dr,{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(nn,{variant:"secondary",children:u.category}),(d=u.tags)==null?void 0:d.slice(0,2).map(h=>a.jsx(nn,{variant:"outline",className:"text-xs",children:h},h))]}),a.jsx(hr,{className:"line-clamp-2",children:u.title}),a.jsx(qr,{className:"line-clamp-3",children:u.excerpt})]}),a.jsxs(zP,{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Eo,{className:"h-4 w-4"}),new Date(u.published_at).toLocaleDateString()]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Wa,{className:"h-4 w-4"}),u.view_count," views"]})]})]})},u.id)})})]}),a.jsx(ym,{})]})]})}var gUe="Separator",Y9="horizontal",yUe=["horizontal","vertical"],Bae=C.forwardRef((t,e)=>{const{decorative:n,orientation:r=Y9,...i}=t,s=vUe(r)?r:Y9,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(Fn.div,{"data-orientation":s,...l,...i,ref:e})});Bae.displayName=gUe;function vUe(t){return yUe.includes(t)}var zae=Bae;const $ae=C.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>a.jsx(zae,{ref:i,decorative:n,orientation:e,className:xt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));$ae.displayName=zae.displayName;function xUe({title:t,description:e,url:n,imageUrl:r,publishedTime:i,modifiedTime:s,author:o="Real Estate Expert",tags:l=[],category:c="Real Estate",wordCount:u,readingTime:d}){const h="Plain Page Link",f=window.location.origin,p=`${f}${n}`,m=r||`${f}/Cover.png`,y={"@context":"https://schema.org","@type":"BlogPosting",headline:t,description:e,image:{"@type":"ImageObject",url:m,width:1200,height:630},datePublished:i,dateModified:s||i,author:{"@type":"Person",name:o,url:f},publisher:{"@type":"Organization",name:h,logo:{"@type":"ImageObject",url:`${f}/Cover.png`},url:f},mainEntityOfPage:{"@type":"WebPage","@id":p},articleSection:c,keywords:l.join(", "),...u&&{wordCount:u},inLanguage:"en-US",isAccessibleForFree:!0,backstory:e},b={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:f},{"@type":"ListItem",position:2,name:"Blog",item:`${f}/blog`},{"@type":"ListItem",position:3,name:t,item:p}]},v={"@context":"https://schema.org","@type":"WebPage","@id":p,url:p,name:t,description:e,isPartOf:{"@type":"WebSite","@id":f,name:h,url:f},primaryImageOfPage:{"@type":"ImageObject",url:m},inLanguage:"en-US",potentialAction:{"@type":"ReadAction",target:[p]}};return a.jsxs(MP,{children:[a.jsxs("title",{children:[t," | ",h]}),a.jsx("meta",{name:"description",content:e}),a.jsx("meta",{name:"keywords",content:l.join(", ")}),a.jsx("link",{rel:"canonical",href:p}),a.jsx("meta",{property:"og:type",content:"article"}),a.jsx("meta",{property:"og:url",content:p}),a.jsx("meta",{property:"og:title",content:t}),a.jsx("meta",{property:"og:description",content:e}),a.jsx("meta",{property:"og:image",content:m}),a.jsx("meta",{property:"og:image:width",content:"1200"}),a.jsx("meta",{property:"og:image:height",content:"630"}),a.jsx("meta",{property:"og:site_name",content:h}),i&&a.jsx("meta",{property:"article:published_time",content:i}),s&&a.jsx("meta",{property:"article:modified_time",content:s}),c&&a.jsx("meta",{property:"article:section",content:c}),l.map(_=>a.jsx("meta",{property:"article:tag",content:_},_)),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:url",content:p}),a.jsx("meta",{name:"twitter:title",content:t}),a.jsx("meta",{name:"twitter:description",content:e}),a.jsx("meta",{name:"twitter:image",content:m}),a.jsx("meta",{name:"twitter:creator",content:o}),a.jsx("meta",{name:"twitter:label1",content:"Reading time"}),d&&a.jsx("meta",{name:"twitter:data1",content:d}),a.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),a.jsx("meta",{name:"googlebot",content:"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"}),a.jsx("meta",{name:"bingbot",content:"index, follow"}),a.jsx("meta",{name:"googlebot-news",content:"snippet"}),a.jsx("meta",{property:"article:author",content:o}),a.jsx("meta",{name:"author",content:o}),a.jsx("meta",{name:"article:content_tier",content:"free"}),a.jsx("meta",{name:"language",content:"English"}),a.jsx("meta",{httpEquiv:"content-language",content:"en-US"}),a.jsx("meta",{name:"citation_title",content:t}),a.jsx("meta",{name:"citation_author",content:o}),i&&a.jsx("meta",{name:"citation_publication_date",content:i}),a.jsx("meta",{name:"citation_language",content:"en"}),a.jsx("meta",{property:"og:locale",content:"en_US"}),a.jsx("meta",{property:"og:site_name",content:h}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(y)}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(b)}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(v)})]})}function bUe({currentArticleId:t,category:e,tags:n=[],limit:r=3}){const{data:i=[]}=Xr({queryKey:["similar-articles",t,e],queryFn:async()=>{let s=Ye.from("articles").select("*").eq("status","published").neq("id",t);n.length>0?s=s.overlaps("tags",n):s=s.eq("category",e);const{data:o,error:l}=await s.limit(r).order("published_at",{ascending:!1});if(l)throw l;if(!o||o.length<r){const{data:c,error:u}=await Ye.from("articles").select("*").eq("status","published").eq("category",e).neq("id",t).limit(r-((o==null?void 0:o.length)||0)).order("published_at",{ascending:!1});if(u)throw u;const d=[...o||[],...c||[]];return Array.from(new Map(d.map(f=>[f.id,f])).values()).slice(0,r)}return o}});return i.length===0?null:a.jsxs("div",{className:"mt-12 pt-8 border-t",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Similar Articles"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map(s=>a.jsx(xn,{to:`/blog/${s.slug}`,children:a.jsxs(Qt,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[s.featured_image_url&&a.jsx("img",{src:s.featured_image_url,alt:s.title,className:"w-full h-32 object-cover rounded-t-lg"}),a.jsxs(dr,{children:[a.jsx(nn,{variant:"secondary",className:"w-fit mb-2",children:s.category}),a.jsx(hr,{className:"text-lg line-clamp-2",children:s.title}),a.jsx(qr,{className:"line-clamp-2",children:s.excerpt})]}),a.jsx(vn,{children:a.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[a.jsx(Eo,{className:"h-3 w-3"}),new Date(s.published_at).toLocaleDateString()]})})]})},s.id))})]})}function wUe({items:t}){return a.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",itemScope:!0,itemType:"https://schema.org/BreadcrumbList",children:[a.jsxs(xn,{to:"/",className:"flex items-center gap-1 hover:text-foreground transition-colors",itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/ListItem",children:[a.jsx(Ci,{className:"h-4 w-4"}),a.jsx("span",{itemProp:"name",children:"Home"}),a.jsx("meta",{itemProp:"position",content:"1"}),a.jsx("link",{itemProp:"item",href:window.location.origin})]}),t.map((e,n)=>{const r=n+2,i=n===t.length-1;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sb,{className:"h-4 w-4"}),e.href&&!i?a.jsxs(xn,{to:e.href,className:"hover:text-foreground transition-colors",itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/ListItem",children:[a.jsx("span",{itemProp:"name",children:e.label}),a.jsx("meta",{itemProp:"position",content:r.toString()}),a.jsx("link",{itemProp:"item",href:`${window.location.origin}${e.href}`})]}):a.jsxs("span",{className:i?"font-medium text-foreground":"",itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/ListItem",children:[a.jsx("span",{itemProp:"name",children:e.label}),a.jsx("meta",{itemProp:"position",content:r.toString()}),e.href&&a.jsx("link",{itemProp:"item",href:`${window.location.origin}${e.href}`})]})]},n)})]})}function _Ue(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const SUe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,EUe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jUe={};function X9(t,e){return(jUe.jsx?EUe:SUe).test(t)}const AUe=/[ \t\n\f\r]/g;function NUe(t){return typeof t=="object"?t.type==="text"?K9(t.value):!1:K9(t)}function K9(t){return t.replace(AUe,"")===""}class Pj{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Pj.prototype.normal={};Pj.prototype.property={};Pj.prototype.space=void 0;function Hae(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Pj(n,r,e)}function G4(t){return t.toLowerCase()}class nl{constructor(e,n){this.attribute=n,this.property=e}}nl.prototype.attribute="";nl.prototype.booleanish=!1;nl.prototype.boolean=!1;nl.prototype.commaOrSpaceSeparated=!1;nl.prototype.commaSeparated=!1;nl.prototype.defined=!1;nl.prototype.mustUseProperty=!1;nl.prototype.number=!1;nl.prototype.overloadedBoolean=!1;nl.prototype.property="";nl.prototype.spaceSeparated=!1;nl.prototype.space=void 0;let TUe=0;const sr=fv(),js=fv(),q4=fv(),Nt=fv(),gi=fv(),M0=fv(),_l=fv();function fv(){return 2**++TUe}const Y4=Object.freeze(Object.defineProperty({__proto__:null,boolean:sr,booleanish:js,commaOrSpaceSeparated:_l,commaSeparated:M0,number:Nt,overloadedBoolean:q4,spaceSeparated:gi},Symbol.toStringTag,{value:"Module"})),ML=Object.keys(Y4);class Rz extends nl{constructor(e,n,r,i){let s=-1;if(super(e,n),Z9(this,"space",i),typeof r=="number")for(;++s<ML.length;){const o=ML[s];Z9(this,ML[s],(r&Y4[o])===Y4[o])}}}Rz.prototype.defined=!0;function Z9(t,e,n){n&&(t[e]=n)}function dw(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new Rz(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[G4(r)]=r,n[G4(s.attribute)]=r}return new Pj(e,n,t.space)}const Vae=dw({properties:{ariaActiveDescendant:null,ariaAtomic:js,ariaAutoComplete:null,ariaBusy:js,ariaChecked:js,ariaColCount:Nt,ariaColIndex:Nt,ariaColSpan:Nt,ariaControls:gi,ariaCurrent:null,ariaDescribedBy:gi,ariaDetails:null,ariaDisabled:js,ariaDropEffect:gi,ariaErrorMessage:null,ariaExpanded:js,ariaFlowTo:gi,ariaGrabbed:js,ariaHasPopup:null,ariaHidden:js,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gi,ariaLevel:Nt,ariaLive:null,ariaModal:js,ariaMultiLine:js,ariaMultiSelectable:js,ariaOrientation:null,ariaOwns:gi,ariaPlaceholder:null,ariaPosInSet:Nt,ariaPressed:js,ariaReadOnly:js,ariaRelevant:null,ariaRequired:js,ariaRoleDescription:gi,ariaRowCount:Nt,ariaRowIndex:Nt,ariaRowSpan:Nt,ariaSelected:js,ariaSetSize:Nt,ariaSort:null,ariaValueMax:Nt,ariaValueMin:Nt,ariaValueNow:Nt,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Wae(t,e){return e in t?t[e]:e}function Gae(t,e){return Wae(t,e.toLowerCase())}const MUe=dw({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:M0,acceptCharset:gi,accessKey:gi,action:null,allow:null,allowFullScreen:sr,allowPaymentRequest:sr,allowUserMedia:sr,alt:null,as:null,async:sr,autoCapitalize:null,autoComplete:gi,autoFocus:sr,autoPlay:sr,blocking:gi,capture:null,charSet:null,checked:sr,cite:null,className:gi,cols:Nt,colSpan:null,content:null,contentEditable:js,controls:sr,controlsList:gi,coords:Nt|M0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:sr,defer:sr,dir:null,dirName:null,disabled:sr,download:q4,draggable:js,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:sr,formTarget:null,headers:gi,height:Nt,hidden:q4,high:Nt,href:null,hrefLang:null,htmlFor:gi,httpEquiv:gi,id:null,imageSizes:null,imageSrcSet:null,inert:sr,inputMode:null,integrity:null,is:null,isMap:sr,itemId:null,itemProp:gi,itemRef:gi,itemScope:sr,itemType:gi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:sr,low:Nt,manifest:null,max:null,maxLength:Nt,media:null,method:null,min:null,minLength:Nt,multiple:sr,muted:sr,name:null,nonce:null,noModule:sr,noValidate:sr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:sr,optimum:Nt,pattern:null,ping:gi,placeholder:null,playsInline:sr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:sr,referrerPolicy:null,rel:gi,required:sr,reversed:sr,rows:Nt,rowSpan:Nt,sandbox:gi,scope:null,scoped:sr,seamless:sr,selected:sr,shadowRootClonable:sr,shadowRootDelegatesFocus:sr,shadowRootMode:null,shape:null,size:Nt,sizes:null,slot:null,span:Nt,spellCheck:js,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Nt,step:null,style:null,tabIndex:Nt,target:null,title:null,translate:null,type:null,typeMustMatch:sr,useMap:null,value:js,width:Nt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gi,axis:null,background:null,bgColor:null,border:Nt,borderColor:null,bottomMargin:Nt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:sr,declare:sr,event:null,face:null,frame:null,frameBorder:null,hSpace:Nt,leftMargin:Nt,link:null,longDesc:null,lowSrc:null,marginHeight:Nt,marginWidth:Nt,noResize:sr,noHref:sr,noShade:sr,noWrap:sr,object:null,profile:null,prompt:null,rev:null,rightMargin:Nt,rules:null,scheme:null,scrolling:js,standby:null,summary:null,text:null,topMargin:Nt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Nt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:sr,disableRemotePlayback:sr,prefix:null,property:null,results:Nt,security:null,unselectable:null},space:"html",transform:Gae}),CUe=dw({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:_l,accentHeight:Nt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Nt,amplitude:Nt,arabicForm:null,ascent:Nt,attributeName:null,attributeType:null,azimuth:Nt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Nt,by:null,calcMode:null,capHeight:Nt,className:gi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Nt,diffuseConstant:Nt,direction:null,display:null,dur:null,divisor:Nt,dominantBaseline:null,download:sr,dx:null,dy:null,edgeMode:null,editable:null,elevation:Nt,enableBackground:null,end:null,event:null,exponent:Nt,externalResourcesRequired:null,fill:null,fillOpacity:Nt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:M0,g2:M0,glyphName:M0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Nt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Nt,horizOriginX:Nt,horizOriginY:Nt,id:null,ideographic:Nt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Nt,k:Nt,k1:Nt,k2:Nt,k3:Nt,k4:Nt,kernelMatrix:_l,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Nt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Nt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Nt,overlineThickness:Nt,paintOrder:null,panose1:null,path:null,pathLength:Nt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Nt,pointsAtY:Nt,pointsAtZ:Nt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_l,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_l,rev:_l,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_l,requiredFeatures:_l,requiredFonts:_l,requiredFormats:_l,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Nt,specularExponent:Nt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Nt,strikethroughThickness:Nt,string:null,stroke:null,strokeDashArray:_l,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Nt,strokeOpacity:Nt,strokeWidth:null,style:null,surfaceScale:Nt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_l,tabIndex:Nt,tableValues:null,target:null,targetX:Nt,targetY:Nt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_l,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Nt,underlineThickness:Nt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Nt,values:null,vAlphabetic:Nt,vMathematical:Nt,vectorEffect:null,vHanging:Nt,vIdeographic:Nt,version:null,vertAdvY:Nt,vertOriginX:Nt,vertOriginY:Nt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Nt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Wae}),qae=dw({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Yae=dw({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Gae}),Xae=dw({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),PUe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},kUe=/[A-Z]/g,Q9=/-[a-z]/g,OUe=/^data[-\w.:]+$/i;function RUe(t,e){const n=G4(e);let r=e,i=nl;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&OUe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Q9,LUe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Q9.test(s)){let o=s.replace(kUe,IUe);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=Rz}return new i(r,e)}function IUe(t){return"-"+t.toLowerCase()}function LUe(t){return t.charAt(1).toUpperCase()}const DUe=Hae([Vae,MUe,qae,Yae,Xae],"html"),Iz=Hae([Vae,CUe,qae,Yae,Xae],"svg");function FUe(t){return t.join(" ").trim()}var Lz={},J9=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,UUe=/\n/g,BUe=/^\s*/,zUe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,$Ue=/^:\s*/,HUe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,VUe=/^[;\s]*/,WUe=/^\s+|\s+$/g,GUe=`
`,e7="/",t7="*",Vg="",qUe="comment",YUe="declaration",XUe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var y=m.match(UUe);y&&(n+=y.length);var b=m.lastIndexOf(GUe);r=~b?m.length-b:r+m.length}function s(){var m={line:n,column:r};return function(y){return y.position=new o(m),u(),y}}function o(m){this.start=m,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function l(m){var y=new Error(e.source+":"+n+":"+r+": "+m);if(y.reason=m,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function c(m){var y=m.exec(t);if(y){var b=y[0];return i(b),t=t.slice(b.length),y}}function u(){c(BUe)}function d(m){var y;for(m=m||[];y=h();)y!==!1&&m.push(y);return m}function h(){var m=s();if(!(e7!=t.charAt(0)||t7!=t.charAt(1))){for(var y=2;Vg!=t.charAt(y)&&(t7!=t.charAt(y)||e7!=t.charAt(y+1));)++y;if(y+=2,Vg===t.charAt(y-1))return l("End of comment missing");var b=t.slice(2,y-2);return r+=2,i(b),t=t.slice(y),r+=2,m({type:qUe,comment:b})}}function f(){var m=s(),y=c(zUe);if(y){if(h(),!c($Ue))return l("property missing ':'");var b=c(HUe),v=m({type:YUe,property:n7(y[0].replace(J9,Vg)),value:b?n7(b[0].replace(J9,Vg)):Vg});return c(VUe),v}}function p(){var m=[];d(m);for(var y;y=f();)y!==!1&&(m.push(y),d(m));return m}return u(),p()};function n7(t){return t?t.replace(WUe,Vg):Vg}var KUe=Ml&&Ml.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lz,"__esModule",{value:!0});Lz.default=QUe;const ZUe=KUe(XUe);function QUe(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,ZUe.default)(t),i=typeof e=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:l}=s;i?e(o,l,s):l&&(n=n||{},n[o]=l)}),n}var Bk={};Object.defineProperty(Bk,"__esModule",{value:!0});Bk.camelCase=void 0;var JUe=/^--[a-zA-Z0-9_-]+$/,e5e=/-([a-z])/g,t5e=/^[^-]+$/,n5e=/^-(webkit|moz|ms|o|khtml)-/,r5e=/^-(ms)-/,i5e=function(t){return!t||t5e.test(t)||JUe.test(t)},s5e=function(t,e){return e.toUpperCase()},r7=function(t,e){return"".concat(e,"-")},a5e=function(t,e){return e===void 0&&(e={}),i5e(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(r5e,r7):t=t.replace(n5e,r7),t.replace(e5e,s5e))};Bk.camelCase=a5e;var o5e=Ml&&Ml.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},l5e=o5e(Lz),c5e=Bk;function X4(t,e){var n={};return!t||typeof t!="string"||(0,l5e.default)(t,function(r,i){r&&i&&(n[(0,c5e.camelCase)(r,e)]=i)}),n}X4.default=X4;var u5e=X4;const d5e=jr(u5e),Kae=Zae("end"),Dz=Zae("start");function Zae(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function h5e(t){const e=Dz(t),n=Kae(t);if(e&&n)return{start:e,end:n}}function J1(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?i7(t.position):"start"in t||"end"in t?i7(t):"line"in t||"column"in t?K4(t):""}function K4(t){return s7(t&&t.line)+":"+s7(t&&t.column)}function i7(t){return K4(t&&t.start)+"-"+K4(t&&t.end)}function s7(t){return t&&typeof t=="number"?t:1}class Ka extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=J1(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ka.prototype.file="";Ka.prototype.name="";Ka.prototype.reason="";Ka.prototype.message="";Ka.prototype.stack="";Ka.prototype.column=void 0;Ka.prototype.line=void 0;Ka.prototype.ancestors=void 0;Ka.prototype.cause=void 0;Ka.prototype.fatal=void 0;Ka.prototype.place=void 0;Ka.prototype.ruleId=void 0;Ka.prototype.source=void 0;const Fz={}.hasOwnProperty,f5e=new Map,p5e=/[A-Z]/g,m5e=new Set(["table","tbody","thead","tfoot","tr"]),g5e=new Set(["td","th"]),Qae="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function y5e(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=j5e(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=E5e(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Iz:DUe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=Jae(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function Jae(t,e,n){if(e.type==="element")return v5e(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return x5e(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return w5e(t,e,n);if(e.type==="mdxjsEsm")return b5e(t,e);if(e.type==="root")return _5e(t,e,n);if(e.type==="text")return S5e(t,e)}function v5e(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Iz,t.schema=i),t.ancestors.push(e);const s=toe(t,e.tagName,!1),o=A5e(t,e);let l=Bz(t,e);return m5e.has(e.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!NUe(c):!0})),eoe(t,o,s,e),Uz(o,l),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function x5e(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}dE(t,e.position)}function b5e(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);dE(t,e.position)}function w5e(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Iz,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:toe(t,e.name,!0),o=N5e(t,e),l=Bz(t,e);return eoe(t,o,s,e),Uz(o,l),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function _5e(t,e,n){const r={};return Uz(r,Bz(t,e)),t.create(e,t.Fragment,r,n)}function S5e(t,e){return e.value}function eoe(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Uz(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function E5e(t,e,n){return r;function r(i,s,o,l){const u=Array.isArray(o.children)?n:e;return l?u(s,o,l):u(s,o)}}function j5e(t,e){return n;function n(r,i,s,o){const l=Array.isArray(s.children),c=Dz(r);return e(i,s,o,l,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function A5e(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Fz.call(e.properties,i)){const s=T5e(t,i,e.properties[i]);if(s){const[o,l]=s;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&g5e.has(e.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function N5e(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else dE(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,s=t.evaluater.evaluateExpression(l.expression)}else dE(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Bz(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:f5e;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;o=c+"-"+u,i.set(c,u+1)}}const l=Jae(t,s,o);l!==void 0&&n.push(l)}return n}function T5e(t,e,n){const r=RUe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?_Ue(n):FUe(n)),r.property==="style"){let i=typeof n=="object"?n:M5e(t,String(n));return t.stylePropertyNameCase==="css"&&(i=C5e(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?PUe[r.property]||r.property:r.attribute,n]}}function M5e(t,e){try{return d5e(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Ka("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=Qae+"#cannot-parse-style-attribute",i}}function toe(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const l=X9(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=X9(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Fz.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);dE(t)}function dE(t,e){const n=new Ka("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Qae+"#cannot-handle-mdx-estrees-without-createevaluater",n}function C5e(t){const e={};let n;for(n in t)Fz.call(t,n)&&(e[P5e(n)]=t[n]);return e}function P5e(t){let e=t.replace(p5e,k5e);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function k5e(t){return"-"+t.toLowerCase()}const CL={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},O5e={};function R5e(t,e){const n=O5e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return noe(t,r,i)}function noe(t,e,n){if(I5e(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return a7(t.children,e,n)}return Array.isArray(t)?a7(t,e,n):""}function a7(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=noe(t[i],e,n);return r.join("")}function I5e(t){return!!(t&&typeof t=="object")}const o7=document.createElement("i");function zz(t){const e="&"+t+";";o7.innerHTML=e;const n=o7.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function kd(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function xc(t,e){return t.length>0?(kd(t,t.length,0,e),t):e}const l7={}.hasOwnProperty;function L5e(t){const e={};let n=-1;for(;++n<t.length;)D5e(e,t[n]);return e}function D5e(t,e){let n;for(n in e){const i=(l7.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){l7.call(i,o)||(i[o]=[]);const l=s[o];F5e(i[o],Array.isArray(l)?l:l?[l]:[])}}}function F5e(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);kd(t,0,0,r)}function roe(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function C0(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const dd=Sm(/[A-Za-z]/),Il=Sm(/[\dA-Za-z]/),U5e=Sm(/[#-'*+\--9=?A-Z^-~]/);function Z4(t){return t!==null&&(t<32||t===127)}const Q4=Sm(/\d/),B5e=Sm(/[\dA-Fa-f]/),z5e=Sm(/[!-/:-@[-`{-~]/);function Rn(t){return t!==null&&t<-2}function Xo(t){return t!==null&&(t<0||t===32)}function Br(t){return t===-2||t===-1||t===32}const $5e=Sm(new RegExp("\\p{P}|\\p{S}","u")),H5e=Sm(/\s/);function Sm(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function hw(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Il(t.charCodeAt(n+1))&&Il(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=t.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function wi(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(c){return Br(c)?(t.enter(n),l(c)):e(c)}function l(c){return Br(c)&&s++<i?(t.consume(c),l):(t.exit(n),e(c))}}const V5e={tokenize:W5e};function W5e(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),wi(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),s(l)}function s(l){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return Rn(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),o)}}const G5e={tokenize:q5e},c7={tokenize:Y5e};function q5e(t){const e=this,n=[];let r=0,i,s,o;return l;function l(S){if(r<n.length){const j=n[r];return e.containerState=j[1],t.attempt(j[0].continuation,c,u)(S)}return u(S)}function c(S){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const j=e.events.length;let N=j,A;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){A=e.events[N][1].end;break}v(r);let M=j;for(;M<e.events.length;)e.events[M][1].end={...A},M++;return kd(e.events,N+1,0,e.events.slice(j)),e.events.length=M,u(S)}return l(S)}function u(S){if(r===n.length){if(!i)return f(S);if(i.currentConstruct&&i.currentConstruct.concrete)return m(S);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(c7,d,h)(S)}function d(S){return i&&_(),v(r),f(S)}function h(S){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,m(S)}function f(S){return e.containerState={},t.attempt(c7,p,m)(S)}function p(S){return r++,n.push([e.currentConstruct,e.containerState]),f(S)}function m(S){if(S===null){i&&_(),v(0),t.consume(S);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),y(S)}function y(S){if(S===null){b(t.exit("chunkFlow"),!0),v(0),t.consume(S);return}return Rn(S)?(t.consume(S),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(S),y)}function b(S,j){const N=e.sliceStream(S);if(j&&N.push(null),S.previous=s,s&&(s.next=S),s=S,i.defineSkip(S.start),i.write(N),e.parser.lazy[S.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<o&&(!i.events[A][1].end||i.events[A][1].end.offset>o))return;const M=e.events.length;let k=M,L,O;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(L){O=e.events[k][1].end;break}L=!0}for(v(r),A=M;A<e.events.length;)e.events[A][1].end={...O},A++;kd(e.events,k+1,0,e.events.slice(M)),e.events.length=A}}function v(S){let j=n.length;for(;j-- >S;){const N=n[j];e.containerState=N[1],N[0].exit.call(e,t)}n.length=S}function _(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Y5e(t,e,n){return wi(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function u7(t){if(t===null||Xo(t)||H5e(t))return 1;if($5e(t))return 2}function $z(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const J4={name:"attention",resolveAll:X5e,tokenize:K5e};function X5e(t,e){let n=-1,r,i,s,o,l,c,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},f={...t[n][1].start};d7(h,-c),d7(f,c),o={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},t[r][1].end={...o.start},t[n][1].start={...l.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=xc(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=xc(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=xc(u,$z(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=xc(u,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=xc(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,kd(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function K5e(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=u7(r);let s;return o;function o(c){return s=c,t.enter("attentionSequence"),l(c)}function l(c){if(c===s)return t.consume(c),l;const u=t.exit("attentionSequence"),d=u7(c),h=!d||d===2&&i||n.includes(c),f=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?h:h&&(i||!f)),u._close=!!(s===42?f:f&&(d||!h)),e(c)}}function d7(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Z5e={name:"autolink",tokenize:Q5e};function Q5e(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return dd(p)?(t.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||Il(p)?(r=1,l(p)):u(p)}function l(p){return p===58?(t.consume(p),r=0,c):(p===43||p===45||p===46||Il(p))&&r++<32?(t.consume(p),l):(r=0,u(p))}function c(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||Z4(p)?n(p):(t.consume(p),c)}function u(p){return p===64?(t.consume(p),d):U5e(p)?(t.consume(p),u):n(p)}function d(p){return Il(p)?h(p):n(p)}function h(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||Il(p))&&r++<63){const m=p===45?f:h;return t.consume(p),m}return n(p)}}const zk={partial:!0,tokenize:J5e};function J5e(t,e,n){return r;function r(s){return Br(s)?wi(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Rn(s)?e(s):n(s)}}const ioe={continuation:{tokenize:tBe},exit:nBe,name:"blockQuote",tokenize:eBe};function eBe(t,e,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Br(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function tBe(t,e,n){const r=this;return i;function i(o){return Br(o)?wi(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(ioe,e,n)(o)}}function nBe(t){t.exit("blockQuote")}const soe={name:"characterEscape",tokenize:rBe};function rBe(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return z5e(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const aoe={name:"characterReference",tokenize:iBe};function iBe(t,e,n){const r=this;let i=0,s,o;return l;function l(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),c}function c(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Il,d(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=B5e,d):(t.enter("characterReferenceValue"),s=7,o=Q4,d(h))}function d(h){if(h===59&&i){const f=t.exit("characterReferenceValue");return o===Il&&!zz(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&i++<s?(t.consume(h),d):n(h)}}const h7={partial:!0,tokenize:aBe},f7={concrete:!0,name:"codeFenced",tokenize:sBe};function sBe(t,e,n){const r=this,i={partial:!0,tokenize:N};let s=0,o=0,l;return c;function c(A){return u(A)}function u(A){const M=r.events[r.events.length-1];return s=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,l=A,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(A)}function d(A){return A===l?(o++,t.consume(A),d):o<3?n(A):(t.exit("codeFencedFenceSequence"),Br(A)?wi(t,h,"whitespace")(A):h(A))}function h(A){return A===null||Rn(A)?(t.exit("codeFencedFence"),r.interrupt?e(A):t.check(h7,y,j)(A)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(A))}function f(A){return A===null||Rn(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(A)):Br(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),wi(t,p,"whitespace")(A)):A===96&&A===l?n(A):(t.consume(A),f)}function p(A){return A===null||Rn(A)?h(A):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||Rn(A)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(A)):A===96&&A===l?n(A):(t.consume(A),m)}function y(A){return t.attempt(i,j,b)(A)}function b(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),v}function v(A){return s>0&&Br(A)?wi(t,_,"linePrefix",s+1)(A):_(A)}function _(A){return A===null||Rn(A)?t.check(h7,y,j)(A):(t.enter("codeFlowValue"),S(A))}function S(A){return A===null||Rn(A)?(t.exit("codeFlowValue"),_(A)):(t.consume(A),S)}function j(A){return t.exit("codeFenced"),e(A)}function N(A,M,k){let L=0;return O;function O(J){return A.enter("lineEnding"),A.consume(J),A.exit("lineEnding"),I}function I(J){return A.enter("codeFencedFence"),Br(J)?wi(A,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):U(J)}function U(J){return J===l?(A.enter("codeFencedFenceSequence"),W(J)):k(J)}function W(J){return J===l?(L++,A.consume(J),W):L>=o?(A.exit("codeFencedFenceSequence"),Br(J)?wi(A,q,"whitespace")(J):q(J)):k(J)}function q(J){return J===null||Rn(J)?(A.exit("codeFencedFence"),M(J)):k(J)}}}function aBe(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const PL={name:"codeIndented",tokenize:lBe},oBe={partial:!0,tokenize:cBe};function lBe(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),wi(t,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):Rn(u)?t.attempt(oBe,o,c)(u):(t.enter("codeFlowValue"),l(u))}function l(u){return u===null||Rn(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),l)}function c(u){return t.exit("codeIndented"),e(u)}}function cBe(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Rn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):wi(t,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):Rn(o)?i(o):n(o)}}const uBe={name:"codeText",previous:hBe,resolve:dBe,tokenize:fBe};function dBe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function hBe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function fBe(t,e,n){let r=0,i,s;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),l(h)}function l(h){return h===96?(t.consume(h),r++,l):(t.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),c):h===96?(s=t.enter("codeTextSequence"),i=0,d(h)):Rn(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||Rn(h)?(t.exit("codeTextData"),c(h)):(t.consume(h),u)}function d(h){return h===96?(t.consume(h),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",u(h))}}class pBe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&e1(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),e1(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),e1(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);e1(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);e1(this.left,n.reverse())}}}function e1(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function ooe(t){const e={};let n=-1,r,i,s,o,l,c,u;const d=new pBe(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,mBe(d,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return kd(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function mBe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],u={};let d,h,f=-1,p=n,m=0,y=0;const b=[y];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),h&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(y=f+1,b.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),f=b.length;f--;){const v=l.slice(b[f],b[f+1]),_=s.pop();c.push([_,_+v.length-1]),t.splice(_,2,v)}for(c.reverse(),f=-1;++f<c.length;)u[m+c[f][0]]=m+c[f][1],m+=c[f][1]-c[f][0]-1;return u}const gBe={resolve:vBe,tokenize:xBe},yBe={partial:!0,tokenize:bBe};function vBe(t){return ooe(t),t}function xBe(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):Rn(l)?t.check(yBe,o,s)(l):(t.consume(l),i)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function o(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function bBe(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),wi(t,s,"linePrefix")}function s(o){if(o===null||Rn(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function loe(t,e,n,r,i,s,o,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(v){return v===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(v),t.exit(s),f):v===null||v===32||v===41||Z4(v)?n(v):(t.enter(r),t.enter(o),t.enter(l),t.enter("chunkString",{contentType:"string"}),y(v))}function f(v){return v===62?(t.enter(s),t.consume(v),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(t.exit("chunkString"),t.exit(l),f(v)):v===null||v===60||Rn(v)?n(v):(t.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(t.consume(v),p):p(v)}function y(v){return!d&&(v===null||v===41||Xo(v))?(t.exit("chunkString"),t.exit(l),t.exit(o),t.exit(r),e(v)):d<u&&v===40?(t.consume(v),d++,y):v===41?(t.consume(v),d--,y):v===null||v===32||v===40||Z4(v)?n(v):(t.consume(v),v===92?b:y)}function b(v){return v===40||v===41||v===92?(t.consume(v),y):y(v)}}function coe(t,e,n,r,i,s){const o=this;let l=0,c;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),d}function d(p){return l>999||p===null||p===91||p===93&&!c||p===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):Rn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||Rn(p)||l++>999?(t.exit("chunkString"),d(p)):(t.consume(p),c||(c=!Br(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(t.consume(p),l++,h):h(p)}}function uoe(t,e,n,r,i,s){let o;return l;function l(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,c):n(f)}function c(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===o?(t.exit(s),c(o)):f===null?n(f):Rn(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),wi(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===o||f===null||Rn(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?h:d)}function h(f){return f===o||f===92?(t.consume(f),d):d(f)}}function eS(t,e){let n;return r;function r(i){return Rn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Br(i)?wi(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const wBe={name:"definition",tokenize:SBe},_Be={partial:!0,tokenize:EBe};function SBe(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return coe.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return i=C0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),c):n(p)}function c(p){return Xo(p)?eS(t,u)(p):u(p)}function u(p){return loe(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(_Be,h,h)(p)}function h(p){return Br(p)?wi(t,f,"whitespace")(p):f(p)}function f(p){return p===null||Rn(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function EBe(t,e,n){return r;function r(l){return Xo(l)?eS(t,i)(l):n(l)}function i(l){return uoe(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Br(l)?wi(t,o,"whitespace")(l):o(l)}function o(l){return l===null||Rn(l)?e(l):n(l)}}const jBe={name:"hardBreakEscape",tokenize:ABe};function ABe(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Rn(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const NBe={name:"headingAtx",resolve:TBe,tokenize:MBe};function TBe(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},kd(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function MBe(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(t.consume(d),o):d===null||Xo(d)?(t.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(t.enter("atxHeadingSequence"),c(d)):d===null||Rn(d)?(t.exit("atxHeading"),e(d)):Br(d)?wi(t,l,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function c(d){return d===35?(t.consume(d),c):(t.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Xo(d)?(t.exit("atxHeadingText"),l(d)):(t.consume(d),u)}}const CBe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],p7=["pre","script","style","textarea"],PBe={concrete:!0,name:"htmlFlow",resolveTo:RBe,tokenize:IBe},kBe={partial:!0,tokenize:DBe},OBe={partial:!0,tokenize:LBe};function RBe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function IBe(t,e,n){const r=this;let i,s,o,l,c;return u;function u(Q){return d(Q)}function d(Q){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(Q),h}function h(Q){return Q===33?(t.consume(Q),f):Q===47?(t.consume(Q),s=!0,y):Q===63?(t.consume(Q),i=3,r.interrupt?e:B):dd(Q)?(t.consume(Q),o=String.fromCharCode(Q),b):n(Q)}function f(Q){return Q===45?(t.consume(Q),i=2,p):Q===91?(t.consume(Q),i=5,l=0,m):dd(Q)?(t.consume(Q),i=4,r.interrupt?e:B):n(Q)}function p(Q){return Q===45?(t.consume(Q),r.interrupt?e:B):n(Q)}function m(Q){const xe="CDATA[";return Q===xe.charCodeAt(l++)?(t.consume(Q),l===xe.length?r.interrupt?e:U:m):n(Q)}function y(Q){return dd(Q)?(t.consume(Q),o=String.fromCharCode(Q),b):n(Q)}function b(Q){if(Q===null||Q===47||Q===62||Xo(Q)){const xe=Q===47,ke=o.toLowerCase();return!xe&&!s&&p7.includes(ke)?(i=1,r.interrupt?e(Q):U(Q)):CBe.includes(o.toLowerCase())?(i=6,xe?(t.consume(Q),v):r.interrupt?e(Q):U(Q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(Q):s?_(Q):S(Q))}return Q===45||Il(Q)?(t.consume(Q),o+=String.fromCharCode(Q),b):n(Q)}function v(Q){return Q===62?(t.consume(Q),r.interrupt?e:U):n(Q)}function _(Q){return Br(Q)?(t.consume(Q),_):O(Q)}function S(Q){return Q===47?(t.consume(Q),O):Q===58||Q===95||dd(Q)?(t.consume(Q),j):Br(Q)?(t.consume(Q),S):O(Q)}function j(Q){return Q===45||Q===46||Q===58||Q===95||Il(Q)?(t.consume(Q),j):N(Q)}function N(Q){return Q===61?(t.consume(Q),A):Br(Q)?(t.consume(Q),N):S(Q)}function A(Q){return Q===null||Q===60||Q===61||Q===62||Q===96?n(Q):Q===34||Q===39?(t.consume(Q),c=Q,M):Br(Q)?(t.consume(Q),A):k(Q)}function M(Q){return Q===c?(t.consume(Q),c=null,L):Q===null||Rn(Q)?n(Q):(t.consume(Q),M)}function k(Q){return Q===null||Q===34||Q===39||Q===47||Q===60||Q===61||Q===62||Q===96||Xo(Q)?N(Q):(t.consume(Q),k)}function L(Q){return Q===47||Q===62||Br(Q)?S(Q):n(Q)}function O(Q){return Q===62?(t.consume(Q),I):n(Q)}function I(Q){return Q===null||Rn(Q)?U(Q):Br(Q)?(t.consume(Q),I):n(Q)}function U(Q){return Q===45&&i===2?(t.consume(Q),K):Q===60&&i===1?(t.consume(Q),ne):Q===62&&i===4?(t.consume(Q),ce):Q===63&&i===3?(t.consume(Q),B):Q===93&&i===5?(t.consume(Q),Z):Rn(Q)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(kBe,fe,W)(Q)):Q===null||Rn(Q)?(t.exit("htmlFlowData"),W(Q)):(t.consume(Q),U)}function W(Q){return t.check(OBe,q,fe)(Q)}function q(Q){return t.enter("lineEnding"),t.consume(Q),t.exit("lineEnding"),J}function J(Q){return Q===null||Rn(Q)?W(Q):(t.enter("htmlFlowData"),U(Q))}function K(Q){return Q===45?(t.consume(Q),B):U(Q)}function ne(Q){return Q===47?(t.consume(Q),o="",$):U(Q)}function $(Q){if(Q===62){const xe=o.toLowerCase();return p7.includes(xe)?(t.consume(Q),ce):U(Q)}return dd(Q)&&o.length<8?(t.consume(Q),o+=String.fromCharCode(Q),$):U(Q)}function Z(Q){return Q===93?(t.consume(Q),B):U(Q)}function B(Q){return Q===62?(t.consume(Q),ce):Q===45&&i===2?(t.consume(Q),B):U(Q)}function ce(Q){return Q===null||Rn(Q)?(t.exit("htmlFlowData"),fe(Q)):(t.consume(Q),ce)}function fe(Q){return t.exit("htmlFlow"),e(Q)}}function LBe(t,e,n){const r=this;return i;function i(o){return Rn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function DBe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(zk,e,n)}}const FBe={name:"htmlText",tokenize:UBe};function UBe(t,e,n){const r=this;let i,s,o;return l;function l(B){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(B),c}function c(B){return B===33?(t.consume(B),u):B===47?(t.consume(B),N):B===63?(t.consume(B),S):dd(B)?(t.consume(B),k):n(B)}function u(B){return B===45?(t.consume(B),d):B===91?(t.consume(B),s=0,m):dd(B)?(t.consume(B),_):n(B)}function d(B){return B===45?(t.consume(B),p):n(B)}function h(B){return B===null?n(B):B===45?(t.consume(B),f):Rn(B)?(o=h,ne(B)):(t.consume(B),h)}function f(B){return B===45?(t.consume(B),p):h(B)}function p(B){return B===62?K(B):B===45?f(B):h(B)}function m(B){const ce="CDATA[";return B===ce.charCodeAt(s++)?(t.consume(B),s===ce.length?y:m):n(B)}function y(B){return B===null?n(B):B===93?(t.consume(B),b):Rn(B)?(o=y,ne(B)):(t.consume(B),y)}function b(B){return B===93?(t.consume(B),v):y(B)}function v(B){return B===62?K(B):B===93?(t.consume(B),v):y(B)}function _(B){return B===null||B===62?K(B):Rn(B)?(o=_,ne(B)):(t.consume(B),_)}function S(B){return B===null?n(B):B===63?(t.consume(B),j):Rn(B)?(o=S,ne(B)):(t.consume(B),S)}function j(B){return B===62?K(B):S(B)}function N(B){return dd(B)?(t.consume(B),A):n(B)}function A(B){return B===45||Il(B)?(t.consume(B),A):M(B)}function M(B){return Rn(B)?(o=M,ne(B)):Br(B)?(t.consume(B),M):K(B)}function k(B){return B===45||Il(B)?(t.consume(B),k):B===47||B===62||Xo(B)?L(B):n(B)}function L(B){return B===47?(t.consume(B),K):B===58||B===95||dd(B)?(t.consume(B),O):Rn(B)?(o=L,ne(B)):Br(B)?(t.consume(B),L):K(B)}function O(B){return B===45||B===46||B===58||B===95||Il(B)?(t.consume(B),O):I(B)}function I(B){return B===61?(t.consume(B),U):Rn(B)?(o=I,ne(B)):Br(B)?(t.consume(B),I):L(B)}function U(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),i=B,W):Rn(B)?(o=U,ne(B)):Br(B)?(t.consume(B),U):(t.consume(B),q)}function W(B){return B===i?(t.consume(B),i=void 0,J):B===null?n(B):Rn(B)?(o=W,ne(B)):(t.consume(B),W)}function q(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||Xo(B)?L(B):(t.consume(B),q)}function J(B){return B===47||B===62||Xo(B)?L(B):n(B)}function K(B){return B===62?(t.consume(B),t.exit("htmlTextData"),t.exit("htmlText"),e):n(B)}function ne(B){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),$}function $(B){return Br(B)?wi(t,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):Z(B)}function Z(B){return t.enter("htmlTextData"),o(B)}}const Hz={name:"labelEnd",resolveAll:HBe,resolveTo:VBe,tokenize:WBe},BBe={tokenize:GBe},zBe={tokenize:qBe},$Be={tokenize:YBe};function HBe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&kd(t,0,t.length,n),t}function VBe(t,e){let n=t.length,r=0,i,s,o,l;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},d={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return l=[["enter",c,e],["enter",u,e]],l=xc(l,t.slice(s+1,s+r+3)),l=xc(l,[["enter",d,e]]),l=xc(l,$z(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),l=xc(l,[["exit",d,e],t[o-2],t[o-1],["exit",u,e]]),l=xc(l,t.slice(o+1)),l=xc(l,[["exit",c,e]]),kd(t,s,t.length,l),t}function WBe(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(f){return s?s._inactive?h(f):(o=r.parser.defined.includes(C0(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),c):n(f)}function c(f){return f===40?t.attempt(BBe,d,o?d:h)(f):f===91?t.attempt(zBe,d,o?u:h)(f):o?d(f):h(f)}function u(f){return t.attempt($Be,d,h)(f)}function d(f){return e(f)}function h(f){return s._balanced=!0,n(f)}}function GBe(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Xo(h)?eS(t,s)(h):s(h)}function s(h){return h===41?d(h):loe(t,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Xo(h)?eS(t,c)(h):d(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?uoe(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Xo(h)?eS(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function qBe(t,e,n){const r=this;return i;function i(l){return coe.call(r,t,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(C0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function o(l){return n(l)}}function YBe(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const XBe={name:"labelStartImage",resolveAll:Hz.resolveAll,tokenize:KBe};function KBe(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const ZBe={name:"labelStartLink",resolveAll:Hz.resolveAll,tokenize:QBe};function QBe(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const kL={name:"lineEnding",tokenize:JBe};function JBe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),wi(t,e,"linePrefix")}}const SM={name:"thematicBreak",tokenize:eze};function eze(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(t.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||Rn(u))?(t.exit("thematicBreak"),e(u)):n(u)}function c(u){return u===i?(t.consume(u),r++,c):(t.exit("thematicBreakSequence"),Br(u)?wi(t,l,"whitespace")(u):l(u))}}const Io={continuation:{tokenize:ize},exit:aze,name:"list",tokenize:rze},tze={partial:!0,tokenize:oze},nze={partial:!0,tokenize:sze};function rze(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Q4(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(SM,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(p)}return n(p)}function c(p){return Q4(p)&&++o<10?(t.consume(p),c):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(zk,r.interrupt?n:d,t.attempt(tze,f,h))}function d(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function h(p){return Br(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function ize(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(zk,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,wi(t,e,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!Br(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(nze,e,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,wi(t,t.attempt(Io,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function sze(t,e,n){const r=this;return wi(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function aze(t){t.exit(this.containerState.type)}function oze(t,e,n){const r=this;return wi(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Br(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const m7={name:"setextUnderline",resolveTo:lze,tokenize:cze};function lze(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function cze(t,e,n){const r=this;let i;return s;function s(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(t.consume(u),l):(t.exit("setextHeadingLineSequence"),Br(u)?wi(t,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Rn(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const uze={tokenize:dze};function dze(t){const e=this,n=t.attempt(zk,r,t.attempt(this.parser.constructs.flowInitial,i,wi(t,t.attempt(this.parser.constructs.flow,i,t.attempt(gBe,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const hze={resolveAll:hoe()},fze=doe("string"),pze=doe("text");function doe(t){return{resolveAll:hoe(t==="text"?mze:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,l);return o;function o(d){return u(d)?s(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const h=i[d];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function hoe(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function mze(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,l=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)c=!0,l++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const u={type:n===t.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const gze={42:Io,43:Io,45:Io,48:Io,49:Io,50:Io,51:Io,52:Io,53:Io,54:Io,55:Io,56:Io,57:Io,62:ioe},yze={91:wBe},vze={[-2]:PL,[-1]:PL,32:PL},xze={35:NBe,42:SM,45:[m7,SM],60:PBe,61:m7,95:SM,96:f7,126:f7},bze={38:aoe,92:soe},wze={[-5]:kL,[-4]:kL,[-3]:kL,33:XBe,38:aoe,42:J4,60:[Z5e,FBe],91:ZBe,92:[jBe,soe],93:Hz,95:J4,96:uBe},_ze={null:[J4,hze]},Sze={null:[42,95]},Eze={null:[]},jze=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Sze,contentInitial:yze,disable:Eze,document:gze,flow:xze,flowInitial:vze,insideSpan:_ze,string:bze,text:wze},Symbol.toStringTag,{value:"Module"}));function Aze(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],l=[];const c={attempt:M(N),check:M(A),consume:_,enter:S,exit:j,interrupt:M(A,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:m,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:h};let d=e.tokenize.call(u,c);return e.resolveAll&&s.push(e),u;function h(I){return o=xc(o,I),b(),o[o.length-1]!==null?[]:(k(e,0),u.events=$z(s,u.events,u),u.events)}function f(I,U){return Tze(p(I),U)}function p(I){return Nze(o,I)}function m(){const{_bufferIndex:I,_index:U,line:W,column:q,offset:J}=r;return{_bufferIndex:I,_index:U,line:W,column:q,offset:J}}function y(I){i[I.line]=I.column,O()}function b(){let I;for(;r._index<o.length;){const U=o[r._index];if(typeof U=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<U.length;)v(U.charCodeAt(r._bufferIndex));else v(U)}}function v(I){d=d(I)}function _(I){Rn(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,O()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function S(I,U){const W=U||{};return W.type=I,W.start=m(),u.events.push(["enter",W,u]),l.push(W),W}function j(I){const U=l.pop();return U.end=m(),u.events.push(["exit",U,u]),U}function N(I,U){k(I,U.from)}function A(I,U){U.restore()}function M(I,U){return W;function W(q,J,K){let ne,$,Z,B;return Array.isArray(q)?fe(q):"tokenize"in q?fe([q]):ce(q);function ce(Re){return Ce;function Ce(tt){const Fe=tt!==null&&Re[tt],Ve=tt!==null&&Re.null,Ue=[...Array.isArray(Fe)?Fe:Fe?[Fe]:[],...Array.isArray(Ve)?Ve:Ve?[Ve]:[]];return fe(Ue)(tt)}}function fe(Re){return ne=Re,$=0,Re.length===0?K:Q(Re[$])}function Q(Re){return Ce;function Ce(tt){return B=L(),Z=Re,Re.partial||(u.currentConstruct=Re),Re.name&&u.parser.constructs.disable.null.includes(Re.name)?ke():Re.tokenize.call(U?Object.assign(Object.create(u),U):u,c,xe,ke)(tt)}}function xe(Re){return I(Z,B),J}function ke(Re){return B.restore(),++$<ne.length?Q(ne[$]):K}}}function k(I,U){I.resolveAll&&!s.includes(I)&&s.push(I),I.resolve&&kd(u.events,U,u.events.length-U,I.resolve(u.events.slice(U),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function L(){const I=m(),U=u.previous,W=u.currentConstruct,q=u.events.length,J=Array.from(l);return{from:q,restore:K};function K(){r=I,u.previous=U,u.currentConstruct=W,u.events.length=q,l=J,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Nze(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function Tze(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function Mze(t){const r={constructs:L5e([jze,...(t||{}).extensions||[]]),content:i(V5e),defined:[],document:i(G5e),flow:i(uze),lazy:{},string:i(fze),text:i(pze)};return r;function i(s){return o;function o(l){return Aze(r,s,l)}}}function Cze(t){for(;!ooe(t););return t}const g7=/[\0\t\n\r]/g;function Pze(){let t=1,e="",n=!0,r;return i;function i(s,o,l){const c=[];let u,d,h,f,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(g7.lastIndex=h,u=g7.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){e=s.slice(h);break}if(p===10&&h===f&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<f&&(c.push(s.slice(h,f)),t+=f-h),p){case 0:{c.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,c.push(-2);t++<d;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return l&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const kze=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Oze(t){return t.replace(kze,Rze)}function Rze(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return roe(n.slice(s?2:1),s?16:10)}return zz(n)||t}const foe={}.hasOwnProperty;function Ize(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Lze(n)(Cze(Mze(n).document().write(Pze()(t,e,!0))))}function Lze(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(bt),autolinkProtocol:L,autolinkEmail:L,atxHeading:s(nt),blockQuote:s(Ve),characterEscape:L,characterReference:L,codeFenced:s(Ue),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Ue,o),codeText:s(he,o),codeTextData:L,data:L,codeFlowValue:L,definition:s(te),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ze),hardBreakEscape:s(Je),hardBreakTrailing:s(Je),htmlFlow:s(rt,o),htmlFlowData:L,htmlText:s(rt,o),htmlTextData:L,image:s(Pt),label:o,link:s(bt),listItem:s(z),listItemValue:f,listOrdered:s(H,h),listUnordered:s(H),paragraph:s(oe),reference:Q,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(nt),strong:s(je),thematicBreak:s(we)},exit:{atxHeading:c(),atxHeadingSequence:N,autolink:c(),autolinkEmail:Fe,autolinkProtocol:tt,blockQuote:c(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:Re,characterReference:Ce,codeFenced:c(b),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:O,codeIndented:c(v),codeText:c(J),codeTextData:O,data:O,definition:c(),definitionDestinationString:j,definitionLabelString:_,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(U),hardBreakTrailing:c(U),htmlFlow:c(W),htmlFlowData:O,htmlText:c(q),htmlTextData:O,image:c(ne),label:Z,labelText:$,lineEnding:I,link:c(K),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:xe,resourceDestinationString:B,resourceTitleString:ce,resource:fe,setextHeading:c(k),setextHeadingLineSequence:M,setextHeadingText:A,strong:c(),thematicBreak:c()}};poe(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(me){let Ae={type:"root",children:[]};const $e={stack:[Ae],tokenStack:[],config:e,enter:l,exit:u,buffer:o,resume:d,data:n},_t=[];let Ze=-1;for(;++Ze<me.length;)if(me[Ze][1].type==="listOrdered"||me[Ze][1].type==="listUnordered")if(me[Ze][0]==="enter")_t.push(Ze);else{const wt=_t.pop();Ze=i(me,wt,Ze)}for(Ze=-1;++Ze<me.length;){const wt=e[me[Ze][0]];foe.call(wt,me[Ze][1].type)&&wt[me[Ze][1].type].call(Object.assign({sliceSerialize:me[Ze][2].sliceSerialize},$e),me[Ze][1])}if($e.tokenStack.length>0){const wt=$e.tokenStack[$e.tokenStack.length-1];(wt[1]||y7).call($e,void 0,wt[0])}for(Ae.position={start:Qf(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:Qf(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<e.transforms.length;)Ae=e.transforms[Ze](Ae)||Ae;return Ae}function i(me,Ae,$e){let _t=Ae-1,Ze=-1,wt=!1,qt,Rt,gt,fn;for(;++_t<=$e;){const ge=me[_t];switch(ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ge[0]==="enter"?Ze++:Ze--,fn=void 0;break}case"lineEndingBlank":{ge[0]==="enter"&&(qt&&!fn&&!Ze&&!gt&&(gt=_t),fn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:fn=void 0}if(!Ze&&ge[0]==="enter"&&ge[1].type==="listItemPrefix"||Ze===-1&&ge[0]==="exit"&&(ge[1].type==="listUnordered"||ge[1].type==="listOrdered")){if(qt){let Qe=_t;for(Rt=void 0;Qe--;){const ue=me[Qe];if(ue[1].type==="lineEnding"||ue[1].type==="lineEndingBlank"){if(ue[0]==="exit")continue;Rt&&(me[Rt][1].type="lineEndingBlank",wt=!0),ue[1].type="lineEnding",Rt=Qe}else if(!(ue[1].type==="linePrefix"||ue[1].type==="blockQuotePrefix"||ue[1].type==="blockQuotePrefixWhitespace"||ue[1].type==="blockQuoteMarker"||ue[1].type==="listItemIndent"))break}gt&&(!Rt||gt<Rt)&&(qt._spread=!0),qt.end=Object.assign({},Rt?me[Rt][1].start:ge[1].end),me.splice(Rt||_t,0,["exit",qt,ge[2]]),_t++,$e++}if(ge[1].type==="listItemPrefix"){const Qe={type:"listItem",_spread:!1,start:Object.assign({},ge[1].start),end:void 0};qt=Qe,me.splice(_t,0,["enter",Qe,ge[2]]),_t++,$e++,gt=void 0,fn=!0}}}return me[Ae][1]._spread=wt,$e}function s(me,Ae){return $e;function $e(_t){l.call(this,me(_t),_t),Ae&&Ae.call(this,_t)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(me,Ae,$e){this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([Ae,$e||void 0]),me.position={start:Qf(Ae.start),end:void 0}}function c(me){return Ae;function Ae($e){me&&me.call(this,$e),u.call(this,$e)}}function u(me,Ae){const $e=this.stack.pop(),_t=this.tokenStack.pop();if(_t)_t[0].type!==me.type&&(Ae?Ae.call(this,me,_t[0]):(_t[1]||y7).call(this,me,_t[0]));else throw new Error("Cannot close `"+me.type+"` ("+J1({start:me.start,end:me.end})+"): its not open");$e.position.end=Qf(me.end)}function d(){return R5e(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(me){if(this.data.expectingFirstListItemValue){const Ae=this.stack[this.stack.length-2];Ae.start=Number.parseInt(this.sliceSerialize(me),10),this.data.expectingFirstListItemValue=void 0}}function p(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.lang=me}function m(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.meta=me}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=me.replace(/(\r?\n|\r)$/g,"")}function _(me){const Ae=this.resume(),$e=this.stack[this.stack.length-1];$e.label=Ae,$e.identifier=C0(this.sliceSerialize(me)).toLowerCase()}function S(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=me}function j(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=me}function N(me){const Ae=this.stack[this.stack.length-1];if(!Ae.depth){const $e=this.sliceSerialize(me).length;Ae.depth=$e}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function M(me){const Ae=this.stack[this.stack.length-1];Ae.depth=this.sliceSerialize(me).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function L(me){const $e=this.stack[this.stack.length-1].children;let _t=$e[$e.length-1];(!_t||_t.type!=="text")&&(_t=Ne(),_t.position={start:Qf(me.start),end:void 0},$e.push(_t)),this.stack.push(_t)}function O(me){const Ae=this.stack.pop();Ae.value+=this.sliceSerialize(me),Ae.position.end=Qf(me.end)}function I(me){const Ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const $e=Ae.children[Ae.children.length-1];$e.position.end=Qf(me.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ae.type)&&(L.call(this,me),O.call(this,me))}function U(){this.data.atHardBreak=!0}function W(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=me}function q(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=me}function J(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=me}function K(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Ae,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function ne(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Ae,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function $(me){const Ae=this.sliceSerialize(me),$e=this.stack[this.stack.length-2];$e.label=Oze(Ae),$e.identifier=C0(Ae).toLowerCase()}function Z(){const me=this.stack[this.stack.length-1],Ae=this.resume(),$e=this.stack[this.stack.length-1];if(this.data.inReference=!0,$e.type==="link"){const _t=me.children;$e.children=_t}else $e.alt=Ae}function B(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=me}function ce(){const me=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=me}function fe(){this.data.inReference=void 0}function Q(){this.data.referenceType="collapsed"}function xe(me){const Ae=this.resume(),$e=this.stack[this.stack.length-1];$e.label=Ae,$e.identifier=C0(this.sliceSerialize(me)).toLowerCase(),this.data.referenceType="full"}function ke(me){this.data.characterReferenceType=me.type}function Re(me){const Ae=this.sliceSerialize(me),$e=this.data.characterReferenceType;let _t;$e?(_t=roe(Ae,$e==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_t=zz(Ae);const Ze=this.stack[this.stack.length-1];Ze.value+=_t}function Ce(me){const Ae=this.stack.pop();Ae.position.end=Qf(me.end)}function tt(me){O.call(this,me);const Ae=this.stack[this.stack.length-1];Ae.url=this.sliceSerialize(me)}function Fe(me){O.call(this,me);const Ae=this.stack[this.stack.length-1];Ae.url="mailto:"+this.sliceSerialize(me)}function Ve(){return{type:"blockquote",children:[]}}function Ue(){return{type:"code",lang:null,meta:null,value:""}}function he(){return{type:"inlineCode",value:""}}function te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ze(){return{type:"emphasis",children:[]}}function nt(){return{type:"heading",depth:0,children:[]}}function Je(){return{type:"break"}}function rt(){return{type:"html",value:""}}function Pt(){return{type:"image",title:null,url:"",alt:null}}function bt(){return{type:"link",title:null,url:"",children:[]}}function H(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function z(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function oe(){return{type:"paragraph",children:[]}}function je(){return{type:"strong",children:[]}}function Ne(){return{type:"text",value:""}}function we(){return{type:"thematicBreak"}}}function Qf(t){return{line:t.line,column:t.column,offset:t.offset}}function poe(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?poe(t,r):Dze(t,r)}}function Dze(t,e){let n;for(n in e)if(foe.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function y7(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+J1({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+J1({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+J1({start:e.start,end:e.end})+") is still open")}function Fze(t){const e=this;e.parser=n;function n(r){return Ize(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Uze(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Bze(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function zze(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function $ze(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Hze(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Vze(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=hw(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,l+=1,t.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,u),t.applyData(e,u)}function Wze(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Gze(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function moe(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function qze(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return moe(t,e);const i={src:hw(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function Yze(t,e){const n={src:hw(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Xze(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Kze(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return moe(t,e);const i={href:hw(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Zze(t,e){const n={href:hw(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Qze(t,e,n){const r=t.all(e),i=n?Jze(n):goe(e),s={},o=[];if(typeof e.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function Jze(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=goe(n[r])}return e}function goe(t){const e=t.spread;return e??t.children.length>1}function e6e(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function t6e(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function n6e(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function r6e(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function i6e(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=Dz(e.children[1]),c=Kae(e.children[e.children.length-1]);l&&c&&(o.position={start:l,end:c}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function s6e(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:e.children.length;let c=-1;const u=[];for(;++c<l;){const h=e.children[c],f={},p=o?o[c]:void 0;p&&(f.align=p);let m={type:"element",tagName:s,properties:f,children:[]};h&&(m.children=t.all(h),t.patch(h,m),m=t.applyData(h,m)),u.push(m)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function a6e(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const v7=9,x7=32;function o6e(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(b7(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(b7(e.slice(i),i>0,!1)),s.join("")}function b7(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===v7||s===x7;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===v7||s===x7;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function l6e(t,e){const n={type:"text",value:o6e(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function c6e(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const u6e={blockquote:Uze,break:Bze,code:zze,delete:$ze,emphasis:Hze,footnoteReference:Vze,heading:Wze,html:Gze,imageReference:qze,image:Yze,inlineCode:Xze,linkReference:Kze,link:Zze,listItem:Qze,list:e6e,paragraph:t6e,root:n6e,strong:r6e,table:i6e,tableCell:a6e,tableRow:s6e,text:l6e,thematicBreak:c6e,toml:PT,yaml:PT,definition:PT,footnoteDefinition:PT};function PT(){}const yoe=-1,$k=0,tS=1,o2=2,Vz=3,Wz=4,Gz=5,qz=6,voe=7,xoe=8,w7=typeof self=="object"?self:globalThis,d6e=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case $k:case yoe:return n(o,i);case tS:{const l=n([],i);for(const c of o)l.push(r(c));return l}case o2:{const l=n({},i);for(const[c,u]of o)l[r(c)]=r(u);return l}case Vz:return n(new Date(o),i);case Wz:{const{source:l,flags:c}=o;return n(new RegExp(l,c),i)}case Gz:{const l=n(new Map,i);for(const[c,u]of o)l.set(r(c),r(u));return l}case qz:{const l=n(new Set,i);for(const c of o)l.add(r(c));return l}case voe:{const{name:l,message:c}=o;return n(new w7[l](c),i)}case xoe:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new w7[s](o),i)};return r},_7=t=>d6e(new Map,t)(0),Ix="",{toString:h6e}={},{keys:f6e}=Object,t1=t=>{const e=typeof t;if(e!=="object"||!t)return[$k,e];const n=h6e.call(t).slice(8,-1);switch(n){case"Array":return[tS,Ix];case"Object":return[o2,Ix];case"Date":return[Vz,Ix];case"RegExp":return[Wz,Ix];case"Map":return[Gz,Ix];case"Set":return[qz,Ix];case"DataView":return[tS,n]}return n.includes("Array")?[tS,n]:n.includes("Error")?[voe,n]:[o2,n]},kT=([t,e])=>t===$k&&(e==="function"||e==="symbol"),p6e=(t,e,n,r)=>{const i=(o,l)=>{const c=r.push(o)-1;return n.set(l,c),c},s=o=>{if(n.has(o))return n.get(o);let[l,c]=t1(o);switch(l){case $k:{let d=o;switch(c){case"bigint":l=xoe,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([yoe],o)}return i([l,d],o)}case tS:{if(c){let f=o;return c==="DataView"?f=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(o)),i([c,[...f]],o)}const d=[],h=i([l,d],o);for(const f of o)d.push(s(f));return h}case o2:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const d=[],h=i([l,d],o);for(const f of f6e(o))(t||!kT(t1(o[f])))&&d.push([s(f),s(o[f])]);return h}case Vz:return i([l,o.toISOString()],o);case Wz:{const{source:d,flags:h}=o;return i([l,{source:d,flags:h}],o)}case Gz:{const d=[],h=i([l,d],o);for(const[f,p]of o)(t||!(kT(t1(f))||kT(t1(p))))&&d.push([s(f),s(p)]);return h}case qz:{const d=[],h=i([l,d],o);for(const f of o)(t||!kT(t1(f)))&&d.push(s(f));return h}}const{message:u}=o;return i([l,{name:c,message:u}],o)};return s},S7=(t,{json:e,lossy:n}={})=>{const r=[];return p6e(!(e||n),!!e,new Map,r)(t),r},l2=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?_7(S7(t,e)):structuredClone(t):(t,e)=>_7(S7(t,e));function m6e(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function g6e(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function y6e(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||m6e,r=t.options.footnoteBackLabel||g6e,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[c]);if(!u)continue;const d=t.all(u),h=String(u.identifier).toUpperCase(),f=hw(h.toLowerCase());let p=0;const m=[],y=t.footnoteCounts.get(h);for(;y!==void 0&&++p<=y;){m.length>0&&m.push({type:"text",value:" "});let _=typeof n=="string"?n:n(c,p);typeof _=="string"&&(_={type:"text",value:_}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const _=b.children[b.children.length-1];_&&_.type==="text"?_.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else d.push(...m);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(d,!0)};t.patch(u,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...l2(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const boe=function(t){if(t==null)return w6e;if(typeof t=="function")return Hk(t);if(typeof t=="object")return Array.isArray(t)?v6e(t):x6e(t);if(typeof t=="string")return b6e(t);throw new Error("Expected function, string, or object as test")};function v6e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=boe(t[n]);return Hk(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function x6e(t){const e=t;return Hk(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function b6e(t){return Hk(e);function e(n){return n&&n.type===t}}function Hk(t){return e;function e(n,r,i){return!!(_6e(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function w6e(){return!0}function _6e(t){return t!==null&&typeof t=="object"&&"type"in t}const woe=[],S6e=!0,E7=!1,E6e="skip";function j6e(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=boe(i),o=r?-1:1;l(t,void 0,[])();function l(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=woe,m,y,b;if((!e||s(c,u,d[d.length-1]||void 0))&&(p=A6e(n(c,d)),p[0]===E7))return p;if("children"in c&&c.children){const v=c;if(v.children&&p[0]!==E6e)for(y=(r?v.children.length:-1)+o,b=d.concat(v);y>-1&&y<v.children.length;){const _=v.children[y];if(m=l(_,y,b)(),m[0]===E7)return m;y=typeof m[1]=="number"?m[1]:y+o}}return p}}}function A6e(t){return Array.isArray(t)?t:typeof t=="number"?[S6e,t]:t==null?woe:[t]}function _oe(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),j6e(t,s,l,i);function l(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return o(c,h,d)}}const eF={}.hasOwnProperty,N6e={};function T6e(t,e){const n=e||N6e,r=new Map,i=new Map,s=new Map,o={...u6e,...n.handlers},l={all:u,applyData:C6e,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:c,options:n,patch:M6e,wrap:k6e};return _oe(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),l;function c(d,h){const f=d.type,p=l.handlers[f];if(eF.call(l.handlers,f)&&p)return p(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in d){const{children:y,...b}=d,v=l2(b);return v.children=l.all(d),v}return l2(d)}return(l.options.unknownHandler||P6e)(l,d,h)}function u(d){const h=[];if("children"in d){const f=d.children;let p=-1;for(;++p<f.length;){const m=l.one(f[p],d);if(m){if(p&&f[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=j7(m.value)),!Array.isArray(m)&&m.type==="element")){const y=m.children[0];y&&y.type==="text"&&(y.value=j7(y.value))}Array.isArray(m)?h.push(...m):h.push(m)}}}return h}}function M6e(t,e){t.position&&(e.position=h5e(t))}function C6e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,l2(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function P6e(t,e){const n=e.data||{},r="value"in e&&!(eF.call(n,"hProperties")||eF.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function k6e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function j7(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function A7(t,e){const n=T6e(t,e),r=n.one(t,void 0),i=y6e(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function O6e(t,e){return t&&"run"in t?async function(n,r){const i=A7(n,{file:r,...e});await t.run(i,r)}:function(n,r){return A7(n,{file:r,...t||e})}}function N7(t){if(t)throw t}var EM=Object.prototype.hasOwnProperty,Soe=Object.prototype.toString,T7=Object.defineProperty,M7=Object.getOwnPropertyDescriptor,C7=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Soe.call(e)==="[object Array]"},P7=function(e){if(!e||Soe.call(e)!=="[object Object]")return!1;var n=EM.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&EM.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||EM.call(e,i)},k7=function(e,n){T7&&n.name==="__proto__"?T7(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},O7=function(e,n){if(n==="__proto__")if(EM.call(e,n)){if(M7)return M7(e,n).value}else return;return e[n]},R6e=function t(){var e,n,r,i,s,o,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(e=arguments[c],e!=null)for(n in e)r=O7(l,n),i=O7(e,n),l!==i&&(d&&i&&(P7(i)||(s=C7(i)))?(s?(s=!1,o=r&&C7(r)?r:[]):o=r&&P7(r)?r:{},k7(l,{name:n,newValue:t(d,o,i)})):typeof i<"u"&&k7(l,{name:n,newValue:i}));return l};const OL=jr(R6e);function tF(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function I6e(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(c,...u){const d=t[++s];let h=-1;if(c){o(c);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,d?L6e(d,l)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function L6e(t,e){let n;return r;function r(...o){const l=t.length>o.length;let c;l&&o.push(i);try{c=t.apply(this,o)}catch(u){const d=u;if(l&&n)throw d;return i(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(o,...l){n||(n=!0,e(o,...l))}function s(o){i(null,o)}}const nd={basename:D6e,dirname:F6e,extname:U6e,join:B6e,sep:"/"};function D6e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');kj(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function F6e(t){if(kj(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function U6e(t){kj(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const l=t.codePointAt(e);if(l===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),l===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function B6e(...t){let e=-1,n;for(;++e<t.length;)kj(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":z6e(n)}function z6e(t){kj(t);const e=t.codePointAt(0)===47;let n=$6e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function $6e(t,e){let n="",r=0,i=-1,s=0,o=-1,l,c;for(;++o<=t.length;){if(o<t.length)l=t.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function kj(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const H6e={cwd:V6e};function V6e(){return"/"}function nF(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function W6e(t){if(typeof t=="string")t=new URL(t);else if(!nF(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return G6e(t)}function G6e(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const RL=["history","path","basename","stem","extname","dirname"];class Eoe{constructor(e){let n;e?nF(e)?n={path:e}:typeof e=="string"||q6e(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":H6e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<RL.length;){const s=RL[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)RL.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?nd.basename(this.path):void 0}set basename(e){LL(e,"basename"),IL(e,"basename"),this.path=nd.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?nd.dirname(this.path):void 0}set dirname(e){R7(this.basename,"dirname"),this.path=nd.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?nd.extname(this.path):void 0}set extname(e){if(IL(e,"extname"),R7(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=nd.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){nF(e)&&(e=W6e(e)),LL(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?nd.basename(this.path,this.extname):void 0}set stem(e){LL(e,"stem"),IL(e,"stem"),this.path=nd.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ka(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function IL(t,e){if(t&&t.includes(nd.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+nd.sep+"`")}function LL(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function R7(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function q6e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Y6e=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},X6e={}.hasOwnProperty;class Yz extends Y6e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=I6e()}copy(){const e=new Yz;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(OL(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(UL("data",this.frozen),this.namespace[e]=n,this):X6e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(UL("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=OT(e),r=this.parser||this.Parser;return DL("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),DL("process",this.parser||this.Parser),FL("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const l=OT(e),c=r.parse(l);r.run(c,l,function(d,h,f){if(d||!h||!f)return u(d);const p=h,m=r.stringify(p,f);Q6e(m)?f.value=m:f.result=m,u(d,f)});function u(d,h){d||!h?o(d):s?s(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),DL("processSync",this.parser||this.Parser),FL("processSync",this.compiler||this.Compiler),this.process(e,i),L7("processSync","process",n),r;function i(s,o){n=!0,N7(s),r=o}}run(e,n,r){I7(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const c=OT(n);i.run(e,c,u);function u(d,h,f){const p=h||e;d?l(d):o?o(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),L7("runSync","run",r),i;function s(o,l){N7(o),i=l,r=!0}}stringify(e,n){this.freeze();const r=OT(n),i=this.compiler||this.Compiler;return FL("stringify",i),I7(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(UL("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=OL(!0,i.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===u){f=h;break}if(f===-1)r.push([u,...d]);else if(d.length>0){let[p,...m]=d;const y=r[f][1];tF(y)&&tF(p)&&(p=OL(!0,y,p)),r[f]=[u,p,...m]}}}}const K6e=new Yz().freeze();function DL(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function FL(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function UL(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function I7(t){if(!tF(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function L7(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function OT(t){return Z6e(t)?t:new Eoe(t)}function Z6e(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Q6e(t){return typeof t=="string"||J6e(t)}function J6e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const e$e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",D7=[],F7={allowDangerousHtml:!0},t$e=/^(https?|ircs?|mailto|xmpp)$/i,n$e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function r$e(t){const e=i$e(t),n=s$e(t);return a$e(e.runSync(e.parse(n),n),t)}function i$e(t){const e=t.rehypePlugins||D7,n=t.remarkPlugins||D7,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...F7}:F7;return K6e().use(Fze).use(n).use(O6e,r).use(e)}function s$e(t){const e=t.children||"",n=new Eoe;return typeof e=="string"&&(n.value=e),n}function a$e(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,l=e.unwrapDisallowed,c=e.urlTransform||o$e;for(const d of n$e)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+e$e+d.id,void 0);return _oe(t,u),y5e(t,{Fragment:a.Fragment,components:i,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function u(d,h,f){if(d.type==="raw"&&f&&typeof h=="number")return o?f.children.splice(h,1):f.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let p;for(p in CL)if(Object.hasOwn(CL,p)&&Object.hasOwn(d.properties,p)){const m=d.properties[p],y=CL[p];(y===null||y.includes(d.tagName))&&(d.properties[p]=c(String(m||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof h=="number"&&(p=!r(d,h,f)),p&&f&&typeof h=="number")return l&&d.children?f.children.splice(h,1,...d.children):f.children.splice(h,1),h}}}function o$e(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||t$e.test(t.slice(0,e))?t:""}function l$e(){var s;const{slug:t}=O5(),{data:e,isLoading:n}=Xr({queryKey:["article",t],queryFn:async()=>{if(!t)throw new Error("No slug provided");const{data:o,error:l}=await Ye.from("articles").select("*").eq("slug",t).eq("status","published").single();if(l)throw l;return o},enabled:!!t}),{wordCount:r,readingTime:i}=C.useMemo(()=>{if(!(e!=null&&e.content))return{wordCount:0,readingTime:"1 min read"};const o=e.content.trim().split(/\s+/).length,l=Math.ceil(o/200);return{wordCount:o,readingTime:`${l} min read`}},[e==null?void 0:e.content]);return C.useEffect(()=>{e!=null&&e.id&&Ye.from("articles").update({view_count:(e.view_count||0)+1}).eq("id",e.id).then(()=>{console.log("View count incremented")})},[e==null?void 0:e.id]),n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading article..."})}):e?a.jsxs(a.Fragment,{children:[a.jsx(xUe,{title:e.seo_title||e.title,description:e.seo_description||e.excerpt||"",url:`/blog/${e.slug}`,imageUrl:e.featured_image_url,publishedTime:e.published_at,modifiedTime:e.updated_at,tags:e.tags||[],category:e.category,wordCount:r,readingTime:i}),a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx(gm,{}),a.jsx("div",{className:"bg-gray-50 border-b",children:a.jsx("div",{className:"container mx-auto px-4 py-3",children:a.jsx(xn,{to:"/blog",children:a.jsxs(He,{variant:"ghost",size:"sm",className:"gap-2",children:[a.jsx(OP,{className:"h-4 w-4"}),"Back to Blog"]})})})}),a.jsxs("article",{className:"container mx-auto px-4 py-12 max-w-4xl",itemScope:!0,itemType:"https://schema.org/BlogPosting",children:[a.jsx(wUe,{items:[{label:"Blog",href:"/blog"},{label:e.title}]}),e.featured_image_url&&a.jsxs("figure",{className:"mb-8",itemProp:"image",itemScope:!0,itemType:"https://schema.org/ImageObject",children:[a.jsx("img",{src:e.featured_image_url,alt:e.title,className:"w-full h-96 object-cover rounded-lg shadow-lg",itemProp:"url"}),a.jsx("meta",{itemProp:"width",content:"1200"}),a.jsx("meta",{itemProp:"height",content:"630"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[a.jsx(nn,{variant:"secondary",itemProp:"articleSection",children:e.category}),(s=e.tags)==null?void 0:s.map(o=>a.jsx(nn,{variant:"outline",itemProp:"keywords",children:o},o))]}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 leading-tight",itemProp:"headline",children:e.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-muted-foreground mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2",itemProp:"author",itemScope:!0,itemType:"https://schema.org/Person",children:[a.jsx(Hh,{className:"h-4 w-4"}),a.jsx("span",{itemProp:"name",children:"Real Estate Expert"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Eo,{className:"h-4 w-4"}),a.jsx("time",{dateTime:e.published_at,itemProp:"datePublished",children:new Date(e.published_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hm,{className:"h-4 w-4"}),a.jsx("span",{children:i})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wa,{className:"h-4 w-4"}),a.jsxs("span",{children:[e.view_count," views"]})]})]}),a.jsx("meta",{itemProp:"dateModified",content:e.updated_at}),a.jsx("meta",{itemProp:"wordCount",content:r.toString()}),a.jsx("meta",{itemProp:"description",content:e.excerpt||""}),a.jsx($ae,{className:"mb-8"}),a.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none prose-headings:scroll-mt-20",itemProp:"articleBody",children:a.jsx(r$e,{components:{h2:({children:o,...l})=>{const c=String(o).toLowerCase().replace(/\s+/g,"-");return a.jsx("h2",{...l,id:c,className:"text-3xl font-bold mt-12 mb-4 scroll-mt-20",children:o})},h3:({children:o,...l})=>{const c=String(o).toLowerCase().replace(/\s+/g,"-");return a.jsx("h3",{...l,id:c,className:"text-2xl font-semibold mt-8 mb-3 scroll-mt-20",children:o})},p:({children:o,...l})=>a.jsx("p",{...l,className:"mb-6 leading-relaxed text-lg",children:o}),ul:({children:o,...l})=>a.jsx("ul",{...l,className:"space-y-2 my-6",children:o}),ol:({children:o,...l})=>a.jsx("ol",{...l,className:"space-y-2 my-6",children:o}),li:({children:o,...l})=>a.jsx("li",{...l,className:"leading-relaxed",children:o}),blockquote:({children:o,...l})=>a.jsx("blockquote",{...l,className:"border-l-4 border-primary pl-6 py-2 my-6 italic bg-muted/50 rounded-r",children:o}),a:({href:o,children:l,...c})=>(o==null?void 0:o.startsWith("/"))?a.jsx(xn,{to:o,className:"text-primary hover:underline font-medium",children:l}):a.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",...c,children:l}),code:({children:o,...l})=>a.jsx("code",{...l,className:"bg-muted px-1.5 py-0.5 rounded text-sm font-mono",children:o}),pre:({children:o,...l})=>a.jsx("pre",{...l,className:"bg-muted p-4 rounded-lg overflow-x-auto my-6",children:o})},children:e.content})}),a.jsx(bUe,{currentArticleId:e.id,category:e.category,tags:e.tags||[]})]}),a.jsx(ym,{})]})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Article Not Found"}),a.jsx(xn,{to:"/blog",children:a.jsx(He,{children:"Back to Blog"})})]})})}const c$e=uw({email:or().email("Please enter a valid email address"),password:or().min(6,"Password must be at least 6 characters"),remember:Gx().optional()});function u$e(){const t=cm(),{signIn:e,isLoading:n,error:r,clearError:i,user:s}=ys(),{register:o,handleSubmit:l,formState:{errors:c}}=lw({resolver:cw(c$e)});C.useEffect(()=>{if(s){const d=localStorage.getItem("lastVisitedRoute");t(d&&d!=="/auth/login"&&d!=="/auth/register"?d:"/dashboard",{replace:!0})}},[s,t]),C.useEffect(()=>()=>{i()},[i]);const u=async d=>{try{await e(d.email,d.password)}catch(h){console.error("Login failed:",h)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[a.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:a.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[a.jsxs(xn,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-gray-900 hover:text-blue-600 transition-colors",children:[a.jsx(Ci,{className:"h-6 w-6 text-blue-600"}),"AgentBio.net"]}),a.jsxs("nav",{className:"flex items-center gap-4 text-sm",children:[a.jsx(xn,{to:"/blog",className:"text-gray-600 hover:text-gray-900",children:"Blog"}),a.jsx(xn,{to:"/pricing",className:"text-gray-600 hover:text-gray-900",children:"Pricing"}),a.jsx(xn,{to:"/auth/register",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Sign Up"})]})]})}),a.jsx("div",{className:"flex items-center justify-center px-4 py-12",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),a.jsx("p",{className:"text-gray-600",children:"Log in to manage your profile"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[r&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(ij,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:"Login Failed"}),a.jsx("p",{className:"text-sm text-red-600 mt-1",children:r})]})]}),a.jsxs("form",{onSubmit:l(u),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{...o("email"),type:"email",placeholder:"you@example.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.email?"border-red-300":"border-gray-300"}`})]}),c.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(iC,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{...o("password"),type:"password",placeholder:"",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.password?"border-red-300":"border-gray-300"}`})]}),c.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password.message})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{...o("remember"),type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),a.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})]}),a.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"h-5 w-5 animate-spin"}),"Logging in..."]}):"Log In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",a.jsx(xn,{to:"/auth/register",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Sign up"})]})})]})]})})]})}const d$e=uw({username:or().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_-]+$/,"Username can only contain letters, numbers, underscores, and hyphens"),name:or().min(2,"Name must be at least 2 characters"),email:or().email("Please enter a valid email address"),password:or().min(6,"Password must be at least 6 characters"),confirmPassword:or(),terms:Gx().refine(t=>t===!0,{message:"You must agree to the Terms of Service, Privacy Policy, DMCA Policy, and Acceptable Use Policy"}),photoOwnership:Gx().refine(t=>t===!0,{message:"You must certify that you own or have authorization to upload photos"}),mlsAcknowledgment:Gx().refine(t=>t===!0,{message:"You must acknowledge MLS photo restrictions"}),fairHousing:Gx().refine(t=>t===!0,{message:"You must acknowledge Fair Housing compliance obligations"}),fullResponsibility:Gx().refine(t=>t===!0,{message:"You must accept full legal responsibility for your content"})}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function h$e(){const t=cm(),{signUp:e,isLoading:n,error:r,clearError:i,user:s}=ys(),{register:o,handleSubmit:l,formState:{errors:c}}=lw({resolver:cw(d$e)});C.useEffect(()=>{if(s){const d=localStorage.getItem("lastVisitedRoute");t(d&&d!=="/auth/login"&&d!=="/auth/register"?d:"/dashboard",{replace:!0})}},[s,t]),C.useEffect(()=>()=>{i()},[i]);const u=async d=>{try{await e(d.email,d.password,d.username,d.name)}catch(h){console.error("Registration failed:",h)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[a.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:a.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[a.jsxs(xn,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-gray-900 hover:text-blue-600 transition-colors",children:[a.jsx(Ci,{className:"h-6 w-6 text-blue-600"}),"AgentBio.net"]}),a.jsxs("nav",{className:"flex items-center gap-4 text-sm",children:[a.jsx(xn,{to:"/blog",className:"text-gray-600 hover:text-gray-900",children:"Blog"}),a.jsx(xn,{to:"/pricing",className:"text-gray-600 hover:text-gray-900",children:"Pricing"}),a.jsx(xn,{to:"/auth/login",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Log In"})]})]})}),a.jsx("div",{className:"flex items-center justify-center px-4 py-12",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Account"}),a.jsx("p",{className:"text-gray-600",children:"Start building your real estate profile"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[r&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[a.jsx(ij,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:"Registration Failed"}),a.jsx("p",{className:"text-sm text-red-600 mt-1",children:r})]})]}),a.jsxs("form",{onSubmit:l(u),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{...o("username"),type:"text",placeholder:"johndoe",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.username?"border-red-300":"border-gray-300"}`})]}),c.username&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.username.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{...o("name"),type:"text",placeholder:"John Doe",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.name?"border-red-300":"border-gray-300"}`})]}),c.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{...o("email"),type:"email",placeholder:"you@example.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.email?"border-red-300":"border-gray-300"}`})]}),c.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(iC,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{...o("password"),type:"password",placeholder:"",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.password?"border-red-300":"border-gray-300"}`})]}),c.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(iC,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{...o("confirmPassword"),type:"password",placeholder:"",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.confirmPassword?"border-red-300":"border-gray-300"}`})]}),c.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.confirmPassword.message})]}),a.jsxs("div",{className:"space-y-4 border border-gray-300 rounded-lg p-4 bg-gray-50",children:[a.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:"Legal Agreements"}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-start cursor-pointer group",children:[a.jsx("input",{...o("terms"),type:"checkbox",className:"mt-0.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),a.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:["I agree to the"," ",a.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Terms"}),","," ",a.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Privacy Policy"}),","," ",a.jsx("a",{href:"/dmca",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"DMCA"}),", and"," ",a.jsx("a",{href:"/acceptable-use",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Acceptable Use Policy"})]})]}),c.terms&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:c.terms.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-start cursor-pointer",children:[a.jsx("input",{...o("photoOwnership"),type:"checkbox",className:"mt-0.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I certify I own or have proper authorization for all content I upload, and I accept full legal responsibility for my listings and photos"})]}),c.photoOwnership&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:c.photoOwnership.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-start cursor-pointer",children:[a.jsx("input",{...o("mlsAcknowledgment"),type:"checkbox",className:"mt-0.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 flex-shrink-0"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I understand MLS photo restrictions and will comply with Fair Housing laws"})]}),c.mlsAcknowledgment&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:c.mlsAcknowledgment.message})]}),a.jsxs("div",{className:"hidden",children:[a.jsx("input",{...o("fairHousing"),type:"checkbox",checked:!0,readOnly:!0}),a.jsx("input",{...o("fullResponsibility"),type:"checkbox",checked:!0,readOnly:!0})]}),a.jsx("p",{className:"text-xs text-gray-500 italic mt-2",children:"By creating an account, you agree to use AgentBio.net responsibly and in compliance with all applicable laws."})]}),a.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"h-5 w-5 animate-spin"}),"Creating account..."]}):"Create Account"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",a.jsx(xn,{to:"/auth/login",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Log in"})]})})]})]})})]})}function f$e(){const t=lm(),e=cm(),{profile:n,signOut:r,role:i}=ys(),[s,o]=C.useState(!1),l=[{label:"Home",icon:Ci,href:"/dashboard"},{label:"Listings",icon:USe,href:"/dashboard/listings"},{label:"Leads",icon:Nu,href:"/dashboard/leads"},{label:"Analytics",icon:ib,href:"/dashboard/analytics"}],c=[{label:"Testimonials",icon:$h,href:"/dashboard/testimonials"},{label:"Custom Links",icon:Uy,href:"/dashboard/links"},{label:"Quick Actions",icon:Vh,href:"/dashboard/quick-actions"},{label:"Page Builder",icon:zh,href:"/dashboard/page-builder"},{label:"Profile",icon:Hh,href:"/dashboard/profile"},{label:"Theme",icon:Z5,href:"/dashboard/theme"},{label:"Settings",icon:OS,href:"/dashboard/settings"}],u=async()=>{o(!1),await r(),e("/auth/login")},d=f=>{o(!1),e(f)},h=f=>t.pathname===f||t.pathname.startsWith(f+"/");return a.jsxs(a.Fragment,{children:[a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden safe-area-inset-bottom shadow-lg","aria-label":"Mobile navigation",children:a.jsxs("div",{className:"flex justify-around items-center h-16 px-1",children:[l.map(f=>{const p=h(f.href),m=f.icon;return a.jsxs(xn,{to:f.href,className:xt("flex flex-col items-center justify-center flex-1 h-full relative","transition-all duration-200 rounded-lg mx-0.5","min-w-[44px] min-h-[44px]","active:scale-95 active:bg-gray-100",p?"text-primary bg-primary/5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),"aria-label":f.label,"aria-current":p?"page":void 0,children:[a.jsxs("div",{className:"relative",children:[a.jsx(m,{className:xt("w-6 h-6 transition-transform",p&&"scale-110")}),f.badge&&f.badge>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-semibold animate-pulse","aria-label":`${f.badge} unread`,children:f.badge>99?"99+":f.badge})]}),a.jsx("span",{className:xt("text-xs mt-1 font-medium transition-all",p&&"font-semibold"),children:f.label})]},f.href)}),a.jsxs("button",{onClick:()=>o(!0),className:xt("flex flex-col items-center justify-center flex-1 h-full relative","transition-all duration-200 rounded-lg mx-0.5","min-w-[44px] min-h-[44px]","active:scale-95 active:bg-gray-100","text-gray-600 hover:text-gray-900 hover:bg-gray-50"),"aria-label":"Open menu with more options","aria-expanded":s,children:[a.jsx(dte,{className:"w-6 h-6"}),a.jsx("span",{className:"text-xs mt-1 font-medium",children:"More"})]})]})}),a.jsx(Ga,{open:s,onOpenChange:o,children:a.jsxs(Ta,{className:"sm:max-w-md max-h-[80vh] overflow-y-auto",children:[a.jsx(qa,{children:a.jsx(Ya,{children:"Menu"})}),a.jsxs("div",{className:"space-y-1 py-2",children:[a.jsxs(xn,{to:`/${(n==null?void 0:n.username)||""}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-3 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors min-h-[44px]",onClick:()=>o(!1),children:[a.jsx(Su,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-medium text-sm",children:"View My Public Profile"}),a.jsx("p",{className:"text-xs text-gray-500",children:"See how visitors see your page"})]})]}),a.jsx("div",{className:"border-t border-gray-200 my-2"}),i==="admin"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>d("/admin"),className:xt("flex items-center gap-3 px-3 py-3 rounded-lg transition-colors w-full text-left min-h-[44px]",h("/admin")?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"),children:[a.jsx(LP,{className:"h-5 w-5 flex-shrink-0"}),a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("span",{children:"Admin Panel"}),a.jsx(nn,{variant:"secondary",className:"text-xs",children:"ROOT"})]})]}),a.jsx("div",{className:"border-t border-gray-200 my-2"})]}),c.map(f=>{const p=f.icon,m=h(f.href);return a.jsxs("button",{onClick:()=>d(f.href),className:xt("flex items-center gap-3 px-3 py-3 rounded-lg transition-colors w-full text-left min-h-[44px]",m?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"),children:[a.jsx(p,{className:"h-5 w-5 flex-shrink-0"}),a.jsx("span",{children:f.label})]},f.href)}),a.jsx("div",{className:"border-t border-gray-200 my-2"}),a.jsxs("button",{onClick:u,className:"flex items-center gap-3 px-3 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors w-full text-left min-h-[44px]",children:[a.jsx(ute,{className:"h-5 w-5 flex-shrink-0"}),a.jsx("span",{children:"Log Out"})]})]})]})})]})}function p$e({href:t="#main-content",children:e="Skip to main content"}){return a.jsx("a",{href:t,className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-lg focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:e})}function m$e(){const t=lm(),e=cm(),{profile:n,signOut:r,role:i}=ys(),s=c=>t.pathname===c,o=async()=>{await r(),e("/auth/login")},l=c=>c?c.split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2):"U";return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(p$e,{}),a.jsxs("aside",{className:"hidden md:fixed md:block left-0 top-0 h-full w-64 bg-white border-r border-gray-200 z-40",children:[a.jsx("div",{className:"p-6",children:a.jsxs(xn,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-gray-900",children:[a.jsx(Ci,{className:"h-6 w-6 text-blue-600"}),"AgentBio.net"]})}),a.jsxs("nav",{className:"px-3 space-y-1",children:[a.jsx(uc,{to:"/dashboard",icon:a.jsx(DSe,{className:"h-5 w-5"}),label:"Dashboard",active:s("/dashboard")}),a.jsx(uc,{to:"/dashboard/listings",icon:a.jsx(ite,{className:"h-5 w-5"}),label:"Listings",active:s("/dashboard/listings")}),a.jsx(uc,{to:"/dashboard/leads",icon:a.jsx(Nu,{className:"h-5 w-5"}),label:"Leads",active:s("/dashboard/leads")}),a.jsx(uc,{to:"/dashboard/testimonials",icon:a.jsx($h,{className:"h-5 w-5"}),label:"Testimonials",active:s("/dashboard/testimonials")}),a.jsx(uc,{to:"/dashboard/links",icon:a.jsx(Uy,{className:"h-5 w-5"}),label:"Custom Links",active:s("/dashboard/links")}),a.jsx(uc,{to:"/dashboard/analytics",icon:a.jsx(ib,{className:"h-5 w-5"}),label:"Analytics",active:s("/dashboard/analytics")}),a.jsx(uc,{to:"/dashboard/quick-actions",icon:a.jsx(Vh,{className:"h-5 w-5"}),label:"Quick Actions",active:s("/dashboard/quick-actions")}),a.jsx(uc,{to:"/dashboard/page-builder",icon:a.jsx(zh,{className:"h-5 w-5"}),label:"Page Builder",active:s("/dashboard/page-builder")}),a.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200",children:[i==="admin"&&a.jsx(uc,{to:"/admin",icon:a.jsx(LP,{className:"h-5 w-5"}),label:a.jsxs("div",{className:"flex items-center gap-2",children:["Admin",a.jsx(nn,{variant:"secondary",className:"text-xs",children:"ROOT"})]}),active:s("/admin")}),a.jsx(uc,{to:"/dashboard/profile",icon:a.jsx(Hh,{className:"h-5 w-5"}),label:"Profile",active:s("/dashboard/profile")}),a.jsx(uc,{to:"/dashboard/theme",icon:a.jsx(Z5,{className:"h-5 w-5"}),label:"Theme",active:s("/dashboard/theme")}),a.jsx(uc,{to:"/dashboard/settings",icon:a.jsx(OS,{className:"h-5 w-5"}),label:"Settings",active:s("/dashboard/settings")})]})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:a.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 w-full px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx(ute,{className:"h-5 w-5"}),a.jsx("span",{children:"Log Out"})]})})]}),a.jsxs("div",{className:"md:ml-64 min-h-screen",children:[a.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-30 safe-area-inset-top",children:a.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between gap-2 sm:gap-4",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:"Dashboard"}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0",children:[a.jsxs(xn,{to:`/${(n==null?void 0:n.username)||""}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 font-medium whitespace-nowrap min-h-[44px] flex items-center","aria-label":`View your public profile page as ${n==null?void 0:n.username}`,children:[a.jsx("span",{className:"hidden sm:inline",children:"View My Public Profile"}),a.jsx("span",{className:"sm:hidden",children:"Profile"})," "]}),a.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-sm sm:text-base text-blue-600 font-semibold",children:l(n==null?void 0:n.full_name)})})]})]})}),a.jsx("main",{id:"main-content",className:"p-4 sm:p-5 md:p-6 pb-24 sm:pb-24 md:pb-6 safe-area-inset-bottom",tabIndex:-1,children:a.jsx(abe,{})})]}),a.jsx(f$e,{})]})}function uc({to:t,icon:e,label:n,active:r}){return a.jsxs(xn,{to:t,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${r?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e,a.jsx("span",{children:n})]})}function joe(){const{user:t}=ys(),{data:e=[],isLoading:n}=Xr({queryKey:["analytics-views",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:d,error:h}=await Ye.from("analytics_views").select("*").eq("user_id",t.id).order("viewed_at",{ascending:!1});if(h)throw h;return d},enabled:!!(t!=null&&t.id)}),{data:r=[],isLoading:i}=Xr({queryKey:["analytics-leads",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:d,error:h}=await Ye.from("leads").select("*").eq("user_id",t.id);if(h)throw h;return d},enabled:!!(t!=null&&t.id)}),s={totalViews:e.length,uniqueVisitors:new Set(e.map(d=>d.visitor_id)).size,totalLeads:r.length,conversionRate:e.length>0?(r.length/e.length*100).toFixed(2):"0.00"},o=e.reduce((d,h)=>{const f=new Date(h.viewed_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});return d[f]||(d[f]={name:f,views:0,visitors:new Set}),d[f].views++,h.visitor_id&&d[f].visitors.add(h.visitor_id),d},{}),l=Object.values(o).map(d=>({name:d.name,views:d.views,visitors:d.visitors.size})),c=r.reduce((d,h)=>{const f=h.lead_type||"contact";return d[f]=(d[f]||0)+1,d},{}),u=Object.entries(c).map(([d,h])=>({name:d.charAt(0).toUpperCase()+d.slice(1),value:h}));return{stats:s,viewsData:l,leadsData:u,recentLeads:r.slice(0,10),isLoading:n||i}}function Xz(){const{user:t}=ys(),e=el(),{data:n=[],isLoading:r}=Xr({queryKey:["links",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:c,error:u}=await Ye.from("links").select("*").eq("user_id",t.id).order("position",{ascending:!0});if(u)throw u;return c},enabled:!!(t!=null&&t.id)}),i=zn({mutationFn:async c=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const u=n.length>0?Math.max(...n.map(f=>f.position)):-1,{data:d,error:h}=await Ye.from("links").insert({user_id:t.id,title:c.title,url:c.url,icon:c.icon,position:u+1,is_active:c.active}).select().single();if(h)throw h;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["links",t==null?void 0:t.id]})}}),s=zn({mutationFn:async({id:c,...u})=>{const{data:d,error:h}=await Ye.from("links").update(u).eq("id",c).select().single();if(h)throw h;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["links",t==null?void 0:t.id]})}}),o=zn({mutationFn:async c=>{const{error:u}=await Ye.from("links").delete().eq("id",c);if(u)throw u},onSuccess:()=>{e.invalidateQueries({queryKey:["links",t==null?void 0:t.id]})}}),l=zn({mutationFn:async({id:c,is_active:u})=>{const{error:d}=await Ye.from("links").update({is_active:u}).eq("id",c);if(d)throw d},onSuccess:()=>{e.invalidateQueries({queryKey:["links",t==null?void 0:t.id]})}});return{links:n,isLoading:r,addLink:i,updateLink:s,deleteLink:o,toggleActive:l}}var Kz="Progress",Zz=100,[g$e]=Rc(Kz),[y$e,v$e]=g$e(Kz),Aoe=C.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=x$e,...o}=t;(i||i===0)&&!U7(i)&&console.error(b$e(`${i}`,"Progress"));const l=U7(i)?i:Zz;r!==null&&!B7(r,l)&&console.error(w$e(`${r}`,"Progress"));const c=B7(r,l)?r:null,u=c2(c)?s(c,l):void 0;return a.jsx(y$e,{scope:n,value:c,max:l,children:a.jsx(Fn.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":c2(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Moe(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});Aoe.displayName=Kz;var Noe="ProgressIndicator",Toe=C.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=v$e(Noe,n);return a.jsx(Fn.div,{"data-state":Moe(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});Toe.displayName=Noe;function x$e(t,e){return`${Math.round(t/e*100)}%`}function Moe(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function c2(t){return typeof t=="number"}function U7(t){return c2(t)&&!isNaN(t)&&t>0}function B7(t,e){return c2(t)&&!isNaN(t)&&t<=e&&t>=0}function b$e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Zz}\`.`}function w$e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Zz} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Coe=Aoe,_$e=Toe;const Qz=C.forwardRef(({className:t,value:e,...n},r)=>a.jsx(Coe,{ref:r,className:xt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:a.jsx(_$e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Qz.displayName=Coe.displayName;function Poe(){const{user:t}=ys(),e=el(),{data:n,isLoading:r}=Xr({queryKey:["profile",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{data:s,error:o}=await Ye.from("profiles").select("*").eq("id",t.id).single();if(o)throw o;return s},enabled:!!(t!=null&&t.id)}),i=zn({mutationFn:async s=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{data:o,error:l}=await Ye.from("profiles").update(s).eq("id",t.id).select().single();if(l)throw l;return o},onSuccess:()=>{e.invalidateQueries({queryKey:["profile",t==null?void 0:t.id]})}});return{profile:n,isLoading:r,updateProfile:i}}function koe(){const{user:t}=ys(),e=el(),{data:n=[],isLoading:r}=Xr({queryKey:["listings",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:l,error:c}=await Ye.from("listings").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(c)throw c;return l},enabled:!!(t!=null&&t.id)}),i=zn({mutationFn:async l=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{data:c,error:u}=await Ye.from("listings").insert({user_id:t.id,...l}).select().single();if(u)throw u;return c},onSuccess:()=>{e.invalidateQueries({queryKey:["listings",t==null?void 0:t.id]})}}),s=zn({mutationFn:async({id:l,...c})=>{const{data:u,error:d}=await Ye.from("listings").update(c).eq("id",l).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["listings",t==null?void 0:t.id]})}}),o=zn({mutationFn:async l=>{const{error:c}=await Ye.from("listings").delete().eq("id",l);if(c)throw c},onSuccess:()=>{e.invalidateQueries({queryKey:["listings",t==null?void 0:t.id]})}});return{listings:n,isLoading:r,addListing:i,updateListing:s,deleteListing:o}}function Ooe(){const{user:t}=ys(),e=el(),{data:n=[],isLoading:r}=Xr({queryKey:["testimonials",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:l,error:c}=await Ye.from("testimonials").select("*").eq("user_id",t.id).order("date",{ascending:!1});if(c)throw c;return l},enabled:!!(t!=null&&t.id)}),i=zn({mutationFn:async l=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{data:c,error:u}=await Ye.from("testimonials").insert({user_id:t.id,...l}).select().single();if(u)throw u;return c},onSuccess:()=>{e.invalidateQueries({queryKey:["testimonials",t==null?void 0:t.id]})}}),s=zn({mutationFn:async({id:l,...c})=>{const{data:u,error:d}=await Ye.from("testimonials").update(c).eq("id",l).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["testimonials",t==null?void 0:t.id]})}}),o=zn({mutationFn:async l=>{const{error:c}=await Ye.from("testimonials").delete().eq("id",l);if(c)throw c},onSuccess:()=>{e.invalidateQueries({queryKey:["testimonials",t==null?void 0:t.id]})}});return{testimonials:n,isLoading:r,addTestimonial:i,updateTestimonial:s,deleteTestimonial:o}}function S$e(){const{data:t}=Poe(),{data:e}=koe(),{data:n}=Ooe(),{data:r}=Xz();if(!t)return null;const i=[{id:"avatar",label:"Add profile photo",description:"Upload a professional headshot",completed:!!t.avatar_url,link:"/dashboard/profile",priority:"high"},{id:"bio",label:"Write your bio",description:"Tell visitors about your experience",completed:!!t.bio&&t.bio.length>50,link:"/dashboard/profile",priority:"high"},{id:"contact",label:"Add contact info",description:"Phone and email for leads",completed:!!t.phone||!!t.email_display,link:"/dashboard/profile",priority:"high"},{id:"listings",label:"Add your first listing",description:"Showcase properties you're selling",completed:((e==null?void 0:e.length)||0)>0,link:"/dashboard/listings",priority:"medium"},{id:"testimonials",label:"Add testimonials",description:"Build trust with client reviews",completed:((n==null?void 0:n.length)||0)>0,link:"/dashboard/testimonials",priority:"medium"},{id:"links",label:"Add custom links",description:"Link to your website and social",completed:((r==null?void 0:r.length)||0)>0,link:"/dashboard/links",priority:"low"},{id:"theme",label:"Customize theme",description:"Match your brand colors",completed:!!t.theme,link:"/dashboard/theme",priority:"low"}],s=i.filter(d=>d.completed).length,o=i.length,l=Math.round(s/o*100);if(l===100)return null;const u=i.filter(d=>d.priority==="high"&&!d.completed)[0]||i.find(d=>!d.completed);return a.jsxs(Qt,{className:"border-blue-200 bg-blue-50/50",children:[a.jsxs(dr,{children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs(hr,{className:"text-lg flex items-center gap-2",children:[l<50?a.jsx(ij,{className:"w-5 h-5 text-orange-500"}):a.jsx(_V,{className:"w-5 h-5 text-blue-500"}),"Profile Completion"]}),a.jsxs(qr,{children:[l,"% complete - ",s," of ",o," steps done"]})]})}),a.jsx(Qz,{value:l,className:"mt-4"})]}),a.jsxs(vn,{className:"space-y-4",children:[u&&a.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:s+1})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h4",{className:"font-semibold text-gray-900",children:["Next: ",u.label]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.description}),a.jsx(xn,{to:u.link,className:"inline-block mt-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:"Complete this step "})]})]})}),a.jsxs("details",{className:"group",children:[a.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-gray-900 list-none flex items-center gap-2",children:[a.jsx("span",{children:"View all steps"}),a.jsx("span",{className:"group-open:rotate-180 transition-transform",children:""})]}),a.jsx("div",{className:"mt-3 space-y-2",children:i.map(d=>a.jsxs(xn,{to:d.link,className:"flex items-start gap-3 p-2 rounded-lg hover:bg-white transition-colors group/item",children:[d.completed?a.jsx(Cu,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):a.jsx(_V,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:`text-sm font-medium ${d.completed?"text-gray-500 line-through":"text-gray-900"}`,children:d.label}),a.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})]},d.id))})]})]})]})}const E$e={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"};function j$e({size:t="md",className:e,fullScreen:n=!1}){const r=a.jsx(zr,{className:xt("animate-spin text-blue-600",E$e[t],e)});return n?a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white/80 backdrop-blur-sm z-50",children:a.jsxs("div",{className:"text-center",children:[r,a.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading..."})]})}):r}function A$e(){const{stats:t,recentLeads:e,isLoading:n}=joe(),{links:r}=Xz(),i=r.reduce((s,o)=>s+(o.click_count||0),0);return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(j$e,{size:"lg"})}):a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Welcome Back!"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Here's what's happening with your profile"})]}),a.jsx(S$e,{}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:[a.jsx(RT,{icon:a.jsx(Wa,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"}),label:"Profile Views",value:t.totalViews.toLocaleString()}),a.jsx(RT,{icon:a.jsx(Nu,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"}),label:"New Leads",value:t.totalLeads.toString()}),a.jsx(RT,{icon:a.jsx(EV,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"}),label:"Link Clicks",value:i.toLocaleString()}),a.jsx(RT,{icon:a.jsx(Qr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600"}),label:"Conversion Rate",value:`${t.conversionRate}%`})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs(Qt,{children:[a.jsx(dr,{className:"pb-3 sm:pb-4",children:a.jsx(hr,{className:"text-base sm:text-lg",children:"Recent Leads"})}),a.jsx(vn,{children:e.length>0?a.jsx("div",{className:"space-y-2 sm:space-y-3",children:e.slice(0,5).map(s=>a.jsxs("div",{className:"flex items-center justify-between py-2 sm:py-2.5 border-b border-border last:border-0 gap-2 min-h-[44px]",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:s.name}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:s.email})]}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full flex-shrink-0 font-medium ${s.status==="new"?"bg-blue-100 text-blue-700":s.status==="contacted"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:s.status})]},s.id))}):a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground text-center py-6 sm:py-8",children:"No leads yet"})})]}),a.jsxs(Qt,{children:[a.jsx(dr,{className:"pb-3 sm:pb-4",children:a.jsx(hr,{className:"text-base sm:text-lg",children:"Top Links"})}),a.jsx(vn,{children:r.length>0?a.jsx("div",{className:"space-y-2 sm:space-y-3",children:r.sort((s,o)=>(o.click_count||0)-(s.click_count||0)).slice(0,5).map(s=>a.jsxs("div",{className:"flex items-center justify-between py-2 sm:py-2.5 border-b border-border last:border-0 gap-2 min-h-[44px]",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:s.title}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:s.url})]}),a.jsxs("div",{className:"flex items-center gap-1 text-sm sm:text-base text-muted-foreground flex-shrink-0",children:[a.jsx(EV,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"font-medium",children:s.click_count||0})]})]},s.id))}):a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground text-center py-6 sm:py-8",children:"No links added yet"})})]})]})]})}function RT({icon:t,label:e,value:n}){return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4 md:p-6 hover:shadow-md transition-shadow active:scale-[0.98] cursor-pointer",children:[a.jsx("div",{className:"flex items-center mb-2 sm:mb-3 md:mb-4",children:a.jsx("div",{className:"p-1.5 sm:p-2 bg-gray-50 rounded-lg",children:t})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:e}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 break-all",children:n})]})]})}function N$e({open:t,onOpenChange:e,onSave:n}){const[r,i]=C.useState({address:"",city:"",state:"",zipCode:"",price:"",beds:3,baths:2,sqft:"",lotSize:"",propertyType:"single-family",status:"active",description:"",mlsNumber:"",yearBuilt:"",images:[]}),[s,o]=C.useState([]),l=f=>{const{name:p,value:m}=f.target;i(y=>({...y,[p]:m}))},c=(f,p)=>{const m=parseInt(p)||0;i(y=>({...y,[f]:m}))},u=f=>{const p=Array.from(f.target.files||[]);i(m=>({...m,images:[...m.images,...p]})),p.forEach(m=>{const y=new FileReader;y.onloadend=()=>{o(b=>[...b,y.result])},y.readAsDataURL(m)})},d=f=>{i(p=>({...p,images:p.images.filter((m,y)=>y!==f)})),o(p=>p.filter((m,y)=>y!==f))},h=f=>{f.preventDefault(),n==null||n(r),e(!1),i({address:"",city:"",state:"",zipCode:"",price:"",beds:3,baths:2,sqft:"",lotSize:"",propertyType:"single-family",status:"active",description:"",mlsNumber:"",yearBuilt:"",images:[]}),o([])};return a.jsx(Ga,{open:t,onOpenChange:e,children:a.jsxs(Ta,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(qa,{children:[a.jsx(Ya,{children:"Add New Property Listing"}),a.jsx(Hl,{children:"Fill in the details for your property listing"})]}),a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Property Address"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx(ct,{htmlFor:"address",children:"Street Address *"}),a.jsx(Yt,{id:"address",name:"address",value:r.address,onChange:l,placeholder:"123 Main Street",required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"city",children:"City *"}),a.jsx(Yt,{id:"city",name:"city",value:r.city,onChange:l,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"state",children:"State *"}),a.jsx(Yt,{id:"state",name:"state",value:r.state,onChange:l,maxLength:2,placeholder:"CA",required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"zipCode",children:"Zip *"}),a.jsx(Yt,{id:"zipCode",name:"zipCode",value:r.zipCode,onChange:l,placeholder:"94102",required:!0})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Property Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"price",children:"Price *"}),a.jsx(Yt,{id:"price",name:"price",value:r.price,onChange:l,placeholder:"1,250,000",required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"propertyType",children:"Property Type *"}),a.jsxs($n,{value:r.propertyType,onValueChange:f=>i(p=>({...p,propertyType:f})),children:[a.jsx(Ln,{children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"single-family",children:"Single Family"}),a.jsx(Ie,{value:"condo",children:"Condo"}),a.jsx(Ie,{value:"townhouse",children:"Townhouse"}),a.jsx(Ie,{value:"multi-family",children:"Multi-Family"}),a.jsx(Ie,{value:"land",children:"Land"}),a.jsx(Ie,{value:"commercial",children:"Commercial"})]})]})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"beds",children:"Bedrooms *"}),a.jsx(Yt,{id:"beds",type:"number",value:r.beds,onChange:f=>c("beds",f.target.value),min:0,required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"baths",children:"Bathrooms *"}),a.jsx(Yt,{id:"baths",type:"number",value:r.baths,onChange:f=>c("baths",f.target.value),min:0,step:.5,required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"sqft",children:"Square Feet *"}),a.jsx(Yt,{id:"sqft",name:"sqft",value:r.sqft,onChange:l,placeholder:"2,400",required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"lotSize",children:"Lot Size"}),a.jsx(Yt,{id:"lotSize",name:"lotSize",value:r.lotSize,onChange:l,placeholder:"0.25 acres"})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"status",children:"Status *"}),a.jsxs($n,{value:r.status,onValueChange:f=>i(p=>({...p,status:f})),children:[a.jsx(Ln,{children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"active",children:"Active"}),a.jsx(Ie,{value:"pending",children:"Pending"}),a.jsx(Ie,{value:"sold",children:"Sold"}),a.jsx(Ie,{value:"off-market",children:"Off Market"})]})]})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"yearBuilt",children:"Year Built"}),a.jsx(Yt,{id:"yearBuilt",name:"yearBuilt",value:r.yearBuilt,onChange:l,placeholder:"2015"})]})]})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"description",children:"Description"}),a.jsx(Jo,{id:"description",name:"description",value:r.description,onChange:l,rows:4,placeholder:"Beautiful property with stunning views..."})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"mlsNumber",children:"MLS Number"}),a.jsx(Yt,{id:"mlsNumber",name:"mlsNumber",value:r.mlsNumber,onChange:l,placeholder:"ML81234567"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ct,{children:"Property Photos"}),a.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:bg-accent/50 transition-colors cursor-pointer",children:[a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:u,className:"hidden",id:"image-upload"}),a.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[a.jsx(aC,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG up to 5MB (max 25 images)"})]})]}),s.length>0&&a.jsx("div",{className:"grid grid-cols-4 gap-3",children:s.map((f,p)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:f,alt:`Preview ${p+1}`,className:"w-full h-24 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>d(p),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(tl,{className:"h-3 w-3"})})]},p))})]}),a.jsxs(em,{children:[a.jsx(He,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),a.jsx(He,{type:"submit",children:"Add Listing"})]})]})]})})}function T$e({isOpen:t,onClose:e,onSubmit:n,initialData:r}){const[i,s]=C.useState(r);if(C.useEffect(()=>{s(r)},[r]),!t)return null;const o=l=>{l.preventDefault(),n(i)};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-card border-b border-border p-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Edit Property Listing"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-accent rounded-lg transition-colors",children:a.jsx(tl,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx(ct,{htmlFor:"address",children:"Street Address *"}),a.jsx(Yt,{id:"address",value:i.address,onChange:l=>s({...i,address:l.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"city",children:"City *"}),a.jsx(Yt,{id:"city",value:i.city,onChange:l=>s({...i,city:l.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"price",children:"Price *"}),a.jsx(Yt,{id:"price",value:i.price,onChange:l=>s({...i,price:l.target.value}),placeholder:"$450,000",required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"beds",children:"Bedrooms *"}),a.jsx(Yt,{id:"beds",type:"number",value:i.beds,onChange:l=>s({...i,beds:parseInt(l.target.value)}),required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"baths",children:"Bathrooms *"}),a.jsx(Yt,{id:"baths",type:"number",value:i.baths,onChange:l=>s({...i,baths:parseInt(l.target.value)}),required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"sqft",children:"Square Feet"}),a.jsx(Yt,{id:"sqft",type:"number",value:i.sqft||"",onChange:l=>s({...i,sqft:parseInt(l.target.value)||void 0})})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"status",children:"Status *"}),a.jsxs($n,{value:i.status,onValueChange:l=>s({...i,status:l}),children:[a.jsx(Ln,{children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"active",children:"Active"}),a.jsx(Ie,{value:"pending",children:"Pending"}),a.jsx(Ie,{value:"under_contract",children:"Under Contract"}),a.jsx(Ie,{value:"sold",children:"Sold"})]})]})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"property_type",children:"Property Type"}),a.jsxs($n,{value:i.property_type||"",onValueChange:l=>s({...i,property_type:l}),children:[a.jsx(Ln,{children:a.jsx(Hn,{placeholder:"Select type"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"single_family",children:"Single Family"}),a.jsx(Ie,{value:"condo",children:"Condo"}),a.jsx(Ie,{value:"townhouse",children:"Townhouse"}),a.jsx(Ie,{value:"multi_family",children:"Multi-Family"}),a.jsx(Ie,{value:"land",children:"Land"})]})]})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"mls_number",children:"MLS Number"}),a.jsx(Yt,{id:"mls_number",value:i.mls_number||"",onChange:l=>s({...i,mls_number:l.target.value})})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(ct,{htmlFor:"description",children:"Description"}),a.jsx(Jo,{id:"description",value:i.description||"",onChange:l=>s({...i,description:l.target.value}),rows:4,placeholder:"Describe the property features..."})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(ct,{htmlFor:"image",children:"Image URL"}),a.jsx(Yt,{id:"image",type:"url",value:i.image||"",onChange:l=>s({...i,image:l.target.value}),placeholder:"https://example.com/image.jpg"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(He,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),a.jsx(He,{type:"submit",className:"flex-1",children:"Save Changes"})]})]})]})})}function Oj(){const{user:t}=ys(),{data:e,isLoading:n}=Xr({queryKey:["subscription",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{data:d,error:h}=await Ye.from("subscriptions").select("*").eq("user_id",t.id).single();if(h)throw h;return d},enabled:!!(t!=null&&t.id)}),{data:r,isLoading:i}=Xr({queryKey:["usage",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return{listings:0,links:0,testimonials:0};const[d,h,f]=await Promise.all([Ye.from("listings").select("id",{count:"exact"}).eq("user_id",t.id),Ye.from("links").select("id",{count:"exact"}).eq("user_id",t.id),Ye.from("testimonials").select("id",{count:"exact"}).eq("user_id",t.id)]);return{listings:d.count||0,links:h.count||0,testimonials:f.count||0}},enabled:!!(t!=null&&t.id)}),s=d=>{if(!e||!r)return!1;const h=e[`max_${d}`],f=r[d];return h===-1?!0:f<h},o=d=>(e==null?void 0:e[d])||!1,l=d=>{if(!e)return 0;const h=e[`max_${d}`];return h===-1?1/0:h},c=d=>(r==null?void 0:r[d])||0;return{subscription:e,usage:r,isLoading:n||i,canAdd:s,hasFeature:o,getLimit:l,getUsage:c,getRemainingCount:d=>{const h=l(d),f=c(d);return h===1/0?1/0:Math.max(0,h-f)}}}const M$e={listings:{plan:"Starter",icon:Qr},testimonials:{plan:"Starter",icon:sI},links:{plan:"Starter",icon:Qr},custom_domain:{plan:"Professional",icon:sI},lead_export:{plan:"Starter",icon:Qr},analytics:{plan:"Professional",icon:Qr},premium_themes:{plan:"Professional",icon:sI}};function Rj({open:t,onOpenChange:e,feature:n,currentPlan:r="Free",requiredPlan:i}){const s=M$e[n]||{plan:"Professional",icon:Vh},o=s.icon,l=i||s.plan;return a.jsx(Ga,{open:t,onOpenChange:e,children:a.jsxs(Ta,{className:"sm:max-w-md",children:[a.jsxs(qa,{children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mx-auto mb-4",children:a.jsx(o,{className:"w-6 h-6 text-primary"})}),a.jsxs(Ya,{className:"text-center text-2xl",children:["Upgrade to unlock ",n.replace(/_/g," ")]}),a.jsxs(Hl,{className:"text-center pt-2",children:["You've reached the limit of your ",a.jsx(nn,{variant:"secondary",children:r})," plan. Upgrade to ",a.jsx(nn,{variant:"default",children:l})," to unlock this feature."]})]}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 my-4",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"What you'll get:"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[n==="listings"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{className:"flex items-center gap-2",children:" Up to 20 active listings (Starter)"}),a.jsx("li",{className:"flex items-center gap-2",children:" Featured property showcase"}),a.jsx("li",{className:"flex items-center gap-2",children:" Sold properties tracking"})]}),n==="testimonials"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{className:"flex items-center gap-2",children:" Up to 10 testimonials (Starter)"}),a.jsx("li",{className:"flex items-center gap-2",children:" Client reviews showcase"}),a.jsx("li",{className:"flex items-center gap-2",children:" Rating display"})]}),n==="links"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{className:"flex items-center gap-2",children:" Up to 15 custom links (Starter)"}),a.jsx("li",{className:"flex items-center gap-2",children:" Link analytics"}),a.jsx("li",{className:"flex items-center gap-2",children:" Custom icons"})]}),n==="lead_export"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{className:"flex items-center gap-2",children:" Export all leads to CSV"}),a.jsx("li",{className:"flex items-center gap-2",children:" CRM integration ready"}),a.jsx("li",{className:"flex items-center gap-2",children:" Lead management tools"})]}),n==="custom_domain"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{className:"flex items-center gap-2",children:" Connect your own domain"}),a.jsx("li",{className:"flex items-center gap-2",children:" Professional branding"}),a.jsx("li",{className:"flex items-center gap-2",children:" SSL certificate included"})]}),n==="premium_themes"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{className:"flex items-center gap-2",children:" 10+ premium themes"}),a.jsx("li",{className:"flex items-center gap-2",children:" 3D animated backgrounds"}),a.jsx("li",{className:"flex items-center gap-2",children:" Advanced customization"})]})]})]}),a.jsxs(em,{className:"gap-2 sm:gap-0",children:[a.jsx(He,{variant:"outline",onClick:()=>e(!1),children:"Maybe Later"}),a.jsx(xn,{to:"/pricing",children:a.jsxs(He,{className:"w-full sm:w-auto",children:[a.jsx(Vh,{className:"w-4 h-4 mr-2"}),"View Plans"]})})]})]})})}const C$e=BP("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Jz=C.forwardRef(({className:t,variant:e,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:xt(C$e({variant:e}),t),...n}));Jz.displayName="Alert";const P$e=C.forwardRef(({className:t,...e},n)=>a.jsx("h5",{ref:n,className:xt("mb-1 font-medium leading-none tracking-tight",t),...e}));P$e.displayName="AlertTitle";const e6=C.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:xt("text-sm [&_p]:leading-relaxed",t),...e}));e6.displayName="AlertDescription";function t6({feature:t,current:e,limit:n,className:r}){const i=e/n*100,s=e>=n;return!(i>=80)&&!s?null:a.jsxs(Jz,{className:r,variant:s?"destructive":"default",children:[a.jsx(DP,{className:"h-4 w-4"}),a.jsxs(e6,{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold mb-2",children:s?`You've reached your ${t} limit`:`You're running out of ${t}`}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{children:[e," of ",n," used"]}),a.jsxs("span",{className:"text-muted-foreground",children:[Math.round(i),"%"]})]}),a.jsx(Qz,{value:i,className:"h-2"})]})]}),a.jsx(xn,{to:"/pricing",children:a.jsxs(He,{size:"sm",variant:s?"secondary":"outline",children:[a.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Upgrade"]})})]})]})}function k$e(){const[t,e]=C.useState(""),[n,r]=C.useState(!1),[i,s]=C.useState(null),[o,l]=C.useState(!1),{toast:c}=Ud(),{listings:u,addListing:d,deleteListing:h}=koe(),{subscription:f,canAdd:p,getLimit:m,getUsage:y}=Oj(),b=()=>{if(!p("listings")){l(!0);return}r(!0)},v=async j=>{try{await d.mutateAsync(j),c({title:"Listing added!",description:"Your property listing has been created successfully."}),r(!1)}catch{c({title:"Error",description:"Failed to add listing. Please try again.",variant:"destructive"})}},_=async j=>{if(confirm("Are you sure you want to delete this listing?"))try{await h.mutateAsync(j),c({title:"Listing deleted",description:"Property listing has been removed."})}catch{c({title:"Error",description:"Failed to delete listing.",variant:"destructive"})}},S=async j=>{if(i)try{const{data:{user:N}}=await Ye.auth.getUser();if(!N)throw new Error("Not authenticated");const{error:A}=await Ye.from("listings").update({address:j.address,city:j.city,price:j.price,beds:j.beds,baths:j.baths,sqft:j.sqft,status:j.status,image:j.image,description:j.description,mls_number:j.mls_number,property_type:j.property_type,updated_at:new Date().toISOString()}).eq("id",i.id).eq("user_id",N.id);if(A)throw A;c({title:"Listing updated!",description:"Your property listing has been updated successfully."}),s(null),window.location.reload()}catch{c({title:"Error",description:"Failed to update listing. Please try again.",variant:"destructive"})}};return a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Property Listings"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-0.5 sm:mt-1",children:"Manage your active and sold properties"})]}),a.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-4 py-2.5 sm:py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 active:scale-95 transition-all font-medium min-h-[44px] w-full sm:w-auto justify-center shadow-sm",children:[a.jsx(Ps,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Add Property"})]})]}),f&&m("listings")!==1/0&&a.jsx(t6,{feature:"listings",current:y("listings"),limit:m("listings")}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(av,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"}),a.jsx("input",{type:"text",placeholder:"Search properties...",value:t,onChange:j=>e(j.target.value),className:"w-full pl-10 pr-4 py-2.5 sm:py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base min-h-[44px]"})]}),a.jsxs("button",{className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 sm:py-2 bg-background border border-border rounded-lg hover:bg-accent active:scale-95 transition-all min-h-[44px] w-full sm:w-auto",children:[a.jsx(ISe,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Filters"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[a.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 sm:p-4 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-foreground",children:u.length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:"Total"})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 sm:p-4 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:u.filter(j=>j.status==="active").length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:"Active"})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 sm:p-4 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:u.filter(j=>j.status==="pending").length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:"Pending"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:u.map(j=>a.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden hover:shadow-lg active:shadow-xl transition-all group",children:[a.jsxs("div",{className:"relative h-44 sm:h-48 overflow-hidden",children:[a.jsx("img",{src:j.image,alt:j.address,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),a.jsx("div",{className:"absolute top-2 sm:top-3 left-2 sm:left-3",children:a.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-medium ${j.status==="active"?"bg-green-500 text-white shadow-md":"bg-yellow-500 text-white shadow-md"}`,children:j.status})}),a.jsxs("div",{className:"absolute top-2 sm:top-3 right-2 sm:right-3 flex gap-1.5 sm:gap-2",children:[a.jsx("button",{onClick:()=>s(j),className:"p-2 sm:p-2.5 bg-white/90 backdrop-blur-sm rounded-full hover:bg-white active:scale-90 transition-all shadow-md min-w-[44px] min-h-[44px] flex items-center justify-center",title:"Edit listing","aria-label":"Edit listing",children:a.jsx(ov,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>_(j.id),className:"p-2 sm:p-2.5 bg-white/90 backdrop-blur-sm rounded-full hover:bg-white active:scale-90 transition-all text-red-600 shadow-md min-w-[44px] min-h-[44px] flex items-center justify-center",title:"Delete listing","aria-label":"Delete listing",children:a.jsx(qp,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"mb-2 sm:mb-3",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-primary mb-1",children:j.price}),a.jsx("div",{className:"font-medium text-sm sm:text-base text-foreground",children:j.address}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:j.city})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground mb-3 sm:mb-4 flex-wrap",children:[a.jsxs("span",{children:[j.beds," beds"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[j.baths," baths"]}),j.sqft&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{className:"whitespace-nowrap",children:[j.sqft.toLocaleString()," sqft"]})]})]}),a.jsx("div",{className:"flex items-center justify-between pt-2 sm:pt-3 border-t border-border",children:a.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["Listed ",new Date(j.created_at).toLocaleDateString()]})})]})]},j.id))}),u.length===0&&a.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 bg-accent rounded-full mb-3 sm:mb-4",children:a.jsx(Ps,{className:"h-7 w-7 sm:h-8 sm:w-8 text-muted-foreground"})}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-1 sm:mb-2",children:"No properties yet"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4 sm:mb-6 max-w-sm mx-auto",children:"Start by adding your first property listing"}),a.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 active:scale-95 transition-all font-medium min-h-[44px] shadow-md",children:[a.jsx(Ps,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Add Your First Property"})]})]}),a.jsx(N$e,{isOpen:n,onClose:()=>r(!1),onSubmit:v}),i&&a.jsx(T$e,{isOpen:!!i,onClose:()=>s(null),onSubmit:S,initialData:{address:i.address,city:i.city,price:i.price,beds:i.beds,baths:i.baths,sqft:i.sqft,status:i.status,image:i.image,description:i.description,mls_number:i.mls_number,property_type:i.property_type}}),a.jsx(Rj,{open:o,onOpenChange:l,feature:"listings",currentPlan:(f==null?void 0:f.plan_name)||"Free",requiredPlan:"Starter"})]})}function O$e(){const[t,e]=C.useState(""),[n,r]=C.useState(!1),{user:i}=ys(),{toast:s}=Ud(),{subscription:o}=Oj(),{data:l,isLoading:c}=Xr({queryKey:["leads",i==null?void 0:i.id],queryFn:async()=>{if(!(i!=null&&i.id))return[];const{data:p,error:m}=await Ye.from("leads").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});if(m)throw m;return p},enabled:!!(i!=null&&i.id)}),u=()=>{if((o==null?void 0:o.plan_name)==="free"){r(!0);return}if(!l||l.length===0){s({title:"No leads to export",description:"You don't have any leads yet.",variant:"destructive"});return}const m=[["Name","Email","Phone","Type","Message","Status","Created At"].join(","),...l.map(_=>[_.name,_.email,_.phone||"",_.lead_type,`"${(_.message||"").replace(/"/g,'""')}"`,_.status,new Date(_.created_at).toLocaleDateString()].join(","))].join(`
`),y=new Blob([m],{type:"text/csv"}),b=URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=`leads-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(b),s({title:"Leads exported",description:`Successfully exported ${l.length} leads to CSV`})},d=p=>{const y={new:{variant:"default",label:"New"},contacted:{variant:"secondary",label:"Contacted"},qualified:{variant:"outline",label:"Qualified"},converted:{variant:"default",label:"Converted"}}[p]||{variant:"outline",label:p};return a.jsx(nn,{variant:y.variant,children:y.label})},h=p=>{switch(p){case"buyer":return a.jsx(Hh,{className:"h-4 w-4"});case"seller":return a.jsx(Ko,{className:"h-4 w-4"});case"valuation":return a.jsx(Li,{className:"h-4 w-4"});default:return a.jsx(Gp,{className:"h-4 w-4"})}},f=l==null?void 0:l.filter(p=>t?p.name.toLowerCase().includes(t.toLowerCase())||p.email.toLowerCase().includes(t.toLowerCase()):!0);return a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Lead Management"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-0.5 sm:mt-1",children:"Track and follow up with your inquiries"})]}),a.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:a.jsxs(He,{onClick:u,variant:"outline",disabled:!l||l.length===0,className:"flex-1 sm:flex-none min-h-[44px] active:scale-95 transition-all",children:[a.jsx(sj,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Export CSV"}),(o==null?void 0:o.plan_name)==="free"&&a.jsx(nn,{variant:"secondary",className:"ml-2",children:"Pro"})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[a.jsx(Qt,{className:"hover:shadow-md transition-shadow",children:a.jsxs(vn,{className:"pt-4 sm:pt-6 pb-4 sm:pb-6",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-foreground",children:(l==null?void 0:l.length)||0}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:"Total Leads"})]})}),a.jsx(Qt,{className:"hover:shadow-md transition-shadow",children:a.jsxs(vn,{className:"pt-4 sm:pt-6 pb-4 sm:pb-6",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:(l==null?void 0:l.filter(p=>p.status==="new").length)||0}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:"New"})]})}),a.jsx(Qt,{className:"hover:shadow-md transition-shadow",children:a.jsxs(vn,{className:"pt-4 sm:pt-6 pb-4 sm:pb-6",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:(l==null?void 0:l.filter(p=>p.status==="contacted").length)||0}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:"Contacted"})]})}),a.jsx(Qt,{className:"hover:shadow-md transition-shadow",children:a.jsxs(vn,{className:"pt-4 sm:pt-6 pb-4 sm:pb-6",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-primary",children:(l==null?void 0:l.filter(p=>p.status==="converted").length)||0}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:"Converted"})]})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(av,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"}),a.jsx("input",{type:"text",placeholder:"Search leads by name or email...",value:t,onChange:p=>e(p.target.value),className:"w-full pl-10 pr-4 py-2.5 sm:py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base min-h-[44px]"})]}),a.jsx("div",{className:"space-y-2 sm:space-y-3",children:c?a.jsx(Qt,{children:a.jsx(vn,{className:"p-6 sm:p-8 text-center text-muted-foreground text-sm sm:text-base",children:"Loading leads..."})}):f&&f.length>0?f.map(p=>a.jsx(Qt,{className:"hover:shadow-md active:shadow-lg transition-all",children:a.jsx(vn,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-1 min-w-0",children:[a.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:h(p.lead_type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[a.jsx("h3",{className:"font-semibold text-sm sm:text-base text-foreground truncate",children:p.name}),d(p.status),a.jsx(nn,{variant:"outline",className:"capitalize text-xs",children:p.lead_type})]}),a.jsxs("div",{className:"space-y-1.5 text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2 min-h-[32px]",children:[a.jsx(Li,{className:"h-3 w-3 flex-shrink-0"}),a.jsx("a",{href:`mailto:${p.email}`,className:"hover:text-primary active:text-primary-dark break-all",children:p.email})]}),p.phone&&a.jsxs("div",{className:"flex items-center gap-2 min-h-[32px]",children:[a.jsx(Ko,{className:"h-3 w-3 flex-shrink-0"}),a.jsx("a",{href:`tel:${p.phone}`,className:"hover:text-primary active:text-primary-dark",children:p.phone})]}),p.message&&a.jsx("p",{className:"mt-2 text-foreground line-clamp-2 text-xs sm:text-sm leading-relaxed",children:p.message})]})]})]}),a.jsx("div",{className:"text-left sm:text-right flex-shrink-0 pl-12 sm:pl-0",children:a.jsxs("div",{className:"flex sm:justify-end items-center gap-1 text-xs text-muted-foreground",children:[a.jsx(Eo,{className:"h-3 w-3"}),a.jsx("span",{children:new Date(p.created_at).toLocaleDateString()})]})})]})})},p.id)):a.jsx(Qt,{children:a.jsxs(vn,{className:"p-8 sm:p-12 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 bg-accent rounded-full mb-3 sm:mb-4",children:a.jsx(Gp,{className:"h-7 w-7 sm:h-8 sm:w-8 text-muted-foreground"})}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-1 sm:mb-2",children:"No leads yet"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground max-w-sm mx-auto",children:"Leads will appear here when visitors contact you through your profile"})]})})}),a.jsx(Rj,{open:n,onOpenChange:r,feature:"lead_export",currentPlan:(o==null?void 0:o.plan_name)||"Free",requiredPlan:"Starter"})]})}const z7=5*1024*1024,$7=["image/jpeg","image/jpg","image/png","image/webp"];function R$e(){const{user:t}=ys(),{toast:e}=Ud(),[n,r]=C.useState(!1),i=o=>$7.includes(o.type)?o.size>z7?"File size must be less than 5MB":null:"Please upload a JPG, PNG, or WEBP image";return{uploadAvatar:async o=>{if(!(t!=null&&t.id))return e({title:"Error",description:"You must be logged in to upload an avatar",variant:"destructive"}),null;const l=i(o);if(l)return e({title:"Invalid file",description:l,variant:"destructive"}),null;r(!0);try{const c=o.name.split(".").pop(),u=`${t.id}/avatar.${c}`,{data:d}=await Ye.storage.from("avatars").list(t.id);d&&d.length>0&&await Ye.storage.from("avatars").remove(d.map(m=>`${t.id}/${m.name}`));const{error:h}=await Ye.storage.from("avatars").upload(u,o,{cacheControl:"3600",upsert:!0});if(h)throw h;const{data:{publicUrl:f}}=Ye.storage.from("avatars").getPublicUrl(u),{error:p}=await Ye.from("profiles").update({avatar_url:f}).eq("id",t.id);if(p)throw p;return e({title:"Success",description:"Profile picture updated successfully"}),f}catch(c){return console.error("Error uploading avatar:",c),e({title:"Error",description:"Failed to upload profile picture. Please try again.",variant:"destructive"}),null}finally{r(!1)}},uploading:n,acceptedTypes:$7.join(", "),maxSize:z7}}function I$e(){var f,p,m;const{profile:t,isLoading:e,updateProfile:n}=Poe(),{uploadAvatar:r,uploading:i}=R$e(),{toast:s}=Ud(),o=C.useRef(null),[l,c]=C.useState({full_name:"",username:"",bio:"",avatar_url:""});C.useEffect(()=>{t&&c({full_name:t.full_name||"",username:t.username||"",bio:t.bio||"",avatar_url:t.avatar_url||""})},[t]);const u=y=>{c({...l,[y.target.name]:y.target.value})},d=async y=>{var _;const b=(_=y.target.files)==null?void 0:_[0];if(!b)return;const v=await r(b);v&&c({...l,avatar_url:v})},h=async y=>{y.preventDefault();try{await n.mutateAsync(l),s({title:"Profile updated!",description:"Your profile has been saved successfully."})}catch{s({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"})}};return e?a.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Edit Profile"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Update your agent information and contact details"})]}),a.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[a.jsx(ab,{className:"h-4 w-4"}),"Save Changes"]})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Profile Photo"}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative",children:[l.avatar_url?a.jsx("img",{src:l.avatar_url,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):a.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center text-3xl font-bold text-primary",children:((f=l.full_name)==null?void 0:f.split(" ").map(y=>y[0]).join(""))||((m=(p=l.username)==null?void 0:p[0])==null?void 0:m.toUpperCase())||"?"}),a.jsx("button",{type:"button",onClick:()=>{var y;return(y=o.current)==null?void 0:y.click()},disabled:i,className:"absolute bottom-0 right-0 p-2 bg-primary text-primary-foreground rounded-full hover:bg-primary/90 transition-colors disabled:opacity-50",children:a.jsx(PSe,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-foreground mb-1",children:"Upload Photo"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"JPG, PNG or WEBP. Max size 5MB."}),a.jsx("button",{type:"button",onClick:()=>{var y;return(y=o.current)==null?void 0:y.click()},disabled:i,className:"px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors text-sm font-medium disabled:opacity-50",children:i?"Uploading...":"Choose File"}),a.jsx("input",{ref:o,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:d,className:"hidden"})]})]})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Full Name"}),a.jsx("input",{type:"text",name:"full_name",value:l.full_name,onChange:u,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Username *"}),a.jsx("input",{type:"text",name:"username",value:l.username,onChange:u,required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Professional Bio"}),a.jsx("textarea",{name:"bio",value:l.bio,onChange:u,rows:6,maxLength:500,placeholder:"Tell potential clients about your experience, specialties, and what makes you unique...",className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none"}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[l.bio.length,"/500 characters"]})]})]})}function H7({theme:t,isSelected:e,onSelect:n,onPreview:r}){return a.jsxs(Qt,{className:xt("relative cursor-pointer transition-all hover:shadow-lg",e&&"ring-2 ring-primary"),onClick:()=>n(t),children:[e&&a.jsx("div",{className:"absolute top-2 right-2 z-10 w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:a.jsx(cd,{className:"w-4 h-4 text-white"})}),a.jsxs(vn,{className:"p-0",children:[a.jsxs("div",{className:"h-32 p-4 rounded-t-lg relative overflow-hidden",style:{backgroundColor:t.colors.background},children:[t.has3D&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 via-transparent to-pink-500/10 animate-pulse"}),a.jsxs("div",{className:"flex items-start gap-2 mb-3 relative z-10",children:[a.jsx("div",{className:"w-16 h-16 rounded-full",style:{backgroundColor:t.colors.primary}}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-3 rounded",style:{backgroundColor:t.colors.foreground,opacity:.8,width:"70%"}}),a.jsx("div",{className:"h-2 rounded",style:{backgroundColor:t.colors.muted,width:"90%"}})]})]}),a.jsxs("div",{className:"flex gap-2 relative z-10",children:[a.jsx("div",{className:"w-8 h-8 rounded",style:{backgroundColor:t.colors.primary},title:"Primary"}),a.jsx("div",{className:"w-8 h-8 rounded",style:{backgroundColor:t.colors.secondary},title:"Secondary"}),a.jsx("div",{className:"w-8 h-8 rounded",style:{backgroundColor:t.colors.accent},title:"Accent"})]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold truncate",children:t.name}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:t.description})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[t.isPremium&&a.jsx(nn,{variant:"secondary",className:"text-xs",children:"Pro"}),t.has3D&&a.jsx(nn,{variant:"outline",className:"text-xs bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0",children:"3D"})]})]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsx("span",{className:"font-medium",children:"Fonts:"})," ",t.fonts.heading,t.fonts.heading!==t.fonts.body&&` / ${t.fonts.body}`]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(He,{variant:e?"default":"outline",size:"sm",className:"flex-1",onClick:i=>{i.stopPropagation(),n(t)},children:e?"Selected":"Apply"}),r&&a.jsx(He,{variant:"ghost",size:"sm",onClick:i=>{i.stopPropagation(),r(t)},children:"Preview"})]})]})]})]})}var Vk="Popover",[Roe]=Rc(Vk,[YP]),Ij=YP(),[L$e,Em]=Roe(Vk),Ioe=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,l=Ij(e),c=C.useRef(null),[u,d]=C.useState(!1),[h,f]=Kp({prop:r,defaultProp:i??!1,onChange:s,caller:Vk});return a.jsx(Xte,{...l,children:a.jsx(L$e,{scope:e,contentId:Ph(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:u,onCustomAnchorAdd:C.useCallback(()=>d(!0),[]),onCustomAnchorRemove:C.useCallback(()=>d(!1),[]),modal:o,children:n})})};Ioe.displayName=Vk;var Loe="PopoverAnchor",D$e=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Em(Loe,n),s=Ij(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return C.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(pB,{...s,...r,ref:e})});D$e.displayName=Loe;var Doe="PopoverTrigger",Foe=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Em(Doe,n),s=Ij(n),o=Kr(e,i.triggerRef),l=a.jsx(Fn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Hoe(i.open),...r,ref:o,onClick:Yn(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:a.jsx(pB,{asChild:!0,...s,children:l})});Foe.displayName=Doe;var n6="PopoverPortal",[F$e,U$e]=Roe(n6,{forceMount:void 0}),Uoe=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Em(n6,e);return a.jsx(F$e,{scope:e,forceMount:n,children:a.jsx(_m,{present:n||s.open,children:a.jsx(XP,{asChild:!0,container:i,children:r})})})};Uoe.displayName=n6;var bb="PopoverContent",Boe=C.forwardRef((t,e)=>{const n=U$e(bb,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Em(bb,t.__scopePopover);return a.jsx(_m,{present:r||s.open,children:s.modal?a.jsx(z$e,{...i,ref:e}):a.jsx($$e,{...i,ref:e})})});Boe.displayName=bb;var B$e=By("PopoverContent.RemoveScroll"),z$e=C.forwardRef((t,e)=>{const n=Em(bb,t.__scopePopover),r=C.useRef(null),i=Kr(e,r),s=C.useRef(!1);return C.useEffect(()=>{const o=r.current;if(o)return gB(o)},[]),a.jsx(ZP,{as:B$e,allowPinchZoom:!0,children:a.jsx(zoe,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Yn(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Yn(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Yn(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),$$e=C.forwardRef((t,e)=>{const n=Em(bb,t.__scopePopover),r=C.useRef(!1),i=C.useRef(!1);return a.jsx(zoe,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),zoe=C.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=t,f=Em(bb,n),p=Ij(n);return iB(),a.jsx(HP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx($P,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:a.jsx(Kte,{"data-state":Hoe(f.open),role:"dialog",id:f.contentId,...p,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$oe="PopoverClose",H$e=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Em($oe,n);return a.jsx(Fn.button,{type:"button",...r,ref:e,onClick:Yn(t.onClick,()=>i.onOpenChange(!1))})});H$e.displayName=$oe;var V$e="PopoverArrow",W$e=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ij(n);return a.jsx(Zte,{...i,...r,ref:e})});W$e.displayName=V$e;function Hoe(t){return t?"open":"closed"}var G$e=Ioe,q$e=Foe,Y$e=Uoe,Voe=Boe;const X$e=G$e,K$e=q$e,Woe=C.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>a.jsx(Y$e,{children:a.jsx(Voe,{ref:i,align:e,sideOffset:n,className:xt("z-50 w-72 rounded-md border border-gray-200 bg-white p-4 text-gray-900 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Woe.displayName=Voe.displayName;const Z$e=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#F97316","#1F2937","#6B7280"];function n1({label:t,value:e,onChange:n,description:r}){const[i,s]=C.useState(!1),o=l=>{n(l)};return a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:t,children:t}),r&&a.jsx("p",{className:"text-xs text-muted-foreground",children:r}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(X$e,{open:i,onOpenChange:s,children:[a.jsx(K$e,{asChild:!0,children:a.jsx(He,{variant:"outline",className:"w-12 h-10 p-0 border-2",style:{backgroundColor:e},"aria-label":`Pick ${t}`})}),a.jsx(Woe,{className:"w-64 p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Preset Colors"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:Z$e.map(l=>a.jsx("button",{className:"w-10 h-10 rounded border-2 hover:scale-110 transition-transform",style:{backgroundColor:l},onClick:()=>{o(l),s(!1)},"aria-label":`Select ${l}`},l))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Custom Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"color",value:e,onChange:l=>o(l.target.value),className:"w-12 h-10 rounded border cursor-pointer"}),a.jsx(Yt,{type:"text",value:e,onChange:l=>o(l.target.value),placeholder:"#000000",className:"flex-1 font-mono text-sm"})]})]})]})})]}),a.jsx(Yt,{type:"text",value:e,onChange:l=>o(l.target.value),placeholder:"#000000",className:"flex-1 font-mono"})]})]})}var BL="rovingFocusGroup.onEntryFocus",Q$e={bubbles:!1,cancelable:!0},Lj="RovingFocusGroup",[rF,Goe,J$e]=Ete(Lj),[e8e,qoe]=Rc(Lj,[J$e]),[t8e,n8e]=e8e(Lj),Yoe=C.forwardRef((t,e)=>a.jsx(rF.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(rF.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(r8e,{...t,ref:e})})}));Yoe.displayName=Lj;var r8e=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=C.useRef(null),p=Kr(e,f),m=rB(s),[y,b]=Kp({prop:o,defaultProp:l??null,onChange:c,caller:Lj}),[v,_]=C.useState(!1),S=Wh(u),j=Goe(n),N=C.useRef(!1),[A,M]=C.useState(0);return C.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(BL,S),()=>k.removeEventListener(BL,S)},[S]),a.jsx(t8e,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:y,onItemFocus:C.useCallback(k=>b(k),[b]),onItemShiftTab:C.useCallback(()=>_(!0),[]),onFocusableItemAdd:C.useCallback(()=>M(k=>k+1),[]),onFocusableItemRemove:C.useCallback(()=>M(k=>k-1),[]),children:a.jsx(Fn.div,{tabIndex:v||A===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:Yn(t.onMouseDown,()=>{N.current=!0}),onFocus:Yn(t.onFocus,k=>{const L=!N.current;if(k.target===k.currentTarget&&L&&!v){const O=new CustomEvent(BL,Q$e);if(k.currentTarget.dispatchEvent(O),!O.defaultPrevented){const I=j().filter(K=>K.focusable),U=I.find(K=>K.active),W=I.find(K=>K.id===y),J=[U,W,...I].filter(Boolean).map(K=>K.ref.current);Zoe(J,d)}}N.current=!1}),onBlur:Yn(t.onBlur,()=>_(!1))})})}),Xoe="RovingFocusGroupItem",Koe=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=Ph(),u=s||c,d=n8e(Xoe,n),h=d.currentTabStopId===u,f=Goe(n),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:y}=d;return C.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),a.jsx(rF.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:a.jsx(Fn.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Yn(t.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:Yn(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Yn(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=a8e(b,d.orientation,d.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=f().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")S.reverse();else if(v==="prev"||v==="next"){v==="prev"&&S.reverse();const j=S.indexOf(b.currentTarget);S=d.loop?o8e(S,j+1):S.slice(j+1)}setTimeout(()=>Zoe(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:y!=null}):o})})});Koe.displayName=Xoe;var i8e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s8e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function a8e(t,e,n){const r=s8e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return i8e[r]}function Zoe(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function o8e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var l8e=Yoe,c8e=Koe,Wk="Tabs",[u8e]=Rc(Wk,[qoe]),Qoe=qoe(),[d8e,r6]=u8e(Wk),Joe=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=rB(l),[h,f]=Kp({prop:r,onChange:i,defaultProp:s??"",caller:Wk});return a.jsx(d8e,{scope:n,baseId:Ph(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:a.jsx(Fn.div,{dir:d,"data-orientation":o,...u,ref:e})})});Joe.displayName=Wk;var ele="TabsList",tle=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=r6(ele,n),o=Qoe(n);return a.jsx(l8e,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(Fn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});tle.displayName=ele;var nle="TabsTrigger",rle=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=r6(nle,n),l=Qoe(n),c=ale(o.baseId,r),u=ole(o.baseId,r),d=r===o.value;return a.jsx(c8e,{asChild:!0,...l,focusable:!i,active:d,children:a.jsx(Fn.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Yn(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Yn(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Yn(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});rle.displayName=nle;var ile="TabsContent",sle=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=r6(ile,n),c=ale(l.baseId,r),u=ole(l.baseId,r),d=r===l.value,h=C.useRef(d);return C.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(_m,{present:i||d,children:({present:f})=>a.jsx(Fn.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&s})})});sle.displayName=ile;function ale(t,e){return`${t}-trigger-${e}`}function ole(t,e){return`${t}-content-${e}`}var h8e=Joe,lle=tle,cle=rle,ule=sle;const Bd=h8e,kc=C.forwardRef(({className:t,...e},n)=>a.jsx(lle,{ref:n,className:xt("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",t),...e}));kc.displayName=lle.displayName;const Sn=C.forwardRef(({className:t,...e},n)=>a.jsx(cle,{ref:n,className:xt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm",t),...e}));Sn.displayName=cle.displayName;const xi=C.forwardRef(({className:t,...e},n)=>a.jsx(ule,{ref:n,className:xt("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",t),...e}));xi.displayName=ule.displayName;const V7=["Inter","Roboto","Open Sans","Lato","Montserrat","Poppins","Playfair Display","Merriweather","Bebas Neue","Source Sans Pro"];function f8e(){const{toast:t}=Ud(),{user:e}=ys(),[n,r]=C.useState(VFe()),[i,s]=C.useState(n.colors),[o,l]=C.useState(n.fonts),[c,u]=C.useState(!1),[d,h]=C.useState(!1),[f,p]=C.useState(!1),{subscription:m}=Oj();C.useEffect(()=>{y()},[e]);const y=async()=>{if(e)try{const{data:k,error:L}=await Ye.from("profiles").select("theme").eq("id",e.id).single();if(L)throw L;if(k!=null&&k.theme){let O;typeof k.theme=="string"?k.theme.startsWith("{")?O=JSON.parse(k.theme):O=Hg.find(U=>U.id===k.theme)||Hg[0]:O=k.theme,r(O),s(O.colors),l(O.fonts),Z1(O)}}catch(k){console.error("Failed to load saved theme:",k);const L=Hg[0];r(L),s(L.colors),l(L.fonts)}},b=async k=>{if(k.isPremium&&(m==null?void 0:m.plan_name)==="free"){p(!0);return}r(k),s(k.colors),l(k.fonts),u(!1),Z1(k)},v=async()=>{if(!e){t({title:"Error",description:"You must be logged in to save themes",variant:"destructive"});return}h(!0);try{const k={...n,colors:i,fonts:o},{error:L}=await Ye.from("profiles").update({theme:JSON.stringify(k)}).eq("id",e.id);if(L)throw L;Z1(k),t({title:"Theme saved!",description:"Your profile theme has been updated successfully."}),u(!1)}catch(k){console.error("Failed to save theme:",k),t({title:"Error",description:"Failed to save theme. Please try again.",variant:"destructive"})}finally{h(!1)}},_=async()=>{if(!e){t({title:"Error",description:"You must be logged in to preview",variant:"destructive"});return}try{const{data:k,error:L}=await Ye.from("profiles").select("username").eq("id",e.id).single();if(L)throw L;k!=null&&k.username&&window.open(`/${k.username}`,"_blank")}catch{t({title:"Error",description:"Failed to open preview",variant:"destructive"})}},S=()=>{s(n.colors),l(n.fonts),u(!1),t({title:"Reset to default",description:"Theme has been reset to its default settings."})},j=(k,L)=>{s(O=>({...O,[k]:L})),u(!0)},N=(k,L)=>{l(O=>({...O,[k]:L})),u(!0)},A=Hg.filter(k=>!k.isPremium),M=Hg.filter(k=>k.isPremium);return a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Theme Customization"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-0.5 sm:mt-1",children:"Customize your profile's look and feel"})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs(He,{variant:"outline",size:"sm",onClick:_,title:"Open your public profile in a new tab to see your theme",className:"flex-1 sm:flex-none",children:[a.jsx(Wa,{className:"w-4 h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Preview Live"})]}),c&&a.jsxs(He,{variant:"outline",size:"sm",onClick:S,className:"flex-1 sm:flex-none",children:[a.jsx(qSe,{className:"w-4 h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Reset"})]}),a.jsxs(He,{size:"sm",onClick:v,disabled:d,className:"flex-1 sm:flex-none",children:[d?a.jsx(kse,{size:"sm",className:"mr-2"}):a.jsx(ab,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"text-xs sm:text-sm",children:"Save Theme"})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 border border-blue-200 dark:border-blue-900 rounded-lg p-3 sm:p-4",children:a.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[a.jsx("div",{className:"text-xl sm:text-2xl flex-shrink-0",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs sm:text-sm font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"How to see your theme changes:"}),a.jsxs("ol",{className:"text-xs sm:text-sm text-blue-800 dark:text-blue-200 space-y-0.5 sm:space-y-1 list-decimal list-inside",children:[a.jsxs("li",{children:["Select a theme below and click ",a.jsx("strong",{children:'"Save Theme"'})]}),a.jsxs("li",{children:["Click ",a.jsx("strong",{children:'"Preview Live"'})," button above to open your public profile in a new tab"]}),a.jsx("li",{children:"Premium themes with 3D effects will show animated backgrounds on your public page!"})]}),a.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1 sm:mt-2",children:[" Note: Theme effects only appear on your ",a.jsx("strong",{children:"public profile page"}),", not in this dashboard."]})]})]})}),a.jsxs(Bd,{defaultValue:"presets",className:"space-y-6",children:[a.jsxs(kc,{children:[a.jsxs(Sn,{value:"presets",children:[a.jsx(Z5,{className:"w-4 h-4 mr-2"}),"Theme Presets"]}),a.jsxs(Sn,{value:"customize",children:[a.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Customize"]})]}),a.jsxs(xi,{value:"presets",className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Free Themes"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:A.map(k=>a.jsx(H7,{theme:k,isSelected:n.id===k.id,onSelect:b},k.id))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Premium Themes"}),a.jsx(nn,{children:"Pro"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:M.map(k=>a.jsx(H7,{theme:k,isSelected:n.id===k.id,onSelect:b},k.id))})]})]}),a.jsxs(xi,{value:"customize",className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs(Qt,{children:[a.jsxs(dr,{className:"pb-3 sm:pb-4",children:[a.jsx(hr,{className:"text-base sm:text-lg",children:"Colors"}),a.jsx(qr,{className:"text-xs sm:text-sm",children:"Customize the color scheme of your profile"})]}),a.jsxs(vn,{className:"space-y-3 sm:space-y-4",children:[a.jsx(n1,{label:"Primary Color",value:i.primary,onChange:k=>j("primary",k),description:"Main brand color (buttons, links)"}),a.jsx(n1,{label:"Secondary Color",value:i.secondary,onChange:k=>j("secondary",k),description:"Secondary accent color"}),a.jsx(n1,{label:"Accent Color",value:i.accent,onChange:k=>j("accent",k),description:"Highlights and CTAs"}),a.jsx(n1,{label:"Background Color",value:i.background,onChange:k=>j("background",k),description:"Page background"}),a.jsx(n1,{label:"Text Color",value:i.foreground,onChange:k=>j("foreground",k),description:"Primary text color"})]})]}),a.jsxs(Qt,{children:[a.jsxs(dr,{className:"pb-3 sm:pb-4",children:[a.jsx(hr,{className:"text-base sm:text-lg",children:"Typography"}),a.jsx(qr,{className:"text-xs sm:text-sm",children:"Select fonts for headings and body text"})]}),a.jsxs(vn,{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"heading-font",children:"Heading Font"}),a.jsxs($n,{value:o.heading,onValueChange:k=>N("heading",k),children:[a.jsx(Ln,{id:"heading-font",children:a.jsx(Hn,{})}),a.jsx(Dn,{children:V7.map(k=>a.jsx(Ie,{value:k,children:a.jsx("span",{style:{fontFamily:k},children:k})},k))})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Font used for titles and headings"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"body-font",children:"Body Font"}),a.jsxs($n,{value:o.body,onValueChange:k=>N("body",k),children:[a.jsx(Ln,{id:"body-font",children:a.jsx(Hn,{})}),a.jsx(Dn,{children:V7.map(k=>a.jsx(Ie,{value:k,children:a.jsx("span",{style:{fontFamily:k},children:k})},k))})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Font used for paragraphs and text"})]}),a.jsxs("div",{className:"mt-6 p-4 border rounded-lg space-y-2",children:[a.jsx("h4",{className:"text-sm font-semibold text-muted-foreground",children:"Preview"}),a.jsx("h3",{className:"text-2xl font-bold",style:{fontFamily:o.heading,color:i.primary},children:"Your Profile Heading"}),a.jsx("p",{className:"text-sm",style:{fontFamily:o.body,color:i.foreground},children:"This is how your body text will appear on your profile. It should be readable and professional."})]})]})]})]}),a.jsxs(Qt,{children:[a.jsxs(dr,{className:"pb-3 sm:pb-4",children:[a.jsx(hr,{className:"text-base sm:text-lg",children:"Live Preview"}),a.jsx(qr,{className:"text-xs sm:text-sm",children:"See how your theme will look on your profile"})]}),a.jsx(vn,{children:a.jsxs("div",{className:"rounded-lg p-4 sm:p-8 space-y-3 sm:space-y-4",style:{backgroundColor:i.background},children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-20 h-20 rounded-full",style:{backgroundColor:i.primary}}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("h3",{className:"text-2xl font-bold",style:{fontFamily:o.heading,color:i.foreground},children:"Agent Name"}),a.jsx("p",{className:"text-sm",style:{fontFamily:o.body,color:i.mutedForeground},children:"Realtor | Luxury Home Specialist"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{className:"px-3 sm:px-4 py-2 rounded-lg text-white text-xs sm:text-sm font-medium min-h-[44px]",style:{backgroundColor:i.primary},children:"Primary"}),a.jsx("button",{className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium min-h-[44px]",style:{backgroundColor:i.secondary,color:"white"},children:"Secondary"}),a.jsx("button",{className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium min-h-[44px]",style:{backgroundColor:i.accent,color:"white"},children:"Accent"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:i.card},children:[a.jsx("h4",{className:"font-semibold mb-2",style:{fontFamily:o.heading,color:i.cardForeground},children:"Property Card"}),a.jsx("p",{className:"text-sm",style:{fontFamily:o.body,color:i.mutedForeground},children:"This is how property cards will appear with your selected theme."})]})]})})]})]})]}),a.jsx(Rj,{open:f,onOpenChange:p,feature:"premium_themes",currentPlan:(m==null?void 0:m.plan_name)||"Free",requiredPlan:"Professional"})]})}const W7=[{value:"instagram",label:"Instagram",icon:oj},{value:"facebook",label:"Facebook",icon:aj},{value:"linkedin",label:"LinkedIn",icon:lj},{value:"tiktok",label:"TikTok",icon:IP},{value:"youtube",label:"YouTube",icon:FP},{value:"zillow",label:"Zillow",icon:Ci},{value:"realtor",label:"Realtor.com",icon:fm},{value:"calendar",label:"Calendar",icon:Eo},{value:"website",label:"Website",icon:sv},{value:"email",label:"Email",icon:Li},{value:"phone",label:"Phone",icon:Ko},{value:"whatsapp",label:"WhatsApp",icon:cj},{value:"document",label:"Document",icon:zh},{value:"link",label:"Link",icon:Uy}];function p8e({open:t,onOpenChange:e,onSave:n}){const[r,i]=C.useState({title:"",url:"",icon:"link",active:!0}),s=l=>{const{name:c,value:u}=l.target;i(d=>({...d,[c]:u}))},o=l=>{l.preventDefault(),n==null||n(r),e(!1),i({title:"",url:"",icon:"link",active:!0})};return a.jsx(Ga,{open:t,onOpenChange:e,children:a.jsxs(Ta,{className:"max-w-md",children:[a.jsxs(qa,{children:[a.jsx(Ya,{children:"Add Custom Link"}),a.jsx(Hl,{children:"Add a social media profile or custom link to your bio"})]}),a.jsxs("form",{onSubmit:o,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"title",children:"Link Title *"}),a.jsx(Yt,{id:"title",name:"title",value:r.title,onChange:s,placeholder:"Schedule a Consultation",required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"url",children:"URL *"}),a.jsx(Yt,{id:"url",name:"url",type:"url",value:r.url,onChange:s,placeholder:"https://example.com",required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"icon",children:"Icon"}),a.jsxs($n,{value:r.icon,onValueChange:l=>i(c=>({...c,icon:l})),children:[a.jsx(Ln,{children:a.jsx(Hn,{children:(()=>{const l=W7.find(u=>u.value===r.icon),c=(l==null?void 0:l.icon)||Uy;return a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(c,{className:"h-4 w-4"}),a.jsx("span",{children:(l==null?void 0:l.label)||"Custom"})]})})()})}),a.jsx(Dn,{children:W7.map(l=>{const c=l.icon;return a.jsx(Ie,{value:l.value,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(c,{className:"h-4 w-4"}),a.jsx("span",{children:l.label})]})},l.value)})})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"active",checked:r.active,onChange:l=>i(c=>({...c,active:l.target.checked})),className:"rounded border-border"}),a.jsx(ct,{htmlFor:"active",className:"cursor-pointer",children:"Active (visible on profile)"})]}),a.jsxs(em,{children:[a.jsx(He,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),a.jsx(He,{type:"submit",children:"Add Link"})]})]})]})})}function m8e({isOpen:t,onClose:e,onSubmit:n,initialData:r}){const[i,s]=C.useState(r);if(C.useEffect(()=>{s(r)},[r]),!t)return null;const o=l=>{l.preventDefault(),n(i)};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg w-full max-w-md",children:[a.jsxs("div",{className:"border-b border-border p-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Edit Link"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-accent rounded-lg transition-colors",children:a.jsx(tl,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"title",children:"Link Title *"}),a.jsx(Yt,{id:"title",value:i.title,onChange:l=>s({...i,title:l.target.value}),placeholder:"e.g., My Website",required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"url",children:"URL *"}),a.jsx(Yt,{id:"url",type:"url",value:i.url,onChange:l=>s({...i,url:l.target.value}),placeholder:"https://example.com",required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"icon",children:"Icon (optional)"}),a.jsx(Yt,{id:"icon",value:i.icon||"",onChange:l=>s({...i,icon:l.target.value}),placeholder:"e.g., link, globe, home"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Icon name from Lucide icons"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(He,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),a.jsx(He,{type:"submit",className:"flex-1",children:"Save Changes"})]})]})]})})}var dle="AlertDialog",[g8e]=Rc(dle,[Hse]),nf=Hse(),hle=t=>{const{__scopeAlertDialog:e,...n}=t,r=nf(e);return a.jsx(sae,{...r,...n,modal:!0})};hle.displayName=dle;var y8e="AlertDialogTrigger",v8e=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=nf(n);return a.jsx(aae,{...i,...r,ref:e})});v8e.displayName=y8e;var x8e="AlertDialogPortal",fle=t=>{const{__scopeAlertDialog:e,...n}=t,r=nf(e);return a.jsx(oae,{...r,...n})};fle.displayName=x8e;var b8e="AlertDialogOverlay",ple=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=nf(n);return a.jsx(_z,{...i,...r,ref:e})});ple.displayName=b8e;var P0="AlertDialogContent",[w8e,_8e]=g8e(P0),S8e=ije("AlertDialogContent"),mle=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=nf(n),o=C.useRef(null),l=Kr(e,o),c=C.useRef(null);return a.jsx(g4e,{contentName:P0,titleName:gle,docsSlug:"alert-dialog",children:a.jsx(w8e,{scope:n,cancelRef:c,children:a.jsxs(Sz,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Yn(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(S8e,{children:r}),a.jsx(j8e,{contentRef:o})]})})})});mle.displayName=P0;var gle="AlertDialogTitle",yle=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=nf(n);return a.jsx(Ez,{...i,...r,ref:e})});yle.displayName=gle;var vle="AlertDialogDescription",xle=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=nf(n);return a.jsx(jz,{...i,...r,ref:e})});xle.displayName=vle;var E8e="AlertDialogAction",ble=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=nf(n);return a.jsx(Az,{...i,...r,ref:e})});ble.displayName=E8e;var wle="AlertDialogCancel",_le=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=_8e(wle,n),s=nf(n),o=Kr(e,i);return a.jsx(Az,{...s,...r,ref:o})});_le.displayName=wle;var j8e=({contentRef:t})=>{const e=`\`${P0}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${P0}\` by passing a \`${vle}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${P0}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},A8e=hle,N8e=fle,Sle=ple,Ele=mle,jle=ble,Ale=_le,Nle=yle,Tle=xle;const T8e=A8e,M8e=N8e,Mle=C.forwardRef(({className:t,...e},n)=>a.jsx(Sle,{className:xt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Mle.displayName=Sle.displayName;const Cle=C.forwardRef(({className:t,...e},n)=>a.jsxs(M8e,{children:[a.jsx(Mle,{}),a.jsx(Ele,{ref:n,className:xt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Cle.displayName=Ele.displayName;const Ple=({className:t,...e})=>a.jsx("div",{className:xt("flex flex-col space-y-2 text-center sm:text-left",t),...e});Ple.displayName="AlertDialogHeader";const kle=({className:t,...e})=>a.jsx("div",{className:xt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});kle.displayName="AlertDialogFooter";const Ole=C.forwardRef(({className:t,...e},n)=>a.jsx(Nle,{ref:n,className:xt("text-lg font-semibold",t),...e}));Ole.displayName=Nle.displayName;const Rle=C.forwardRef(({className:t,...e},n)=>a.jsx(Tle,{ref:n,className:xt("text-sm text-muted-foreground",t),...e}));Rle.displayName=Tle.displayName;const Ile=C.forwardRef(({className:t,...e},n)=>a.jsx(jle,{ref:n,className:xt(nB(),t),...e}));Ile.displayName=jle.displayName;const Lle=C.forwardRef(({className:t,...e},n)=>a.jsx(Ale,{ref:n,className:xt(nB({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Lle.displayName=Ale.displayName;const C8e=t=>({calendar:Eo,instagram:oj,facebook:aj,zillow:Ci,link:Uy,linkedin:lj,tiktok:IP,youtube:FP,realtor:fm,website:sv,email:Li,phone:Ko,whatsapp:cj,document:zh})[t]||Uy;function P8e(){const[t,e]=C.useState(!1),[n,r]=C.useState(!1),[i,s]=C.useState(null),[o,l]=C.useState(!1),[c,u]=C.useState(null),[d,h]=C.useState(!1),{toast:f}=Ud(),{links:p,isLoading:m,addLink:y,updateLink:b,deleteLink:v}=Xz(),{subscription:_,canAdd:S,getLimit:j,getUsage:N}=Oj(),A=()=>{if(!S("links")){h(!0);return}e(!0)},M=async U=>{try{await y.mutateAsync(U),f({title:"Link added!",description:"Your custom link has been created successfully."})}catch{f({title:"Error",description:"Failed to add link. Please try again.",variant:"destructive"})}},k=U=>{s(U),r(!0)},L=async(U,W)=>{try{await b.mutateAsync({id:U,...W}),f({title:"Link updated!",description:"Your link has been updated successfully."})}catch{f({title:"Error",description:"Failed to update link. Please try again.",variant:"destructive"})}},O=U=>{u(U),l(!0)},I=async()=>{if(c)try{await v.mutateAsync(c),f({title:"Link deleted",description:"Your link has been removed successfully."})}catch{f({title:"Error",description:"Failed to delete link. Please try again.",variant:"destructive"})}finally{l(!1),u(null)}};return a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Custom Links"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-0.5 sm:mt-1",children:"Manage your social and custom links"})]}),a.jsxs("button",{onClick:A,className:"inline-flex items-center gap-2 px-4 py-2.5 sm:py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 active:scale-95 transition-all font-medium min-h-[44px] w-full sm:w-auto justify-center shadow-sm",children:[a.jsx(Ps,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Add Link"})]})]}),_&&j("links")!==1/0&&a.jsx(t6,{feature:"links",current:N("links"),limit:j("links")}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[a.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 sm:p-4 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-foreground",children:p.length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:"Total"})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 sm:p-4 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:p.filter(U=>U.is_active).length}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:"Active"})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 sm:p-4 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-primary",children:p.reduce((U,W)=>U+W.click_count,0)}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:"Clicks"})]})]}),a.jsx("div",{className:"bg-card border border-border rounded-lg divide-y divide-border",children:m?a.jsx("div",{className:"p-6 sm:p-8 text-center text-muted-foreground text-sm sm:text-base",children:"Loading links..."}):p.length===0?a.jsx("div",{className:"p-6 sm:p-8 text-center text-muted-foreground text-sm sm:text-base",children:'No links yet. Click "Add Link" to create your first link.'}):p.map(U=>a.jsxs("div",{className:"p-3 sm:p-4 flex items-center gap-2 sm:gap-4 hover:bg-accent/50 active:bg-accent/70 transition-colors",children:[a.jsx("button",{className:"cursor-grab active:cursor-grabbing p-1.5 hover:bg-accent rounded hidden sm:block min-h-[44px]","aria-label":"Drag to reorder",children:a.jsx(lte,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center bg-accent rounded-lg flex-shrink-0",children:(()=>{const W=C8e(U.icon);return a.jsx(W,{className:"h-5 w-5 sm:h-6 sm:w-6 text-foreground"})})()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-0.5 sm:mb-1 flex-wrap",children:[a.jsx("h3",{className:"font-medium text-sm sm:text-base text-foreground truncate",children:U.title}),U.is_active?a.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full font-medium flex-shrink-0",children:"Active"}):a.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded-full font-medium flex-shrink-0",children:"Inactive"})]}),a.jsxs("a",{href:U.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs sm:text-sm text-muted-foreground hover:text-primary active:text-primary flex items-center gap-1 truncate",children:[a.jsx("span",{className:"truncate",children:U.url}),a.jsx(Su,{className:"h-3 w-3 flex-shrink-0"})]}),a.jsxs("div",{className:"sm:hidden mt-1.5 text-xs text-muted-foreground",children:[a.jsx("span",{className:"font-semibold text-foreground",children:U.click_count})," clicks"]})]}),a.jsxs("div",{className:"text-right hidden sm:block flex-shrink-0",children:[a.jsx("div",{className:"text-lg font-semibold text-foreground",children:U.click_count}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"clicks"})]}),a.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>k(U),className:"p-2 sm:p-2.5 hover:bg-accent active:bg-accent/80 rounded-lg transition-all min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Edit link",children:a.jsx(ov,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx("button",{onClick:()=>O(U.id),className:"p-2 sm:p-2.5 hover:bg-red-50 active:bg-red-100 rounded-lg transition-all min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Delete link",children:a.jsx(qp,{className:"h-4 w-4 text-red-500"})})]})]},U.id))}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900 rounded-lg p-3 sm:p-4",children:a.jsxs("p",{className:"text-xs sm:text-sm text-blue-800 dark:text-blue-200 leading-relaxed",children:[" ",a.jsx("strong",{children:"Tip:"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Drag and drop links to reorder them."}),a.jsx("span",{className:"sm:hidden",children:"Use the edit option to change link details."})," The order here will reflect on your public profile page."]})}),a.jsx(p8e,{open:t,onOpenChange:e,onSave:M}),a.jsx(m8e,{open:n,onOpenChange:r,link:i,onSave:L}),a.jsx(T8e,{open:o,onOpenChange:l,children:a.jsxs(Cle,{children:[a.jsxs(Ple,{children:[a.jsx(Ole,{children:"Are you sure?"}),a.jsx(Rle,{children:"This will permanently delete this link. This action cannot be undone."})]}),a.jsxs(kle,{children:[a.jsx(Lle,{children:"Cancel"}),a.jsx(Ile,{onClick:I,children:"Delete"})]})]})}),a.jsx(Rj,{open:d,onOpenChange:h,feature:"links",currentPlan:(_==null?void 0:_.plan_name)||"Free",requiredPlan:"Starter"})]})}function k8e({open:t,onOpenChange:e,onSave:n}){const[r,i]=C.useState({clientName:"",rating:5,review:"",propertyType:"",featured:!1}),[s,o]=C.useState(null),l=h=>{const{name:f,value:p}=h.target;i(m=>({...m,[f]:p}))},c=h=>{var p;const f=(p=h.target.files)==null?void 0:p[0];if(f){i(y=>({...y,clientPhoto:f}));const m=new FileReader;m.onloadend=()=>{o(m.result)},m.readAsDataURL(f)}},u=()=>{i(h=>({...h,clientPhoto:void 0})),o(null)},d=h=>{h.preventDefault(),n==null||n(r),e(!1),i({clientName:"",rating:5,review:"",propertyType:"",featured:!1}),o(null)};return a.jsx(Ga,{open:t,onOpenChange:e,children:a.jsxs(Ta,{className:"max-w-2xl",children:[a.jsxs(qa,{children:[a.jsx(Ya,{children:"Add Client Testimonial"}),a.jsx(Hl,{children:"Share feedback from satisfied clients to build credibility"})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"clientName",children:"Client Name *"}),a.jsx(Yt,{id:"clientName",name:"clientName",value:r.clientName,onChange:l,placeholder:"John Smith",required:!0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'You can use initials for privacy (e.g., "John S.")'})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"propertyType",children:"Property Type *"}),a.jsx(Yt,{id:"propertyType",name:"propertyType",value:r.propertyType,onChange:l,placeholder:"Single Family Home, Condo, etc.",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(ct,{children:"Rating *"}),a.jsx("div",{className:"flex gap-2 mt-2",children:[1,2,3,4,5].map(h=>a.jsx("button",{type:"button",onClick:()=>i(f=>({...f,rating:h})),className:"focus:outline-none",children:a.jsx($h,{className:`h-8 w-8 transition-colors ${h<=r.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},h))})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"review",children:"Testimonial Text *"}),a.jsx(Jo,{id:"review",name:"review",value:r.review,onChange:l,rows:6,maxLength:500,placeholder:"Share what the client said about working with you...",required:!0}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.review.length,"/500 characters"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ct,{children:"Client Photo (Optional)"}),s?a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:s,alt:"Client preview",className:"w-24 h-24 rounded-full object-cover"}),a.jsx("button",{type:"button",onClick:u,className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full",children:a.jsx(tl,{className:"h-3 w-3"})})]}):a.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:bg-accent/50 transition-colors cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden",id:"photo-upload"}),a.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:[a.jsx(aC,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload client photo"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG up to 2MB"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"featured",checked:r.featured,onChange:h=>i(f=>({...f,featured:h.target.checked})),className:"rounded border-border"}),a.jsx(ct,{htmlFor:"featured",className:"cursor-pointer",children:"Feature this testimonial on my profile"})]}),a.jsxs(em,{children:[a.jsx(He,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),a.jsx(He,{type:"submit",children:"Add Testimonial"})]})]})]})})}function O8e({isOpen:t,onClose:e,onSubmit:n,initialData:r}){const[i,s]=C.useState(r);if(C.useEffect(()=>{s(r)},[r]),!t)return null;const o=l=>{l.preventDefault(),n(i)};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-card border-b border-border p-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Edit Testimonial"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-accent rounded-lg transition-colors",children:a.jsx(tl,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"client_name",children:"Client Name *"}),a.jsx(Yt,{id:"client_name",value:i.client_name,onChange:l=>s({...i,client_name:l.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"client_title",children:"Client Title"}),a.jsx(Yt,{id:"client_title",value:i.client_title||"",onChange:l=>s({...i,client_title:l.target.value}),placeholder:"e.g., First-Time Homebuyer"})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"rating",children:"Rating *"}),a.jsx(Yt,{id:"rating",type:"number",min:"1",max:"5",value:i.rating,onChange:l=>s({...i,rating:parseInt(l.target.value)}),required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"review",children:"Review *"}),a.jsx(Jo,{id:"review",value:i.review,onChange:l=>s({...i,review:l.target.value}),rows:6,required:!0})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"property_type",children:"Property Type"}),a.jsx(Yt,{id:"property_type",value:i.property_type||"",onChange:l=>s({...i,property_type:l.target.value}),placeholder:"e.g., Single Family Home"})]}),a.jsxs("div",{children:[a.jsx(ct,{htmlFor:"transaction_type",children:"Transaction Type"}),a.jsxs("select",{id:"transaction_type",value:i.transaction_type||"",onChange:l=>s({...i,transaction_type:l.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[a.jsx("option",{value:"",children:"Select type"}),a.jsx("option",{value:"buyer",children:"Buyer"}),a.jsx("option",{value:"seller",children:"Seller"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(He,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),a.jsx(He,{type:"submit",className:"flex-1",children:"Save Changes"})]})]})]})})}function R8e(){const[t,e]=C.useState(!1),[n,r]=C.useState(null),[i,s]=C.useState(!1),{toast:o}=Ud(),{testimonials:l,addTestimonial:c,deleteTestimonial:u}=Ooe(),{subscription:d,canAdd:h,getLimit:f,getUsage:p}=Oj(),m=()=>{if(!h("testimonials")){s(!0);return}e(!0)},y=async j=>{try{await c.mutateAsync(j),o({title:"Testimonial added!",description:"Client review has been added successfully."}),e(!1)}catch{o({title:"Error",description:"Failed to add testimonial. Please try again.",variant:"destructive"})}},b=async j=>{if(confirm("Are you sure you want to delete this testimonial?"))try{await u.mutateAsync(j),o({title:"Testimonial deleted",description:"Client review has been removed."})}catch{o({title:"Error",description:"Failed to delete testimonial.",variant:"destructive"})}},v=async j=>{if(n)try{const{data:{user:N}}=await Ye.auth.getUser();if(!N)throw new Error("Not authenticated");const{error:A}=await Ye.from("testimonials").update({client_name:j.client_name,client_title:j.client_title,rating:j.rating,review:j.review,property_type:j.property_type,transaction_type:j.transaction_type,updated_at:new Date().toISOString()}).eq("id",n.id).eq("user_id",N.id);if(A)throw A;o({title:"Testimonial updated!",description:"Client review has been updated successfully."}),r(null),window.location.reload()}catch{o({title:"Error",description:"Failed to update testimonial. Please try again.",variant:"destructive"})}},_=l.length>0?(l.reduce((j,N)=>j+N.rating,0)/l.length).toFixed(1):"0.0",S=j=>a.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((N,A)=>a.jsx($h,{className:`h-4 w-4 ${A<j?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},A))});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Testimonials"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Showcase client reviews and success stories"})]}),a.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[a.jsx(Ps,{className:"h-4 w-4"}),"Add Testimonial"]})]}),d&&f("testimonials")!==1/0&&a.jsx(t6,{feature:"testimonials",current:p("testimonials"),limit:f("testimonials")}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-foreground",children:l.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Reviews"})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-2xl font-bold text-foreground",children:_}),a.jsx("div",{className:"flex",children:S(Math.round(parseFloat(_)))})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Rating"})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:l.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Reviews"})]})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map(j=>a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 hover:shadow-lg transition-shadow relative",children:[a.jsx("div",{className:"mb-4",children:a.jsx(qD,{className:"h-8 w-8 text-primary opacity-20"})}),a.jsxs("p",{className:"text-foreground mb-6 leading-relaxed",children:['"',j.review,'"']}),a.jsx("div",{className:"mb-4",children:S(j.rating)}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold",children:j.client_name.split(" ").map(N=>N[0]).join("")}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:j.client_name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:j.property_type||"Client"})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>r(j),className:"p-2 hover:bg-accent rounded-lg transition-colors",children:a.jsx(ov,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx("button",{onClick:()=>b(j.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(qp,{className:"h-4 w-4 text-red-500"})})]})]})]},j.id))}),l.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-accent rounded-full mb-4",children:a.jsx($h,{className:"h-8 w-8 text-muted-foreground"})}),a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No testimonials yet"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Start building social proof by adding client reviews"}),a.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[a.jsx(Ps,{className:"h-5 w-5"}),"Add Your First Testimonial"]})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",a.jsx("strong",{children:"Tip:"})," Featured testimonials will be prominently displayed on your public profile. Ask satisfied clients for reviews after successful transactions!"]})}),a.jsx(k8e,{open:t,onOpenChange:e,onSave:y}),n&&a.jsx(O8e,{isOpen:!!n,onClose:()=>r(null),onSubmit:v,initialData:{client_name:n.client_name,review:n.review,rating:n.rating,client_title:n.client_title,property_type:n.property_type,transaction_type:n.transaction_type}}),a.jsx(Rj,{open:i,onOpenChange:s,feature:"testimonials",currentPlan:(d==null?void 0:d.plan_name)||"Free",requiredPlan:"Starter"})]})}function IT({title:t,value:e,change:n,changeLabel:r="vs last period",icon:i,iconColor:s="text-blue-600",iconBgColor:o="bg-blue-100",trend:l="neutral"}){const c=l==="up"?"text-green-600":l==="down"?"text-red-600":"text-gray-600",u=l==="up"?"":l==="down"?"":"";return a.jsxs(Qt,{children:[a.jsxs(dr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(hr,{className:"text-sm font-medium text-muted-foreground",children:t}),a.jsx("div",{className:xt("rounded-full p-2",o),children:a.jsx(i,{className:xt("h-4 w-4",s)})})]}),a.jsxs(vn,{children:[a.jsx("div",{className:"text-2xl font-bold",children:e}),n!==void 0&&a.jsxs("p",{className:xt("text-xs font-medium mt-1",c),children:[u," ",Math.abs(n),"% ",r]})]})]})}var I8e=Array.isArray,rl=I8e,L8e=typeof Ml=="object"&&Ml&&Ml.Object===Object&&Ml,Dle=L8e,D8e=Dle,F8e=typeof self=="object"&&self&&self.Object===Object&&self,U8e=D8e||F8e||Function("return this")(),zd=U8e,B8e=zd,z8e=B8e.Symbol,Dj=z8e,G7=Dj,Fle=Object.prototype,$8e=Fle.hasOwnProperty,H8e=Fle.toString,r1=G7?G7.toStringTag:void 0;function V8e(t){var e=$8e.call(t,r1),n=t[r1];try{t[r1]=void 0;var r=!0}catch{}var i=H8e.call(t);return r&&(e?t[r1]=n:delete t[r1]),i}var W8e=V8e,G8e=Object.prototype,q8e=G8e.toString;function Y8e(t){return q8e.call(t)}var X8e=Y8e,q7=Dj,K8e=W8e,Z8e=X8e,Q8e="[object Null]",J8e="[object Undefined]",Y7=q7?q7.toStringTag:void 0;function eHe(t){return t==null?t===void 0?J8e:Q8e:Y7&&Y7 in Object(t)?K8e(t):Z8e(t)}var rf=eHe;function tHe(t){return t!=null&&typeof t=="object"}var sf=tHe,nHe=rf,rHe=sf,iHe="[object Symbol]";function sHe(t){return typeof t=="symbol"||rHe(t)&&nHe(t)==iHe}var fw=sHe,aHe=rl,oHe=fw,lHe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cHe=/^\w*$/;function uHe(t,e){if(aHe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||oHe(t)?!0:cHe.test(t)||!lHe.test(t)||e!=null&&t in Object(e)}var i6=uHe;function dHe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jm=dHe;const pw=jr(jm);var hHe=rf,fHe=jm,pHe="[object AsyncFunction]",mHe="[object Function]",gHe="[object GeneratorFunction]",yHe="[object Proxy]";function vHe(t){if(!fHe(t))return!1;var e=hHe(t);return e==mHe||e==gHe||e==pHe||e==yHe}var s6=vHe;const tr=jr(s6);var xHe=zd,bHe=xHe["__core-js_shared__"],wHe=bHe,zL=wHe,X7=function(){var t=/[^.]+$/.exec(zL&&zL.keys&&zL.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _He(t){return!!X7&&X7 in t}var SHe=_He,EHe=Function.prototype,jHe=EHe.toString;function AHe(t){if(t!=null){try{return jHe.call(t)}catch{}try{return t+""}catch{}}return""}var Ule=AHe,NHe=s6,THe=SHe,MHe=jm,CHe=Ule,PHe=/[\\^$.*+?()[\]{}|]/g,kHe=/^\[object .+?Constructor\]$/,OHe=Function.prototype,RHe=Object.prototype,IHe=OHe.toString,LHe=RHe.hasOwnProperty,DHe=RegExp("^"+IHe.call(LHe).replace(PHe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FHe(t){if(!MHe(t)||THe(t))return!1;var e=NHe(t)?DHe:kHe;return e.test(CHe(t))}var UHe=FHe;function BHe(t,e){return t==null?void 0:t[e]}var zHe=BHe,$He=UHe,HHe=zHe;function VHe(t,e){var n=HHe(t,e);return $He(n)?n:void 0}var pv=VHe,WHe=pv,GHe=WHe(Object,"create"),Gk=GHe,K7=Gk;function qHe(){this.__data__=K7?K7(null):{},this.size=0}var YHe=qHe;function XHe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var KHe=XHe,ZHe=Gk,QHe="__lodash_hash_undefined__",JHe=Object.prototype,eVe=JHe.hasOwnProperty;function tVe(t){var e=this.__data__;if(ZHe){var n=e[t];return n===QHe?void 0:n}return eVe.call(e,t)?e[t]:void 0}var nVe=tVe,rVe=Gk,iVe=Object.prototype,sVe=iVe.hasOwnProperty;function aVe(t){var e=this.__data__;return rVe?e[t]!==void 0:sVe.call(e,t)}var oVe=aVe,lVe=Gk,cVe="__lodash_hash_undefined__";function uVe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lVe&&e===void 0?cVe:e,this}var dVe=uVe,hVe=YHe,fVe=KHe,pVe=nVe,mVe=oVe,gVe=dVe;function mw(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mw.prototype.clear=hVe;mw.prototype.delete=fVe;mw.prototype.get=pVe;mw.prototype.has=mVe;mw.prototype.set=gVe;var yVe=mw;function vVe(){this.__data__=[],this.size=0}var xVe=vVe;function bVe(t,e){return t===e||t!==t&&e!==e}var a6=bVe,wVe=a6;function _Ve(t,e){for(var n=t.length;n--;)if(wVe(t[n][0],e))return n;return-1}var qk=_Ve,SVe=qk,EVe=Array.prototype,jVe=EVe.splice;function AVe(t){var e=this.__data__,n=SVe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():jVe.call(e,n,1),--this.size,!0}var NVe=AVe,TVe=qk;function MVe(t){var e=this.__data__,n=TVe(e,t);return n<0?void 0:e[n][1]}var CVe=MVe,PVe=qk;function kVe(t){return PVe(this.__data__,t)>-1}var OVe=kVe,RVe=qk;function IVe(t,e){var n=this.__data__,r=RVe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var LVe=IVe,DVe=xVe,FVe=NVe,UVe=CVe,BVe=OVe,zVe=LVe;function gw(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gw.prototype.clear=DVe;gw.prototype.delete=FVe;gw.prototype.get=UVe;gw.prototype.has=BVe;gw.prototype.set=zVe;var Yk=gw,$Ve=pv,HVe=zd,VVe=$Ve(HVe,"Map"),o6=VVe,Z7=yVe,WVe=Yk,GVe=o6;function qVe(){this.size=0,this.__data__={hash:new Z7,map:new(GVe||WVe),string:new Z7}}var YVe=qVe;function XVe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var KVe=XVe,ZVe=KVe;function QVe(t,e){var n=t.__data__;return ZVe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Xk=QVe,JVe=Xk;function eWe(t){var e=JVe(this,t).delete(t);return this.size-=e?1:0,e}var tWe=eWe,nWe=Xk;function rWe(t){return nWe(this,t).get(t)}var iWe=rWe,sWe=Xk;function aWe(t){return sWe(this,t).has(t)}var oWe=aWe,lWe=Xk;function cWe(t,e){var n=lWe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var uWe=cWe,dWe=YVe,hWe=tWe,fWe=iWe,pWe=oWe,mWe=uWe;function yw(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yw.prototype.clear=dWe;yw.prototype.delete=hWe;yw.prototype.get=fWe;yw.prototype.has=pWe;yw.prototype.set=mWe;var l6=yw,Ble=l6,gWe="Expected a function";function c6(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(gWe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(c6.Cache||Ble),n}c6.Cache=Ble;var zle=c6;const yWe=jr(zle);var vWe=zle,xWe=500;function bWe(t){var e=vWe(t,function(r){return n.size===xWe&&n.clear(),r}),n=e.cache;return e}var wWe=bWe,_We=wWe,SWe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,EWe=/\\(\\)?/g,jWe=_We(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(SWe,function(n,r,i,s){e.push(i?s.replace(EWe,"$1"):r||n)}),e}),AWe=jWe;function NWe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var u6=NWe,Q7=Dj,TWe=u6,MWe=rl,CWe=fw,J7=Q7?Q7.prototype:void 0,eq=J7?J7.toString:void 0;function $le(t){if(typeof t=="string")return t;if(MWe(t))return TWe(t,$le)+"";if(CWe(t))return eq?eq.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var PWe=$le,kWe=PWe;function OWe(t){return t==null?"":kWe(t)}var Hle=OWe,RWe=rl,IWe=i6,LWe=AWe,DWe=Hle;function FWe(t,e){return RWe(t)?t:IWe(t,e)?[t]:LWe(DWe(t))}var Vle=FWe,UWe=fw;function BWe(t){if(typeof t=="string"||UWe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Kk=BWe,zWe=Vle,$We=Kk;function HWe(t,e){e=zWe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[$We(e[n++])];return n&&n==r?t:void 0}var d6=HWe,VWe=d6;function WWe(t,e,n){var r=t==null?void 0:VWe(t,e);return r===void 0?n:r}var Wle=WWe;const Ac=jr(Wle);function GWe(t){return t==null}var qWe=GWe;const mr=jr(qWe);var YWe=rf,XWe=rl,KWe=sf,ZWe="[object String]";function QWe(t){return typeof t=="string"||!XWe(t)&&KWe(t)&&YWe(t)==ZWe}var JWe=QWe;const Zy=jr(JWe);var Gle={exports:{}},ti={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h6=Symbol.for("react.element"),f6=Symbol.for("react.portal"),Zk=Symbol.for("react.fragment"),Qk=Symbol.for("react.strict_mode"),Jk=Symbol.for("react.profiler"),eO=Symbol.for("react.provider"),tO=Symbol.for("react.context"),eGe=Symbol.for("react.server_context"),nO=Symbol.for("react.forward_ref"),rO=Symbol.for("react.suspense"),iO=Symbol.for("react.suspense_list"),sO=Symbol.for("react.memo"),aO=Symbol.for("react.lazy"),tGe=Symbol.for("react.offscreen"),qle;qle=Symbol.for("react.module.reference");function Lc(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case h6:switch(t=t.type,t){case Zk:case Jk:case Qk:case rO:case iO:return t;default:switch(t=t&&t.$$typeof,t){case eGe:case tO:case nO:case aO:case sO:case eO:return t;default:return e}}case f6:return e}}}ti.ContextConsumer=tO;ti.ContextProvider=eO;ti.Element=h6;ti.ForwardRef=nO;ti.Fragment=Zk;ti.Lazy=aO;ti.Memo=sO;ti.Portal=f6;ti.Profiler=Jk;ti.StrictMode=Qk;ti.Suspense=rO;ti.SuspenseList=iO;ti.isAsyncMode=function(){return!1};ti.isConcurrentMode=function(){return!1};ti.isContextConsumer=function(t){return Lc(t)===tO};ti.isContextProvider=function(t){return Lc(t)===eO};ti.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===h6};ti.isForwardRef=function(t){return Lc(t)===nO};ti.isFragment=function(t){return Lc(t)===Zk};ti.isLazy=function(t){return Lc(t)===aO};ti.isMemo=function(t){return Lc(t)===sO};ti.isPortal=function(t){return Lc(t)===f6};ti.isProfiler=function(t){return Lc(t)===Jk};ti.isStrictMode=function(t){return Lc(t)===Qk};ti.isSuspense=function(t){return Lc(t)===rO};ti.isSuspenseList=function(t){return Lc(t)===iO};ti.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zk||t===Jk||t===Qk||t===rO||t===iO||t===tGe||typeof t=="object"&&t!==null&&(t.$$typeof===aO||t.$$typeof===sO||t.$$typeof===eO||t.$$typeof===tO||t.$$typeof===nO||t.$$typeof===qle||t.getModuleId!==void 0)};ti.typeOf=Lc;Gle.exports=ti;var nGe=Gle.exports,rGe=rf,iGe=sf,sGe="[object Number]";function aGe(t){return typeof t=="number"||iGe(t)&&rGe(t)==sGe}var Yle=aGe;const oGe=jr(Yle);var lGe=Yle;function cGe(t){return lGe(t)&&t!=+t}var uGe=cGe;const vw=jr(uGe);var bu=function(e){return e===0?0:e>0?1:-1},ay=function(e){return Zy(e)&&e.indexOf("%")===e.length-1},Ct=function(e){return oGe(e)&&!vw(e)},dGe=function(e){return mr(e)},Ws=function(e){return Ct(e)||Zy(e)},hGe=0,xw=function(e){var n=++hGe;return"".concat(e||"").concat(n)},Qy=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ct(e)&&!Zy(e))return r;var s;if(ay(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return vw(s)&&(s=r),i&&s>n&&(s=n),s},fp=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},fGe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ea=function(e,n){return Ct(e)&&Ct(n)?function(r){return e+r*(n-e)}:function(){return n}};function u2(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ac(r,e))===n})}var pGe=function(e,n){return Ct(e)&&Ct(n)?e-n:Zy(e)&&Zy(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function k0(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function iF(t){"@babel/helpers - typeof";return iF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iF(t)}var mGe=["viewBox","children"],gGe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tq=["points","pathLength"],$L={svg:mGe,polygon:tq,polyline:tq},p6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],d2=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!pw(r))return null;var i={};return Object.keys(r).forEach(function(s){p6.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},yGe=function(e,n,r){return function(i){return e(n,r,i),null}},h2=function(e,n,r){if(!pw(e)||iF(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];p6.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=yGe(o,n,r))}),i},vGe=["children"],xGe=["children"];function nq(t,e){if(t==null)return{};var n=bGe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bGe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sF(t){"@babel/helpers - typeof";return sF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sF(t)}var rq={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},kh=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},iq=null,HL=null,m6=function t(e){if(e===iq&&Array.isArray(HL))return HL;var n=[];return C.Children.forEach(e,function(r){mr(r)||(nGe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),HL=n,iq=e,n};function Nc(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return kh(i)}):r=[kh(e)],m6(t).forEach(function(i){var s=Ac(i,"type.displayName")||Ac(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Al(t,e){var n=Nc(t,e);return n&&n[0]}var sq=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ct(r)||r<=0||!Ct(i)||i<=0)},wGe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_Ge=function(e){return e&&e.type&&Zy(e.type)&&wGe.indexOf(e.type)>=0},Xle=function(e){return e&&sF(e)==="object"&&"clipDot"in e},SGe=function(e,n,r,i){var s,o=(s=$L==null?void 0:$L[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!tr(e)&&(i&&o.includes(n)||gGe.includes(n))||r&&p6.includes(n)},lr=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!pw(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;SGe((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(s[o]=i[o])}),s},aF=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return aq(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!aq(s,o))return!1}return!0},aq=function(e,n){if(mr(e)&&mr(n))return!0;if(!mr(e)&&!mr(n)){var r=e.props||{},i=r.children,s=nq(r,vGe),o=n.props||{},l=o.children,c=nq(o,xGe);return i&&l?k0(s,c)&&aF(i,l):!i&&!l?k0(s,c):!1}return!1},oq=function(e,n){var r=[],i={};return m6(e).forEach(function(s,o){if(_Ge(s))r.push(s);else if(s){var l=kh(s.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var h=u(s,l,o);r.push(h),i[l]=!0}}}),r},EGe=function(e){var n=e&&e.type;return n&&rq[n]?rq[n]:null},jGe=function(e,n){return m6(n).indexOf(e)},AGe=["children","width","height","viewBox","className","style","title","desc"];function oF(){return oF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oF.apply(this,arguments)}function NGe(t,e){if(t==null)return{};var n=TGe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TGe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lF(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=NGe(t,AGe),d=i||{width:n,height:r,x:0,y:0},h=vr("recharts-surface",s);return ae.createElement("svg",oF({},lr(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ae.createElement("title",null,l),ae.createElement("desc",null,c),e)}var MGe=["children","className"];function cF(){return cF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cF.apply(this,arguments)}function CGe(t,e){if(t==null)return{};var n=PGe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PGe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _i=ae.forwardRef(function(t,e){var n=t.children,r=t.className,i=CGe(t,MGe),s=vr("recharts-layer",r);return ae.createElement("g",cF({className:s},lr(i,!0),{ref:e}),n)}),Oh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function kGe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var OGe=kGe,RGe=OGe;function IGe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:RGe(t,e,n)}var LGe=IGe,DGe="\\ud800-\\udfff",FGe="\\u0300-\\u036f",UGe="\\ufe20-\\ufe2f",BGe="\\u20d0-\\u20ff",zGe=FGe+UGe+BGe,$Ge="\\ufe0e\\ufe0f",HGe="\\u200d",VGe=RegExp("["+HGe+DGe+zGe+$Ge+"]");function WGe(t){return VGe.test(t)}var Kle=WGe;function GGe(t){return t.split("")}var qGe=GGe,Zle="\\ud800-\\udfff",YGe="\\u0300-\\u036f",XGe="\\ufe20-\\ufe2f",KGe="\\u20d0-\\u20ff",ZGe=YGe+XGe+KGe,QGe="\\ufe0e\\ufe0f",JGe="["+Zle+"]",uF="["+ZGe+"]",dF="\\ud83c[\\udffb-\\udfff]",e9e="(?:"+uF+"|"+dF+")",Qle="[^"+Zle+"]",Jle="(?:\\ud83c[\\udde6-\\uddff]){2}",ece="[\\ud800-\\udbff][\\udc00-\\udfff]",t9e="\\u200d",tce=e9e+"?",nce="["+QGe+"]?",n9e="(?:"+t9e+"(?:"+[Qle,Jle,ece].join("|")+")"+nce+tce+")*",r9e=nce+tce+n9e,i9e="(?:"+[Qle+uF+"?",uF,Jle,ece,JGe].join("|")+")",s9e=RegExp(dF+"(?="+dF+")|"+i9e+r9e,"g");function a9e(t){return t.match(s9e)||[]}var o9e=a9e,l9e=qGe,c9e=Kle,u9e=o9e;function d9e(t){return c9e(t)?u9e(t):l9e(t)}var h9e=d9e,f9e=LGe,p9e=Kle,m9e=h9e,g9e=Hle;function y9e(t){return function(e){e=g9e(e);var n=p9e(e)?m9e(e):void 0,r=n?n[0]:e.charAt(0),i=n?f9e(n,1).join(""):e.slice(1);return r[t]()+i}}var v9e=y9e,x9e=v9e,b9e=x9e("toUpperCase"),w9e=b9e;const oO=jr(w9e);function yi(t){return function(){return t}}const rce=Math.cos,f2=Math.sin,Iu=Math.sqrt,p2=Math.PI,lO=2*p2,hF=Math.PI,fF=2*hF,Lg=1e-6,_9e=fF-Lg;function ice(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function S9e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ice;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class E9e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ice:S9e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-e,u=i-n,d=o-e,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Lg)if(!(Math.abs(h*c-u*d)>Lg)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,m=i-l,y=c*c+u*u,b=p*p+m*m,v=Math.sqrt(y),_=Math.sqrt(f),S=s*Math.tan((hF-Math.acos((y+f-b)/(2*v*_)))/2),j=S/_,N=S/v;Math.abs(j-1)>Lg&&this._append`L${e+j*d},${n+j*h}`,this._append`A${s},${s},0,0,${+(h*p>d*m)},${this._x1=e+N*c},${this._y1=n+N*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,h=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Lg||Math.abs(this._y1-d)>Lg)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%fF+fF),f>_9e?this._append`A${r},${r},0,1,${h},${e-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>Lg&&this._append`A${r},${r},0,${+(f>=hF)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function g6(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new E9e(e)}function y6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sce(t){this._context=t}sce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cO(t){return new sce(t)}function ace(t){return t[0]}function oce(t){return t[1]}function lce(t,e){var n=yi(!0),r=null,i=cO,s=null,o=g6(l);t=typeof t=="function"?t:t===void 0?ace:yi(t),e=typeof e=="function"?e:e===void 0?oce:yi(e);function l(c){var u,d=(c=y6(c)).length,h,f=!1,p;for(r==null&&(s=i(p=o())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,u,c),+e(h,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:yi(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:yi(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:yi(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function LT(t,e,n){var r=null,i=yi(!0),s=null,o=cO,l=null,c=g6(u);t=typeof t=="function"?t:t===void 0?ace:yi(+t),e=typeof e=="function"?e:yi(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?oce:yi(+n);function u(h){var f,p,m,y=(h=y6(h)).length,b,v=!1,_,S=new Array(y),j=new Array(y);for(s==null&&(l=o(_=c())),f=0;f<=y;++f){if(!(f<y&&i(b=h[f],f,h))===v)if(v=!v)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=f-1;m>=p;--m)l.point(S[m],j[m]);l.lineEnd(),l.areaEnd()}v&&(S[f]=+t(b,f,h),j[f]=+e(b,f,h),l.point(r?+r(b,f,h):S[f],n?+n(b,f,h):j[f]))}if(_)return l=null,_+""||null}function d(){return lce().defined(i).curve(o).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:yi(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:yi(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:yi(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:yi(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:yi(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:yi(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:yi(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,s!=null&&(l=o(s)),u):o},u.context=function(h){return arguments.length?(h==null?s=l=null:l=o(s=h),u):s},u}class cce{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function j9e(t){return new cce(t,!0)}function A9e(t){return new cce(t,!1)}const v6={draw(t,e){const n=Iu(e/p2);t.moveTo(n,0),t.arc(0,0,n,0,lO)}},N9e={draw(t,e){const n=Iu(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},uce=Iu(1/3),T9e=uce*2,M9e={draw(t,e){const n=Iu(e/T9e),r=n*uce;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},C9e={draw(t,e){const n=Iu(e),r=-n/2;t.rect(r,r,n,n)}},P9e=.8908130915292852,dce=f2(p2/10)/f2(7*p2/10),k9e=f2(lO/10)*dce,O9e=-rce(lO/10)*dce,R9e={draw(t,e){const n=Iu(e*P9e),r=k9e*n,i=O9e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=lO*s/5,l=rce(o),c=f2(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},VL=Iu(3),I9e={draw(t,e){const n=-Iu(e/(VL*3));t.moveTo(0,n*2),t.lineTo(-VL*n,-n),t.lineTo(VL*n,-n),t.closePath()}},dc=-.5,hc=Iu(3)/2,pF=1/Iu(12),L9e=(pF/2+1)*3,D9e={draw(t,e){const n=Iu(e/L9e),r=n/2,i=n*pF,s=r,o=n*pF+n,l=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(dc*r-hc*i,hc*r+dc*i),t.lineTo(dc*s-hc*o,hc*s+dc*o),t.lineTo(dc*l-hc*c,hc*l+dc*c),t.lineTo(dc*r+hc*i,dc*i-hc*r),t.lineTo(dc*s+hc*o,dc*o-hc*s),t.lineTo(dc*l+hc*c,dc*c-hc*l),t.closePath()}};function F9e(t,e){let n=null,r=g6(i);t=typeof t=="function"?t:yi(t||v6),e=typeof e=="function"?e:yi(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:yi(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:yi(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function m2(){}function g2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function hce(t){this._context=t}hce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:g2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:g2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U9e(t){return new hce(t)}function fce(t){this._context=t}fce.prototype={areaStart:m2,areaEnd:m2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:g2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function B9e(t){return new fce(t)}function pce(t){this._context=t}pce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:g2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function z9e(t){return new pce(t)}function mce(t){this._context=t}mce.prototype={areaStart:m2,areaEnd:m2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $9e(t){return new mce(t)}function lq(t){return t<0?-1:1}function cq(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(lq(s)+lq(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function uq(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function WL(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function y2(t){this._context=t}y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:WL(this,this._t0,uq(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,WL(this,uq(this,n=cq(this,t,e)),n);break;default:WL(this,this._t0,n=cq(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function gce(t){this._context=new yce(t)}(gce.prototype=Object.create(y2.prototype)).point=function(t,e){y2.prototype.point.call(this,e,t)};function yce(t){this._context=t}yce.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function H9e(t){return new y2(t)}function V9e(t){return new gce(t)}function vce(t){this._context=t}vce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=dq(t),i=dq(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function dq(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function W9e(t){return new vce(t)}function uO(t,e){this._context=t,this._t=e}uO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function G9e(t){return new uO(t,.5)}function q9e(t){return new uO(t,0)}function Y9e(t){return new uO(t,1)}function wb(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,l=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mF(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function X9e(t,e){return t[e]}function K9e(t){const e=[];return e.key=t,e}function Z9e(){var t=yi([]),e=mF,n=wb,r=X9e;function i(s){var o=Array.from(t.apply(this,arguments),K9e),l,c=o.length,u=-1,d;for(const h of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(h,o[l].key,u,s)]).data=h;for(l=0,d=y6(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:yi(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:yi(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?mF:typeof s=="function"?s:yi(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??wb,i):n},i}function Q9e(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}wb(t,e)}}function J9e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}wb(t,e)}}function e7e(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],h=d[r][1]||0,f=d[r-1][1]||0,p=(h-f)/2,m=0;m<l;++m){var y=t[e[m]],b=y[r][1]||0,v=y[r-1][1]||0;p+=b-v}c+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,wb(t,e)}}function hE(t){"@babel/helpers - typeof";return hE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hE(t)}var t7e=["type","size","sizeType"];function gF(){return gF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gF.apply(this,arguments)}function hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(n),!0).forEach(function(r){n7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n7e(t,e,n){return e=r7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r7e(t){var e=i7e(t,"string");return hE(e)=="symbol"?e:e+""}function i7e(t,e){if(hE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s7e(t,e){if(t==null)return{};var n=a7e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xce={symbolCircle:v6,symbolCross:N9e,symbolDiamond:M9e,symbolSquare:C9e,symbolStar:R9e,symbolTriangle:I9e,symbolWye:D9e},o7e=Math.PI/180,l7e=function(e){var n="symbol".concat(oO(e));return xce[n]||v6},c7e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*o7e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},u7e=function(e,n){xce["symbol".concat(oO(e))]=n},x6=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=s7e(e,t7e),u=fq(fq({},c),{},{type:r,size:s,sizeType:l}),d=function(){var b=l7e(r),v=F9e().type(b).size(c7e(s,l,r));return v()},h=u.className,f=u.cx,p=u.cy,m=lr(u,!0);return f===+f&&p===+p&&s===+s?ae.createElement("path",gF({},m,{className:vr("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};x6.registerSymbol=u7e;function _b(t){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function yF(){return yF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yF.apply(this,arguments)}function pq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d7e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pq(Object(n),!0).forEach(function(r){fE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wce(r.key),r)}}function p7e(t,e,n){return e&&f7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m7e(t,e,n){return e=v2(e),g7e(t,bce()?Reflect.construct(e,n||[],v2(t).constructor):e.apply(t,n))}function g7e(t,e){if(e&&(_b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y7e(t)}function y7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bce=function(){return!!t})()}function v2(t){return v2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v2(t)}function v7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vF(t,e)}function vF(t,e){return vF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vF(t,e)}function fE(t,e,n){return e=wce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wce(t){var e=x7e(t,"string");return _b(e)=="symbol"?e:e+""}function x7e(t,e){if(_b(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_b(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fc=32,b6=function(t){function e(){return h7e(this,e),m7e(this,e,arguments)}return v7e(e,t),p7e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=fc/2,o=fc/6,l=fc/3,c=r.inactive?i:r.color;if(r.type==="plainline")return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:fc,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(fc,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return ae.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(fc/8,"h").concat(fc,"v").concat(fc*3/4,"h").concat(-fc,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(r.legendIcon)){var u=d7e({},r);return delete u.legendIcon,ae.cloneElement(r.legendIcon,u)}return ae.createElement(x6,{fill:c,cx:s,cy:s,size:fc,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:fc,height:fc},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,m){var y=p.formatter||c,b=vr(fE(fE({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=tr(p.value)?null:p.value;Oh(!tr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return ae.createElement("li",yF({className:b,style:h,key:"legend-item-".concat(m)},h2(r.props,p,m)),ae.createElement(lF,{width:o,height:o,viewBox:d,style:f},r.renderIcon(p)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},y?y(v,p,m):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(C.PureComponent);fE(b6,"displayName","Legend");fE(b6,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var b7e=Yk;function w7e(){this.__data__=new b7e,this.size=0}var _7e=w7e;function S7e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var E7e=S7e;function j7e(t){return this.__data__.get(t)}var A7e=j7e;function N7e(t){return this.__data__.has(t)}var T7e=N7e,M7e=Yk,C7e=o6,P7e=l6,k7e=200;function O7e(t,e){var n=this.__data__;if(n instanceof M7e){var r=n.__data__;if(!C7e||r.length<k7e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new P7e(r)}return n.set(t,e),this.size=n.size,this}var R7e=O7e,I7e=Yk,L7e=_7e,D7e=E7e,F7e=A7e,U7e=T7e,B7e=R7e;function bw(t){var e=this.__data__=new I7e(t);this.size=e.size}bw.prototype.clear=L7e;bw.prototype.delete=D7e;bw.prototype.get=F7e;bw.prototype.has=U7e;bw.prototype.set=B7e;var _ce=bw,z7e="__lodash_hash_undefined__";function $7e(t){return this.__data__.set(t,z7e),this}var H7e=$7e;function V7e(t){return this.__data__.has(t)}var W7e=V7e,G7e=l6,q7e=H7e,Y7e=W7e;function x2(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new G7e;++e<n;)this.add(t[e])}x2.prototype.add=x2.prototype.push=q7e;x2.prototype.has=Y7e;var Sce=x2;function X7e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ece=X7e;function K7e(t,e){return t.has(e)}var jce=K7e,Z7e=Sce,Q7e=Ece,J7e=jce,eqe=1,tqe=2;function nqe(t,e,n,r,i,s){var o=n&eqe,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,p=n&tqe?new Z7e:void 0;for(s.set(t,e),s.set(e,t);++h<l;){var m=t[h],y=e[h];if(r)var b=o?r(y,m,h,e,t,s):r(m,y,h,t,e,s);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!Q7e(e,function(v,_){if(!J7e(p,_)&&(m===v||i(m,v,n,r,s)))return p.push(_)})){f=!1;break}}else if(!(m===y||i(m,y,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var Ace=nqe,rqe=zd,iqe=rqe.Uint8Array,sqe=iqe;function aqe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var oqe=aqe;function lqe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var w6=lqe,mq=Dj,gq=sqe,cqe=a6,uqe=Ace,dqe=oqe,hqe=w6,fqe=1,pqe=2,mqe="[object Boolean]",gqe="[object Date]",yqe="[object Error]",vqe="[object Map]",xqe="[object Number]",bqe="[object RegExp]",wqe="[object Set]",_qe="[object String]",Sqe="[object Symbol]",Eqe="[object ArrayBuffer]",jqe="[object DataView]",yq=mq?mq.prototype:void 0,GL=yq?yq.valueOf:void 0;function Aqe(t,e,n,r,i,s,o){switch(n){case jqe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Eqe:return!(t.byteLength!=e.byteLength||!s(new gq(t),new gq(e)));case mqe:case gqe:case xqe:return cqe(+t,+e);case yqe:return t.name==e.name&&t.message==e.message;case bqe:case _qe:return t==e+"";case vqe:var l=dqe;case wqe:var c=r&fqe;if(l||(l=hqe),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=pqe,o.set(t,e);var d=uqe(l(t),l(e),r,i,s,o);return o.delete(t),d;case Sqe:if(GL)return GL.call(t)==GL.call(e)}return!1}var Nqe=Aqe;function Tqe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Nce=Tqe,Mqe=Nce,Cqe=rl;function Pqe(t,e,n){var r=e(t);return Cqe(t)?r:Mqe(r,n(t))}var kqe=Pqe;function Oqe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Rqe=Oqe;function Iqe(){return[]}var Lqe=Iqe,Dqe=Rqe,Fqe=Lqe,Uqe=Object.prototype,Bqe=Uqe.propertyIsEnumerable,vq=Object.getOwnPropertySymbols,zqe=vq?function(t){return t==null?[]:(t=Object(t),Dqe(vq(t),function(e){return Bqe.call(t,e)}))}:Fqe,$qe=zqe;function Hqe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Vqe=Hqe,Wqe=rf,Gqe=sf,qqe="[object Arguments]";function Yqe(t){return Gqe(t)&&Wqe(t)==qqe}var Xqe=Yqe,xq=Xqe,Kqe=sf,Tce=Object.prototype,Zqe=Tce.hasOwnProperty,Qqe=Tce.propertyIsEnumerable,Jqe=xq(function(){return arguments}())?xq:function(t){return Kqe(t)&&Zqe.call(t,"callee")&&!Qqe.call(t,"callee")},_6=Jqe,b2={exports:{}};function eYe(){return!1}var tYe=eYe;b2.exports;(function(t,e){var n=zd,r=tYe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(b2,b2.exports);var Mce=b2.exports,nYe=9007199254740991,rYe=/^(?:0|[1-9]\d*)$/;function iYe(t,e){var n=typeof t;return e=e??nYe,!!e&&(n=="number"||n!="symbol"&&rYe.test(t))&&t>-1&&t%1==0&&t<e}var S6=iYe,sYe=9007199254740991;function aYe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sYe}var E6=aYe,oYe=rf,lYe=E6,cYe=sf,uYe="[object Arguments]",dYe="[object Array]",hYe="[object Boolean]",fYe="[object Date]",pYe="[object Error]",mYe="[object Function]",gYe="[object Map]",yYe="[object Number]",vYe="[object Object]",xYe="[object RegExp]",bYe="[object Set]",wYe="[object String]",_Ye="[object WeakMap]",SYe="[object ArrayBuffer]",EYe="[object DataView]",jYe="[object Float32Array]",AYe="[object Float64Array]",NYe="[object Int8Array]",TYe="[object Int16Array]",MYe="[object Int32Array]",CYe="[object Uint8Array]",PYe="[object Uint8ClampedArray]",kYe="[object Uint16Array]",OYe="[object Uint32Array]",Ai={};Ai[jYe]=Ai[AYe]=Ai[NYe]=Ai[TYe]=Ai[MYe]=Ai[CYe]=Ai[PYe]=Ai[kYe]=Ai[OYe]=!0;Ai[uYe]=Ai[dYe]=Ai[SYe]=Ai[hYe]=Ai[EYe]=Ai[fYe]=Ai[pYe]=Ai[mYe]=Ai[gYe]=Ai[yYe]=Ai[vYe]=Ai[xYe]=Ai[bYe]=Ai[wYe]=Ai[_Ye]=!1;function RYe(t){return cYe(t)&&lYe(t.length)&&!!Ai[oYe(t)]}var IYe=RYe;function LYe(t){return function(e){return t(e)}}var Cce=LYe,w2={exports:{}};w2.exports;(function(t,e){var n=Dle,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(w2,w2.exports);var DYe=w2.exports,FYe=IYe,UYe=Cce,bq=DYe,wq=bq&&bq.isTypedArray,BYe=wq?UYe(wq):FYe,Pce=BYe,zYe=Vqe,$Ye=_6,HYe=rl,VYe=Mce,WYe=S6,GYe=Pce,qYe=Object.prototype,YYe=qYe.hasOwnProperty;function XYe(t,e){var n=HYe(t),r=!n&&$Ye(t),i=!n&&!r&&VYe(t),s=!n&&!r&&!i&&GYe(t),o=n||r||i||s,l=o?zYe(t.length,String):[],c=l.length;for(var u in t)(e||YYe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||WYe(u,c)))&&l.push(u);return l}var KYe=XYe,ZYe=Object.prototype;function QYe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ZYe;return t===n}var JYe=QYe;function eXe(t,e){return function(n){return t(e(n))}}var kce=eXe,tXe=kce,nXe=tXe(Object.keys,Object),rXe=nXe,iXe=JYe,sXe=rXe,aXe=Object.prototype,oXe=aXe.hasOwnProperty;function lXe(t){if(!iXe(t))return sXe(t);var e=[];for(var n in Object(t))oXe.call(t,n)&&n!="constructor"&&e.push(n);return e}var cXe=lXe,uXe=s6,dXe=E6;function hXe(t){return t!=null&&dXe(t.length)&&!uXe(t)}var Fj=hXe,fXe=KYe,pXe=cXe,mXe=Fj;function gXe(t){return mXe(t)?fXe(t):pXe(t)}var dO=gXe,yXe=kqe,vXe=$qe,xXe=dO;function bXe(t){return yXe(t,xXe,vXe)}var wXe=bXe,_q=wXe,_Xe=1,SXe=Object.prototype,EXe=SXe.hasOwnProperty;function jXe(t,e,n,r,i,s){var o=n&_Xe,l=_q(t),c=l.length,u=_q(e),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in e:EXe.call(e,f)))return!1}var p=s.get(t),m=s.get(e);if(p&&m)return p==e&&m==t;var y=!0;s.set(t,e),s.set(e,t);for(var b=o;++h<c;){f=l[h];var v=t[f],_=e[f];if(r)var S=o?r(_,v,f,e,t,s):r(v,_,f,t,e,s);if(!(S===void 0?v===_||i(v,_,n,r,s):S)){y=!1;break}b||(b=f=="constructor")}if(y&&!b){var j=t.constructor,N=e.constructor;j!=N&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(y=!1)}return s.delete(t),s.delete(e),y}var AXe=jXe,NXe=pv,TXe=zd,MXe=NXe(TXe,"DataView"),CXe=MXe,PXe=pv,kXe=zd,OXe=PXe(kXe,"Promise"),RXe=OXe,IXe=pv,LXe=zd,DXe=IXe(LXe,"Set"),Oce=DXe,FXe=pv,UXe=zd,BXe=FXe(UXe,"WeakMap"),zXe=BXe,xF=CXe,bF=o6,wF=RXe,_F=Oce,SF=zXe,Rce=rf,ww=Ule,Sq="[object Map]",$Xe="[object Object]",Eq="[object Promise]",jq="[object Set]",Aq="[object WeakMap]",Nq="[object DataView]",HXe=ww(xF),VXe=ww(bF),WXe=ww(wF),GXe=ww(_F),qXe=ww(SF),Dg=Rce;(xF&&Dg(new xF(new ArrayBuffer(1)))!=Nq||bF&&Dg(new bF)!=Sq||wF&&Dg(wF.resolve())!=Eq||_F&&Dg(new _F)!=jq||SF&&Dg(new SF)!=Aq)&&(Dg=function(t){var e=Rce(t),n=e==$Xe?t.constructor:void 0,r=n?ww(n):"";if(r)switch(r){case HXe:return Nq;case VXe:return Sq;case WXe:return Eq;case GXe:return jq;case qXe:return Aq}return e});var YXe=Dg,qL=_ce,XXe=Ace,KXe=Nqe,ZXe=AXe,Tq=YXe,Mq=rl,Cq=Mce,QXe=Pce,JXe=1,Pq="[object Arguments]",kq="[object Array]",DT="[object Object]",eKe=Object.prototype,Oq=eKe.hasOwnProperty;function tKe(t,e,n,r,i,s){var o=Mq(t),l=Mq(e),c=o?kq:Tq(t),u=l?kq:Tq(e);c=c==Pq?DT:c,u=u==Pq?DT:u;var d=c==DT,h=u==DT,f=c==u;if(f&&Cq(t)){if(!Cq(e))return!1;o=!0,d=!1}if(f&&!d)return s||(s=new qL),o||QXe(t)?XXe(t,e,n,r,i,s):KXe(t,e,c,n,r,i,s);if(!(n&JXe)){var p=d&&Oq.call(t,"__wrapped__"),m=h&&Oq.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,b=m?e.value():e;return s||(s=new qL),i(y,b,n,r,s)}}return f?(s||(s=new qL),ZXe(t,e,n,r,i,s)):!1}var nKe=tKe,rKe=nKe,Rq=sf;function Ice(t,e,n,r,i){return t===e?!0:t==null||e==null||!Rq(t)&&!Rq(e)?t!==t&&e!==e:rKe(t,e,n,r,Ice,i)}var j6=Ice,iKe=_ce,sKe=j6,aKe=1,oKe=2;function lKe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var l=n[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=n[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var h=new iKe;if(r)var f=r(u,d,c,t,e,h);if(!(f===void 0?sKe(d,u,aKe|oKe,r,h):f))return!1}}return!0}var cKe=lKe,uKe=jm;function dKe(t){return t===t&&!uKe(t)}var Lce=dKe,hKe=Lce,fKe=dO;function pKe(t){for(var e=fKe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,hKe(i)]}return e}var mKe=pKe;function gKe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Dce=gKe,yKe=cKe,vKe=mKe,xKe=Dce;function bKe(t){var e=vKe(t);return e.length==1&&e[0][2]?xKe(e[0][0],e[0][1]):function(n){return n===t||yKe(n,t,e)}}var wKe=bKe;function _Ke(t,e){return t!=null&&e in Object(t)}var SKe=_Ke,EKe=Vle,jKe=_6,AKe=rl,NKe=S6,TKe=E6,MKe=Kk;function CKe(t,e,n){e=EKe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=MKe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&TKe(i)&&NKe(o,i)&&(AKe(t)||jKe(t)))}var PKe=CKe,kKe=SKe,OKe=PKe;function RKe(t,e){return t!=null&&OKe(t,e,kKe)}var IKe=RKe,LKe=j6,DKe=Wle,FKe=IKe,UKe=i6,BKe=Lce,zKe=Dce,$Ke=Kk,HKe=1,VKe=2;function WKe(t,e){return UKe(t)&&BKe(e)?zKe($Ke(t),e):function(n){var r=DKe(n,t);return r===void 0&&r===e?FKe(n,t):LKe(e,r,HKe|VKe)}}var GKe=WKe;function qKe(t){return t}var _w=qKe;function YKe(t){return function(e){return e==null?void 0:e[t]}}var XKe=YKe,KKe=d6;function ZKe(t){return function(e){return KKe(e,t)}}var QKe=ZKe,JKe=XKe,eZe=QKe,tZe=i6,nZe=Kk;function rZe(t){return tZe(t)?JKe(nZe(t)):eZe(t)}var iZe=rZe,sZe=wKe,aZe=GKe,oZe=_w,lZe=rl,cZe=iZe;function uZe(t){return typeof t=="function"?t:t==null?oZe:typeof t=="object"?lZe(t)?aZe(t[0],t[1]):sZe(t):cZe(t)}var Am=uZe;function dZe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var Fce=dZe;function hZe(t){return t!==t}var fZe=hZe;function pZe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var mZe=pZe,gZe=Fce,yZe=fZe,vZe=mZe;function xZe(t,e,n){return e===e?vZe(t,e,n):gZe(t,yZe,n)}var bZe=xZe,wZe=bZe;function _Ze(t,e){var n=t==null?0:t.length;return!!n&&wZe(t,e,0)>-1}var SZe=_Ze;function EZe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var jZe=EZe;function AZe(){}var NZe=AZe,YL=Oce,TZe=NZe,MZe=w6,CZe=1/0,PZe=YL&&1/MZe(new YL([,-0]))[1]==CZe?function(t){return new YL(t)}:TZe,kZe=PZe,OZe=Sce,RZe=SZe,IZe=jZe,LZe=jce,DZe=kZe,FZe=w6,UZe=200;function BZe(t,e,n){var r=-1,i=RZe,s=t.length,o=!0,l=[],c=l;if(n)o=!1,i=IZe;else if(s>=UZe){var u=e?null:DZe(t);if(u)return FZe(u);o=!1,i=LZe,c=new OZe}else c=e?[]:l;e:for(;++r<s;){var d=t[r],h=e?e(d):d;if(d=n||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;e&&c.push(h),l.push(d)}else i(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}var zZe=BZe,$Ze=Am,HZe=zZe;function VZe(t,e){return t&&t.length?HZe(t,$Ze(e)):[]}var WZe=VZe;const Iq=jr(WZe);function Uce(t,e,n){return e===!0?Iq(t,n):tr(e)?Iq(t,e):t}function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}var GZe=["ref"];function Lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lq(Object(n),!0).forEach(function(r){hO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zce(r.key),r)}}function YZe(t,e,n){return e&&Dq(t.prototype,e),n&&Dq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XZe(t,e,n){return e=_2(e),KZe(t,Bce()?Reflect.construct(e,n||[],_2(t).constructor):e.apply(t,n))}function KZe(t,e){if(e&&(Sb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZZe(t)}function ZZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bce=function(){return!!t})()}function _2(t){return _2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_2(t)}function QZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EF(t,e)}function EF(t,e){return EF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EF(t,e)}function hO(t,e,n){return e=zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zce(t){var e=JZe(t,"string");return Sb(e)=="symbol"?e:e+""}function JZe(t,e){if(Sb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eQe(t,e){if(t==null)return{};var n=tQe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nQe(t){return t.value}function rQe(t,e){if(ae.isValidElement(t))return ae.cloneElement(t,e);if(typeof t=="function")return ae.createElement(t,e);e.ref;var n=eQe(e,GZe);return ae.createElement(b6,n)}var Fq=1,My=function(t){function e(){var n;qZe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=XZe(this,e,[].concat(i)),hO(n,"lastBoundingBox",{width:-1,height:-1}),n}return QZe(e,t),YZe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Fq||Math.abs(i.height-this.lastBoundingBox.height)>Fq)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hh({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();f={top:((d||0)-m.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return hh(hh({},h),f)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=hh(hh({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ae.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){r.wrapperNode=p}},rQe(s,hh(hh({},this.props),{},{payload:Uce(d,u,nQe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=hh(hh({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&Ct(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(C.PureComponent);hO(My,"displayName","Legend");hO(My,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Uq=Dj,iQe=_6,sQe=rl,Bq=Uq?Uq.isConcatSpreadable:void 0;function aQe(t){return sQe(t)||iQe(t)||!!(Bq&&t&&t[Bq])}var oQe=aQe,lQe=Nce,cQe=oQe;function $ce(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=cQe),i||(i=[]);++s<o;){var l=t[s];e>0&&n(l)?e>1?$ce(l,e-1,n,r,i):lQe(i,l):r||(i[i.length]=l)}return i}var Hce=$ce;function uQe(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),l=o.length;l--;){var c=o[t?l:++i];if(n(s[c],c,s)===!1)break}return e}}var dQe=uQe,hQe=dQe,fQe=hQe(),pQe=fQe,mQe=pQe,gQe=dO;function yQe(t,e){return t&&mQe(t,e,gQe)}var Vce=yQe,vQe=Fj;function xQe(t,e){return function(n,r){if(n==null)return n;if(!vQe(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var bQe=xQe,wQe=Vce,_Qe=bQe,SQe=_Qe(wQe),A6=SQe,EQe=A6,jQe=Fj;function AQe(t,e){var n=-1,r=jQe(t)?Array(t.length):[];return EQe(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var Wce=AQe;function NQe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var TQe=NQe,zq=fw;function MQe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=zq(t),o=e!==void 0,l=e===null,c=e===e,u=zq(e);if(!l&&!u&&!s&&t>e||s&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||l&&n&&i||!o&&i||!c)return-1}return 0}var CQe=MQe,PQe=CQe;function kQe(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,l=n.length;++r<o;){var c=PQe(i[r],s[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var OQe=kQe,XL=u6,RQe=d6,IQe=Am,LQe=Wce,DQe=TQe,FQe=Cce,UQe=OQe,BQe=_w,zQe=rl;function $Qe(t,e,n){e.length?e=XL(e,function(s){return zQe(s)?function(o){return RQe(o,s.length===1?s[0]:s)}:s}):e=[BQe];var r=-1;e=XL(e,FQe(IQe));var i=LQe(t,function(s,o,l){var c=XL(e,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return DQe(i,function(s,o){return UQe(s,o,n)})}var HQe=$Qe;function VQe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var WQe=VQe,GQe=WQe,$q=Math.max;function qQe(t,e,n){return e=$q(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=$q(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(o),GQe(t,this,l)}}var YQe=qQe;function XQe(t){return function(){return t}}var KQe=XQe,ZQe=pv,QQe=function(){try{var t=ZQe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Gce=QQe,JQe=KQe,Hq=Gce,eJe=_w,tJe=Hq?function(t,e){return Hq(t,"toString",{configurable:!0,enumerable:!1,value:JQe(e),writable:!0})}:eJe,nJe=tJe,rJe=800,iJe=16,sJe=Date.now;function aJe(t){var e=0,n=0;return function(){var r=sJe(),i=iJe-(r-n);if(n=r,i>0){if(++e>=rJe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var oJe=aJe,lJe=nJe,cJe=oJe,uJe=cJe(lJe),dJe=uJe,hJe=_w,fJe=YQe,pJe=dJe;function mJe(t,e){return pJe(fJe(t,e,hJe),t+"")}var gJe=mJe,yJe=a6,vJe=Fj,xJe=S6,bJe=jm;function wJe(t,e,n){if(!bJe(n))return!1;var r=typeof e;return(r=="number"?vJe(n)&&xJe(e,n.length):r=="string"&&e in n)?yJe(n[e],t):!1}var fO=wJe,_Je=Hce,SJe=HQe,EJe=gJe,Vq=fO,jJe=EJe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Vq(t,e[0],e[1])?e=[]:n>2&&Vq(e[0],e[1],e[2])&&(e=[e[0]]),SJe(t,_Je(e,1),[])}),AJe=jJe;const N6=jr(AJe);function pE(t){"@babel/helpers - typeof";return pE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pE(t)}function jF(){return jF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jF.apply(this,arguments)}function NJe(t,e){return PJe(t)||CJe(t,e)||MJe(t,e)||TJe()}function TJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJe(t,e){if(t){if(typeof t=="string")return Wq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wq(t,e)}}function Wq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CJe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function PJe(t){if(Array.isArray(t))return t}function Gq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gq(Object(n),!0).forEach(function(r){kJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kJe(t,e,n){return e=OJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OJe(t){var e=RJe(t,"string");return pE(e)=="symbol"?e:e+""}function RJe(t,e){if(pE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IJe(t){return Array.isArray(t)&&Ws(t[0])&&Ws(t[1])?t.join(" ~ "):t}var LJe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,y=e.label,b=e.labelFormatter,v=e.accessibilityLayer,_=v===void 0?!1:v,S=function(){if(d&&d.length){var U={padding:0,margin:0},W=(f?N6(d,f):d).map(function(q,J){if(q.type==="none")return null;var K=KL({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),ne=q.formatter||h||IJe,$=q.value,Z=q.name,B=$,ce=Z;if(ne&&B!=null&&ce!=null){var fe=ne($,Z,q,J,d);if(Array.isArray(fe)){var Q=NJe(fe,2);B=Q[0],ce=Q[1]}else B=fe}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:K},Ws(ce)?ae.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,Ws(ce)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},B),ae.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:U},W)}return null},j=KL({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=KL({margin:0},u),A=!mr(y),M=A?y:"",k=vr("recharts-default-tooltip",p),L=vr("recharts-tooltip-label",m);A&&b&&d!==void 0&&d!==null&&(M=b(y,d));var O=_?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",jF({className:k,style:j},O),ae.createElement("p",{className:L,style:N},ae.isValidElement(M)?M:"".concat(M)),S())};function mE(t){"@babel/helpers - typeof";return mE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mE(t)}function FT(t,e,n){return e=DJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJe(t){var e=FJe(t,"string");return mE(e)=="symbol"?e:e+""}function FJe(t,e){if(mE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i1="recharts-tooltip-wrapper",UJe={visibility:"hidden"};function BJe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return vr(i1,FT(FT(FT(FT({},"".concat(i1,"-right"),Ct(n)&&e&&Ct(e.x)&&n>=e.x),"".concat(i1,"-left"),Ct(n)&&e&&Ct(e.x)&&n<e.x),"".concat(i1,"-bottom"),Ct(r)&&e&&Ct(e.y)&&r>=e.y),"".concat(i1,"-top"),Ct(r)&&e&&Ct(e.y)&&r<e.y))}function qq(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Ct(s[r]))return s[r];var d=n[r]-l-i,h=n[r]+i;if(e[r])return o[r]?d:h;if(o[r]){var f=d,p=c[r];return f<p?Math.max(h,c[r]):Math.max(d,c[r])}var m=h+l,y=c[r]+u;return m>y?Math.max(d,c[r]):Math.max(h,c[r])}function zJe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function $Je(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,h;return o.height>0&&o.width>0&&n?(d=qq({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=qq({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=zJe({translateX:d,translateY:h,useTranslate3d:l})):u=UJe,{cssProperties:u,cssClasses:BJe({translateX:d,translateY:h,coordinate:n})}}function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}function Yq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yq(Object(n),!0).forEach(function(r){NF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VJe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yce(r.key),r)}}function WJe(t,e,n){return e&&VJe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GJe(t,e,n){return e=S2(e),qJe(t,qce()?Reflect.construct(e,n||[],S2(t).constructor):e.apply(t,n))}function qJe(t,e){if(e&&(Eb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YJe(t)}function YJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qce=function(){return!!t})()}function S2(t){return S2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S2(t)}function XJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AF(t,e)}function AF(t,e){return AF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AF(t,e)}function NF(t,e,n){return e=Yce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yce(t){var e=KJe(t,"string");return Eb(e)=="symbol"?e:e+""}function KJe(t,e){if(Eb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kq=1,ZJe=function(t){function e(){var n;HJe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=GJe(this,e,[].concat(i)),NF(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),NF(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return XJe(e,t),WJe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Kq||Math.abs(r.height-this.state.lastBoundingBox.height)>Kq)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,p=i.offset,m=i.position,y=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,_=i.wrapperStyle,S=$Je({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),j=S.cssClasses,N=S.cssProperties,A=Xq(Xq({transition:f&&s?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},_);return ae.createElement("div",{tabIndex:-1,className:j,style:A,ref:function(k){r.wrapperNode=k}},u)}}])}(C.PureComponent),QJe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mv={isSsr:QJe()};function jb(t){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function Zq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zq(Object(n),!0).forEach(function(r){T6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kce(r.key),r)}}function tet(t,e,n){return e&&eet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function net(t,e,n){return e=E2(e),ret(t,Xce()?Reflect.construct(e,n||[],E2(t).constructor):e.apply(t,n))}function ret(t,e){if(e&&(jb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iet(t)}function iet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xce=function(){return!!t})()}function E2(t){return E2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E2(t)}function set(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TF(t,e)}function TF(t,e){return TF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TF(t,e)}function T6(t,e,n){return e=Kce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=aet(t,"string");return jb(e)=="symbol"?e:e+""}function aet(t,e){if(jb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oet(t){return t.dataKey}function cet(t,e){return ae.isValidElement(t)?ae.cloneElement(t,e):typeof t=="function"?ae.createElement(t,e):ae.createElement(LJe,e)}var id=function(t){function e(){return JJe(this,e),net(this,e,arguments)}return set(e,t),tet(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,f=i.isAnimationActive,p=i.offset,m=i.payload,y=i.payloadUniqBy,b=i.position,v=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,j=i.wrapperStyle,N=m??[];h&&N.length&&(N=Uce(m.filter(function(M){return M.value!=null&&(M.hide!==!0||r.props.includeHidden)}),y,oet));var A=N.length>0;return ae.createElement(ZJe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:s,coordinate:d,hasPayload:A,offset:p,position:b,reverseDirection:v,useTranslate3d:_,viewBox:S,wrapperStyle:j},cet(u,Qq(Qq({},this.props),{},{payload:N})))}}])}(C.PureComponent);T6(id,"displayName","Tooltip");T6(id,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mv.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var uet=zd,det=function(){return uet.Date.now()},het=det,fet=/\s/;function pet(t){for(var e=t.length;e--&&fet.test(t.charAt(e)););return e}var met=pet,get=met,yet=/^\s+/;function vet(t){return t&&t.slice(0,get(t)+1).replace(yet,"")}var xet=vet,bet=xet,Jq=jm,wet=fw,eY=NaN,_et=/^[-+]0x[0-9a-f]+$/i,Eet=/^0b[01]+$/i,jet=/^0o[0-7]+$/i,Aet=parseInt;function Net(t){if(typeof t=="number")return t;if(wet(t))return eY;if(Jq(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Jq(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=bet(t);var n=Eet.test(t);return n||jet.test(t)?Aet(t.slice(2),n?2:8):_et.test(t)?eY:+t}var Zce=Net,Tet=jm,ZL=het,tY=Zce,Met="Expected a function",Cet=Math.max,Pet=Math.min;function ket(t,e,n){var r,i,s,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Met);e=tY(e)||0,Tet(n)&&(d=!!n.leading,h="maxWait"in n,s=h?Cet(tY(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(A){var M=r,k=i;return r=i=void 0,u=A,o=t.apply(k,M),o}function m(A){return u=A,l=setTimeout(v,e),d?p(A):o}function y(A){var M=A-c,k=A-u,L=e-M;return h?Pet(L,s-k):L}function b(A){var M=A-c,k=A-u;return c===void 0||M>=e||M<0||h&&k>=s}function v(){var A=ZL();if(b(A))return _(A);l=setTimeout(v,y(A))}function _(A){return l=void 0,f&&r?p(A):(r=i=void 0,o)}function S(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function j(){return l===void 0?o:_(ZL())}function N(){var A=ZL(),M=b(A);if(r=arguments,i=this,c=A,M){if(l===void 0)return m(c);if(h)return clearTimeout(l),l=setTimeout(v,e),p(c)}return l===void 0&&(l=setTimeout(v,e)),o}return N.cancel=S,N.flush=j,N}var Oet=ket,Ret=Oet,Iet=jm,Let="Expected a function";function Det(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Let);return Iet(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ret(t,e,{leading:r,maxWait:e,trailing:i})}var Fet=Det;const Qce=jr(Fet);function gE(t){"@babel/helpers - typeof";return gE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gE(t)}function nY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nY(Object(n),!0).forEach(function(r){Uet(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uet(t,e,n){return e=Bet(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bet(t){var e=zet(t,"string");return gE(e)=="symbol"?e:e+""}function zet(t,e){if(gE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $et(t,e){return Get(t)||Wet(t,e)||Vet(t,e)||Het()}function Het(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vet(t,e){if(t){if(typeof t=="string")return rY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rY(t,e)}}function rY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wet(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Get(t){if(Array.isArray(t))return t}var qet=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,p=t.children,m=t.debounce,y=m===void 0?0:m,b=t.id,v=t.className,_=t.onResize,S=t.style,j=S===void 0?{}:S,N=C.useRef(null),A=C.useRef();A.current=_,C.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var M=C.useState({containerWidth:i.width,containerHeight:i.height}),k=$et(M,2),L=k[0],O=k[1],I=C.useCallback(function(W,q){O(function(J){var K=Math.round(W),ne=Math.round(q);return J.containerWidth===K&&J.containerHeight===ne?J:{containerWidth:K,containerHeight:ne}})},[]);C.useEffect(function(){var W=function(Z){var B,ce=Z[0].contentRect,fe=ce.width,Q=ce.height;I(fe,Q),(B=A.current)===null||B===void 0||B.call(A,fe,Q)};y>0&&(W=Qce(W,y,{trailing:!0,leading:!1}));var q=new ResizeObserver(W),J=N.current.getBoundingClientRect(),K=J.width,ne=J.height;return I(K,ne),q.observe(N.current),function(){q.disconnect()}},[I,y]);var U=C.useMemo(function(){var W=L.containerWidth,q=L.containerHeight;if(W<0||q<0)return null;Oh(ay(o)||ay(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Oh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=ay(o)?W:o,K=ay(c)?q:c;n&&n>0&&(J?K=J/n:K&&(J=K*n),f&&K>f&&(K=f)),Oh(J>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,K,o,c,d,h,n);var ne=!Array.isArray(p)&&kh(p.type).endsWith("Chart");return ae.Children.map(p,function($){return ae.isValidElement($)?C.cloneElement($,UT({width:J,height:K},ne?{style:UT({height:"100%",width:"100%",maxHeight:K,maxWidth:J},$.props.style)}:{})):$})},[n,p,c,f,h,d,L,o]);return ae.createElement("div",{id:b?"".concat(b):void 0,className:vr("recharts-responsive-container",v),style:UT(UT({},j),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:N},U)}),Jce=function(e){return null};Jce.displayName="Cell";function yE(t){"@babel/helpers - typeof";return yE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yE(t)}function iY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iY(Object(n),!0).forEach(function(r){Yet(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yet(t,e,n){return e=Xet(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xet(t){var e=Ket(t,"string");return yE(e)=="symbol"?e:e+""}function Ket(t,e){if(yE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lx={widthCache:{},cacheCount:0},Zet=2e3,Qet={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sY="recharts_measurement_span";function Jet(t){var e=MF({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var nS=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mv.isSsr)return{width:0,height:0};var r=Jet(n),i=JSON.stringify({text:e,copyStyle:r});if(Lx.widthCache[i])return Lx.widthCache[i];try{var s=document.getElementById(sY);s||(s=document.createElement("span"),s.setAttribute("id",sY),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=MF(MF({},Qet),r);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Lx.widthCache[i]=c,++Lx.cacheCount>Zet&&(Lx.cacheCount=0,Lx.widthCache={}),c}catch{return{width:0,height:0}}},ett=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function vE(t){"@babel/helpers - typeof";return vE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vE(t)}function j2(t,e){return itt(t)||rtt(t,e)||ntt(t,e)||ttt()}function ttt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ntt(t,e){if(t){if(typeof t=="string")return aY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aY(t,e)}}function aY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rtt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function itt(t){if(Array.isArray(t))return t}function stt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ott(r.key),r)}}function att(t,e,n){return e&&oY(t.prototype,e),n&&oY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ott(t){var e=ltt(t,"string");return vE(e)=="symbol"?e:e+""}function ltt(t,e){if(vE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lY=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cY=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ctt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,utt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eue={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dtt=Object.keys(eue),d0="NaN";function htt(t,e){return t*eue[e]}var BT=function(){function t(e,n){stt(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!ctt.test(n)&&(this.num=NaN,this.unit=""),dtt.includes(n)&&(this.num=htt(e,n),this.unit="px")}return att(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=utt.exec(n))!==null&&r!==void 0?r:[],s=j2(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function tue(t){if(t.includes(d0))return d0;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=lY.exec(e))!==null&&n!==void 0?n:[],i=j2(r,4),s=i[1],o=i[2],l=i[3],c=BT.parse(s??""),u=BT.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return d0;e=e.replace(lY,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=cY.exec(e))!==null&&h!==void 0?h:[],p=j2(f,4),m=p[1],y=p[2],b=p[3],v=BT.parse(m??""),_=BT.parse(b??""),S=y==="+"?v.add(_):v.subtract(_);if(S.isNaN())return d0;e=e.replace(cY,S.toString())}return e}var uY=/\(([^()]*)\)/;function ftt(t){for(var e=t;e.includes("(");){var n=uY.exec(e),r=j2(n,2),i=r[1];e=e.replace(uY,tue(i))}return e}function ptt(t){var e=t.replace(/\s+/g,"");return e=ftt(e),e=tue(e),e}function mtt(t){try{return ptt(t)}catch{return d0}}function QL(t){var e=mtt(t.slice(5,-1));return e===d0?"":e}var gtt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ytt=["dx","dy","angle","className","breakAll"];function CF(){return CF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CF.apply(this,arguments)}function dY(t,e){if(t==null)return{};var n=vtt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vtt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hY(t,e){return _tt(t)||wtt(t,e)||btt(t,e)||xtt()}function xtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function btt(t,e){if(t){if(typeof t=="string")return fY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fY(t,e)}}function fY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wtt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _tt(t){if(Array.isArray(t))return t}var nue=/[ \f\n\r\t\v\u2028\u2029]+/,rue=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];mr(n)||(r?s=n.toString().split(""):s=n.toString().split(nue));var o=s.map(function(c){return{word:c,width:nS(c,i).width}}),l=r?0:nS("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Stt=function(e,n,r,i,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Ct(o),h=l,f=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(K,ne){var $=ne.word,Z=ne.width,B=K[K.length-1];if(B&&(i==null||s||B.width+Z+r<Number(i)))B.words.push($),B.width+=Z+r;else{var ce={words:[$],width:Z};K.push(ce)}return K},[])},p=f(n),m=function(J){return J.reduce(function(K,ne){return K.width>ne.width?K:ne})};if(!d)return p;for(var y="",b=function(J){var K=h.slice(0,J),ne=rue({breakAll:u,style:c,children:K+y}).wordsWithComputedWidth,$=f(ne),Z=$.length>o||m($).width>Number(i);return[Z,$]},v=0,_=h.length-1,S=0,j;v<=_&&S<=h.length-1;){var N=Math.floor((v+_)/2),A=N-1,M=b(A),k=hY(M,2),L=k[0],O=k[1],I=b(N),U=hY(I,1),W=U[0];if(!L&&!W&&(v=N+1),L&&W&&(_=N-1),!L&&W){j=O;break}S++}return j||p},pY=function(e){var n=mr(e)?[]:e.toString().split(nue);return[{words:n}]},Ett=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!mv.isSsr){var c,u,d=rue({breakAll:o,children:i,style:s});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return pY(i);return Stt({breakAll:o,children:i,maxLines:l,style:s},c,u,n,r)}return pY(i)},mY="#808080",A2=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,p=f===void 0?"start":f,m=e.verticalAnchor,y=m===void 0?"end":m,b=e.fill,v=b===void 0?mY:b,_=dY(e,gtt),S=C.useMemo(function(){return Ett({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:h,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,h,_.style,_.width]),j=_.dx,N=_.dy,A=_.angle,M=_.className,k=_.breakAll,L=dY(_,ytt);if(!Ws(r)||!Ws(s))return null;var O=r+(Ct(j)?j:0),I=s+(Ct(N)?N:0),U;switch(y){case"start":U=QL("calc(".concat(u,")"));break;case"middle":U=QL("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:U=QL("calc(".concat(S.length-1," * -").concat(l,")"));break}var W=[];if(h){var q=S[0].width,J=_.width;W.push("scale(".concat((Ct(J)?J/q:1)/q,")"))}return A&&W.push("rotate(".concat(A,", ").concat(O,", ").concat(I,")")),W.length&&(L.transform=W.join(" ")),ae.createElement("text",CF({},lr(L,!0),{x:O,y:I,className:vr("recharts-text",M),textAnchor:p,fill:v.includes("url")?mY:v}),S.map(function(K,ne){var $=K.words.join(k?"":" ");return ae.createElement("tspan",{x:O,dy:ne===0?U:l,key:"".concat($,"-").concat(ne)},$)}))};function $p(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jtt(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function M6(t){let e,n,r;t.length!==2?(e=$p,n=(l,c)=>$p(t(l),c),r=(l,c)=>t(l)-c):(e=t===$p||t===jtt?t:Att,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:i,center:o,right:s}}function Att(){return 0}function iue(t){return t===null?NaN:+t}function*Ntt(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Ttt=M6($p),Uj=Ttt.right;M6(iue).center;class gY extends Map{constructor(e,n=Ptt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(yY(this,e))}has(e){return super.has(yY(this,e))}set(e,n){return super.set(Mtt(this,e),n)}delete(e){return super.delete(Ctt(this,e))}}function yY({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Mtt({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ctt({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ptt(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ktt(t=$p){if(t===$p)return sue;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sue(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ott=Math.sqrt(50),Rtt=Math.sqrt(10),Itt=Math.sqrt(2);function N2(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Ott?10:s>=Rtt?5:s>=Itt?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?N2(t,e,n*2):[l,c,u]}function PF(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?N2(e,t,n):N2(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function kF(t,e,n){return e=+e,t=+t,n=+n,N2(t,e,n)[2]}function OF(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?kF(e,t,n):kF(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function vY(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function xY(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function aue(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?sue:ktt(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/c+f)),m=Math.min(r,Math.floor(e+(c-u)*h/c+f));aue(t,e,p,m,i)}const s=t[e];let o=n,l=r;for(s1(t,n,e),i(t[r],s)>0&&s1(t,n,r);o<l;){for(s1(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?s1(t,n,l):(++l,s1(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function s1(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Ltt(t,e,n){if(t=Float64Array.from(Ntt(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return xY(t);if(e>=1)return vY(t);var r,i=(r-1)*e,s=Math.floor(i),o=vY(aue(t,s).subarray(0,s+1)),l=xY(t.subarray(s+1));return o+(l-o)*(i-s)}}function Dtt(t,e,n=iue){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function Ftt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Dc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function af(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const RF=Symbol("implicit");function C6(){var t=new gY,e=[],n=[],r=RF;function i(s){let o=t.get(s);if(o===void 0){if(r!==RF)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new gY;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return C6(e,n).unknown(r)},Dc.apply(i,arguments),i}function xE(){var t=C6().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,p=i<r,m=p?i:r,y=p?r:i;s=(y-m)/Math.max(1,f-c+u*2),l&&(s=Math.floor(s)),m+=(y-m-s*(f-c))*d,o=s*(1-c),l&&(m=Math.round(m),o=Math.round(o));var b=Ftt(f).map(function(v){return m+s*v});return n(p?b.reverse():b)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return xE(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Dc.apply(h(),arguments)}function oue(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oue(e())},t}function rS(){return oue(xE.apply(null,arguments).paddingInner(1))}function P6(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function lue(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Bj(){}var bE=.7,T2=1/bE,O0="\\s*([+-]?\\d+)\\s*",wE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Utt=/^#([0-9a-f]{3,8})$/,Btt=new RegExp(`^rgb\\(${O0},${O0},${O0}\\)$`),ztt=new RegExp(`^rgb\\(${Ad},${Ad},${Ad}\\)$`),$tt=new RegExp(`^rgba\\(${O0},${O0},${O0},${wE}\\)$`),Htt=new RegExp(`^rgba\\(${Ad},${Ad},${Ad},${wE}\\)$`),Vtt=new RegExp(`^hsl\\(${wE},${Ad},${Ad}\\)$`),Wtt=new RegExp(`^hsla\\(${wE},${Ad},${Ad},${wE}\\)$`),bY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P6(Bj,_E,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wY,formatHex:wY,formatHex8:Gtt,formatHsl:qtt,formatRgb:_Y,toString:_Y});function wY(){return this.rgb().formatHex()}function Gtt(){return this.rgb().formatHex8()}function qtt(){return cue(this).formatHsl()}function _Y(){return this.rgb().formatRgb()}function _E(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Utt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?SY(e):n===3?new Wo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?zT(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?zT(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Btt.exec(t))?new Wo(e[1],e[2],e[3],1):(e=ztt.exec(t))?new Wo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$tt.exec(t))?zT(e[1],e[2],e[3],e[4]):(e=Htt.exec(t))?zT(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Vtt.exec(t))?AY(e[1],e[2]/100,e[3]/100,1):(e=Wtt.exec(t))?AY(e[1],e[2]/100,e[3]/100,e[4]):bY.hasOwnProperty(t)?SY(bY[t]):t==="transparent"?new Wo(NaN,NaN,NaN,0):null}function SY(t){return new Wo(t>>16&255,t>>8&255,t&255,1)}function zT(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wo(t,e,n,r)}function Ytt(t){return t instanceof Bj||(t=_E(t)),t?(t=t.rgb(),new Wo(t.r,t.g,t.b,t.opacity)):new Wo}function IF(t,e,n,r){return arguments.length===1?Ytt(t):new Wo(t,e,n,r??1)}function Wo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}P6(Wo,IF,lue(Bj,{brighter(t){return t=t==null?T2:Math.pow(T2,t),new Wo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bE:Math.pow(bE,t),new Wo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wo(Cy(this.r),Cy(this.g),Cy(this.b),M2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EY,formatHex:EY,formatHex8:Xtt,formatRgb:jY,toString:jY}));function EY(){return`#${oy(this.r)}${oy(this.g)}${oy(this.b)}`}function Xtt(){return`#${oy(this.r)}${oy(this.g)}${oy(this.b)}${oy((isNaN(this.opacity)?1:this.opacity)*255)}`}function jY(){const t=M2(this.opacity);return`${t===1?"rgb(":"rgba("}${Cy(this.r)}, ${Cy(this.g)}, ${Cy(this.b)}${t===1?")":`, ${t})`}`}function M2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cy(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function oy(t){return t=Cy(t),(t<16?"0":"")+t.toString(16)}function AY(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vu(t,e,n,r)}function cue(t){if(t instanceof vu)return new vu(t.h,t.s,t.l,t.opacity);if(t instanceof Bj||(t=_E(t)),!t)return new vu;if(t instanceof vu)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new vu(o,l,c,t.opacity)}function Ktt(t,e,n,r){return arguments.length===1?cue(t):new vu(t,e,n,r??1)}function vu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}P6(vu,Ktt,lue(Bj,{brighter(t){return t=t==null?T2:Math.pow(T2,t),new vu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bE:Math.pow(bE,t),new vu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wo(JL(t>=240?t-240:t+120,i,r),JL(t,i,r),JL(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vu(NY(this.h),$T(this.s),$T(this.l),M2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=M2(this.opacity);return`${t===1?"hsl(":"hsla("}${NY(this.h)}, ${$T(this.s)*100}%, ${$T(this.l)*100}%${t===1?")":`, ${t})`}`}}));function NY(t){return t=(t||0)%360,t<0?t+360:t}function $T(t){return Math.max(0,Math.min(1,t||0))}function JL(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const k6=t=>()=>t;function Ztt(t,e){return function(n){return t+n*e}}function Qtt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Jtt(t){return(t=+t)==1?uue:function(e,n){return n-e?Qtt(e,n,t):k6(isNaN(e)?n:e)}}function uue(t,e){var n=e-t;return n?Ztt(t,n):k6(isNaN(t)?e:t)}const TY=function t(e){var n=Jtt(e);function r(i,s){var o=n((i=IF(i)).r,(s=IF(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=uue(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function ent(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function tnt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nnt(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Sw(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function rnt(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function C2(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function int(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Sw(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var LF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,e3=new RegExp(LF.source,"g");function snt(t){return function(){return t}}function ant(t){return function(e){return t(e)+""}}function ont(t,e){var n=LF.lastIndex=e3.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=LF.exec(t))&&(i=e3.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:C2(r,i)})),n=e3.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?ant(c[0].x):snt(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Sw(t,e){var n=typeof e,r;return e==null||n==="boolean"?k6(e):(n==="number"?C2:n==="string"?(r=_E(e))?(e=r,TY):ont:e instanceof _E?TY:e instanceof Date?rnt:tnt(e)?ent:Array.isArray(e)?nnt:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?int:C2)(t,e)}function O6(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function lnt(t,e){e===void 0&&(e=t,t=Sw);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function cnt(t){return function(){return t}}function P2(t){return+t}var MY=[0,1];function yo(t){return t}function DF(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:cnt(isNaN(e)?NaN:.5)}function unt(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function dnt(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=DF(i,r),s=n(o,s)):(r=DF(r,i),s=n(s,o)),function(l){return s(r(l))}}function hnt(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=DF(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var c=Uj(t,l,1,r)-1;return s[c](i[c](l))}}function zj(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pO(){var t=MY,e=MY,n=Sw,r,i,s,o=yo,l,c,u;function d(){var f=Math.min(t.length,e.length);return o!==yo&&(o=unt(t[0],t[f-1])),l=f>2?hnt:dnt,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?s:(c||(c=l(t.map(r),e,n)))(r(o(f)))}return h.invert=function(f){return o(i((u||(u=l(e,t.map(r),C2)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,P2),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=O6,d()},h.clamp=function(f){return arguments.length?(o=f?!0:yo,d()):o!==yo},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,p){return r=f,i=p,d()}}function R6(){return pO()(yo,yo)}function fnt(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function k2(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ab(t){return t=k2(Math.abs(t)),t?t[1]:NaN}function pnt(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function mnt(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gnt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function SE(t){if(!(e=gnt.exec(t)))throw new Error("invalid format: "+t);var e;return new I6({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}SE.prototype=I6.prototype;function I6(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}I6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ynt(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var due;function vnt(t,e){var n=k2(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(due=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+k2(t,Math.max(0,e+s-1))[0]}function CY(t,e){var n=k2(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const PY={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fnt,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>CY(t*100,e),r:CY,s:vnt,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function kY(t){return t}var OY=Array.prototype.map,RY=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xnt(t){var e=t.grouping===void 0||t.thousands===void 0?kY:pnt(OY.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?kY:mnt(OY.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=SE(h);var f=h.fill,p=h.align,m=h.sign,y=h.symbol,b=h.zero,v=h.width,_=h.comma,S=h.precision,j=h.trim,N=h.type;N==="n"?(_=!0,N="g"):PY[N]||(S===void 0&&(S=12),j=!0,N="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var A=y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",M=y==="$"?r:/[%p]/.test(N)?o:"",k=PY[N],L=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function O(I){var U=A,W=M,q,J,K;if(N==="c")W=k(I)+W,I="";else{I=+I;var ne=I<0||1/I<0;if(I=isNaN(I)?c:k(Math.abs(I),S),j&&(I=ynt(I)),ne&&+I==0&&m!=="+"&&(ne=!1),U=(ne?m==="("?m:l:m==="-"||m==="("?"":m)+U,W=(N==="s"?RY[8+due/3]:"")+W+(ne&&m==="("?")":""),L){for(q=-1,J=I.length;++q<J;)if(K=I.charCodeAt(q),48>K||K>57){W=(K===46?i+I.slice(q+1):I.slice(q))+W,I=I.slice(0,q);break}}}_&&!b&&(I=e(I,1/0));var $=U.length+I.length+W.length,Z=$<v?new Array(v-$+1).join(f):"";switch(_&&b&&(I=e(Z+I,Z.length?v-W.length:1/0),Z=""),p){case"<":I=U+I+W+Z;break;case"=":I=U+Z+I+W;break;case"^":I=Z.slice(0,$=Z.length>>1)+U+I+W+Z.slice($);break;default:I=Z+U+I+W;break}return s(I)}return O.toString=function(){return h+""},O}function d(h,f){var p=u((h=SE(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Ab(f)/3)))*3,y=Math.pow(10,-m),b=RY[8+m/3];return function(v){return p(y*v)+b}}return{format:u,formatPrefix:d}}var HT,L6,hue;bnt({thousands:",",grouping:[3],currency:["$",""]});function bnt(t){return HT=xnt(t),L6=HT.format,hue=HT.formatPrefix,HT}function wnt(t){return Math.max(0,-Ab(Math.abs(t)))}function _nt(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ab(e)/3)))*3-Ab(Math.abs(t)))}function Snt(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ab(e)-Ab(t))+1}function fue(t,e,n,r){var i=OF(t,e,n),s;switch(r=SE(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=_nt(i,o))&&(r.precision=s),hue(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Snt(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=wnt(i))&&(r.precision=s-(r.type==="%")*2);break}}return L6(r)}function Nm(t){var e=t.domain;return t.ticks=function(n){var r=e();return PF(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return fue(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=kF(o,l,n),u===c)return r[i]=o,r[s]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function O2(){var t=R6();return t.copy=function(){return zj(t,O2())},Dc.apply(t,arguments),Nm(t)}function pue(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,P2),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pue(t).unknown(e)},t=arguments.length?Array.from(t,P2):[0,1],Nm(n)}function mue(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function IY(t){return Math.log(t)}function LY(t){return Math.exp(t)}function Ent(t){return-Math.log(-t)}function jnt(t){return-Math.exp(-t)}function Ant(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Nnt(t){return t===10?Ant:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Tnt(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DY(t){return(e,n)=>-t(-e,n)}function D6(t){const e=t(IY,LY),n=e.domain;let r=10,i,s;function o(){return i=Tnt(r),s=Nnt(r),n()[0]<0?(i=DY(i),s=DY(s),t(Ent,jnt)):t(IY,LY),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),p=i(d),m,y;const b=l==null?10:+l;let v=[];if(!(r%1)&&p-f<b){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(m=1;m<r;++m)if(y=f<0?m/s(-f):m*s(f),!(y<u)){if(y>d)break;v.push(y)}}else for(;f<=p;++f)for(m=r-1;m>=1;--m)if(y=f>0?m/s(-f):m*s(f),!(y<u)){if(y>d)break;v.push(y)}v.length*2<b&&(v=PF(u,d,b))}else v=PF(f,p,Math.min(p-f,b)).map(s);return h?v.reverse():v},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=SE(c)).precision==null&&(c.trim=!0),c=L6(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},e.nice=()=>n(mue(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function gue(){const t=D6(pO()).domain([1,10]);return t.copy=()=>zj(t,gue()).base(t.base()),Dc.apply(t,arguments),t}function FY(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function UY(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function F6(t){var e=1,n=t(FY(e),UY(e));return n.constant=function(r){return arguments.length?t(FY(e=+r),UY(e)):e},Nm(n)}function yue(){var t=F6(pO());return t.copy=function(){return zj(t,yue()).constant(t.constant())},Dc.apply(t,arguments)}function BY(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Mnt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Cnt(t){return t<0?-t*t:t*t}function U6(t){var e=t(yo,yo),n=1;function r(){return n===1?t(yo,yo):n===.5?t(Mnt,Cnt):t(BY(n),BY(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Nm(e)}function B6(){var t=U6(pO());return t.copy=function(){return zj(t,B6()).exponent(t.exponent())},Dc.apply(t,arguments),t}function Pnt(){return B6.apply(null,arguments).exponent(.5)}function zY(t){return Math.sign(t)*t*t}function knt(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vue(){var t=R6(),e=[0,1],n=!1,r;function i(s){var o=knt(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(zY(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,P2)).map(zY)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return vue(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Dc.apply(i,arguments),Nm(i)}function xue(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=Dtt(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:e[Uj(n,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort($p),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return xue().domain(t).range(e).unknown(r)},Dc.apply(s,arguments)}function bue(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Uj(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return bue().domain([t,e]).range(i).unknown(s)},Dc.apply(Nm(o),arguments)}function wue(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Uj(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return wue().domain(t).range(e).unknown(n)},Dc.apply(i,arguments)}const t3=new Date,n3=new Date;function Xs(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>Xs(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(t3.setTime(+s),n3.setTime(+o),t(t3),t(n3),Math.floor(n(t3,n3))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const R2=Xs(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);R2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xs(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):R2);R2.range;const Nh=1e3,Ec=Nh*60,Th=Ec*60,Zh=Th*24,z6=Zh*7,$Y=Zh*30,r3=Zh*365,ly=Xs(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Nh)},(t,e)=>(e-t)/Nh,t=>t.getUTCSeconds());ly.range;const $6=Xs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nh)},(t,e)=>{t.setTime(+t+e*Ec)},(t,e)=>(e-t)/Ec,t=>t.getMinutes());$6.range;const H6=Xs(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ec)},(t,e)=>(e-t)/Ec,t=>t.getUTCMinutes());H6.range;const V6=Xs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nh-t.getMinutes()*Ec)},(t,e)=>{t.setTime(+t+e*Th)},(t,e)=>(e-t)/Th,t=>t.getHours());V6.range;const W6=Xs(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Th)},(t,e)=>(e-t)/Th,t=>t.getUTCHours());W6.range;const $j=Xs(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ec)/Zh,t=>t.getDate()-1);$j.range;const mO=Xs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zh,t=>t.getUTCDate()-1);mO.range;const _ue=Xs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zh,t=>Math.floor(t/Zh));_ue.range;function gv(t){return Xs(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ec)/z6)}const gO=gv(0),I2=gv(1),Ont=gv(2),Rnt=gv(3),Nb=gv(4),Int=gv(5),Lnt=gv(6);gO.range;I2.range;Ont.range;Rnt.range;Nb.range;Int.range;Lnt.range;function yv(t){return Xs(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/z6)}const yO=yv(0),L2=yv(1),Dnt=yv(2),Fnt=yv(3),Tb=yv(4),Unt=yv(5),Bnt=yv(6);yO.range;L2.range;Dnt.range;Fnt.range;Tb.range;Unt.range;Bnt.range;const G6=Xs(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());G6.range;const q6=Xs(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());q6.range;const Qh=Xs(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xs(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Qh.range;const Jh=Xs(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Jh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xs(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Jh.range;function Sue(t,e,n,r,i,s){const o=[[ly,1,Nh],[ly,5,5*Nh],[ly,15,15*Nh],[ly,30,30*Nh],[s,1,Ec],[s,5,5*Ec],[s,15,15*Ec],[s,30,30*Ec],[i,1,Th],[i,3,3*Th],[i,6,6*Th],[i,12,12*Th],[r,1,Zh],[r,2,2*Zh],[n,1,z6],[e,1,$Y],[e,3,3*$Y],[t,1,r3]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),m=p?p.range(u,+d+1):[];return f?m.reverse():m}function c(u,d,h){const f=Math.abs(d-u)/h,p=M6(([,,b])=>b).right(o,f);if(p===o.length)return t.every(OF(u/r3,d/r3,h));if(p===0)return R2.every(Math.max(OF(u,d,h),1));const[m,y]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return m.every(y)}return[l,c]}const[znt,$nt]=Sue(Jh,q6,yO,_ue,W6,H6),[Hnt,Vnt]=Sue(Qh,G6,gO,$j,V6,$6);function i3(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function s3(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function a1(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Wnt(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=o1(i),d=l1(i),h=o1(s),f=l1(s),p=o1(o),m=l1(o),y=o1(l),b=l1(l),v=o1(c),_=l1(c),S={a:ne,A:$,b:Z,B,c:null,d:YY,e:YY,f:prt,g:Ert,G:Art,H:drt,I:hrt,j:frt,L:Eue,m:mrt,M:grt,p:ce,q:fe,Q:ZY,s:QY,S:yrt,u:vrt,U:xrt,V:brt,w:wrt,W:_rt,x:null,X:null,y:Srt,Y:jrt,Z:Nrt,"%":KY},j={a:Q,A:xe,b:ke,B:Re,c:null,d:XY,e:XY,f:Prt,g:zrt,G:Hrt,H:Trt,I:Mrt,j:Crt,L:Aue,m:krt,M:Ort,p:Ce,q:tt,Q:ZY,s:QY,S:Rrt,u:Irt,U:Lrt,V:Drt,w:Frt,W:Urt,x:null,X:null,y:Brt,Y:$rt,Z:Vrt,"%":KY},N={a:O,A:I,b:U,B:W,c:q,d:GY,e:GY,f:ort,g:WY,G:VY,H:qY,I:qY,j:rrt,L:art,m:nrt,M:irt,p:L,q:trt,Q:crt,s:urt,S:srt,u:Knt,U:Znt,V:Qnt,w:Xnt,W:Jnt,x:J,X:K,y:WY,Y:VY,Z:ert,"%":lrt};S.x=A(n,S),S.X=A(r,S),S.c=A(e,S),j.x=A(n,j),j.X=A(r,j),j.c=A(e,j);function A(Fe,Ve){return function(Ue){var he=[],te=-1,ze=0,nt=Fe.length,Je,rt,Pt;for(Ue instanceof Date||(Ue=new Date(+Ue));++te<nt;)Fe.charCodeAt(te)===37&&(he.push(Fe.slice(ze,te)),(rt=HY[Je=Fe.charAt(++te)])!=null?Je=Fe.charAt(++te):rt=Je==="e"?" ":"0",(Pt=Ve[Je])&&(Je=Pt(Ue,rt)),he.push(Je),ze=te+1);return he.push(Fe.slice(ze,te)),he.join("")}}function M(Fe,Ve){return function(Ue){var he=a1(1900,void 0,1),te=k(he,Fe,Ue+="",0),ze,nt;if(te!=Ue.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ve&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(ze=s3(a1(he.y,0,1)),nt=ze.getUTCDay(),ze=nt>4||nt===0?L2.ceil(ze):L2(ze),ze=mO.offset(ze,(he.V-1)*7),he.y=ze.getUTCFullYear(),he.m=ze.getUTCMonth(),he.d=ze.getUTCDate()+(he.w+6)%7):(ze=i3(a1(he.y,0,1)),nt=ze.getDay(),ze=nt>4||nt===0?I2.ceil(ze):I2(ze),ze=$j.offset(ze,(he.V-1)*7),he.y=ze.getFullYear(),he.m=ze.getMonth(),he.d=ze.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),nt="Z"in he?s3(a1(he.y,0,1)).getUTCDay():i3(a1(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(nt+5)%7:he.w+he.U*7-(nt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,s3(he)):i3(he)}}function k(Fe,Ve,Ue,he){for(var te=0,ze=Ve.length,nt=Ue.length,Je,rt;te<ze;){if(he>=nt)return-1;if(Je=Ve.charCodeAt(te++),Je===37){if(Je=Ve.charAt(te++),rt=N[Je in HY?Ve.charAt(te++):Je],!rt||(he=rt(Fe,Ue,he))<0)return-1}else if(Je!=Ue.charCodeAt(he++))return-1}return he}function L(Fe,Ve,Ue){var he=u.exec(Ve.slice(Ue));return he?(Fe.p=d.get(he[0].toLowerCase()),Ue+he[0].length):-1}function O(Fe,Ve,Ue){var he=p.exec(Ve.slice(Ue));return he?(Fe.w=m.get(he[0].toLowerCase()),Ue+he[0].length):-1}function I(Fe,Ve,Ue){var he=h.exec(Ve.slice(Ue));return he?(Fe.w=f.get(he[0].toLowerCase()),Ue+he[0].length):-1}function U(Fe,Ve,Ue){var he=v.exec(Ve.slice(Ue));return he?(Fe.m=_.get(he[0].toLowerCase()),Ue+he[0].length):-1}function W(Fe,Ve,Ue){var he=y.exec(Ve.slice(Ue));return he?(Fe.m=b.get(he[0].toLowerCase()),Ue+he[0].length):-1}function q(Fe,Ve,Ue){return k(Fe,e,Ve,Ue)}function J(Fe,Ve,Ue){return k(Fe,n,Ve,Ue)}function K(Fe,Ve,Ue){return k(Fe,r,Ve,Ue)}function ne(Fe){return o[Fe.getDay()]}function $(Fe){return s[Fe.getDay()]}function Z(Fe){return c[Fe.getMonth()]}function B(Fe){return l[Fe.getMonth()]}function ce(Fe){return i[+(Fe.getHours()>=12)]}function fe(Fe){return 1+~~(Fe.getMonth()/3)}function Q(Fe){return o[Fe.getUTCDay()]}function xe(Fe){return s[Fe.getUTCDay()]}function ke(Fe){return c[Fe.getUTCMonth()]}function Re(Fe){return l[Fe.getUTCMonth()]}function Ce(Fe){return i[+(Fe.getUTCHours()>=12)]}function tt(Fe){return 1+~~(Fe.getUTCMonth()/3)}return{format:function(Fe){var Ve=A(Fe+="",S);return Ve.toString=function(){return Fe},Ve},parse:function(Fe){var Ve=M(Fe+="",!1);return Ve.toString=function(){return Fe},Ve},utcFormat:function(Fe){var Ve=A(Fe+="",j);return Ve.toString=function(){return Fe},Ve},utcParse:function(Fe){var Ve=M(Fe+="",!0);return Ve.toString=function(){return Fe},Ve}}}var HY={"-":"",_:" ",0:"0"},ya=/^\s*\d+/,Gnt=/^%/,qnt=/[\\^$*+?|[\]().{}]/g;function Dr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Ynt(t){return t.replace(qnt,"\\$&")}function o1(t){return new RegExp("^(?:"+t.map(Ynt).join("|")+")","i")}function l1(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Xnt(t,e,n){var r=ya.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Knt(t,e,n){var r=ya.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Znt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Qnt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Jnt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=ya.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function WY(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ert(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function trt(t,e,n){var r=ya.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function nrt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function GY(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rrt(t,e,n){var r=ya.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function qY(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function irt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function srt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function art(t,e,n){var r=ya.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ort(t,e,n){var r=ya.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lrt(t,e,n){var r=Gnt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function crt(t,e,n){var r=ya.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function urt(t,e,n){var r=ya.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function YY(t,e){return Dr(t.getDate(),e,2)}function drt(t,e){return Dr(t.getHours(),e,2)}function hrt(t,e){return Dr(t.getHours()%12||12,e,2)}function frt(t,e){return Dr(1+$j.count(Qh(t),t),e,3)}function Eue(t,e){return Dr(t.getMilliseconds(),e,3)}function prt(t,e){return Eue(t,e)+"000"}function mrt(t,e){return Dr(t.getMonth()+1,e,2)}function grt(t,e){return Dr(t.getMinutes(),e,2)}function yrt(t,e){return Dr(t.getSeconds(),e,2)}function vrt(t){var e=t.getDay();return e===0?7:e}function xrt(t,e){return Dr(gO.count(Qh(t)-1,t),e,2)}function jue(t){var e=t.getDay();return e>=4||e===0?Nb(t):Nb.ceil(t)}function brt(t,e){return t=jue(t),Dr(Nb.count(Qh(t),t)+(Qh(t).getDay()===4),e,2)}function wrt(t){return t.getDay()}function _rt(t,e){return Dr(I2.count(Qh(t)-1,t),e,2)}function Srt(t,e){return Dr(t.getFullYear()%100,e,2)}function Ert(t,e){return t=jue(t),Dr(t.getFullYear()%100,e,2)}function jrt(t,e){return Dr(t.getFullYear()%1e4,e,4)}function Art(t,e){var n=t.getDay();return t=n>=4||n===0?Nb(t):Nb.ceil(t),Dr(t.getFullYear()%1e4,e,4)}function Nrt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dr(e/60|0,"0",2)+Dr(e%60,"0",2)}function XY(t,e){return Dr(t.getUTCDate(),e,2)}function Trt(t,e){return Dr(t.getUTCHours(),e,2)}function Mrt(t,e){return Dr(t.getUTCHours()%12||12,e,2)}function Crt(t,e){return Dr(1+mO.count(Jh(t),t),e,3)}function Aue(t,e){return Dr(t.getUTCMilliseconds(),e,3)}function Prt(t,e){return Aue(t,e)+"000"}function krt(t,e){return Dr(t.getUTCMonth()+1,e,2)}function Ort(t,e){return Dr(t.getUTCMinutes(),e,2)}function Rrt(t,e){return Dr(t.getUTCSeconds(),e,2)}function Irt(t){var e=t.getUTCDay();return e===0?7:e}function Lrt(t,e){return Dr(yO.count(Jh(t)-1,t),e,2)}function Nue(t){var e=t.getUTCDay();return e>=4||e===0?Tb(t):Tb.ceil(t)}function Drt(t,e){return t=Nue(t),Dr(Tb.count(Jh(t),t)+(Jh(t).getUTCDay()===4),e,2)}function Frt(t){return t.getUTCDay()}function Urt(t,e){return Dr(L2.count(Jh(t)-1,t),e,2)}function Brt(t,e){return Dr(t.getUTCFullYear()%100,e,2)}function zrt(t,e){return t=Nue(t),Dr(t.getUTCFullYear()%100,e,2)}function $rt(t,e){return Dr(t.getUTCFullYear()%1e4,e,4)}function Hrt(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Tb(t):Tb.ceil(t),Dr(t.getUTCFullYear()%1e4,e,4)}function Vrt(){return"+0000"}function KY(){return"%"}function ZY(t){return+t}function QY(t){return Math.floor(+t/1e3)}var Dx,Tue,Mue;Wrt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wrt(t){return Dx=Wnt(t),Tue=Dx.format,Dx.parse,Mue=Dx.utcFormat,Dx.utcParse,Dx}function Grt(t){return new Date(t)}function qrt(t){return t instanceof Date?+t:+new Date(+t)}function Y6(t,e,n,r,i,s,o,l,c,u){var d=R6(),h=d.invert,f=d.domain,p=u(".%L"),m=u(":%S"),y=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),_=u("%b %d"),S=u("%B"),j=u("%Y");function N(A){return(c(A)<A?p:l(A)<A?m:o(A)<A?y:s(A)<A?b:r(A)<A?i(A)<A?v:_:n(A)<A?S:j)(A)}return d.invert=function(A){return new Date(h(A))},d.domain=function(A){return arguments.length?f(Array.from(A,qrt)):f().map(Grt)},d.ticks=function(A){var M=f();return t(M[0],M[M.length-1],A??10)},d.tickFormat=function(A,M){return M==null?N:u(M)},d.nice=function(A){var M=f();return(!A||typeof A.range!="function")&&(A=e(M[0],M[M.length-1],A??10)),A?f(mue(M,A)):d},d.copy=function(){return zj(d,Y6(t,e,n,r,i,s,o,l,c,u))},d}function Yrt(){return Dc.apply(Y6(Hnt,Vnt,Qh,G6,gO,$j,V6,$6,ly,Tue).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xrt(){return Dc.apply(Y6(znt,$nt,Jh,q6,yO,mO,W6,H6,ly,Mue).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vO(){var t=0,e=1,n,r,i,s,o=yo,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(s(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var p,m;return arguments.length?([p,m]=f,o=h(p,m),u):[o(0),o(1)]}}return u.range=d(Sw),u.rangeRound=d(O6),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Tm(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Cue(){var t=Nm(vO()(yo));return t.copy=function(){return Tm(t,Cue())},af.apply(t,arguments)}function Pue(){var t=D6(vO()).domain([1,10]);return t.copy=function(){return Tm(t,Pue()).base(t.base())},af.apply(t,arguments)}function kue(){var t=F6(vO());return t.copy=function(){return Tm(t,kue()).constant(t.constant())},af.apply(t,arguments)}function X6(){var t=U6(vO());return t.copy=function(){return Tm(t,X6()).exponent(t.exponent())},af.apply(t,arguments)}function Krt(){return X6.apply(null,arguments).exponent(.5)}function Oue(){var t=[],e=yo;function n(r){if(r!=null&&!isNaN(r=+r))return e((Uj(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort($p),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Ltt(t,s/r))},n.copy=function(){return Oue(e).domain(t)},af.apply(n,arguments)}function xO(){var t=0,e=.5,n=1,r=1,i,s,o,l,c,u=yo,d,h=!1,f;function p(y){return isNaN(y=+y)?f:(y=.5+((y=+d(y))-s)*(r*y<r*s?l:c),u(h?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),s=d(e=+e),o=d(n=+n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(h=!!y,p):h},p.interpolator=function(y){return arguments.length?(u=y,p):u};function m(y){return function(b){var v,_,S;return arguments.length?([v,_,S]=b,u=lnt(y,[v,_,S]),p):[u(0),u(.5),u(1)]}}return p.range=m(Sw),p.rangeRound=m(O6),p.unknown=function(y){return arguments.length?(f=y,p):f},function(y){return d=y,i=y(t),s=y(e),o=y(n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,p}}function Rue(){var t=Nm(xO()(yo));return t.copy=function(){return Tm(t,Rue())},af.apply(t,arguments)}function Iue(){var t=D6(xO()).domain([.1,1,10]);return t.copy=function(){return Tm(t,Iue()).base(t.base())},af.apply(t,arguments)}function Lue(){var t=F6(xO());return t.copy=function(){return Tm(t,Lue()).constant(t.constant())},af.apply(t,arguments)}function K6(){var t=U6(xO());return t.copy=function(){return Tm(t,K6()).exponent(t.exponent())},af.apply(t,arguments)}function Zrt(){return K6.apply(null,arguments).exponent(.5)}const JY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xE,scaleDiverging:Rue,scaleDivergingLog:Iue,scaleDivergingPow:K6,scaleDivergingSqrt:Zrt,scaleDivergingSymlog:Lue,scaleIdentity:pue,scaleImplicit:RF,scaleLinear:O2,scaleLog:gue,scaleOrdinal:C6,scalePoint:rS,scalePow:B6,scaleQuantile:xue,scaleQuantize:bue,scaleRadial:vue,scaleSequential:Cue,scaleSequentialLog:Pue,scaleSequentialPow:X6,scaleSequentialQuantile:Oue,scaleSequentialSqrt:Krt,scaleSequentialSymlog:kue,scaleSqrt:Pnt,scaleSymlog:yue,scaleThreshold:wue,scaleTime:Yrt,scaleUtc:Xrt,tickFormat:fue},Symbol.toStringTag,{value:"Module"}));var Qrt=fw;function Jrt(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(l===void 0?o===o&&!Qrt(o):n(o,l)))var l=o,c=s}return c}var Due=Jrt;function eit(t,e){return t>e}var tit=eit,nit=Due,rit=tit,iit=_w;function sit(t){return t&&t.length?nit(t,iit,rit):void 0}var ait=sit;const Tp=jr(ait);function oit(t,e){return t<e}var lit=oit,cit=Due,uit=lit,dit=_w;function hit(t){return t&&t.length?cit(t,dit,uit):void 0}var fit=hit;const bO=jr(fit);var pit=u6,mit=Am,git=Wce,yit=rl;function vit(t,e){var n=yit(t)?pit:git;return n(t,mit(e))}var xit=vit,bit=Hce,wit=xit;function _it(t,e){return bit(wit(t,e),1)}var Sit=_it;const Eit=jr(Sit);var jit=j6;function Ait(t,e){return jit(t,e)}var Nit=Ait;const Mb=jr(Nit);var Ew=1e9,Tit={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q6,Ii=!0,Oc="[DecimalError] ",Py=Oc+"Invalid argument: ",Z6=Oc+"Exponent out of range: ",jw=Math.floor,Fg=Math.pow,Mit=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ol,da=1e7,Ni=7,Fue=9007199254740991,D2=jw(Fue/Ni),Zt={};Zt.absoluteValue=Zt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Zt.comparedTo=Zt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Zt.decimalPlaces=Zt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ni;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Zt.dividedBy=Zt.div=function(t){return Rh(this,new this.constructor(t))};Zt.dividedToIntegerBy=Zt.idiv=function(t){var e=this,n=e.constructor;return di(Rh(e,new n(t),0,1),n.precision)};Zt.equals=Zt.eq=function(t){return!this.cmp(t)};Zt.exponent=function(){return Os(this)};Zt.greaterThan=Zt.gt=function(t){return this.cmp(t)>0};Zt.greaterThanOrEqualTo=Zt.gte=function(t){return this.cmp(t)>=0};Zt.isInteger=Zt.isint=function(){return this.e>this.d.length-2};Zt.isNegative=Zt.isneg=function(){return this.s<0};Zt.isPositive=Zt.ispos=function(){return this.s>0};Zt.isZero=function(){return this.s===0};Zt.lessThan=Zt.lt=function(t){return this.cmp(t)<0};Zt.lessThanOrEqualTo=Zt.lte=function(t){return this.cmp(t)<1};Zt.logarithm=Zt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ol))throw Error(Oc+"NaN");if(n.s<1)throw Error(Oc+(n.s?"NaN":"-Infinity"));return n.eq(Ol)?new r(0):(Ii=!1,e=Rh(EE(n,s),EE(t,s),s),Ii=!0,di(e,i))};Zt.minus=Zt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zue(e,t):Uue(e,(t.s=-t.s,t))};Zt.modulo=Zt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Oc+"NaN");return n.s?(Ii=!1,e=Rh(n,t,0,1).times(t),Ii=!0,n.minus(e)):di(new r(n),i)};Zt.naturalExponential=Zt.exp=function(){return Bue(this)};Zt.naturalLogarithm=Zt.ln=function(){return EE(this)};Zt.negated=Zt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Zt.plus=Zt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Uue(e,t):zue(e,(t.s=-t.s,t))};Zt.precision=Zt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Py+t);if(e=Os(i)+1,r=i.d.length-1,n=r*Ni+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Zt.squareRoot=Zt.sqrt=function(){var t,e,n,r,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Oc+"NaN")}for(t=Os(l),Ii=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=gd(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=jw((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(Rh(l,s,o+2)).times(.5),gd(s.d).slice(0,o)===(e=gd(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(di(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;o+=4}return Ii=!0,di(r,n)};Zt.times=Zt.mul=function(t){var e,n,r,i,s,o,l,c,u,d=this,h=d.constructor,f=d.d,p=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,c=f.length,u=p.length,c<u&&(s=f,f=p,p=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+p[r]*f[i-r-1]+e,s[i--]=l%da|0,e=l/da|0;s[i]=(s[i]+e)%da|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ii?di(t,h.precision):t};Zt.toDecimalPlaces=Zt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Od(t,0,Ew),e===void 0?e=r.rounding:Od(e,0,8),di(n,t+Os(n)+1,e))};Zt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Jy(r,!0):(Od(t,0,Ew),e===void 0?e=i.rounding:Od(e,0,8),r=di(new i(r),t+1,e),n=Jy(r,!0,t+1)),n};Zt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Jy(i):(Od(t,0,Ew),e===void 0?e=s.rounding:Od(e,0,8),r=di(new s(i),t+Os(i)+1,e),n=Jy(r.abs(),!1,t+Os(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Zt.toInteger=Zt.toint=function(){var t=this,e=t.constructor;return di(new e(t),Os(t)+1,e.rounding)};Zt.toNumber=function(){return+this};Zt.toPower=Zt.pow=function(t){var e,n,r,i,s,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Ol);if(l=new c(l),!l.s){if(t.s<1)throw Error(Oc+"Infinity");return l}if(l.eq(Ol))return l;if(r=c.precision,t.eq(Ol))return di(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=l.s,o){if((n=d<0?-d:d)<=Fue){for(i=new c(Ol),e=Math.ceil(r/Ni+4),Ii=!1;n%2&&(i=i.times(l),tX(i.d,e)),n=jw(n/2),n!==0;)l=l.times(l),tX(l.d,e);return Ii=!0,t.s<0?new c(Ol).div(i):di(i,r)}}else if(s<0)throw Error(Oc+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Ii=!1,i=t.times(EE(l,r+u)),Ii=!0,i=Bue(i),i.s=s,i};Zt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Os(i),r=Jy(i,n<=s.toExpNeg||n>=s.toExpPos)):(Od(t,1,Ew),e===void 0?e=s.rounding:Od(e,0,8),i=di(new s(i),t,e),n=Os(i),r=Jy(i,t<=n||n<=s.toExpNeg,t)),r};Zt.toSignificantDigits=Zt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Od(t,1,Ew),e===void 0?e=r.rounding:Od(e,0,8)),di(new r(n),t,e)};Zt.toString=Zt.valueOf=Zt.val=Zt.toJSON=Zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Os(t),n=t.constructor;return Jy(t,e<=n.toExpNeg||e>=n.toExpPos)};function Uue(t,e){var n,r,i,s,o,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ii?di(e,h):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(h/Ni),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/da|0,c[s]%=da;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ii?di(e,h):e}function Od(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Py+t)}function gd(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=Ni-r.length,n&&(s+=op(n)),s+=r;o=t[e],r=o+"",n=Ni-r.length,n&&(s+=op(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Rh=function(){function t(r,i){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%da|0,o=s/da|0;return o&&r.unshift(o),r}function e(r,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*da+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var l,c,u,d,h,f,p,m,y,b,v,_,S,j,N,A,M,k,L=r.constructor,O=r.s==i.s?1:-1,I=r.d,U=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Oc+"Division by zero");for(c=r.e-i.e,M=U.length,N=I.length,p=new L(O),m=p.d=[],u=0;U[u]==(I[u]||0);)++u;if(U[u]>(I[u]||0)&&--c,s==null?_=s=L.precision:o?_=s+(Os(r)-Os(i))+1:_=s,_<0)return new L(0);if(_=_/Ni+2|0,u=0,M==1)for(d=0,U=U[0],_++;(u<N||d)&&_--;u++)S=d*da+(I[u]||0),m[u]=S/U|0,d=S%U|0;else{for(d=da/(U[0]+1)|0,d>1&&(U=t(U,d),I=t(I,d),M=U.length,N=I.length),j=M,y=I.slice(0,M),b=y.length;b<M;)y[b++]=0;k=U.slice(),k.unshift(0),A=U[0],U[1]>=da/2&&++A;do d=0,l=e(U,y,M,b),l<0?(v=y[0],M!=b&&(v=v*da+(y[1]||0)),d=v/A|0,d>1?(d>=da&&(d=da-1),h=t(U,d),f=h.length,b=y.length,l=e(h,y,f,b),l==1&&(d--,n(h,M<f?k:U,f))):(d==0&&(l=d=1),h=U.slice()),f=h.length,f<b&&h.unshift(0),n(y,h,b),l==-1&&(b=y.length,l=e(U,y,M,b),l<1&&(d++,n(y,M<b?k:U,b))),b=y.length):l===0&&(d++,y=[0]),m[u++]=d,l&&y[0]?y[b++]=I[j]||0:(y=[I[j]],b=1);while((j++<N||y[0]!==void 0)&&_--)}return m[0]||m.shift(),p.e=c,di(p,o?s+Os(p)+1:s)}}();function Bue(t,e){var n,r,i,s,o,l,c=0,u=0,d=t.constructor,h=d.precision;if(Os(t)>16)throw Error(Z6+Os(t));if(!t.s)return new d(Ol);for(Ii=!1,l=h,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Fg(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(Ol),d.precision=l;;){if(i=di(i.times(t),l),n=n.times(++c),o=s.plus(Rh(i,n,l)),gd(o.d).slice(0,l)===gd(s.d).slice(0,l)){for(;u--;)s=di(s.times(s),l);return d.precision=h,e==null?(Ii=!0,di(s,h)):s}s=o}}function Os(t){for(var e=t.e*Ni,n=t.d[0];n>=10;n/=10)e++;return e}function a3(t,e,n){if(e>t.LN10.sd())throw Ii=!0,n&&(t.precision=n),Error(Oc+"LN10 precision limit exceeded");return di(new t(t.LN10),e)}function op(t){for(var e="";t--;)e+="0";return e}function EE(t,e){var n,r,i,s,o,l,c,u,d,h=1,f=10,p=t,m=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(Oc+(p.s?"NaN":"-Infinity"));if(p.eq(Ol))return new y(0);if(e==null?(Ii=!1,u=b):u=e,p.eq(10))return e==null&&(Ii=!0),a3(y,u);if(u+=f,y.precision=u,n=gd(m),r=n.charAt(0),s=Os(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=gd(p.d),r=n.charAt(0),h++;s=Os(p),r>1?(p=new y("0."+n),s++):p=new y(r+"."+n.slice(1))}else return c=a3(y,u+2,b).times(s+""),p=EE(new y(r+"."+n.slice(1)),u-f).plus(c),y.precision=b,e==null?(Ii=!0,di(p,b)):p;for(l=o=p=Rh(p.minus(Ol),p.plus(Ol),u),d=di(p.times(p),u),i=3;;){if(o=di(o.times(d),u),c=l.plus(Rh(o,new y(i),u)),gd(c.d).slice(0,u)===gd(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(a3(y,u+2,b).times(s+""))),l=Rh(l,new y(h),u),y.precision=b,e==null?(Ii=!0,di(l,b)):l;l=c,i+=2}}function eX(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=jw(n/Ni),t.d=[],r=(n+1)%Ni,n<0&&(r+=Ni),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ni;r<i;)t.d.push(+e.slice(r,r+=Ni));e=e.slice(r),r=Ni-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ii&&(t.e>D2||t.e<-D2))throw Error(Z6+n)}else t.s=0,t.e=0,t.d=[0];return t}function di(t,e,n){var r,i,s,o,l,c,u,d,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=Ni,i=e,u=h[d=0];else{if(d=Math.ceil((r+1)/Ni),s=h.length,d>=s)return t;for(u=s=h[d],o=1;s>=10;s/=10)o++;r%=Ni,i=r-Ni+o}if(n!==void 0&&(s=Fg(10,o-i-1),l=u/s%10|0,c=e<0||h[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/Fg(10,o-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(s=Os(t),h.length=1,e=e-s-1,h[0]=Fg(10,(Ni-e%Ni)%Ni),t.e=jw(-e/Ni)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=Fg(10,Ni-r),h[d]=i>0?(u/Fg(10,o-i)%Fg(10,i)|0)*s:0),c)for(;;)if(d==0){(h[0]+=s)==da&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=da)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Ii&&(t.e>D2||t.e<-D2))throw Error(Z6+Os(t));return t}function zue(t,e){var n,r,i,s,o,l,c,u,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Ii?di(e,p):e;if(c=t.d,h=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),i=Math.max(Math.ceil(p/Ni),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(n=c,c=h,h=n,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(s=i;s&&c[--s]===0;)c[s]=da-1;--c[s],c[i]+=da}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ii?di(e,p):e):new f(0)}function Jy(t,e,n){var r,i=Os(t),s=gd(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+op(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+op(-i-1)+s,n&&(r=n-o)>0&&(s+=op(r))):i>=o?(s+=op(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+op(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=op(r))),t.s<0?"-"+s:s}function tX(t,e){if(t.length>e)return t.length=e,!0}function $ue(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Py+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return eX(o,s.toString())}else if(typeof s!="string")throw Error(Py+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Mit.test(s))eX(o,s);else throw Error(Py+s)}if(i.prototype=Zt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$ue,i.config=i.set=Cit,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Cit(t){if(!t||typeof t!="object")throw Error(Oc+"Object expected");var e,n,r,i=["precision",1,Ew,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(jw(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Py+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Py+n+": "+r);return this}var Q6=$ue(Tit);Ol=new Q6(1);const ri=Q6;function Pit(t){return Iit(t)||Rit(t)||Oit(t)||kit()}function kit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oit(t,e){if(t){if(typeof t=="string")return FF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FF(t,e)}}function Rit(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Iit(t){if(Array.isArray(t))return FF(t)}function FF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lit=function(e){return e},Hue={},Vue=function(e){return e===Hue},nX=function(e){return function n(){return arguments.length===0||arguments.length===1&&Vue(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Dit=function t(e,n){return e===1?n:nX(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==Hue}).length;return o>=e?n.apply(void 0,i):t(e-o,nX(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(h){return Vue(h)?c.shift():h});return n.apply(void 0,Pit(d).concat(c))}))})},wO=function(e){return Dit(e.length,e)},UF=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Fit=wO(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Uit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Lit;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},BF=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Wue=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function Bit(t){var e;return t===0?e=1:e=Math.floor(new ri(t).abs().log(10).toNumber())+1,e}function zit(t,e,n){for(var r=new ri(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var $it=wO(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Hit=wO(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Vit=wO(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const _O={rangeStep:zit,getDigitCount:Bit,interpolateNumber:$it,uninterpolateNumber:Hit,uninterpolateTruncation:Vit};function zF(t){return qit(t)||Git(t)||Gue(t)||Wit()}function Wit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Git(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qit(t){if(Array.isArray(t))return $F(t)}function jE(t,e){return Kit(t)||Xit(t,e)||Gue(t,e)||Yit()}function Yit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gue(t,e){if(t){if(typeof t=="string")return $F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $F(t,e)}}function $F(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xit(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function Kit(t){if(Array.isArray(t))return t}function que(t){var e=jE(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function Yue(t,e,n){if(t.lte(0))return new ri(0);var r=_O.getDigitCount(t.toNumber()),i=new ri(10).pow(r),s=t.div(i),o=r!==1?.05:.1,l=new ri(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new ri(Math.ceil(c))}function Zit(t,e,n){var r=1,i=new ri(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new ri(10).pow(_O.getDigitCount(t)-1),i=new ri(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new ri(Math.floor(t)))}else t===0?i=new ri(Math.floor((e-1)/2)):n||(i=new ri(Math.floor(t)));var o=Math.floor((e-1)/2),l=Uit(Fit(function(c){return i.add(new ri(c-o).mul(r)).toNumber()}),UF);return l(0,e)}function Xue(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ri(0),tickMin:new ri(0),tickMax:new ri(0)};var s=Yue(new ri(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new ri(0):(o=new ri(t).add(e).div(2),o=o.sub(new ri(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new ri(e).sub(o).div(s).toNumber()),u=l+c+1;return u>n?Xue(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:s,tickMin:o.sub(new ri(l).mul(s)),tickMax:o.add(new ri(c).mul(s))})}function Qit(t){var e=jE(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=que([n,r]),c=jE(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(zF(UF(0,i-1).map(function(){return 1/0}))):[].concat(zF(UF(0,i-1).map(function(){return-1/0})),[d]);return n>r?BF(h):h}if(u===d)return Zit(u,i,s);var f=Xue(u,d,o,s),p=f.step,m=f.tickMin,y=f.tickMax,b=_O.rangeStep(m,y.add(new ri(.1).mul(p)),p);return n>r?BF(b):b}function Jit(t,e){var n=jE(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=que([r,i]),l=jE(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),h=Yue(new ri(u).sub(c).div(d-1),s,0),f=[].concat(zF(_O.rangeStep(new ri(c),new ri(u).sub(new ri(.99).mul(h)),h)),[u]);return r>i?BF(f):f}var est=Wue(Qit),tst=Wue(Jit),nst="Invariant failed";function ev(t,e){throw new Error(nst)}var rst=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F2.apply(this,arguments)}function ist(t,e){return lst(t)||ost(t,e)||ast(t,e)||sst()}function sst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ast(t,e){if(t){if(typeof t=="string")return rX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rX(t,e)}}function rX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ost(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function lst(t){if(Array.isArray(t))return t}function cst(t,e){if(t==null)return{};var n=ust(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ust(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hst(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Que(r.key),r)}}function fst(t,e,n){return e&&hst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pst(t,e,n){return e=U2(e),mst(t,Kue()?Reflect.construct(e,n||[],U2(t).constructor):e.apply(t,n))}function mst(t,e){if(e&&(Cb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gst(t)}function gst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kue=function(){return!!t})()}function U2(t){return U2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U2(t)}function yst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HF(t,e)}function HF(t,e){return HF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HF(t,e)}function Zue(t,e,n){return e=Que(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=vst(t,"string");return Cb(e)=="symbol"?e:e+""}function vst(t,e){if(Cb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hj=function(t){function e(){return dst(this,e),pst(this,e,arguments)}return yst(e,t),fst(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,f=cst(r,rst),p=lr(f,!1);this.props.direction==="x"&&d.type!=="number"&&ev();var m=c.map(function(y){var b=u(y,l),v=b.x,_=b.y,S=b.value,j=b.errorVal;if(!j)return null;var N=[],A,M;if(Array.isArray(j)){var k=ist(j,2);A=k[0],M=k[1]}else A=M=j;if(s==="vertical"){var L=d.scale,O=_+i,I=O+o,U=O-o,W=L(S-A),q=L(S+M);N.push({x1:q,y1:I,x2:q,y2:U}),N.push({x1:W,y1:O,x2:q,y2:O}),N.push({x1:W,y1:I,x2:W,y2:U})}else if(s==="horizontal"){var J=h.scale,K=v+i,ne=K-o,$=K+o,Z=J(S-A),B=J(S+M);N.push({x1:ne,y1:B,x2:$,y2:B}),N.push({x1:K,y1:Z,x2:K,y2:B}),N.push({x1:ne,y1:Z,x2:$,y2:Z})}return ae.createElement(_i,F2({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ce){return"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))},p),N.map(function(ce){return ae.createElement("line",F2({},ce,{key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))}))});return ae.createElement(_i,{className:"recharts-errorBars"},m)}}])}(ae.Component);Zue(Hj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Zue(Hj,"displayName","ErrorBar");function AE(t){"@babel/helpers - typeof";return AE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AE(t)}function iX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iX(Object(n),!0).forEach(function(r){xst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xst(t,e,n){return e=bst(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bst(t){var e=wst(t,"string");return AE(e)=="symbol"?e:e+""}function wst(t,e){if(AE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(AE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jue=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Al(n,My);if(!o)return null;var l=My.defaultProps,c=l!==void 0?Ng(Ng({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(d,h){var f=h.item,p=h.props,m=p.sectors||p.data||[];return d.concat(m.map(function(y){return{type:o.props.iconType||f.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(d){var h=d.item,f=h.type.defaultProps,p=f!==void 0?Ng(Ng({},f),h.props):{},m=p.dataKey,y=p.name,b=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:c.iconType||b||"square",color:J6(h),value:y||m,payload:p}}),Ng(Ng(Ng({},c),My.getWithHeight(o,i)),{},{payload:u,item:o})};function NE(t){"@babel/helpers - typeof";return NE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NE(t)}function sX(t){return jst(t)||Est(t)||Sst(t)||_st()}function _st(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sst(t,e){if(t){if(typeof t=="string")return VF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VF(t,e)}}function Est(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jst(t){if(Array.isArray(t))return VF(t)}function VF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aX(Object(n),!0).forEach(function(r){R0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R0(t,e,n){return e=Ast(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ast(t){var e=Nst(t,"string");return NE(e)=="symbol"?e:e+""}function Nst(t,e){if(NE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(NE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wo(t,e,n){return mr(t)||mr(e)?n:Ws(e)?Ac(t,e,n):tr(e)?e(t):n}function iS(t,e,n,r){var i=Eit(t,function(l){return wo(l,e)});if(n==="number"){var s=i.filter(function(l){return Ct(l)||parseFloat(l)});return s.length?[bO(s),Tp(s)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!mr(l)}):i;return o.map(function(l){return Ws(l)||l instanceof Date?l:""})}var Tst=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,f=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(bu(h-d)!==bu(f-h)){var m=[];if(bu(f-h)===bu(c[1]-c[0])){p=f;var y=h+c[1]-c[0];m[0]=Math.min(y,(y+d)/2),m[1]=Math.max(y,(y+d)/2)}else{p=d;var b=f+c[1]-c[0];m[0]=Math.min(h,(b+h)/2),m[1]=Math.max(h,(b+h)/2)}var v=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){o=i[u].index;break}}else{var _=Math.min(d,f),S=Math.max(d,f);if(e>(_+h)/2&&e<=(S+h)/2){o=i[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j===l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2){o=r[j].index;break}return o},J6=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?is(is({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Mst=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,h=Object.keys(d),f=0,p=h.length;f<p;f++){var m=d[h[f]],y=m.items,b=m.cateAxisId,v=y.filter(function(M){return kh(M.type).indexOf("Bar")>=0});if(v&&v.length){var _=v[0].type.defaultProps,S=_!==void 0?is(is({},_),v[0].props):v[0].props,j=S.barSize,N=S[b];o[N]||(o[N]=[]);var A=mr(j)?n:j;o[N].push({item:v[0],stackList:v.slice(1),barSize:mr(A)?void 0:Qy(A,r,0)})}}return o},Cst=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Qy(n,i,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=i/c,m=o.reduce(function(j,N){return j+N.barSize||0},0);m+=(c-1)*u,m>=i&&(m-=(c-1)*u,u=0),m>=i&&p>0&&(f=!0,p*=.9,m=c*p);var y=(i-m)/2>>0,b={offset:y-u,size:0};d=o.reduce(function(j,N){var A={item:N.item,position:{offset:b.offset+b.size+u,size:f?p:N.barSize}},M=[].concat(sX(j),[A]);return b=M[M.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){M.push({item:k,position:b})}),M},h)}else{var v=Qy(r,i,0,!0);i-2*v-(c-1)*u<=0&&(u=0);var _=(i-2*v-(c-1)*u)/c;_>1&&(_>>=0);var S=l===+l?Math.min(_,l):_;d=o.reduce(function(j,N,A){var M=[].concat(sX(j),[{item:N.item,position:{offset:v+(_+u)*A+(_-S)/2,size:S}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){M.push({item:k,position:M[M.length-1].position})}),M},h)}return d},Pst=function(e,n,r,i){var s=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=Jue({children:s,legendWidth:c});if(u){var d=i||{},h=d.width,f=d.height,p=u.align,m=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&Ct(e[p]))return is(is({},e),{},R0({},p,e[p]+(h||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&Ct(e[m]))return is(is({},e),{},R0({},m,e[m]+(f||0)))}return e},kst=function(e,n,r){return mr(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},ede=function(e,n,r,i,s){var o=n.props.children,l=Nc(o,Hj).filter(function(u){return kst(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=wo(d,r);if(mr(h))return u;var f=Array.isArray(h)?[bO(h),Tp(h)]:[h,h],p=c.reduce(function(m,y){var b=wo(d,y,0),v=f[0]-Math.abs(Array.isArray(b)?b[0]:b),_=f[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,m[0]),Math.max(_,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Ost=function(e,n,r,i,s){var o=n.map(function(l){return ede(e,l,r,s,i)}).filter(function(l){return!mr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},tde=function(e,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&ede(e,c,u,i)||iS(e,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},nde=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},rde=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||l.push(n),o||l.push(r),l},Mh=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?bu(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=s?s.indexOf(h):h;return{coordinate:i(f)+u,value:h,offset:u}});return d.filter(function(h){return!vw(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+u,value:h,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,f){return{coordinate:i(h)+u,value:s?s[h]:h,index:f,offset:u}})},o3=new WeakMap,VT=function(e,n){if(typeof n!="function")return e;o3.has(e)||o3.set(e,new WeakMap);var r=o3.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Rst=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:xE(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:O2(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:rS(),realScaleType:"point"}:s==="category"?{scale:xE(),realScaleType:"band"}:{scale:O2(),realScaleType:"linear"};if(Zy(i)){var c="scale".concat(oO(i));return{scale:(JY[c]||rS)(),realScaleType:JY[c]?c:"point"}}return tr(i)?{scale:i}:{scale:rS(),realScaleType:"point"}},oX=1e-4,Ist=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-oX,o=Math.max(i[0],i[1])+oX,l=e(n[0]),c=e(n[r-1]);(l<s||l>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},Lst=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Dst=function(e,n){if(!n||n.length!==2||!Ct(n[0])||!Ct(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Ct(e[0])||e[0]<r)&&(s[0]=r),(!Ct(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},Fst=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,l=0;l<n;++l){var c=vw(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},Ust=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var l=vw(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Bst={sign:Fst,expand:Q9e,none:wb,silhouette:J9e,wiggle:e7e,positive:Ust},zst=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=Bst[r],o=Z9e().keys(i).value(function(l,c){return+wo(l,c,0)}).order(mF).offset(s);return o(e)},$st=function(e,n,r,i,s,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(h,f){var p,m=(p=f.type)!==null&&p!==void 0&&p.defaultProps?is(is({},f.type.defaultProps),f.props):f.props,y=m.stackId,b=m.hide;if(b)return h;var v=m[r],_=h[v]||{hasStack:!1,stackGroups:{}};if(Ws(y)){var S=_.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(f),_.hasStack=!0,_.stackGroups[y]=S}else _.stackGroups[xw("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return is(is({},h),{},R0({},v,_))},c),d={};return Object.keys(u).reduce(function(h,f){var p=u[f];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,b){var v=p.stackGroups[b];return is(is({},y),{},R0({},b,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:zst(e,v.items,s)}))},m)}return is(is({},h),{},R0({},f,p))},d)},Hst=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=est(u,s,l);return e.domain([bO(d),Tp(d)]),{niceTicks:d}}if(s&&i==="number"){var h=e.domain(),f=tst(h,s,l);return{niceTicks:f}}return null};function B2(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!mr(i[e.dataKey])){var l=u2(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=wo(i,mr(o)?e.dataKey:o);return mr(c)?null:e.scale(c)}var lX=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=wo(o,n.dataKey,n.domain[l]);return mr(c)?null:n.scale(c)-s/2+i},Vst=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},Wst=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?is(is({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Ws(s)){var o=n[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Gst=function(e){return e.reduce(function(n,r){return[bO(r.concat([n[0]]).filter(Ct)),Tp(r.concat([n[1]]).filter(Ct))]},[1/0,-1/0])},ide=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,d){var h=Gst(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},cX=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uX=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WF=function(e,n,r){if(tr(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ct(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(cX.test(e[0])){var s=+cX.exec(e[0])[1];i[0]=n[0]-s}else tr(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ct(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(uX.test(e[1])){var o=+uX.exec(e[1])[1];i[1]=n[1]+o}else tr(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},z2=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=N6(n,function(h){return h.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},dX=function(e,n,r){return!e||!e.length||Mb(e,Ac(r,"type.defaultProps.domain"))?n:e},sde=function(e,n){var r=e.type.defaultProps?is(is({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return is(is({},lr(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:J6(e),value:wo(n,i),type:c,payload:n,chartType:u,hide:d})};function TE(t){"@babel/helpers - typeof";return TE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TE(t)}function hX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hX(Object(n),!0).forEach(function(r){qst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qst(t,e,n){return e=Yst(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yst(t){var e=Xst(t,"string");return TE(e)=="symbol"?e:e+""}function Xst(t,e){if(TE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(TE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $2=Math.PI/180,Kst=function(e){return e*180/Math.PI},ja=function(e,n,r,i){return{x:e+Math.cos(-$2*i)*r,y:n+Math.sin(-$2*i)*r}},Zst=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},Qst=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,l=Zst({x:r,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:Kst(u),angleInRadian:u}},Jst=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},eat=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},pX=function(e,n){var r=e.x,i=e.y,s=Qst({x:r,y:i},n),o=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Jst(n),h=d.startAngle,f=d.endAngle,p=l,m;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}return m?fX(fX({},n),{},{radius:o,angle:eat(p,n)}):null};function ME(t){"@babel/helpers - typeof";return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ME(t)}var tat=["offset"];function nat(t){return aat(t)||sat(t)||iat(t)||rat()}function rat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iat(t,e){if(t){if(typeof t=="string")return GF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GF(t,e)}}function sat(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aat(t){if(Array.isArray(t))return GF(t)}function GF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oat(t,e){if(t==null)return{};var n=lat(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lat(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mX(Object(n),!0).forEach(function(r){cat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cat(t,e,n){return e=uat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uat(t){var e=dat(t,"string");return ME(e)=="symbol"?e:e+""}function dat(t,e){if(ME(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ME(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(this,arguments)}var hat=function(e){var n=e.value,r=e.formatter,i=mr(e.children)?n:e.children;return tr(r)?r(i):i},fat=function(e,n){var r=bu(n-e),i=Math.min(Math.abs(n-e),360);return r*i},pat=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,p=c.startAngle,m=c.endAngle,y=c.clockWise,b=(h+f)/2,v=fat(p,m),_=v>=0?1:-1,S,j;i==="insideStart"?(S=p+_*o,j=y):i==="insideEnd"?(S=m-_*o,j=!y):i==="end"&&(S=m+_*o,j=y),j=v<=0?j:!j;var N=ja(u,d,b,S),A=ja(u,d,b,S+(j?1:-1)*359),M="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(j?0:1,`,
    `).concat(A.x,",").concat(A.y),k=mr(e.id)?xw("recharts-radial-line-"):e.id;return ae.createElement("text",CE({},r,{dominantBaseline:"central",className:vr("recharts-radial-bar-label",l)}),ae.createElement("defs",null,ae.createElement("path",{id:k,d:M})),ae.createElement("textPath",{xlinkHref:"#".concat(k)},n))},mat=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,h=s.endAngle,f=(d+h)/2;if(i==="outside"){var p=ja(o,l,u+r,f),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,v=ja(o,l,b,f),_=v.x,S=v.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},gat=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*i,p=h>0?"end":"start",m=h>0?"start":"end",y=u>=0?1:-1,b=y*i,v=y>0?"end":"start",_=y>0?"start":"end";if(s==="top"){var S={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:p};return Bs(Bs({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:m};return Bs(Bs({},j),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var N={x:l-b,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Bs(Bs({},N),r?{width:Math.max(N.x-r.x,0),height:d}:{})}if(s==="right"){var A={x:l+u+b,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return Bs(Bs({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:d}:{})}var M=r?{width:u,height:d}:{};return s==="insideLeft"?Bs({x:l+b,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},M):s==="insideRight"?Bs({x:l+u-b,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},M):s==="insideTop"?Bs({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:m},M):s==="insideBottom"?Bs({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:p},M):s==="insideTopLeft"?Bs({x:l+b,y:c+f,textAnchor:_,verticalAnchor:m},M):s==="insideTopRight"?Bs({x:l+u-b,y:c+f,textAnchor:v,verticalAnchor:m},M):s==="insideBottomLeft"?Bs({x:l+b,y:c+d-f,textAnchor:_,verticalAnchor:p},M):s==="insideBottomRight"?Bs({x:l+u-b,y:c+d-f,textAnchor:v,verticalAnchor:p},M):pw(s)&&(Ct(s.x)||ay(s.x))&&(Ct(s.y)||ay(s.y))?Bs({x:l+Qy(s.x,u),y:c+Qy(s.y,d),textAnchor:"end",verticalAnchor:"end"},M):Bs({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},yat=function(e){return"cx"in e&&Ct(e.cx)};function Ba(t){var e=t.offset,n=e===void 0?5:e,r=oat(t,tat),i=Bs({offset:n},r),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,h=d===void 0?"":d,f=i.textBreakAll;if(!s||mr(l)&&mr(c)&&!C.isValidElement(u)&&!tr(u))return null;if(C.isValidElement(u))return C.cloneElement(u,i);var p;if(tr(u)){if(p=C.createElement(u,i),C.isValidElement(p))return p}else p=hat(i);var m=yat(s),y=lr(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return pat(i,p,y);var b=m?mat(i):gat(i);return ae.createElement(A2,CE({className:vr("recharts-label",h)},y,b,{breakAll:f}),p)}Ba.displayName="Label";var ade=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,p=e.top,m=e.left,y=e.width,b=e.height,v=e.clockWise,_=e.labelViewBox;if(_)return _;if(Ct(y)&&Ct(b)){if(Ct(h)&&Ct(f))return{x:h,y:f,width:y,height:b};if(Ct(p)&&Ct(m))return{x:p,y:m,width:y,height:b}}return Ct(h)&&Ct(f)?{x:h,y:f,width:0,height:0}:Ct(n)&&Ct(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:e.viewBox?e.viewBox:{}},vat=function(e,n){return e?e===!0?ae.createElement(Ba,{key:"label-implicit",viewBox:n}):Ws(e)?ae.createElement(Ba,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===Ba?C.cloneElement(e,{key:"label-implicit",viewBox:n}):ae.createElement(Ba,{key:"label-implicit",content:e,viewBox:n}):tr(e)?ae.createElement(Ba,{key:"label-implicit",content:e,viewBox:n}):pw(e)?ae.createElement(Ba,CE({viewBox:n},e,{key:"label-implicit"})):null:null},xat=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=ade(e),o=Nc(i,Ba).map(function(c,u){return C.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var l=vat(e.label,n||s);return[l].concat(nat(o))};Ba.parseViewBox=ade;Ba.renderCallByParent=xat;function bat(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var wat=bat;const _at=jr(wat);function PE(t){"@babel/helpers - typeof";return PE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PE(t)}var Sat=["valueAccessor"],Eat=["data","dataKey","clockWise","id","textBreakAll"];function jat(t){return Mat(t)||Tat(t)||Nat(t)||Aat()}function Aat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nat(t,e){if(t){if(typeof t=="string")return qF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qF(t,e)}}function Tat(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mat(t){if(Array.isArray(t))return qF(t)}function qF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H2.apply(this,arguments)}function gX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gX(Object(n),!0).forEach(function(r){Cat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cat(t,e,n){return e=Pat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pat(t){var e=kat(t,"string");return PE(e)=="symbol"?e:e+""}function kat(t,e){if(PE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(PE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vX(t,e){if(t==null)return{};var n=Oat(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oat(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rat=function(e){return Array.isArray(e.value)?_at(e.value):e.value};function Ih(t){var e=t.valueAccessor,n=e===void 0?Rat:e,r=vX(t,Sat),i=r.data,s=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=vX(r,Eat);return!i||!i.length?null:ae.createElement(_i,{className:"recharts-label-list"},i.map(function(d,h){var f=mr(s)?n(d,h):wo(d&&d.payload,s),p=mr(l)?{}:{id:"".concat(l,"-").concat(h)};return ae.createElement(Ba,H2({},lr(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Ba.parseViewBox(mr(o)?d:yX(yX({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ih.displayName="LabelList";function Iat(t,e){return t?t===!0?ae.createElement(Ih,{key:"labelList-implicit",data:e}):ae.isValidElement(t)||tr(t)?ae.createElement(Ih,{key:"labelList-implicit",data:e,content:t}):pw(t)?ae.createElement(Ih,H2({data:e},t,{key:"labelList-implicit"})):null:null}function Lat(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Nc(r,Ih).map(function(o,l){return C.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=Iat(t.label,e);return[s].concat(jat(i))}Ih.renderCallByParent=Lat;function kE(t){"@babel/helpers - typeof";return kE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kE(t)}function YF(){return YF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YF.apply(this,arguments)}function xX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xX(Object(n),!0).forEach(function(r){Dat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dat(t,e,n){return e=Fat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fat(t){var e=Uat(t,"string");return kE(e)=="symbol"?e:e+""}function Uat(t,e){if(kE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bat=function(e,n){var r=bu(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},WT=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,h=Math.asin(c/d)/$2,f=u?s:s+o*h,p=ja(n,r,d,f),m=ja(n,r,i,f),y=u?s-o*h:s,b=ja(n,r,d*Math.cos(h*$2),y);return{center:p,circleTangency:m,lineTangency:b,theta:h}},ode=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Bat(o,l),u=o+c,d=ja(n,r,s,o),h=ja(n,r,s,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=ja(n,r,i,o),m=ja(n,r,i,u);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},zat=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=bu(d-u),f=WT({cx:n,cy:r,radius:s,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=f.circleTangency,m=f.lineTangency,y=f.theta,b=WT({cx:n,cy:r,radius:s,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),v=b.circleTangency,_=b.lineTangency,S=b.theta,j=c?Math.abs(u-d):Math.abs(u-d)-y-S;if(j<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ode({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var N="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var A=WT({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=A.circleTangency,k=A.lineTangency,L=A.theta,O=WT({cx:n,cy:r,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=O.circleTangency,U=O.lineTangency,W=O.theta,q=c?Math.abs(u-d):Math.abs(u-d)-L-W;if(q<0&&o===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},$at={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lde=function(e){var n=bX(bX({},$at),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(o<s||d===h)return null;var p=vr("recharts-sector",f),m=o-s,y=Qy(l,m,0,!0),b;return y>0&&Math.abs(d-h)<360?b=zat({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(y,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):b=ode({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:h}),ae.createElement("path",YF({},lr(n,!0),{className:p,d:b,role:"img"}))};function OE(t){"@babel/helpers - typeof";return OE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OE(t)}function XF(){return XF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XF.apply(this,arguments)}function wX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wX(Object(n),!0).forEach(function(r){Hat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hat(t,e,n){return e=Vat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vat(t){var e=Wat(t,"string");return OE(e)=="symbol"?e:e+""}function Wat(t,e){if(OE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(OE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SX={curveBasisClosed:B9e,curveBasisOpen:z9e,curveBasis:U9e,curveBumpX:j9e,curveBumpY:A9e,curveLinearClosed:$9e,curveLinear:cO,curveMonotoneX:H9e,curveMonotoneY:V9e,curveNatural:W9e,curveStep:G9e,curveStepAfter:Y9e,curveStepBefore:q9e},GT=function(e){return e.x===+e.x&&e.y===+e.y},c1=function(e){return e.x},u1=function(e){return e.y},Gat=function(e,n){if(tr(e))return e;var r="curve".concat(oO(e));return(r==="curveMonotone"||r==="curveBump")&&n?SX["".concat(r).concat(n==="vertical"?"Y":"X")]:SX[r]||cO},qat=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Gat(r,l),h=u?s.filter(function(y){return GT(y)}):s,f;if(Array.isArray(o)){var p=u?o.filter(function(y){return GT(y)}):o,m=h.map(function(y,b){return _X(_X({},y),{},{base:p[b]})});return l==="vertical"?f=LT().y(u1).x1(c1).x0(function(y){return y.base.x}):f=LT().x(c1).y1(u1).y0(function(y){return y.base.y}),f.defined(GT).curve(d),f(m)}return l==="vertical"&&Ct(o)?f=LT().y(u1).x1(c1).x0(o):Ct(o)?f=LT().x(c1).y1(u1).y0(o):f=lce().x(c1).y(u1),f.defined(GT).curve(d),f(h)},I0=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?qat(e):i;return C.createElement("path",XF({},lr(e,!1),d2(e),{className:vr("recharts-curve",n),d:o,ref:s}))},Yat=Object.getOwnPropertyNames,Xat=Object.getOwnPropertySymbols,Kat=Object.prototype.hasOwnProperty;function EX(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function qT(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),l=s.get(r);if(o&&l)return o===r&&l===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function Zat(t){return t!=null?t[Symbol.toStringTag]:void 0}function jX(t){return Yat(t).concat(Xat(t))}var Qat=Object.hasOwn||function(t,e){return Kat.call(t,e)};function vv(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Jat="__v",eot="__o",tot="_owner",AX=Object.getOwnPropertyDescriptor,NX=Object.keys;function not(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function rot(t,e){return vv(t.getTime(),e.getTime())}function iot(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function sot(t,e){return t===e}function TX(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,h=0;(l=u.next())&&!l.done;){if(i[h]){h++;continue}var f=o.value,p=l.value;if(n.equals(f[0],p[0],c,h,t,e,n)&&n.equals(f[1],p[1],f[0],p[0],t,e,n)){d=i[h]=!0;break}h++}if(!d)return!1;c++}return!0}var aot=vv;function oot(t,e,n){var r=NX(t),i=r.length;if(NX(e).length!==i)return!1;for(;i-- >0;)if(!cde(t,e,n,r[i]))return!1;return!0}function d1(t,e,n){var r=jX(t),i=r.length;if(jX(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=r[i],!cde(t,e,n,s)||(o=AX(t,s),l=AX(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function lot(t,e){return vv(t.valueOf(),e.valueOf())}function cot(t,e){return t.source===e.source&&t.flags===e.flags}function MX(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function uot(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function dot(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function cde(t,e,n,r){return(r===tot||r===eot||r===Jat)&&(t.$$typeof||e.$$typeof)?!0:Qat(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var hot="[object Arguments]",fot="[object Boolean]",pot="[object Date]",mot="[object Error]",got="[object Map]",yot="[object Number]",vot="[object Object]",xot="[object RegExp]",bot="[object Set]",wot="[object String]",_ot="[object URL]",Sot=Array.isArray,CX=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,PX=Object.assign,Eot=Object.prototype.toString.call.bind(Object.prototype.toString);function jot(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,f=t.areUrlsEqual,p=t.unknownTagComparators;return function(y,b,v){if(y===b)return!0;if(y==null||b==null)return!1;var _=typeof y;if(_!==typeof b)return!1;if(_!=="object")return _==="number"?o(y,b,v):_==="function"?i(y,b,v):!1;var S=y.constructor;if(S!==b.constructor)return!1;if(S===Object)return l(y,b,v);if(Sot(y))return e(y,b,v);if(CX!=null&&CX(y))return h(y,b,v);if(S===Date)return n(y,b,v);if(S===RegExp)return u(y,b,v);if(S===Map)return s(y,b,v);if(S===Set)return d(y,b,v);var j=Eot(y);if(j===pot)return n(y,b,v);if(j===xot)return u(y,b,v);if(j===got)return s(y,b,v);if(j===bot)return d(y,b,v);if(j===vot)return typeof y.then!="function"&&typeof b.then!="function"&&l(y,b,v);if(j===_ot)return f(y,b,v);if(j===mot)return r(y,b,v);if(j===hot)return l(y,b,v);if(j===fot||j===yot||j===wot)return c(y,b,v);if(p){var N=p[j];if(!N){var A=Zat(y);A&&(N=p[A])}if(N)return N(y,b,v)}return!1}}function Aot(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?d1:not,areDatesEqual:rot,areErrorsEqual:iot,areFunctionsEqual:sot,areMapsEqual:r?EX(TX,d1):TX,areNumbersEqual:aot,areObjectsEqual:r?d1:oot,arePrimitiveWrappersEqual:lot,areRegExpsEqual:cot,areSetsEqual:r?EX(MX,d1):MX,areTypedArraysEqual:r?d1:uot,areUrlsEqual:dot,unknownTagComparators:void 0};if(n&&(i=PX({},i,n(i))),e){var s=qT(i.areArraysEqual),o=qT(i.areMapsEqual),l=qT(i.areObjectsEqual),c=qT(i.areSetsEqual);i=PX({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function Not(t){return function(e,n,r,i,s,o,l){return t(e,n,l)}}function Tot(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var d=r(),h=d.cache,f=h===void 0?e?new WeakMap:void 0:h,p=d.meta;return n(c,u,{cache:f,equals:i,meta:p,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,o)}}var Mot=Mm();Mm({strict:!0});Mm({circular:!0});Mm({circular:!0,strict:!0});Mm({createInternalComparator:function(){return vv}});Mm({strict:!0,createInternalComparator:function(){return vv}});Mm({circular:!0,createInternalComparator:function(){return vv}});Mm({circular:!0,createInternalComparator:function(){return vv},strict:!0});function Mm(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=Aot(t),c=jot(l),u=r?r(c):Not(c);return Tot({circular:n,comparator:c,createState:i,equals:u,strict:o})}function Cot(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function kX(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):Cot(i)};requestAnimationFrame(r)}function KF(t){"@babel/helpers - typeof";return KF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KF(t)}function Pot(t){return Iot(t)||Rot(t)||Oot(t)||kot()}function kot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oot(t,e){if(t){if(typeof t=="string")return OX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OX(t,e)}}function OX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iot(t){if(Array.isArray(t))return t}function Lot(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,l=Pot(o),c=l[0],u=l.slice(1);if(typeof c=="number"){kX(i.bind(null,u),c);return}i(c),kX(i.bind(null,u));return}KF(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function RE(t){"@babel/helpers - typeof";return RE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RE(t)}function RX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RX(Object(n),!0).forEach(function(r){ude(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ude(t,e,n){return e=Dot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dot(t){var e=Fot(t,"string");return RE(e)==="symbol"?e:String(e)}function Fot(t,e){if(RE(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(RE(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uot=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Bot=function(e){return e},zot=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},sS=function(e,n){return Object.keys(n).reduce(function(r,i){return IX(IX({},r),{},ude({},i,e(i,n[i])))},{})},LX=function(e,n,r){return e.map(function(i){return"".concat(zot(i)," ").concat(n,"ms ").concat(r)}).join(",")};function $ot(t,e){return Wot(t)||Vot(t,e)||dde(t,e)||Hot()}function Hot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vot(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Wot(t){if(Array.isArray(t))return t}function Got(t){return Xot(t)||Yot(t)||dde(t)||qot()}function qot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dde(t,e){if(t){if(typeof t=="string")return ZF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZF(t,e)}}function Yot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xot(t){if(Array.isArray(t))return ZF(t)}function ZF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var V2=1e-4,hde=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},fde=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},DX=function(e,n){return function(r){var i=hde(e,n);return fde(i,r)}},Kot=function(e,n){return function(r){var i=hde(e,n),s=[].concat(Got(i.map(function(o,l){return o*l}).slice(1)),[0]);return fde(s,r)}},FX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=$ot(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var h=DX(i,o),f=DX(s,l),p=Kot(i,o),m=function(v){return v>1?1:v<0?0:v},y=function(v){for(var _=v>1?1:v,S=_,j=0;j<8;++j){var N=h(S)-_,A=p(S);if(Math.abs(N-_)<V2||A<V2)return f(S);S=m(S-N/A)}return f(S)};return y.isStepper=!1,y},Zot=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,h,f){var p=-(d-h)*r,m=f*s,y=f+(p-m)*l/1e3,b=f*l/1e3+d;return Math.abs(b-h)<V2&&Math.abs(y)<V2?[h,0]:[b,y]};return c.isStepper=!0,c.dt=l,c},Qot=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FX(i);case"spring":return Zot();default:if(i.split("(")[0]==="cubic-bezier")return FX(i)}return typeof i=="function"?i:null};function IE(t){"@babel/helpers - typeof";return IE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IE(t)}function UX(t){return tlt(t)||elt(t)||pde(t)||Jot()}function Jot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function elt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tlt(t){if(Array.isArray(t))return JF(t)}function BX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BX(Object(n),!0).forEach(function(r){QF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QF(t,e,n){return e=nlt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nlt(t){var e=rlt(t,"string");return IE(e)==="symbol"?e:String(e)}function rlt(t,e){if(IE(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(IE(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ilt(t,e){return olt(t)||alt(t,e)||pde(t,e)||slt()}function slt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(t,e){if(t){if(typeof t=="string")return JF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JF(t,e)}}function JF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function alt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function olt(t){if(Array.isArray(t))return t}var W2=function(e,n,r){return e+(n-e)*r},eU=function(e){var n=e.from,r=e.to;return n!==r},llt=function t(e,n,r){var i=sS(function(s,o){if(eU(o)){var l=e(o.from,o.to,o.velocity),c=ilt(l,2),u=c[0],d=c[1];return wa(wa({},o),{},{from:u,velocity:d})}return o},n);return r<1?sS(function(s,o){return eU(o)?wa(wa({},o),{},{velocity:W2(o.velocity,i[s].velocity,r),from:W2(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const clt=function(t,e,n,r,i){var s=Uot(t,e),o=s.reduce(function(b,v){return wa(wa({},b),{},QF({},v,[t[v],e[v]]))},{}),l=s.reduce(function(b,v){return wa(wa({},b),{},QF({},v,{from:t[v],velocity:0,to:e[v]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return sS(function(v,_){return _.from},l)},p=function(){return!Object.values(l).filter(eU).length},m=function(v){u||(u=v);var _=v-u,S=_/n.dt;l=llt(n,l,S),i(wa(wa(wa({},t),e),f())),u=v,p()||(c=requestAnimationFrame(h))},y=function(v){d||(d=v);var _=(v-d)/r,S=sS(function(N,A){return W2.apply(void 0,UX(A).concat([n(_)]))},o);if(i(wa(wa(wa({},t),e),S)),_<1)c=requestAnimationFrame(h);else{var j=sS(function(N,A){return W2.apply(void 0,UX(A).concat([n(1)]))},o);i(wa(wa(wa({},t),e),j))}};return h=n.isStepper?m:y,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}var ult=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dlt(t,e){if(t==null)return{};var n=hlt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hlt(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function l3(t){return glt(t)||mlt(t)||plt(t)||flt()}function flt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function plt(t,e){if(t){if(typeof t=="string")return tU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tU(t,e)}}function mlt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function glt(t){if(Array.isArray(t))return tU(t)}function tU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zX(Object(n),!0).forEach(function(r){j1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j1(t,e,n){return e=mde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ylt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vlt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mde(r.key),r)}}function xlt(t,e,n){return e&&vlt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mde(t){var e=blt(t,"string");return Pb(e)==="symbol"?e:String(e)}function blt(t,e){if(Pb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wlt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nU(t,e)}function nU(t,e){return nU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nU(t,e)}function _lt(t){var e=Slt();return function(){var r=G2(t),i;if(e){var s=G2(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return rU(this,i)}}function rU(t,e){if(e&&(Pb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iU(t)}function iU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Slt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G2(t){return G2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G2(t)}var Rd=function(t){wlt(n,t);var e=_lt(n);function n(r,i){var s;ylt(this,n),s=e.call(this,r,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(iU(s)),s.changeStyle=s.changeStyle.bind(iU(s)),!l||p<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:d}),rU(s);if(h&&h.length)s.state={style:h[0].style};else if(u){if(typeof f=="function")return s.state={style:u},rU(s);s.state={style:c?j1({},c,u):u}}else s.state={style:{}};return s}return xlt(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,h=s.from,f=this.state.style;if(l){if(!o){var p={style:c?j1({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(p);return}if(!(Mot(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||u?h:i.to;if(this.state&&f){var b={style:c?j1({},c,y):y};(c&&f[c]!==y||!c&&f!==y)&&this.setState(b)}this.runAnimation(tu(tu({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,p=clt(o,l,Qot(u),c,this.changeStyle),m=function(){s.stopJSAnimation=p()};this.manager.start([f,d,m,c,h])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,p=function(y,b,v){if(v===0)return y;var _=b.duration,S=b.easing,j=S===void 0?"ease":S,N=b.style,A=b.properties,M=b.onAnimationEnd,k=v>0?o[v-1]:b,L=A||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(l3(y),[s.runJSAnimation.bind(s,{from:k.style,to:N,duration:_,easing:j}),_]);var O=LX(L,_,j),I=tu(tu(tu({},k.style),N),{},{transition:O});return[].concat(l3(y),[I,_,M]).filter(Bot)};return this.manager.start([c].concat(l3(o.reduce(p,[d,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Lot());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var y=l?j1({},l,c):c,b=LX(Object.keys(y),o,u);m.start([d,s,tu(tu({},y),{},{transition:b}),o,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=dlt(i,ult),u=C.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var h=function(p){var m=p.props,y=m.style,b=y===void 0?{}:y,v=m.className,_=C.cloneElement(p,tu(tu({},c),{},{style:tu(tu({},b),d),className:v}));return _};return u===1?h(C.Children.only(s)):ae.createElement("div",null,C.Children.map(s,function(f){return h(f)}))}}]),n}(C.PureComponent);Rd.displayName="Animate";Rd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rd.propTypes={from:Vr.oneOfType([Vr.object,Vr.string]),to:Vr.oneOfType([Vr.object,Vr.string]),attributeName:Vr.string,duration:Vr.number,begin:Vr.number,easing:Vr.oneOfType([Vr.string,Vr.func]),steps:Vr.arrayOf(Vr.shape({duration:Vr.number.isRequired,style:Vr.object.isRequired,easing:Vr.oneOfType([Vr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Vr.func]),properties:Vr.arrayOf("string"),onAnimationEnd:Vr.func})),children:Vr.oneOfType([Vr.node,Vr.func]),isActive:Vr.bool,canBegin:Vr.bool,onAnimationEnd:Vr.func,shouldReAnimate:Vr.bool,onAnimationStart:Vr.func,onAnimationReStart:Vr.func};function LE(t){"@babel/helpers - typeof";return LE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LE(t)}function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q2.apply(this,arguments)}function Elt(t,e){return Tlt(t)||Nlt(t,e)||Alt(t,e)||jlt()}function jlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Alt(t,e){if(t){if(typeof t=="string")return $X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $X(t,e)}}function $X(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nlt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Tlt(t){if(Array.isArray(t))return t}function HX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HX(Object(n),!0).forEach(function(r){Mlt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mlt(t,e,n){return e=Clt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Clt(t){var e=Plt(t,"string");return LE(e)=="symbol"?e:e+""}function Plt(t,e){if(LE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(LE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WX=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=s[f]>o?o:s[f];d="M".concat(e,",").concat(n+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(n)),d+="L ".concat(e+r-c*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*h[1])),d+="L ".concat(e+r,",").concat(n+i-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-c*h[2],",").concat(n+i)),d+="L ".concat(e+c*h[3],",").concat(n+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*h[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var m=Math.min(o,s);d="M ".concat(e,",").concat(n+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+c*m,",").concat(n,`
            L `).concat(e+r-c*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*m,`
            L `).concat(e+r,",").concat(n+i-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-c*m,",").concat(n+i,`
            L `).concat(e+c*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*m," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},klt=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return r>=u&&r<=d&&i>=h&&i<=f}return!1},Olt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},e$=function(e){var n=VX(VX({},Olt),e),r=C.useRef(),i=C.useState(-1),s=Elt(i,2),o=s[0],l=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.width,h=n.height,f=n.radius,p=n.className,m=n.animationEasing,y=n.animationDuration,b=n.animationBegin,v=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var S=vr("recharts-rectangle",p);return _?ae.createElement(Rd,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:y,animationEasing:m,isActive:_},function(j){var N=j.width,A=j.height,M=j.x,k=j.y;return ae.createElement(Rd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:v,easing:m},ae.createElement("path",q2({},lr(n,!0),{className:S,d:WX(M,k,N,A,f),ref:r})))}):ae.createElement("path",q2({},lr(n,!0),{className:S,d:WX(c,u,d,h,f)}))};function sU(){return sU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sU.apply(this,arguments)}var SO=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=vr("recharts-dot",s);return n===+n&&r===+r&&i===+i?C.createElement("circle",sU({},lr(e,!1),d2(e),{className:o,cx:n,cy:r,r:i})):null};function DE(t){"@babel/helpers - typeof";return DE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DE(t)}var Rlt=["x","y","top","left","width","height","className"];function aU(){return aU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aU.apply(this,arguments)}function GX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ilt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GX(Object(n),!0).forEach(function(r){Llt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Llt(t,e,n){return e=Dlt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dlt(t){var e=Flt(t,"string");return DE(e)=="symbol"?e:e+""}function Flt(t,e){if(DE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(DE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ult(t,e){if(t==null)return{};var n=Blt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Blt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zlt=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},$lt=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,f=e.height,p=f===void 0?0:f,m=e.className,y=Ult(e,Rlt),b=Ilt({x:r,y:s,top:l,left:u,width:h,height:p},y);return!Ct(r)||!Ct(s)||!Ct(h)||!Ct(p)||!Ct(l)||!Ct(u)?null:ae.createElement("path",aU({},lr(b,!0),{className:vr("recharts-cross",m),d:zlt(r,s,h,p,l,u)}))},Hlt=kce,Vlt=Hlt(Object.getPrototypeOf,Object),Wlt=Vlt,Glt=rf,qlt=Wlt,Ylt=sf,Xlt="[object Object]",Klt=Function.prototype,Zlt=Object.prototype,gde=Klt.toString,Qlt=Zlt.hasOwnProperty,Jlt=gde.call(Object);function ect(t){if(!Ylt(t)||Glt(t)!=Xlt)return!1;var e=qlt(t);if(e===null)return!0;var n=Qlt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&gde.call(n)==Jlt}var tct=ect;const nct=jr(tct);var rct=rf,ict=sf,sct="[object Boolean]";function act(t){return t===!0||t===!1||ict(t)&&rct(t)==sct}var oct=act;const lct=jr(oct);function FE(t){"@babel/helpers - typeof";return FE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FE(t)}function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y2.apply(this,arguments)}function cct(t,e){return fct(t)||hct(t,e)||dct(t,e)||uct()}function uct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dct(t,e){if(t){if(typeof t=="string")return qX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qX(t,e)}}function qX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hct(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function fct(t){if(Array.isArray(t))return t}function YX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YX(Object(n),!0).forEach(function(r){pct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pct(t,e,n){return e=mct(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mct(t){var e=gct(t,"string");return FE(e)=="symbol"?e:e+""}function gct(t,e){if(FE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(FE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KX=function(e,n,r,i,s){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+s),l+="L ".concat(e+r-o/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},yct={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vct=function(e){var n=XX(XX({},yct),e),r=C.useRef(),i=C.useState(-1),s=cct(i,2),o=s[0],l=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,f=n.height,p=n.className,m=n.animationEasing,y=n.animationDuration,b=n.animationBegin,v=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var _=vr("recharts-trapezoid",p);return v?ae.createElement(Rd,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:y,animationEasing:m,isActive:v},function(S){var j=S.upperWidth,N=S.lowerWidth,A=S.height,M=S.x,k=S.y;return ae.createElement(Rd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:m},ae.createElement("path",Y2({},lr(n,!0),{className:_,d:KX(M,k,j,N,A),ref:r})))}):ae.createElement("g",null,ae.createElement("path",Y2({},lr(n,!0),{className:_,d:KX(c,u,d,h,f)})))},xct=["option","shapeType","propTransformer","activeClassName","isActive"];function UE(t){"@babel/helpers - typeof";return UE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UE(t)}function bct(t,e){if(t==null)return{};var n=wct(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wct(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZX(Object(n),!0).forEach(function(r){_ct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ct(t,e,n){return e=Sct(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sct(t){var e=Ect(t,"string");return UE(e)=="symbol"?e:e+""}function Ect(t,e){if(UE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(UE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jct(t,e){return X2(X2({},e),t)}function Act(t,e){return t==="symbols"}function QX(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ae.createElement(e$,n);case"trapezoid":return ae.createElement(vct,n);case"sector":return ae.createElement(lde,n);case"symbols":if(Act(e))return ae.createElement(x6,n);break;default:return null}}function Nct(t){return C.isValidElement(t)?t.props:t}function Tct(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?jct:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=bct(t,xct),u;if(C.isValidElement(e))u=C.cloneElement(e,X2(X2({},c),Nct(e)));else if(tr(e))u=e(c);else if(nct(e)&&!lct(e)){var d=i(e,c);u=ae.createElement(QX,{shapeType:n,elementProps:d})}else{var h=c;u=ae.createElement(QX,{shapeType:n,elementProps:h})}return l?ae.createElement(_i,{className:o},u):u}function EO(t,e){return e!=null&&"trapezoids"in t.props}function jO(t,e){return e!=null&&"sectors"in t.props}function BE(t,e){return e!=null&&"points"in t.props}function Mct(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Cct(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Pct(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function kct(t,e){var n;return EO(t,e)?n=Mct:jO(t,e)?n=Cct:BE(t,e)&&(n=Pct),n}function Oct(t,e){var n;return EO(t,e)?n="trapezoids":jO(t,e)?n="sectors":BE(t,e)&&(n="points"),n}function Rct(t,e){if(EO(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(jO(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return BE(t,e)?e.payload:{}}function Ict(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Oct(n,e),s=Rct(n,e),o=r.filter(function(c,u){var d=Mb(s,c),h=n.props[i].filter(function(m){var y=kct(n,e);return y(m,e)}),f=n.props[i].indexOf(h[h.length-1]),p=u===f;return d&&p}),l=r.indexOf(o[o.length-1]);return l}var Lct=Math.ceil,Dct=Math.max;function Fct(t,e,n,r){for(var i=-1,s=Dct(Lct((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var Uct=Fct,Bct=Zce,JX=1/0,zct=17976931348623157e292;function $ct(t){if(!t)return t===0?t:0;if(t=Bct(t),t===JX||t===-JX){var e=t<0?-1:1;return e*zct}return t===t?t:0}var yde=$ct,Hct=Uct,Vct=fO,c3=yde;function Wct(t){return function(e,n,r){return r&&typeof r!="number"&&Vct(e,n,r)&&(n=r=void 0),e=c3(e),n===void 0?(n=e,e=0):n=c3(n),r=r===void 0?e<n?1:-1:c3(r),Hct(e,n,r,t)}}var Gct=Wct,qct=Gct,Yct=qct(),Xct=Yct;const K2=jr(Xct);function zE(t){"@babel/helpers - typeof";return zE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zE(t)}function eK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eK(Object(n),!0).forEach(function(r){vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vde(t,e,n){return e=Kct(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kct(t){var e=Zct(t,"string");return zE(e)=="symbol"?e:e+""}function Zct(t,e){if(zE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qct=["Webkit","Moz","O","ms"],Jct=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Qct.reduce(function(s,o){return tK(tK({},s),{},vde({},o+r,n))},{});return i[e]=n,i};function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}function Z2(){return Z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z2.apply(this,arguments)}function nK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nK(Object(n),!0).forEach(function(r){El(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bde(r.key),r)}}function tut(t,e,n){return e&&rK(t.prototype,e),n&&rK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nut(t,e,n){return e=Q2(e),rut(t,xde()?Reflect.construct(e,n||[],Q2(t).constructor):e.apply(t,n))}function rut(t,e){if(e&&(kb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iut(t)}function iut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xde=function(){return!!t})()}function Q2(t){return Q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q2(t)}function sut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oU(t,e)}function oU(t,e){return oU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oU(t,e)}function El(t,e,n){return e=bde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=aut(t,"string");return kb(e)=="symbol"?e:e+""}function aut(t,e){if(kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var out=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=rS().domain(K2(0,c)).range([s,s+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},iK=function(e){return e.changedTouches&&!!e.changedTouches.length},Ob=function(t){function e(n){var r;return eut(this,e),r=nut(this,e,[n]),El(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),El(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),El(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),El(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),El(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),El(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),El(r,"handleSlideDragStart",function(i){var s=iK(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return sut(e,t),tut(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(i,s),f=Math.max(i,s),p=e.getIndexInRange(o,h),m=e.getIndexInRange(o,f);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=wo(s[r],l,r);return tr(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,p=c.endIndex,m=c.onChange,y=r.pageX-s;y>0?y=Math.min(y,u+d-h-l,u+d-h-o):y<0&&(y=Math.max(y,u-o,u-l));var b=this.getIndex({startX:o+y,endX:l+y});(b.startIndex!==f||b.endIndex!==p)&&m&&m(b),this.setState({startX:o+y,endX:l+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=iK(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,p=d.travellerWidth,m=d.onChange,y=d.gap,b=d.data,v={startX:this.state.startX,endX:this.state.endX},_=r.pageX-s;_>0?_=Math.min(_,h+f-p-u):_<0&&(_=Math.max(_,h-u)),v[o]=u+_;var S=this.getIndex(v),j=S.startIndex,N=S.endIndex,A=function(){var k=b.length-1;return o==="startX"&&(l>c?j%y===0:N%y===0)||l<c&&N===k||o==="endX"&&(l>c?N%y===0:j%y===0)||l>c&&N===k};this.setState(El(El({},o,u+_),"brushMoveStartX",r.pageX),function(){m&&A()&&m(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],h=l.indexOf(d);if(h!==-1){var f=h+r;if(!(f===-1||f>=l.length)){var p=l[f];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(El({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return ae.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,h=C.Children.only(u);return h?ae.cloneElement(h,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,p=c.ariaLabel,m=c.data,y=c.startIndex,b=c.endIndex,v=Math.max(r,this.props.x),_=u3(u3({},lr(this.props,!1)),{},{x:v,y:u,width:d,height:h}),S=p||"Min value: ".concat((s=m[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=m[b])===null||o===void 0?void 0:o.name);return ae.createElement(_i,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,_))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,f=d.endX,p=5,m={pointerEvents:"none",fill:u};return ae.createElement(_i,{className:"recharts-brush-texts"},ae.createElement(A2,Z2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:o+l/2},m),this.getTextOfTick(i)),ae.createElement(A2,Z2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+p,y:o+l/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,h=r.alwaysShowText,f=this.state,p=f.startX,m=f.endX,y=f.isTextActive,b=f.isSlideMoving,v=f.isTravellerMoving,_=f.isTravellerFocused;if(!i||!i.length||!Ct(l)||!Ct(c)||!Ct(u)||!Ct(d)||u<=0||d<=0)return null;var S=vr("recharts-brush",s),j=ae.Children.count(o)===1,N=Jct("userSelect","none");return ae.createElement(_i,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||b||v||_||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),ae.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return ae.isValidElement(r)?s=ae.cloneElement(r,i):tr(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return u3({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?out({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(C.PureComponent);El(Ob,"displayName","Brush");El(Ob,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lut=A6;function cut(t,e){var n;return lut(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var uut=cut,dut=Ece,hut=Am,fut=uut,put=rl,mut=fO;function gut(t,e,n){var r=put(t)?dut:fut;return n&&mut(t,e,n)&&(e=void 0),r(t,hut(e))}var yut=gut;const vut=jr(yut);var Nd=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},sK=Gce;function xut(t,e,n){e=="__proto__"&&sK?sK(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var but=xut,wut=but,_ut=Vce,Sut=Am;function Eut(t,e){var n={};return e=Sut(e),_ut(t,function(r,i,s){wut(n,i,e(r,i,s))}),n}var jut=Eut;const Aut=jr(jut);function Nut(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Tut=Nut,Mut=A6;function Cut(t,e){var n=!0;return Mut(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var Put=Cut,kut=Tut,Out=Put,Rut=Am,Iut=rl,Lut=fO;function Dut(t,e,n){var r=Iut(t)?kut:Out;return n&&Lut(t,e,n)&&(e=void 0),r(t,Rut(e))}var Fut=Dut;const wde=jr(Fut);var Uut=["x","y"];function $E(t){"@babel/helpers - typeof";return $E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$E(t)}function lU(){return lU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lU.apply(this,arguments)}function aK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aK(Object(n),!0).forEach(function(r){But(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function But(t,e,n){return e=zut(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zut(t){var e=$ut(t,"string");return $E(e)=="symbol"?e:e+""}function $ut(t,e){if($E(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($E(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hut(t,e){if(t==null)return{};var n=Vut(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vut(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wut(t,e){var n=t.x,r=t.y,i=Hut(t,Uut),s="".concat(n),o=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return h1(h1(h1(h1(h1({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function oK(t){return ae.createElement(Tct,lU({shapeType:"rectangle",propTransformer:Wut,activeClassName:"recharts-active-bar"},t))}var Gut=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Ct(r)||dGe(r);return s?e(r,i):(s||ev(),n)}},qut=["value","background"],_de;function Rb(t){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rb(t)}function Yut(t,e){if(t==null)return{};var n=Xut(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xut(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J2.apply(this,arguments)}function lK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function As(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lK(Object(n),!0).forEach(function(r){Mp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ede(r.key),r)}}function Zut(t,e,n){return e&&cK(t.prototype,e),n&&cK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qut(t,e,n){return e=eP(e),Jut(t,Sde()?Reflect.construct(e,n||[],eP(t).constructor):e.apply(t,n))}function Jut(t,e){if(e&&(Rb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return edt(t)}function edt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sde=function(){return!!t})()}function eP(t){return eP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eP(t)}function tdt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cU(t,e)}function cU(t,e){return cU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cU(t,e)}function Mp(t,e,n){return e=Ede(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=ndt(t,"string");return Rb(e)=="symbol"?e:e+""}function ndt(t,e){if(Rb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xv=function(t){function e(){var n;Kut(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Qut(this,e,[].concat(i)),Mp(n,"state",{isAnimationFinished:!1}),Mp(n,"id",xw("recharts-bar-")),Mp(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Mp(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return tdt(e,t),Zut(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=lr(this.props,!1);return r&&r.map(function(h,f){var p=f===c,m=p?u:o,y=As(As(As({},d),h),{},{isActive:p,option:m,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ae.createElement(_i,J2({className:"recharts-bar-rectangle"},h2(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),ae.createElement(oK,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,f=this.state.prevData;return ae.createElement(Rd,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=s.map(function(b,v){var _=f&&f[v];if(_){var S=Ea(_.x,b.x),j=Ea(_.y,b.y),N=Ea(_.width,b.width),A=Ea(_.height,b.height);return As(As({},b),{},{x:S(m),y:j(m),width:N(m),height:A(m)})}if(o==="horizontal"){var M=Ea(0,b.height),k=M(m);return As(As({},b),{},{y:b.y+b.height-k,height:k})}var L=Ea(0,b.width),O=L(m);return As(As({},b),{},{width:O})});return ae.createElement(_i,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Mb(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=lr(this.props.background,!1);return s.map(function(u,d){u.value;var h=u.background,f=Yut(u,qut);if(!h)return null;var p=As(As(As(As(As({},f),{},{fill:"#eee"},h),c),h2(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ae.createElement(oK,J2({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=Nc(d,Hj);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,p=function(b,v){var _=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:_,errorVal:wo(b,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ae.createElement(_i,m,h.map(function(y){return ae.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,h=r.width,f=r.height,p=r.isAnimationActive,m=r.background,y=r.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,v=vr("recharts-bar",o),_=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,j=_||S,N=mr(y)?this.id:y;return ae.createElement(_i,{className:v},_||S?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(N)},ae.createElement("rect",{x:_?u:u-h/2,y:S?d:d-f/2,width:_?h:h*2,height:S?f:f*2}))):null,ae.createElement(_i,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!p||b)&&Ih.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(C.PureComponent);_de=xv;Mp(xv,"displayName","Bar");Mp(xv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mv.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Mp(xv,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=Lst(r,n);if(!p)return null;var m=e.layout,y=n.type.defaultProps,b=y!==void 0?As(As({},y),n.props):n.props,v=b.dataKey,_=b.children,S=b.minPointSize,j=m==="horizontal"?o:s,N=u?j.scale.domain():null,A=Vst({numericAxis:j}),M=Nc(_,Jce),k=h.map(function(L,O){var I,U,W,q,J,K;u?I=Dst(u[d+O],N):(I=wo(L,v),Array.isArray(I)||(I=[A,I]));var ne=Gut(S,_de.defaultProps.minPointSize)(I[1],O);if(m==="horizontal"){var $,Z=[o.scale(I[0]),o.scale(I[1])],B=Z[0],ce=Z[1];U=lX({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:L,index:O}),W=($=ce??B)!==null&&$!==void 0?$:void 0,q=p.size;var fe=B-ce;if(J=Number.isNaN(fe)?0:fe,K={x:U,y:o.y,width:q,height:o.height},Math.abs(ne)>0&&Math.abs(J)<Math.abs(ne)){var Q=bu(J||ne)*(Math.abs(ne)-Math.abs(J));W-=Q,J+=Q}}else{var xe=[s.scale(I[0]),s.scale(I[1])],ke=xe[0],Re=xe[1];if(U=ke,W=lX({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:L,index:O}),q=Re-ke,J=p.size,K={x:s.x,y:W,width:s.width,height:J},Math.abs(ne)>0&&Math.abs(q)<Math.abs(ne)){var Ce=bu(q||ne)*(Math.abs(ne)-Math.abs(q));q+=Ce}}return As(As(As({},L),{},{x:U,y:W,width:q,height:J,value:u?I:I[1],payload:L,background:K},M&&M[O]&&M[O].props),{},{tooltipPayload:[sde(n,L)],tooltipPosition:{x:U+q/2,y:W+J/2}})});return As({data:k,layout:m},f)});function HE(t){"@babel/helpers - typeof";return HE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HE(t)}function rdt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jde(r.key),r)}}function idt(t,e,n){return e&&uK(t.prototype,e),n&&uK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dK(Object(n),!0).forEach(function(r){AO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AO(t,e,n){return e=jde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jde(t){var e=sdt(t,"string");return HE(e)=="symbol"?e:e+""}function sdt(t,e){if(HE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(HE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t$=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!Al(u,xv);return d.reduce(function(p,m){var y=n[m],b=y.orientation,v=y.domain,_=y.padding,S=_===void 0?{}:_,j=y.mirror,N=y.reversed,A="".concat(b).concat(j?"Mirror":""),M,k,L,O,I;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var U=v[1]-v[0],W=1/0,q=y.categoricalDomain.sort(pGe);if(q.forEach(function(xe,ke){ke>0&&(W=Math.min((xe||0)-(q[ke-1]||0),W))}),Number.isFinite(W)){var J=W/U,K=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(M=J*K/2),y.padding==="no-gap"){var ne=Qy(e.barCategoryGap,J*K),$=J*K/2;M=$-ne-($-ne)/K*ne}}}i==="xAxis"?k=[r.left+(S.left||0)+(M||0),r.left+r.width-(S.right||0)-(M||0)]:i==="yAxis"?k=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(M||0),r.top+r.height-(S.bottom||0)-(M||0)]:k=y.range,N&&(k=[k[1],k[0]]);var Z=Rst(y,s,f),B=Z.scale,ce=Z.realScaleType;B.domain(v).range(k),Ist(B);var fe=Hst(B,hu(hu({},y),{},{realScaleType:ce}));i==="xAxis"?(I=b==="top"&&!j||b==="bottom"&&j,L=r.left,O=h[A]-I*y.height):i==="yAxis"&&(I=b==="left"&&!j||b==="right"&&j,L=h[A]-I*y.width,O=r.top);var Q=hu(hu(hu({},y),fe),{},{realScaleType:ce,x:L,y:O,scale:B,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return Q.bandSize=z2(Q,fe),!y.hide&&i==="xAxis"?h[A]+=(I?-1:1)*Q.height:y.hide||(h[A]+=(I?-1:1)*Q.width),hu(hu({},p),{},AO({},m,Q))},{})},Ade=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},adt=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return Ade({x:n,y:r},{x:i,y:s})},Nde=function(){function t(e){rdt(this,t),this.scale=e}return idt(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();AO(Nde,"EPS",1e-4);var n$=function(e){var n=Object.keys(e).reduce(function(r,i){return hu(hu({},r),{},AO({},i,Nde.create(e[i])))},{});return hu(hu({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Aut(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return wde(i,function(s,o){return n[o].isInRange(s)})}})};function odt(t){return(t%180+180)%180}var ldt=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=odt(i),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},cdt=Am,udt=Fj,ddt=dO;function hdt(t){return function(e,n,r){var i=Object(e);if(!udt(e)){var s=cdt(n);e=ddt(e),n=function(l){return s(i[l],l,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var fdt=hdt,pdt=yde;function mdt(t){var e=pdt(t),n=e%1;return e===e?n?e-n:e:0}var gdt=mdt,ydt=Fce,vdt=Am,xdt=gdt,bdt=Math.max;function wdt(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:xdt(n);return i<0&&(i=bdt(r+i,0)),ydt(t,vdt(e),i)}var _dt=wdt,Sdt=fdt,Edt=_dt,jdt=Sdt(Edt),Adt=jdt;const Ndt=jr(Adt);var Tdt=yWe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),r$=C.createContext(void 0),i$=C.createContext(void 0),Tde=C.createContext(void 0),Mde=C.createContext({}),Cde=C.createContext(void 0),Pde=C.createContext(0),kde=C.createContext(0),hK=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Tdt(s);return ae.createElement(r$.Provider,{value:r},ae.createElement(i$.Provider,{value:i},ae.createElement(Mde.Provider,{value:s},ae.createElement(Tde.Provider,{value:d},ae.createElement(Cde.Provider,{value:o},ae.createElement(Pde.Provider,{value:u},ae.createElement(kde.Provider,{value:c},l)))))))},Mdt=function(){return C.useContext(Cde)},Ode=function(e){var n=C.useContext(r$);n==null&&ev();var r=n[e];return r==null&&ev(),r},Cdt=function(){var e=C.useContext(r$);return fp(e)},Pdt=function(){var e=C.useContext(i$),n=Ndt(e,function(r){return wde(r.domain,Number.isFinite)});return n||fp(e)},Rde=function(e){var n=C.useContext(i$);n==null&&ev();var r=n[e];return r==null&&ev(),r},kdt=function(){var e=C.useContext(Tde);return e},Odt=function(){return C.useContext(Mde)},s$=function(){return C.useContext(kde)},a$=function(){return C.useContext(Pde)};function Ib(t){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}function Rdt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Idt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lde(r.key),r)}}function Ldt(t,e,n){return e&&Idt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ddt(t,e,n){return e=tP(e),Fdt(t,Ide()?Reflect.construct(e,n||[],tP(t).constructor):e.apply(t,n))}function Fdt(t,e){if(e&&(Ib(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Udt(t)}function Udt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ide(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ide=function(){return!!t})()}function tP(t){return tP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tP(t)}function Bdt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uU(t,e)}function uU(t,e){return uU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uU(t,e)}function fK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fK(Object(n),!0).forEach(function(r){o$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o$(t,e,n){return e=Lde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lde(t){var e=zdt(t,"string");return Ib(e)=="symbol"?e:e+""}function zdt(t,e){if(Ib(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ib(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $dt(t,e){return Gdt(t)||Wdt(t,e)||Vdt(t,e)||Hdt()}function Hdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vdt(t,e){if(t){if(typeof t=="string")return mK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mK(t,e)}}function mK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wdt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Gdt(t){if(Array.isArray(t))return t}function dU(){return dU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dU.apply(this,arguments)}var qdt=function(e,n){var r;return ae.isValidElement(e)?r=ae.cloneElement(e,n):tr(e)?r=e(n):r=ae.createElement("line",dU({},n,{className:"recharts-reference-line-line"})),r},Ydt=function(e,n,r,i,s,o,l,c,u){var d=s.x,h=s.y,f=s.width,p=s.height;if(r){var m=u.y,y=e.y.apply(m,{position:o});if(Nd(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:d+f,y},{x:d,y}];return c==="left"?b.reverse():b}if(n){var v=u.x,_=e.x.apply(v,{position:o});if(Nd(u,"discard")&&!e.x.isInRange(_))return null;var S=[{x:_,y:h+p},{x:_,y:h}];return l==="top"?S.reverse():S}if(i){var j=u.segment,N=j.map(function(A){return e.apply(A,{position:o})});return Nd(u,"discard")&&vut(N,function(A){return!e.isInRange(A)})?null:N}return null};function Xdt(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Mdt(),d=Ode(i),h=Rde(s),f=kdt();if(!u||!f)return null;Oh(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=n$({x:d.scale,y:h.scale}),m=Ws(e),y=Ws(n),b=r&&r.length===2,v=Ydt(p,m,y,b,f,t.position,d.orientation,h.orientation,t);if(!v)return null;var _=$dt(v,2),S=_[0],j=S.x,N=S.y,A=_[1],M=A.x,k=A.y,L=Nd(t,"hidden")?"url(#".concat(u,")"):void 0,O=pK(pK({clipPath:L},lr(t,!0)),{},{x1:j,y1:N,x2:M,y2:k});return ae.createElement(_i,{className:vr("recharts-reference-line",l)},qdt(o,O),Ba.renderCallByParent(t,adt({x1:j,y1:N,x2:M,y2:k})))}var l$=function(t){function e(){return Rdt(this,e),Ddt(this,e,arguments)}return Bdt(e,t),Ldt(e,[{key:"render",value:function(){return ae.createElement(Xdt,this.props)}}])}(ae.Component);o$(l$,"displayName","ReferenceLine");o$(l$,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hU(){return hU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hU.apply(this,arguments)}function Lb(t){"@babel/helpers - typeof";return Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lb(t)}function gK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gK(Object(n),!0).forEach(function(r){NO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kdt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zdt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fde(r.key),r)}}function Qdt(t,e,n){return e&&Zdt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jdt(t,e,n){return e=nP(e),eht(t,Dde()?Reflect.construct(e,n||[],nP(t).constructor):e.apply(t,n))}function eht(t,e){if(e&&(Lb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tht(t)}function tht(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dde=function(){return!!t})()}function nP(t){return nP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nP(t)}function nht(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fU(t,e)}function fU(t,e){return fU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fU(t,e)}function NO(t,e,n){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=rht(t,"string");return Lb(e)=="symbol"?e:e+""}function rht(t,e){if(Lb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iht=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=n$({x:i.scale,y:s.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Nd(e,"discard")&&!o.isInRange(l)?null:l},TO=function(t){function e(){return Kdt(this,e),Jdt(this,e,arguments)}return nht(e,t),Qdt(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Ws(i),d=Ws(s);if(Oh(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=iht(this.props);if(!h)return null;var f=h.x,p=h.y,m=this.props,y=m.shape,b=m.className,v=Nd(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=yK(yK({clipPath:v},lr(this.props,!0)),{},{cx:f,cy:p});return ae.createElement(_i,{className:vr("recharts-reference-dot",b)},e.renderDot(y,_),Ba.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(ae.Component);NO(TO,"displayName","ReferenceDot");NO(TO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});NO(TO,"renderDot",function(t,e){var n;return ae.isValidElement(t)?n=ae.cloneElement(t,e):tr(t)?n=t(e):n=ae.createElement(SO,hU({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function pU(){return pU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pU.apply(this,arguments)}function Db(t){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}function vK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vK(Object(n),!0).forEach(function(r){MO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bde(r.key),r)}}function oht(t,e,n){return e&&aht(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lht(t,e,n){return e=rP(e),cht(t,Ude()?Reflect.construct(e,n||[],rP(t).constructor):e.apply(t,n))}function cht(t,e){if(e&&(Db(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uht(t)}function uht(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ude(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ude=function(){return!!t})()}function rP(t){return rP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rP(t)}function dht(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mU(t,e)}function mU(t,e){return mU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mU(t,e)}function MO(t,e,n){return e=Bde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bde(t){var e=hht(t,"string");return Db(e)=="symbol"?e:e+""}function hht(t,e){if(Db(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fht=function(e,n,r,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var f=n$({x:d.scale,y:h.scale}),p={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},m={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Nd(s,"discard")&&(!f.isInRange(p)||!f.isInRange(m))?null:Ade(p,m)},CO=function(t){function e(){return sht(this,e),lht(this,e,arguments)}return dht(e,t),oht(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Oh(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Ws(i),f=Ws(s),p=Ws(o),m=Ws(l),y=this.props.shape;if(!h&&!f&&!p&&!m&&!y)return null;var b=fht(h,f,p,m,this.props);if(!b&&!y)return null;var v=Nd(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ae.createElement(_i,{className:vr("recharts-reference-area",c)},e.renderRect(y,xK(xK({clipPath:v},lr(this.props,!0)),b)),Ba.renderCallByParent(this.props,b))}}])}(ae.Component);MO(CO,"displayName","ReferenceArea");MO(CO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});MO(CO,"renderRect",function(t,e){var n;return ae.isValidElement(t)?n=ae.cloneElement(t,e):tr(t)?n=t(e):n=ae.createElement(e$,pU({},e,{className:"recharts-reference-area-rect"})),n});function zde(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function pht(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ldt(r,n)}function mht(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+o:s+l}:{start:r?i+o:s+l,end:r?i:s}}function iP(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function ght(t,e){return zde(t,e+1)}function yht(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,h=function(){var m=r==null?void 0:r[c];if(m===void 0)return{v:zde(r,u)};var y=c,b,v=function(){return b===void 0&&(b=n(m,y)),b},_=m.coordinate,S=c===0||iP(t,_,v,d,l);S||(c=0,d=o,u+=1),S&&(d=_+t*(v()/2+i),c+=u)},f;u<=s.length;)if(f=h(),f)return f.v;return[]}function VE(t){"@babel/helpers - typeof";return VE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VE(t)}function bK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bK(Object(n),!0).forEach(function(r){vht(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vht(t,e,n){return e=xht(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xht(t){var e=bht(t,"string");return VE(e)=="symbol"?e:e+""}function bht(t,e){if(VE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(VE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wht(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(f){var p=s[f],m,y=function(){return m===void 0&&(m=n(p,f)),m};if(f===o-1){var b=t*(p.coordinate+t*y()/2-c);s[f]=p=Fa(Fa({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else s[f]=p=Fa(Fa({},p),{},{tickCoord:p.coordinate});var v=iP(t,p.tickCoord,y,l,c);v&&(c=p.tickCoord-t*(y()/2+i),s[f]=Fa(Fa({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function _ht(t,e,n,r,i,s){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var d=r[l-1],h=n(d,l-1),f=t*(d.coordinate+t*h/2-u);o[l-1]=d=Fa(Fa({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var p=iP(t,d.tickCoord,function(){return h},c,u);p&&(u=d.tickCoord-t*(h/2+i),o[l-1]=Fa(Fa({},d),{},{isShow:!0}))}for(var m=s?l-1:l,y=function(_){var S=o[_],j,N=function(){return j===void 0&&(j=n(S,_)),j};if(_===0){var A=t*(S.coordinate-t*N()/2-c);o[_]=S=Fa(Fa({},S),{},{tickCoord:A<0?S.coordinate-A*t:S.coordinate})}else o[_]=S=Fa(Fa({},S),{},{tickCoord:S.coordinate});var M=iP(t,S.tickCoord,N,c,u);M&&(c=S.tickCoord+t*(N()/2+i),o[_]=Fa(Fa({},S),{},{isShow:!0}))},b=0;b<m;b++)y(b);return o}function c$(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(Ct(c)||mv.isSsr)return ght(i,typeof c=="number"&&Ct(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?nS(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(S,j){var N=tr(u)?u(S.value,j):S.value;return p==="width"?pht(nS(N,{fontSize:e,letterSpacing:n}),m,h):nS(N,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?bu(i[1].coordinate-i[0].coordinate):1,v=mht(s,b,p);return c==="equidistantPreserveStart"?yht(b,v,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=_ht(b,v,y,i,o,c==="preserveStartEnd"):f=wht(b,v,y,i,o),f.filter(function(_){return _.isShow}))}var Sht=["viewBox"],Eht=["viewBox"],jht=["ticks"];function Fb(t){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(t)}function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h0.apply(this,arguments)}function wK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wK(Object(n),!0).forEach(function(r){u$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d3(t,e){if(t==null)return{};var n=Aht(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Aht(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hde(r.key),r)}}function Tht(t,e,n){return e&&_K(t.prototype,e),n&&_K(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mht(t,e,n){return e=sP(e),Cht(t,$de()?Reflect.construct(e,n||[],sP(t).constructor):e.apply(t,n))}function Cht(t,e){if(e&&(Fb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pht(t)}function Pht(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $de(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($de=function(){return!!t})()}function sP(t){return sP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sP(t)}function kht(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gU(t,e)}function gU(t,e){return gU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gU(t,e)}function u$(t,e,n){return e=Hde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hde(t){var e=Oht(t,"string");return Fb(e)=="symbol"?e:e+""}function Oht(t,e){if(Fb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Aw=function(t){function e(n){var r;return Nht(this,e),r=Mht(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return kht(e,t),Tht(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=d3(r,Sht),l=this.props,c=l.viewBox,u=d3(l,Eht);return!k0(s,c)||!k0(o,u)||!k0(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,f=i.tickMargin,p,m,y,b,v,_,S=h?-1:1,j=r.tickSize||d,N=Ct(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,b=o+ +!h*c,y=b-S*j,_=y-S*f,v=N;break;case"left":y=b=r.coordinate,m=s+ +!h*l,p=m-S*j,v=p-S*f,_=N;break;case"right":y=b=r.coordinate,m=s+ +h*l,p=m+S*j,v=p+S*f,_=N;break;default:p=m=r.coordinate,b=o+ +h*c,y=b+S*j,_=y+S*f,v=N;break}return{line:{x1:p,y1:y,x2:m,y2:b},tick:{x:v,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,h=Us(Us(Us({},lr(this.props,!1)),lr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Us(Us({},h),{},{x1:i,y1:s+f*l,x2:i+o,y2:s+f*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=Us(Us({},h),{},{x1:i+p*o,y1:s,x2:i+p*o,y2:s+l})}return ae.createElement("line",h0({},h,{className:vr("recharts-cartesian-axis-line",Ac(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,p=c$(Us(Us({},this.props),{},{ticks:r}),i,s),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=lr(this.props,!1),v=lr(d,!1),_=Us(Us({},b),{},{fill:"none"},lr(c,!1)),S=p.map(function(j,N){var A=o.getTickLineCoord(j),M=A.line,k=A.tick,L=Us(Us(Us(Us({textAnchor:m,verticalAnchor:y},b),{},{stroke:"none",fill:u},v),k),{},{index:N,payload:j,visibleTicksCount:p.length,tickFormatter:h});return ae.createElement(_i,h0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},h2(o.props,j,N)),c&&ae.createElement("line",h0({},_,M,{className:vr("recharts-cartesian-axis-tick-line",Ac(c,"className"))})),d&&e.renderTickItem(d,L,"".concat(tr(h)?h(j.value,N):j.value).concat(f||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,f=h.ticks,p=d3(h,jht),m=f;return tr(c)&&(m=f&&f.length>0?c(this.props):c(p)),o<=0||l<=0||!m||!m.length?null:ae.createElement(_i,{className:vr("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Ba.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,l=vr(i.className,"recharts-cartesian-axis-tick-value");return ae.isValidElement(r)?o=ae.cloneElement(r,Us(Us({},i),{},{className:l})):tr(r)?o=r(Us(Us({},i),{},{className:l})):o=ae.createElement(A2,h0({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(C.Component);u$(Aw,"displayName","CartesianAxis");u$(Aw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rht=["x1","y1","x2","y2","key"],Iht=["offset"];function tv(t){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function SK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SK(Object(n),!0).forEach(function(r){Lht(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lht(t,e,n){return e=Dht(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dht(t){var e=Fht(t,"string");return tv(e)=="symbol"?e:e+""}function Fht(t,e){if(tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(this,arguments)}function EK(t,e){if(t==null)return{};var n=Uht(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uht(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bht=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return ae.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Vde(t,e){var n;if(ae.isValidElement(t))n=ae.cloneElement(t,e);else if(tr(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=EK(e,Rht),u=lr(c,!1);u.offset;var d=EK(u,Iht);n=ae.createElement("line",cy({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:l}))}return n}function zht(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=za(za({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return Vde(i,u)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function $ht(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=za(za({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return Vde(i,u)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Hht(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var m=!d[p+1],y=m?i+o-f:d[p+1]-f;if(y<=0)return null;var b=p%e.length;return ae.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:y,width:s,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Vht(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+s-s)}).sort(function(f,p){return f-p});s!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var m=!d[p+1],y=m?s+l-f:d[p+1]-f;if(y<=0)return null;var b=p%r.length;return ae.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:y,height:c,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Wht=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return rde(c$(za(za(za({},Aw.defaultProps),r),{},{ticks:Mh(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},Ght=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return rde(c$(za(za(za({},Aw.defaultProps),r),{},{ticks:Mh(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Fx={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Wde(t){var e,n,r,i,s,o,l=s$(),c=a$(),u=Odt(),d=za(za({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Fx.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Fx.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Fx.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Fx.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Fx.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Fx.verticalFill,x:Ct(t.x)?t.x:u.left,y:Ct(t.y)?t.y:u.top,width:Ct(t.width)?t.width:u.width,height:Ct(t.height)?t.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,y=d.syncWithTicks,b=d.horizontalValues,v=d.verticalValues,_=Cdt(),S=Pdt();if(!Ct(p)||p<=0||!Ct(m)||m<=0||!Ct(h)||h!==+h||!Ct(f)||f!==+f)return null;var j=d.verticalCoordinatesGenerator||Wht,N=d.horizontalCoordinatesGenerator||Ght,A=d.horizontalPoints,M=d.verticalPoints;if((!A||!A.length)&&tr(N)){var k=b&&b.length,L=N({yAxis:S?za(za({},S),{},{ticks:k?b:S.ticks}):void 0,width:l,height:c,offset:u},k?!0:y);Oh(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(tv(L),"]")),Array.isArray(L)&&(A=L)}if((!M||!M.length)&&tr(j)){var O=v&&v.length,I=j({xAxis:_?za(za({},_),{},{ticks:O?v:_.ticks}):void 0,width:l,height:c,offset:u},O?!0:y);Oh(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(tv(I),"]")),Array.isArray(I)&&(M=I)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(Bht,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ae.createElement(zht,cy({},d,{offset:u,horizontalPoints:A,xAxis:_,yAxis:S})),ae.createElement($ht,cy({},d,{offset:u,verticalPoints:M,xAxis:_,yAxis:S})),ae.createElement(Hht,cy({},d,{horizontalPoints:A})),ae.createElement(Vht,cy({},d,{verticalPoints:M})))}Wde.displayName="CartesianGrid";var qht=["type","layout","connectNulls","ref"],Yht=["key"];function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}function jK(t,e){if(t==null)return{};var n=Xht(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xht(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(this,arguments)}function AK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AK(Object(n),!0).forEach(function(r){fu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ux(t){return Jht(t)||Qht(t)||Zht(t)||Kht()}function Kht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zht(t,e){if(t){if(typeof t=="string")return yU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yU(t,e)}}function Qht(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jht(t){if(Array.isArray(t))return yU(t)}function yU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qde(r.key),r)}}function tft(t,e,n){return e&&NK(t.prototype,e),n&&NK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nft(t,e,n){return e=aP(e),rft(t,Gde()?Reflect.construct(e,n||[],aP(t).constructor):e.apply(t,n))}function rft(t,e){if(e&&(Ub(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ift(t)}function ift(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gde=function(){return!!t})()}function aP(t){return aP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aP(t)}function sft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vU(t,e)}function vU(t,e){return vU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vU(t,e)}function fu(t,e,n){return e=qde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qde(t){var e=aft(t,"string");return Ub(e)=="symbol"?e:e+""}function aft(t,e){if(Ub(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ub(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vj=function(t){function e(){var n;eft(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=nft(this,e,[].concat(i)),fu(n,"state",{isAnimationFinished:!0,totalLength:0}),fu(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),fu(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,_){return v+_});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,p=[],m=0,y=0;m<c.length;y+=c[m],++m)if(y+c[m]>h){p=[].concat(Ux(c.slice(0,m)),[h-y]);break}var b=p.length%2===0?[0,f]:[f];return[].concat(Ux(e.repeat(c,d)),Ux(p),b).map(function(v){return"".concat(v,"px")}).join(", ")}),fu(n,"id",xw("recharts-line-")),fu(n,"pathRef",function(o){n.mainCurve=o}),fu(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),fu(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return sft(e,t),tft(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=Nc(d,Hj);if(!h)return null;var f=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:wo(y.payload,b)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ae.createElement(_i,p,h.map(function(m){return ae.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=lr(this.props,!1),f=lr(c,!0),p=u.map(function(y,b){var v=Sl(Sl(Sl({key:"dot-".concat(b),r:3},h),f),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return e.renderDotItem(c,v)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ae.createElement(_i,aS({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=jK(l,qht),f=Sl(Sl(Sl({},lr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return ae.createElement(I0,aS({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,p=o.animationId,m=o.animateNewValues,y=o.width,b=o.height,v=this.state,_=v.prevPoints,S=v.totalLength;return ae.createElement(Rd,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var N=j.t;if(_){var A=_.length/l.length,M=l.map(function(U,W){var q=Math.floor(W*A);if(_[q]){var J=_[q],K=Ea(J.x,U.x),ne=Ea(J.y,U.y);return Sl(Sl({},U),{},{x:K(N),y:ne(N)})}if(m){var $=Ea(y*2,U.x),Z=Ea(b/2,U.y);return Sl(Sl({},U),{},{x:$(N),y:Z(N)})}return Sl(Sl({},U),{},{x:U.x,y:U.y})});return s.renderCurveStatically(M,r,i)}var k=Ea(0,S),L=k(N),O;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(U){return parseFloat(U)});O=s.getStrokeDasharray(L,S,I)}else O=s.generateSimpleStrokeDasharray(S,L);return s.renderCurveStatically(l,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Mb(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,h=i.top,f=i.left,p=i.width,m=i.height,y=i.isAnimationActive,b=i.id;if(s||!l||!l.length)return null;var v=this.state.isAnimationFinished,_=l.length===1,S=vr("recharts-line",c),j=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,A=j||N,M=mr(b)?this.id:b,k=(r=lr(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},L=k.r,O=L===void 0?3:L,I=k.strokeWidth,U=I===void 0?2:I,W=Xle(o)?o:{},q=W.clipDot,J=q===void 0?!0:q,K=O*2+U;return ae.createElement(_i,{className:S},j||N?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(M)},ae.createElement("rect",{x:j?f:f-p/2,y:N?h:h-m/2,width:j?p:p*2,height:N?m:m*2})),!J&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(M)},ae.createElement("rect",{x:f-K/2,y:h-K/2,width:p+K,height:m+K}))):null,!_&&this.renderCurve(A,M),this.renderErrorBar(A,M),(_||o)&&this.renderDots(A,J,M),(!y||v)&&Ih.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Ux(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(Ux(o),Ux(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(ae.isValidElement(r))s=ae.cloneElement(r,i);else if(tr(r))s=r(i);else{var o=i.key,l=jK(i,Yht),c=vr("recharts-line-dot",typeof r!="boolean"?r.className:"");s=ae.createElement(SO,aS({key:o},l,{className:c}))}return s}}])}(C.PureComponent);fu(Vj,"displayName","Line");fu(Vj,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mv.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fu(Vj,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,h=c.map(function(f,p){var m=wo(f,o);return d==="horizontal"?{x:B2({axis:n,ticks:i,bandSize:l,entry:f,index:p}),y:mr(m)?null:r.scale(m),value:m,payload:f}:{x:mr(m)?null:n.scale(m),y:B2({axis:r,ticks:s,bandSize:l,entry:f,index:p}),value:m,payload:f}});return Sl({points:h,layout:d},u)});var oft=["layout","type","stroke","connectNulls","isRange","ref"],lft=["key"],Yde;function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}function Xde(t,e){if(t==null)return{};var n=cft(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cft(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(this,arguments)}function TK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TK(Object(n),!0).forEach(function(r){yd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zde(r.key),r)}}function dft(t,e,n){return e&&MK(t.prototype,e),n&&MK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hft(t,e,n){return e=oP(e),fft(t,Kde()?Reflect.construct(e,n||[],oP(t).constructor):e.apply(t,n))}function fft(t,e){if(e&&(Bb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pft(t)}function pft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kde=function(){return!!t})()}function oP(t){return oP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oP(t)}function mft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xU(t,e)}function xU(t,e){return xU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xU(t,e)}function yd(t,e,n){return e=Zde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zde(t){var e=gft(t,"string");return Bb(e)=="symbol"?e:e+""}function gft(t,e){if(Bb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cm=function(t){function e(){var n;uft(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=hft(this,e,[].concat(i)),yd(n,"state",{isAnimationFinished:!0}),yd(n,"id",xw("recharts-area-")),yd(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),tr(o)&&o()}),yd(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),tr(o)&&o()}),n}return mft(e,t),dft(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,f=lr(this.props,!1),p=lr(u,!0),m=d.map(function(b,v){var _=tp(tp(tp({key:"dot-".concat(v),r:3},f),p),{},{index:v,cx:b.x,cy:b.y,dataKey:h,value:b.value,payload:b.payload,points:d});return e.renderDotItem(u,_)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ae.createElement(_i,uy({className:"recharts-area-dots"},y),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),h=Tp(o.map(function(f){return f.y||0}));return Ct(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(Tp(s.map(function(f){return f.y||0})),h)),Ct(h)?ae.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),h=Tp(o.map(function(f){return f.x||0}));return Ct(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(Tp(s.map(function(f){return f.x||0})),h)),Ct(h)?ae.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var p=Xde(l,oft);return ae.createElement(_i,{clipPath:s?"url(#clipPath-".concat(o,")"):null},ae.createElement(I0,uy({},lr(p,!0),{points:r,connectNulls:h,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&ae.createElement(I0,uy({},lr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:r})),d!=="none"&&f&&ae.createElement(I0,uy({},lr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,p=o.animationId,m=this.state,y=m.prevPoints,b=m.prevBaseLine;return ae.createElement(Rd,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var _=v.t;if(y){var S=y.length/l.length,j=l.map(function(k,L){var O=Math.floor(L*S);if(y[O]){var I=y[O],U=Ea(I.x,k.x),W=Ea(I.y,k.y);return tp(tp({},k),{},{x:U(_),y:W(_)})}return k}),N;if(Ct(c)&&typeof c=="number"){var A=Ea(b,c);N=A(_)}else if(mr(c)||vw(c)){var M=Ea(b,0);N=M(_)}else N=c.map(function(k,L){var O=Math.floor(L*S);if(b[O]){var I=b[O],U=Ea(I.x,k.x),W=Ea(I.y,k.y);return tp(tp({},k),{},{x:U(_),y:W(_)})}return k});return s.renderAreaStatically(j,N,r,i)}return ae.createElement(_i,null,ae.createElement("defs",null,ae.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(_))),ae.createElement(_i,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,f=u.totalLength;return c&&o&&o.length&&(!d&&f>0||!Mb(d,o)||!Mb(h,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,h=i.xAxis,f=i.yAxis,p=i.width,m=i.height,y=i.isAnimationActive,b=i.id;if(s||!l||!l.length)return null;var v=this.state.isAnimationFinished,_=l.length===1,S=vr("recharts-area",c),j=h&&h.allowDataOverflow,N=f&&f.allowDataOverflow,A=j||N,M=mr(b)?this.id:b,k=(r=lr(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},L=k.r,O=L===void 0?3:L,I=k.strokeWidth,U=I===void 0?2:I,W=Xle(o)?o:{},q=W.clipDot,J=q===void 0?!0:q,K=O*2+U;return ae.createElement(_i,{className:S},j||N?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(M)},ae.createElement("rect",{x:j?d:d-p/2,y:N?u:u-m/2,width:j?p:p*2,height:N?m:m*2})),!J&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(M)},ae.createElement("rect",{x:d-K/2,y:u-K/2,width:p+K,height:m+K}))):null,_?null:this.renderArea(A,M),(o||_)&&this.renderDots(A,J,M),(!y||v)&&Ih.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(C.PureComponent);Yde=Cm;yd(Cm,"displayName","Area");yd(Cm,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!mv.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});yd(Cm,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(Ct(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});yd(Cm,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=e.layout,m=u&&u.length,y=Yde.getBaseValue(e,n,r,i),b=p==="horizontal",v=!1,_=h.map(function(j,N){var A;m?A=u[d+N]:(A=wo(j,c),Array.isArray(A)?v=!0:A=[y,A]);var M=A[1]==null||m&&wo(j,c)==null;return b?{x:B2({axis:r,ticks:s,bandSize:l,entry:j,index:N}),y:M?null:i.scale(A[1]),value:A,payload:j}:{x:M?null:r.scale(A[1]),y:B2({axis:i,ticks:o,bandSize:l,entry:j,index:N}),value:A,payload:j}}),S;return m||v?S=_.map(function(j){var N=Array.isArray(j.value)?j.value[0]:null;return b?{x:j.x,y:N!=null&&j.y!=null?i.scale(N):null}:{x:N!=null?r.scale(N):null,y:j.y}}):S=b?i.scale(y):r.scale(y),tp({points:_,baseLine:S,layout:p,isRange:v},f)});yd(Cm,"renderDotItem",function(t,e){var n;if(ae.isValidElement(t))n=ae.cloneElement(t,e);else if(tr(t))n=t(e);else{var r=vr("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=Xde(e,lft);n=ae.createElement(SO,uy({},s,{key:i,className:r}))}return n});function zb(t){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}function yft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ehe(r.key),r)}}function xft(t,e,n){return e&&vft(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bft(t,e,n){return e=lP(e),wft(t,Qde()?Reflect.construct(e,n||[],lP(t).constructor):e.apply(t,n))}function wft(t,e){if(e&&(zb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ft(t)}function _ft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qde=function(){return!!t})()}function lP(t){return lP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lP(t)}function Sft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bU(t,e)}function bU(t,e){return bU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bU(t,e)}function Jde(t,e,n){return e=ehe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ehe(t){var e=Eft(t,"string");return zb(e)=="symbol"?e:e+""}function Eft(t,e){if(zb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wU(){return wU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wU.apply(this,arguments)}function jft(t){var e=t.xAxisId,n=s$(),r=a$(),i=Ode(e);return i==null?null:C.createElement(Aw,wU({},i,{className:vr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Mh(o,!0)}}))}var Nw=function(t){function e(){return yft(this,e),bft(this,e,arguments)}return Sft(e,t),xft(e,[{key:"render",value:function(){return C.createElement(jft,this.props)}}])}(C.Component);Jde(Nw,"displayName","XAxis");Jde(Nw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $b(t){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(t)}function Aft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rhe(r.key),r)}}function Tft(t,e,n){return e&&Nft(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mft(t,e,n){return e=cP(e),Cft(t,the()?Reflect.construct(e,n||[],cP(t).constructor):e.apply(t,n))}function Cft(t,e){if(e&&($b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pft(t)}function Pft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function the(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(the=function(){return!!t})()}function cP(t){return cP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cP(t)}function kft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_U(t,e)}function _U(t,e){return _U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_U(t,e)}function nhe(t,e,n){return e=rhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rhe(t){var e=Oft(t,"string");return $b(e)=="symbol"?e:e+""}function Oft(t,e){if($b(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($b(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function SU(){return SU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SU.apply(this,arguments)}var Rft=function(e){var n=e.yAxisId,r=s$(),i=a$(),s=Rde(n);return s==null?null:C.createElement(Aw,SU({},s,{className:vr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Mh(l,!0)}}))},Tw=function(t){function e(){return Aft(this,e),Mft(this,e,arguments)}return kft(e,t),Tft(e,[{key:"render",value:function(){return C.createElement(Rft,this.props)}}])}(C.Component);nhe(Tw,"displayName","YAxis");nhe(Tw,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function CK(t){return Fft(t)||Dft(t)||Lft(t)||Ift()}function Ift(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lft(t,e){if(t){if(typeof t=="string")return EU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EU(t,e)}}function Dft(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fft(t){if(Array.isArray(t))return EU(t)}function EU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jU=function(e,n,r,i,s){var o=Nc(e,l$),l=Nc(e,TO),c=[].concat(CK(o),CK(l)),u=Nc(e,CO),d="".concat(i,"Id"),h=i[0],f=n;if(c.length&&(f=c.reduce(function(y,b){if(b.props[d]===r&&Nd(b.props,"extendDomain")&&Ct(b.props[h])){var v=b.props[h];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},f)),u.length){var p="".concat(h,"1"),m="".concat(h,"2");f=u.reduce(function(y,b){if(b.props[d]===r&&Nd(b.props,"extendDomain")&&Ct(b.props[p])&&Ct(b.props[m])){var v=b.props[p],_=b.props[m];return[Math.min(y[0],v,_),Math.max(y[1],v,_)]}return y},f)}return s&&s.length&&(f=s.reduce(function(y,b){return Ct(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},f)),f},ihe={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||c,f),m=n?n+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,m){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],v=arguments.length,_,S;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,h),!0;case 4:return b.fn.call(b.context,d,h,f),!0;case 5:return b.fn.call(b.context,d,h,f,p),!0;case 6:return b.fn.call(b.context,d,h,f,p,m),!0}for(S=1,_=new Array(v-1);S<v;S++)_[S-1]=arguments[S];b.fn.apply(b.context,_)}else{var j=b.length,N;for(S=0;S<j;S++)switch(b[S].once&&this.removeListener(u,b[S].fn,void 0,!0),v){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,h);break;case 4:b[S].fn.call(b[S].context,d,h,f);break;default:if(!_)for(N=1,_=new Array(v-1);N<v;N++)_[N-1]=arguments[N];b[S].fn.apply(b[S].context,_)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var y=0,b=[],v=m.length;y<v;y++)(m[y].fn!==d||f&&!m[y].once||h&&m[y].context!==h)&&b.push(m[y]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(ihe);var Uft=ihe.exports;const Bft=jr(Uft);var h3=new Bft,f3="recharts.syncMouseEvents";function WE(t){"@babel/helpers - typeof";return WE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WE(t)}function zft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,she(r.key),r)}}function Hft(t,e,n){return e&&$ft(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p3(t,e,n){return e=she(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function she(t){var e=Vft(t,"string");return WE(e)=="symbol"?e:e+""}function Vft(t,e){if(WE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(WE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wft=function(){function t(){zft(this,t),p3(this,"activeIndex",0),p3(this,"coordinateList",[]),p3(this,"layout","horizontal")}return Hft(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,h=d===void 0?null:d,f=n.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=s+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function Gft(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ct(r)&&Ct(i))return!0}return!1}function qft(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function ahe(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=ja(e,n,r,i),l=ja(e,n,r,s);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Yft(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=ja(l,c,u,h),p=ja(l,c,d,h);r=f.x,i=f.y,s=p.x,o=p.y}else return ahe(e);return[{x:r,y:i},{x:s,y:o}]}function GE(t){"@babel/helpers - typeof";return GE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GE(t)}function PK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PK(Object(n),!0).forEach(function(r){Xft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xft(t,e,n){return e=Kft(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kft(t){var e=Zft(t,"string");return GE(e)=="symbol"?e:e+""}function Zft(t,e){if(GE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(GE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qft(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!o||f!=="ScatterChart"&&i!=="axis")return null;var m,y=I0;if(f==="ScatterChart")m=o,y=$lt;else if(f==="BarChart")m=qft(h,o,c,d),y=e$;else if(h==="radial"){var b=ahe(o),v=b.cx,_=b.cy,S=b.radius,j=b.startAngle,N=b.endAngle;m={cx:v,cy:_,startAngle:j,endAngle:N,innerRadius:S,outerRadius:S},y=lde}else m={points:Yft(h,o,c)},y=I0;var A=YT(YT(YT(YT({stroke:"#ccc",pointerEvents:"none"},c),m),lr(p,!1)),{},{payload:l,payloadIndex:u,className:vr("recharts-tooltip-cursor",p.className)});return C.isValidElement(p)?C.cloneElement(p,A):C.createElement(y,A)}var Jft=["item"],ept=["children","className","width","height","style","compact","title","desc"];function Hb(t){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f0.apply(this,arguments)}function kK(t,e){return rpt(t)||npt(t,e)||lhe(t,e)||tpt()}function tpt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function npt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function rpt(t){if(Array.isArray(t))return t}function OK(t,e){if(t==null)return{};var n=ipt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ipt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function spt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function apt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,che(r.key),r)}}function opt(t,e,n){return e&&apt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lpt(t,e,n){return e=uP(e),cpt(t,ohe()?Reflect.construct(e,n||[],uP(t).constructor):e.apply(t,n))}function cpt(t,e){if(e&&(Hb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return upt(t)}function upt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ohe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ohe=function(){return!!t})()}function uP(t){return uP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uP(t)}function dpt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AU(t,e)}function AU(t,e){return AU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AU(t,e)}function Vb(t){return ppt(t)||fpt(t)||lhe(t)||hpt()}function hpt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(t,e){if(t){if(typeof t=="string")return NU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NU(t,e)}}function fpt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ppt(t){if(Array.isArray(t))return NU(t)}function NU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RK(Object(n),!0).forEach(function(r){Mn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mn(t,e,n){return e=che(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function che(t){var e=mpt(t,"string");return Hb(e)=="symbol"?e:e+""}function mpt(t,e){if(Hb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gpt={xAxis:["bottom","top"],yAxis:["left","right"]},ypt={width:"100%",height:"100%"},uhe={x:0,y:0};function XT(t){return t}var vpt=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},xpt=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return ot(ot(ot({},i),ja(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return ot(ot(ot({},i),ja(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return uhe},PO=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Vb(l),Vb(u)):l},[]);return o.length>0?o:e&&e.length&&Ct(i)&&Ct(s)?e.slice(i,s+1):[]};function dhe(t){return t==="number"?[0,"auto"]:void 0}var TU=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,l=PO(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;f=u2(p,o.dataKey,i)}else f=h&&h[r]||l[r];return f?[].concat(Vb(c),[sde(u,f)]):c},[])},IK=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=vpt(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Tst(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=TU(e,n,d,h),p=xpt(r,l,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},bpt=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,p=nde(d,s);return r.reduce(function(m,y){var b,v=y.type.defaultProps!==void 0?ot(ot({},y.type.defaultProps),y.props):y.props,_=v.type,S=v.dataKey,j=v.allowDataOverflow,N=v.allowDuplicatedCategory,A=v.scale,M=v.ticks,k=v.includeHidden,L=v[o];if(m[L])return m;var O=PO(e.data,{graphicalItems:i.filter(function(fe){var Q,xe=o in fe.props?fe.props[o]:(Q=fe.type.defaultProps)===null||Q===void 0?void 0:Q[o];return xe===L}),dataStartIndex:c,dataEndIndex:u}),I=O.length,U,W,q;Gft(v.domain,j,_)&&(U=WF(v.domain,null,j),p&&(_==="number"||A!=="auto")&&(q=iS(O,S,"category")));var J=dhe(_);if(!U||U.length===0){var K,ne=(K=v.domain)!==null&&K!==void 0?K:J;if(S){if(U=iS(O,S,_),_==="category"&&p){var $=fGe(U);N&&$?(W=U,U=K2(0,I)):N||(U=dX(ne,U,y).reduce(function(fe,Q){return fe.indexOf(Q)>=0?fe:[].concat(Vb(fe),[Q])},[]))}else if(_==="category")N?U=U.filter(function(fe){return fe!==""&&!mr(fe)}):U=dX(ne,U,y).reduce(function(fe,Q){return fe.indexOf(Q)>=0||Q===""||mr(Q)?fe:[].concat(Vb(fe),[Q])},[]);else if(_==="number"){var Z=Ost(O,i.filter(function(fe){var Q,xe,ke=o in fe.props?fe.props[o]:(Q=fe.type.defaultProps)===null||Q===void 0?void 0:Q[o],Re="hide"in fe.props?fe.props.hide:(xe=fe.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return ke===L&&(k||!Re)}),S,s,d);Z&&(U=Z)}p&&(_==="number"||A!=="auto")&&(q=iS(O,S,"category"))}else p?U=K2(0,I):l&&l[L]&&l[L].hasStack&&_==="number"?U=f==="expand"?[0,1]:ide(l[L].stackGroups,c,u):U=tde(O,i.filter(function(fe){var Q=o in fe.props?fe.props[o]:fe.type.defaultProps[o],xe="hide"in fe.props?fe.props.hide:fe.type.defaultProps.hide;return Q===L&&(k||!xe)}),_,d,!0);if(_==="number")U=jU(h,U,L,s,M),ne&&(U=WF(ne,U,j));else if(_==="category"&&ne){var B=ne,ce=U.every(function(fe){return B.indexOf(fe)>=0});ce&&(U=B)}}return ot(ot({},m),{},Mn({},L,ot(ot({},v),{},{axisType:s,domain:U,categoricalDomain:q,duplicateDomain:W,originalDomain:(b=v.domain)!==null&&b!==void 0?b:J,isCategorical:p,layout:d})))},{})},wpt=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,h=e.children,f=PO(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=f.length,m=nde(d,s),y=-1;return r.reduce(function(b,v){var _=v.type.defaultProps!==void 0?ot(ot({},v.type.defaultProps),v.props):v.props,S=_[o],j=dhe("number");if(!b[S]){y++;var N;return m?N=K2(0,p):l&&l[S]&&l[S].hasStack?(N=ide(l[S].stackGroups,c,u),N=jU(h,N,S,s)):(N=WF(j,tde(f,r.filter(function(A){var M,k,L=o in A.props?A.props[o]:(M=A.type.defaultProps)===null||M===void 0?void 0:M[o],O="hide"in A.props?A.props.hide:(k=A.type.defaultProps)===null||k===void 0?void 0:k.hide;return L===S&&!O}),"number",d),i.defaultProps.allowDataOverflow),N=jU(h,N,S,s)),ot(ot({},b),{},Mn({},S,ot(ot({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ac(gpt,"".concat(s,".").concat(y%2),null),domain:N,originalDomain:j,isCategorical:m,layout:d})))}return b},{})},_pt=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,h="".concat(i,"Id"),f=Nc(d,s),p={};return f&&f.length?p=bpt(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=wpt(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Spt=function(e){var n=fp(e),r=Mh(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:N6(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:z2(n,r)}},LK=function(e){var n=e.children,r=e.defaultShowTooltip,i=Al(n,Ob),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Ept=function(e){return!e||!e.length?!1:e.some(function(n){var r=kh(n&&n.type);return r&&r.indexOf("Bar")>=0})},DK=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jpt=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,h=r.children,f=r.margin||{},p=Al(h,Ob),m=Al(h,My),y=Object.keys(c).reduce(function(N,A){var M=c[A],k=M.orientation;return!M.mirror&&!M.hide?ot(ot({},N),{},Mn({},k,N[k]+M.width)):N},{left:f.left||0,right:f.right||0}),b=Object.keys(o).reduce(function(N,A){var M=o[A],k=M.orientation;return!M.mirror&&!M.hide?ot(ot({},N),{},Mn({},k,Ac(N,"".concat(k))+M.height)):N},{top:f.top||0,bottom:f.bottom||0}),v=ot(ot({},b),y),_=v.bottom;p&&(v.bottom+=p.props.height||Ob.defaultProps.height),m&&n&&(v=Pst(v,i,r,n));var S=u-v.left-v.right,j=d-v.top-v.bottom;return ot(ot({brushBottom:_},v),{},{width:Math.max(S,0),height:Math.max(j,0)})},Apt=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},d$=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(v,_){var S=_.graphicalItems,j=_.stackGroups,N=_.offset,A=_.updateId,M=_.dataStartIndex,k=_.dataEndIndex,L=v.barSize,O=v.layout,I=v.barGap,U=v.barCategoryGap,W=v.maxBarSize,q=DK(O),J=q.numericAxisName,K=q.cateAxisName,ne=Ept(S),$=[];return S.forEach(function(Z,B){var ce=PO(v.data,{graphicalItems:[Z],dataStartIndex:M,dataEndIndex:k}),fe=Z.type.defaultProps!==void 0?ot(ot({},Z.type.defaultProps),Z.props):Z.props,Q=fe.dataKey,xe=fe.maxBarSize,ke=fe["".concat(J,"Id")],Re=fe["".concat(K,"Id")],Ce={},tt=c.reduce(function(z,oe){var je=_["".concat(oe.axisType,"Map")],Ne=fe["".concat(oe.axisType,"Id")];je&&je[Ne]||oe.axisType==="zAxis"||ev();var we=je[Ne];return ot(ot({},z),{},Mn(Mn({},oe.axisType,we),"".concat(oe.axisType,"Ticks"),Mh(we)))},Ce),Fe=tt[K],Ve=tt["".concat(K,"Ticks")],Ue=j&&j[ke]&&j[ke].hasStack&&Wst(Z,j[ke].stackGroups),he=kh(Z.type).indexOf("Bar")>=0,te=z2(Fe,Ve),ze=[],nt=ne&&Mst({barSize:L,stackGroups:j,totalSize:Apt(tt,K)});if(he){var Je,rt,Pt=mr(xe)?W:xe,bt=(Je=(rt=z2(Fe,Ve,!0))!==null&&rt!==void 0?rt:Pt)!==null&&Je!==void 0?Je:0;ze=Cst({barGap:I,barCategoryGap:U,bandSize:bt!==te?bt:te,sizeList:nt[Re],maxBarSize:Pt}),bt!==te&&(ze=ze.map(function(z){return ot(ot({},z),{},{position:ot(ot({},z.position),{},{offset:z.position.offset-bt/2})})}))}var H=Z&&Z.type&&Z.type.getComposedData;H&&$.push({props:ot(ot({},H(ot(ot({},tt),{},{displayedData:ce,props:v,dataKey:Q,item:Z,bandSize:te,barPosition:ze,offset:N,stackedData:Ue,layout:O,dataStartIndex:M,dataEndIndex:k}))),{},Mn(Mn(Mn({key:Z.key||"item-".concat(B)},J,tt[J]),K,tt[K]),"animationId",A)),childIndex:jGe(Z,v.children),item:Z})}),$},p=function(v,_){var S=v.props,j=v.dataStartIndex,N=v.dataEndIndex,A=v.updateId;if(!sq({props:S}))return null;var M=S.children,k=S.layout,L=S.stackOffset,O=S.data,I=S.reverseStackOrder,U=DK(k),W=U.numericAxisName,q=U.cateAxisName,J=Nc(M,r),K=$st(O,J,"".concat(W,"Id"),"".concat(q,"Id"),L,I),ne=c.reduce(function(fe,Q){var xe="".concat(Q.axisType,"Map");return ot(ot({},fe),{},Mn({},xe,_pt(S,ot(ot({},Q),{},{graphicalItems:J,stackGroups:Q.axisType===W&&K,dataStartIndex:j,dataEndIndex:N}))))},{}),$=jpt(ot(ot({},ne),{},{props:S,graphicalItems:J}),_==null?void 0:_.legendBBox);Object.keys(ne).forEach(function(fe){ne[fe]=d(S,ne[fe],$,fe.replace("Map",""),n)});var Z=ne["".concat(q,"Map")],B=Spt(Z),ce=f(S,ot(ot({},ne),{},{dataStartIndex:j,dataEndIndex:N,updateId:A,graphicalItems:J,stackGroups:K,offset:$}));return ot(ot({formattedGraphicalItems:ce,graphicalItems:J,offset:$,stackGroups:K},B),ne)},m=function(b){function v(_){var S,j,N;return spt(this,v),N=lpt(this,v,[_]),Mn(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Mn(N,"accessibilityManager",new Wft),Mn(N,"handleLegendBBoxUpdate",function(A){if(A){var M=N.state,k=M.dataStartIndex,L=M.dataEndIndex,O=M.updateId;N.setState(ot({legendBBox:A},p({props:N.props,dataStartIndex:k,dataEndIndex:L,updateId:O},ot(ot({},N.state),{},{legendBBox:A}))))}}),Mn(N,"handleReceiveSyncEvent",function(A,M,k){if(N.props.syncId===A){if(k===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(M)}}),Mn(N,"handleBrushChange",function(A){var M=A.startIndex,k=A.endIndex;if(M!==N.state.dataStartIndex||k!==N.state.dataEndIndex){var L=N.state.updateId;N.setState(function(){return ot({dataStartIndex:M,dataEndIndex:k},p({props:N.props,dataStartIndex:M,dataEndIndex:k,updateId:L},N.state))}),N.triggerSyncEvent({dataStartIndex:M,dataEndIndex:k})}}),Mn(N,"handleMouseEnter",function(A){var M=N.getMouseInfo(A);if(M){var k=ot(ot({},M),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var L=N.props.onMouseEnter;tr(L)&&L(k,A)}}),Mn(N,"triggeredAfterMouseMove",function(A){var M=N.getMouseInfo(A),k=M?ot(ot({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var L=N.props.onMouseMove;tr(L)&&L(k,A)}),Mn(N,"handleItemMouseEnter",function(A){N.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Mn(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Mn(N,"handleMouseMove",function(A){A.persist(),N.throttleTriggeredAfterMouseMove(A)}),Mn(N,"handleMouseLeave",function(A){N.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};N.setState(M),N.triggerSyncEvent(M);var k=N.props.onMouseLeave;tr(k)&&k(M,A)}),Mn(N,"handleOuterEvent",function(A){var M=EGe(A),k=Ac(N.props,"".concat(M));if(M&&tr(k)){var L,O;/.*touch.*/i.test(M)?O=N.getMouseInfo(A.changedTouches[0]):O=N.getMouseInfo(A),k((L=O)!==null&&L!==void 0?L:{},A)}}),Mn(N,"handleClick",function(A){var M=N.getMouseInfo(A);if(M){var k=ot(ot({},M),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var L=N.props.onClick;tr(L)&&L(k,A)}}),Mn(N,"handleMouseDown",function(A){var M=N.props.onMouseDown;if(tr(M)){var k=N.getMouseInfo(A);M(k,A)}}),Mn(N,"handleMouseUp",function(A){var M=N.props.onMouseUp;if(tr(M)){var k=N.getMouseInfo(A);M(k,A)}}),Mn(N,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Mn(N,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseDown(A.changedTouches[0])}),Mn(N,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseUp(A.changedTouches[0])}),Mn(N,"handleDoubleClick",function(A){var M=N.props.onDoubleClick;if(tr(M)){var k=N.getMouseInfo(A);M(k,A)}}),Mn(N,"handleContextMenu",function(A){var M=N.props.onContextMenu;if(tr(M)){var k=N.getMouseInfo(A);M(k,A)}}),Mn(N,"triggerSyncEvent",function(A){N.props.syncId!==void 0&&h3.emit(f3,N.props.syncId,A,N.eventEmitterSymbol)}),Mn(N,"applySyncEvent",function(A){var M=N.props,k=M.layout,L=M.syncMethod,O=N.state.updateId,I=A.dataStartIndex,U=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)N.setState(ot({dataStartIndex:I,dataEndIndex:U},p({props:N.props,dataStartIndex:I,dataEndIndex:U,updateId:O},N.state)));else if(A.activeTooltipIndex!==void 0){var W=A.chartX,q=A.chartY,J=A.activeTooltipIndex,K=N.state,ne=K.offset,$=K.tooltipTicks;if(!ne)return;if(typeof L=="function")J=L($,A);else if(L==="value"){J=-1;for(var Z=0;Z<$.length;Z++)if($[Z].value===A.activeLabel){J=Z;break}}var B=ot(ot({},ne),{},{x:ne.left,y:ne.top}),ce=Math.min(W,B.x+B.width),fe=Math.min(q,B.y+B.height),Q=$[J]&&$[J].value,xe=TU(N.state,N.props.data,J),ke=$[J]?{x:k==="horizontal"?$[J].coordinate:ce,y:k==="horizontal"?fe:$[J].coordinate}:uhe;N.setState(ot(ot({},A),{},{activeLabel:Q,activeCoordinate:ke,activePayload:xe,activeTooltipIndex:J}))}else N.setState(A)}),Mn(N,"renderCursor",function(A){var M,k=N.state,L=k.isTooltipActive,O=k.activeCoordinate,I=k.activePayload,U=k.offset,W=k.activeTooltipIndex,q=k.tooltipAxisBandSize,J=N.getTooltipEventType(),K=(M=A.props.active)!==null&&M!==void 0?M:L,ne=N.props.layout,$=A.key||"_recharts-cursor";return ae.createElement(Qft,{key:$,activeCoordinate:O,activePayload:I,activeTooltipIndex:W,chartName:n,element:A,isActive:K,layout:ne,offset:U,tooltipAxisBandSize:q,tooltipEventType:J})}),Mn(N,"renderPolarAxis",function(A,M,k){var L=Ac(A,"type.axisType"),O=Ac(N.state,"".concat(L,"Map")),I=A.type.defaultProps,U=I!==void 0?ot(ot({},I),A.props):A.props,W=O&&O[U["".concat(L,"Id")]];return C.cloneElement(A,ot(ot({},W),{},{className:vr(L,W.className),key:A.key||"".concat(M,"-").concat(k),ticks:Mh(W,!0)}))}),Mn(N,"renderPolarGrid",function(A){var M=A.props,k=M.radialLines,L=M.polarAngles,O=M.polarRadius,I=N.state,U=I.radiusAxisMap,W=I.angleAxisMap,q=fp(U),J=fp(W),K=J.cx,ne=J.cy,$=J.innerRadius,Z=J.outerRadius;return C.cloneElement(A,{polarAngles:Array.isArray(L)?L:Mh(J,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(O)?O:Mh(q,!0).map(function(B){return B.coordinate}),cx:K,cy:ne,innerRadius:$,outerRadius:Z,key:A.key||"polar-grid",radialLines:k})}),Mn(N,"renderLegend",function(){var A=N.state.formattedGraphicalItems,M=N.props,k=M.children,L=M.width,O=M.height,I=N.props.margin||{},U=L-(I.left||0)-(I.right||0),W=Jue({children:k,formattedGraphicalItems:A,legendWidth:U,legendContent:u});if(!W)return null;var q=W.item,J=OK(W,Jft);return C.cloneElement(q,ot(ot({},J),{},{chartWidth:L,chartHeight:O,margin:I,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Mn(N,"renderTooltip",function(){var A,M=N.props,k=M.children,L=M.accessibilityLayer,O=Al(k,id);if(!O)return null;var I=N.state,U=I.isTooltipActive,W=I.activeCoordinate,q=I.activePayload,J=I.activeLabel,K=I.offset,ne=(A=O.props.active)!==null&&A!==void 0?A:U;return C.cloneElement(O,{viewBox:ot(ot({},K),{},{x:K.left,y:K.top}),active:ne,label:J,payload:ne?q:[],coordinate:W,accessibilityLayer:L})}),Mn(N,"renderBrush",function(A){var M=N.props,k=M.margin,L=M.data,O=N.state,I=O.offset,U=O.dataStartIndex,W=O.dataEndIndex,q=O.updateId;return C.cloneElement(A,{key:A.key||"_recharts-brush",onChange:VT(N.handleBrushChange,A.props.onChange),data:L,x:Ct(A.props.x)?A.props.x:I.left,y:Ct(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(k.bottom||0),width:Ct(A.props.width)?A.props.width:I.width,startIndex:U,endIndex:W,updateId:"brush-".concat(q)})}),Mn(N,"renderReferenceElement",function(A,M,k){if(!A)return null;var L=N,O=L.clipPathId,I=N.state,U=I.xAxisMap,W=I.yAxisMap,q=I.offset,J=A.type.defaultProps||{},K=A.props,ne=K.xAxisId,$=ne===void 0?J.xAxisId:ne,Z=K.yAxisId,B=Z===void 0?J.yAxisId:Z;return C.cloneElement(A,{key:A.key||"".concat(M,"-").concat(k),xAxis:U[$],yAxis:W[B],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:O})}),Mn(N,"renderActivePoints",function(A){var M=A.item,k=A.activePoint,L=A.basePoint,O=A.childIndex,I=A.isRange,U=[],W=M.props.key,q=M.item.type.defaultProps!==void 0?ot(ot({},M.item.type.defaultProps),M.item.props):M.item.props,J=q.activeDot,K=q.dataKey,ne=ot(ot({index:O,dataKey:K,cx:k.x,cy:k.y,r:4,fill:J6(M.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},lr(J,!1)),d2(J));return U.push(v.renderActiveDot(J,ne,"".concat(W,"-activePoint-").concat(O))),L?U.push(v.renderActiveDot(J,ot(ot({},ne),{},{cx:L.x,cy:L.y}),"".concat(W,"-basePoint-").concat(O))):I&&U.push(null),U}),Mn(N,"renderGraphicChild",function(A,M,k){var L=N.filterFormatItem(A,M,k);if(!L)return null;var O=N.getTooltipEventType(),I=N.state,U=I.isTooltipActive,W=I.tooltipAxis,q=I.activeTooltipIndex,J=I.activeLabel,K=N.props.children,ne=Al(K,id),$=L.props,Z=$.points,B=$.isRange,ce=$.baseLine,fe=L.item.type.defaultProps!==void 0?ot(ot({},L.item.type.defaultProps),L.item.props):L.item.props,Q=fe.activeDot,xe=fe.hide,ke=fe.activeBar,Re=fe.activeShape,Ce=!!(!xe&&U&&ne&&(Q||ke||Re)),tt={};O!=="axis"&&ne&&ne.props.trigger==="click"?tt={onClick:VT(N.handleItemMouseEnter,A.props.onClick)}:O!=="axis"&&(tt={onMouseLeave:VT(N.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:VT(N.handleItemMouseEnter,A.props.onMouseEnter)});var Fe=C.cloneElement(A,ot(ot({},L.props),tt));function Ve(oe){return typeof W.dataKey=="function"?W.dataKey(oe.payload):null}if(Ce)if(q>=0){var Ue,he;if(W.dataKey&&!W.allowDuplicatedCategory){var te=typeof W.dataKey=="function"?Ve:"payload.".concat(W.dataKey.toString());Ue=u2(Z,te,J),he=B&&ce&&u2(ce,te,J)}else Ue=Z==null?void 0:Z[q],he=B&&ce&&ce[q];if(Re||ke){var ze=A.props.activeIndex!==void 0?A.props.activeIndex:q;return[C.cloneElement(A,ot(ot(ot({},L.props),tt),{},{activeIndex:ze})),null,null]}if(!mr(Ue))return[Fe].concat(Vb(N.renderActivePoints({item:L,activePoint:Ue,basePoint:he,childIndex:q,isRange:B})))}else{var nt,Je=(nt=N.getItemByXY(N.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:Fe},rt=Je.graphicalItem,Pt=rt.item,bt=Pt===void 0?A:Pt,H=rt.childIndex,z=ot(ot(ot({},L.props),tt),{},{activeIndex:H});return[C.cloneElement(bt,z),null,null]}return B?[Fe,null,null]:[Fe,null]}),Mn(N,"renderCustomized",function(A,M,k){return C.cloneElement(A,ot(ot({key:"recharts-customized-".concat(k)},N.props),N.state))}),Mn(N,"renderMap",{CartesianGrid:{handler:XT,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:XT},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:XT},YAxis:{handler:XT},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:xw("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=Qce(N.triggeredAfterMouseMove,(j=_.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return dpt(v,b),opt(v,[{key:"componentDidMount",value:function(){var S,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,j=S.children,N=S.data,A=S.height,M=S.layout,k=Al(j,id);if(k){var L=k.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,I=TU(this.state,N,L,O),U=this.state.tooltipTicks[L].coordinate,W=(this.state.offset.top+A)/2,q=M==="horizontal",J=q?{x:U,y:W}:{y:U,x:W},K=this.state.formattedGraphicalItems.find(function($){var Z=$.item;return Z.type.name==="Scatter"});K&&(J=ot(ot({},J),K.props.points[L].tooltipPosition),I=K.props.points[L].tooltipPayload);var ne={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:J};this.setState(ne),this.renderCursor(k),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var N,A;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){aF([Al(S.children,id)],[Al(this.props.children,id)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Al(this.props.children,id);if(S&&typeof S.props.shared=="boolean"){var j=S.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),A=ett(N),M={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},k=N.width/j.offsetWidth||1,L=this.inRange(M.chartX,M.chartY,k);if(!L)return null;var O=this.state,I=O.xAxisMap,U=O.yAxisMap,W=this.getTooltipEventType(),q=IK(this.state,this.props.data,this.props.layout,L);if(W!=="axis"&&I&&U){var J=fp(I).scale,K=fp(U).scale,ne=J&&J.invert?J.invert(M.chartX):null,$=K&&K.invert?K.invert(M.chartY):null;return ot(ot({},M),{},{xValue:ne,yValue:$},q)}return q?ot(ot({},M),q):null}},{key:"inRange",value:function(S,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,M=S/N,k=j/N;if(A==="horizontal"||A==="vertical"){var L=this.state.offset,O=M>=L.left&&M<=L.left+L.width&&k>=L.top&&k<=L.top+L.height;return O?{x:M,y:k}:null}var I=this.state,U=I.angleAxisMap,W=I.radiusAxisMap;if(U&&W){var q=fp(U);return pX({x:M,y:k},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,j=this.getTooltipEventType(),N=Al(S,id),A={};N&&j==="axis"&&(N.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=d2(this.props,this.handleOuterEvent);return ot(ot({},M),A)}},{key:"addListener",value:function(){h3.on(f3,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){h3.removeListener(f3,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,j,N){for(var A=this.state.formattedGraphicalItems,M=0,k=A.length;M<k;M++){var L=A[M];if(L.item===S||L.props.key===S.key||j===kh(L.item.type)&&N===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,j=this.state.offset,N=j.left,A=j.top,M=j.height,k=j.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:S},ae.createElement("rect",{x:N,y:A,height:M,width:k})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(j,N){var A=kK(N,2),M=A[0],k=A[1];return ot(ot({},j),{},Mn({},M,k.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(j,N){var A=kK(N,2),M=A[0],k=A[1];return ot(ot({},j),{},Mn({},M,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[S])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(S){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[S])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(S){var j=this.state,N=j.formattedGraphicalItems,A=j.activeItem;if(N&&N.length)for(var M=0,k=N.length;M<k;M++){var L=N[M],O=L.props,I=L.item,U=I.type.defaultProps!==void 0?ot(ot({},I.type.defaultProps),I.props):I.props,W=kh(I.type);if(W==="Bar"){var q=(O.data||[]).find(function($){return klt(S,$)});if(q)return{graphicalItem:L,payload:q}}else if(W==="RadialBar"){var J=(O.data||[]).find(function($){return pX(S,$)});if(J)return{graphicalItem:L,payload:J}}else if(EO(L,A)||jO(L,A)||BE(L,A)){var K=Ict({graphicalItem:L,activeTooltipItem:A,itemData:U.data}),ne=U.activeIndex===void 0?K:U.activeIndex;return{graphicalItem:ot(ot({},L),{},{childIndex:ne}),payload:BE(L,A)?U.data[K]:L.props.data[K]}}}return null}},{key:"render",value:function(){var S=this;if(!sq(this))return null;var j=this.props,N=j.children,A=j.className,M=j.width,k=j.height,L=j.style,O=j.compact,I=j.title,U=j.desc,W=OK(j,ept),q=lr(W,!1);if(O)return ae.createElement(hK,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(lF,f0({},q,{width:M,height:k,title:I,desc:U}),this.renderClipPath(),oq(N,this.renderMap)));if(this.props.accessibilityLayer){var J,K;q.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,q.role=(K=this.props.role)!==null&&K!==void 0?K:"application",q.onKeyDown=function($){S.accessibilityManager.keyboardEvent($)},q.onFocus=function(){S.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return ae.createElement(hK,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",f0({className:vr("recharts-wrapper",A),style:ot({position:"relative",cursor:"default",width:M,height:k},L)},ne,{ref:function(Z){S.container=Z}}),ae.createElement(lF,f0({},q,{width:M,height:k,title:I,desc:U,style:ypt}),this.renderClipPath(),oq(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);Mn(m,"displayName",n),Mn(m,"defaultProps",ot({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Mn(m,"getDerivedStateFromProps",function(b,v){var _=b.dataKey,S=b.data,j=b.children,N=b.width,A=b.height,M=b.layout,k=b.stackOffset,L=b.margin,O=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var U=LK(b);return ot(ot(ot({},U),{},{updateId:0},p(ot(ot({props:b},U),{},{updateId:0}),v)),{},{prevDataKey:_,prevData:S,prevWidth:N,prevHeight:A,prevLayout:M,prevStackOffset:k,prevMargin:L,prevChildren:j})}if(_!==v.prevDataKey||S!==v.prevData||N!==v.prevWidth||A!==v.prevHeight||M!==v.prevLayout||k!==v.prevStackOffset||!k0(L,v.prevMargin)){var W=LK(b),q={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},J=ot(ot({},IK(v,S,M)),{},{updateId:v.updateId+1}),K=ot(ot(ot({},W),q),J);return ot(ot(ot({},K),p(ot({props:b},K),v)),{},{prevDataKey:_,prevData:S,prevWidth:N,prevHeight:A,prevLayout:M,prevStackOffset:k,prevMargin:L,prevChildren:j})}if(!aF(j,v.prevChildren)){var ne,$,Z,B,ce=Al(j,Ob),fe=ce&&(ne=($=ce.props)===null||$===void 0?void 0:$.startIndex)!==null&&ne!==void 0?ne:O,Q=ce&&(Z=(B=ce.props)===null||B===void 0?void 0:B.endIndex)!==null&&Z!==void 0?Z:I,xe=fe!==O||Q!==I,ke=!mr(S),Re=ke&&!xe?v.updateId:v.updateId+1;return ot(ot({updateId:Re},p(ot(ot({props:b},v),{},{updateId:Re,dataStartIndex:fe,dataEndIndex:Q}),v)),{},{prevChildren:j,dataStartIndex:fe,dataEndIndex:Q})}return null}),Mn(m,"renderActiveDot",function(b,v,_){var S;return C.isValidElement(b)?S=C.cloneElement(b,v):tr(b)?S=b(v):S=ae.createElement(SO,v),ae.createElement(_i,{className:"recharts-active-dot",key:_},S)});var y=C.forwardRef(function(v,_){return ae.createElement(m,f0({},v,{ref:_}))});return y.displayName=m.displayName,y},Npt=d$({chartName:"LineChart",GraphicalChild:Vj,axisComponents:[{axisType:"xAxis",AxisComp:Nw},{axisType:"yAxis",AxisComp:Tw}],formatAxisMap:t$}),Tpt=d$({chartName:"BarChart",GraphicalChild:xv,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Nw},{axisType:"yAxis",AxisComp:Tw}],formatAxisMap:t$}),Mpt=d$({chartName:"AreaChart",GraphicalChild:Cm,axisComponents:[{axisType:"xAxis",AxisComp:Nw},{axisType:"yAxis",AxisComp:Tw}],formatAxisMap:t$});function Cpt({title:t,description:e,data:n,series:r,type:i="line",height:s=300,showLegend:o=!0,yAxisLabel:l}){const c=()=>{const u={data:n,margin:{top:5,right:20,left:0,bottom:5}},d=a.jsxs(a.Fragment,{children:[a.jsx(Wde,{strokeDasharray:"3 3",className:"stroke-muted"}),a.jsx(Nw,{dataKey:"name",tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(Tw,{tick:{fontSize:12},tickLine:!1,axisLine:!1,label:l?{value:l,angle:-90,position:"insideLeft"}:void 0}),a.jsx(id,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),o&&a.jsx(My,{})]});switch(i){case"area":return a.jsxs(Mpt,{...u,children:[d,r.map(h=>a.jsx(Cm,{type:"monotone",dataKey:h.dataKey,name:h.name,stroke:h.color,fill:h.color,fillOpacity:.2,strokeWidth:2},h.dataKey))]});case"bar":return a.jsxs(Tpt,{...u,children:[d,r.map(h=>a.jsx(xv,{dataKey:h.dataKey,name:h.name,fill:h.color,radius:[4,4,0,0]},h.dataKey))]});case"line":default:return a.jsxs(Npt,{...u,children:[d,r.map(h=>a.jsx(Vj,{type:"monotone",dataKey:h.dataKey,name:h.name,stroke:h.color,strokeWidth:2,dot:{r:4},activeDot:{r:6}},h.dataKey))]})}};return a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsx(hr,{children:t}),e&&a.jsx(qr,{children:e})]}),a.jsx(vn,{children:a.jsx(qet,{width:"100%",height:s,children:c()})})]})}const hhe=C.forwardRef(({className:t,...e},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:xt("w-full caption-bottom text-sm",t),...e})}));hhe.displayName="Table";const fhe=C.forwardRef(({className:t,...e},n)=>a.jsx("thead",{ref:n,className:xt("[&_tr]:border-b",t),...e}));fhe.displayName="TableHeader";const phe=C.forwardRef(({className:t,...e},n)=>a.jsx("tbody",{ref:n,className:xt("[&_tr:last-child]:border-0",t),...e}));phe.displayName="TableBody";const Ppt=C.forwardRef(({className:t,...e},n)=>a.jsx("tfoot",{ref:n,className:xt("border-t bg-gray-100/50 font-medium [&>tr]:last:border-b-0",t),...e}));Ppt.displayName="TableFooter";const jM=C.forwardRef(({className:t,...e},n)=>a.jsx("tr",{ref:n,className:xt("border-b transition-colors hover:bg-gray-100/50 data-[state=selected]:bg-gray-100",t),...e}));jM.displayName="TableRow";const Ug=C.forwardRef(({className:t,...e},n)=>a.jsx("th",{ref:n,className:xt("h-12 px-4 text-left align-middle font-medium text-gray-500 [&:has([role=checkbox])]:pr-0",t),...e}));Ug.displayName="TableHead";const np=C.forwardRef(({className:t,...e},n)=>a.jsx("td",{ref:n,className:xt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));np.displayName="TableCell";const kpt=C.forwardRef(({className:t,...e},n)=>a.jsx("caption",{ref:n,className:xt("mt-4 text-sm text-gray-500",t),...e}));kpt.displayName="TableCaption";function Opt({leads:t,onLeadClick:e}){const[n,r]=C.useState("created_at"),[i,s]=C.useState("desc"),o=h=>{n===h?s(i==="asc"?"desc":"asc"):(r(h),s("desc"))},l=[...t].sort((h,f)=>{let p=0;switch(n){case"created_at":p=new Date(h.created_at).getTime()-new Date(f.created_at).getTime();break;case"name":p=h.name.localeCompare(f.name);break;case"lead_type":p=h.lead_type.localeCompare(f.lead_type);break;case"status":p=h.status.localeCompare(f.status);break}return i==="asc"?p:-p}),c=({field:h})=>n!==h?null:i==="asc"?a.jsx(Y5,{className:"inline w-4 h-4 ml-1"}):a.jsx(RP,{className:"inline w-4 h-4 ml-1"}),u=h=>{switch(h){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"qualified":return"bg-green-100 text-green-800";case"converted":return"bg-purple-100 text-purple-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=h=>{switch(h){case"buyer":return"Buyer";case"seller":return"Seller";case"valuation":return"Valuation";case"contact":return"Contact";default:return h}};return a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsx(hr,{children:"Recent Leads"}),a.jsxs(qr,{children:["Your latest lead submissions (",t.length," total)"]})]}),a.jsx(vn,{children:a.jsx("div",{className:"rounded-md border",children:a.jsxs(hhe,{children:[a.jsx(fhe,{children:a.jsxs(jM,{children:[a.jsx(Ug,{children:a.jsxs(He,{variant:"ghost",size:"sm",onClick:()=>o("name"),className:"hover:bg-transparent",children:[a.jsx(Hh,{className:"w-4 h-4 mr-2"}),"Name",a.jsx(c,{field:"name"})]})}),a.jsx(Ug,{children:"Contact"}),a.jsx(Ug,{children:a.jsxs(He,{variant:"ghost",size:"sm",onClick:()=>o("lead_type"),className:"hover:bg-transparent",children:["Type",a.jsx(c,{field:"lead_type"})]})}),a.jsx(Ug,{children:a.jsxs(He,{variant:"ghost",size:"sm",onClick:()=>o("status"),className:"hover:bg-transparent",children:["Status",a.jsx(c,{field:"status"})]})}),a.jsx(Ug,{children:a.jsxs(He,{variant:"ghost",size:"sm",onClick:()=>o("created_at"),className:"hover:bg-transparent",children:["Date",a.jsx(c,{field:"created_at"})]})}),a.jsx(Ug,{className:"text-right",children:"Actions"})]})}),a.jsx(phe,{children:l.length===0?a.jsx(jM,{children:a.jsx(np,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No leads yet. They'll appear here when visitors submit forms."})}):l.map(h=>a.jsxs(jM,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>e==null?void 0:e(h),children:[a.jsx(np,{className:"font-medium",children:h.name}),a.jsx(np,{children:a.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[a.jsxs("a",{href:`mailto:${h.email}`,className:"flex items-center text-blue-600 hover:underline",onClick:f=>f.stopPropagation(),children:[a.jsx(Li,{className:"w-3 h-3 mr-1"}),h.email]}),h.phone&&a.jsxs("a",{href:`tel:${h.phone}`,className:"flex items-center text-blue-600 hover:underline",onClick:f=>f.stopPropagation(),children:[a.jsx(Ko,{className:"w-3 h-3 mr-1"}),h.phone]})]})}),a.jsx(np,{children:a.jsx(nn,{variant:"outline",children:d(h.lead_type)})}),a.jsx(np,{children:a.jsx(nn,{className:u(h.status),children:h.status})}),a.jsx(np,{className:"text-sm text-muted-foreground",children:Use(h.created_at)}),a.jsx(np,{className:"text-right",children:a.jsx(He,{variant:"ghost",size:"sm",onClick:f=>{f.stopPropagation(),e==null||e(h)},children:"View"})})]},h.id))})]})})})]})}function Rpt(){const[t,e]=C.useState("30d"),{stats:n,viewsData:r,leadsData:i,recentLeads:s,isLoading:o}=joe();return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Analytics"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-0.5 sm:mt-1",children:"Track your profile performance and lead generation metrics"})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs(He,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:[a.jsx(Eo,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"text-xs sm:text-sm",children:t==="7d"?"Last 7 days":t==="30d"?"Last 30 days":"Last 90 days"})]}),a.jsxs(He,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:[a.jsx(sj,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"text-xs sm:text-sm",children:"Export"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[a.jsx(IT,{title:"Total Views",value:n.totalViews.toLocaleString(),icon:Wa,iconColor:"text-blue-600",iconBgColor:"bg-blue-100"}),a.jsx(IT,{title:"Unique Visitors",value:n.uniqueVisitors.toLocaleString(),icon:Nu,iconColor:"text-green-600",iconBgColor:"bg-green-100"}),a.jsx(IT,{title:"Total Leads",value:n.totalLeads,icon:aEe,iconColor:"text-purple-600",iconBgColor:"bg-purple-100"}),a.jsx(IT,{title:"Conversion Rate",value:`${n.conversionRate}%`,icon:Qr,iconColor:"text-orange-600",iconBgColor:"bg-orange-100"})]}),a.jsx(Cpt,{title:"Profile Views",description:"Views and unique visitors over time",data:r.length>0?r:[{name:"No data",views:0,visitors:0}],series:[{dataKey:"views",name:"Total Views",color:"#3B82F6"},{dataKey:"visitors",name:"Unique Visitors",color:"#10B981"}],type:"area",height:window.innerWidth<640?200:300}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs(Qt,{children:[a.jsxs(dr,{className:"pb-3 sm:pb-4",children:[a.jsx(hr,{className:"text-base sm:text-lg",children:"Leads by Type"}),a.jsx(qr,{className:"text-xs sm:text-sm",children:"Distribution of lead inquiries"})]}),a.jsx(vn,{children:i.length>0?a.jsx("div",{className:"space-y-2 sm:space-y-3",children:i.map(l=>a.jsxs("div",{className:"flex items-center justify-between py-2 min-h-[44px]",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-primary flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium",children:l.name})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap",children:[l.value," leads"]}),a.jsxs("span",{className:"text-xs sm:text-sm font-semibold min-w-[35px] text-right",children:[n.totalLeads>0?(l.value/n.totalLeads*100).toFixed(0):0,"%"]})]})]},l.name))}):a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground text-center py-6 sm:py-8",children:"No leads yet"})})]}),a.jsxs(Qt,{children:[a.jsxs(dr,{className:"pb-3 sm:pb-4",children:[a.jsx(hr,{className:"text-base sm:text-lg",children:"Recent Activity"}),a.jsx(qr,{className:"text-xs sm:text-sm",children:"Latest profile interactions"})]}),a.jsx(vn,{children:a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground text-center py-6 sm:py-8",children:n.totalViews>0?`${n.totalViews} profile views`:"No activity yet"})})]})]}),a.jsx(Opt,{leads:s,onLeadClick:l=>console.log("Lead clicked:",l)})]})}function Ipt(){const{user:t}=ys(),e=el(),{data:n,isLoading:r}=Xr({queryKey:["settings",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{data:s,error:o}=await Ye.from("user_settings").select("*").eq("user_id",t.id).maybeSingle();if(o&&o.code!=="PGRST116")throw o;if(!s){const{data:l,error:c}=await Ye.from("user_settings").insert({user_id:t.id,email_leads:!0,sms_leads:!1,weekly_report:!0,marketing_emails:!1,show_listings:!0,show_sold_properties:!0,show_testimonials:!0,show_social_proof:!0,show_contact_buttons:!0}).select().single();if(c)throw c;return l}return s},enabled:!!(t!=null&&t.id)}),i=zn({mutationFn:async s=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{data:o,error:l}=await Ye.from("user_settings").update(s).eq("user_id",t.id).select().single();if(l)throw l;return o},onSuccess:()=>{e.invalidateQueries({queryKey:["settings",t==null?void 0:t.id]})}});return{settings:n,isLoading:r,updateSettings:i}}const Lpt=["damn","hell","crap","shit","fuck","ass","bitch","bastard","dick","cock","pussy","slut","whore","fag","nigger","chink"],Dpt=["admin","administrator","root","support","help","api","www","mail","smtp","ftp","blog","dev","test","staging","prod","dashboard","settings","profile","login","logout","signup","register","auth","pricing","about","contact","terms","privacy","agentbio","agent","bio","realtor","realestate"],Fpt=t=>{const e=t.toLowerCase();return Lpt.some(n=>e.includes(n))},Upt=t=>Dpt.includes(t.toLowerCase()),Bpt=or().min(3,"Username must be at least 3 characters").max(30,"Username must be less than 30 characters").regex(/^[a-zA-Z0-9_-]+$/,"Username can only contain letters, numbers, hyphens, and underscores").refine(t=>!Fpt(t),"Username contains inappropriate language").refine(t=>!Upt(t),"This username is reserved"),zpt=t=>{try{return Bpt.parse(t),{valid:!0}}catch(e){return e instanceof Pd?{valid:!1,error:e.errors[0].message}:{valid:!1,error:"Invalid username"}}};var dP={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */dP.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",h=1,f=2,p=4,m=1,y=2,b=1,v=2,_=4,S=8,j=16,N=32,A=64,M=128,k=256,L=512,O=30,I="...",U=800,W=16,q=1,J=2,K=3,ne=1/0,$=9007199254740991,Z=17976931348623157e292,B=NaN,ce=4294967295,fe=ce-1,Q=ce>>>1,xe=[["ary",M],["bind",b],["bindKey",v],["curry",S],["curryRight",j],["flip",L],["partial",N],["partialRight",A],["rearg",k]],ke="[object Arguments]",Re="[object Array]",Ce="[object AsyncFunction]",tt="[object Boolean]",Fe="[object Date]",Ve="[object DOMException]",Ue="[object Error]",he="[object Function]",te="[object GeneratorFunction]",ze="[object Map]",nt="[object Number]",Je="[object Null]",rt="[object Object]",Pt="[object Promise]",bt="[object Proxy]",H="[object RegExp]",z="[object Set]",oe="[object String]",je="[object Symbol]",Ne="[object Undefined]",we="[object WeakMap]",me="[object WeakSet]",Ae="[object ArrayBuffer]",$e="[object DataView]",_t="[object Float32Array]",Ze="[object Float64Array]",wt="[object Int8Array]",qt="[object Int16Array]",Rt="[object Int32Array]",gt="[object Uint8Array]",fn="[object Uint8ClampedArray]",ge="[object Uint16Array]",Qe="[object Uint32Array]",ue=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,st=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,kt=RegExp(st.source),Un=RegExp(Tt.source),Ot=/<%-([\s\S]+?)%>/g,hn=/<%([\s\S]+?)%>/g,Vt=/<%=([\s\S]+?)%>/g,pr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ar=/^\w*$/,Xi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ks=/[\\^$.*+?()[\]{}|]/g,Si=RegExp(Ks.source),Pi=/^\s+/,Lu=/\s/,ql=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zs=/\{\n\/\* \[wrapped with (.+)\] \*/,Xn=/,? & /,Fc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,of=/[()=,{}\[\]\/\s]/,Y=/\\(\\)?/g,re=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ee=/\w*$/,qe=/^[-+]0x[0-9a-f]+$/i,G=/^0b[01]+$/i,se=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,pe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,De=/($^)/,We=/['\n\r\u2028\u2029\\]/g,Ge="\\ud800-\\udfff",At="\\u0300-\\u036f",ft="\\ufe20-\\ufe2f",mt="\\u20d0-\\u20ff",yt=At+ft+mt,Dt="\\u2700-\\u27bf",en="a-z\\xdf-\\xf6\\xf8-\\xff",cn="\\xac\\xb1\\xd7\\xf7",rn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ft="\\u2000-\\u206f",St=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pn="A-Z\\xc0-\\xd6\\xd8-\\xde",Bt="\\ufe0e\\ufe0f",nr=cn+rn+Ft+St,si="[']",br="["+Ge+"]",ki="["+nr+"]",pn="["+yt+"]",Fr="\\d+",_r="["+Dt+"]",kn="["+en+"]",Ur="[^"+Ge+nr+Fr+Dt+en+Pn+"]",Za="\\ud83c[\\udffb-\\udfff]",vs="(?:"+pn+"|"+Za+")",il="[^"+Ge+"]",lf="(?:\\ud83c[\\udde6-\\uddff]){2}",cf="[\\ud800-\\udbff][\\udc00-\\udfff]",Yl="["+Pn+"]",Pm="\\u200d",Wj="(?:"+kn+"|"+Ur+")",OO="(?:"+Yl+"|"+Ur+")",wv="(?:"+si+"(?:d|ll|m|re|s|t|ve))?",_v="(?:"+si+"(?:D|LL|M|RE|S|T|VE))?",uf=vs+"?",Gj="["+Bt+"]?",Mw="(?:"+Pm+"(?:"+[il,lf,cf].join("|")+")"+Gj+uf+")*",Nr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qj="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Sv=Gj+uf+Mw,Yj="(?:"+[_r,lf,cf].join("|")+")"+Sv,RO="(?:"+[il+pn+"?",pn,lf,cf,br].join("|")+")",IO=RegExp(si,"g"),xs=RegExp(pn,"g"),km=RegExp(Za+"(?="+Za+")|"+RO+Sv,"g"),LO=RegExp([Yl+"?"+kn+"+"+wv+"(?="+[ki,Yl,"$"].join("|")+")",OO+"+"+_v+"(?="+[ki,Yl+Wj,"$"].join("|")+")",Yl+"?"+Wj+"+"+wv,Yl+"+"+_v,qj,Nr,Fr,Yj].join("|"),"g"),Cw=RegExp("["+Pm+Ge+yt+Bt+"]"),DO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ev=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xl=-1,ai={};ai[_t]=ai[Ze]=ai[wt]=ai[qt]=ai[Rt]=ai[gt]=ai[fn]=ai[ge]=ai[Qe]=!0,ai[ke]=ai[Re]=ai[Ae]=ai[tt]=ai[$e]=ai[Fe]=ai[Ue]=ai[he]=ai[ze]=ai[nt]=ai[rt]=ai[H]=ai[z]=ai[oe]=ai[we]=!1;var ni={};ni[ke]=ni[Re]=ni[Ae]=ni[$e]=ni[tt]=ni[Fe]=ni[_t]=ni[Ze]=ni[wt]=ni[qt]=ni[Rt]=ni[ze]=ni[nt]=ni[rt]=ni[H]=ni[z]=ni[oe]=ni[je]=ni[gt]=ni[fn]=ni[ge]=ni[Qe]=!0,ni[Ue]=ni[he]=ni[we]=!1;var Kl={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Uc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Pw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xj=parseFloat,FO=parseInt,sl=typeof Ml=="object"&&Ml&&Ml.Object===Object&&Ml,UO=typeof self=="object"&&self&&self.Object===Object&&self,Ki=sl||UO||Function("return this")(),kw=e&&!e.nodeType&&e,Rs=kw&&!0&&t&&!t.nodeType&&t,Om=Rs&&Rs.exports===kw,df=Om&&sl.process,Is=function(){try{var Me=Rs&&Rs.require&&Rs.require("util").types;return Me||df&&df.binding&&df.binding("util")}catch{}}(),Av=Is&&Is.isArrayBuffer,Nv=Is&&Is.isDate,Ow=Is&&Is.isMap,Tv=Is&&Is.isRegExp,Mv=Is&&Is.isSet,$d=Is&&Is.isTypedArray;function hi(Me,it,Xe){switch(Xe.length){case 0:return Me.call(it);case 1:return Me.call(it,Xe[0]);case 2:return Me.call(it,Xe[0],Xe[1]);case 3:return Me.call(it,Xe[0],Xe[1],Xe[2])}return Me.apply(it,Xe)}function Zl(Me,it,Xe,Ht){for(var Cn=-1,Vn=Me==null?0:Me.length;++Cn<Vn;){var fi=Me[Cn];it(Ht,fi,Xe(fi),Me)}return Ht}function as(Me,it){for(var Xe=-1,Ht=Me==null?0:Me.length;++Xe<Ht&&it(Me[Xe],Xe,Me)!==!1;);return Me}function Rw(Me,it){for(var Xe=Me==null?0:Me.length;Xe--&&it(Me[Xe],Xe,Me)!==!1;);return Me}function Iw(Me,it){for(var Xe=-1,Ht=Me==null?0:Me.length;++Xe<Ht;)if(!it(Me[Xe],Xe,Me))return!1;return!0}function Qs(Me,it){for(var Xe=-1,Ht=Me==null?0:Me.length,Cn=0,Vn=[];++Xe<Ht;){var fi=Me[Xe];it(fi,Xe,Me)&&(Vn[Cn++]=fi)}return Vn}function al(Me,it){var Xe=Me==null?0:Me.length;return!!Xe&&ll(Me,it,0)>-1}function hf(Me,it,Xe){for(var Ht=-1,Cn=Me==null?0:Me.length;++Ht<Cn;)if(Xe(it,Me[Ht]))return!0;return!1}function oi(Me,it){for(var Xe=-1,Ht=Me==null?0:Me.length,Cn=Array(Ht);++Xe<Ht;)Cn[Xe]=it(Me[Xe],Xe,Me);return Cn}function ol(Me,it){for(var Xe=-1,Ht=it.length,Cn=Me.length;++Xe<Ht;)Me[Cn+Xe]=it[Xe];return Me}function Cv(Me,it,Xe,Ht){var Cn=-1,Vn=Me==null?0:Me.length;for(Ht&&Vn&&(Xe=Me[++Cn]);++Cn<Vn;)Xe=it(Xe,Me[Cn],Cn,Me);return Xe}function Kj(Me,it,Xe,Ht){var Cn=Me==null?0:Me.length;for(Ht&&Cn&&(Xe=Me[--Cn]);Cn--;)Xe=it(Xe,Me[Cn],Cn,Me);return Xe}function Rm(Me,it){for(var Xe=-1,Ht=Me==null?0:Me.length;++Xe<Ht;)if(it(Me[Xe],Xe,Me))return!0;return!1}var Pv=Ma("length");function Zj(Me){return Me.split("")}function Qj(Me){return Me.match(Fc)||[]}function Lw(Me,it,Xe){var Ht;return Xe(Me,function(Cn,Vn,fi){if(it(Cn,Vn,fi))return Ht=Vn,!1}),Ht}function ff(Me,it,Xe,Ht){for(var Cn=Me.length,Vn=Xe+(Ht?1:-1);Ht?Vn--:++Vn<Cn;)if(it(Me[Vn],Vn,Me))return Vn;return-1}function ll(Me,it,Xe){return it===it?vf(Me,it,Xe):ff(Me,Im,Xe)}function pf(Me,it,Xe,Ht){for(var Cn=Xe-1,Vn=Me.length;++Cn<Vn;)if(Ht(Me[Cn],it))return Cn;return-1}function Im(Me){return Me!==Me}function Lm(Me,it){var Xe=Me==null?0:Me.length;return Xe?cl(Me,it)/Xe:B}function Ma(Me){return function(it){return it==null?n:it[Me]}}function Ca(Me){return function(it){return Me==null?n:Me[it]}}function Du(Me,it,Xe,Ht,Cn){return Cn(Me,function(Vn,fi,An){Xe=Ht?(Ht=!1,Vn):it(Xe,Vn,fi,An)}),Xe}function Bc(Me,it){var Xe=Me.length;for(Me.sort(it);Xe--;)Me[Xe]=Me[Xe].value;return Me}function cl(Me,it){for(var Xe,Ht=-1,Cn=Me.length;++Ht<Cn;){var Vn=it(Me[Ht]);Vn!==n&&(Xe=Xe===n?Vn:Xe+Vn)}return Xe}function zc(Me,it){for(var Xe=-1,Ht=Array(Me);++Xe<Me;)Ht[Xe]=it(Xe);return Ht}function Jj(Me,it){return oi(it,function(Xe){return[Xe,Me[Xe]]})}function kv(Me){return Me&&Me.slice(0,xf(Me)+1).replace(Pi,"")}function va(Me){return function(it){return Me(it)}}function xa(Me,it){return oi(it,function(Xe){return Me[Xe]})}function Ls(Me,it){return Me.has(it)}function li(Me,it){for(var Xe=-1,Ht=Me.length;++Xe<Ht&&ll(it,Me[Xe],0)>-1;);return Xe}function mf(Me,it){for(var Xe=Me.length;Xe--&&ll(it,Me[Xe],0)>-1;);return Xe}function ul(Me,it){for(var Xe=Me.length,Ht=0;Xe--;)Me[Xe]===it&&++Ht;return Ht}var eA=Ca(Kl),tA=Ca(Uc);function Dw(Me){return"\\"+Pw[Me]}function Fw(Me,it){return Me==null?n:Me[it]}function Hd(Me){return Cw.test(Me)}function Dm(Me){return DO.test(Me)}function gf(Me){for(var it,Xe=[];!(it=Me.next()).done;)Xe.push(it.value);return Xe}function Fm(Me){var it=-1,Xe=Array(Me.size);return Me.forEach(function(Ht,Cn){Xe[++it]=[Cn,Ht]}),Xe}function yf(Me,it){return function(Xe){return Me(it(Xe))}}function dl(Me,it){for(var Xe=-1,Ht=Me.length,Cn=0,Vn=[];++Xe<Ht;){var fi=Me[Xe];(fi===it||fi===d)&&(Me[Xe]=d,Vn[Cn++]=Xe)}return Vn}function Um(Me){var it=-1,Xe=Array(Me.size);return Me.forEach(function(Ht){Xe[++it]=Ht}),Xe}function nA(Me){var it=-1,Xe=Array(Me.size);return Me.forEach(function(Ht){Xe[++it]=[Ht,Ht]}),Xe}function vf(Me,it,Xe){for(var Ht=Xe-1,Cn=Me.length;++Ht<Cn;)if(Me[Ht]===it)return Ht;return-1}function rA(Me,it,Xe){for(var Ht=Xe+1;Ht--;)if(Me[Ht]===it)return Ht;return Ht}function Ql(Me){return Hd(Me)?Jl(Me):Pv(Me)}function Oi(Me){return Hd(Me)?Uw(Me):Zj(Me)}function xf(Me){for(var it=Me.length;it--&&Lu.test(Me.charAt(it)););return it}var bf=Ca(jv);function Jl(Me){for(var it=km.lastIndex=0;km.test(Me);)++it;return it}function Uw(Me){return Me.match(km)||[]}function wf(Me){return Me.match(LO)||[]}var iA=function Me(it){it=it==null?Ki:Fu.defaults(Ki.Object(),it,Fu.pick(Ki,Ev));var Xe=it.Array,Ht=it.Date,Cn=it.Error,Vn=it.Function,fi=it.Math,An=it.Object,bs=it.RegExp,ws=it.String,ba=it.TypeError,Uu=Xe.prototype,Bm=Vn.prototype,_f=An.prototype,os=it["__core-js_shared__"],Sf=Bm.toString,Tr=_f.hasOwnProperty,Bw=0,ec=function(){var g=/[^.]+$/.exec(os&&os.keys&&os.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),Qa=_f.toString,Vd=Sf.call(An),Ov=Ki._,Rv=bs("^"+Sf.call(Tr).replace(Ks,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zm=Om?it.Buffer:n,$c=it.Symbol,$m=it.Uint8Array,zw=zm?zm.allocUnsafe:n,Hm=yf(An.getPrototypeOf,An),$w=An.create,Iv=_f.propertyIsEnumerable,Bu=Uu.splice,Hw=$c?$c.isConcatSpreadable:n,zu=$c?$c.iterator:n,tc=$c?$c.toStringTag:n,Ef=function(){try{var g=lg(An,"defineProperty");return g({},"",{}),g}catch{}}(),Vm=it.clearTimeout!==Ki.clearTimeout&&it.clearTimeout,sA=Ht&&Ht.now!==Ki.Date.now&&Ht.now,aA=it.setTimeout!==Ki.setTimeout&&it.setTimeout,Wm=fi.ceil,Gm=fi.floor,qm=An.getOwnPropertySymbols,oA=zm?zm.isBuffer:n,Vw=it.isFinite,BO=Uu.join,lA=yf(An.keys,An),ls=fi.max,Js=fi.min,cA=Ht.now,uA=it.parseInt,Ww=fi.random,dA=Uu.reverse,jf=lg(it,"DataView"),Ym=lg(it,"Map"),Gw=lg(it,"Promise"),Af=lg(it,"Set"),Wd=lg(it,"WeakMap"),Gd=lg(An,"create"),Lv=Wd&&new Wd,qd={},hA=cg(jf),fA=cg(Ym),pA=cg(Gw),mA=cg(Af),nc=cg(Wd),Xm=$c?$c.prototype:n,Hc=Xm?Xm.valueOf:n,Nf=Xm?Xm.toString:n;function ee(g){if(es(g)&&!qn(g)&&!(g instanceof wn)){if(g instanceof ea)return g;if(Tr.call(g,"__wrapped__"))return N$(g)}return new ea(g)}var Vc=function(){function g(){}return function(E){if(!Bi(E))return{};if($w)return $w(E);g.prototype=E;var P=new g;return g.prototype=n,P}}();function Km(){}function ea(g,E){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=n}ee.templateSettings={escape:Ot,evaluate:hn,interpolate:Vt,variable:"",imports:{_:ee}},ee.prototype=Km.prototype,ee.prototype.constructor=ee,ea.prototype=Vc(Km.prototype),ea.prototype.constructor=ea;function wn(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function zO(){var g=new wn(this.__wrapped__);return g.__actions__=sa(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=sa(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=sa(this.__views__),g}function $O(){if(this.__filtered__){var g=new wn(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function Ja(){var g=this.__wrapped__.value(),E=this.__dir__,P=qn(g),F=E<0,X=P?g.length:0,ie=khe(0,X,this.__views__),ve=ie.start,Te=ie.end,Le=Te-ve,ut=F?Te:ve-1,ht=this.__iteratees__,vt=ht.length,Ut=0,un=Js(Le,this.__takeCount__);if(!P||!F&&X==Le&&un==Le)return qu(g,this.__actions__);var Nn=[];e:for(;Le--&&Ut<un;){ut+=E;for(var cr=-1,Tn=g[ut];++cr<vt;){var yr=ht[cr],Sr=yr.iteratee,vl=yr.type,ao=Sr(Tn);if(vl==J)Tn=ao;else if(!ao){if(vl==q)continue e;break e}}Nn[Ut++]=Tn}return Nn}wn.prototype=Vc(Km.prototype),wn.prototype.constructor=wn;function Di(g){var E=-1,P=g==null?0:g.length;for(this.clear();++E<P;){var F=g[E];this.set(F[0],F[1])}}function gA(){this.__data__=Gd?Gd(null):{},this.size=0}function yA(g){var E=this.has(g)&&delete this.__data__[g];return this.size-=E?1:0,E}function vA(g){var E=this.__data__;if(Gd){var P=E[g];return P===c?n:P}return Tr.call(E,g)?E[g]:n}function xA(g){var E=this.__data__;return Gd?E[g]!==n:Tr.call(E,g)}function bA(g,E){var P=this.__data__;return this.size+=this.has(g)?0:1,P[g]=Gd&&E===n?c:E,this}Di.prototype.clear=gA,Di.prototype.delete=yA,Di.prototype.get=vA,Di.prototype.has=xA,Di.prototype.set=bA;function hl(g){var E=-1,P=g==null?0:g.length;for(this.clear();++E<P;){var F=g[E];this.set(F[0],F[1])}}function wA(){this.__data__=[],this.size=0}function qw(g){var E=this.__data__,P=Hu(E,g);if(P<0)return!1;var F=E.length-1;return P==F?E.pop():Bu.call(E,P,1),--this.size,!0}function _A(g){var E=this.__data__,P=Hu(E,g);return P<0?n:E[P][1]}function SA(g){return Hu(this.__data__,g)>-1}function Dv(g,E){var P=this.__data__,F=Hu(P,g);return F<0?(++this.size,P.push([g,E])):P[F][1]=E,this}hl.prototype.clear=wA,hl.prototype.delete=qw,hl.prototype.get=_A,hl.prototype.has=SA,hl.prototype.set=Dv;function No(g){var E=-1,P=g==null?0:g.length;for(this.clear();++E<P;){var F=g[E];this.set(F[0],F[1])}}function EA(){this.size=0,this.__data__={hash:new Di,map:new(Ym||hl),string:new Di}}function Yw(g){var E=zA(this,g).delete(g);return this.size-=E?1:0,E}function jA(g){return zA(this,g).get(g)}function AA(g){return zA(this,g).has(g)}function Fv(g,E){var P=zA(this,g),F=P.size;return P.set(g,E),this.size+=P.size==F?0:1,this}No.prototype.clear=EA,No.prototype.delete=Yw,No.prototype.get=jA,No.prototype.has=AA,No.prototype.set=Fv;function $u(g){var E=-1,P=g==null?0:g.length;for(this.__data__=new No;++E<P;)this.add(g[E])}function Xw(g){return this.__data__.set(g,c),this}function NA(g){return this.__data__.has(g)}$u.prototype.add=$u.prototype.push=Xw,$u.prototype.has=NA;function cs(g){var E=this.__data__=new hl(g);this.size=E.size}function HO(){this.__data__=new hl,this.size=0}function VO(g){var E=this.__data__,P=E.delete(g);return this.size=E.size,P}function Uv(g){return this.__data__.get(g)}function Yd(g){return this.__data__.has(g)}function WO(g,E){var P=this.__data__;if(P instanceof hl){var F=P.__data__;if(!Ym||F.length<i-1)return F.push([g,E]),this.size=++P.size,this;P=this.__data__=new No(F)}return P.set(g,E),this.size=P.size,this}cs.prototype.clear=HO,cs.prototype.delete=VO,cs.prototype.get=Uv,cs.prototype.has=Yd,cs.prototype.set=WO;function It(g,E){var P=qn(g),F=!P&&ug(g),X=!P&&!F&&Df(g),ie=!P&&!F&&!X&&nx(g),ve=P||F||X||ie,Te=ve?zc(g.length,ws):[],Le=Te.length;for(var ut in g)(E||Tr.call(g,ut))&&!(ve&&(ut=="length"||X&&(ut=="offset"||ut=="parent")||ie&&(ut=="buffer"||ut=="byteLength"||ut=="byteOffset")||eh(ut,Le)))&&Te.push(ut);return Te}function Zm(g){var E=g.length;return E?g[ic(0,E-1)]:n}function Kw(g,E){return $A(sa(g),Vu(E,0,g.length))}function TA(g){return $A(sa(g))}function Zw(g,E,P){(P!==n&&!qc(g[E],P)||P===n&&!(E in g))&&rc(g,E,P)}function fl(g,E,P){var F=g[E];(!(Tr.call(g,E)&&qc(F,P))||P===n&&!(E in g))&&rc(g,E,P)}function Hu(g,E){for(var P=g.length;P--;)if(qc(g[P][0],E))return P;return-1}function Qw(g,E,P,F){return pl(g,function(X,ie,ve){E(F,X,P(X),ve)}),F}function Jw(g,E){return g&&Co(E,oa(E),g)}function MA(g,E){return g&&Co(E,ko(E),g)}function rc(g,E,P){E=="__proto__"&&Ef?Ef(g,E,{configurable:!0,enumerable:!0,value:P,writable:!0}):g[E]=P}function Bv(g,E){for(var P=-1,F=E.length,X=Xe(F),ie=g==null;++P<F;)X[P]=ie?n:cR(g,E[P]);return X}function Vu(g,E,P){return g===g&&(P!==n&&(g=g<=P?g:P),E!==n&&(g=g>=E?g:E)),g}function eo(g,E,P,F,X,ie){var ve,Te=E&h,Le=E&f,ut=E&p;if(P&&(ve=X?P(g,F,X,ie):P(g)),ve!==n)return ve;if(!Bi(g))return g;var ht=qn(g);if(ht){if(ve=Rhe(g),!Te)return sa(g,ve)}else{var vt=Pa(g),Ut=vt==he||vt==te;if(Df(g))return f_(g,Te);if(vt==rt||vt==ke||Ut&&!X){if(ve=Le||Ut?{}:v$(g),!Te)return Le?UA(g,MA(ve,g)):XO(g,Jw(ve,g))}else{if(!ni[vt])return X?g:{};ve=Ihe(g,vt,Te)}}ie||(ie=new cs);var un=ie.get(g);if(un)return un;ie.set(g,ve),q$(g)?g.forEach(function(Tn){ve.add(eo(Tn,E,P,Tn,g,ie))}):W$(g)&&g.forEach(function(Tn,yr){ve.set(yr,eo(Tn,E,P,yr,g,ie))});var Nn=ut?Le?wr:Ji:Le?ko:oa,cr=ht?n:Nn(g);return as(cr||g,function(Tn,yr){cr&&(yr=Tn,Tn=g[yr]),fl(ve,yr,eo(Tn,E,P,yr,g,ie))}),ve}function e_(g){var E=oa(g);return function(P){return zv(P,g,E)}}function zv(g,E,P){var F=P.length;if(g==null)return!F;for(g=An(g);F--;){var X=P[F],ie=E[X],ve=g[X];if(ve===n&&!(X in g)||!ie(ve))return!1}return!0}function t_(g,E,P){if(typeof g!="function")throw new ba(o);return y_(function(){g.apply(n,P)},E)}function Xd(g,E,P,F){var X=-1,ie=al,ve=!0,Te=g.length,Le=[],ut=E.length;if(!Te)return Le;P&&(E=oi(E,va(P))),F?(ie=hf,ve=!1):E.length>=i&&(ie=Ls,ve=!1,E=new $u(E));e:for(;++X<Te;){var ht=g[X],vt=P==null?ht:P(ht);if(ht=F||ht!==0?ht:0,ve&&vt===vt){for(var Ut=ut;Ut--;)if(E[Ut]===vt)continue e;Le.push(ht)}else ie(E,vt,F)||Le.push(ht)}return Le}var pl=m_(to),CA=m_(Mf,!0);function GO(g,E){var P=!0;return pl(g,function(F,X,ie){return P=!!E(F,X,ie),P}),P}function Qm(g,E,P){for(var F=-1,X=g.length;++F<X;){var ie=g[F],ve=E(ie);if(ve!=null&&(Te===n?ve===ve&&!yl(ve):P(ve,Te)))var Te=ve,Le=ie}return Le}function PA(g,E,P,F){var X=g.length;for(P=rr(P),P<0&&(P=-P>X?0:X+P),F=F===n||F>X?X:rr(F),F<0&&(F+=X),F=P>F?0:X$(F);P<F;)g[P++]=E;return g}function n_(g,E){var P=[];return pl(g,function(F,X,ie){E(F,X,ie)&&P.push(F)}),P}function _s(g,E,P,F,X){var ie=-1,ve=g.length;for(P||(P=Dhe),X||(X=[]);++ie<ve;){var Te=g[ie];E>0&&P(Te)?E>1?_s(Te,E-1,P,F,X):ol(X,Te):F||(X[X.length]=Te)}return X}var Tf=Jv(),Jm=Jv(!0);function to(g,E){return g&&Tf(g,E,oa)}function Mf(g,E){return g&&Jm(g,E,oa)}function Kd(g,E){return Qs(E,function(P){return th(g[P])})}function ml(g,E){E=Xu(E,g);for(var P=0,F=E.length;g!=null&&P<F;)g=g[Qu(E[P++])];return P&&P==F?g:n}function $v(g,E,P){var F=E(g);return qn(g)?F:ol(F,P(g))}function Ds(g){return g==null?g===n?Ne:Je:tc&&tc in An(g)?Phe(g):Vhe(g)}function eg(g,E){return g>E}function kA(g,E){return g!=null&&Tr.call(g,E)}function r_(g,E){return g!=null&&E in An(g)}function qO(g,E,P){return g>=Js(E,P)&&g<ls(E,P)}function Cf(g,E,P){for(var F=P?hf:al,X=g[0].length,ie=g.length,ve=ie,Te=Xe(ie),Le=1/0,ut=[];ve--;){var ht=g[ve];ve&&E&&(ht=oi(ht,va(E))),Le=Js(ht.length,Le),Te[ve]=!P&&(E||X>=120&&ht.length>=120)?new $u(ve&&ht):n}ht=g[0];var vt=-1,Ut=Te[0];e:for(;++vt<X&&ut.length<Le;){var un=ht[vt],Nn=E?E(un):un;if(un=P||un!==0?un:0,!(Ut?Ls(Ut,Nn):F(ut,Nn,P))){for(ve=ie;--ve;){var cr=Te[ve];if(!(cr?Ls(cr,Nn):F(g[ve],Nn,P)))continue e}Ut&&Ut.push(Nn),ut.push(un)}}return ut}function i_(g,E,P,F){return to(g,function(X,ie,ve){E(F,P(X),ie,ve)}),F}function ci(g,E,P){E=Xu(E,g),g=_$(g,E);var F=g==null?g:g[Qu(oc(E))];return F==null?n:hi(F,g,P)}function Kn(g){return es(g)&&Ds(g)==ke}function Zi(g){return es(g)&&Ds(g)==Ae}function Qi(g){return es(g)&&Ds(g)==Fe}function Fi(g,E,P,F,X){return g===E?!0:g==null||E==null||!es(g)&&!es(E)?g!==g&&E!==E:no(g,E,P,F,Fi,X)}function no(g,E,P,F,X,ie){var ve=qn(g),Te=qn(E),Le=ve?Re:Pa(g),ut=Te?Re:Pa(E);Le=Le==ke?rt:Le,ut=ut==ke?rt:ut;var ht=Le==rt,vt=ut==rt,Ut=Le==ut;if(Ut&&Df(g)){if(!Df(E))return!1;ve=!0,ht=!1}if(Ut&&!ht)return ie||(ie=new cs),ve||nx(g)?an(g,E,P,F,X,ie):Zn(g,E,Le,P,F,X,ie);if(!(P&m)){var un=ht&&Tr.call(g,"__wrapped__"),Nn=vt&&Tr.call(E,"__wrapped__");if(un||Nn){var cr=un?g.value():g,Tn=Nn?E.value():E;return ie||(ie=new cs),X(cr,Tn,P,F,ie)}}return Ut?(ie||(ie=new cs),Bn(g,E,P,F,X,ie)):!1}function Pf(g){return es(g)&&Pa(g)==ze}function Ui(g,E,P,F){var X=P.length,ie=X,ve=!F;if(g==null)return!ie;for(g=An(g);X--;){var Te=P[X];if(ve&&Te[2]?Te[1]!==g[Te[0]]:!(Te[0]in g))return!1}for(;++X<ie;){Te=P[X];var Le=Te[0],ut=g[Le],ht=Te[1];if(ve&&Te[2]){if(ut===n&&!(Le in g))return!1}else{var vt=new cs;if(F)var Ut=F(ut,ht,Le,g,E,vt);if(!(Ut===n?Fi(ht,ut,m|y,F,vt):Ut))return!1}}return!0}function kf(g){if(!Bi(g)||Uhe(g))return!1;var E=th(g)?Rv:se;return E.test(cg(g))}function Of(g){return es(g)&&Ds(g)==H}function Hv(g){return es(g)&&Pa(g)==z}function s_(g){return es(g)&&YA(g.length)&&!!ai[Ds(g)]}function Rf(g){return typeof g=="function"?g:g==null?Oo:typeof g=="object"?qn(g)?Vv(g[0],g[1]):ng(g):a8(g)}function ta(g){if(!g_(g))return lA(g);var E=[];for(var P in An(g))Tr.call(g,P)&&P!="constructor"&&E.push(P);return E}function a_(g){if(!Bi(g))return Hhe(g);var E=g_(g),P=[];for(var F in g)F=="constructor"&&(E||!Tr.call(g,F))||P.push(F);return P}function tg(g,E){return g<E}function Zd(g,E){var P=-1,F=Po(g)?Xe(g.length):[];return pl(g,function(X,ie,ve){F[++P]=E(X,ie,ve)}),F}function ng(g){var E=ZO(g);return E.length==1&&E[0][2]?b$(E[0][0],E[0][1]):function(P){return P===g||Ui(P,g,E)}}function Vv(g,E){return JO(g)&&x$(E)?b$(Qu(g),E):function(P){var F=cR(P,g);return F===n&&F===E?uR(P,g):Fi(E,F,m|y)}}function gl(g,E,P,F,X){g!==E&&Tf(E,function(ie,ve){if(X||(X=new cs),Bi(ie))Wv(g,E,ve,P,gl,F,X);else{var Te=F?F(tR(g,ve),ie,ve+"",g,E,X):n;Te===n&&(Te=ie),Zw(g,ve,Te)}},ko)}function Wv(g,E,P,F,X,ie,ve){var Te=tR(g,P),Le=tR(E,P),ut=ve.get(Le);if(ut){Zw(g,P,ut);return}var ht=ie?ie(Te,Le,P+"",g,E,ve):n,vt=ht===n;if(vt){var Ut=qn(Le),un=!Ut&&Df(Le),Nn=!Ut&&!un&&nx(Le);ht=Le,Ut||un||Nn?qn(Te)?ht=Te:us(Te)?ht=sa(Te):un?(vt=!1,ht=f_(Le,!0)):Nn?(vt=!1,ht=FA(Le,!0)):ht=[]:v_(Le)||ug(Le)?(ht=Te,ug(Te)?ht=K$(Te):(!Bi(Te)||th(Te))&&(ht=v$(Le))):vt=!1}vt&&(ve.set(Le,ht),X(ht,Le,F,ie,ve),ve.delete(Le)),Zw(g,P,ht)}function Wc(g,E){var P=g.length;if(P)return E+=E<0?P:0,eh(E,P)?g[E]:n}function rg(g,E,P){E.length?E=oi(E,function(ie){return qn(ie)?function(ve){return ml(ve,ie.length===1?ie[0]:ie)}:ie}):E=[Oo];var F=-1;E=oi(E,va(jn()));var X=Zd(g,function(ie,ve,Te){var Le=oi(E,function(ut){return ut(ie)});return{criteria:Le,index:++F,value:ie}});return Bc(X,function(ie,ve){return Qv(ie,ve,P)})}function ig(g,E){return Gv(g,E,function(P,F){return uR(g,F)})}function Gv(g,E,P){for(var F=-1,X=E.length,ie={};++F<X;){var ve=E[F],Te=ml(g,ve);P(Te,ve)&&Qd(ie,Xu(ve,g),Te)}return ie}function qv(g){return function(E){return ml(E,g)}}function If(g,E,P,F){var X=F?pf:ll,ie=-1,ve=E.length,Te=g;for(g===E&&(E=sa(E)),P&&(Te=oi(g,va(P)));++ie<ve;)for(var Le=0,ut=E[ie],ht=P?P(ut):ut;(Le=X(Te,ht,Le,F))>-1;)Te!==g&&Bu.call(Te,Le,1),Bu.call(g,Le,1);return g}function na(g,E){for(var P=g?E.length:0,F=P-1;P--;){var X=E[P];if(P==F||X!==ie){var ie=X;eh(X)?Bu.call(g,X,1):u_(g,X)}}return g}function ic(g,E){return g+Gm(Ww()*(E-g+1))}function To(g,E,P,F){for(var X=-1,ie=ls(Wm((E-g)/(P||1)),0),ve=Xe(ie);ie--;)ve[F?ie:++X]=g,g+=P;return ve}function Lf(g,E){var P="";if(!g||E<1||E>$)return P;do E%2&&(P+=g),E=Gm(E/2),E&&(g+=g);while(E);return P}function bn(g,E){return nR(w$(g,E,Oo),g+"")}function OA(g){return Zm(rx(g))}function o_(g,E){var P=rx(g);return $A(P,Vu(E,0,P.length))}function Qd(g,E,P,F){if(!Bi(g))return g;E=Xu(E,g);for(var X=-1,ie=E.length,ve=ie-1,Te=g;Te!=null&&++X<ie;){var Le=Qu(E[X]),ut=P;if(Le==="__proto__"||Le==="constructor"||Le==="prototype")return g;if(X!=ve){var ht=Te[Le];ut=F?F(ht,Le,Te):n,ut===n&&(ut=Bi(ht)?ht:eh(E[X+1])?[]:{})}fl(Te,Le,ut),Te=Te[Le]}return g}var RA=Lv?function(g,E){return Lv.set(g,E),g}:Oo,Wu=Ef?function(g,E){return Ef(g,"toString",{configurable:!0,enumerable:!1,value:hR(E),writable:!0})}:Oo;function IA(g){return $A(rx(g))}function ro(g,E,P){var F=-1,X=g.length;E<0&&(E=-E>X?0:X+E),P=P>X?X:P,P<0&&(P+=X),X=E>P?0:P-E>>>0,E>>>=0;for(var ie=Xe(X);++F<X;)ie[F]=g[F+E];return ie}function l_(g,E){var P;return pl(g,function(F,X,ie){return P=E(F,X,ie),!P}),!!P}function sc(g,E,P){var F=0,X=g==null?F:g.length;if(typeof E=="number"&&E===E&&X<=Q){for(;F<X;){var ie=F+X>>>1,ve=g[ie];ve!==null&&!yl(ve)&&(P?ve<=E:ve<E)?F=ie+1:X=ie}return X}return Yv(g,E,Oo,P)}function Yv(g,E,P,F){var X=0,ie=g==null?0:g.length;if(ie===0)return 0;E=P(E);for(var ve=E!==E,Te=E===null,Le=yl(E),ut=E===n;X<ie;){var ht=Gm((X+ie)/2),vt=P(g[ht]),Ut=vt!==n,un=vt===null,Nn=vt===vt,cr=yl(vt);if(ve)var Tn=F||Nn;else ut?Tn=Nn&&(F||Ut):Te?Tn=Nn&&Ut&&(F||!un):Le?Tn=Nn&&Ut&&!un&&(F||!cr):un||cr?Tn=!1:Tn=F?vt<=E:vt<E;Tn?X=ht+1:ie=ht}return Js(ie,fe)}function c_(g,E){for(var P=-1,F=g.length,X=0,ie=[];++P<F;){var ve=g[P],Te=E?E(ve):ve;if(!P||!qc(Te,Le)){var Le=Te;ie[X++]=ve===0?0:ve}}return ie}function Xv(g){return typeof g=="number"?g:yl(g)?B:+g}function ra(g){if(typeof g=="string")return g;if(qn(g))return oi(g,ra)+"";if(yl(g))return Nf?Nf.call(g):"";var E=g+"";return E=="0"&&1/g==-ne?"-0":E}function Gu(g,E,P){var F=-1,X=al,ie=g.length,ve=!0,Te=[],Le=Te;if(P)ve=!1,X=hf;else if(ie>=i){var ut=E?null:aa(g);if(ut)return Um(ut);ve=!1,X=Ls,Le=new $u}else Le=E?[]:Te;e:for(;++F<ie;){var ht=g[F],vt=E?E(ht):ht;if(ht=P||ht!==0?ht:0,ve&&vt===vt){for(var Ut=Le.length;Ut--;)if(Le[Ut]===vt)continue e;E&&Le.push(vt),Te.push(ht)}else X(Le,vt,P)||(Le!==Te&&Le.push(vt),Te.push(ht))}return Te}function u_(g,E){return E=Xu(E,g),g=_$(g,E),g==null||delete g[Qu(oc(E))]}function d_(g,E,P,F){return Qd(g,E,P(ml(g,E)),F)}function sg(g,E,P,F){for(var X=g.length,ie=F?X:-1;(F?ie--:++ie<X)&&E(g[ie],ie,g););return P?ro(g,F?0:ie,F?ie+1:X):ro(g,F?ie+1:0,F?X:ie)}function qu(g,E){var P=g;return P instanceof wn&&(P=P.value()),Cv(E,function(F,X){return X.func.apply(X.thisArg,ol([F],X.args))},P)}function h_(g,E,P){var F=g.length;if(F<2)return F?Gu(g[0]):[];for(var X=-1,ie=Xe(F);++X<F;)for(var ve=g[X],Te=-1;++Te<F;)Te!=X&&(ie[X]=Xd(ie[X]||ve,g[Te],E,P));return Gu(_s(ie,1),E,P)}function Yu(g,E,P){for(var F=-1,X=g.length,ie=E.length,ve={};++F<X;){var Te=F<ie?E[F]:n;P(ve,g[F],Te)}return ve}function Kv(g){return us(g)?g:[]}function ia(g){return typeof g=="function"?g:Oo}function Xu(g,E){return qn(g)?g:JO(g,E)?[g]:A$(Hr(g))}var LA=bn;function Ku(g,E,P){var F=g.length;return P=P===n?F:P,!E&&P>=F?g:ro(g,E,P)}var DA=Vm||function(g){return Ki.clearTimeout(g)};function f_(g,E){if(E)return g.slice();var P=g.length,F=zw?zw(P):new g.constructor(P);return g.copy(F),F}function Zv(g){var E=new g.constructor(g.byteLength);return new $m(E).set(new $m(g)),E}function YO(g,E){var P=E?Zv(g.buffer):g.buffer;return new g.constructor(P,g.byteOffset,g.byteLength)}function Mo(g){var E=new g.constructor(g.source,Ee.exec(g));return E.lastIndex=g.lastIndex,E}function p_(g){return Hc?An(Hc.call(g)):{}}function FA(g,E){var P=E?Zv(g.buffer):g.buffer;return new g.constructor(P,g.byteOffset,g.length)}function Gc(g,E){if(g!==E){var P=g!==n,F=g===null,X=g===g,ie=yl(g),ve=E!==n,Te=E===null,Le=E===E,ut=yl(E);if(!Te&&!ut&&!ie&&g>E||ie&&ve&&Le&&!Te&&!ut||F&&ve&&Le||!P&&Le||!X)return 1;if(!F&&!ie&&!ut&&g<E||ut&&P&&X&&!F&&!ie||Te&&P&&X||!ve&&X||!Le)return-1}return 0}function Qv(g,E,P){for(var F=-1,X=g.criteria,ie=E.criteria,ve=X.length,Te=P.length;++F<ve;){var Le=Gc(X[F],ie[F]);if(Le){if(F>=Te)return Le;var ut=P[F];return Le*(ut=="desc"?-1:1)}}return g.index-E.index}function Zu(g,E,P,F){for(var X=-1,ie=g.length,ve=P.length,Te=-1,Le=E.length,ut=ls(ie-ve,0),ht=Xe(Le+ut),vt=!F;++Te<Le;)ht[Te]=E[Te];for(;++X<ve;)(vt||X<ie)&&(ht[P[X]]=g[X]);for(;ut--;)ht[Te++]=g[X++];return ht}function ag(g,E,P,F){for(var X=-1,ie=g.length,ve=-1,Te=P.length,Le=-1,ut=E.length,ht=ls(ie-Te,0),vt=Xe(ht+ut),Ut=!F;++X<ht;)vt[X]=g[X];for(var un=X;++Le<ut;)vt[un+Le]=E[Le];for(;++ve<Te;)(Ut||X<ie)&&(vt[un+P[ve]]=g[X++]);return vt}function sa(g,E){var P=-1,F=g.length;for(E||(E=Xe(F));++P<F;)E[P]=g[P];return E}function Co(g,E,P,F){var X=!P;P||(P={});for(var ie=-1,ve=E.length;++ie<ve;){var Te=E[ie],Le=F?F(P[Te],g[Te],Te,P,g):n;Le===n&&(Le=g[Te]),X?rc(P,Te,Le):fl(P,Te,Le)}return P}function XO(g,E){return Co(g,QO(g),E)}function UA(g,E){return Co(g,g$(g),E)}function og(g,E){return function(P,F){var X=qn(P)?Zl:Qw,ie=E?E():{};return X(P,g,jn(F,2),ie)}}function Jd(g){return bn(function(E,P){var F=-1,X=P.length,ie=X>1?P[X-1]:n,ve=X>2?P[2]:n;for(ie=g.length>3&&typeof ie=="function"?(X--,ie):n,ve&&so(P[0],P[1],ve)&&(ie=X<3?n:ie,X=1),E=An(E);++F<X;){var Te=P[F];Te&&g(E,Te,F,ie)}return E})}function m_(g,E){return function(P,F){if(P==null)return P;if(!Po(P))return g(P,F);for(var X=P.length,ie=E?X:-1,ve=An(P);(E?ie--:++ie<X)&&F(ve[ie],ie,ve)!==!1;);return P}}function Jv(g){return function(E,P,F){for(var X=-1,ie=An(E),ve=F(E),Te=ve.length;Te--;){var Le=ve[g?Te:++X];if(P(ie[Le],Le,ie)===!1)break}return E}}function KO(g,E,P){var F=E&b,X=w(g);function ie(){var ve=this&&this!==Ki&&this instanceof ie?X:g;return ve.apply(F?P:this,arguments)}return ie}function BA(g){return function(E){E=Hr(E);var P=Hd(E)?Oi(E):n,F=P?P[0]:E.charAt(0),X=P?Ku(P,1).join(""):E.slice(1);return F[g]()+X}}function x(g){return function(E){return Cv(i8(r8(E).replace(IO,"")),g,"")}}function w(g){return function(){var E=arguments;switch(E.length){case 0:return new g;case 1:return new g(E[0]);case 2:return new g(E[0],E[1]);case 3:return new g(E[0],E[1],E[2]);case 4:return new g(E[0],E[1],E[2],E[3]);case 5:return new g(E[0],E[1],E[2],E[3],E[4]);case 6:return new g(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new g(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var P=Vc(g.prototype),F=g.apply(P,E);return Bi(F)?F:P}}function T(g,E,P){var F=w(g);function X(){for(var ie=arguments.length,ve=Xe(ie),Te=ie,Le=tx(X);Te--;)ve[Te]=arguments[Te];var ut=ie<3&&ve[0]!==Le&&ve[ie-1]!==Le?[]:dl(ve,Le);if(ie-=ut.length,ie<P)return $r(g,E,V,X.placeholder,n,ve,ut,n,n,P-ie);var ht=this&&this!==Ki&&this instanceof X?F:g;return hi(ht,this,ve)}return X}function R(g){return function(E,P,F){var X=An(E);if(!Po(E)){var ie=jn(P,3);E=oa(E),P=function(Te){return ie(X[Te],Te,X)}}var ve=g(E,P,F);return ve>-1?X[ie?E[ve]:ve]:n}}function D(g){return Qn(function(E){var P=E.length,F=P,X=ea.prototype.thru;for(g&&E.reverse();F--;){var ie=E[F];if(typeof ie!="function")throw new ba(o);if(X&&!ve&&ex(ie)=="wrapper")var ve=new ea([],!0)}for(F=ve?F:P;++F<P;){ie=E[F];var Te=ex(ie),Le=Te=="wrapper"?ac(ie):n;Le&&eR(Le[0])&&Le[1]==(M|S|N|k)&&!Le[4].length&&Le[9]==1?ve=ve[ex(Le[0])].apply(ve,Le[3]):ve=ie.length==1&&eR(ie)?ve[Te]():ve.thru(ie)}return function(){var ut=arguments,ht=ut[0];if(ve&&ut.length==1&&qn(ht))return ve.plant(ht).value();for(var vt=0,Ut=P?E[vt].apply(this,ut):ht;++vt<P;)Ut=E[vt].call(this,Ut);return Ut}})}function V(g,E,P,F,X,ie,ve,Te,Le,ut){var ht=E&M,vt=E&b,Ut=E&v,un=E&(S|j),Nn=E&L,cr=Ut?n:w(g);function Tn(){for(var yr=arguments.length,Sr=Xe(yr),vl=yr;vl--;)Sr[vl]=arguments[vl];if(un)var ao=tx(Tn),xl=ul(Sr,ao);if(F&&(Sr=Zu(Sr,F,X,un)),ie&&(Sr=ag(Sr,ie,ve,un)),yr-=xl,un&&yr<ut){var ds=dl(Sr,ao);return $r(g,E,V,Tn.placeholder,P,Sr,ds,Te,Le,ut-yr)}var Yc=vt?P:this,rh=Ut?Yc[g]:g;return yr=Sr.length,Te?Sr=Whe(Sr,Te):Nn&&yr>1&&Sr.reverse(),ht&&Le<yr&&(Sr.length=Le),this&&this!==Ki&&this instanceof Tn&&(rh=cr||w(rh)),rh.apply(Yc,Sr)}return Tn}function de(g,E){return function(P,F){return i_(P,g,E(F),{})}}function Pe(g,E){return function(P,F){var X;if(P===n&&F===n)return E;if(P!==n&&(X=P),F!==n){if(X===n)return F;typeof P=="string"||typeof F=="string"?(P=ra(P),F=ra(F)):(P=Xv(P),F=Xv(F)),X=g(P,F)}return X}}function et(g){return Qn(function(E){return E=oi(E,va(jn())),bn(function(P){var F=this;return g(E,function(X){return hi(X,F,P)})})})}function Et(g,E){E=E===n?" ":ra(E);var P=E.length;if(P<2)return P?Lf(E,g):E;var F=Lf(E,Wm(g/Ql(E)));return Hd(E)?Ku(Oi(F),0,g).join(""):F.slice(0,g)}function Xt(g,E,P,F){var X=E&b,ie=w(g);function ve(){for(var Te=-1,Le=arguments.length,ut=-1,ht=F.length,vt=Xe(ht+Le),Ut=this&&this!==Ki&&this instanceof ve?ie:g;++ut<ht;)vt[ut]=F[ut];for(;Le--;)vt[ut++]=arguments[++Te];return hi(Ut,X?P:this,vt)}return ve}function In(g){return function(E,P,F){return F&&typeof F!="number"&&so(E,P,F)&&(P=F=n),E=nh(E),P===n?(P=E,E=0):P=nh(P),F=F===n?E<P?1:-1:nh(F),To(E,P,F,g)}}function mn(g){return function(E,P){return typeof E=="string"&&typeof P=="string"||(E=lc(E),P=lc(P)),g(E,P)}}function $r(g,E,P,F,X,ie,ve,Te,Le,ut){var ht=E&S,vt=ht?ve:n,Ut=ht?n:ve,un=ht?ie:n,Nn=ht?n:ie;E|=ht?N:A,E&=~(ht?A:N),E&_||(E&=-4);var cr=[g,E,X,un,vt,Nn,Ut,Te,Le,ut],Tn=P.apply(n,cr);return eR(g)&&S$(Tn,cr),Tn.placeholder=F,E$(Tn,g,E)}function sn(g){var E=fi[g];return function(P,F){if(P=lc(P),F=F==null?0:Js(rr(F),292),F&&Vw(P)){var X=(Hr(P)+"e").split("e"),ie=E(X[0]+"e"+(+X[1]+F));return X=(Hr(ie)+"e").split("e"),+(X[0]+"e"+(+X[1]-F))}return E(P)}}var aa=Af&&1/Um(new Af([,-0]))[1]==ne?function(g){return new Af(g)}:mR;function io(g){return function(E){var P=Pa(E);return P==ze?Fm(E):P==z?nA(E):Jj(E,g(E))}}function Be(g,E,P,F,X,ie,ve,Te){var Le=E&v;if(!Le&&typeof g!="function")throw new ba(o);var ut=F?F.length:0;if(ut||(E&=-97,F=X=n),ve=ve===n?ve:ls(rr(ve),0),Te=Te===n?Te:rr(Te),ut-=X?X.length:0,E&A){var ht=F,vt=X;F=X=n}var Ut=Le?n:ac(g),un=[g,E,P,F,X,ht,vt,ie,ve,Te];if(Ut&&$he(un,Ut),g=un[0],E=un[1],P=un[2],F=un[3],X=un[4],Te=un[9]=un[9]===n?Le?0:g.length:ls(un[9]-ut,0),!Te&&E&(S|j)&&(E&=-25),!E||E==b)var Nn=KO(g,E,P);else E==S||E==j?Nn=T(g,E,Te):(E==N||E==(b|N))&&!X.length?Nn=Xt(g,E,P,F):Nn=V.apply(n,un);var cr=Ut?RA:S$;return E$(cr(Nn,un),g,E)}function Oe(g,E,P,F){return g===n||qc(g,_f[P])&&!Tr.call(F,P)?E:g}function Ke(g,E,P,F,X,ie){return Bi(g)&&Bi(E)&&(ie.set(E,g),gl(g,E,n,Ke,ie),ie.delete(E)),g}function zt(g){return v_(g)?n:g}function an(g,E,P,F,X,ie){var ve=P&m,Te=g.length,Le=E.length;if(Te!=Le&&!(ve&&Le>Te))return!1;var ut=ie.get(g),ht=ie.get(E);if(ut&&ht)return ut==E&&ht==g;var vt=-1,Ut=!0,un=P&y?new $u:n;for(ie.set(g,E),ie.set(E,g);++vt<Te;){var Nn=g[vt],cr=E[vt];if(F)var Tn=ve?F(cr,Nn,vt,E,g,ie):F(Nn,cr,vt,g,E,ie);if(Tn!==n){if(Tn)continue;Ut=!1;break}if(un){if(!Rm(E,function(yr,Sr){if(!Ls(un,Sr)&&(Nn===yr||X(Nn,yr,P,F,ie)))return un.push(Sr)})){Ut=!1;break}}else if(!(Nn===cr||X(Nn,cr,P,F,ie))){Ut=!1;break}}return ie.delete(g),ie.delete(E),Ut}function Zn(g,E,P,F,X,ie,ve){switch(P){case $e:if(g.byteLength!=E.byteLength||g.byteOffset!=E.byteOffset)return!1;g=g.buffer,E=E.buffer;case Ae:return!(g.byteLength!=E.byteLength||!ie(new $m(g),new $m(E)));case tt:case Fe:case nt:return qc(+g,+E);case Ue:return g.name==E.name&&g.message==E.message;case H:case oe:return g==E+"";case ze:var Te=Fm;case z:var Le=F&m;if(Te||(Te=Um),g.size!=E.size&&!Le)return!1;var ut=ve.get(g);if(ut)return ut==E;F|=y,ve.set(g,E);var ht=an(Te(g),Te(E),F,X,ie,ve);return ve.delete(g),ht;case je:if(Hc)return Hc.call(g)==Hc.call(E)}return!1}function Bn(g,E,P,F,X,ie){var ve=P&m,Te=Ji(g),Le=Te.length,ut=Ji(E),ht=ut.length;if(Le!=ht&&!ve)return!1;for(var vt=Le;vt--;){var Ut=Te[vt];if(!(ve?Ut in E:Tr.call(E,Ut)))return!1}var un=ie.get(g),Nn=ie.get(E);if(un&&Nn)return un==E&&Nn==g;var cr=!0;ie.set(g,E),ie.set(E,g);for(var Tn=ve;++vt<Le;){Ut=Te[vt];var yr=g[Ut],Sr=E[Ut];if(F)var vl=ve?F(Sr,yr,Ut,E,g,ie):F(yr,Sr,Ut,g,E,ie);if(!(vl===n?yr===Sr||X(yr,Sr,P,F,ie):vl)){cr=!1;break}Tn||(Tn=Ut=="constructor")}if(cr&&!Tn){var ao=g.constructor,xl=E.constructor;ao!=xl&&"constructor"in g&&"constructor"in E&&!(typeof ao=="function"&&ao instanceof ao&&typeof xl=="function"&&xl instanceof xl)&&(cr=!1)}return ie.delete(g),ie.delete(E),cr}function Qn(g){return nR(w$(g,n,C$),g+"")}function Ji(g){return $v(g,oa,QO)}function wr(g){return $v(g,ko,g$)}var ac=Lv?function(g){return Lv.get(g)}:mR;function ex(g){for(var E=g.name+"",P=qd[E],F=Tr.call(qd,E)?P.length:0;F--;){var X=P[F],ie=X.func;if(ie==null||ie==g)return X.name}return E}function tx(g){var E=Tr.call(ee,"placeholder")?ee:g;return E.placeholder}function jn(){var g=ee.iteratee||fR;return g=g===fR?Rf:g,arguments.length?g(arguments[0],arguments[1]):g}function zA(g,E){var P=g.__data__;return Fhe(E)?P[typeof E=="string"?"string":"hash"]:P.map}function ZO(g){for(var E=oa(g),P=E.length;P--;){var F=E[P],X=g[F];E[P]=[F,X,x$(X)]}return E}function lg(g,E){var P=Fw(g,E);return kf(P)?P:n}function Phe(g){var E=Tr.call(g,tc),P=g[tc];try{g[tc]=n;var F=!0}catch{}var X=Qa.call(g);return F&&(E?g[tc]=P:delete g[tc]),X}var QO=qm?function(g){return g==null?[]:(g=An(g),Qs(qm(g),function(E){return Iv.call(g,E)}))}:gR,g$=qm?function(g){for(var E=[];g;)ol(E,QO(g)),g=Hm(g);return E}:gR,Pa=Ds;(jf&&Pa(new jf(new ArrayBuffer(1)))!=$e||Ym&&Pa(new Ym)!=ze||Gw&&Pa(Gw.resolve())!=Pt||Af&&Pa(new Af)!=z||Wd&&Pa(new Wd)!=we)&&(Pa=function(g){var E=Ds(g),P=E==rt?g.constructor:n,F=P?cg(P):"";if(F)switch(F){case hA:return $e;case fA:return ze;case pA:return Pt;case mA:return z;case nc:return we}return E});function khe(g,E,P){for(var F=-1,X=P.length;++F<X;){var ie=P[F],ve=ie.size;switch(ie.type){case"drop":g+=ve;break;case"dropRight":E-=ve;break;case"take":E=Js(E,g+ve);break;case"takeRight":g=ls(g,E-ve);break}}return{start:g,end:E}}function Ohe(g){var E=g.match(Zs);return E?E[1].split(Xn):[]}function y$(g,E,P){E=Xu(E,g);for(var F=-1,X=E.length,ie=!1;++F<X;){var ve=Qu(E[F]);if(!(ie=g!=null&&P(g,ve)))break;g=g[ve]}return ie||++F!=X?ie:(X=g==null?0:g.length,!!X&&YA(X)&&eh(ve,X)&&(qn(g)||ug(g)))}function Rhe(g){var E=g.length,P=new g.constructor(E);return E&&typeof g[0]=="string"&&Tr.call(g,"index")&&(P.index=g.index,P.input=g.input),P}function v$(g){return typeof g.constructor=="function"&&!g_(g)?Vc(Hm(g)):{}}function Ihe(g,E,P){var F=g.constructor;switch(E){case Ae:return Zv(g);case tt:case Fe:return new F(+g);case $e:return YO(g,P);case _t:case Ze:case wt:case qt:case Rt:case gt:case fn:case ge:case Qe:return FA(g,P);case ze:return new F;case nt:case oe:return new F(g);case H:return Mo(g);case z:return new F;case je:return p_(g)}}function Lhe(g,E){var P=E.length;if(!P)return g;var F=P-1;return E[F]=(P>1?"& ":"")+E[F],E=E.join(P>2?", ":" "),g.replace(ql,`{
/* [wrapped with `+E+`] */
`)}function Dhe(g){return qn(g)||ug(g)||!!(Hw&&g&&g[Hw])}function eh(g,E){var P=typeof g;return E=E??$,!!E&&(P=="number"||P!="symbol"&&ye.test(g))&&g>-1&&g%1==0&&g<E}function so(g,E,P){if(!Bi(P))return!1;var F=typeof E;return(F=="number"?Po(P)&&eh(E,P.length):F=="string"&&E in P)?qc(P[E],g):!1}function JO(g,E){if(qn(g))return!1;var P=typeof g;return P=="number"||P=="symbol"||P=="boolean"||g==null||yl(g)?!0:Ar.test(g)||!pr.test(g)||E!=null&&g in An(E)}function Fhe(g){var E=typeof g;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?g!=="__proto__":g===null}function eR(g){var E=ex(g),P=ee[E];if(typeof P!="function"||!(E in wn.prototype))return!1;if(g===P)return!0;var F=ac(P);return!!F&&g===F[0]}function Uhe(g){return!!ec&&ec in g}var Bhe=os?th:yR;function g_(g){var E=g&&g.constructor,P=typeof E=="function"&&E.prototype||_f;return g===P}function x$(g){return g===g&&!Bi(g)}function b$(g,E){return function(P){return P==null?!1:P[g]===E&&(E!==n||g in An(P))}}function zhe(g){var E=GA(g,function(F){return P.size===u&&P.clear(),F}),P=E.cache;return E}function $he(g,E){var P=g[1],F=E[1],X=P|F,ie=X<(b|v|M),ve=F==M&&P==S||F==M&&P==k&&g[7].length<=E[8]||F==(M|k)&&E[7].length<=E[8]&&P==S;if(!(ie||ve))return g;F&b&&(g[2]=E[2],X|=P&b?0:_);var Te=E[3];if(Te){var Le=g[3];g[3]=Le?Zu(Le,Te,E[4]):Te,g[4]=Le?dl(g[3],d):E[4]}return Te=E[5],Te&&(Le=g[5],g[5]=Le?ag(Le,Te,E[6]):Te,g[6]=Le?dl(g[5],d):E[6]),Te=E[7],Te&&(g[7]=Te),F&M&&(g[8]=g[8]==null?E[8]:Js(g[8],E[8])),g[9]==null&&(g[9]=E[9]),g[0]=E[0],g[1]=X,g}function Hhe(g){var E=[];if(g!=null)for(var P in An(g))E.push(P);return E}function Vhe(g){return Qa.call(g)}function w$(g,E,P){return E=ls(E===n?g.length-1:E,0),function(){for(var F=arguments,X=-1,ie=ls(F.length-E,0),ve=Xe(ie);++X<ie;)ve[X]=F[E+X];X=-1;for(var Te=Xe(E+1);++X<E;)Te[X]=F[X];return Te[E]=P(ve),hi(g,this,Te)}}function _$(g,E){return E.length<2?g:ml(g,ro(E,0,-1))}function Whe(g,E){for(var P=g.length,F=Js(E.length,P),X=sa(g);F--;){var ie=E[F];g[F]=eh(ie,P)?X[ie]:n}return g}function tR(g,E){if(!(E==="constructor"&&typeof g[E]=="function")&&E!="__proto__")return g[E]}var S$=j$(RA),y_=aA||function(g,E){return Ki.setTimeout(g,E)},nR=j$(Wu);function E$(g,E,P){var F=E+"";return nR(g,Lhe(F,Ghe(Ohe(F),P)))}function j$(g){var E=0,P=0;return function(){var F=cA(),X=W-(F-P);if(P=F,X>0){if(++E>=U)return arguments[0]}else E=0;return g.apply(n,arguments)}}function $A(g,E){var P=-1,F=g.length,X=F-1;for(E=E===n?F:E;++P<E;){var ie=ic(P,X),ve=g[ie];g[ie]=g[P],g[P]=ve}return g.length=E,g}var A$=zhe(function(g){var E=[];return g.charCodeAt(0)===46&&E.push(""),g.replace(Xi,function(P,F,X,ie){E.push(X?ie.replace(Y,"$1"):F||P)}),E});function Qu(g){if(typeof g=="string"||yl(g))return g;var E=g+"";return E=="0"&&1/g==-ne?"-0":E}function cg(g){if(g!=null){try{return Sf.call(g)}catch{}try{return g+""}catch{}}return""}function Ghe(g,E){return as(xe,function(P){var F="_."+P[0];E&P[1]&&!al(g,F)&&g.push(F)}),g.sort()}function N$(g){if(g instanceof wn)return g.clone();var E=new ea(g.__wrapped__,g.__chain__);return E.__actions__=sa(g.__actions__),E.__index__=g.__index__,E.__values__=g.__values__,E}function qhe(g,E,P){(P?so(g,E,P):E===n)?E=1:E=ls(rr(E),0);var F=g==null?0:g.length;if(!F||E<1)return[];for(var X=0,ie=0,ve=Xe(Wm(F/E));X<F;)ve[ie++]=ro(g,X,X+=E);return ve}function Yhe(g){for(var E=-1,P=g==null?0:g.length,F=0,X=[];++E<P;){var ie=g[E];ie&&(X[F++]=ie)}return X}function Xhe(){var g=arguments.length;if(!g)return[];for(var E=Xe(g-1),P=arguments[0],F=g;F--;)E[F-1]=arguments[F];return ol(qn(P)?sa(P):[P],_s(E,1))}var Khe=bn(function(g,E){return us(g)?Xd(g,_s(E,1,us,!0)):[]}),Zhe=bn(function(g,E){var P=oc(E);return us(P)&&(P=n),us(g)?Xd(g,_s(E,1,us,!0),jn(P,2)):[]}),Qhe=bn(function(g,E){var P=oc(E);return us(P)&&(P=n),us(g)?Xd(g,_s(E,1,us,!0),n,P):[]});function Jhe(g,E,P){var F=g==null?0:g.length;return F?(E=P||E===n?1:rr(E),ro(g,E<0?0:E,F)):[]}function efe(g,E,P){var F=g==null?0:g.length;return F?(E=P||E===n?1:rr(E),E=F-E,ro(g,0,E<0?0:E)):[]}function tfe(g,E){return g&&g.length?sg(g,jn(E,3),!0,!0):[]}function nfe(g,E){return g&&g.length?sg(g,jn(E,3),!0):[]}function rfe(g,E,P,F){var X=g==null?0:g.length;return X?(P&&typeof P!="number"&&so(g,E,P)&&(P=0,F=X),PA(g,E,P,F)):[]}function T$(g,E,P){var F=g==null?0:g.length;if(!F)return-1;var X=P==null?0:rr(P);return X<0&&(X=ls(F+X,0)),ff(g,jn(E,3),X)}function M$(g,E,P){var F=g==null?0:g.length;if(!F)return-1;var X=F-1;return P!==n&&(X=rr(P),X=P<0?ls(F+X,0):Js(X,F-1)),ff(g,jn(E,3),X,!0)}function C$(g){var E=g==null?0:g.length;return E?_s(g,1):[]}function ife(g){var E=g==null?0:g.length;return E?_s(g,ne):[]}function sfe(g,E){var P=g==null?0:g.length;return P?(E=E===n?1:rr(E),_s(g,E)):[]}function afe(g){for(var E=-1,P=g==null?0:g.length,F={};++E<P;){var X=g[E];F[X[0]]=X[1]}return F}function P$(g){return g&&g.length?g[0]:n}function ofe(g,E,P){var F=g==null?0:g.length;if(!F)return-1;var X=P==null?0:rr(P);return X<0&&(X=ls(F+X,0)),ll(g,E,X)}function lfe(g){var E=g==null?0:g.length;return E?ro(g,0,-1):[]}var cfe=bn(function(g){var E=oi(g,Kv);return E.length&&E[0]===g[0]?Cf(E):[]}),ufe=bn(function(g){var E=oc(g),P=oi(g,Kv);return E===oc(P)?E=n:P.pop(),P.length&&P[0]===g[0]?Cf(P,jn(E,2)):[]}),dfe=bn(function(g){var E=oc(g),P=oi(g,Kv);return E=typeof E=="function"?E:n,E&&P.pop(),P.length&&P[0]===g[0]?Cf(P,n,E):[]});function hfe(g,E){return g==null?"":BO.call(g,E)}function oc(g){var E=g==null?0:g.length;return E?g[E-1]:n}function ffe(g,E,P){var F=g==null?0:g.length;if(!F)return-1;var X=F;return P!==n&&(X=rr(P),X=X<0?ls(F+X,0):Js(X,F-1)),E===E?rA(g,E,X):ff(g,Im,X,!0)}function pfe(g,E){return g&&g.length?Wc(g,rr(E)):n}var mfe=bn(k$);function k$(g,E){return g&&g.length&&E&&E.length?If(g,E):g}function gfe(g,E,P){return g&&g.length&&E&&E.length?If(g,E,jn(P,2)):g}function yfe(g,E,P){return g&&g.length&&E&&E.length?If(g,E,n,P):g}var vfe=Qn(function(g,E){var P=g==null?0:g.length,F=Bv(g,E);return na(g,oi(E,function(X){return eh(X,P)?+X:X}).sort(Gc)),F});function xfe(g,E){var P=[];if(!(g&&g.length))return P;var F=-1,X=[],ie=g.length;for(E=jn(E,3);++F<ie;){var ve=g[F];E(ve,F,g)&&(P.push(ve),X.push(F))}return na(g,X),P}function rR(g){return g==null?g:dA.call(g)}function bfe(g,E,P){var F=g==null?0:g.length;return F?(P&&typeof P!="number"&&so(g,E,P)?(E=0,P=F):(E=E==null?0:rr(E),P=P===n?F:rr(P)),ro(g,E,P)):[]}function wfe(g,E){return sc(g,E)}function _fe(g,E,P){return Yv(g,E,jn(P,2))}function Sfe(g,E){var P=g==null?0:g.length;if(P){var F=sc(g,E);if(F<P&&qc(g[F],E))return F}return-1}function Efe(g,E){return sc(g,E,!0)}function jfe(g,E,P){return Yv(g,E,jn(P,2),!0)}function Afe(g,E){var P=g==null?0:g.length;if(P){var F=sc(g,E,!0)-1;if(qc(g[F],E))return F}return-1}function Nfe(g){return g&&g.length?c_(g):[]}function Tfe(g,E){return g&&g.length?c_(g,jn(E,2)):[]}function Mfe(g){var E=g==null?0:g.length;return E?ro(g,1,E):[]}function Cfe(g,E,P){return g&&g.length?(E=P||E===n?1:rr(E),ro(g,0,E<0?0:E)):[]}function Pfe(g,E,P){var F=g==null?0:g.length;return F?(E=P||E===n?1:rr(E),E=F-E,ro(g,E<0?0:E,F)):[]}function kfe(g,E){return g&&g.length?sg(g,jn(E,3),!1,!0):[]}function Ofe(g,E){return g&&g.length?sg(g,jn(E,3)):[]}var Rfe=bn(function(g){return Gu(_s(g,1,us,!0))}),Ife=bn(function(g){var E=oc(g);return us(E)&&(E=n),Gu(_s(g,1,us,!0),jn(E,2))}),Lfe=bn(function(g){var E=oc(g);return E=typeof E=="function"?E:n,Gu(_s(g,1,us,!0),n,E)});function Dfe(g){return g&&g.length?Gu(g):[]}function Ffe(g,E){return g&&g.length?Gu(g,jn(E,2)):[]}function Ufe(g,E){return E=typeof E=="function"?E:n,g&&g.length?Gu(g,n,E):[]}function iR(g){if(!(g&&g.length))return[];var E=0;return g=Qs(g,function(P){if(us(P))return E=ls(P.length,E),!0}),zc(E,function(P){return oi(g,Ma(P))})}function O$(g,E){if(!(g&&g.length))return[];var P=iR(g);return E==null?P:oi(P,function(F){return hi(E,n,F)})}var Bfe=bn(function(g,E){return us(g)?Xd(g,E):[]}),zfe=bn(function(g){return h_(Qs(g,us))}),$fe=bn(function(g){var E=oc(g);return us(E)&&(E=n),h_(Qs(g,us),jn(E,2))}),Hfe=bn(function(g){var E=oc(g);return E=typeof E=="function"?E:n,h_(Qs(g,us),n,E)}),Vfe=bn(iR);function Wfe(g,E){return Yu(g||[],E||[],fl)}function Gfe(g,E){return Yu(g||[],E||[],Qd)}var qfe=bn(function(g){var E=g.length,P=E>1?g[E-1]:n;return P=typeof P=="function"?(g.pop(),P):n,O$(g,P)});function R$(g){var E=ee(g);return E.__chain__=!0,E}function Yfe(g,E){return E(g),g}function HA(g,E){return E(g)}var Xfe=Qn(function(g){var E=g.length,P=E?g[0]:0,F=this.__wrapped__,X=function(ie){return Bv(ie,g)};return E>1||this.__actions__.length||!(F instanceof wn)||!eh(P)?this.thru(X):(F=F.slice(P,+P+(E?1:0)),F.__actions__.push({func:HA,args:[X],thisArg:n}),new ea(F,this.__chain__).thru(function(ie){return E&&!ie.length&&ie.push(n),ie}))});function Kfe(){return R$(this)}function Zfe(){return new ea(this.value(),this.__chain__)}function Qfe(){this.__values__===n&&(this.__values__=Y$(this.value()));var g=this.__index__>=this.__values__.length,E=g?n:this.__values__[this.__index__++];return{done:g,value:E}}function Jfe(){return this}function epe(g){for(var E,P=this;P instanceof Km;){var F=N$(P);F.__index__=0,F.__values__=n,E?X.__wrapped__=F:E=F;var X=F;P=P.__wrapped__}return X.__wrapped__=g,E}function tpe(){var g=this.__wrapped__;if(g instanceof wn){var E=g;return this.__actions__.length&&(E=new wn(this)),E=E.reverse(),E.__actions__.push({func:HA,args:[rR],thisArg:n}),new ea(E,this.__chain__)}return this.thru(rR)}function npe(){return qu(this.__wrapped__,this.__actions__)}var rpe=og(function(g,E,P){Tr.call(g,P)?++g[P]:rc(g,P,1)});function ipe(g,E,P){var F=qn(g)?Iw:GO;return P&&so(g,E,P)&&(E=n),F(g,jn(E,3))}function spe(g,E){var P=qn(g)?Qs:n_;return P(g,jn(E,3))}var ape=R(T$),ope=R(M$);function lpe(g,E){return _s(VA(g,E),1)}function cpe(g,E){return _s(VA(g,E),ne)}function upe(g,E,P){return P=P===n?1:rr(P),_s(VA(g,E),P)}function I$(g,E){var P=qn(g)?as:pl;return P(g,jn(E,3))}function L$(g,E){var P=qn(g)?Rw:CA;return P(g,jn(E,3))}var dpe=og(function(g,E,P){Tr.call(g,P)?g[P].push(E):rc(g,P,[E])});function hpe(g,E,P,F){g=Po(g)?g:rx(g),P=P&&!F?rr(P):0;var X=g.length;return P<0&&(P=ls(X+P,0)),XA(g)?P<=X&&g.indexOf(E,P)>-1:!!X&&ll(g,E,P)>-1}var fpe=bn(function(g,E,P){var F=-1,X=typeof E=="function",ie=Po(g)?Xe(g.length):[];return pl(g,function(ve){ie[++F]=X?hi(E,ve,P):ci(ve,E,P)}),ie}),ppe=og(function(g,E,P){rc(g,P,E)});function VA(g,E){var P=qn(g)?oi:Zd;return P(g,jn(E,3))}function mpe(g,E,P,F){return g==null?[]:(qn(E)||(E=E==null?[]:[E]),P=F?n:P,qn(P)||(P=P==null?[]:[P]),rg(g,E,P))}var gpe=og(function(g,E,P){g[P?0:1].push(E)},function(){return[[],[]]});function ype(g,E,P){var F=qn(g)?Cv:Du,X=arguments.length<3;return F(g,jn(E,4),P,X,pl)}function vpe(g,E,P){var F=qn(g)?Kj:Du,X=arguments.length<3;return F(g,jn(E,4),P,X,CA)}function xpe(g,E){var P=qn(g)?Qs:n_;return P(g,qA(jn(E,3)))}function bpe(g){var E=qn(g)?Zm:OA;return E(g)}function wpe(g,E,P){(P?so(g,E,P):E===n)?E=1:E=rr(E);var F=qn(g)?Kw:o_;return F(g,E)}function _pe(g){var E=qn(g)?TA:IA;return E(g)}function Spe(g){if(g==null)return 0;if(Po(g))return XA(g)?Ql(g):g.length;var E=Pa(g);return E==ze||E==z?g.size:ta(g).length}function Epe(g,E,P){var F=qn(g)?Rm:l_;return P&&so(g,E,P)&&(E=n),F(g,jn(E,3))}var jpe=bn(function(g,E){if(g==null)return[];var P=E.length;return P>1&&so(g,E[0],E[1])?E=[]:P>2&&so(E[0],E[1],E[2])&&(E=[E[0]]),rg(g,_s(E,1),[])}),WA=sA||function(){return Ki.Date.now()};function Ape(g,E){if(typeof E!="function")throw new ba(o);return g=rr(g),function(){if(--g<1)return E.apply(this,arguments)}}function D$(g,E,P){return E=P?n:E,E=g&&E==null?g.length:E,Be(g,M,n,n,n,n,E)}function F$(g,E){var P;if(typeof E!="function")throw new ba(o);return g=rr(g),function(){return--g>0&&(P=E.apply(this,arguments)),g<=1&&(E=n),P}}var sR=bn(function(g,E,P){var F=b;if(P.length){var X=dl(P,tx(sR));F|=N}return Be(g,F,E,P,X)}),U$=bn(function(g,E,P){var F=b|v;if(P.length){var X=dl(P,tx(U$));F|=N}return Be(E,F,g,P,X)});function B$(g,E,P){E=P?n:E;var F=Be(g,S,n,n,n,n,n,E);return F.placeholder=B$.placeholder,F}function z$(g,E,P){E=P?n:E;var F=Be(g,j,n,n,n,n,n,E);return F.placeholder=z$.placeholder,F}function $$(g,E,P){var F,X,ie,ve,Te,Le,ut=0,ht=!1,vt=!1,Ut=!0;if(typeof g!="function")throw new ba(o);E=lc(E)||0,Bi(P)&&(ht=!!P.leading,vt="maxWait"in P,ie=vt?ls(lc(P.maxWait)||0,E):ie,Ut="trailing"in P?!!P.trailing:Ut);function un(ds){var Yc=F,rh=X;return F=X=n,ut=ds,ve=g.apply(rh,Yc),ve}function Nn(ds){return ut=ds,Te=y_(yr,E),ht?un(ds):ve}function cr(ds){var Yc=ds-Le,rh=ds-ut,o8=E-Yc;return vt?Js(o8,ie-rh):o8}function Tn(ds){var Yc=ds-Le,rh=ds-ut;return Le===n||Yc>=E||Yc<0||vt&&rh>=ie}function yr(){var ds=WA();if(Tn(ds))return Sr(ds);Te=y_(yr,cr(ds))}function Sr(ds){return Te=n,Ut&&F?un(ds):(F=X=n,ve)}function vl(){Te!==n&&DA(Te),ut=0,F=Le=X=Te=n}function ao(){return Te===n?ve:Sr(WA())}function xl(){var ds=WA(),Yc=Tn(ds);if(F=arguments,X=this,Le=ds,Yc){if(Te===n)return Nn(Le);if(vt)return DA(Te),Te=y_(yr,E),un(Le)}return Te===n&&(Te=y_(yr,E)),ve}return xl.cancel=vl,xl.flush=ao,xl}var Npe=bn(function(g,E){return t_(g,1,E)}),Tpe=bn(function(g,E,P){return t_(g,lc(E)||0,P)});function Mpe(g){return Be(g,L)}function GA(g,E){if(typeof g!="function"||E!=null&&typeof E!="function")throw new ba(o);var P=function(){var F=arguments,X=E?E.apply(this,F):F[0],ie=P.cache;if(ie.has(X))return ie.get(X);var ve=g.apply(this,F);return P.cache=ie.set(X,ve)||ie,ve};return P.cache=new(GA.Cache||No),P}GA.Cache=No;function qA(g){if(typeof g!="function")throw new ba(o);return function(){var E=arguments;switch(E.length){case 0:return!g.call(this);case 1:return!g.call(this,E[0]);case 2:return!g.call(this,E[0],E[1]);case 3:return!g.call(this,E[0],E[1],E[2])}return!g.apply(this,E)}}function Cpe(g){return F$(2,g)}var Ppe=LA(function(g,E){E=E.length==1&&qn(E[0])?oi(E[0],va(jn())):oi(_s(E,1),va(jn()));var P=E.length;return bn(function(F){for(var X=-1,ie=Js(F.length,P);++X<ie;)F[X]=E[X].call(this,F[X]);return hi(g,this,F)})}),aR=bn(function(g,E){var P=dl(E,tx(aR));return Be(g,N,n,E,P)}),H$=bn(function(g,E){var P=dl(E,tx(H$));return Be(g,A,n,E,P)}),kpe=Qn(function(g,E){return Be(g,k,n,n,n,E)});function Ope(g,E){if(typeof g!="function")throw new ba(o);return E=E===n?E:rr(E),bn(g,E)}function Rpe(g,E){if(typeof g!="function")throw new ba(o);return E=E==null?0:ls(rr(E),0),bn(function(P){var F=P[E],X=Ku(P,0,E);return F&&ol(X,F),hi(g,this,X)})}function Ipe(g,E,P){var F=!0,X=!0;if(typeof g!="function")throw new ba(o);return Bi(P)&&(F="leading"in P?!!P.leading:F,X="trailing"in P?!!P.trailing:X),$$(g,E,{leading:F,maxWait:E,trailing:X})}function Lpe(g){return D$(g,1)}function Dpe(g,E){return aR(ia(E),g)}function Fpe(){if(!arguments.length)return[];var g=arguments[0];return qn(g)?g:[g]}function Upe(g){return eo(g,p)}function Bpe(g,E){return E=typeof E=="function"?E:n,eo(g,p,E)}function zpe(g){return eo(g,h|p)}function $pe(g,E){return E=typeof E=="function"?E:n,eo(g,h|p,E)}function Hpe(g,E){return E==null||zv(g,E,oa(E))}function qc(g,E){return g===E||g!==g&&E!==E}var Vpe=mn(eg),Wpe=mn(function(g,E){return g>=E}),ug=Kn(function(){return arguments}())?Kn:function(g){return es(g)&&Tr.call(g,"callee")&&!Iv.call(g,"callee")},qn=Xe.isArray,Gpe=Av?va(Av):Zi;function Po(g){return g!=null&&YA(g.length)&&!th(g)}function us(g){return es(g)&&Po(g)}function qpe(g){return g===!0||g===!1||es(g)&&Ds(g)==tt}var Df=oA||yR,Ype=Nv?va(Nv):Qi;function Xpe(g){return es(g)&&g.nodeType===1&&!v_(g)}function Kpe(g){if(g==null)return!0;if(Po(g)&&(qn(g)||typeof g=="string"||typeof g.splice=="function"||Df(g)||nx(g)||ug(g)))return!g.length;var E=Pa(g);if(E==ze||E==z)return!g.size;if(g_(g))return!ta(g).length;for(var P in g)if(Tr.call(g,P))return!1;return!0}function Zpe(g,E){return Fi(g,E)}function Qpe(g,E,P){P=typeof P=="function"?P:n;var F=P?P(g,E):n;return F===n?Fi(g,E,n,P):!!F}function oR(g){if(!es(g))return!1;var E=Ds(g);return E==Ue||E==Ve||typeof g.message=="string"&&typeof g.name=="string"&&!v_(g)}function Jpe(g){return typeof g=="number"&&Vw(g)}function th(g){if(!Bi(g))return!1;var E=Ds(g);return E==he||E==te||E==Ce||E==bt}function V$(g){return typeof g=="number"&&g==rr(g)}function YA(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=$}function Bi(g){var E=typeof g;return g!=null&&(E=="object"||E=="function")}function es(g){return g!=null&&typeof g=="object"}var W$=Ow?va(Ow):Pf;function eme(g,E){return g===E||Ui(g,E,ZO(E))}function tme(g,E,P){return P=typeof P=="function"?P:n,Ui(g,E,ZO(E),P)}function nme(g){return G$(g)&&g!=+g}function rme(g){if(Bhe(g))throw new Cn(s);return kf(g)}function ime(g){return g===null}function sme(g){return g==null}function G$(g){return typeof g=="number"||es(g)&&Ds(g)==nt}function v_(g){if(!es(g)||Ds(g)!=rt)return!1;var E=Hm(g);if(E===null)return!0;var P=Tr.call(E,"constructor")&&E.constructor;return typeof P=="function"&&P instanceof P&&Sf.call(P)==Vd}var lR=Tv?va(Tv):Of;function ame(g){return V$(g)&&g>=-$&&g<=$}var q$=Mv?va(Mv):Hv;function XA(g){return typeof g=="string"||!qn(g)&&es(g)&&Ds(g)==oe}function yl(g){return typeof g=="symbol"||es(g)&&Ds(g)==je}var nx=$d?va($d):s_;function ome(g){return g===n}function lme(g){return es(g)&&Pa(g)==we}function cme(g){return es(g)&&Ds(g)==me}var ume=mn(tg),dme=mn(function(g,E){return g<=E});function Y$(g){if(!g)return[];if(Po(g))return XA(g)?Oi(g):sa(g);if(zu&&g[zu])return gf(g[zu]());var E=Pa(g),P=E==ze?Fm:E==z?Um:rx;return P(g)}function nh(g){if(!g)return g===0?g:0;if(g=lc(g),g===ne||g===-ne){var E=g<0?-1:1;return E*Z}return g===g?g:0}function rr(g){var E=nh(g),P=E%1;return E===E?P?E-P:E:0}function X$(g){return g?Vu(rr(g),0,ce):0}function lc(g){if(typeof g=="number")return g;if(yl(g))return B;if(Bi(g)){var E=typeof g.valueOf=="function"?g.valueOf():g;g=Bi(E)?E+"":E}if(typeof g!="string")return g===0?g:+g;g=kv(g);var P=G.test(g);return P||be.test(g)?FO(g.slice(2),P?2:8):qe.test(g)?B:+g}function K$(g){return Co(g,ko(g))}function hme(g){return g?Vu(rr(g),-$,$):g===0?g:0}function Hr(g){return g==null?"":ra(g)}var fme=Jd(function(g,E){if(g_(E)||Po(E)){Co(E,oa(E),g);return}for(var P in E)Tr.call(E,P)&&fl(g,P,E[P])}),Z$=Jd(function(g,E){Co(E,ko(E),g)}),KA=Jd(function(g,E,P,F){Co(E,ko(E),g,F)}),pme=Jd(function(g,E,P,F){Co(E,oa(E),g,F)}),mme=Qn(Bv);function gme(g,E){var P=Vc(g);return E==null?P:Jw(P,E)}var yme=bn(function(g,E){g=An(g);var P=-1,F=E.length,X=F>2?E[2]:n;for(X&&so(E[0],E[1],X)&&(F=1);++P<F;)for(var ie=E[P],ve=ko(ie),Te=-1,Le=ve.length;++Te<Le;){var ut=ve[Te],ht=g[ut];(ht===n||qc(ht,_f[ut])&&!Tr.call(g,ut))&&(g[ut]=ie[ut])}return g}),vme=bn(function(g){return g.push(n,Ke),hi(Q$,n,g)});function xme(g,E){return Lw(g,jn(E,3),to)}function bme(g,E){return Lw(g,jn(E,3),Mf)}function wme(g,E){return g==null?g:Tf(g,jn(E,3),ko)}function _me(g,E){return g==null?g:Jm(g,jn(E,3),ko)}function Sme(g,E){return g&&to(g,jn(E,3))}function Eme(g,E){return g&&Mf(g,jn(E,3))}function jme(g){return g==null?[]:Kd(g,oa(g))}function Ame(g){return g==null?[]:Kd(g,ko(g))}function cR(g,E,P){var F=g==null?n:ml(g,E);return F===n?P:F}function Nme(g,E){return g!=null&&y$(g,E,kA)}function uR(g,E){return g!=null&&y$(g,E,r_)}var Tme=de(function(g,E,P){E!=null&&typeof E.toString!="function"&&(E=Qa.call(E)),g[E]=P},hR(Oo)),Mme=de(function(g,E,P){E!=null&&typeof E.toString!="function"&&(E=Qa.call(E)),Tr.call(g,E)?g[E].push(P):g[E]=[P]},jn),Cme=bn(ci);function oa(g){return Po(g)?It(g):ta(g)}function ko(g){return Po(g)?It(g,!0):a_(g)}function Pme(g,E){var P={};return E=jn(E,3),to(g,function(F,X,ie){rc(P,E(F,X,ie),F)}),P}function kme(g,E){var P={};return E=jn(E,3),to(g,function(F,X,ie){rc(P,X,E(F,X,ie))}),P}var Ome=Jd(function(g,E,P){gl(g,E,P)}),Q$=Jd(function(g,E,P,F){gl(g,E,P,F)}),Rme=Qn(function(g,E){var P={};if(g==null)return P;var F=!1;E=oi(E,function(ie){return ie=Xu(ie,g),F||(F=ie.length>1),ie}),Co(g,wr(g),P),F&&(P=eo(P,h|f|p,zt));for(var X=E.length;X--;)u_(P,E[X]);return P});function Ime(g,E){return J$(g,qA(jn(E)))}var Lme=Qn(function(g,E){return g==null?{}:ig(g,E)});function J$(g,E){if(g==null)return{};var P=oi(wr(g),function(F){return[F]});return E=jn(E),Gv(g,P,function(F,X){return E(F,X[0])})}function Dme(g,E,P){E=Xu(E,g);var F=-1,X=E.length;for(X||(X=1,g=n);++F<X;){var ie=g==null?n:g[Qu(E[F])];ie===n&&(F=X,ie=P),g=th(ie)?ie.call(g):ie}return g}function Fme(g,E,P){return g==null?g:Qd(g,E,P)}function Ume(g,E,P,F){return F=typeof F=="function"?F:n,g==null?g:Qd(g,E,P,F)}var e8=io(oa),t8=io(ko);function Bme(g,E,P){var F=qn(g),X=F||Df(g)||nx(g);if(E=jn(E,4),P==null){var ie=g&&g.constructor;X?P=F?new ie:[]:Bi(g)?P=th(ie)?Vc(Hm(g)):{}:P={}}return(X?as:to)(g,function(ve,Te,Le){return E(P,ve,Te,Le)}),P}function zme(g,E){return g==null?!0:u_(g,E)}function $me(g,E,P){return g==null?g:d_(g,E,ia(P))}function Hme(g,E,P,F){return F=typeof F=="function"?F:n,g==null?g:d_(g,E,ia(P),F)}function rx(g){return g==null?[]:xa(g,oa(g))}function Vme(g){return g==null?[]:xa(g,ko(g))}function Wme(g,E,P){return P===n&&(P=E,E=n),P!==n&&(P=lc(P),P=P===P?P:0),E!==n&&(E=lc(E),E=E===E?E:0),Vu(lc(g),E,P)}function Gme(g,E,P){return E=nh(E),P===n?(P=E,E=0):P=nh(P),g=lc(g),qO(g,E,P)}function qme(g,E,P){if(P&&typeof P!="boolean"&&so(g,E,P)&&(E=P=n),P===n&&(typeof E=="boolean"?(P=E,E=n):typeof g=="boolean"&&(P=g,g=n)),g===n&&E===n?(g=0,E=1):(g=nh(g),E===n?(E=g,g=0):E=nh(E)),g>E){var F=g;g=E,E=F}if(P||g%1||E%1){var X=Ww();return Js(g+X*(E-g+Xj("1e-"+((X+"").length-1))),E)}return ic(g,E)}var Yme=x(function(g,E,P){return E=E.toLowerCase(),g+(P?n8(E):E)});function n8(g){return dR(Hr(g).toLowerCase())}function r8(g){return g=Hr(g),g&&g.replace(pe,eA).replace(xs,"")}function Xme(g,E,P){g=Hr(g),E=ra(E);var F=g.length;P=P===n?F:Vu(rr(P),0,F);var X=P;return P-=E.length,P>=0&&g.slice(P,X)==E}function Kme(g){return g=Hr(g),g&&Un.test(g)?g.replace(Tt,tA):g}function Zme(g){return g=Hr(g),g&&Si.test(g)?g.replace(Ks,"\\$&"):g}var Qme=x(function(g,E,P){return g+(P?"-":"")+E.toLowerCase()}),Jme=x(function(g,E,P){return g+(P?" ":"")+E.toLowerCase()}),ege=BA("toLowerCase");function tge(g,E,P){g=Hr(g),E=rr(E);var F=E?Ql(g):0;if(!E||F>=E)return g;var X=(E-F)/2;return Et(Gm(X),P)+g+Et(Wm(X),P)}function nge(g,E,P){g=Hr(g),E=rr(E);var F=E?Ql(g):0;return E&&F<E?g+Et(E-F,P):g}function rge(g,E,P){g=Hr(g),E=rr(E);var F=E?Ql(g):0;return E&&F<E?Et(E-F,P)+g:g}function ige(g,E,P){return P||E==null?E=0:E&&(E=+E),uA(Hr(g).replace(Pi,""),E||0)}function sge(g,E,P){return(P?so(g,E,P):E===n)?E=1:E=rr(E),Lf(Hr(g),E)}function age(){var g=arguments,E=Hr(g[0]);return g.length<3?E:E.replace(g[1],g[2])}var oge=x(function(g,E,P){return g+(P?"_":"")+E.toLowerCase()});function lge(g,E,P){return P&&typeof P!="number"&&so(g,E,P)&&(E=P=n),P=P===n?ce:P>>>0,P?(g=Hr(g),g&&(typeof E=="string"||E!=null&&!lR(E))&&(E=ra(E),!E&&Hd(g))?Ku(Oi(g),0,P):g.split(E,P)):[]}var cge=x(function(g,E,P){return g+(P?" ":"")+dR(E)});function uge(g,E,P){return g=Hr(g),P=P==null?0:Vu(rr(P),0,g.length),E=ra(E),g.slice(P,P+E.length)==E}function dge(g,E,P){var F=ee.templateSettings;P&&so(g,E,P)&&(E=n),g=Hr(g),E=KA({},E,F,Oe);var X=KA({},E.imports,F.imports,Oe),ie=oa(X),ve=xa(X,ie),Te,Le,ut=0,ht=E.interpolate||De,vt="__p += '",Ut=bs((E.escape||De).source+"|"+ht.source+"|"+(ht===Vt?re:De).source+"|"+(E.evaluate||De).source+"|$","g"),un="//# sourceURL="+(Tr.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xl+"]")+`
`;g.replace(Ut,function(Tn,yr,Sr,vl,ao,xl){return Sr||(Sr=vl),vt+=g.slice(ut,xl).replace(We,Dw),yr&&(Te=!0,vt+=`' +
__e(`+yr+`) +
'`),ao&&(Le=!0,vt+=`';
`+ao+`;
__p += '`),Sr&&(vt+=`' +
((__t = (`+Sr+`)) == null ? '' : __t) +
'`),ut=xl+Tn.length,Tn}),vt+=`';
`;var Nn=Tr.call(E,"variable")&&E.variable;if(!Nn)vt=`with (obj) {
`+vt+`
}
`;else if(of.test(Nn))throw new Cn(l);vt=(Le?vt.replace(ue,""):vt).replace(pt,"$1").replace(Se,"$1;"),vt="function("+(Nn||"obj")+`) {
`+(Nn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Te?", __e = _.escape":"")+(Le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+vt+`return __p
}`;var cr=s8(function(){return Vn(ie,un+"return "+vt).apply(n,ve)});if(cr.source=vt,oR(cr))throw cr;return cr}function hge(g){return Hr(g).toLowerCase()}function fge(g){return Hr(g).toUpperCase()}function pge(g,E,P){if(g=Hr(g),g&&(P||E===n))return kv(g);if(!g||!(E=ra(E)))return g;var F=Oi(g),X=Oi(E),ie=li(F,X),ve=mf(F,X)+1;return Ku(F,ie,ve).join("")}function mge(g,E,P){if(g=Hr(g),g&&(P||E===n))return g.slice(0,xf(g)+1);if(!g||!(E=ra(E)))return g;var F=Oi(g),X=mf(F,Oi(E))+1;return Ku(F,0,X).join("")}function gge(g,E,P){if(g=Hr(g),g&&(P||E===n))return g.replace(Pi,"");if(!g||!(E=ra(E)))return g;var F=Oi(g),X=li(F,Oi(E));return Ku(F,X).join("")}function yge(g,E){var P=O,F=I;if(Bi(E)){var X="separator"in E?E.separator:X;P="length"in E?rr(E.length):P,F="omission"in E?ra(E.omission):F}g=Hr(g);var ie=g.length;if(Hd(g)){var ve=Oi(g);ie=ve.length}if(P>=ie)return g;var Te=P-Ql(F);if(Te<1)return F;var Le=ve?Ku(ve,0,Te).join(""):g.slice(0,Te);if(X===n)return Le+F;if(ve&&(Te+=Le.length-Te),lR(X)){if(g.slice(Te).search(X)){var ut,ht=Le;for(X.global||(X=bs(X.source,Hr(Ee.exec(X))+"g")),X.lastIndex=0;ut=X.exec(ht);)var vt=ut.index;Le=Le.slice(0,vt===n?Te:vt)}}else if(g.indexOf(ra(X),Te)!=Te){var Ut=Le.lastIndexOf(X);Ut>-1&&(Le=Le.slice(0,Ut))}return Le+F}function vge(g){return g=Hr(g),g&&kt.test(g)?g.replace(st,bf):g}var xge=x(function(g,E,P){return g+(P?" ":"")+E.toUpperCase()}),dR=BA("toUpperCase");function i8(g,E,P){return g=Hr(g),E=P?n:E,E===n?Dm(g)?wf(g):Qj(g):g.match(E)||[]}var s8=bn(function(g,E){try{return hi(g,n,E)}catch(P){return oR(P)?P:new Cn(P)}}),bge=Qn(function(g,E){return as(E,function(P){P=Qu(P),rc(g,P,sR(g[P],g))}),g});function wge(g){var E=g==null?0:g.length,P=jn();return g=E?oi(g,function(F){if(typeof F[1]!="function")throw new ba(o);return[P(F[0]),F[1]]}):[],bn(function(F){for(var X=-1;++X<E;){var ie=g[X];if(hi(ie[0],this,F))return hi(ie[1],this,F)}})}function _ge(g){return e_(eo(g,h))}function hR(g){return function(){return g}}function Sge(g,E){return g==null||g!==g?E:g}var Ege=D(),jge=D(!0);function Oo(g){return g}function fR(g){return Rf(typeof g=="function"?g:eo(g,h))}function Age(g){return ng(eo(g,h))}function Nge(g,E){return Vv(g,eo(E,h))}var Tge=bn(function(g,E){return function(P){return ci(P,g,E)}}),Mge=bn(function(g,E){return function(P){return ci(g,P,E)}});function pR(g,E,P){var F=oa(E),X=Kd(E,F);P==null&&!(Bi(E)&&(X.length||!F.length))&&(P=E,E=g,g=this,X=Kd(E,oa(E)));var ie=!(Bi(P)&&"chain"in P)||!!P.chain,ve=th(g);return as(X,function(Te){var Le=E[Te];g[Te]=Le,ve&&(g.prototype[Te]=function(){var ut=this.__chain__;if(ie||ut){var ht=g(this.__wrapped__),vt=ht.__actions__=sa(this.__actions__);return vt.push({func:Le,args:arguments,thisArg:g}),ht.__chain__=ut,ht}return Le.apply(g,ol([this.value()],arguments))})}),g}function Cge(){return Ki._===this&&(Ki._=Ov),this}function mR(){}function Pge(g){return g=rr(g),bn(function(E){return Wc(E,g)})}var kge=et(oi),Oge=et(Iw),Rge=et(Rm);function a8(g){return JO(g)?Ma(Qu(g)):qv(g)}function Ige(g){return function(E){return g==null?n:ml(g,E)}}var Lge=In(),Dge=In(!0);function gR(){return[]}function yR(){return!1}function Fge(){return{}}function Uge(){return""}function Bge(){return!0}function zge(g,E){if(g=rr(g),g<1||g>$)return[];var P=ce,F=Js(g,ce);E=jn(E),g-=ce;for(var X=zc(F,E);++P<g;)E(P);return X}function $ge(g){return qn(g)?oi(g,Qu):yl(g)?[g]:sa(A$(Hr(g)))}function Hge(g){var E=++Bw;return Hr(g)+E}var Vge=Pe(function(g,E){return g+E},0),Wge=sn("ceil"),Gge=Pe(function(g,E){return g/E},1),qge=sn("floor");function Yge(g){return g&&g.length?Qm(g,Oo,eg):n}function Xge(g,E){return g&&g.length?Qm(g,jn(E,2),eg):n}function Kge(g){return Lm(g,Oo)}function Zge(g,E){return Lm(g,jn(E,2))}function Qge(g){return g&&g.length?Qm(g,Oo,tg):n}function Jge(g,E){return g&&g.length?Qm(g,jn(E,2),tg):n}var eye=Pe(function(g,E){return g*E},1),tye=sn("round"),nye=Pe(function(g,E){return g-E},0);function rye(g){return g&&g.length?cl(g,Oo):0}function iye(g,E){return g&&g.length?cl(g,jn(E,2)):0}return ee.after=Ape,ee.ary=D$,ee.assign=fme,ee.assignIn=Z$,ee.assignInWith=KA,ee.assignWith=pme,ee.at=mme,ee.before=F$,ee.bind=sR,ee.bindAll=bge,ee.bindKey=U$,ee.castArray=Fpe,ee.chain=R$,ee.chunk=qhe,ee.compact=Yhe,ee.concat=Xhe,ee.cond=wge,ee.conforms=_ge,ee.constant=hR,ee.countBy=rpe,ee.create=gme,ee.curry=B$,ee.curryRight=z$,ee.debounce=$$,ee.defaults=yme,ee.defaultsDeep=vme,ee.defer=Npe,ee.delay=Tpe,ee.difference=Khe,ee.differenceBy=Zhe,ee.differenceWith=Qhe,ee.drop=Jhe,ee.dropRight=efe,ee.dropRightWhile=tfe,ee.dropWhile=nfe,ee.fill=rfe,ee.filter=spe,ee.flatMap=lpe,ee.flatMapDeep=cpe,ee.flatMapDepth=upe,ee.flatten=C$,ee.flattenDeep=ife,ee.flattenDepth=sfe,ee.flip=Mpe,ee.flow=Ege,ee.flowRight=jge,ee.fromPairs=afe,ee.functions=jme,ee.functionsIn=Ame,ee.groupBy=dpe,ee.initial=lfe,ee.intersection=cfe,ee.intersectionBy=ufe,ee.intersectionWith=dfe,ee.invert=Tme,ee.invertBy=Mme,ee.invokeMap=fpe,ee.iteratee=fR,ee.keyBy=ppe,ee.keys=oa,ee.keysIn=ko,ee.map=VA,ee.mapKeys=Pme,ee.mapValues=kme,ee.matches=Age,ee.matchesProperty=Nge,ee.memoize=GA,ee.merge=Ome,ee.mergeWith=Q$,ee.method=Tge,ee.methodOf=Mge,ee.mixin=pR,ee.negate=qA,ee.nthArg=Pge,ee.omit=Rme,ee.omitBy=Ime,ee.once=Cpe,ee.orderBy=mpe,ee.over=kge,ee.overArgs=Ppe,ee.overEvery=Oge,ee.overSome=Rge,ee.partial=aR,ee.partialRight=H$,ee.partition=gpe,ee.pick=Lme,ee.pickBy=J$,ee.property=a8,ee.propertyOf=Ige,ee.pull=mfe,ee.pullAll=k$,ee.pullAllBy=gfe,ee.pullAllWith=yfe,ee.pullAt=vfe,ee.range=Lge,ee.rangeRight=Dge,ee.rearg=kpe,ee.reject=xpe,ee.remove=xfe,ee.rest=Ope,ee.reverse=rR,ee.sampleSize=wpe,ee.set=Fme,ee.setWith=Ume,ee.shuffle=_pe,ee.slice=bfe,ee.sortBy=jpe,ee.sortedUniq=Nfe,ee.sortedUniqBy=Tfe,ee.split=lge,ee.spread=Rpe,ee.tail=Mfe,ee.take=Cfe,ee.takeRight=Pfe,ee.takeRightWhile=kfe,ee.takeWhile=Ofe,ee.tap=Yfe,ee.throttle=Ipe,ee.thru=HA,ee.toArray=Y$,ee.toPairs=e8,ee.toPairsIn=t8,ee.toPath=$ge,ee.toPlainObject=K$,ee.transform=Bme,ee.unary=Lpe,ee.union=Rfe,ee.unionBy=Ife,ee.unionWith=Lfe,ee.uniq=Dfe,ee.uniqBy=Ffe,ee.uniqWith=Ufe,ee.unset=zme,ee.unzip=iR,ee.unzipWith=O$,ee.update=$me,ee.updateWith=Hme,ee.values=rx,ee.valuesIn=Vme,ee.without=Bfe,ee.words=i8,ee.wrap=Dpe,ee.xor=zfe,ee.xorBy=$fe,ee.xorWith=Hfe,ee.zip=Vfe,ee.zipObject=Wfe,ee.zipObjectDeep=Gfe,ee.zipWith=qfe,ee.entries=e8,ee.entriesIn=t8,ee.extend=Z$,ee.extendWith=KA,pR(ee,ee),ee.add=Vge,ee.attempt=s8,ee.camelCase=Yme,ee.capitalize=n8,ee.ceil=Wge,ee.clamp=Wme,ee.clone=Upe,ee.cloneDeep=zpe,ee.cloneDeepWith=$pe,ee.cloneWith=Bpe,ee.conformsTo=Hpe,ee.deburr=r8,ee.defaultTo=Sge,ee.divide=Gge,ee.endsWith=Xme,ee.eq=qc,ee.escape=Kme,ee.escapeRegExp=Zme,ee.every=ipe,ee.find=ape,ee.findIndex=T$,ee.findKey=xme,ee.findLast=ope,ee.findLastIndex=M$,ee.findLastKey=bme,ee.floor=qge,ee.forEach=I$,ee.forEachRight=L$,ee.forIn=wme,ee.forInRight=_me,ee.forOwn=Sme,ee.forOwnRight=Eme,ee.get=cR,ee.gt=Vpe,ee.gte=Wpe,ee.has=Nme,ee.hasIn=uR,ee.head=P$,ee.identity=Oo,ee.includes=hpe,ee.indexOf=ofe,ee.inRange=Gme,ee.invoke=Cme,ee.isArguments=ug,ee.isArray=qn,ee.isArrayBuffer=Gpe,ee.isArrayLike=Po,ee.isArrayLikeObject=us,ee.isBoolean=qpe,ee.isBuffer=Df,ee.isDate=Ype,ee.isElement=Xpe,ee.isEmpty=Kpe,ee.isEqual=Zpe,ee.isEqualWith=Qpe,ee.isError=oR,ee.isFinite=Jpe,ee.isFunction=th,ee.isInteger=V$,ee.isLength=YA,ee.isMap=W$,ee.isMatch=eme,ee.isMatchWith=tme,ee.isNaN=nme,ee.isNative=rme,ee.isNil=sme,ee.isNull=ime,ee.isNumber=G$,ee.isObject=Bi,ee.isObjectLike=es,ee.isPlainObject=v_,ee.isRegExp=lR,ee.isSafeInteger=ame,ee.isSet=q$,ee.isString=XA,ee.isSymbol=yl,ee.isTypedArray=nx,ee.isUndefined=ome,ee.isWeakMap=lme,ee.isWeakSet=cme,ee.join=hfe,ee.kebabCase=Qme,ee.last=oc,ee.lastIndexOf=ffe,ee.lowerCase=Jme,ee.lowerFirst=ege,ee.lt=ume,ee.lte=dme,ee.max=Yge,ee.maxBy=Xge,ee.mean=Kge,ee.meanBy=Zge,ee.min=Qge,ee.minBy=Jge,ee.stubArray=gR,ee.stubFalse=yR,ee.stubObject=Fge,ee.stubString=Uge,ee.stubTrue=Bge,ee.multiply=eye,ee.nth=pfe,ee.noConflict=Cge,ee.noop=mR,ee.now=WA,ee.pad=tge,ee.padEnd=nge,ee.padStart=rge,ee.parseInt=ige,ee.random=qme,ee.reduce=ype,ee.reduceRight=vpe,ee.repeat=sge,ee.replace=age,ee.result=Dme,ee.round=tye,ee.runInContext=Me,ee.sample=bpe,ee.size=Spe,ee.snakeCase=oge,ee.some=Epe,ee.sortedIndex=wfe,ee.sortedIndexBy=_fe,ee.sortedIndexOf=Sfe,ee.sortedLastIndex=Efe,ee.sortedLastIndexBy=jfe,ee.sortedLastIndexOf=Afe,ee.startCase=cge,ee.startsWith=uge,ee.subtract=nye,ee.sum=rye,ee.sumBy=iye,ee.template=dge,ee.times=zge,ee.toFinite=nh,ee.toInteger=rr,ee.toLength=X$,ee.toLower=hge,ee.toNumber=lc,ee.toSafeInteger=hme,ee.toString=Hr,ee.toUpper=fge,ee.trim=pge,ee.trimEnd=mge,ee.trimStart=gge,ee.truncate=yge,ee.unescape=vge,ee.uniqueId=Hge,ee.upperCase=xge,ee.upperFirst=dR,ee.each=I$,ee.eachRight=L$,ee.first=P$,pR(ee,function(){var g={};return to(ee,function(E,P){Tr.call(ee.prototype,P)||(g[P]=E)}),g}(),{chain:!1}),ee.VERSION=r,as(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){ee[g].placeholder=ee}),as(["drop","take"],function(g,E){wn.prototype[g]=function(P){P=P===n?1:ls(rr(P),0);var F=this.__filtered__&&!E?new wn(this):this.clone();return F.__filtered__?F.__takeCount__=Js(P,F.__takeCount__):F.__views__.push({size:Js(P,ce),type:g+(F.__dir__<0?"Right":"")}),F},wn.prototype[g+"Right"]=function(P){return this.reverse()[g](P).reverse()}}),as(["filter","map","takeWhile"],function(g,E){var P=E+1,F=P==q||P==K;wn.prototype[g]=function(X){var ie=this.clone();return ie.__iteratees__.push({iteratee:jn(X,3),type:P}),ie.__filtered__=ie.__filtered__||F,ie}}),as(["head","last"],function(g,E){var P="take"+(E?"Right":"");wn.prototype[g]=function(){return this[P](1).value()[0]}}),as(["initial","tail"],function(g,E){var P="drop"+(E?"":"Right");wn.prototype[g]=function(){return this.__filtered__?new wn(this):this[P](1)}}),wn.prototype.compact=function(){return this.filter(Oo)},wn.prototype.find=function(g){return this.filter(g).head()},wn.prototype.findLast=function(g){return this.reverse().find(g)},wn.prototype.invokeMap=bn(function(g,E){return typeof g=="function"?new wn(this):this.map(function(P){return ci(P,g,E)})}),wn.prototype.reject=function(g){return this.filter(qA(jn(g)))},wn.prototype.slice=function(g,E){g=rr(g);var P=this;return P.__filtered__&&(g>0||E<0)?new wn(P):(g<0?P=P.takeRight(-g):g&&(P=P.drop(g)),E!==n&&(E=rr(E),P=E<0?P.dropRight(-E):P.take(E-g)),P)},wn.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},wn.prototype.toArray=function(){return this.take(ce)},to(wn.prototype,function(g,E){var P=/^(?:filter|find|map|reject)|While$/.test(E),F=/^(?:head|last)$/.test(E),X=ee[F?"take"+(E=="last"?"Right":""):E],ie=F||/^find/.test(E);X&&(ee.prototype[E]=function(){var ve=this.__wrapped__,Te=F?[1]:arguments,Le=ve instanceof wn,ut=Te[0],ht=Le||qn(ve),vt=function(yr){var Sr=X.apply(ee,ol([yr],Te));return F&&Ut?Sr[0]:Sr};ht&&P&&typeof ut=="function"&&ut.length!=1&&(Le=ht=!1);var Ut=this.__chain__,un=!!this.__actions__.length,Nn=ie&&!Ut,cr=Le&&!un;if(!ie&&ht){ve=cr?ve:new wn(this);var Tn=g.apply(ve,Te);return Tn.__actions__.push({func:HA,args:[vt],thisArg:n}),new ea(Tn,Ut)}return Nn&&cr?g.apply(this,Te):(Tn=this.thru(vt),Nn?F?Tn.value()[0]:Tn.value():Tn)})}),as(["pop","push","shift","sort","splice","unshift"],function(g){var E=Uu[g],P=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",F=/^(?:pop|shift)$/.test(g);ee.prototype[g]=function(){var X=arguments;if(F&&!this.__chain__){var ie=this.value();return E.apply(qn(ie)?ie:[],X)}return this[P](function(ve){return E.apply(qn(ve)?ve:[],X)})}}),to(wn.prototype,function(g,E){var P=ee[E];if(P){var F=P.name+"";Tr.call(qd,F)||(qd[F]=[]),qd[F].push({name:E,func:P})}}),qd[V(n,v).name]=[{name:"wrapper",func:n}],wn.prototype.clone=zO,wn.prototype.reverse=$O,wn.prototype.value=Ja,ee.prototype.at=Xfe,ee.prototype.chain=Kfe,ee.prototype.commit=Zfe,ee.prototype.next=Qfe,ee.prototype.plant=epe,ee.prototype.reverse=tpe,ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=npe,ee.prototype.first=ee.prototype.head,zu&&(ee.prototype[zu]=Jfe),ee},Fu=iA();Rs?((Rs.exports=Fu)._=Fu,kw._=Fu):Ki._=Fu}).call(Ml)})(dP,dP.exports);var $pt=dP.exports;const Hpt=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(null),[i,s]=C.useState(null);return{checkUsername:C.useCallback($pt.debounce(async l=>{if(!l){r(null),s(null);return}const c=zpt(l);if(!c.valid){r(c.error||"Invalid username"),s(!1),e(!1);return}e(!0),r(null);try{const{data:u,error:d}=await Ye.functions.invoke("check-username",{body:{username:l}});if(d)throw d;u.available?(s(!0),r(null)):(s(!1),r("Username is already taken"))}catch{r("Failed to check username availability"),s(!1)}finally{e(!1)}},500),[]),isChecking:t,error:n,isAvailable:i}},Vpt=({value:t,onChange:e,currentUsername:n})=>{const{checkUsername:r,isChecking:i,error:s,isAvailable:o}=Hpt(),[l,c]=C.useState(!1);C.useEffect(()=>{t&&t!==n&&(r(t),c(!0))},[t,n,r]);const u=l&&o&&!s&&!i&&t!==n,d=l&&(s||o===!1)&&!i;return a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"username",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yt,{id:"username",value:t,onChange:h=>e(h.target.value.toLowerCase().replace(/[^a-z0-9_-]/g,"")),placeholder:"Enter username",className:`pr-10 ${u?"border-green-500":d?"border-red-500":""}`}),a.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[i&&a.jsx(zr,{className:"h-4 w-4 animate-spin text-muted-foreground"}),u&&a.jsx(cd,{className:"h-4 w-4 text-green-500"}),d&&a.jsx(tl,{className:"h-4 w-4 text-red-500"})]})]}),d&&a.jsx("p",{className:"text-sm text-red-500",children:s}),u&&a.jsx("p",{className:"text-sm text-green-500",children:"Username is available!"}),a.jsx(Jz,{children:a.jsxs(e6,{className:"text-sm",children:["Your profile will be accessible at: ",a.jsxs("strong",{children:["agentbio.net/",t||"username"]})]})}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsx("p",{children:"Username requirements:"}),a.jsxs("ul",{className:"list-disc list-inside ml-2",children:[a.jsx("li",{children:"3-30 characters"}),a.jsx("li",{children:"Letters, numbers, hyphens, and underscores only"}),a.jsx("li",{children:"No profanity or reserved words"})]})]})]})};function Wpt(){const t=cm(),{user:e}=ys(),[n,r]=C.useState(null),[i,s]=C.useState(!0);C.useEffect(()=>{o()},[e]);const o=async()=>{if(e)try{const{data:c,error:u}=await Ye.from("custom_pages").select("*").eq("user_id",e.id).eq("is_active",!0).single();!u&&c&&r(c)}catch(c){console.error("Error loading active page:",c)}finally{s(!1)}},l=async()=>{if(n)try{const{error:c}=await Ye.from("custom_pages").update({is_active:!1}).eq("id",n.id);if(c)throw c;at.success("Switched to default profile"),r(null)}catch(c){console.error("Error deactivating page:",c),at.error("Failed to deactivate custom page")}};return a.jsx(Qt,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Profile Display"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose what visitors see when they visit your profile"})]}),i?a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(sv,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium",children:n.title}),a.jsxs(nn,{variant:"default",className:"gap-1",children:[a.jsx(rC,{className:"h-3 w-3"}),"Active"]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Custom page: /",n.slug]})]}),a.jsx(He,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs("a",{href:`/p/${n.slug}`,target:"_blank",rel:"noopener noreferrer",className:"gap-2",children:["View",a.jsx(Su,{className:"h-3 w-3"})]})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(He,{variant:"outline",onClick:()=>t("/dashboard/page-builder"),className:"gap-2",children:"Edit Custom Page"}),a.jsx(He,{variant:"outline",onClick:l,children:"Use Default Profile"})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(rC,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium",children:"Default Profile"}),a.jsx(nn,{variant:"secondary",children:"Active"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Using the standard profile layout with listings, testimonials, and links"})]}),a.jsxs(He,{onClick:()=>t("/dashboard/page-builder"),className:"gap-2",children:[a.jsx(Ps,{className:"h-4 w-4"}),"Create Custom Page"]})]})]})})}function Gpt(){var j,N,A;const{user:t}=ys(),{settings:e,updateSettings:n}=Ipt(),{toast:r}=Ud(),i=el(),[s,o]=C.useState({emailLeads:!0,smsLeads:!1,weeklyReport:!0,marketingEmails:!1}),[l,c]=C.useState({showListings:!0,showSoldProperties:!0,showTestimonials:!0,showSocialProof:!0,showContactButtons:!0}),[u,d]=C.useState({current:"",new:"",confirm:""}),{data:h,isLoading:f}=Xr({queryKey:["profile",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{data:M,error:k}=await Ye.from("profiles").select("*").eq("id",t.id).single();if(k)throw k;return M},enabled:!!(t!=null&&t.id)}),[p,m]=C.useState({username:"",full_name:"",bio:""});C.useEffect(()=>{h&&m({username:h.username||"",full_name:h.full_name||"",bio:h.bio||""})},[h]);const y=zn({mutationFn:async M=>{if(!(t!=null&&t.id))throw new Error("Not authenticated");const{error:k}=await Ye.from("profiles").update({username:M.username,full_name:M.full_name,bio:M.bio,updated_at:new Date().toISOString()}).eq("id",t.id);if(k)throw k},onSuccess:()=>{i.invalidateQueries({queryKey:["profile"]}),r({title:"Profile updated",description:"Your profile has been updated successfully."})},onError:M=>{r({title:"Error",description:M instanceof Error?M.message:"Failed to update profile",variant:"destructive"})}});C.useEffect(()=>{e&&(o({emailLeads:e.email_leads,smsLeads:e.sms_leads,weeklyReport:e.weekly_report,marketingEmails:e.marketing_emails}),c({showListings:e.show_listings,showSoldProperties:e.show_sold_properties,showTestimonials:e.show_testimonials,showSocialProof:e.show_social_proof,showContactButtons:e.show_contact_buttons}))},[e]);const b=async(M,k)=>{o(O=>({...O,[M]:k}));const L=M==="emailLeads"?"email_leads":M==="smsLeads"?"sms_leads":M==="weeklyReport"?"weekly_report":"marketing_emails";try{await n.mutateAsync({[L]:k}),r({title:"Settings updated",description:"Your notification preferences have been saved."})}catch{r({title:"Error",description:"Failed to update settings.",variant:"destructive"})}},v=async(M,k)=>{c(O=>({...O,[M]:k}));const L=M==="showListings"?"show_listings":M==="showSoldProperties"?"show_sold_properties":M==="showTestimonials"?"show_testimonials":M==="showSocialProof"?"show_social_proof":"show_contact_buttons";try{await n.mutateAsync({[L]:k}),r({title:"Profile visibility updated",description:"Your profile display preferences have been saved."})}catch{r({title:"Error",description:"Failed to update visibility settings.",variant:"destructive"})}},_=async M=>{if(M.preventDefault(),u.new!==u.confirm){r({title:"Error",description:"New passwords don't match.",variant:"destructive"});return}if(u.new.length<6){r({title:"Error",description:"Password must be at least 6 characters.",variant:"destructive"});return}try{const{error:k}=await Ye.auth.updateUser({password:u.new});if(k)throw k;r({title:"Password updated",description:"Your password has been changed successfully."}),d({current:"",new:"",confirm:""})}catch(k){r({title:"Error",description:k.message||"Failed to update password.",variant:"destructive"})}},S=t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Unknown";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Account Settings"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and preferences"})]}),a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsx(hr,{children:"Profile & Username"}),a.jsx(qr,{children:"Manage your public profile and unique URL"})]}),a.jsxs(vn,{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-6",children:a.jsxs(lE,{className:"w-20 h-20",children:[a.jsx(cE,{src:(h==null?void 0:h.avatar_url)||void 0}),a.jsx(uE,{className:"text-xl",children:((j=h==null?void 0:h.full_name)==null?void 0:j[0])||((N=h==null?void 0:h.username)==null?void 0:N[0])||"U"})]})}),a.jsx(Vpt,{value:p.username,onChange:M=>m({...p,username:M}),currentUsername:h==null?void 0:h.username}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"full_name",children:"Full Name"}),a.jsx(Yt,{id:"full_name",value:p.full_name,onChange:M=>m({...p,full_name:M.target.value}),placeholder:"Enter your full name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"bio",children:"Bio"}),a.jsx(Jo,{id:"bio",value:p.bio,onChange:M=>m({...p,bio:M.target.value}),placeholder:"Tell us about yourself",rows:4,maxLength:500}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[((A=p.bio)==null?void 0:A.length)||0,"/500 characters"]})]}),a.jsxs("button",{onClick:()=>y.mutate(p),disabled:y.isPending,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium disabled:opacity-50",children:[a.jsx(ab,{className:"h-4 w-4"}),y.isPending?"Saving...":"Save Profile Changes"]})]})]}),a.jsx(Wpt,{}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Hh,{className:"h-5 w-5 text-primary"}),a.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Account Information"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between py-3 border-b border-border",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Email Address"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:(t==null?void 0:t.email)||"Not available"})]})}),a.jsx("div",{className:"flex items-center justify-between py-3 border-b border-border",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"User ID"}),a.jsx("div",{className:"text-sm text-muted-foreground font-mono text-xs",children:(t==null?void 0:t.id)||"Not available"})]})}),a.jsx("div",{className:"flex items-center justify-between py-3",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Member Since"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:S})]})})]})]}),a.jsxs("form",{onSubmit:_,className:"bg-card border border-border rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(iC,{className:"h-5 w-5 text-primary"}),a.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Change Password"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"New Password"}),a.jsx("input",{type:"password",value:u.new,onChange:M=>d({...u,new:M.target.value}),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,minLength:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Confirm New Password"}),a.jsx("input",{type:"password",value:u.confirm,onChange:M=>d({...u,confirm:M.target.value}),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,minLength:6})]}),a.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[a.jsx(ab,{className:"h-4 w-4"}),"Update Password"]})]})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(rte,{className:"h-5 w-5 text-primary"}),a.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Notification Preferences"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Email Notifications for New Leads"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Get notified immediately when someone submits a lead form"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.emailLeads,onChange:M=>b("emailLeads",M.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"SMS Notifications"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Receive text messages for urgent leads"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.smsLeads,onChange:M=>b("smsLeads",M.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Weekly Performance Report"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Get a summary of your profile analytics every Monday"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.weeklyReport,onChange:M=>b("weeklyReport",M.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Marketing Emails"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Tips, updates, and special offers from AgentBio.net"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.marketingEmails,onChange:M=>b("marketingEmails",M.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Wa,{className:"h-5 w-5 text-primary"}),a.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Profile Visibility"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Control which sections appear on your public profile page"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Show Contact Buttons"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Display email, phone, and text buttons"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.showContactButtons,onChange:M=>v("showContactButtons",M.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Show Social Proof Banner"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Display stats like properties sold and total volume"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.showSocialProof,onChange:M=>v("showSocialProof",M.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Show Active Listings"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Display your currently available properties"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.showListings,onChange:M=>v("showListings",M.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Show Sold Properties"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Display your past sales and success history"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.showSoldProperties,onChange:M=>v("showSoldProperties",M.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Show Testimonials"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Display client reviews and ratings"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.showTestimonials,onChange:M=>v("showTestimonials",M.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(kSe,{className:"h-5 w-5 text-primary"}),a.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Billing & Subscription"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Current Plan"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Professional - $49/month"})]}),a.jsx("button",{className:"px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors text-sm font-medium",children:"Manage Plan"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Payment Method"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"   4242"})]}),a.jsx("button",{className:"px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors text-sm font-medium",children:"Update"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Next Billing Date"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"February 15, 2024"})]}),a.jsx("button",{className:"px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors text-sm font-medium",children:"View Invoices"})]})]})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(LP,{className:"h-5 w-5 text-red-600"}),a.jsx("h2",{className:"text-lg font-semibold text-red-600",children:"Danger Zone"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:"Once you delete your account, there is no going back. Please be certain."}),a.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete Account"})]})]})]})}function qpt({listings:t,onStatusChange:e,onRefresh:n,isLoading:r=!1}){const[i,s]=C.useState(new Set),[o,l]=C.useState(new Set),[c,u]=C.useState("all"),d=_=>Math.floor((Date.now()-new Date(_.updatedAt).getTime())/864e5)>=7&&_.status==="active",h=t.filter(_=>c==="all"?!0:c==="stale"?d(_):_.status===c),f={total:t.length,active:t.filter(_=>_.status==="active").length,pending:t.filter(_=>_.status==="pending").length,sold:t.filter(_=>_.status==="sold").length,stale:t.filter(_=>d(_)).length},p=async(_,S)=>{l(j=>new Set(j).add(_));try{await e(_,S),at.success(`Listing updated to ${S}`)}catch(j){console.error("Failed to update status:",j),at.error("Failed to update listing")}finally{l(j=>{const N=new Set(j);return N.delete(_),N})}},m=async _=>{if(i.size===0){at.warning("No listings selected");return}const S=i.size;at.info(`Updating ${S} listing(s)...`);const j=Array.from(i).map(N=>p(N,_));await Promise.all(j),s(new Set),at.success(`${S} listing(s) updated to ${_}`)},y=_=>{s(S=>{const j=new Set(S);return j.has(_)?j.delete(_):j.add(_),j})},b=()=>{s(new Set(h.map(_=>_.id)))},v=()=>{s(new Set)};return C.useEffect(()=>{const _=S=>{if(!(S.target instanceof HTMLInputElement||S.target instanceof HTMLTextAreaElement)&&i.size!==0)switch(S.key.toLowerCase()){case"s":S.preventDefault(),m("sold");break;case"p":S.preventDefault(),m("pending");break;case"a":S.preventDefault(),m("active");break;case"escape":v();break}};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[i]),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Quick Status Updates"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click listings to select, then use buttons or keyboard shortcuts"})]}),a.jsxs(He,{variant:"outline",size:"sm",onClick:n,disabled:r,className:"gap-2",children:[a.jsx(Q5,{className:xt("w-4 h-4",r&&"animate-spin")}),"Refresh"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[a.jsx(f1,{label:"Total",count:f.total,active:c==="all",onClick:()=>u("all")}),a.jsx(f1,{label:"Active",count:f.active,active:c==="active",onClick:()=>u("active"),color:"green"}),a.jsx(f1,{label:"Pending",count:f.pending,active:c==="pending",onClick:()=>u("pending"),color:"yellow"}),a.jsx(f1,{label:"Sold",count:f.sold,color:"blue"}),a.jsx(f1,{label:"Stale",count:f.stale,active:c==="stale",onClick:()=>u("stale"),color:"orange",alert:f.stale>0})]}),i.size>0&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-semibold",children:[i.size," selected"]}),a.jsx(He,{variant:"ghost",size:"sm",onClick:b,children:"Select All"}),a.jsx(He,{variant:"ghost",size:"sm",onClick:v,children:"Clear"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(He,{size:"sm",variant:"outline",onClick:()=>m("active"),className:"gap-1",children:[a.jsx(Cu,{className:"w-4 h-4"}),"Active ",a.jsx("kbd",{className:"ml-1 text-xs",children:"A"})]}),a.jsxs(He,{size:"sm",variant:"outline",onClick:()=>m("pending"),className:"gap-1",children:[a.jsx(hm,{className:"w-4 h-4"}),"Pending ",a.jsx("kbd",{className:"ml-1 text-xs",children:"P"})]}),a.jsxs(He,{size:"sm",variant:"outline",onClick:()=>m("sold"),className:"gap-1",children:[a.jsx(ate,{className:"w-4 h-4"}),"Sold ",a.jsx("kbd",{className:"ml-1 text-xs",children:"S"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(_=>a.jsx(Ypt,{listing:_,isSelected:i.has(_.id),isUpdating:o.has(_.id),onSelect:()=>y(_.id),onStatusChange:p,isStale:d(_)},_.id))}),h.length===0&&a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(Ci,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"No listings found"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]})]})}function f1({label:t,count:e,active:n,onClick:r,color:i,alert:s}){const o={green:"text-green-600 bg-green-50 border-green-200",yellow:"text-yellow-600 bg-yellow-50 border-yellow-200",blue:"text-blue-600 bg-blue-50 border-blue-200",orange:"text-orange-600 bg-orange-50 border-orange-200"};return a.jsxs("button",{onClick:r,disabled:!r,className:xt("relative p-4 rounded-lg border-2 transition-all",n?"border-primary bg-primary/5":"border-gray-200 bg-white",r&&"hover:border-primary/50 cursor-pointer",!r&&"cursor-default"),children:[s&&a.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full animate-pulse"}),a.jsx("div",{className:"text-3xl font-bold",children:e}),a.jsx("div",{className:xt("text-sm font-medium",i&&o[i]),children:t})]})}function Ypt({listing:t,isSelected:e,isUpdating:n,onSelect:r,onStatusChange:i,isStale:s}){const o={active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800"};return a.jsxs("div",{onClick:r,className:xt("relative group p-4 rounded-lg border-2 transition-all cursor-pointer",e?"border-primary bg-primary/5 shadow-md":"border-gray-200 bg-white hover:border-gray-300",n&&"opacity-50 pointer-events-none",s&&"border-l-4 border-l-orange-500"),children:[a.jsx("div",{className:xt("absolute top-2 left-2 w-5 h-5 rounded border-2 flex items-center justify-center",e?"bg-primary border-primary":"border-gray-300 group-hover:border-primary"),children:e&&a.jsx(Cu,{className:"w-4 h-4 text-white"})}),s&&a.jsxs(nn,{variant:"outline",className:"absolute top-2 right-2 bg-orange-100 text-orange-800 border-orange-300",children:[a.jsx(hm,{className:"w-3 h-3 mr-1"}),"Stale"]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"font-semibold text-sm truncate mb-1",children:t.title}),a.jsxs("p",{className:"text-lg font-bold text-primary mb-2",children:["$",t.price.toLocaleString()]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(nn,{className:o[t.status],children:t.status.toUpperCase()}),a.jsx("span",{className:"text-xs text-gray-500",children:mb(new Date(t.updatedAt),{addSuffix:!0})})]}),(t.views!==void 0||t.leads!==void 0)&&a.jsxs("div",{className:"flex gap-3 text-xs text-gray-600 mb-3",children:[t.views!==void 0&&a.jsxs("span",{children:[" ",t.views," views"]}),t.leads!==void 0&&a.jsxs("span",{children:[" ",t.leads," leads"]})]}),a.jsxs("div",{className:"flex gap-2",children:[t.status!=="sold"&&a.jsx(He,{size:"sm",variant:"outline",onClick:l=>{l.stopPropagation(),i(t.id,"sold")},className:"flex-1 text-xs",children:"Mark Sold"}),t.status!=="pending"&&a.jsx(He,{size:"sm",variant:"outline",onClick:l=>{l.stopPropagation(),i(t.id,"pending")},className:"flex-1 text-xs",children:"Pending"})]})]}),n&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 rounded-lg",children:a.jsx(Q5,{className:"w-6 h-6 animate-spin text-primary"})})]})}function Xpt({staleListings:t,onDismiss:e,onRefresh:n,onDismissAll:r,className:i}){const[s,o]=C.useState(!0),[l,c]=C.useState(new Set);C.useEffect(()=>{const m=localStorage.getItem("dismissed-stale-alerts");if(m)try{c(new Set(JSON.parse(m)))}catch(y){console.error("Failed to parse dismissed alerts:",y)}},[]),C.useEffect(()=>{localStorage.setItem("dismissed-stale-alerts",JSON.stringify(Array.from(l)))},[l]);const u=t.filter(m=>!l.has(m.id));if(u.length===0)return null;const d=m=>{c(y=>new Set(y).add(m)),e==null||e(m)},h=()=>{c(new Set(t.map(m=>m.id))),r==null||r()},f=u.filter(m=>m.daysSinceUpdate>=14).length,p=u.length-f;return a.jsxs("div",{className:xt("bg-orange-50 border-2 border-orange-200 rounded-lg",i),children:[a.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>o(!s),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(DP,{className:"w-6 h-6 text-orange-600"}),a.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-600 text-white text-xs rounded-full flex items-center justify-center font-bold",children:u.length})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-orange-900",children:"Stale Listings Need Attention"}),a.jsxs("p",{className:"text-sm text-orange-700",children:[f>0&&a.jsxs("span",{className:"font-medium",children:[f," critical (14+ days)"]}),f>0&&p>0&&"  ",p>0&&a.jsxs("span",{children:[p," warning (7+ days)"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{size:"sm",variant:"ghost",onClick:m=>{m.stopPropagation(),h()},className:"text-orange-700 hover:text-orange-900",children:"Dismiss All"}),a.jsx(He,{size:"sm",variant:"ghost",className:"text-orange-700",onClick:m=>m.stopPropagation(),children:s?"":""})]})]}),s&&a.jsx("div",{className:"border-t border-orange-200 divide-y divide-orange-200",children:u.map(m=>a.jsx(Kpt,{listing:m,onDismiss:()=>d(m.id),onRefresh:()=>n==null?void 0:n(m.id)},m.id))}),s&&a.jsxs("div",{className:"p-4 bg-orange-100/50 border-t border-orange-200",children:[a.jsx("p",{className:"text-xs text-orange-800 mb-2 font-medium",children:" Quick Tips:"}),a.jsxs("ul",{className:"text-xs text-orange-700 space-y-1 ml-4 list-disc",children:[a.jsx("li",{children:"Update listing descriptions with recent improvements or price changes"}),a.jsx("li",{children:"Add new photos to refresh your listing's appeal"}),a.jsx("li",{children:"Verify pricing is still competitive in current market"}),a.jsx("li",{children:"Check if property status has changed"})]})]})]})}function Kpt({listing:t,onDismiss:e,onRefresh:n}){const r=t.daysSinceUpdate>=14;return a.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-orange-100/30 transition-colors",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:t.title}),a.jsx(nn,{variant:"outline",className:xt("text-xs",r?"bg-red-100 text-red-800 border-red-300":"bg-yellow-100 text-yellow-800 border-yellow-300"),children:r?a.jsxs(a.Fragment,{children:[a.jsx(DP,{className:"w-3 h-3 mr-1"}),"CRITICAL"]}):a.jsxs(a.Fragment,{children:[a.jsx(hm,{className:"w-3 h-3 mr-1"}),"WARNING"]})})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("span",{children:["Status: ",t.status]}),a.jsxs("span",{children:["Last updated:"," ",mb(new Date(t.updatedAt),{addSuffix:!0})]}),a.jsxs("span",{className:"font-medium text-orange-700",children:[t.daysSinceUpdate," days old"]})]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsxs(He,{size:"sm",variant:"outline",onClick:n,className:"gap-1 bg-white",children:[a.jsx(Q5,{className:"w-3 h-3"}),"Update"]}),a.jsx(He,{size:"sm",variant:"ghost",onClick:e,children:a.jsx(tl,{className:"w-4 h-4"})})]})]})}function Zpt({count:t}){return t===0?null:a.jsxs(nn,{variant:"outline",className:"bg-orange-100 text-orange-800 border-orange-300 animate-pulse",children:[a.jsx(DP,{className:"w-3 h-3 mr-1"}),t," Stale"]})}function Qpt({listings:t,selectedIds:e,onToggleSelect:n,onSelectAll:r,onClearSelection:i,onBulkUpdate:s,onBulkDelete:o}){const[l,c]=C.useState(!1),[u,d]=C.useState({}),[h,f]=C.useState("increase"),[p,m]=C.useState(""),[y,b]=C.useState("percent"),v=t.filter(A=>e.includes(A.id)),_=t.length>0&&e.length===t.length,S=async()=>{if(e.length===0){at.error("No listings selected");return}const A={...u};if(p&&(A.priceAdjustment={type:h,value:parseFloat(p),unit:y}),Object.keys(A).length===0){at.warning("No changes to apply");return}try{await s(A),at.success(`${e.length} listing(s) updated`),c(!1),d({}),m("")}catch(M){console.error("Bulk update failed:",M),at.error("Failed to update listings")}},j=async()=>{if(e.length===0){at.error("No listings selected");return}if(confirm(`Delete ${e.length} listing(s)? This cannot be undone.`))try{await o(e),at.success(`${e.length} listing(s) deleted`),i()}catch(A){console.error("Bulk delete failed:",A),at.error("Failed to delete listings")}},N=A=>{if(!p)return A.price;const M=parseFloat(p);if(isNaN(M))return A.price;switch(h){case"increase":return y==="percent"?A.price*(1+M/100):A.price+M;case"decrease":return y==="percent"?A.price*(1-M/100):A.price-M;case"set":return M;default:return A.price}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(He,{variant:"outline",size:"sm",onClick:_?i:r,className:"gap-2",children:_?a.jsxs(a.Fragment,{children:[a.jsx(KSe,{className:"w-4 h-4"}),"Deselect All"]}):a.jsxs(a.Fragment,{children:[a.jsx(fte,{className:"w-4 h-4"}),"Select All"]})}),a.jsxs("span",{className:"text-sm font-medium",children:[e.length," of ",t.length," selected"]})]}),a.jsx("div",{className:"flex gap-2",children:e.length>0&&!l&&a.jsxs(a.Fragment,{children:[a.jsxs(He,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"gap-2",children:[a.jsx(ov,{className:"w-4 h-4"}),"Bulk Edit"]}),a.jsxs(He,{variant:"destructive",size:"sm",onClick:j,className:"gap-2",children:[a.jsx(qp,{className:"w-4 h-4"}),"Delete Selected"]})]})})]}),l&&e.length>0&&a.jsxs("div",{className:"p-6 bg-white rounded-lg border-2 border-primary shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Bulk Edit ",e.length," Listings"]}),a.jsx(He,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:a.jsx(tl,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{children:"Update Status"}),a.jsxs($n,{value:u.status||"",onValueChange:A=>d({...u,status:A}),children:[a.jsx(Ln,{children:a.jsx(Hn,{placeholder:"Keep current status"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"active",children:"Active"}),a.jsx(Ie,{value:"pending",children:"Pending"}),a.jsx(Ie,{value:"sold",children:"Sold"}),a.jsx(Ie,{value:"draft",children:"Draft"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{children:"Update Category"}),a.jsxs($n,{value:u.category||"",onValueChange:A=>d({...u,category:A}),children:[a.jsx(Ln,{children:a.jsx(Hn,{placeholder:"Keep current category"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"residential",children:"Residential"}),a.jsx(Ie,{value:"commercial",children:"Commercial"}),a.jsx(Ie,{value:"land",children:"Land"}),a.jsx(Ie,{value:"rental",children:"Rental"})]})]})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(ct,{children:"Price Adjustment"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs($n,{value:h,onValueChange:A=>f(A),children:[a.jsx(Ln,{children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"increase",children:"Increase"}),a.jsx(Ie,{value:"decrease",children:"Decrease"}),a.jsx(Ie,{value:"set",children:"Set to"})]})]}),a.jsx(Yt,{type:"number",placeholder:"Value",value:p,onChange:A=>m(A.target.value)}),a.jsxs($n,{value:y,onValueChange:A=>b(A),children:[a.jsx(Ln,{children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"percent",children:"Percent"}),a.jsx(Ie,{value:"amount",children:"Amount"})]})]})]})]})]}),v.length>0&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Preview Changes"}),a.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[v.slice(0,5).map(A=>a.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-white rounded",children:[a.jsx("span",{className:"truncate flex-1",children:A.title}),p&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-gray-500 line-through",children:["$",A.price.toLocaleString()]}),a.jsxs("span",{className:"font-medium text-primary",children:["$",N(A).toLocaleString()]})]})]},A.id)),v.length>5&&a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["... and ",v.length-5," ","more"]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx(He,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),a.jsxs(He,{onClick:S,className:"gap-2",children:[a.jsx(ab,{className:"w-4 h-4"}),"Apply Changes"]})]})]})]})}function Jpt({shortcuts:t,className:e}){const[n,r]=C.useState(!1),[i,s]=C.useState("");C.useEffect(()=>{const l=c=>{if(c.target instanceof HTMLInputElement||c.target instanceof HTMLTextAreaElement)return;if(c.key==="?"&&!c.shiftKey){c.preventDefault(),r(d=>!d);return}const u=t.find(d=>d.key.toLowerCase()===c.key.toLowerCase());u&&(c.preventDefault(),u.action(),s(u.key),setTimeout(()=>s(""),1e3))};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[t]);const o=t.reduce((l,c)=>{const u=c.category||"General";return l[u]||(l[u]=[]),l[u].push(c),l},{});return a.jsxs(a.Fragment,{children:[a.jsxs(He,{variant:"outline",size:"sm",onClick:()=>r(!0),className:xt("fixed bottom-4 right-4 md:bottom-6 md:right-6 z-30","shadow-lg gap-2",e),children:[a.jsx(SV,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden md:inline",children:"Shortcuts"}),a.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-gray-100 rounded border",children:"?"})]}),i&&a.jsx("div",{className:"fixed top-20 right-4 bg-primary text-white px-4 py-2 rounded-lg shadow-lg animate-in slide-in-from-top-5 duration-300 z-50",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-white/20 rounded text-sm font-mono",children:i}),a.jsx("span",{className:"text-sm",children:"Shortcut used!"})]})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(SV,{className:"w-5 h-5"}),a.jsx("h3",{className:"font-semibold text-lg",children:"Keyboard Shortcuts"})]}),a.jsx(He,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:a.jsx(tl,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-80px)]",children:[Object.entries(o).map(([l,c])=>a.jsxs("div",{className:"mb-6 last:mb-0",children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600 mb-3 uppercase tracking-wide",children:l}),a.jsx("div",{className:"space-y-2",children:c.map(u=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("span",{className:"text-sm",children:u.description}),a.jsx("kbd",{className:"px-3 py-1.5 bg-white border border-gray-300 rounded shadow-sm font-mono text-sm",children:u.key.toUpperCase()})]},u.key))})]},l)),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:a.jsxs("p",{className:"text-sm text-blue-900",children:[a.jsx("strong",{children:" Pro Tip:"})," Press"," ",a.jsx("kbd",{className:"px-2 py-1 bg-white rounded text-xs",children:"?"})," ","anytime to toggle this panel. Shortcuts don't work when typing in text fields."]})})]})]})})]})}function emt({stats:t,period:e="Last 30 days",className:n}){return a.jsxs("div",{className:xt("space-y-4",n),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Quick Analytics"}),a.jsx("span",{className:"text-sm text-gray-600",children:e})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map((r,i)=>a.jsx(tmt,{stat:r},i))})]})}function tmt({stat:t}){const e=t.icon||Ci,n=t.trend==="up",r=t.trend==="down";return a.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("div",{className:xt("p-2 rounded-lg",n&&"bg-green-100",r&&"bg-red-100",!n&&!r&&"bg-gray-100"),children:a.jsx(e,{className:xt("w-4 h-4",n&&"text-green-600",r&&"text-red-600",!n&&!r&&"text-gray-600")})}),t.change!==void 0&&a.jsxs("div",{className:xt("flex items-center gap-1 text-xs font-medium",n&&"text-green-600",r&&"text-red-600",!n&&!r&&"text-gray-600"),children:[n&&a.jsx(NSe,{className:"w-3 h-3"}),r&&a.jsx(ASe,{className:"w-3 h-3"}),Math.abs(t.change),"%"]})]}),a.jsx("div",{className:"text-2xl font-bold mb-1",children:t.value}),a.jsx("div",{className:"text-sm text-gray-600",children:t.label}),t.changeLabel&&a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t.changeLabel})]})}const nmt=t=>[{label:"Total Listings",value:t.totalListings,icon:Ci,trend:"neutral"},{label:"Active Listings",value:t.activeListings,icon:Qr,trend:"up"},{label:"Total Views",value:t.totalViews.toLocaleString(),change:t.viewsChange,changeLabel:t.viewsChange?"vs last period":void 0,icon:Wa,trend:t.viewsChange&&t.viewsChange>0?"up":t.viewsChange&&t.viewsChange<0?"down":"neutral"},{label:"Total Leads",value:t.totalLeads,change:t.leadsChange,changeLabel:t.leadsChange?"vs last period":void 0,icon:Nu,trend:t.leadsChange&&t.leadsChange>0?"up":t.leadsChange&&t.leadsChange<0?"down":"neutral"}],rmt=[{id:"1",title:"Modern 3BR House in Downtown",price:45e4,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*9).toISOString(),views:156,leads:12},{id:"2",title:"Luxury Condo with Ocean View",price:85e4,status:"pending",updatedAt:new Date(Date.now()-1e3*60*60*24*2).toISOString(),views:243,leads:18},{id:"3",title:"Cozy 2BR Apartment Near Park",price:325e3,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*15).toISOString(),views:89,leads:5},{id:"4",title:"Spacious Family Home with Pool",price:675e3,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*12).toISOString(),views:198,leads:22},{id:"5",title:"Renovated Townhouse in Suburbs",price:425e3,status:"sold",updatedAt:new Date(Date.now()-1e3*60*60*24*1).toISOString(),views:312,leads:28},{id:"6",title:"Charming Cottage with Garden",price:385e3,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*20).toISOString(),views:67,leads:3}];function imt(){const[t,e]=C.useState(rmt),[n,r]=C.useState([]),[i,s]=C.useState(!1),o=t.filter(v=>Math.floor((Date.now()-new Date(v.updatedAt).getTime())/864e5)>=7&&v.status==="active").map(v=>({id:v.id,title:v.title,status:v.status,updatedAt:v.updatedAt,daysSinceUpdate:Math.floor((Date.now()-new Date(v.updatedAt).getTime())/(1e3*60*60*24))})),l=nmt({totalListings:t.length,activeListings:t.filter(v=>v.status==="active").length,totalViews:t.reduce((v,_)=>v+(_.views||0),0),totalLeads:t.reduce((v,_)=>v+(_.leads||0),0),avgPrice:Math.floor(t.reduce((v,_)=>v+_.price,0)/t.length),viewsChange:12.5,leadsChange:8.3}),c=async(v,_)=>{await new Promise(S=>setTimeout(S,500)),e(S=>S.map(j=>j.id===v?{...j,status:_,updatedAt:new Date().toISOString()}:j))},u=async()=>{s(!0),await new Promise(v=>setTimeout(v,1e3)),s(!1),at.success("Listings refreshed")},d=async v=>{const _=t.find(S=>S.id===v);_&&at.info(`Opening editor for "${_.title}"`)},h=v=>{r(_=>_.includes(v)?_.filter(S=>S!==v):[..._,v])},f=()=>{r(t.map(v=>v.id))},p=()=>{r([])},m=async v=>{await new Promise(_=>setTimeout(_,1e3)),e(_=>_.map(S=>{if(!n.includes(S.id))return S;let j={...S,updatedAt:new Date().toISOString()};if(v.status&&(j.status=v.status),v.priceAdjustment){const{type:N,value:A,unit:M}=v.priceAdjustment;N==="increase"?j.price=M==="percent"?S.price*(1+A/100):S.price+A:N==="decrease"?j.price=M==="percent"?S.price*(1-A/100):S.price-A:N==="set"&&(j.price=A)}return j})),p()},y=async v=>{await new Promise(_=>setTimeout(_,800)),e(_=>_.filter(S=>!v.includes(S.id)))},b=[{key:"?",description:"Show keyboard shortcuts",action:()=>{},category:"General"},{key:"s",description:"Mark selected as Sold",action:()=>{n.length>0&&n.forEach(v=>c(v,"sold"))},category:"Status"},{key:"p",description:"Mark selected as Pending",action:()=>{n.length>0&&n.forEach(v=>c(v,"pending"))},category:"Status"},{key:"a",description:"Mark selected as Active",action:()=>{n.length>0&&n.forEach(v=>c(v,"active"))},category:"Status"},{key:"Escape",description:"Clear selection",action:p,category:"Selection"}];return a.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Quick Actions Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your listings efficiently with keyboard shortcuts and bulk actions"})]}),o.length>0&&a.jsx(Zpt,{count:o.length})]}),a.jsx(emt,{stats:l,period:"Last 30 days"}),o.length>0&&a.jsx(Xpt,{staleListings:o,onRefresh:d}),a.jsxs(Bd,{defaultValue:"quick-status",className:"w-full",children:[a.jsxs(kc,{className:"grid w-full grid-cols-2 max-w-md",children:[a.jsx(Sn,{value:"quick-status",children:"Quick Status"}),a.jsx(Sn,{value:"bulk-edit",children:"Bulk Edit"})]}),a.jsx(xi,{value:"quick-status",className:"mt-6",children:a.jsx(qpt,{listings:t,onStatusChange:c,onRefresh:u,isLoading:i})}),a.jsxs(xi,{value:"bulk-edit",className:"mt-6",children:[a.jsx(Qpt,{listings:t,selectedIds:n,onToggleSelect:h,onSelectAll:f,onClearSelection:p,onBulkUpdate:m,onBulkDelete:y}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:t.map(v=>a.jsxs("div",{onClick:()=>h(v.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n.includes(v.id)?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:v.title}),a.jsx("input",{type:"checkbox",checked:n.includes(v.id),onChange:()=>h(v.id),className:"mt-1"})]}),a.jsxs("p",{className:"text-lg font-bold text-primary",children:["$",v.price.toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:v.status})]},v.id))})]})]}),a.jsx(Jpt,{shortcuts:b})]})}function smt({leads:t,onLeadClick:e,onQuickReply:n,onMarkAsRead:r,className:i}){const[s,o]=C.useState(""),[l,c]=C.useState("all"),[u,d]=C.useState("all"),[h,f]=C.useState("all"),[p,m]=C.useState("date"),y=C.useMemo(()=>{let _=t.filter(S=>{const j=s===""||S.name.toLowerCase().includes(s.toLowerCase())||S.email.toLowerCase().includes(s.toLowerCase())||S.message.toLowerCase().includes(s.toLowerCase()),N=l==="all"||S.status===l,A=u==="all"||S.priority===u,M=h==="all"||S.source===h;return j&&N&&A&&M});return _.sort((S,j)=>{switch(p){case"score":return j.score-S.score;case"priority":const N={hot:3,warm:2,cold:1};return N[j.priority]-N[S.priority];case"date":default:return new Date(j.createdAt).getTime()-new Date(S.createdAt).getTime()}}),_},[t,s,l,u,h,p]),b={total:t.length,new:t.filter(_=>_.status==="new").length,hot:t.filter(_=>_.priority==="hot").length,avgScore:Math.round(t.reduce((_,S)=>_+S.score,0)/t.length)},v=Array.from(new Set(t.map(_=>_.source)));return a.jsxs("div",{className:xt("space-y-4",i),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Lead Inbox"}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[b.new," new leads  ",b.hot," hot  Avg score:"," ",b.avgScore]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs($n,{value:p,onValueChange:_=>m(_),children:[a.jsx(Ln,{className:"w-32",children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"date",children:"Latest"}),a.jsx(Ie,{value:"score",children:"Score"}),a.jsx(Ie,{value:"priority",children:"Priority"})]})]})})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(av,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Yt,{placeholder:"Search leads...",value:s,onChange:_=>o(_.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($n,{value:l,onValueChange:c,children:[a.jsx(Ln,{className:"w-32",children:a.jsx(Hn,{placeholder:"Status"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"all",children:"All Status"}),a.jsx(Ie,{value:"new",children:"New"}),a.jsx(Ie,{value:"contacted",children:"Contacted"}),a.jsx(Ie,{value:"qualified",children:"Qualified"}),a.jsx(Ie,{value:"converted",children:"Converted"})]})]}),a.jsxs($n,{value:u,onValueChange:d,children:[a.jsx(Ln,{className:"w-32",children:a.jsx(Hn,{placeholder:"Priority"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"all",children:"All Priority"}),a.jsx(Ie,{value:"hot",children:"Hot"}),a.jsx(Ie,{value:"warm",children:"Warm"}),a.jsx(Ie,{value:"cold",children:"Cold"})]})]}),a.jsxs($n,{value:h,onValueChange:f,children:[a.jsx(Ln,{className:"w-32",children:a.jsx(Hn,{placeholder:"Source"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"all",children:"All Sources"}),v.map(_=>a.jsx(Ie,{value:_,children:_},_))]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[y.map(_=>a.jsx(amt,{lead:_,onClick:()=>e(_),onQuickReply:()=>n(_.id),onMarkAsRead:()=>r(_.id)},_.id)),y.length===0&&a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(Li,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"No leads found"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]})]})]})}function amt({lead:t,onClick:e,onQuickReply:n,onMarkAsRead:r}){const i={hot:"bg-red-100 text-red-800 border-red-300",warm:"bg-yellow-100 text-yellow-800 border-yellow-300",cold:"bg-blue-100 text-blue-800 border-blue-300"},s={new:"bg-green-100 text-green-800",contacted:"bg-blue-100 text-blue-800",qualified:"bg-purple-100 text-purple-800",unqualified:"bg-gray-100 text-gray-800",converted:"bg-emerald-100 text-emerald-800"},o=t.status==="new",l=t.priority==="hot";return a.jsx("div",{onClick:e,className:xt("relative p-4 rounded-lg border-2 transition-all cursor-pointer","hover:shadow-md hover:border-gray-300",o&&"bg-blue-50 border-blue-200",!o&&"bg-white border-gray-200",l&&"border-l-4 border-l-red-500"),children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:xt("font-semibold truncate",o&&"text-primary"),children:t.name}),o&&a.jsx(nn,{variant:"outline",className:"bg-blue-100",children:"NEW"}),a.jsx(nn,{variant:"outline",className:i[t.priority],children:t.priority.toUpperCase()}),a.jsx(nn,{className:s[t.status],children:t.status})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Li,{className:"w-3 h-3"}),t.email]}),t.phone&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ko,{className:"w-3 h-3"}),t.phone]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(fm,{className:"w-3 h-3"}),t.source]})]}),a.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-2",children:t.message}),t.listingTitle&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Interested in:"," ",a.jsx("span",{className:"font-medium",children:t.listingTitle})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hm,{className:"w-3 h-3"}),mb(new Date(t.createdAt),{addSuffix:!0})]}),t.lastContactedAt&&a.jsxs("span",{children:["Last contacted:"," ",mb(new Date(t.lastContactedAt),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Qr,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-lg font-bold text-primary",children:t.score})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(He,{size:"sm",variant:"outline",onClick:c=>{c.stopPropagation(),n()},children:a.jsx(Gp,{className:"w-4 h-4"})}),a.jsx(He,{size:"sm",variant:"outline",onClick:c=>{c.stopPropagation(),r()},children:a.jsx(Li,{className:"w-4 h-4"})})]})]})]})})}function omt({templates:t,onSelectTemplate:e,onCreateTemplate:n,onUpdateTemplate:r,onDeleteTemplate:i,className:s}){const[o,l]=C.useState("all"),[c,u]=C.useState(""),[d,h]=C.useState(!1),f=t.filter(m=>{const y=o==="all"||m.category===o,b=c===""||m.name.toLowerCase().includes(c.toLowerCase())||m.body.toLowerCase().includes(c.toLowerCase());return y&&b}),p=[{value:"all",label:"All Templates"},{value:"initial",label:"Initial Response"},{value:"followup",label:"Follow-up"},{value:"showing",label:"Property Showing"},{value:"offer",label:"Offer Discussion"},{value:"general",label:"General"}];return a.jsxs("div",{className:xt("space-y-4",s),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Quick Response Templates"}),n&&a.jsxs(Ga,{open:d,onOpenChange:h,children:[a.jsx(Kh,{asChild:!0,children:a.jsxs(He,{size:"sm",className:"gap-2",children:[a.jsx(Ps,{className:"w-4 h-4"}),"New Template"]})}),a.jsxs(Ta,{children:[a.jsx(qa,{children:a.jsx(Ya,{children:"Create New Template"})}),a.jsx(mhe,{onSave:m=>{n(m),h(!1),at.success("Template created")},onCancel:()=>h(!1)})]})]})]}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:p.map(m=>a.jsx(He,{variant:o===m.value?"default":"outline",size:"sm",onClick:()=>l(m.value),children:m.label},m.value))}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:f.map(m=>a.jsx(lmt,{template:m,onUse:()=>e(m),onEdit:r?y=>r(m.id,y):void 0,onDelete:i?()=>i(m.id):void 0},m.id))}),f.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Gp,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No templates found"})]})]})}function lmt({template:t,onUse:e,onEdit:n,onDelete:r}){const[i,s]=C.useState(!1),[o,l]=C.useState(!1),c={initial:"bg-green-100 text-green-800",followup:"bg-blue-100 text-blue-800",showing:"bg-purple-100 text-purple-800",offer:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"},u=()=>{navigator.clipboard.writeText(t.body),l(!0),setTimeout(()=>l(!1),2e3),at.success("Template copied to clipboard")};return a.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold mb-1",children:t.name}),a.jsx(nn,{className:c[t.category],children:t.category})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(He,{size:"sm",variant:"ghost",onClick:u,className:"h-8 w-8 p-0",children:o?a.jsx(cd,{className:"w-4 h-4 text-green-600"}):a.jsx(X5,{className:"w-4 h-4"})}),n&&a.jsx(He,{size:"sm",variant:"ghost",onClick:()=>s(!0),className:"h-8 w-8 p-0",children:a.jsx(HSe,{className:"w-4 h-4"})}),r&&a.jsx(He,{size:"sm",variant:"ghost",onClick:r,className:"h-8 w-8 p-0 text-red-600",children:a.jsx(qp,{className:"w-4 h-4"})})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-1 font-medium",children:t.subject}),a.jsx("p",{className:"text-sm text-gray-700 line-clamp-3 mb-3",children:t.body}),t.variables.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:t.variables.map(d=>a.jsx(nn,{variant:"outline",className:"text-xs",children:`{${d}}`},d))}),a.jsx(He,{size:"sm",onClick:e,className:"w-full",children:"Use Template"}),i&&n&&a.jsx(Ga,{open:i,onOpenChange:s,children:a.jsxs(Ta,{children:[a.jsx(qa,{children:a.jsx(Ya,{children:"Edit Template"})}),a.jsx(mhe,{initialData:t,onSave:d=>{n(d),s(!1),at.success("Template updated")},onCancel:()=>s(!1)})]})})]})}function mhe({initialData:t,onSave:e,onCancel:n}){const[r,i]=C.useState((t==null?void 0:t.name)||""),[s,o]=C.useState((t==null?void 0:t.subject)||""),[l,c]=C.useState((t==null?void 0:t.body)||""),[u,d]=C.useState((t==null?void 0:t.category)||"general"),h=()=>{if(!r||!s||!l){at.error("Please fill in all fields");return}const f=[...l.matchAll(/\{(\w+)\}/g)].map(p=>p[1]);e({name:r,subject:s,body:l,category:u,variables:f})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ct,{children:"Template Name"}),a.jsx(Yt,{value:r,onChange:f=>i(f.target.value),placeholder:"e.g., Initial Response - Listing Inquiry"})]}),a.jsxs("div",{children:[a.jsx(ct,{children:"Category"}),a.jsxs("select",{value:u,onChange:f=>d(f.target.value),className:"w-full p-2 border rounded",children:[a.jsx("option",{value:"initial",children:"Initial Response"}),a.jsx("option",{value:"followup",children:"Follow-up"}),a.jsx("option",{value:"showing",children:"Property Showing"}),a.jsx("option",{value:"offer",children:"Offer Discussion"}),a.jsx("option",{value:"general",children:"General"})]})]}),a.jsxs("div",{children:[a.jsx(ct,{children:"Subject Line"}),a.jsx(Yt,{value:s,onChange:f=>o(f.target.value),placeholder:"e.g., Re: {listingAddress}"})]}),a.jsxs("div",{children:[a.jsx(ct,{children:"Message Body"}),a.jsx(Jo,{value:l,onChange:f=>c(f.target.value),placeholder:"Use {variable} for dynamic fields like {leadName}, {listingAddress}, etc.",rows:8}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use curly braces for variables: ","{leadName}",","," ","{listingAddress}",", ","{price}"]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(He,{variant:"outline",onClick:n,children:"Cancel"}),a.jsx(He,{onClick:h,children:"Save Template"})]})]})}const cmt=[{id:"1",name:"Initial Response - Listing Inquiry",subject:"Re: {listingAddress}",body:`Hi {leadName},

Thank you for your interest in {listingAddress}! I'd love to help you learn more about this property.

This {bedrooms}-bedroom, {bathrooms}-bathroom home is priced at {price} and features:
 {feature1}
 {feature2}
 {feature3}

I'm available to schedule a showing at your convenience. What days/times work best for you this week?

Best regards,
{agentName}
{agentPhone}`,category:"initial",variables:["leadName","listingAddress","bedrooms","bathrooms","price","feature1","feature2","feature3","agentName","agentPhone"]},{id:"2",name:"Follow-up - No Response",subject:"Following up on {listingAddress}",body:`Hi {leadName},

I wanted to follow up on your interest in {listingAddress}. I know finding the right home can take time, and I'm here to help.

Are you still interested in viewing this property? Or would you like me to send you similar listings that might fit your needs?

Feel free to call/text me anytime at {agentPhone}.

Best regards,
{agentName}`,category:"followup",variables:["leadName","listingAddress","agentPhone","agentName"]},{id:"3",name:"Showing Confirmation",subject:"Confirmed: Property Showing at {listingAddress}",body:`Hi {leadName},

Great news! Your showing for {listingAddress} is confirmed for {showingDate} at {showingTime}.

Property Address:
{listingAddress}

I'll meet you at the property. If you need to reschedule, please let me know as soon as possible.

Looking forward to showing you this home!

Best regards,
{agentName}
{agentPhone}`,category:"showing",variables:["leadName","listingAddress","showingDate","showingTime","agentName","agentPhone"]}];function umt({hotLeads:t,onView:e,onDismiss:n,onQuickCall:r,autoHide:i=!1,autoHideDelay:s=3e4,soundEnabled:o=!0,className:l}){const[c,u]=C.useState(new Set),[d,h]=C.useState(new Set);C.useEffect(()=>{const m=t.map(v=>v.id),y=new Set(c),b=m.filter(v=>!y.has(v)&&!d.has(v));b.length>0&&(at.success(`${b.length} hot lead(s) just arrived!`,{icon:a.jsx(K5,{className:"w-4 h-4 text-orange-600"})}),o&&fmt(),b.forEach(v=>y.add(v)),u(y),i&&setTimeout(()=>{b.forEach(v=>f(v))},s))},[t]);const f=m=>{h(y=>new Set(y).add(m)),n(m)},p=t.filter(m=>!d.has(m.id));return p.length===0?null:a.jsx("div",{className:xt("space-y-2",l),children:p.map(m=>a.jsx(dmt,{lead:m,onView:()=>e(m.id),onDismiss:()=>f(m.id),onQuickCall:r?()=>r(m.id):void 0},m.id))})}function dmt({lead:t,onView:e,onDismiss:n,onQuickCall:r}){const[i,s]=C.useState(!0);return C.useEffect(()=>{const o=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(o)},[]),a.jsxs("div",{className:xt("relative p-4 rounded-lg border-2 border-orange-500 bg-orange-50 shadow-lg","animate-in slide-in-from-top-5 duration-300",i&&"animate-pulse"),children:[a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsxs(nn,{className:"bg-orange-600 text-white gap-1 animate-bounce",children:[a.jsx(K5,{className:"w-3 h-3"}),"HOT LEAD"]})}),a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h4",{className:"font-bold text-lg",children:t.name}),a.jsxs(nn,{variant:"outline",className:"bg-red-100 text-red-800",children:["Score: ",t.score]})]}),a.jsxs("div",{className:"space-y-1 text-sm mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx(Li,{className:"w-3 h-3"}),t.email]}),t.phone&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx(Ko,{className:"w-3 h-3"}),t.phone]}),a.jsxs("div",{className:"text-gray-600",children:["From: ",t.source]})]}),t.listingTitle&&a.jsxs("p",{className:"text-sm font-medium text-gray-900 mb-2",children:["Interested in: ",t.listingTitle]}),a.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-2",children:t.message}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Received"," ",mb(new Date(t.createdAt),{addSuffix:!0})]})]}),a.jsx("div",{className:"flex flex-col gap-2",children:a.jsx(He,{size:"sm",onClick:n,variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(tl,{className:"w-4 h-4"})})})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[r&&t.phone&&a.jsxs(He,{size:"sm",onClick:r,className:"flex-1 bg-green-600 hover:bg-green-700 gap-1",children:[a.jsx(Ko,{className:"w-4 h-4"}),"Call Now"]}),a.jsxs(He,{size:"sm",onClick:e,className:"flex-1 bg-orange-600 hover:bg-orange-700 gap-1",children:[a.jsx(Wa,{className:"w-4 h-4"}),"View Details",a.jsx(sb,{className:"w-4 h-4"})]})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200 rounded-b-lg overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-600 animate-pulse",style:{width:`${t.score}%`}})})]})}function hmt({count:t,onClick:e}){return t===0?null:a.jsxs(He,{variant:"outline",size:"sm",onClick:e,className:"relative gap-2 border-orange-500 bg-orange-50 hover:bg-orange-100 text-orange-900 animate-pulse",children:[a.jsx(K5,{className:"w-4 h-4 text-orange-600"}),a.jsxs("span",{className:"font-bold",children:[t," Hot Lead",t>1?"s":""]}),a.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})}function fmt(){try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.value=800,e.type="sine",n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),e.start(t.currentTime),e.stop(t.currentTime+.5)}catch(t){console.warn("Could not play notification sound:",t)}}function pmt({lead:t,onClose:e,onUpdateStatus:n,onAddNote:r,onSendEmail:i,onScheduleCall:s,className:o}){const[l,c]=C.useState("overview"),[u,d]=C.useState(""),[h,f]=C.useState(!1),p={hot:"bg-red-100 text-red-800 border-red-300",warm:"bg-yellow-100 text-yellow-800 border-yellow-300",cold:"bg-blue-100 text-blue-800 border-blue-300"},m={new:"bg-green-100 text-green-800",contacted:"bg-blue-100 text-blue-800",qualified:"bg-purple-100 text-purple-800",unqualified:"bg-gray-100 text-gray-800",converted:"bg-emerald-100 text-emerald-800"},y=async()=>{if(!u.trim()){at.error("Please enter a note");return}f(!0);try{await r(u),d(""),at.success("Note added")}catch{at.error("Failed to add note")}finally{f(!1)}};return a.jsx("div",{className:xt("fixed inset-0 bg-black/50 z-50 overflow-y-auto",o),children:a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold",children:t.name}),a.jsx(nn,{variant:"outline",className:p[t.priority],children:t.priority.toUpperCase()}),a.jsx(nn,{className:m[t.status],children:t.status})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Li,{className:"w-4 h-4"}),t.email]}),t.phone&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ko,{className:"w-4 h-4"}),t.phone]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(fm,{className:"w-4 h-4"}),t.source]})]})]}),a.jsx(He,{variant:"ghost",size:"sm",onClick:e,children:a.jsx(tl,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qr,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-medium",children:"Lead Score:"}),a.jsx("span",{className:"text-2xl font-bold text-primary",children:t.score}),a.jsx("span",{className:"text-sm text-gray-600",children:"/100"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Created"," ",mb(new Date(t.createdAt),{addSuffix:!0})]})]}),a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsxs(He,{className:"gap-2",onClick:()=>window.open(`mailto:${t.email}`),children:[a.jsx(Li,{className:"w-4 h-4"}),"Email"]}),t.phone&&a.jsxs(He,{variant:"outline",className:"gap-2",onClick:()=>window.open(`tel:${t.phone}`),children:[a.jsx(Ko,{className:"w-4 h-4"}),"Call"]}),s&&a.jsxs(He,{variant:"outline",className:"gap-2",onClick:s,children:[a.jsx(Eo,{className:"w-4 h-4"}),"Schedule"]}),a.jsxs($n,{value:t.status,onValueChange:b=>n(b),children:[a.jsx(Ln,{className:"w-40",children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"new",children:"New"}),a.jsx(Ie,{value:"contacted",children:"Contacted"}),a.jsx(Ie,{value:"qualified",children:"Qualified"}),a.jsx(Ie,{value:"unqualified",children:"Unqualified"}),a.jsx(Ie,{value:"converted",children:"Converted"})]})]})]})]}),a.jsx("div",{className:"border-b",children:a.jsx("div",{className:"flex gap-4 px-6",children:["overview","timeline","notes"].map(b=>a.jsx("button",{onClick:()=>c(b),className:xt("py-3 px-1 border-b-2 font-medium text-sm capitalize transition-colors",l===b?"border-primary text-primary":"border-transparent text-gray-600 hover:text-gray-900"),children:b},b))})}),a.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[l==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[a.jsx(Gp,{className:"w-4 h-4"}),"Original Message"]}),a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-700",children:t.message})})]}),t.listingTitle&&a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[a.jsx(Ci,{className:"w-4 h-4"}),"Interested Property"]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center gap-4",children:[t.listingImage&&a.jsx("img",{src:t.listingImage,alt:t.listingTitle,className:"w-24 h-24 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:t.listingTitle}),a.jsxs(He,{variant:"link",size:"sm",className:"gap-1 p-0 h-auto",onClick:()=>{},children:["View Listing",a.jsx(Su,{className:"w-3 h-3"})]})]})]})]}),t.tags&&t.tags.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[a.jsx(ZSe,{className:"w-4 h-4"}),"Tags"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(b=>a.jsx(nn,{variant:"outline",children:b},b))})]})]}),l==="timeline"&&a.jsx("div",{className:"space-y-4",children:t.timeline&&t.timeline.length>0?t.timeline.map(b=>a.jsx(mmt,{event:b},b.id)):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(hm,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No timeline events yet"})]})}),l==="notes"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Jo,{value:u,onChange:b=>d(b.target.value),placeholder:"Add a note about this lead...",rows:3}),a.jsx(He,{onClick:y,disabled:h||!u.trim(),className:"w-full",children:"Add Note"})]}),t.notes&&a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.notes})})]})]})]})})})}function mmt({event:t}){const e=()=>{switch(t.type){case"email":return a.jsx(Li,{className:"w-4 h-4"});case"call":return a.jsx(Ko,{className:"w-4 h-4"});case"meeting":return a.jsx(Eo,{className:"w-4 h-4"});case"status_change":return a.jsx(Qr,{className:"w-4 h-4"});case"note":default:return a.jsx(Gp,{className:"w-4 h-4"})}};return a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:e()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-700",children:t.content}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[md(new Date(t.timestamp),"MMM d, yyyy 'at' h:mm a"),t.user&&`  ${t.user}`]})]})]})}const gmt=[{id:"1",name:"Sarah Johnson",email:"sarah.j@email.com",phone:"+1 (555) 123-4567",message:"Hi, I'm very interested in the 3BR house in Downtown. I'd like to schedule a viewing this week if possible. I'm pre-approved and ready to move quickly. Can you provide more details about the HOA fees and recent renovations?",listingTitle:"Modern 3BR House in Downtown",listingId:"listing-1",source:"zillow",score:85,status:"new",priority:"hot",createdAt:new Date(Date.now()-1e3*60*15).toISOString(),tags:["pre-approved","quick-move"]},{id:"2",name:"Michael Chen",email:"mchen@email.com",phone:"+1 (555) 987-6543",message:"Looking for properties in the $400-500k range. Interested in your luxury condo listing.",listingTitle:"Luxury Condo with Ocean View",listingId:"listing-2",source:"realtor",score:72,status:"new",priority:"hot",createdAt:new Date(Date.now()-1e3*60*30).toISOString(),tags:["investor"]},{id:"3",name:"Emily Rodriguez",email:"emily.r@email.com",message:"What's the monthly HOA fee for the apartment near the park?",listingTitle:"Cozy 2BR Apartment Near Park",listingId:"listing-3",source:"facebook",score:58,status:"contacted",priority:"warm",createdAt:new Date(Date.now()-1e3*60*60*2).toISOString(),lastContactedAt:new Date(Date.now()-1e3*60*30).toISOString(),tags:["first-time-buyer"]},{id:"4",name:"David Kim",email:"dkim@email.com",phone:"+1 (555) 234-5678",message:"I saw your listing for the family home with pool. Is it still available?",listingTitle:"Spacious Family Home with Pool",listingId:"listing-4",source:"website",score:45,status:"contacted",priority:"warm",createdAt:new Date(Date.now()-1e3*60*60*5).toISOString(),lastContactedAt:new Date(Date.now()-1e3*60*60*3).toISOString()},{id:"5",name:"Lisa Anderson",email:"lisa.a@email.com",message:"Info please",listingTitle:"Renovated Townhouse in Suburbs",listingId:"listing-5",source:"instagram",score:28,status:"new",priority:"cold",createdAt:new Date(Date.now()-1e3*60*60*12).toISOString()}];function ymt(){const[t,e]=C.useState(gmt),[n,r]=C.useState(cmt),[i,s]=C.useState(null),[o,l]=C.useState(!0),c=t.filter(M=>M.score>=70&&M.status==="new"),u={total:t.length,new:t.filter(M=>M.status==="new").length,hot:c.length,contacted:t.filter(M=>M.status==="contacted").length,avgScore:Math.round(t.reduce((M,k)=>M+k.score,0)/t.length)},d=M=>{s(M)},h=()=>{s(null)},f=M=>{const k=t.find(L=>L.id===M);k&&(s(k),at.info("Opening quick reply for "+k.name))},p=async M=>{e(k=>k.map(L=>L.id===M?{...L,status:"contacted"}:L)),at.success("Lead marked as contacted")},m=async M=>{i&&(e(k=>k.map(L=>L.id===i.id?{...L,status:M}:L)),s(k=>k?{...k,status:M}:null),at.success(`Status updated to ${M}`))},y=async M=>{await new Promise(k=>setTimeout(k,500)),console.log("Adding note:",M)},b=async(M,k)=>{await new Promise(L=>setTimeout(L,500)),console.log("Sending email:",{subject:M,body:k}),at.success("Email sent!")},v=M=>{console.log("Dismissed hot lead:",M)},_=M=>{const k=t.find(L=>L.id===M);k&&d(k)},S=M=>{if(!i){at.info("Please select a lead first");return}let k=M.body;k=k.replace("{leadName}",i.name),k=k.replace("{listingAddress}",i.listingTitle||"the property"),k=k.replace("{agentName}","Your Name"),k=k.replace("{agentPhone}","(555) 123-4567"),at.success("Template loaded! Ready to send."),console.log("Using template:",{subject:M.subject,body:k})},j=M=>{const k={...M,id:`custom-${Date.now()}`};r(L=>[...L,k])},N=(M,k)=>{r(L=>L.map(O=>O.id===M?{...O,...k}:O))},A=M=>{r(k=>k.filter(L=>L.id!==M)),at.success("Template deleted")};return a.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Lead Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your leads efficiently with smart scoring and quick responses"})]}),a.jsx("div",{className:"flex gap-3",children:a.jsx(hmt,{count:c.length,onClick:()=>l(!o)})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(p1,{label:"Total Leads",value:u.total,icon:a.jsx(Li,{className:"w-5 h-5"})}),a.jsx(p1,{label:"New",value:u.new,icon:a.jsx(Gp,{className:"w-5 h-5"}),color:"green"}),a.jsx(p1,{label:"Hot Leads",value:u.hot,icon:a.jsx(Qr,{className:"w-5 h-5"}),color:"red",pulse:u.hot>0}),a.jsx(p1,{label:"Contacted",value:u.contacted,icon:a.jsx(Li,{className:"w-5 h-5"}),color:"blue"}),a.jsx(p1,{label:"Avg Score",value:u.avgScore,icon:a.jsx(Qr,{className:"w-5 h-5"})})]}),o&&c.length>0&&a.jsx(umt,{hotLeads:c,onView:_,onDismiss:v,soundEnabled:!0}),a.jsxs(Bd,{defaultValue:"inbox",className:"w-full",children:[a.jsxs(kc,{className:"grid w-full grid-cols-2 max-w-md",children:[a.jsxs(Sn,{value:"inbox",children:["Lead Inbox",u.new>0&&a.jsx(nn,{variant:"outline",className:"ml-2 bg-green-100",children:u.new})]}),a.jsx(Sn,{value:"templates",children:"Response Templates"})]}),a.jsx(xi,{value:"inbox",className:"mt-6",children:a.jsx(smt,{leads:t,onLeadClick:d,onQuickReply:f,onMarkAsRead:p})}),a.jsx(xi,{value:"templates",className:"mt-6",children:a.jsx(omt,{templates:n,onSelectTemplate:S,onCreateTemplate:j,onUpdateTemplate:N,onDeleteTemplate:A})})]}),i&&a.jsx(pmt,{lead:i,onClose:h,onUpdateStatus:m,onAddNote:y,onSendEmail:b})]})}function p1({label:t,value:e,icon:n,color:r,pulse:i}){const s={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",red:"bg-red-100 text-red-600"};return a.jsxs("div",{className:"p-4 bg-white rounded-lg border hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:`p-2 rounded ${r?s[r]:"bg-gray-100 text-gray-600"}`,children:n}),i&&a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),a.jsx("div",{className:"text-2xl font-bold",children:e}),a.jsx("div",{className:"text-sm text-gray-600",children:t})]})}function vmt({metrics:t,className:e}){return a.jsx("div",{className:xt("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",e),children:t.map(n=>a.jsx(xmt,{metric:n},n.name))})}function xmt({metric:t}){const e=()=>{switch(t.trend){case"up":return a.jsx(Qr,{className:"w-4 h-4"});case"down":return a.jsx(nEe,{className:"w-4 h-4"});case"flat":return a.jsx($Se,{className:"w-4 h-4"})}},n=()=>{switch(t.trend){case"up":return"text-green-600 bg-green-100";case"down":return"text-red-600 bg-red-100";case"flat":return"text-gray-600 bg-gray-100"}},r=()=>t.unit==="$"?`$${t.value.toLocaleString()}`:t.unit==="%"?`${t.value.toFixed(1)}%`:t.unit==="min"?`${Math.round(t.value)} min`:t.value.toLocaleString();return a.jsxs("div",{className:"bg-white p-6 rounded-lg border hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600",children:t.name}),a.jsx("div",{className:xt("p-2 rounded-full",n()),children:e()})]}),a.jsx("div",{className:"flex items-baseline gap-2",children:a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r()})}),a.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[a.jsxs("span",{className:xt("text-sm font-medium",t.trend==="up"?"text-green-600":t.trend==="down"?"text-red-600":"text-gray-600"),children:[t.change>0?"+":"",t.change.toFixed(1),"%"]}),a.jsx("span",{className:"text-sm text-gray-500",children:"vs last period"})]}),t.benchmark&&a.jsx("div",{className:"mt-2 pt-2 border-t",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Benchmark: ",t.unit==="$"?"$":"",t.benchmark.toLocaleString(),t.unit==="%"?"%":""]})})]})}function bmt({data:t,title:e,color:n="#2563eb",height:r=300,showPredictions:i=!1,className:s}){const{actualData:o,predictedData:l,maxValue:c,minValue:u}=C.useMemo(()=>{const m=t.filter(v=>!v.label),y=t.filter(v=>v.label==="predicted"),b=t.map(v=>v.value);return{actualData:m,predictedData:y,maxValue:Math.max(...b),minValue:Math.min(...b)}},[t]),d=m=>{const b=r-40,v=c-u||1;return 20+b-(m-u)/v*b},h=(m,y)=>40+m/(y-1)*720,f=(m,y=!1)=>m.length===0?"":m.map((_,S)=>({x:h(S,m.length),y:d(_.value)})).map((_,S)=>`${S===0?"M":"L"} ${_.x} ${_.y}`).join(" "),p=m=>{if(m.length===0)return"";const y=f(m),b=h(m.length-1,m.length),v=h(0,m.length),_=r-20;return`${y} L ${b} ${_} L ${v} ${_} Z`};return a.jsxs("div",{className:s,children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:e}),a.jsxs("svg",{width:"100%",height:r,viewBox:"0 0 800 300",className:"bg-white rounded-lg border",children:[a.jsx("g",{className:"grid-lines",children:[0,25,50,75,100].map(m=>{const y=20+(r-40)*(m/100);return a.jsxs("g",{children:[a.jsx("line",{x1:40,y1:y,x2:760,y2:y,stroke:"#e5e7eb",strokeWidth:1}),a.jsx("text",{x:25,y:y+4,fontSize:10,fill:"#6b7280",textAnchor:"end",children:Math.round(c-m/100*(c-u))})]},m)})}),a.jsx("path",{d:p(o),fill:n,fillOpacity:.1}),a.jsx("path",{d:f(o),fill:"none",stroke:n,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),i&&l.length>0&&a.jsx("path",{d:f(l),fill:"none",stroke:n,strokeWidth:2,strokeDasharray:"5,5",strokeOpacity:.5,strokeLinecap:"round",strokeLinejoin:"round"}),o.map((m,y)=>a.jsx("circle",{cx:h(y,o.length),cy:d(m.value),r:4,fill:"white",stroke:n,strokeWidth:2},y)),a.jsx("g",{className:"x-axis-labels",children:o.map((m,y)=>y%Math.ceil(o.length/7)===0?a.jsx("text",{x:h(y,o.length),y:r-5,fontSize:10,fill:"#6b7280",textAnchor:"middle",children:m.date},y):null)})]}),i&&l.length>0&&a.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-0.5",style:{backgroundColor:n}}),a.jsx("span",{children:"Actual"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-0.5",style:{backgroundColor:n,opacity:.5,borderTop:`2px dashed ${n}`}}),a.jsx("span",{children:"Predicted"})]})]})]})}function wmt({stages:t,className:e}){var r;const n=((r=t[0])==null?void 0:r.count)||1;return a.jsxs("div",{className:xt("bg-white p-6 rounded-lg border",e),children:[a.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Conversion Funnel"}),a.jsx("div",{className:"space-y-2",children:t.map((i,s)=>a.jsxs("div",{children:[a.jsx(_mt,{stage:i,maxCount:n,isFirst:s===0,isLast:s===t.length-1}),!isLast&&i.dropoff!==void 0&&i.dropoff>0&&a.jsx(Smt,{count:i.dropoff,percentage:Emt(i,t[s+1])})]},i.name))}),a.jsxs("div",{className:"mt-6 pt-6 border-t grid grid-cols-3 gap-4",children:[a.jsx(m3,{label:"Overall Conversion",value:`${t[t.length-1].percentage.toFixed(1)}%`}),a.jsx(m3,{label:"Total Conversions",value:t[t.length-1].count.toLocaleString()}),a.jsx(m3,{label:"Total Dropoff",value:jmt(t).toLocaleString()})]})]})}function _mt({stage:t,maxCount:e,isFirst:n,isLast:r}){const i=t.count/e*100,s=()=>t.percentage>=75?"bg-green-500":t.percentage>=50?"bg-yellow-500":t.percentage>=25?"bg-orange-500":"bg-red-500";return a.jsx("div",{className:"relative",children:a.jsx("div",{className:xt("relative mx-auto rounded-lg p-4 transition-all duration-300 hover:shadow-md",s()),style:{width:`${Math.max(i,20)}%`},children:a.jsxs("div",{className:"flex items-center justify-between text-white",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:t.name}),a.jsxs("p",{className:"text-sm opacity-90",children:[t.count.toLocaleString()," leads"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-2xl font-bold",children:[t.percentage.toFixed(1),"%"]}),!n&&a.jsx("p",{className:"text-xs opacity-90",children:"of total"})]})]})})})}function Smt({count:t,percentage:e}){return a.jsx("div",{className:"flex items-center justify-center py-2",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(RP,{className:"w-4 h-4 text-red-500"}),a.jsxs("span",{children:[a.jsx("span",{className:"font-medium text-red-600",children:t.toLocaleString()})," ","dropped off (",e.toFixed(1),"%)"]})]})})}function m3({label:t,value:e}){return a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t})]})}function Emt(t,e){return t.count===0?0:(t.count-e.count)/t.count*100}function jmt(t){return t.length<2?0:t[0].count-t[t.length-1].count}function Amt({sources:t,className:e}){const n=t.reduce((s,o)=>s+o.leads,0),r=t.reduce((s,o)=>s+o.revenue,0),i=[...t].sort((s,o)=>o.conversionRate-s.conversionRate);return a.jsxs("div",{className:xt("bg-white p-6 rounded-lg border",e),children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Lead Sources"}),a.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Nu,{className:"w-4 h-4"}),n," leads"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(PS,{className:"w-4 h-4"}),"$",r.toLocaleString()]})]})]}),a.jsx("div",{className:"space-y-4",children:i.map(s=>a.jsx(Nmt,{source:s,totalLeads:n},s.source))}),i.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(QSe,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No lead source data available"})]})]})}function Nmt({source:t,totalLeads:e}){const n=t.leads/e*100,r=i=>i>=20?"text-green-600":i>=10?"text-yellow-600":"text-gray-600";return a.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:t.source}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:xt("text-lg font-bold",r(t.conversionRate)),children:[t.conversionRate.toFixed(1),"%"]}),a.jsx("span",{className:"text-sm text-gray-500",children:"conversion"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600",children:"Lead share"}),a.jsxs("span",{className:"font-medium",children:[n.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-primary rounded-full h-2 transition-all duration-500",style:{width:`${n}%`}})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Leads"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.leads})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Conversions"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.conversions})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"}),a.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",t.revenue.toLocaleString()]})]})]}),t.roi!==void 0&&a.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"ROI"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Qr,{className:"w-4 h-4 text-green-600"}),a.jsxs("span",{className:xt("font-semibold",t.roi>0?"text-green-600":"text-red-600"),children:[t.roi>0?"+":"",t.roi.toFixed(1),"%"]})]})]})]})}function FK({insights:t,className:e}){return a.jsxs("div",{className:xt("bg-white p-6 rounded-lg border",e),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(kS,{className:"w-5 h-5 text-yellow-500"}),a.jsx("h3",{className:"text-lg font-semibold",children:"Key Insights"})]}),a.jsx("div",{className:"space-y-3",children:t.map((n,r)=>a.jsx(Tmt,{insight:n},r))}),t.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(kS,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No insights available yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Check back when you have more data"})]})]})}function Tmt({insight:t}){const e=()=>t.includes("")||t.includes("")||t.includes("")?a.jsx(Qr,{className:"w-5 h-5 text-green-600"}):t.includes("")||t.includes("")?a.jsx(ij,{className:"w-5 h-5 text-orange-600"}):t.includes("")||t.includes("")?a.jsx(Cu,{className:"w-5 h-5 text-blue-600"}):a.jsx(kS,{className:"w-5 h-5 text-yellow-600"}),n=()=>t.includes("")||t.includes("")||t.includes("")?"bg-green-50 border-green-200":t.includes("")||t.includes("")?"bg-orange-50 border-orange-200":t.includes("")||t.includes("")?"bg-blue-50 border-blue-200":"bg-yellow-50 border-yellow-200";return a.jsx("div",{className:xt("p-4 rounded-lg border",n()),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e()}),a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t})]})})}class bv{static calculateKPIs(e,n){return[this.createMetric("Total Page Views",e.pageViews,"",n.pageViews),this.createMetric("Unique Visitors",e.uniqueVisitors,"",n.uniqueVisitors),this.createMetric("Total Leads",e.leads,"",n.leads),this.createMetric("Conversions",e.conversions,"",n.conversions),this.createMetric("Revenue",e.revenue,"$",n.revenue),this.createMetric("Avg Response Time",e.avgResponseTime,"min",n.avgResponseTime,!0),this.createMetric("Conversion Rate",this.calculateConversionRate(e.leads,e.conversions),"%",this.calculateConversionRate(n.leads,n.conversions)),this.createMetric("Lead-to-Visitor Rate",this.calculateConversionRate(e.uniqueVisitors,e.leads),"%",this.calculateConversionRate(n.uniqueVisitors,n.leads))]}static createMetric(e,n,r,i,s=!1){const o=this.calculatePercentageChange(n,i),l=this.determineTrend(o,s);return{name:e,value:n,unit:r,change:o,trend:l}}static calculatePercentageChange(e,n){return n===0?e>0?100:0:(e-n)/n*100}static determineTrend(e,n=!1){return Math.abs(e)<2?"flat":n?e<0?"up":"down":e>0?"up":"down"}static calculateConversionRate(e,n){return e===0?0:n/e*100}static generateTimeSeries(e,n,r){return tDe({start:e,end:n}).map(s=>({date:md(s,"MMM d"),value:r(s)}))}static calculateFunnel(e){const{visitors:n,viewed:r,contacted:i,qualified:s,converted:o}=e;return[{name:"Visitors",count:n,percentage:100},{name:"Viewed Listing",count:r,percentage:this.calculateConversionRate(n,r),dropoff:n-r},{name:"Contacted",count:i,percentage:this.calculateConversionRate(n,i),dropoff:r-i},{name:"Qualified",count:s,percentage:this.calculateConversionRate(n,s),dropoff:i-s},{name:"Converted",count:o,percentage:this.calculateConversionRate(n,o),dropoff:s-o}]}static analyzeLeadSources(e){return e.map(n=>({source:n.source,leads:n.leads,conversions:n.conversions,conversionRate:this.calculateConversionRate(n.leads,n.conversions),revenue:n.revenue,roi:n.cost?(n.revenue-n.cost)/n.cost*100:void 0}))}static rankListings(e){return e.map(n=>({...n,conversionRate:this.calculateConversionRate(n.views,n.leads)})).sort((n,r)=>r.conversionRate-n.conversionRate)}static predictTrend(e,n=7){if(e.length<2)return[];const r=e.length,i=e.map((m,y)=>y),s=e.map(m=>m.value),o=i.reduce((m,y)=>m+y,0),l=s.reduce((m,y)=>m+y,0),c=i.reduce((m,y,b)=>m+y*s[b],0),u=i.reduce((m,y)=>m+y*y,0),d=(r*c-o*l)/(r*u-o*o),h=(l-d*o)/r,f=[],p=new Date(e[e.length-1].date);for(let m=1;m<=n;m++){const y=r+m-1,b=Math.max(0,Math.round(d*y+h)),v=new Date(p);v.setDate(v.getDate()+m),f.push({date:md(v,"MMM d"),value:b,label:"predicted"})}return f}static calculateEngagementScore(e){const{avgTimeOnPage:n,bounceRate:r,pagesPerSession:i,returnVisitorRate:s}=e,o=Math.min(n/180*25,25),l=Math.max((100-r)/4,0),c=Math.min(i/5*25,25),u=s/100*25;return Math.round(o+l+c+u)}static generateInsights(e,n,r){const i=[],s=this.calculatePercentageChange(e.leads,n.leads);s>20?i.push(` Lead generation is up ${Math.round(s)}% compared to last period`):s<-20&&i.push(` Lead generation is down ${Math.abs(Math.round(s))}% - consider increasing marketing efforts`);const o=this.calculateConversionRate(e.leads,e.conversions),l=this.calculateConversionRate(n.leads,n.conversions);if(o>l+5&&i.push(` Conversion rate improved to ${o.toFixed(1)}% - keep up the good work!`),e.avgResponseTime<5?i.push(" Excellent response time! You're responding in under 5 minutes"):e.avgResponseTime>60&&i.push(` Response time is high (${Math.round(e.avgResponseTime)} min) - faster responses increase conversions`),r.length>0){const u=r.reduce((d,h)=>h.conversionRate>d.conversionRate?h:d);u.conversionRate>15&&i.push(` ${u.source} is your best performing source at ${u.conversionRate.toFixed(1)}% conversion rate`)}const c=this.calculatePercentageChange(e.uniqueVisitors,n.uniqueVisitors);return c>30&&i.push(` Traffic is surging! Up ${Math.round(c)}% - great time to capture leads`),i}static exportToCSV(e,n){if(e.length===0)return;const r=Object.keys(e[0]),i=[r.join(","),...e.map(c=>r.map(u=>JSON.stringify(c[u]||"")).join(","))].join(`
`),s=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(s);o.setAttribute("href",l),o.setAttribute("download",`${n}_${Date.now()}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}}const Mmt=bv.calculateKPIs,Cmt=bv.generateTimeSeries,Pmt=bv.calculateFunnel,kmt=bv.analyzeLeadSources,Omt=bv.predictTrend,Rmt=bv.generateInsights,Imt=bv.exportToCSV;function Lmt({onGenerateReport:t,className:e}){const[n,r]=C.useState("leads"),[i,s]=C.useState("30d"),[o,l]=C.useState("csv"),[c,u]=C.useState(!1),d=[{value:"leads",label:"Leads Report"},{value:"listings",label:"Listings Performance"},{value:"conversions",label:"Conversion Analytics"},{value:"sources",label:"Lead Sources"},{value:"performance",label:"Overall Performance"}],h=[{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"},{value:"90d",label:"Last 90 Days"},{value:"this_month",label:"This Month"},{value:"last_month",label:"Last Month"}],f=[{value:"csv",label:"CSV"},{value:"pdf",label:"PDF (Coming Soon)",disabled:!0},{value:"excel",label:"Excel (Coming Soon)",disabled:!0}],p=()=>{const y=new Date;switch(i){case"7d":return{start:ud(y,7),end:y};case"30d":return{start:ud(y,30),end:y};case"90d":return{start:ud(y,90),end:y};case"this_month":return{start:SL(y),end:L4(y)};case"last_month":const b=ud(SL(y),1);return{start:SL(b),end:L4(b)};default:return{start:ud(y,30),end:y}}},m=async()=>{u(!0);try{const{start:y,end:b}=p(),_=await t({reportType:n,dateRange:i,metrics:[],format:o,startDate:y,endDate:b});if(o==="csv"){const S=`${n}_report_${o(y,"yyyy-MM-dd")}_to_${o(b,"yyyy-MM-dd")}`;Imt(_,S),at.success("Report exported successfully!")}}catch(y){console.error("Report generation error:",y),at.error("Failed to generate report")}finally{u(!1)}};return a.jsxs("div",{className:xt("bg-white p-6 rounded-lg border",e),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(zh,{className:"w-5 h-5 text-primary"}),a.jsx("h3",{className:"text-lg font-semibold",children:"Custom Report Builder"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ct,{children:"Report Type"}),a.jsxs($n,{value:n,onValueChange:y=>r(y),children:[a.jsx(Ln,{children:a.jsx(Hn,{})}),a.jsx(Dn,{children:d.map(y=>a.jsx(Ie,{value:y.value,children:y.label},y.value))})]})]}),a.jsxs("div",{children:[a.jsxs(ct,{className:"flex items-center gap-2",children:[a.jsx(Eo,{className:"w-4 h-4"}),"Date Range"]}),a.jsxs($n,{value:i,onValueChange:y=>s(y),children:[a.jsx(Ln,{children:a.jsx(Hn,{})}),a.jsx(Dn,{children:h.map(y=>a.jsx(Ie,{value:y.value,children:y.label},y.value))})]})]}),a.jsxs("div",{children:[a.jsx(ct,{children:"Export Format"}),a.jsxs($n,{value:o,onValueChange:y=>l(y),children:[a.jsx(Ln,{children:a.jsx(Hn,{})}),a.jsx(Dn,{children:f.map(y=>a.jsx(Ie,{value:y.value,disabled:y.disabled,children:y.label},y.value))})]})]}),a.jsxs(He,{onClick:m,disabled:c,className:"w-full gap-2",children:[a.jsx(sj,{className:"w-4 h-4"}),c?"Generating...":"Generate Report"]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Report Preview"}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("p",{children:["Type: ",a.jsx("span",{className:"font-medium",children:n})]}),a.jsxs("p",{children:["Range:"," ",a.jsxs("span",{className:"font-medium",children:[o(p().start,"MMM d, yyyy")," ","-"," ",o(p().end,"MMM d, yyyy")]})]}),a.jsxs("p",{children:["Format:"," ",a.jsx("span",{className:"font-medium uppercase",children:o})]})]})]})]})}const Dmt=()=>{const t=new Date;return{current:{pageViews:3542,uniqueVisitors:1876,leads:156,conversions:23,revenue:156e3,avgResponseTime:12,period:"month",startDate:ud(t,30),endDate:t},previous:{pageViews:2890,uniqueVisitors:1520,leads:128,conversions:18,revenue:122e3,avgResponseTime:18,period:"month",startDate:ud(t,60),endDate:ud(t,30)}}},Fmt=()=>{const t=new Date;return Cmt(ud(t,30),t,e=>{const r=Math.random()*8,i=(e.getTime()-ud(t,30).getTime())/(1e3*60*60*24*30);return Math.round(5+r+i*5)})},Umt=()=>[{source:"zillow",leads:45,conversions:12,revenue:85e3,cost:5e3},{source:"realtor",leads:38,conversions:8,revenue:62e3,cost:4e3},{source:"facebook",leads:32,conversions:5,revenue:38e3,cost:3500},{source:"google",leads:28,conversions:4,revenue:31e3,cost:4500},{source:"website",leads:25,conversions:3,revenue:28e3,cost:1e3},{source:"referral",leads:18,conversions:4,revenue:45e3,cost:0}];function Bmt(){const[t,e]=C.useState(!0),{current:n,previous:r}=C.useMemo(()=>Dmt(),[]),i=C.useMemo(()=>Fmt(),[]),s=C.useMemo(()=>Omt(i,7),[i]),o=[...i,...t?s:[]],l=C.useMemo(()=>Mmt(n,r),[n,r]),c=C.useMemo(()=>Pmt({visitors:n.uniqueVisitors,viewed:Math.round(n.uniqueVisitors*.7),contacted:n.leads,qualified:Math.round(n.leads*.4),converted:n.conversions}),[n]),u=C.useMemo(()=>kmt(Umt()),[]),d=C.useMemo(()=>Rmt(n,r,u),[n,r,u]),h=async f=>{switch(await new Promise(p=>setTimeout(p,1e3)),f.reportType){case"leads":return Array.from({length:50},(p,m)=>({id:`L${m+1}`,name:`Lead ${m+1}`,email:`lead${m+1}@example.com`,source:u[m%u.length].source,status:["new","contacted","qualified","converted"][Math.floor(Math.random()*4)],score:Math.floor(Math.random()*100),created:new Date().toISOString()}));case"sources":return u.map(p=>({source:p.source,leads:p.leads,conversions:p.conversions,conversion_rate:`${p.conversionRate.toFixed(1)}%`,revenue:p.revenue,roi:p.roi?`${p.roi.toFixed(1)}%`:"N/A"}));default:return[{metric:"Page Views",current:n.pageViews,previous:r.pageViews,change:`${((n.pageViews-r.pageViews)/r.pageViews*100).toFixed(1)}%`},{metric:"Leads",current:n.leads,previous:r.leads,change:`${((n.leads-r.leads)/r.leads*100).toFixed(1)}%`},{metric:"Conversions",current:n.conversions,previous:r.conversions,change:`${((n.conversions-r.conversions)/r.conversions*100).toFixed(1)}%`}]}};return a.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Track your performance and gain insights"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(nn,{variant:"outline",className:"px-4 py-2",children:"Last 30 Days"})})]}),a.jsx(vmt,{metrics:l}),a.jsxs(Bd,{defaultValue:"overview",className:"w-full",children:[a.jsxs(kc,{className:"grid w-full grid-cols-4 max-w-2xl",children:[a.jsxs(Sn,{value:"overview",className:"gap-2",children:[a.jsx(ib,{className:"w-4 h-4"}),"Overview"]}),a.jsxs(Sn,{value:"funnel",className:"gap-2",children:[a.jsx(Qr,{className:"w-4 h-4"}),"Funnel"]}),a.jsxs(Sn,{value:"sources",className:"gap-2",children:[a.jsx(Nu,{className:"w-4 h-4"}),"Sources"]}),a.jsxs(Sn,{value:"reports",className:"gap-2",children:[a.jsx(zh,{className:"w-4 h-4"}),"Reports"]})]}),a.jsx(xi,{value:"overview",className:"mt-6 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(bmt,{data:o,title:"Lead Generation Trend",color:"#2563eb",showPredictions:t})}),a.jsx(FK,{insights:d})]})}),a.jsx(xi,{value:"funnel",className:"mt-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(wmt,{stages:c}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(FK,{insights:d}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Optimization Tips"}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary",children:""}),a.jsx("span",{children:"Improve Viewed  Contacted rate with clearer CTAs"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary",children:""}),a.jsx("span",{children:"Reduce dropoff with faster response times"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary",children:""}),a.jsx("span",{children:"Qualify leads better with targeted questions"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary",children:""}),a.jsx("span",{children:"Nurture qualified leads with follow-ups"})]})]})]})]})]})}),a.jsx(xi,{value:"sources",className:"mt-6",children:a.jsx(Amt,{sources:u})}),a.jsx(xi,{value:"reports",className:"mt-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Reports"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(KT,{title:"Leads Report",description:"Detailed lead data with scores and sources",icon:a.jsx(Nu,{className:"w-6 h-6"})}),a.jsx(KT,{title:"Performance Report",description:"Overall performance metrics and trends",icon:a.jsx(Qr,{className:"w-6 h-6"})}),a.jsx(KT,{title:"Sources Report",description:"Lead source analysis with ROI",icon:a.jsx(ib,{className:"w-6 h-6"})}),a.jsx(KT,{title:"Conversion Report",description:"Conversion funnel and rates",icon:a.jsx(Qr,{className:"w-6 h-6"})})]})]})}),a.jsx(Lmt,{onGenerateReport:h})]})})]})]})}function KT({title:t,description:e,icon:n}){return a.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:n}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1",children:t}),a.jsx("p",{className:"text-sm text-gray-600",children:e})]})]})})}class zmt{createNewPage(e,n){return{id:this.generateId(),userId:e,slug:n,title:"My Link-in-Bio Page",description:"Real Estate Professional",blocks:[],theme:this.getDefaultTheme(),seo:{title:"My Link-in-Bio Page",description:"Real Estate Professional",keywords:["real estate","agent","properties"],twitterCard:"summary_large_image"},published:!1,createdAt:new Date,updatedAt:new Date}}getDefaultTheme(){return{name:"Default",preset:"modern",colors:{primary:"#2563eb",secondary:"#10b981",background:"#ffffff",text:"#1f2937",accent:"#f59e0b"},fonts:{heading:"Inter",body:"Inter"},borderRadius:"medium",spacing:"normal"}}addBlock(e,n,r){const i=this.getBlockTemplate(n);if(!i)throw new Error(`Unknown block type: ${n}`);const s={id:this.generateId(),type:n,order:r!==void 0?r:e.blocks.length,visible:!0,config:i.defaultConfig},o=[...e.blocks];return r!==void 0?(o.splice(r,0,s),o.forEach((l,c)=>{l.order=c})):o.push(s),{...e,blocks:o,updatedAt:new Date}}removeBlock(e,n){const r=e.blocks.filter(i=>i.id!==n).map((i,s)=>({...i,order:s}));return{...e,blocks:r,updatedAt:new Date}}updateBlock(e,n,r){const i=e.blocks.map(s=>s.id===n?{...s,config:{...s.config,...r}}:s);return{...e,blocks:i,updatedAt:new Date}}reorderBlocks(e,n,r){const i=[...e.blocks],[s]=i.splice(n,1);return i.splice(r,0,s),i.forEach((o,l)=>{o.order=l}),{...e,blocks:i,updatedAt:new Date}}toggleBlockVisibility(e,n){const r=e.blocks.map(i=>i.id===n?{...i,visible:!i.visible}:i);return{...e,blocks:r,updatedAt:new Date}}duplicateBlock(e,n){const r=e.blocks.find(o=>o.id===n);if(!r)return e;const i={...r,id:this.generateId(),order:r.order+1},s=[...e.blocks];return s.splice(r.order+1,0,i),s.forEach((o,l)=>{l>r.order&&(o.order=l)}),{...e,blocks:s,updatedAt:new Date}}getBlockTemplates(){return[{type:"bio",name:"Bio Section",description:"Your profile and introduction",icon:"User",category:"content",defaultConfig:{type:"bio",title:"Your Name",subtitle:"Real Estate Professional",description:"Helping clients find their dream homes in [Your City]. Licensed agent with [X] years of experience.",showSocialLinks:!0,showContactButton:!0}},{type:"listings",name:"Property Listings",description:"Showcase your active listings",icon:"Home",category:"content",defaultConfig:{type:"listings",title:"Featured Properties",layout:"grid",filter:"active",maxItems:6,showPrices:!0,showStatus:!0}},{type:"link",name:"Link Button",description:"Add a custom link",icon:"Link",category:"content",defaultConfig:{type:"link",title:"Click Here",url:"https://example.com",style:"button",openInNewTab:!0}},{type:"contact",name:"Contact Form",description:"Let visitors reach out",icon:"Mail",category:"engagement",defaultConfig:{type:"contact",title:"Get In Touch",fields:[{id:"name",type:"text",label:"Name",placeholder:"Your name",required:!0},{id:"email",type:"email",label:"Email",placeholder:"your@email.com",required:!0},{id:"message",type:"textarea",label:"Message",placeholder:"How can I help you?",required:!0}],submitButtonText:"Send Message",successMessage:"Thank you! I'll get back to you soon."}},{type:"social",name:"Social Links",description:"Connect on social media",icon:"Share2",category:"engagement",defaultConfig:{type:"social",title:"Follow Me",links:[],layout:"horizontal",iconSize:"medium"}},{type:"video",name:"Video",description:"Embed a video",icon:"Video",category:"media",defaultConfig:{type:"video",title:"Watch My Introduction",videoUrl:"",autoplay:!1,muted:!0}},{type:"testimonial",name:"Testimonials",description:"Client reviews",icon:"MessageSquare",category:"content",defaultConfig:{type:"testimonial",title:"What Clients Say",testimonials:[],layout:"slider"}},{type:"spacer",name:"Spacer",description:"Add vertical space",icon:"MoveVertical",category:"content",defaultConfig:{type:"spacer",height:40}},{type:"image",name:"Image",description:"Add an image",icon:"Image",category:"media",defaultConfig:{type:"image",imageUrl:"",alt:"Image",size:"medium"}},{type:"text",name:"Text Block",description:"Add custom text",icon:"Type",category:"content",defaultConfig:{type:"text",content:"Your text here...",align:"left",fontSize:"medium"}}]}getBlockTemplate(e){return this.getBlockTemplates().find(n=>n.type===e)}generateId(){return`block_${Date.now()}_${Math.random().toString(36).substring(2,9)}`}validatePage(e){const n=[];(!e.slug||e.slug.trim()==="")&&n.push("Page slug is required"),(!e.title||e.title.trim()==="")&&n.push("Page title is required"),/^[a-z0-9-]+$/i.test(e.slug)||n.push("Page slug must contain only letters, numbers, and hyphens");const r=e.blocks.map(s=>s.id),i=new Set(r);return r.length!==i.size&&n.push("Duplicate block IDs detected"),{valid:n.length===0,errors:n}}}const ga=new zmt,$mt=ga.createNewPage.bind(ga),Hmt=ga.addBlock.bind(ga),Vmt=ga.removeBlock.bind(ga),Wmt=ga.updateBlock.bind(ga),Gmt=ga.reorderBlocks.bind(ga),qmt=ga.toggleBlockVisibility.bind(ga),Ymt=ga.duplicateBlock.bind(ga),Xmt=ga.getBlockTemplates.bind(ga);ga.validatePage.bind(ga);const ghe=KJ((t,e)=>({page:null,selectedBlockId:null,isDragging:!1,history:[],historyIndex:-1,isPreviewMode:!1,isSaving:!1,setPage:n=>{t({page:n,history:[n],historyIndex:0,selectedBlockId:null})},loadPage:async n=>{try{const{data:r,error:i}=await Ye.from("custom_pages").select("*").eq("id",n).single();if(i)throw i;if(!r)throw new Error("Page not found");const s={id:r.id,userId:r.user_id,slug:r.slug,title:r.title,description:r.description||"",blocks:r.blocks,theme:r.theme,seo:r.seo,published:r.published,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)};e().setPage(s)}catch(r){throw console.error("Failed to load page:",r),at.error("Failed to load page"),r}},loadUserPages:async()=>{try{const{data:{user:n}}=await Ye.auth.getUser();if(!n)throw new Error("Not authenticated");const{data:r,error:i}=await Ye.from("custom_pages").select("*").eq("user_id",n.id).order("updated_at",{ascending:!1});if(i)throw i;return(r||[]).map(s=>({id:s.id,userId:s.user_id,slug:s.slug,title:s.title,description:s.description||"",blocks:s.blocks,theme:s.theme,seo:s.seo,published:s.published,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}))}catch(n){return console.error("Failed to load user pages:",n),[]}},selectBlock:n=>{t({selectedBlockId:n})},setIsDragging:n=>{t({isDragging:n})},addBlockToPage:(n,r)=>{var u;const{page:i,history:s,historyIndex:o}=e();if(!i)return;const l=Hmt(i,n,r),c=s.slice(0,o+1);c.push(l),t({page:l,history:c,historyIndex:c.length-1,selectedBlockId:(u=l.blocks[l.blocks.length-1])==null?void 0:u.id})},removeBlockFromPage:n=>{const{page:r,history:i,historyIndex:s}=e();if(!r)return;const o=Vmt(r,n),l=i.slice(0,s+1);l.push(o),t({page:o,history:l,historyIndex:l.length-1,selectedBlockId:null})},updateBlockConfig:(n,r)=>{const{page:i,history:s,historyIndex:o}=e();if(!i)return;const l=Wmt(i,n,r),c=s.slice(0,o+1);c.push(l),t({page:l,history:c,historyIndex:c.length-1})},reorderPageBlocks:(n,r)=>{const{page:i,history:s,historyIndex:o}=e();if(!i)return;const l=Gmt(i,n,r),c=s.slice(0,o+1);c.push(l),t({page:l,history:c,historyIndex:c.length-1})},toggleBlockVisible:n=>{const{page:r,history:i,historyIndex:s}=e();if(!r)return;const o=qmt(r,n),l=i.slice(0,s+1);l.push(o),t({page:o,history:l,historyIndex:l.length-1})},duplicatePageBlock:n=>{const{page:r,history:i,historyIndex:s}=e();if(!r)return;const o=Ymt(r,n),l=i.slice(0,s+1);l.push(o),t({page:o,history:l,historyIndex:l.length-1})},updatePageMeta:n=>{const{page:r,history:i,historyIndex:s}=e();if(!r)return;const o={...r,...n,updatedAt:new Date},l=i.slice(0,s+1);l.push(o),t({page:o,history:l,historyIndex:l.length-1})},undo:()=>{const{history:n,historyIndex:r}=e();r>0&&t({page:n[r-1],historyIndex:r-1})},redo:()=>{const{history:n,historyIndex:r}=e();r<n.length-1&&t({page:n[r+1],historyIndex:r+1})},canUndo:()=>{const{historyIndex:n}=e();return n>0},canRedo:()=>{const{history:n,historyIndex:r}=e();return r<n.length-1},togglePreviewMode:()=>{t(n=>({isPreviewMode:!n.isPreviewMode,selectedBlockId:null}))},savePage:async()=>{const{page:n}=e();if(n){t({isSaving:!0});try{const{data:{user:r}}=await Ye.auth.getUser();if(!r)throw new Error("Not authenticated");const i={user_id:r.id,slug:n.slug,title:n.title,description:n.description,blocks:n.blocks,theme:n.theme,seo:n.seo,published:n.published},{data:s}=await Ye.from("custom_pages").select("id").eq("id",n.id).single();if(s){const{error:o}=await Ye.from("custom_pages").update(i).eq("id",n.id);if(o)throw o}else{const{error:o}=await Ye.from("custom_pages").insert({...i,id:n.id});if(o)throw o}at.success("Page saved successfully")}catch(r){throw console.error("Failed to save page:",r),at.error("Failed to save page"),r}finally{t({isSaving:!1})}}},publishPage:async()=>{const{page:n,updatePageMeta:r,savePage:i}=e();n&&(r({published:!0}),await i(),at.success("Page published successfully!"))},setAsActivePage:async n=>{try{const{data:{user:r}}=await Ye.auth.getUser();if(!r)throw new Error("Not authenticated");const{error:i}=await Ye.from("custom_pages").update({is_active:!0}).eq("id",n).eq("user_id",r.id);if(i)throw i;at.success("This page is now your active profile")}catch(r){throw console.error("Failed to set active page:",r),at.error("Failed to set active page"),r}},resetBuilder:()=>{t({page:null,selectedBlockId:null,isDragging:!1,history:[],historyIndex:-1,isPreviewMode:!1,isSaving:!1})}}));function Kmt(){const t=cm(),{user:e,profile:n}=ys(),{setPage:r,loadUserPages:i,setAsActivePage:s}=ghe(),[o,l]=C.useState([]),[c,u]=C.useState(!0),[d,h]=C.useState(null);C.useEffect(()=>{f()},[]);const f=async()=>{try{const v=await i();l(v)}catch(v){console.error("Failed to load pages:",v),at.error("Failed to load pages")}finally{u(!1)}},p=()=>{if(!e||!n){at.error("Please log in to create a page");return}const v=$mt(e.id,n.username||"my-page");r(v),t("/dashboard/page-builder")},m=v=>{r(v),t("/dashboard/page-builder")},y=async v=>{h(v);try{await s(v),await f()}catch(_){console.error("Failed to set active page:",_)}finally{h(null)}},b=async v=>{if(confirm("Are you sure you want to delete this page?"))try{const{error:_}=await Ye.from("custom_pages").delete().eq("id",v);if(_)throw _;at.success("Page deleted successfully"),await f()}catch(_){console.error("Failed to delete page:",_),at.error("Failed to delete page")}};return c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading pages..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Your Pages"}),a.jsx("p",{className:"text-muted-foreground",children:"Create custom link-in-bio pages"})]}),a.jsxs(He,{onClick:p,className:"gap-2",children:[a.jsx(Ps,{className:"h-4 w-4"}),"Create New Page"]})]}),o.length===0?a.jsx(Qt,{className:"p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx(sv,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No pages yet"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first custom page to get started"}),a.jsxs(He,{onClick:p,className:"gap-2",children:[a.jsx(Ps,{className:"h-4 w-4"}),"Create Your First Page"]})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(v=>{const _=v.is_active||!1;return a.jsxs(Qt,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg truncate",children:v.title}),a.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["/",v.slug]})]}),_&&a.jsxs(nn,{variant:"default",className:"gap-1",children:[a.jsx(rC,{className:"h-3 w-3"}),"Active"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(nn,{variant:v.published?"default":"secondary",children:v.published?"Published":"Draft"}),a.jsxs(nn,{variant:"outline",children:[v.blocks.length," blocks"]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs(He,{variant:"outline",size:"sm",onClick:()=>m(v),className:"gap-2 w-full",children:[a.jsx(ov,{className:"h-4 w-4"}),"Edit"]}),v.published&&a.jsxs(a.Fragment,{children:[a.jsx(He,{variant:"outline",size:"sm",asChild:!0,className:"gap-2 w-full",children:a.jsxs("a",{href:`/p/${v.slug}`,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Wa,{className:"h-4 w-4"}),"Preview",a.jsx(Su,{className:"h-3 w-3 ml-auto"})]})}),!_&&a.jsxs(He,{variant:"default",size:"sm",onClick:()=>y(v.id),disabled:d===v.id,className:"gap-2 w-full",children:[a.jsx(rC,{className:"h-4 w-4"}),d===v.id?"Setting...":"Set as Active"]})]}),a.jsxs(He,{variant:"outline",size:"sm",onClick:()=>b(v.id),className:"gap-2 w-full text-destructive hover:text-destructive",children:[a.jsx(qp,{className:"h-4 w-4"}),"Delete"]})]}),v.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:v.description})]},v.id)})})]})}function Zmt({config:t,isEditing:e=!1}){return a.jsxs("div",{className:"text-center space-y-4 p-6",children:[t.avatarUrl&&a.jsx("div",{className:"flex justify-center",children:a.jsxs(lE,{className:"w-24 h-24",children:[a.jsx(cE,{src:t.avatarUrl,alt:t.title}),a.jsx(uE,{className:"text-2xl",children:t.title.charAt(0)})]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.title}),t.subtitle&&a.jsx("p",{className:"text-lg text-gray-600 mt-1",children:t.subtitle})]}),t.description&&a.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto whitespace-pre-wrap",children:t.description}),t.showContactButton&&!e&&a.jsxs("div",{className:"flex gap-3 justify-center pt-2",children:[a.jsxs(He,{className:"gap-2",children:[a.jsx(Li,{className:"w-4 h-4"}),"Contact Me"]}),a.jsxs(He,{variant:"outline",className:"gap-2",children:[a.jsx(Ko,{className:"w-4 h-4"}),"Call Now"]})]})]})}const Qmt=[{id:"1",image:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800",title:"Modern Downtown Condo",price:425e3,address:"123 Main St, Seattle, WA",beds:2,baths:2,sqft:1200,status:"Active"},{id:"2",image:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800",title:"Suburban Family Home",price:675e3,address:"456 Oak Ave, Bellevue, WA",beds:4,baths:3,sqft:2400,status:"Pending"},{id:"3",image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800",title:"Luxury Waterfront Estate",price:125e4,address:"789 Lake Dr, Kirkland, WA",beds:5,baths:4,sqft:3800,status:"Active"}];function Jmt({config:t,isEditing:e=!1}){const n=Qmt.slice(0,t.maxItems||6),r=()=>{switch(t.layout){case"list":return"grid grid-cols-1 gap-4";case"carousel":return"flex overflow-x-auto gap-4 snap-x";case"grid":default:return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"}};return a.jsxs("div",{className:"space-y-6",children:[t.title&&a.jsx("h2",{className:"text-2xl font-bold text-center",children:t.title}),a.jsx("div",{className:r(),children:n.map(i=>a.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",children:[a.jsxs("div",{className:"relative aspect-video",children:[a.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"}),t.showStatus&&a.jsx(nn,{className:"absolute top-2 right-2",variant:i.status==="Active"?"default":"secondary",children:i.status})]}),a.jsxs("div",{className:"p-4 space-y-2",children:[t.showPrices&&a.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",i.price.toLocaleString()]}),a.jsx("h3",{className:"font-semibold text-lg",children:i.title}),a.jsxs("div",{className:"flex items-center gap-1 text-gray-600 text-sm",children:[a.jsx(fm,{className:"w-4 h-4"}),i.address]}),a.jsxs("div",{className:"flex items-center gap-4 text-gray-700 text-sm pt-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(q5,{className:"w-4 h-4"}),i.beds," bd"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(G5,{className:"w-4 h-4"}),i.baths," ba"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(fte,{className:"w-4 h-4"}),i.sqft.toLocaleString()," sqft"]})]})]})]},i.id))}),n.length===0&&a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("p",{children:"No listings to display"}),e&&a.jsx("p",{className:"text-sm mt-1",children:"Add some properties to see them here"})]})]})}function egt({config:t,isEditing:e=!1}){const n=()=>{e||(t.openInNewTab?window.open(t.url,"_blank","noopener,noreferrer"):window.location.href=t.url)},r=()=>a.jsxs(He,{onClick:n,disabled:e,className:"w-full gap-2 justify-between",variant:t.style==="minimal"?"ghost":"default",size:"lg",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[t.icon&&a.jsx("span",{children:t.icon}),t.title]}),t.openInNewTab?a.jsx(Su,{className:"w-4 h-4"}):a.jsx(sb,{className:"w-4 h-4"})]}),i=()=>a.jsx("div",{onClick:n,className:`
                p-4 rounded-lg border bg-white hover:shadow-md transition-all
                ${!e&&"cursor-pointer hover:border-primary"}
            `,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[t.icon&&a.jsx("div",{className:"text-2xl",children:t.icon}),a.jsx("span",{className:"font-semibold",children:t.title})]}),t.openInNewTab?a.jsx(Su,{className:"w-5 h-5 text-gray-400"}):a.jsx(sb,{className:"w-5 h-5 text-gray-400"})]})}),s=()=>a.jsx("div",{onClick:n,className:`
                py-3 px-4 text-center
                ${!e&&"cursor-pointer hover:text-primary"}
                transition-colors
            `,children:a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.icon&&a.jsx("span",{children:t.icon}),a.jsx("span",{className:"font-medium",children:t.title}),t.openInNewTab&&a.jsx(Su,{className:"w-4 h-4"})]})});return a.jsxs("div",{className:"w-full max-w-md mx-auto",children:[t.style==="button"&&r(),t.style==="card"&&i(),t.style==="minimal"&&s()]})}var kO="Checkbox",[tgt]=Rc(kO),[ngt,h$]=tgt(kO);function rgt(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[f,p]=Kp({prop:n,defaultProp:i??!1,onChange:c,caller:kO}),[m,y]=C.useState(null),[b,v]=C.useState(null),_=C.useRef(!1),S=m?!!o||!!m.closest("form"):!0,j={checked:f,disabled:s,setChecked:p,control:m,setControl:y,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:_,required:u,defaultChecked:Hp(i)?!1:i,isFormControl:S,bubbleInput:b,setBubbleInput:v};return a.jsx(ngt,{scope:e,...j,children:igt(h)?h(j):r})}var yhe="CheckboxTrigger",vhe=C.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:m}=h$(yhe,t),y=Kr(i,d),b=C.useRef(c);return C.useEffect(()=>{const v=s==null?void 0:s.form;if(v){const _=()=>h(b.current);return v.addEventListener("reset",_),()=>v.removeEventListener("reset",_)}},[s,h]),a.jsx(Fn.button,{type:"button",role:"checkbox","aria-checked":Hp(c)?"mixed":c,"aria-required":u,"data-state":She(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:y,onKeyDown:Yn(e,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Yn(n,v=>{h(_=>Hp(_)?!0:!_),m&&p&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});vhe.displayName=yhe;var f$=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=t;return a.jsx(rgt,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>a.jsxs(a.Fragment,{children:[a.jsx(vhe,{...h,ref:e,__scopeCheckbox:n}),f&&a.jsx(_he,{__scopeCheckbox:n})]})})});f$.displayName=kO;var xhe="CheckboxIndicator",bhe=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=h$(xhe,n);return a.jsx(_m,{present:r||Hp(s.checked)||s.checked===!0,children:a.jsx(Fn.span,{"data-state":She(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});bhe.displayName=xhe;var whe="CheckboxBubbleInput",_he=C.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:p}=h$(whe,t),m=Kr(n,p),y=mB(s),b=dB(r);C.useEffect(()=>{const _=f;if(!_)return;const S=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(S,"checked").set,A=!i.current;if(y!==s&&N){const M=new Event("click",{bubbles:A});_.indeterminate=Hp(s),N.call(_,Hp(s)?!1:s),_.dispatchEvent(M)}},[f,y,s,i]);const v=C.useRef(Hp(s)?!1:s);return a.jsx(Fn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:m,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_he.displayName=whe;function igt(t){return typeof t=="function"}function Hp(t){return t==="indeterminate"}function She(t){return Hp(t)?"indeterminate":t?"checked":"unchecked"}const Ehe=C.forwardRef(({className:t,...e},n)=>a.jsx(f$,{ref:n,className:xt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(bhe,{className:xt("flex items-center justify-center text-current"),children:a.jsx(cd,{className:"h-4 w-4"})})}));Ehe.displayName=f$.displayName;function sgt({config:t,isEditing:e=!1}){const[n,r]=C.useState({}),[i,s]=C.useState(!1),[o,l]=C.useState(!1),c=async d=>{if(d.preventDefault(),!e){s(!0);try{await new Promise(h=>setTimeout(h,1500)),l(!0),at.success(t.successMessage||"Message sent successfully!"),setTimeout(()=>{r({}),l(!1)},3e3)}catch{at.error("Failed to send message. Please try again.")}finally{s(!1)}}},u=(d,h)=>{r(f=>({...f,[d]:h}))};return o?a.jsx("div",{className:"max-w-md mx-auto p-8 bg-green-50 rounded-lg border border-green-200",children:a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx(Cu,{className:"w-12 h-12 text-green-600 mx-auto"}),a.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Message Sent!"}),a.jsx("p",{className:"text-green-700",children:t.successMessage})]})}):a.jsxs("div",{className:"max-w-md mx-auto",children:[t.title&&a.jsx("h3",{className:"text-2xl font-bold text-center mb-6",children:t.title}),a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[t.fields.map(d=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ct,{htmlFor:d.id,children:[d.label,d.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),d.type==="text"&&a.jsx(Yt,{id:d.id,type:"text",placeholder:d.placeholder,required:d.required,disabled:e||i,value:n[d.id]||"",onChange:h=>u(d.id,h.target.value)}),d.type==="email"&&a.jsx(Yt,{id:d.id,type:"email",placeholder:d.placeholder,required:d.required,disabled:e||i,value:n[d.id]||"",onChange:h=>u(d.id,h.target.value)}),d.type==="phone"&&a.jsx(Yt,{id:d.id,type:"tel",placeholder:d.placeholder,required:d.required,disabled:e||i,value:n[d.id]||"",onChange:h=>u(d.id,h.target.value)}),d.type==="textarea"&&a.jsx(Jo,{id:d.id,placeholder:d.placeholder,required:d.required,disabled:e||i,value:n[d.id]||"",onChange:h=>u(d.id,h.target.value),rows:4}),d.type==="select"&&d.options&&a.jsxs($n,{disabled:e||i,value:n[d.id],onValueChange:h=>u(d.id,h),children:[a.jsx(Ln,{children:a.jsx(Hn,{placeholder:d.placeholder})}),a.jsx(Dn,{children:d.options.map(h=>a.jsx(Ie,{value:h,children:h},h))})]}),d.type==="checkbox"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ehe,{id:d.id,disabled:e||i,checked:n[d.id]||!1,onCheckedChange:h=>u(d.id,h)}),a.jsx("label",{htmlFor:d.id,className:"text-sm cursor-pointer",children:d.label})]})]},d.id)),a.jsxs(He,{type:"submit",className:"w-full gap-2",disabled:e||i,children:[i&&a.jsx(zr,{className:"w-4 h-4 animate-spin"}),i?"Sending...":t.submitButtonText||"Submit"]})]})]})}function agt({config:t,isEditing:e=!1}){const n=o=>{const l=`w-${t.iconSize==="small"?"5":t.iconSize==="large"?"8":"6"} h-${t.iconSize==="small"?"5":t.iconSize==="large"?"8":"6"}`;switch(o){case"facebook":return a.jsx(aj,{className:l});case"instagram":return a.jsx(oj,{className:l});case"twitter":return a.jsx(iEe,{className:l});case"linkedin":return a.jsx(lj,{className:l});case"youtube":return a.jsx(FP,{className:l});case"tiktok":return a.jsx(IP,{className:l});case"zillow":return a.jsx(Ci,{className:l});case"realtor":return a.jsx(ste,{className:l});default:return null}},r=o=>({facebook:"hover:bg-blue-600",instagram:"hover:bg-pink-600",twitter:"hover:bg-sky-500",linkedin:"hover:bg-blue-700",youtube:"hover:bg-red-600",tiktok:"hover:bg-black",zillow:"hover:bg-blue-800",realtor:"hover:bg-red-700"})[o]||"hover:bg-gray-700",i=o=>{e||window.open(o,"_blank","noopener,noreferrer")},s=()=>{switch(t.layout){case"vertical":return"flex-col items-center";case"grid":return"grid grid-cols-4 gap-3";case"horizontal":default:return"flex-row justify-center"}};return a.jsxs("div",{className:"space-y-4",children:[t.title&&a.jsx("h3",{className:"text-xl font-semibold text-center",children:t.title}),a.jsx("div",{className:`flex gap-3 ${s()}`,children:t.links.map(o=>a.jsx("button",{onClick:()=>i(o.url),disabled:e,className:`
                            p-3 rounded-full bg-gray-800 text-white
                            transition-all hover:scale-110
                            ${r(o.platform)}
                            ${e?"cursor-default":"cursor-pointer"}
                        `,title:o.username||o.platform,children:n(o.platform)},o.id))}),t.links.length===0&&e&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:a.jsx("p",{className:"text-sm",children:"No social links added yet"})})]})}function ogt({config:t,isEditing:e=!1}){const[n,r]=C.useState(!1),i=()=>{var l,c,u;const o=t.videoUrl;if(o.includes("youtube.com")||o.includes("youtu.be")){let d="";return o.includes("youtube.com/watch?v=")?d=(l=o.split("v=")[1])==null?void 0:l.split("&")[0]:o.includes("youtu.be/")&&(d=(c=o.split("youtu.be/")[1])==null?void 0:c.split("?")[0]),`https://www.youtube.com/embed/${d}?autoplay=${t.autoplay?"1":"0"}&mute=${t.muted?"1":"0"}`}return o.includes("vimeo.com")?`https://player.vimeo.com/video/${(u=o.split("vimeo.com/")[1])==null?void 0:u.split("?")[0]}?autoplay=${t.autoplay?"1":"0"}&muted=${t.muted?"1":"0"}`:o},s=()=>{e||r(!0)};return!t.videoUrl&&e?a.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(jV,{className:"w-12 h-12 mx-auto mb-2"}),a.jsx("p",{className:"font-medium",children:"No video URL"}),a.jsx("p",{className:"text-sm",children:"Add a YouTube or Vimeo URL"})]})}):a.jsxs("div",{className:"space-y-3",children:[t.title&&a.jsx("h3",{className:"text-xl font-semibold text-center",children:t.title}),a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-black",children:!n&&t.thumbnail?a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx("img",{src:t.thumbnail,alt:t.title||"Video",className:"w-full h-full object-cover"}),a.jsx("button",{onClick:s,disabled:e,className:"absolute inset-0 flex items-center justify-center bg-black/30 hover:bg-black/40 transition-colors group",children:a.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:a.jsx(jV,{className:"w-8 h-8 text-primary ml-1"})})})]}):a.jsx("iframe",{src:i(),title:t.title||"Video",className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}function lgt({config:t,isEditing:e=!1}){return a.jsx("div",{style:{height:`${t.height}px`},className:e?"border-2 border-dashed border-gray-300 rounded":"",children:e&&a.jsxs("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:[t.height,"px spacer"]})})}function cgt({config:t,isEditing:e=!1}){const n=()=>{switch(t.align){case"center":return"text-center";case"right":return"text-right";case"left":default:return"text-left"}},r=()=>{switch(t.fontSize){case"small":return"text-sm";case"large":return"text-lg";case"medium":default:return"text-base"}};return a.jsx("div",{className:`${n()} ${r()}`,children:t.content?a.jsx("p",{className:"whitespace-pre-wrap text-gray-700",children:t.content}):e&&a.jsx("p",{className:"text-gray-400 italic",children:"Enter your text here..."})})}function ugt({config:t,isEditing:e=!1}){const n=()=>{switch(t.size){case"small":return"max-w-sm";case"medium":return"max-w-md";case"large":return"max-w-2xl";case"full":return"w-full";default:return"max-w-md"}},r=()=>{!e&&t.link&&window.open(t.link,"_blank","noopener,noreferrer")};return!t.imageUrl&&e?a.jsx("div",{className:`${n()} mx-auto`,children:a.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(cte,{className:"w-12 h-12 mx-auto mb-2"}),a.jsx("p",{className:"font-medium",children:"No image"}),a.jsx("p",{className:"text-sm",children:"Upload an image"})]})})}):a.jsxs("div",{className:`${n()} mx-auto space-y-2`,children:[a.jsx("div",{onClick:r,className:`
                    rounded-lg overflow-hidden
                    ${t.link&&!e?"cursor-pointer hover:opacity-90 transition-opacity":""}
                `,children:a.jsx("img",{src:t.imageUrl,alt:t.alt,className:"w-full h-auto"})}),t.caption&&a.jsx("p",{className:"text-sm text-gray-600 text-center italic",children:t.caption})]})}function jhe({block:t,isEditing:e=!1,isSelected:n=!1,onSelect:r}){const i=()=>{switch(t.type){case"bio":return a.jsx(Zmt,{config:t.config,isEditing:e});case"listings":return a.jsx(Jmt,{config:t.config,isEditing:e});case"link":return a.jsx(egt,{config:t.config,isEditing:e});case"contact":return a.jsx(sgt,{config:t.config,isEditing:e});case"social":return a.jsx(agt,{config:t.config,isEditing:e});case"video":return a.jsx(ogt,{config:t.config,isEditing:e});case"spacer":return a.jsx(lgt,{config:t.config,isEditing:e});case"text":return a.jsx(cgt,{config:t.config,isEditing:e});case"image":return a.jsx(ugt,{config:t.config,isEditing:e});default:return a.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded text-center",children:a.jsxs("p",{className:"text-yellow-800",children:["Unknown block type: ",t.type]})})}};return e?a.jsxs("div",{onClick:r,className:`
                relative group transition-all
                ${n?"ring-2 ring-primary ring-offset-2":""}
                ${t.visible?"":"opacity-50"}
                ${r?"cursor-pointer":""}
            `,children:[i(),r&&a.jsx("div",{className:`
                        absolute inset-0 pointer-events-none
                        ${n?"":"group-hover:ring-1 group-hover:ring-gray-300"}
                    `})]}):a.jsx("div",{className:t.visible?"":"hidden",children:i()})}function dgt(){const{user:t,profile:e}=ys(),[n,r]=C.useState(!0),{page:i,selectedBlockId:s,isPreviewMode:o,isSaving:l,canUndo:c,canRedo:u,setPage:d,selectBlock:h,addBlockToPage:f,removeBlockFromPage:p,duplicatePageBlock:m,toggleBlockVisible:y,undo:b,redo:v,togglePreviewMode:_,savePage:S,publishPage:j,updatePageMeta:N}=ghe();C.useEffect(()=>{r(!i)},[i]);const A=async()=>{try{await S(),at.success("Page saved successfully!")}catch{at.error("Failed to save page")}},M=async()=>{try{await j(),at.success("Page published successfully!")}catch{at.error("Failed to publish page")}},k=i==null?void 0:i.blocks.find(O=>O.id===s),L=Xmt();return n||!i?a.jsx("div",{className:"container mx-auto py-8",children:a.jsx(Kmt,{})}):a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[!o&&a.jsxs("div",{className:"w-64 bg-white border-r flex flex-col",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsx("h2",{className:"font-semibold text-lg",children:"Add Blocks"})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:L.map(O=>a.jsx("button",{onClick:()=>f(O.type),className:"w-full p-3 text-left rounded-lg border hover:border-primary hover:bg-primary/5 transition-colors group",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ps,{className:"w-5 h-5 text-gray-400 group-hover:text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:O.name}),a.jsx("p",{className:"text-xs text-gray-500",children:O.description})]})]})},O.type))})]}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"bg-white border-b p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(He,{variant:"outline",size:"sm",onClick:()=>{d(null),r(!0)},children:[a.jsx(OP,{className:"w-4 h-4 mr-2"}),"Back to Pages"]}),a.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),a.jsx(He,{variant:"outline",size:"sm",onClick:b,disabled:!c(),children:a.jsx(sEe,{className:"w-4 h-4"})}),a.jsx(He,{variant:"outline",size:"sm",onClick:v,disabled:!u(),children:a.jsx(VSe,{className:"w-4 h-4"})}),a.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),a.jsx(Yt,{type:"text",value:i.title,onChange:O=>N({title:O.target.value}),className:"w-64",placeholder:"Page Title"}),a.jsx(nn,{variant:i.published?"default":"secondary",children:i.published?"Published":"Draft"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{variant:"outline",size:"sm",onClick:_,children:o?a.jsxs(a.Fragment,{children:[a.jsx(OS,{className:"w-4 h-4 mr-2"}),"Edit"]}):a.jsxs(a.Fragment,{children:[a.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Preview"]})}),a.jsxs(He,{variant:"outline",size:"sm",onClick:A,disabled:l,children:[a.jsx(ab,{className:"w-4 h-4 mr-2"}),l?"Saving...":"Save"]}),a.jsxs(He,{size:"sm",onClick:M,disabled:l,children:[a.jsx(sv,{className:"w-4 h-4 mr-2"}),"Publish"]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:a.jsx("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-lg min-h-full",children:a.jsx("div",{className:"p-8 space-y-6",children:i.blocks.length===0?a.jsxs("div",{className:"text-center py-20 text-gray-500",children:[a.jsx(Ps,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"font-medium",children:"Your page is empty"}),a.jsx("p",{className:"text-sm mt-1",children:"Add blocks from the left sidebar to get started"})]}):i.blocks.map(O=>a.jsxs("div",{className:"relative group",children:[!o&&a.jsxs("div",{className:"absolute -left-12 top-0 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-1",children:[a.jsx("button",{className:"p-1 bg-white border rounded hover:bg-gray-50",title:"Drag to reorder",children:a.jsx(lte,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>m(O.id),className:"p-1 bg-white border rounded hover:bg-gray-50",title:"Duplicate",children:a.jsx(X5,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>y(O.id),className:"p-1 bg-white border rounded hover:bg-gray-50",title:O.visible?"Hide":"Show",children:O.visible?a.jsx(Wa,{className:"w-4 h-4"}):a.jsx(OSe,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>p(O.id),className:"p-1 bg-white border rounded hover:bg-red-50 text-red-600",title:"Delete",children:a.jsx(qp,{className:"w-4 h-4"})})]}),a.jsx(jhe,{block:O,isEditing:!o,isSelected:s===O.id,onSelect:()=>h(O.id)})]},O.id))})})})]}),!o&&k&&a.jsxs("div",{className:"w-80 bg-white border-l flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h2",{className:"font-semibold text-lg",children:"Block Settings"}),a.jsx("p",{className:"text-sm text-gray-600",children:k.type})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsxs(Bd,{defaultValue:"content",className:"w-full",children:[a.jsxs(kc,{className:"grid w-full grid-cols-2",children:[a.jsx(Sn,{value:"content",children:"Content"}),a.jsx(Sn,{value:"style",children:"Style"})]}),a.jsxs(xi,{value:"content",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{children:"Block Type"}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:k.type})]}),a.jsx("div",{className:"p-4 bg-gray-50 rounded text-sm text-gray-600",children:"Block-specific settings will appear here"})]}),a.jsx(xi,{value:"style",className:"space-y-4 mt-4",children:a.jsx("div",{className:"p-4 bg-gray-50 rounded text-sm text-gray-600",children:"Style settings coming soon"})})]})}),a.jsx("div",{className:"p-4 border-t",children:a.jsxs(He,{variant:"outline",className:"w-full",onClick:()=>p(k.id),children:[a.jsx(qp,{className:"w-4 h-4 mr-2"}),"Delete Block"]})})]})]})}function hgt(){const{slug:t}=O5(),[e,n]=C.useState(null),[r,i]=C.useState(!0),[s,o]=C.useState(null);if(C.useEffect(()=>{(async()=>{if(!t){o("No page slug provided"),i(!1);return}try{const{supabase:u}=await bd(async()=>{const{supabase:p}=await Promise.resolve().then(()=>WD);return{supabase:p}},void 0),{data:d,error:h}=await u.from("custom_pages").select("*").eq("slug",t).eq("published",!0).single();if(h)throw h;if(!d){o("Page not found or not published"),i(!1);return}const f={id:d.id,userId:d.user_id,slug:d.slug,title:d.title,description:d.description||"",blocks:d.blocks,theme:d.theme,seo:d.seo,published:d.published,createdAt:new Date(d.created_at),updatedAt:new Date(d.updated_at)};n(f)}catch(u){console.error("Failed to fetch page:",u),o("Page not found or not published")}finally{i(!1)}})()},[t]),r)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx(zr,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),a.jsx("p",{className:"text-gray-600",children:"Loading page..."})]})});if(s||!e)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"404"}),a.jsx("p",{className:"text-gray-600 mb-4",children:s||"Page not found"}),a.jsx("a",{href:"/",className:"text-primary hover:underline",children:"Go to homepage"})]})});const l={"--primary-color":e.theme.colors.primary,"--secondary-color":e.theme.colors.secondary,"--background-color":e.theme.colors.background,"--text-color":e.theme.colors.text,"--accent-color":e.theme.colors.accent,"--border-radius":e.theme.borderRadius==="none"?"0":e.theme.borderRadius==="small"?"0.25rem":e.theme.borderRadius==="large"?"1rem":e.theme.borderRadius==="full"?"9999px":"0.5rem"};return a.jsxs(a.Fragment,{children:[a.jsxs(MP,{children:[a.jsx("title",{children:e.seo.title||e.title}),a.jsx("meta",{name:"description",content:e.seo.description||e.description}),a.jsx("meta",{name:"keywords",content:e.seo.keywords.join(", ")}),a.jsx("meta",{property:"og:title",content:e.seo.title||e.title}),a.jsx("meta",{property:"og:description",content:e.seo.description||e.description}),a.jsx("meta",{property:"og:type",content:"website"}),e.seo.ogImage&&a.jsx("meta",{property:"og:image",content:e.seo.ogImage}),a.jsx("meta",{name:"twitter:card",content:e.seo.twitterCard}),a.jsx("meta",{name:"twitter:title",content:e.seo.title||e.title}),a.jsx("meta",{name:"twitter:description",content:e.seo.description||e.description}),e.seo.ogImage&&a.jsx("meta",{name:"twitter:image",content:e.seo.ogImage}),e.seo.structuredData&&a.jsx("script",{type:"application/ld+json",children:JSON.stringify(e.seo.structuredData)})]}),a.jsx("div",{style:l,className:"min-h-screen","data-theme":e.theme.preset||"default",children:a.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",style:{backgroundColor:e.theme.colors.background,color:e.theme.colors.text},children:[a.jsx("div",{className:`space-y-${e.theme.spacing==="compact"?"4":e.theme.spacing==="spacious"?"12":"8"}`,children:e.blocks.filter(c=>c.visible).sort((c,u)=>c.order-u.order).map(c=>a.jsx(jhe,{block:c,isEditing:!1},c.id))}),a.jsx("div",{className:"mt-16 pt-8 border-t text-center text-sm text-gray-500",children:a.jsxs("p",{children:["Powered by"," ",a.jsx("a",{href:"https://agentbio.net",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"AgentBio"})]})})]})})]})}function fgt(){const t=el(),e=Xr({queryKey:["ai-models"],queryFn:async()=>{const{data:u,error:d}=await Ye.from("ai_models").select("*").order("provider",{ascending:!0});if(d)throw d;return u}}),n=Xr({queryKey:["ai-configuration"],queryFn:async()=>{const{data:u,error:d}=await Ye.from("ai_configuration").select("*");if(d)throw d;return u}}),r=zn({mutationFn:async({key:u,value:d})=>{var f;const{error:h}=await Ye.from("ai_configuration").update({setting_value:d,updated_at:new Date().toISOString(),updated_by:(f=(await Ye.auth.getUser()).data.user)==null?void 0:f.id}).eq("setting_key",u);if(h)throw h},onSuccess:()=>{t.invalidateQueries({queryKey:["ai-configuration"]}),at.success("Configuration updated")},onError:u=>{at.error("Failed to update: "+u.message)}}),i=zn({mutationFn:async({id:u,isActive:d})=>{const{error:h}=await Ye.from("ai_models").update({is_active:d}).eq("id",u);if(h)throw h},onSuccess:()=>{t.invalidateQueries({queryKey:["ai-models"]}),at.success("Model status updated")},onError:u=>{at.error("Failed to update model: "+u.message)}}),s=zn({mutationFn:async u=>{const{error:d}=await Ye.from("ai_models").insert([u]);if(d)throw d},onSuccess:()=>{t.invalidateQueries({queryKey:["ai-models"]}),at.success("Model added successfully")},onError:u=>{at.error("Failed to add model: "+u.message)}}),o=zn({mutationFn:async u=>{const{data:d,error:h}=await Ye.functions.invoke("test-ai-model",{body:{model:u}});if(h)throw h;return d},onSuccess:u=>{u.success?at.success(u.message):at.error(u.error)},onError:u=>{at.error("Model test failed: "+u.message)}}),l=u=>{var h;const d=(h=n.data)==null?void 0:h.find(f=>f.setting_key===u);if(!d)return"";try{return JSON.parse(d.setting_value)}catch{return d.setting_value}},c=(u,d)=>{r.mutate({key:u,value:JSON.stringify(d)})};return{models:e.data,config:n.data,isLoading:e.isLoading||n.isLoading,getConfigValue:l,handleUpdateConfig:c,toggleModel:i.mutate,addModel:s.mutate,testModel:o.mutate,isTestingModel:o.isPending,isAddingModel:s.isPending}}function pgt({onAdd:t,isAdding:e}){const[n,r]=C.useState(!1),[i,s]=C.useState({provider:"",model_name:"",model_id:"",description:"",context_window:2e5,max_output_tokens:8192,supports_vision:!0,is_active:!0,auth_type:"bearer",secret_name:"",api_endpoint:""}),o=l=>{l.preventDefault(),t(i),r(!1),s({provider:"",model_name:"",model_id:"",description:"",context_window:2e5,max_output_tokens:8192,supports_vision:!0,is_active:!0,auth_type:"bearer",secret_name:"",api_endpoint:""})};return a.jsxs(Ga,{open:n,onOpenChange:r,children:[a.jsx(Kh,{asChild:!0,children:a.jsxs(He,{className:"gap-2",children:[a.jsx(Ps,{className:"h-4 w-4"}),"Add New Model"]})}),a.jsx(Ta,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:a.jsxs("form",{onSubmit:o,children:[a.jsxs(qa,{children:[a.jsx(Ya,{children:"Add New AI Model"}),a.jsx(Hl,{children:"Configure a new AI model with authentication and endpoint details"})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"provider",children:"Provider Name *"}),a.jsx(Yt,{id:"provider",placeholder:"e.g., Anthropic",value:i.provider,onChange:l=>s({...i,provider:l.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"model_name",children:"Display Name *"}),a.jsx(Yt,{id:"model_name",placeholder:"e.g., Claude Sonnet 4.5",value:i.model_name,onChange:l=>s({...i,model_name:l.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"model_id",children:"Model ID *"}),a.jsx(Yt,{id:"model_id",placeholder:"e.g., claude-sonnet-4-5-20250929",value:i.model_id,onChange:l=>s({...i,model_id:l.target.value}),required:!0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"The exact model identifier for API calls"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"description",children:"Description"}),a.jsx(Yt,{id:"description",placeholder:"Brief description of model capabilities",value:i.description,onChange:l=>s({...i,description:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"auth_type",children:"Authentication Type *"}),a.jsxs($n,{value:i.auth_type,onValueChange:l=>s({...i,auth_type:l}),children:[a.jsx(Ln,{id:"auth_type",children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"bearer",children:"Bearer Token"}),a.jsx(Ie,{value:"x-api-key",children:"X-API-Key Header"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"How the API key is sent (Bearer for most, X-API-Key for Anthropic)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"secret_name",children:"Supabase Secret Name *"}),a.jsx(Yt,{id:"secret_name",placeholder:"e.g., CLAUDE_API_KEY",value:i.secret_name,onChange:l=>s({...i,secret_name:l.target.value}),required:!0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Name of the secret stored in Supabase (must be added to Supabase secrets)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"api_endpoint",children:"API Endpoint *"}),a.jsx(Yt,{id:"api_endpoint",placeholder:"e.g., https://api.anthropic.com/v1/messages",value:i.api_endpoint,onChange:l=>s({...i,api_endpoint:l.target.value}),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"context_window",children:"Context Window"}),a.jsx(Yt,{id:"context_window",type:"number",value:i.context_window,onChange:l=>s({...i,context_window:parseInt(l.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"max_output_tokens",children:"Max Output Tokens"}),a.jsx(Yt,{id:"max_output_tokens",type:"number",value:i.max_output_tokens,onChange:l=>s({...i,max_output_tokens:parseInt(l.target.value)})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ct,{htmlFor:"supports_vision",children:"Supports Vision"}),a.jsx(rm,{id:"supports_vision",checked:i.supports_vision,onCheckedChange:l=>s({...i,supports_vision:l})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ct,{htmlFor:"is_active",children:"Active"}),a.jsx(rm,{id:"is_active",checked:i.is_active,onCheckedChange:l=>s({...i,is_active:l})})]})]}),a.jsxs(em,{children:[a.jsx(He,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),a.jsxs(He,{type:"submit",disabled:e,children:[e&&a.jsx(zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Model"]})]})]})})]})}function mgt(){const{models:t,isLoading:e,getConfigValue:n,handleUpdateConfig:r,toggleModel:i,addModel:s,testModel:o,isTestingModel:l,isAddingModel:c}=fgt();if(e)return a.jsx("div",{className:"flex items-center justify-center p-12",children:a.jsx(zr,{className:"h-8 w-8 animate-spin text-primary"})});const u=n("default_model");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsxs(hr,{className:"flex items-center gap-2",children:[a.jsx(CSe,{className:"h-5 w-5"}),"AI Model Configuration"]}),a.jsx(qr,{children:"Configure AI models and settings for content generation"})]}),a.jsxs(vn,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"default-model",children:"Default AI Model"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($n,{value:u,onValueChange:d=>r("default_model",d),children:[a.jsx(Ln,{id:"default-model",children:a.jsx(Hn,{placeholder:"Select a model"})}),a.jsx(Dn,{children:t==null?void 0:t.map(d=>a.jsxs(Ie,{value:d.model_id,children:[d.model_name," (",d.provider,")"]},d.id))})]}),a.jsx(He,{variant:"outline",size:"icon",onClick:()=>o(u),disabled:l,title:"Test AI Model",children:l?a.jsx(zr,{className:"h-4 w-4 animate-spin"}):a.jsx(JSe,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"temp-precise",children:"Precise Temperature"}),a.jsx(Yt,{id:"temp-precise",type:"number",step:"0.1",min:"0",max:"1",value:n("temperature_precise"),onChange:d=>r("temperature_precise",parseFloat(d.target.value))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"For data extraction and precise tasks"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"temp-creative",children:"Creative Temperature"}),a.jsx(Yt,{id:"temp-creative",type:"number",step:"0.1",min:"0",max:"1",value:n("temperature_creative"),onChange:d=>r("temperature_creative",parseFloat(d.target.value))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"For content generation and creative tasks"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"tokens-standard",children:"Standard Max Tokens"}),a.jsx(Yt,{id:"tokens-standard",type:"number",step:"100",value:n("max_tokens_standard"),onChange:d=>r("max_tokens_standard",parseInt(d.target.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"tokens-large",children:"Large Content Max Tokens"}),a.jsx(Yt,{id:"tokens-large",type:"number",step:"100",value:n("max_tokens_large"),onChange:d=>r("max_tokens_large",parseInt(d.target.value))})]})]})]})]}),a.jsxs(Qt,{children:[a.jsx(dr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(hr,{children:"Available AI Models"}),a.jsx(qr,{children:"Manage which models are available for selection"})]}),a.jsx(pgt,{onAdd:s,isAdding:c})]})}),a.jsx(vn,{children:a.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(d=>a.jsxs("div",{className:"flex items-start justify-between p-4 border rounded-lg gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-semibold",children:d.model_name}),a.jsx(nn,{variant:"outline",className:"text-xs",children:d.provider})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:d.description}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-3 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Context: ",d.context_window.toLocaleString()," tokens"]}),a.jsxs("span",{children:["Max Output: ",d.max_output_tokens.toLocaleString()," tokens"]}),d.supports_vision&&a.jsx("span",{children:" Vision"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-xs",children:[a.jsx(nn,{variant:"secondary",children:d.auth_type==="bearer"?"Bearer Token":"X-API-Key"}),a.jsxs(nn,{variant:"secondary",children:["Secret: ",d.secret_name]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2 font-mono truncate",children:d.api_endpoint})]}),a.jsx(rm,{checked:d.is_active,onCheckedChange:h=>i({id:d.id,isActive:h})})]},d.id))})})]})]})}function p$(){const t=el(),e=Xr({queryKey:["social-media-posts"],queryFn:async()=>{const{data:m,error:y}=await Ye.from("social_media_posts").select("*").order("created_at",{ascending:!1});if(y)throw y;return m}}),n=Xr({queryKey:["marketing-posts"],queryFn:async()=>{const{data:m,error:y}=await Ye.from("social_media_posts").select("*").eq("content_type","marketing").order("created_at",{ascending:!1});if(y)throw y;return m}}),r=Xr({queryKey:["social-media-webhooks"],queryFn:async()=>{const{data:m,error:y}=await Ye.from("social_media_webhooks").select("*").order("name",{ascending:!0});if(y)throw y;return m}}),i=zn({mutationFn:async m=>{const{data:y,error:b}=await Ye.functions.invoke("generate-social-post",{body:m});if(b)throw b;return y},onSuccess:m=>{m.success?at.success("Content generated successfully!"):at.error(m.error||"Generation failed")},onError:m=>{at.error("Failed to generate content: "+m.message)}}),s=zn({mutationFn:async m=>{var _;const{data:y}=await Ye.auth.getUser(),{data:b,error:v}=await Ye.from("social_media_posts").insert({...m,created_by:(_=y.user)==null?void 0:_.id}).select().single();if(v)throw v;return b},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-posts"]}),at.success("Post created successfully")},onError:m=>{at.error("Failed to create post: "+m.message)}}),o=zn({mutationFn:async({id:m,updates:y})=>{const{error:b}=await Ye.from("social_media_posts").update(y).eq("id",m);if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-posts"]}),at.success("Post updated successfully")},onError:m=>{at.error("Failed to update post: "+m.message)}}),l=zn({mutationFn:async m=>{const{error:y}=await Ye.from("social_media_posts").delete().eq("id",m);if(y)throw y},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-posts"]}),at.success("Post deleted successfully")},onError:m=>{at.error("Failed to delete post: "+m.message)}}),c=zn({mutationFn:async m=>{const{data:y,error:b}=await Ye.from("social_media_webhooks").insert(m).select().single();if(b)throw b;return y},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-webhooks"]}),at.success("Webhook created successfully")},onError:m=>{at.error("Failed to create webhook: "+m.message)}}),u=zn({mutationFn:async({id:m,updates:y})=>{const{error:b}=await Ye.from("social_media_webhooks").update(y).eq("id",m);if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-webhooks"]}),at.success("Webhook updated successfully")},onError:m=>{at.error("Failed to update webhook: "+m.message)}}),d=zn({mutationFn:async m=>{const{error:y}=await Ye.from("social_media_webhooks").delete().eq("id",m);if(y)throw y},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-webhooks"]}),at.success("Webhook deleted successfully")},onError:m=>{at.error("Failed to delete webhook: "+m.message)}}),h=zn({mutationFn:async m=>{const{data:y,error:b}=await Ye.functions.invoke("test-social-webhook",{body:{webhookId:m}});if(b)throw b;return y},onSuccess:m=>{m.success?at.success("Test webhook sent successfully!"):at.error("Test webhook failed: "+(m.error||"Unknown error"))},onError:m=>{at.error("Failed to test webhook: "+m.message)}}),f=zn({mutationFn:async m=>{const{data:y,error:b}=await Ye.functions.invoke("generate-marketing-post",{body:{webhookUrl:m}});if(b)throw b;return y},onSuccess:m=>{t.invalidateQueries({queryKey:["marketing-posts"]}),m.success?at.success(m.message):at.error(m.error||"Failed to generate post")},onError:m=>{at.error("Failed to generate post: "+m.message)}}),p=zn({mutationFn:async({postId:m,webhookUrl:y})=>{const{data:b}=await Ye.from("social_media_posts").select("post_content").eq("id",m).single();if(!b)throw new Error("Post not found");if(!(await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b.post_content)})).ok)throw new Error("Webhook delivery failed");return await Ye.from("social_media_posts").update({status:"posted",posted_at:new Date().toISOString(),webhook_urls:[y]}).eq("id",m),{success:!0}},onSuccess:()=>{t.invalidateQueries({queryKey:["marketing-posts"]}),at.success("Post resent successfully")},onError:m=>{console.error("Failed to retry post:",m),at.error("Failed to resend post")}});return{posts:e.data,marketingPosts:n.data,webhooks:r.data,isLoading:e.isLoading||r.isLoading||n.isLoading,generatePost:i.mutate,isGenerating:i.isPending,generatedContent:i.data,createPost:s.mutate,updatePost:o.mutate,deletePost:l.mutate,createWebhook:c.mutate,updateWebhook:u.mutate,deleteWebhook:d.mutate,testWebhook:h.mutate,isTestingWebhook:h.isPending,generateMarketingPost:f.mutate,isGeneratingMarketingPost:f.isPending,marketingPostData:f.data,retryMarketingPost:p.mutate,isRetryingPost:p.isPending}}function UK(){const[t,e]=C.useState(!1),[n,r]=C.useState("property_highlight"),[i,s]=C.useState("listing_of_the_day"),[o,l]=C.useState("combined"),[c,u]=C.useState(""),[d,h]=C.useState(""),[f,p]=C.useState(""),[m,y]=C.useState(null),{generatePost:b,isGenerating:v,createPost:_}=p$(),{data:S}=Xr({queryKey:["listings-for-social"],queryFn:async()=>{const{data:A,error:M}=await Ye.from("listings").select("id, address, price, status").eq("status","active").order("created_at",{ascending:!1}).limit(20);if(M)throw M;return A}}),j=()=>{b({contentType:n,subjectType:i,platformType:o,listingId:c||void 0,customPrompt:d||void 0},{onSuccess:A=>{A.success&&y(A.content)}})},N=()=>{m&&_({content_type:n,subject_type:i,platform_type:o,post_content:m,post_title:f||`${n} - ${new Date().toLocaleDateString()}`,listing_id:c||null,status:"draft",ai_prompt_used:d||void 0},{onSuccess:()=>{e(!1),y(null),p(""),h("")}})};return a.jsxs(Ga,{open:t,onOpenChange:e,children:[a.jsx(Kh,{asChild:!0,children:a.jsxs(He,{className:"gap-2",children:[a.jsx(Ps,{className:"h-4 w-4"}),"Create Post"]})}),a.jsxs(Ta,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(qa,{children:[a.jsx(Ya,{children:"Create Social Media Post"}),a.jsx(Hl,{children:"Generate AI-powered social media content for your real estate business"})]}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"content-type",children:"Content Type"}),a.jsxs($n,{value:n,onValueChange:r,children:[a.jsx(Ln,{id:"content-type",children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"property_highlight",children:"Property Highlight"}),a.jsx(Ie,{value:"market_update",children:"Market Update"}),a.jsx(Ie,{value:"agent_tip",children:"Agent Tip"}),a.jsx(Ie,{value:"community_spotlight",children:"Community Spotlight"}),a.jsx(Ie,{value:"success_story",children:"Success Story"}),a.jsx(Ie,{value:"general",children:"General"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"subject-type",children:"Subject Type"}),a.jsxs($n,{value:i,onValueChange:s,children:[a.jsx(Ln,{id:"subject-type",children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"listing_of_the_day",children:"Listing of the Day"}),a.jsx(Ie,{value:"market_analysis",children:"Market Analysis"}),a.jsx(Ie,{value:"buyer_seller_tip",children:"Buyer/Seller Tip"}),a.jsx(Ie,{value:"neighborhood_feature",children:"Neighborhood Feature"}),a.jsx(Ie,{value:"testimonial_highlight",children:"Testimonial Highlight"}),a.jsx(Ie,{value:"special_announcement",children:"Special Announcement"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"platform-type",children:"Platform"}),a.jsxs($n,{value:o,onValueChange:l,children:[a.jsx(Ln,{id:"platform-type",children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"combined",children:"All Platforms"}),a.jsx(Ie,{value:"twitter_threads",children:"Twitter/X Threads"}),a.jsx(Ie,{value:"facebook_linkedin",children:"Facebook/LinkedIn"}),a.jsx(Ie,{value:"instagram",children:"Instagram"})]})]})]}),n==="property_highlight"&&S&&S.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"listing",children:"Select Property (Optional)"}),a.jsxs($n,{value:c,onValueChange:u,children:[a.jsx(Ln,{id:"listing",children:a.jsx(Hn,{placeholder:"Choose a listing..."})}),a.jsx(Dn,{children:S.map(A=>a.jsxs(Ie,{value:A.id,children:[A.address," - ",A.price]},A.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"custom-prompt",children:"Custom Instructions (Optional)"}),a.jsx(Jo,{id:"custom-prompt",placeholder:"Add any specific instructions for the AI...",value:d,onChange:A=>h(A.target.value),rows:3})]}),a.jsx(He,{onClick:j,disabled:v,className:"w-full gap-2",children:v?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"h-4 w-4 animate-spin"}),"Generating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sC,{className:"h-4 w-4"}),"Generate with AI"]})}),m&&a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"post-title",children:"Post Title"}),a.jsx(Yt,{id:"post-title",placeholder:"Enter a title for this post...",value:f,onChange:A=>p(A.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{children:"Generated Content"}),a.jsx("div",{className:"p-4 bg-background border rounded-lg whitespace-pre-wrap text-sm",children:m[o]||m.raw})]}),a.jsx(He,{onClick:N,className:"w-full",children:"Save as Draft"})]})]})]})]})}function ggt(){const[t,e]=C.useState(!1),[n,r]=C.useState(""),[i,s]=C.useState(""),[o,l]=C.useState(""),[c,u]=C.useState(!0),{createWebhook:d}=p$(),h=f=>{if(f.preventDefault(),!n.trim()){at.error("Please enter a webhook name");return}if(!i){at.error("Please select a platform");return}if(!o.trim()){at.error("Please enter a webhook URL");return}d({name:n,platform:i,webhook_url:o,is_active:c,headers:{}}),r(""),s(""),l(""),u(!0),e(!1)};return a.jsxs(Ga,{open:t,onOpenChange:e,children:[a.jsx(Kh,{asChild:!0,children:a.jsxs(He,{variant:"outline",children:[a.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Add Webhook"]})}),a.jsxs(Ta,{children:[a.jsxs(qa,{children:[a.jsx(Ya,{children:"Add Social Media Webhook"}),a.jsx(Hl,{children:"Configure a webhook to automatically distribute posts to your platforms"})]}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"name",children:"Webhook Name"}),a.jsx(Yt,{id:"name",placeholder:"My Make.com Workflow",value:n,onChange:f=>r(f.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"platform",children:"Platform *"}),a.jsxs($n,{value:i,onValueChange:s,children:[a.jsx(Ln,{id:"platform",children:a.jsx(Hn,{placeholder:"Select platform"})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"make",children:"Make.com"}),a.jsx(Ie,{value:"zapier",children:"Zapier"}),a.jsx(Ie,{value:"n8n",children:"n8n"}),a.jsx(Ie,{value:"custom",children:"Custom"}),a.jsx(Ie,{value:"facebook",children:"Facebook"}),a.jsx(Ie,{value:"instagram",children:"Instagram"}),a.jsx(Ie,{value:"linkedin",children:"LinkedIn"}),a.jsx(Ie,{value:"twitter",children:"Twitter/X"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"url",children:"Webhook URL"}),a.jsx(Yt,{id:"url",type:"url",placeholder:"https://hook.example.com/webhook/social",value:o,onChange:f=>l(f.target.value),required:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ct,{htmlFor:"active",children:"Active"}),a.jsx(rm,{id:"active",checked:c,onCheckedChange:u})]}),a.jsx(He,{type:"submit",className:"w-full",children:"Create Webhook"})]})]})]})}function ygt(){const[t,e]=C.useState("all"),{posts:n,marketingPosts:r,webhooks:i,isLoading:s,deletePost:o,updateWebhook:l,deleteWebhook:c,testWebhook:u,isTestingWebhook:d,generateMarketingPost:h,isGeneratingMarketingPost:f,marketingPostData:p,retryMarketingPost:m,isRetryingPost:y}=p$(),b=S=>{switch(S){case"posted":return"bg-green-500";case"scheduled":return"bg-blue-500";case"draft":return"bg-gray-500";case"archived":return"bg-orange-500";default:return"bg-gray-500"}},v=S=>S.split("_").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" ");if(s)return a.jsx("div",{className:"flex items-center justify-center p-12",children:a.jsx(zr,{className:"h-8 w-8 animate-spin text-primary"})});const _=t==="all"?n:n==null?void 0:n.filter(S=>S.status===t);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Qt,{children:[a.jsx(dr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(hr,{children:"Social Media Content"}),a.jsx(qr,{children:"Manage and generate social media posts for your real estate business"})]}),a.jsx(UK,{})]})}),a.jsx(vn,{children:a.jsxs(Bd,{value:t,onValueChange:e,children:[a.jsxs(kc,{children:[a.jsx(Sn,{value:"all",children:"All Posts"}),a.jsx(Sn,{value:"draft",children:"Drafts"}),a.jsx(Sn,{value:"scheduled",children:"Scheduled"}),a.jsx(Sn,{value:"posted",children:"Posted"})]}),a.jsx(xi,{value:t,className:"space-y-4 mt-6",children:_&&_.length>0?_.map(S=>a.jsx("div",{className:"border rounded-lg p-4 hover:border-primary transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h4",{className:"font-semibold",children:S.post_title||"Untitled Post"}),a.jsx(nn,{className:`${b(S.status)} text-white`,children:S.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground mb-3",children:[a.jsx("span",{className:"inline-flex items-center gap-1",children:a.jsx(nn,{variant:"outline",children:v(S.content_type)})}),a.jsx("span",{className:"inline-flex items-center gap-1",children:a.jsx(nn,{variant:"outline",children:v(S.subject_type)})}),a.jsx("span",{className:"inline-flex items-center gap-1",children:a.jsx(nn,{variant:"outline",children:v(S.platform_type)})})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Created: ",md(new Date(S.created_at),"MMM d, yyyy h:mm a")]}),S.scheduled_for&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Eo,{className:"h-3 w-3"}),"Scheduled: ",md(new Date(S.scheduled_for),"MMM d, yyyy h:mm a")]}),S.posted_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hM,{className:"h-3 w-3"}),"Posted: ",md(new Date(S.posted_at),"MMM d, yyyy h:mm a")]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(He,{variant:"outline",size:"sm",children:a.jsx(Wa,{className:"h-4 w-4"})}),a.jsx(He,{variant:"outline",size:"sm",children:a.jsx(ov,{className:"h-4 w-4"})}),a.jsx(He,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this post?")&&o(S.id)},children:a.jsx(S0,{className:"h-4 w-4"})})]})]})},S.id)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No posts found"}),a.jsx(UK,{})]})})]})})]}),a.jsxs(Qt,{children:[a.jsx(dr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(hr,{children:"Webhook Configuration"}),a.jsx(qr,{children:"Configure webhooks for automatic post distribution"})]}),a.jsx(ggt,{})]})}),a.jsx(vn,{children:i&&i.length>0?a.jsx("div",{className:"space-y-3",children:i.map(S=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(FSe,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:S.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:S.platform}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate max-w-md",children:S.webhook_url})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{variant:"ghost",size:"sm",onClick:()=>u(S.id),disabled:d,title:"Test webhook with sample post",children:d?a.jsx(zr,{className:"h-4 w-4 animate-spin"}):a.jsx(hM,{className:"h-4 w-4"})}),a.jsx(He,{variant:"ghost",size:"sm",onClick:()=>l({id:S.id,updates:{is_active:!S.is_active}}),children:S.is_active?a.jsx(tEe,{className:"h-5 w-5 text-green-600"}):a.jsx(eEe,{className:"h-5 w-5 text-gray-400"})}),a.jsx(He,{variant:"ghost",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this webhook?")&&c(S.id)},children:a.jsx(S0,{className:"h-4 w-4"})})]})]},S.id))}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No webhooks configured yet. Add a webhook to automatically distribute posts."})})})]}),a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsx(hr,{children:"Marketing Post Generator"}),a.jsx(qr,{children:"Generate unique, catchy social media posts to drive agent signups"})]}),a.jsxs(vn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(He,{onClick:()=>h(),disabled:f,className:"flex-1",children:f?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Generate New Post"]})}),i&&i.length>0&&a.jsx(He,{variant:"outline",onClick:()=>{const S=i.find(j=>j.is_active);S&&h(S.webhook_url)},disabled:f||!i.some(S=>S.is_active),children:"Generate & Send"})]}),p&&p.payload&&a.jsxs("div",{className:"space-y-4 mt-4 border-t pt-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Long Form (LinkedIn/Facebook):"}),a.jsx("div",{className:"bg-muted p-4 rounded-lg text-sm whitespace-pre-wrap",children:p.payload.longFormPost})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Short Form (Twitter/Threads):"}),a.jsx("div",{className:"bg-muted p-4 rounded-lg text-sm",children:p.payload.shortFormPost})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Hashtags:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:p.payload.hashtags.map((S,j)=>a.jsx(nn,{variant:"secondary",children:S},j))})]})]})]})]}),a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsx(hr,{children:"Marketing Post History"}),a.jsx(qr,{children:"View and redeploy previously generated marketing posts"})]}),a.jsx(vn,{children:r&&r.length>0?a.jsx("div",{className:"space-y-4",children:r.map(S=>{var N;const j=S.post_content;return a.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nn,{className:`${b(S.status)} text-white`,children:S.status}),a.jsx("span",{className:"text-sm text-muted-foreground",children:md(new Date(S.created_at),"MMM d, yyyy h:mm a")})]}),a.jsxs("div",{className:"flex gap-2",children:[i&&i.length>0&&a.jsx(He,{variant:"outline",size:"sm",onClick:()=>{const A=i.find(M=>M.is_active);A&&m({postId:S.id,webhookUrl:A.webhook_url})},disabled:y||!i.some(A=>A.is_active),children:y?a.jsx(zr,{className:"h-4 w-4 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(hM,{className:"h-4 w-4 mr-2"}),"Resend"]})}),a.jsx(He,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this post?")&&o(S.id)},children:a.jsx(S0,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Long Form:"}),a.jsx("div",{className:"bg-muted p-3 rounded text-sm whitespace-pre-wrap",children:j.longFormPost})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Short Form:"}),a.jsx("div",{className:"bg-muted p-3 rounded text-sm",children:j.shortFormPost})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:(N=j.hashtags)==null?void 0:N.map((A,M)=>a.jsx(nn,{variant:"secondary",className:"text-xs",children:A},M))})]})]},S.id)})}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No marketing posts generated yet. Create your first one above!"})})})]})]})}function Ahe(){const t=el(),e=Xr({queryKey:["articles"],queryFn:async()=>{const{data:c,error:u}=await Ye.from("articles").select("*").order("created_at",{ascending:!1});if(u)throw u;return c}}),n=zn({mutationFn:async c=>{const{data:u,error:d}=await Ye.functions.invoke("generate-article",{body:c});if(d)throw d;return u},onSuccess:c=>{c.success?at.success("Article generated successfully!"):at.error(c.error||"Generation failed")},onError:c=>{at.error("Failed to generate article: "+c.message)}}),r=zn({mutationFn:async c=>{var f;const{data:u}=await Ye.auth.getUser(),{data:d,error:h}=await Ye.from("articles").insert({...c,author_id:(f=u.user)==null?void 0:f.id}).select().single();if(h)throw h;return d},onSuccess:()=>{t.invalidateQueries({queryKey:["articles"]}),at.success("Article created successfully")},onError:c=>{at.error("Failed to create article: "+c.message)}}),i=zn({mutationFn:async({id:c,updates:u})=>{const{error:d}=await Ye.from("articles").update(u).eq("id",c);if(d)throw d},onSuccess:()=>{t.invalidateQueries({queryKey:["articles"]}),at.success("Article updated successfully")},onError:c=>{at.error("Failed to update article: "+c.message)}}),s=zn({mutationFn:async c=>{const{error:u}=await Ye.from("articles").update({status:"published",published_at:new Date().toISOString()}).eq("id",c);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["articles"]}),at.success("Article published successfully")},onError:c=>{at.error("Failed to publish article: "+c.message)}}),o=zn({mutationFn:async c=>{const{data:u,error:d}=await Ye.functions.invoke("publish-article-to-social",{body:{articleId:c}});if(d)throw d;return u},onSuccess:c=>{c!=null&&c.success?at.success("Article distributed to social platforms successfully"):at.error((c==null?void 0:c.error)||"Failed to distribute article")},onError:c=>{at.error("Failed to distribute article: "+c.message)}}),l=zn({mutationFn:async c=>{const{error:u}=await Ye.from("articles").delete().eq("id",c);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["articles"]}),at.success("Article deleted successfully")},onError:c=>{at.error("Failed to delete article: "+c.message)}});return{articles:e.data,isLoading:e.isLoading,generateArticle:n.mutate,isGenerating:n.isPending,generatedArticle:n.data,createArticle:r.mutate,updateArticle:i.mutate,publishArticle:s.mutate,republishArticle:o.mutate,isRepublishing:o.isPending,deleteArticle:l.mutate}}function m$(){const t=el(),{data:e=[],isLoading:n}=Xr({queryKey:["keywords"],queryFn:async()=>{const{data:l,error:c}=await Ye.from("keywords").select("*").order("usage_count",{ascending:!0}).order("keyword",{ascending:!0});if(c)throw c;return l}}),{data:r=[]}=Xr({queryKey:["keywords","unused"],queryFn:async()=>{const{data:l,error:c}=await Ye.from("keywords").select("*").eq("is_active",!0).order("usage_count",{ascending:!0}).order("last_used_at",{ascending:!0,nullsFirst:!0}).limit(50);if(c)throw c;return l}}),i=zn({mutationFn:async l=>{const{data:{session:c}}=await Ye.auth.getSession();if(!c)throw new Error("Not authenticated");const u=await fetch(`${Ye.supabaseUrl}/functions/v1/import-keywords`,{method:"POST",headers:{Authorization:`Bearer ${c.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({keywords:l})});if(!u.ok){const d=await u.json();throw new Error(d.error||"Failed to import keywords")}return u.json()},onSuccess:l=>{t.invalidateQueries({queryKey:["keywords"]}),at.success(l.message||"Keywords imported successfully")},onError:l=>{at.error(l.message||"Failed to import keywords")}}),s=zn({mutationFn:async({id:l,updates:c})=>{const{data:u,error:d}=await Ye.from("keywords").update(c).eq("id",l).select().single();if(d)throw d;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["keywords"]}),at.success("Keyword updated successfully")},onError:l=>{at.error(l.message||"Failed to update keyword")}}),o=zn({mutationFn:async l=>{const{error:c}=await Ye.from("keywords").delete().eq("id",l);if(c)throw c},onSuccess:()=>{t.invalidateQueries({queryKey:["keywords"]}),at.success("Keyword deleted successfully")},onError:l=>{at.error(l.message||"Failed to delete keyword")}});return{keywords:e,unusedKeywords:r,isLoading:n,importKeywords:l=>i.mutate(l),isImporting:i.isPending,updateKeyword:(l,c)=>s.mutate({id:l,updates:c}),deleteKeyword:l=>o.mutate(l)}}function Nhe(){const t=el(),e=Xr({queryKey:["article-webhooks"],queryFn:async()=>{const{data:o,error:l}=await Ye.from("article_webhooks").select("*").order("created_at",{ascending:!1});if(l)throw l;return o}}),n=zn({mutationFn:async o=>{var d;const{data:l}=await Ye.auth.getUser(),{data:c,error:u}=await Ye.from("article_webhooks").insert({...o,user_id:(d=l.user)==null?void 0:d.id}).select().single();if(u)throw u;return c},onSuccess:()=>{t.invalidateQueries({queryKey:["article-webhooks"]}),at.success("Webhook created successfully")},onError:o=>{at.error("Failed to create webhook: "+o.message)}}),r=zn({mutationFn:async({id:o,updates:l})=>{const{error:c}=await Ye.from("article_webhooks").update(l).eq("id",o);if(c)throw c},onSuccess:()=>{t.invalidateQueries({queryKey:["article-webhooks"]}),at.success("Webhook updated successfully")},onError:o=>{at.error("Failed to update webhook: "+o.message)}}),i=zn({mutationFn:async o=>{const{error:l}=await Ye.from("article_webhooks").delete().eq("id",o);if(l)throw l},onSuccess:()=>{t.invalidateQueries({queryKey:["article-webhooks"]}),at.success("Webhook deleted successfully")},onError:o=>{at.error("Failed to delete webhook: "+o.message)}}),s=zn({mutationFn:async o=>{const{data:l,error:c}=await Ye.functions.invoke("test-article-webhook",{body:{webhookUrl:o}});if(c)throw c;return l},onSuccess:o=>{o!=null&&o.success?at.success("Test payload sent successfully! Check your Make.com scenario."):at.error((o==null?void 0:o.error)||"Test failed")},onError:o=>{at.error("Failed to test webhook: "+o.message)}});return{webhooks:e.data,isLoading:e.isLoading,createWebhook:n.mutate,updateWebhook:r.mutate,deleteWebhook:i.mutate,testWebhook:s.mutate,isTesting:s.isPending,testResult:s.data}}function BK(){const[t,e]=C.useState(!1),[n,r]=C.useState("keyword"),[i,s]=C.useState(""),[o,l]=C.useState(""),[c,u]=C.useState("Real Estate Tips"),[d,h]=C.useState(""),[f,p]=C.useState(""),[m,y]=C.useState(null),{generateArticle:b,isGenerating:v,createArticle:_}=Ahe(),{unusedKeywords:S,isLoading:j}=m$(),N=()=>{if(n==="keyword"){const M=S.find(k=>k.id===i);b({topic:M==null?void 0:M.keyword,category:c,keywords:M?[M.keyword]:void 0,customInstructions:f||void 0,autoSelectKeyword:!i},{onSuccess:k=>{k.success&&(y(k.article),k.article.keywordId&&s(k.article.keywordId))}})}else{if(!o)return;b({topic:o,category:c,keywords:d?d.split(",").map(M=>M.trim()):void 0,customInstructions:f||void 0,autoSelectKeyword:!1},{onSuccess:M=>{M.success&&y(M.article)}})}},A=()=>{m&&_({title:m.title,slug:m.slug,content:m.content,excerpt:m.excerpt,category:m.category,tags:m.tags,seo_title:m.seoTitle,seo_description:m.seoDescription,seo_keywords:m.tags,keyword_id:n==="keyword"&&(m.keywordId||i)||null,status:"draft"},{onSuccess:()=>{e(!1),y(null),l(""),h(""),p(""),s("")}})};return a.jsxs(Ga,{open:t,onOpenChange:e,children:[a.jsx(Kh,{asChild:!0,children:a.jsxs(He,{className:"gap-2",children:[a.jsx(Ps,{className:"h-4 w-4"}),"New Article"]})}),a.jsxs(Ta,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(qa,{children:[a.jsx(Ya,{children:"Generate Blog Article"}),a.jsx(Hl,{children:"Create SEO-optimized real estate articles with AI assistance"})]}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs(Bd,{value:n,onValueChange:M=>r(M),children:[a.jsxs(kc,{className:"grid w-full grid-cols-2",children:[a.jsx(Sn,{value:"keyword",children:"From Keyword"}),a.jsx(Sn,{value:"manual",children:"Manual Topic"})]}),a.jsx(xi,{value:"keyword",className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"keyword-select",children:"Select Keyword (Optional - auto-selects if empty)"}),a.jsxs($n,{value:i,onValueChange:s,children:[a.jsx(Ln,{id:"keyword-select",children:a.jsx(Hn,{placeholder:"Auto-select unused keyword..."})}),a.jsx(Dn,{children:j?a.jsx(Ie,{value:"loading",disabled:!0,children:"Loading keywords..."}):S.length===0?a.jsx(Ie,{value:"none",disabled:!0,children:"No keywords available"}):S.map(M=>a.jsxs(Ie,{value:M.id,children:[M.keyword," (used ",M.usage_count," times)"]},M.id))})]})]})}),a.jsxs(xi,{value:"manual",className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"topic",children:"Article Topic *"}),a.jsx(Yt,{id:"topic",placeholder:"e.g., First-Time Homebuyer Tips for 2025",value:o,onChange:M=>l(M.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"keywords",children:"Target Keywords (comma-separated)"}),a.jsx(Yt,{id:"keywords",placeholder:"e.g., real estate, home buying, mortgage tips",value:d,onChange:M=>h(M.target.value)})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"category",children:"Category"}),a.jsxs($n,{value:c,onValueChange:u,children:[a.jsx(Ln,{id:"category",children:a.jsx(Hn,{})}),a.jsxs(Dn,{children:[a.jsx(Ie,{value:"Real Estate Tips",children:"Real Estate Tips"}),a.jsx(Ie,{value:"Market Insights",children:"Market Insights"}),a.jsx(Ie,{value:"Buying Guide",children:"Buying Guide"}),a.jsx(Ie,{value:"Selling Guide",children:"Selling Guide"}),a.jsx(Ie,{value:"Investment",children:"Investment"}),a.jsx(Ie,{value:"Neighborhood Guides",children:"Neighborhood Guides"}),a.jsx(Ie,{value:"Home Improvement",children:"Home Improvement"}),a.jsx(Ie,{value:"General",children:"General"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"instructions",children:"Custom Instructions (Optional)"}),a.jsx(Jo,{id:"instructions",placeholder:"Add specific requirements, tone, or focus areas...",value:f,onChange:M=>p(M.target.value),rows:3})]}),a.jsx(He,{onClick:N,disabled:v||n==="manual"&&!o,className:"w-full gap-2",children:v?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"h-4 w-4 animate-spin"}),"Generating Article..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sC,{className:"h-4 w-4"}),n==="keyword"&&!i?"Auto-Select Keyword & Generate":"Generate Article with AI"]})}),m&&a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:m.title}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Slug: ",m.slug]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:m.excerpt})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{children:"Article Content (Markdown)"}),a.jsx("div",{className:"p-4 bg-background border rounded-lg max-h-96 overflow-y-auto",children:a.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:m.content})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"SEO Title:"}),a.jsx("p",{className:"text-muted-foreground",children:m.seoTitle})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"SEO Description:"}),a.jsx("p",{className:"text-muted-foreground",children:m.seoDescription})]})]}),a.jsx(He,{onClick:A,className:"w-full",children:"Save as Draft"})]})]})]})]})}function zK(){const[t,e]=C.useState(!1),[n,r]=C.useState(""),[i,s]=C.useState(""),[o,l]=C.useState(!0),{createWebhook:c}=Nhe(),u=d=>{d.preventDefault(),!(!n.trim()||!i.trim())&&(c({name:n,webhook_url:i,is_active:o}),r(""),s(""),l(!0),e(!1))};return a.jsxs(Ga,{open:t,onOpenChange:e,children:[a.jsx(Kh,{asChild:!0,children:a.jsxs(He,{variant:"outline",children:[a.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Add Webhook"]})}),a.jsxs(Ta,{children:[a.jsxs(qa,{children:[a.jsx(Ya,{children:"Add Article Webhook"}),a.jsx(Hl,{children:"Configure a webhook to receive article data when articles are published"})]}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"name",children:"Webhook Name"}),a.jsx(Yt,{id:"name",placeholder:"My Social Platform",value:n,onChange:d=>r(d.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ct,{htmlFor:"url",children:"Webhook URL"}),a.jsx(Yt,{id:"url",type:"url",placeholder:"https://api.example.com/webhooks/article",value:i,onChange:d=>s(d.target.value),required:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ct,{htmlFor:"active",children:"Active"}),a.jsx(rm,{id:"active",checked:o,onCheckedChange:l})]}),a.jsx(He,{type:"submit",className:"w-full",children:"Create Webhook"})]})]})]})}function The(){const[t,e]=C.useState(!1),{importKeywords:n,isImporting:r}=m$(),i=C.useRef(null),s=()=>{const l=`keyword,category,difficulty,search_volume,notes
real estate agent portfolio,Real Estate,medium,1000,Example keyword
luxury home listings,Luxury Real Estate,hard,500,High-value properties
first time home buyer tips,Real Estate,easy,2000,Educational content`,c=new Blob([l],{type:"text/csv"}),u=window.URL.createObjectURL(c),d=document.createElement("a");d.href=u,d.download="keywords-template.csv",document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(u),at.success("Template downloaded")},o=async l=>{var u;const c=(u=l.target.files)==null?void 0:u[0];if(c)try{const h=(await c.text()).split(`
`).filter(m=>m.trim());if(h.length<2){at.error("CSV file is empty or invalid");return}const f=h[0].split(",").map(m=>m.trim().toLowerCase()),p=h.slice(1).map(m=>{const y=m.split(",").map(v=>v.trim()),b={};return f.forEach((v,_)=>{y[_]&&(b[v]=y[_])}),b}).filter(m=>m.keyword);if(p.length===0){at.error("No valid keywords found in CSV");return}await n(p),e(!1),i.current&&(i.current.value="")}catch(d){console.error("Error parsing CSV:",d),at.error("Failed to parse CSV file")}};return a.jsxs(Ga,{open:t,onOpenChange:e,children:[a.jsx(Kh,{asChild:!0,children:a.jsxs(He,{variant:"outline",children:[a.jsx(aC,{className:"h-4 w-4 mr-2"}),"Import Keywords"]})}),a.jsxs(Ta,{children:[a.jsxs(qa,{children:[a.jsx(Ya,{children:"Import Keywords from CSV"}),a.jsx(Hl,{children:"Upload a CSV file with your keywords. New keywords will be added and existing ones will be skipped."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[a.jsx("input",{ref:i,type:"file",accept:".csv",onChange:o,disabled:r,className:"hidden",id:"csv-upload"}),a.jsx("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r?a.jsx(zr,{className:"h-8 w-8 animate-spin text-primary"}):a.jsx(aC,{className:"h-8 w-8 text-muted-foreground"}),a.jsx("p",{className:"text-sm font-medium",children:r?"Importing...":"Click to upload CSV"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"CSV files only"})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"CSV Format:"}),a.jsx("div",{className:"bg-muted p-3 rounded-md text-xs font-mono",children:"keyword,category,difficulty,search_volume,notes"}),a.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 ml-4 list-disc",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"keyword"})," (required): The keyword phrase"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"category"}),": Real Estate, Luxury Real Estate, etc."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"difficulty"}),": easy, medium, or hard"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"search_volume"}),": Monthly search volume (number)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"notes"}),": Any additional notes"]})]})]}),a.jsxs(He,{onClick:s,variant:"secondary",className:"w-full",children:[a.jsx(sj,{className:"h-4 w-4 mr-2"}),"Download Template"]})]})]})]})}function vgt(){const t=el(),{data:e=[],isLoading:n}=Xr({queryKey:["content-suggestions"],queryFn:async()=>{const{data:c,error:u}=await Ye.from("content_suggestions").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(u)throw u;return c}}),r=zn({mutationFn:async({customInstructions:c,count:u})=>{const{data:{session:d}}=await Ye.auth.getSession();if(!d)throw new Error("Not authenticated");const h=await Ye.functions.invoke("generate-content-suggestions",{body:{customInstructions:c,count:u}});if(h.error)throw new Error(h.error.message||"Failed to generate suggestions");return h.data},onSuccess:()=>{t.invalidateQueries({queryKey:["content-suggestions"]}),at.success("Content suggestions generated successfully")},onError:c=>{at.error(c.message||"Failed to generate suggestions")}}),i=zn({mutationFn:async({id:c,updates:u})=>{const{data:d,error:h}=await Ye.from("content_suggestions").update(u).eq("id",c).select().single();if(h)throw h;return d},onSuccess:()=>{t.invalidateQueries({queryKey:["content-suggestions"]})},onError:c=>{at.error(c.message||"Failed to update suggestion")}}),s=zn({mutationFn:async c=>{const{error:u}=await Ye.from("content_suggestions").delete().eq("id",c);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["content-suggestions"]}),at.success("Suggestion deleted")},onError:c=>{at.error(c.message||"Failed to delete suggestion")}}),o=zn({mutationFn:async c=>{const u=c.keywords||[c.topic],{data:{session:d}}=await Ye.auth.getSession();if(!d)throw new Error("Not authenticated");const h=await Ye.functions.invoke("import-keywords",{body:{keywords:u.map(f=>({keyword:f,category:c.category||"General"}))}});if(h.error)throw new Error(h.error.message||"Failed to add to keywords");return await Ye.from("content_suggestions").update({status:"completed"}).eq("id",c.id),h.data},onSuccess:()=>{t.invalidateQueries({queryKey:["content-suggestions"]}),t.invalidateQueries({queryKey:["keywords"]}),at.success("Added to keywords successfully")},onError:c=>{at.error(c.message||"Failed to add to keywords")}}),l=zn({mutationFn:async c=>{var h,f;const{data:{session:u}}=await Ye.auth.getSession();if(!u)throw new Error("Not authenticated");await Ye.from("content_suggestions").update({status:"queued"}).eq("id",c.id);const d=await Ye.functions.invoke("generate-article",{body:{topic:c.topic,category:c.category,keywords:c.keywords,autoSelectKeyword:!1}});if(d.error)throw new Error(d.error.message||"Failed to generate article");return await Ye.from("content_suggestions").update({status:"completed",generated_article_id:(f=(h=d.data)==null?void 0:h.article)==null?void 0:f.id}).eq("id",c.id),d.data},onSuccess:()=>{t.invalidateQueries({queryKey:["content-suggestions"]}),t.invalidateQueries({queryKey:["articles"]}),at.success("Article generated successfully")},onError:c=>{at.error(c.message||"Failed to generate article")}});return{suggestions:e,isLoading:n,generateSuggestions:(c,u)=>r.mutate({customInstructions:c,count:u}),isGenerating:r.isPending,updateSuggestion:(c,u)=>i.mutate({id:c,updates:u}),deleteSuggestion:c=>s.mutate(c),queueSuggestion:c=>i.mutate({id:c,updates:{status:"queued"}}),rejectSuggestion:c=>i.mutate({id:c,updates:{status:"rejected"}}),addToKeywords:c=>o.mutate(c),writeArticle:c=>l.mutate(c),isWritingArticle:l.isPending}}function xgt(){const[t,e]=C.useState(!1),[n,r]=C.useState(""),[i,s]=C.useState("10"),{suggestions:o,isLoading:l,generateSuggestions:c,isGenerating:u,queueSuggestion:d,rejectSuggestion:h,deleteSuggestion:f,addToKeywords:p,writeArticle:m,isWritingArticle:y}=vgt(),b=()=>{c(n,parseInt(i)||10),e(!1),r("")},v=N=>{switch(N){case"queued":return"bg-blue-500";case"in_progress":return"bg-yellow-500";case"completed":return"bg-green-500";case"rejected":return"bg-red-500";default:return"bg-gray-500"}},_=N=>{const A=N||3;return A>=4?a.jsx(Qr,{className:"h-3 w-3 text-red-500"}):A>=3?a.jsx(Qr,{className:"h-3 w-3 text-orange-500"}):a.jsx(Qr,{className:"h-3 w-3 text-gray-500"})},S=o.filter(N=>N.status==="pending"),j=o.filter(N=>N.status==="queued");return a.jsxs(Qt,{children:[a.jsx(dr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(hr,{className:"flex items-center gap-2",children:[a.jsx(kS,{className:"h-5 w-5"}),"AI Content Suggestions"]}),a.jsx(qr,{children:"Generate high-value article ideas based on SEO keywords and market trends"})]}),a.jsxs(Ga,{open:t,onOpenChange:e,children:[a.jsx(Kh,{asChild:!0,children:a.jsxs(He,{children:[a.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Generate Suggestions"]})}),a.jsxs(Ta,{children:[a.jsxs(qa,{children:[a.jsx(Ya,{children:"Generate Content Suggestions"}),a.jsx(Hl,{children:"AI will analyze your existing keywords and articles to suggest relevant topics"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Number of Suggestions"}),a.jsx(Yt,{type:"number",min:"1",max:"50",value:i,onChange:N=>s(N.target.value),placeholder:"10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Custom Instructions (Optional)"}),a.jsx(Jo,{value:n,onChange:N=>r(N.target.value),placeholder:"E.g., Focus on first-time homebuyers in urban areas...",rows:4})]})]}),a.jsxs(em,{children:[a.jsx(He,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),a.jsxs(He,{onClick:b,disabled:u,children:[u&&a.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}),"Generate"]})]})]})]})]})}),a.jsx(vn,{children:l?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx(zr,{className:"h-8 w-8 animate-spin text-primary"})}):o.length>0?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-gray-600",children:S.length})]}),a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Queued"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.length})]}),a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.filter(N=>N.status==="completed").length})]})]}),a.jsx("div",{className:"space-y-3",children:o.map(N=>{var A;return a.jsx("div",{className:"border rounded-lg p-4 hover:border-primary transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_(N.priority),a.jsx("h4",{className:"font-semibold",children:N.topic}),a.jsx(nn,{className:`${v(N.status)} text-white text-xs`,children:N.status||"pending"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.jsx(nn,{variant:"outline",children:N.category||"General"}),(A=N.keywords)==null?void 0:A.slice(0,3).map((M,k)=>a.jsxs(nn,{variant:"secondary",className:"gap-1",children:[a.jsx(GD,{className:"h-3 w-3"}),M]},k))]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[N.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(He,{variant:"outline",size:"sm",onClick:()=>m(N),disabled:y,title:"Write Article Now",children:y?a.jsx(zr,{className:"h-4 w-4 animate-spin"}):a.jsx(Vh,{className:"h-4 w-4"})}),a.jsx(He,{variant:"outline",size:"sm",onClick:()=>d(N.id),title:"Add to Queue",children:a.jsx(hm,{className:"h-4 w-4"})}),a.jsx(He,{variant:"outline",size:"sm",onClick:()=>p(N),title:"Add to Keywords",children:a.jsx(GD,{className:"h-4 w-4"})}),a.jsx(He,{variant:"outline",size:"sm",onClick:()=>h(N.id),title:"Reject",children:a.jsx(ate,{className:"h-4 w-4"})})]}),N.status==="completed"&&a.jsx(He,{variant:"outline",size:"sm",disabled:!0,title:"Completed",children:a.jsx(Cu,{className:"h-4 w-4"})}),a.jsx(He,{variant:"outline",size:"sm",onClick:()=>{confirm("Delete this suggestion?")&&f(N.id)},title:"Delete",children:a.jsx(S0,{className:"h-4 w-4"})})]})]})},N.id)})})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(kS,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No content suggestions yet. Generate AI-powered topic ideas to get started."}),a.jsxs(Ga,{open:t,onOpenChange:e,children:[a.jsx(Kh,{asChild:!0,children:a.jsxs(He,{children:[a.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Generate First Suggestions"]})}),a.jsxs(Ta,{children:[a.jsxs(qa,{children:[a.jsx(Ya,{children:"Generate Content Suggestions"}),a.jsx(Hl,{children:"AI will analyze your existing keywords and articles to suggest relevant topics"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Number of Suggestions"}),a.jsx(Yt,{type:"number",min:"1",max:"50",value:i,onChange:N=>s(N.target.value),placeholder:"10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Custom Instructions (Optional)"}),a.jsx(Jo,{value:n,onChange:N=>r(N.target.value),placeholder:"E.g., Focus on first-time homebuyers in urban areas...",rows:4})]})]}),a.jsxs(em,{children:[a.jsx(He,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),a.jsxs(He,{onClick:b,disabled:u,children:[u&&a.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}),"Generate"]})]})]})]})]})})]})}function bgt(){const[t,e]=C.useState("all"),{articles:n,isLoading:r,deleteArticle:i,publishArticle:s,republishArticle:o,isRepublishing:l}=Ahe(),{keywords:c,isLoading:u}=m$(),{webhooks:d,isLoading:h,updateWebhook:f,deleteWebhook:p,testWebhook:m,isTesting:y}=Nhe(),b=_=>{switch(_){case"published":return"bg-green-500";case"scheduled":return"bg-blue-500";case"draft":return"bg-gray-500";case"archived":return"bg-orange-500";default:return"bg-gray-500"}};if(r)return a.jsx("div",{className:"flex items-center justify-center p-12",children:a.jsx(zr,{className:"h-8 w-8 animate-spin text-primary"})});const v=t==="all"?n:n==null?void 0:n.filter(_=>_.status===t);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Qt,{children:[a.jsx(dr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(hr,{children:"Blog Articles"}),a.jsx(qr,{children:"Manage your real estate blog content and articles"})]}),a.jsx(BK,{})]})}),a.jsx(vn,{children:a.jsxs(Bd,{value:t,onValueChange:e,children:[a.jsxs(kc,{children:[a.jsx(Sn,{value:"all",children:"All Articles"}),a.jsx(Sn,{value:"draft",children:"Drafts"}),a.jsx(Sn,{value:"scheduled",children:"Scheduled"}),a.jsx(Sn,{value:"published",children:"Published"})]}),a.jsx(xi,{value:t,className:"space-y-4 mt-6",children:v&&v.length>0?v.map(_=>{var S,j;return a.jsx("div",{className:"border rounded-lg p-4 hover:border-primary transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h4",{className:"font-semibold text-lg",children:_.title}),a.jsx(nn,{className:`${b(_.status)} text-white`,children:_.status})]}),_.excerpt&&a.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[_.excerpt.substring(0,150),"..."]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.jsx(nn,{variant:"outline",children:_.category}),_.keyword_id&&a.jsxs(nn,{variant:"secondary",className:"gap-1",children:[a.jsx(GD,{className:"h-3 w-3"}),((S=c==null?void 0:c.find(N=>N.id===_.keyword_id))==null?void 0:S.keyword)||"Keyword"]}),(j=_.tags)==null?void 0:j.slice(0,2).map((N,A)=>a.jsx(nn,{variant:"secondary",children:N},A))]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Wa,{className:"h-3 w-3"}),_.view_count," views"]}),a.jsxs("span",{children:["Created: ",md(new Date(_.created_at),"MMM d, yyyy")]}),_.published_at&&a.jsxs("span",{children:["Published: ",md(new Date(_.published_at),"MMM d, yyyy")]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(He,{variant:"outline",size:"sm",title:"View",children:a.jsx(Wa,{className:"h-4 w-4"})}),a.jsx(He,{variant:"outline",size:"sm",title:"Edit",children:a.jsx(ov,{className:"h-4 w-4"})}),_.status==="draft"&&a.jsx(He,{variant:"outline",size:"sm",onClick:()=>{confirm("Publish this article?")&&s(_.id)},title:"Publish",children:a.jsx(Cu,{className:"h-4 w-4"})}),_.status==="published"&&a.jsx(He,{variant:"outline",size:"sm",onClick:()=>{confirm("Re-distribute this article to social platforms?")&&o(_.id)},disabled:l,title:"Re-publish to Social Media",children:l?a.jsx(zr,{className:"h-4 w-4 animate-spin"}):a.jsx(hM,{className:"h-4 w-4"})}),a.jsx(He,{variant:"outline",size:"sm",onClick:()=>{confirm("Delete this article?")&&i(_.id)},title:"Delete",children:a.jsx(S0,{className:"h-4 w-4"})})]})]})},_.id)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No articles found"}),a.jsx("div",{className:"mt-4",children:a.jsx(BK,{})})]})})]})})]}),a.jsxs(Qt,{children:[a.jsx(dr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(hr,{children:"Keyword Management"}),a.jsx(qr,{children:"Track SEO keyword usage across articles"})]}),a.jsx(The,{})]})}),a.jsx(vn,{children:u?a.jsx("div",{className:"flex items-center justify-center p-4",children:a.jsx(zr,{className:"h-6 w-6 animate-spin text-primary"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Keywords"}),a.jsx("p",{className:"text-2xl font-bold",children:(c==null?void 0:c.length)||0})]}),a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Unused"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:(c==null?void 0:c.filter(_=>_.usage_count===0).length)||0})]}),a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Most Used"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Math.max(...(c==null?void 0:c.map(_=>_.usage_count))||[0])})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Keywords are automatically tracked when articles are published. Import your keywords.csv to get started."})]})})]}),a.jsx(xgt,{}),a.jsxs(Qt,{children:[a.jsx(dr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(hr,{children:"Article Webhooks"}),a.jsx(qr,{children:"Configure webhooks for automatic article distribution"})]}),a.jsx(zK,{})]})}),a.jsx(vn,{children:h?a.jsx("div",{className:"flex items-center justify-center p-4",children:a.jsx(zr,{className:"h-6 w-6 animate-spin text-primary"})}):d&&d.length>0?a.jsx("div",{className:"space-y-3",children:d.map(_=>a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-semibold",children:_.name}),a.jsx(nn,{variant:_.is_active?"default":"secondary",children:_.is_active?"Active":"Inactive"})]}),a.jsxs("a",{href:_.webhook_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-primary flex items-center gap-1",children:[_.webhook_url,a.jsx(Su,{className:"h-3 w-3"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rm,{checked:_.is_active,onCheckedChange:S=>{f({id:_.id,updates:{is_active:S}})}}),a.jsx(He,{variant:"outline",size:"sm",onClick:()=>{confirm("Delete this webhook?")&&p(_.id)},children:a.jsx(S0,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"pt-3 border-t",children:a.jsx(He,{variant:"secondary",size:"sm",onClick:()=>m(_.webhook_url),disabled:y,className:"w-full",children:y?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Vh,{className:"h-4 w-4 mr-2"}),"Send Test Payload to Make.com"]})})})]},_.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No webhooks configured. Add one to automatically send published articles to external platforms."}),a.jsx(zK,{})]})})]})]})}const Mhe=()=>{const{toast:t}=Ud(),[e,n]=C.useState(!1),[r,i]=C.useState(""),[s,o]=C.useState(null),l=async()=>{if(!r){t({title:"URL Required",description:"Please enter a URL to audit",variant:"destructive"});return}n(!0);try{const{data:c,error:u}=await Ye.functions.invoke("seo-audit",{body:{url:r,auditType:"full",saveResults:!0}});if(u)throw u;o(c.audit),t({title:"Audit Complete",description:`Overall score: ${c.audit.overallScore}/100`})}catch(c){t({title:"Audit Failed",description:c.message,variant:"destructive"})}finally{n(!1)}};return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"SEO Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Comprehensive SEO tools and analytics for your website"})]}),a.jsxs(Bd,{defaultValue:"audit",className:"w-full",children:[a.jsxs(kc,{className:"grid grid-cols-6 lg:grid-cols-11 gap-2 h-auto",children:[a.jsxs(Sn,{value:"audit",className:"flex items-center gap-2",children:[a.jsx(av,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Audit"})]}),a.jsxs(Sn,{value:"keywords",className:"flex items-center gap-2",children:[a.jsx(ib,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Keywords"})]}),a.jsxs(Sn,{value:"competitors",className:"flex items-center gap-2",children:[a.jsx(Nu,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Competitors"})]}),a.jsxs(Sn,{value:"pages",className:"flex items-center gap-2",children:[a.jsx(zh,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Pages"})]}),a.jsxs(Sn,{value:"monitoring",className:"flex items-center gap-2",children:[a.jsx(rte,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Monitoring"})]}),a.jsxs(Sn,{value:"meta",className:"flex items-center gap-2",children:[a.jsx(RSe,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Meta Tags"})]}),a.jsxs(Sn,{value:"robots",className:"flex items-center gap-2",children:[a.jsx(TSe,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"robots.txt"})]}),a.jsxs(Sn,{value:"sitemap",className:"flex items-center gap-2",children:[a.jsx(BSe,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sitemap"})]}),a.jsxs(Sn,{value:"structured",className:"flex items-center gap-2",children:[a.jsx(ote,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Schema"})]}),a.jsxs(Sn,{value:"performance",className:"flex items-center gap-2",children:[a.jsx(Vh,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Performance"})]}),a.jsxs(Sn,{value:"backlinks",className:"flex items-center gap-2",children:[a.jsx(Qr,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Backlinks"})]})]}),a.jsxs(kc,{className:"grid grid-cols-6 lg:grid-cols-11 gap-2 h-auto mt-2",children:[a.jsxs(Sn,{value:"broken-links",className:"flex items-center gap-2",children:[a.jsx(Su,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Broken Links"})]}),a.jsxs(Sn,{value:"link-structure",className:"flex items-center gap-2",children:[a.jsx(Uy,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Links"})]}),a.jsxs(Sn,{value:"content",className:"flex items-center gap-2",children:[a.jsx(zh,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Content"})]}),a.jsxs(Sn,{value:"crawler",className:"flex items-center gap-2",children:[a.jsx(sv,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Crawler"})]}),a.jsxs(Sn,{value:"images",className:"flex items-center gap-2",children:[a.jsx(cte,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Images"})]}),a.jsxs(Sn,{value:"redirects",className:"flex items-center gap-2",children:[a.jsx(GSe,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Redirects"})]}),a.jsxs(Sn,{value:"duplicate",className:"flex items-center gap-2",children:[a.jsx(X5,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Duplicates"})]}),a.jsxs(Sn,{value:"security",className:"flex items-center gap-2",children:[a.jsx(LP,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Security"})]}),a.jsxs(Sn,{value:"mobile",className:"flex items-center gap-2",children:[a.jsx(XSe,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Mobile"})]}),a.jsxs(Sn,{value:"budget",className:"flex items-center gap-2",children:[a.jsx(hm,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Budget"})]}),a.jsxs(Sn,{value:"semantic",className:"flex items-center gap-2",children:[a.jsx(jSe,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Semantic"})]})]}),a.jsx(xi,{value:"audit",children:a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsx(hr,{children:"SEO Audit"}),a.jsx(qr,{children:"Run a comprehensive SEO audit on any URL"})]}),a.jsx(vn,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(ct,{htmlFor:"audit-url",children:"URL to Audit"}),a.jsx(Yt,{id:"audit-url",placeholder:"https://example.com",value:r,onChange:c=>i(c.target.value)})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(He,{onClick:l,disabled:e,children:e?"Running...":"Run Audit"})})]}),s&&a.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-4",children:[a.jsxs(Qt,{children:[a.jsx(dr,{className:"pb-2",children:a.jsx(hr,{className:"text-sm",children:"Overall Score"})}),a.jsx(vn,{children:a.jsxs("div",{className:"text-3xl font-bold",children:[s.overallScore,"/100"]})})]}),a.jsxs(Qt,{children:[a.jsx(dr,{className:"pb-2",children:a.jsx(hr,{className:"text-sm",children:"SEO Score"})}),a.jsx(vn,{children:a.jsxs("div",{className:"text-3xl font-bold",children:[s.seoScore,"/100"]})})]}),a.jsxs(Qt,{children:[a.jsx(dr,{className:"pb-2",children:a.jsx(hr,{className:"text-sm",children:"Performance"})}),a.jsx(vn,{children:a.jsxs("div",{className:"text-3xl font-bold",children:[s.performanceScore,"/100"]})})]}),a.jsxs(Qt,{children:[a.jsx(dr,{className:"pb-2",children:a.jsx(hr,{className:"text-sm",children:"Accessibility"})}),a.jsx(vn,{children:a.jsxs("div",{className:"text-3xl font-bold",children:[s.accessibilityScore,"/100"]})})]})]}),s&&a.jsxs("div",{className:"mt-6 space-y-4",children:[s.criticalIssues.length>0&&a.jsxs(Qt,{className:"border-red-500",children:[a.jsx(dr,{children:a.jsxs(hr,{className:"text-red-600",children:["Critical Issues (",s.criticalIssues.length,")"]})}),a.jsx(vn,{children:a.jsx("ul",{className:"list-disc pl-5 space-y-1",children:s.criticalIssues.map((c,u)=>a.jsx("li",{className:"text-red-600",children:c},u))})})]}),s.warnings.length>0&&a.jsxs(Qt,{className:"border-yellow-500",children:[a.jsx(dr,{children:a.jsxs(hr,{className:"text-yellow-600",children:["Warnings (",s.warnings.length,")"]})}),a.jsx(vn,{children:a.jsx("ul",{className:"list-disc pl-5 space-y-1",children:s.warnings.map((c,u)=>a.jsx("li",{className:"text-yellow-600",children:c},u))})})]}),s.recommendations.length>0&&a.jsxs(Qt,{className:"border-blue-500",children:[a.jsx(dr,{children:a.jsxs(hr,{className:"text-blue-600",children:["Recommendations (",s.recommendations.length,")"]})}),a.jsx(vn,{children:a.jsx("ul",{className:"list-disc pl-5 space-y-1",children:s.recommendations.map((c,u)=>a.jsx("li",{className:"text-blue-600",children:c},u))})})]})]})]})})]})}),["keywords","competitors","pages","monitoring","meta","robots","sitemap","structured","performance","backlinks","broken-links","link-structure","content","crawler","images","redirects","duplicate","security","mobile","budget","semantic"].map(c=>a.jsx(xi,{value:c,children:a.jsxs(Qt,{children:[a.jsxs(dr,{children:[a.jsx(hr,{className:"capitalize",children:c.replace("-"," ")}),a.jsxs(qr,{children:[c.charAt(0).toUpperCase()+c.slice(1).replace("-"," ")," management and analysis"]})]}),a.jsx(vn,{children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("p",{children:"This feature is under development."}),a.jsx("p",{className:"text-sm mt-2",children:"The backend functions are ready. UI coming soon!"})]})})]})},c))]})]})};function wgt(){const{user:t,role:e}=ys();return!t||e!=="admin"?a.jsx(R5,{to:"/",replace:!0}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b",children:a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(OS,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage AI, content, and platform settings"})]})]}),a.jsx(xn,{to:"/dashboard",children:a.jsxs(He,{variant:"outline",className:"gap-2",children:[a.jsx(OP,{className:"h-4 w-4"}),"Back to Dashboard"]})})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs(Bd,{defaultValue:"ai",className:"space-y-6",children:[a.jsxs(kc,{className:"grid w-full grid-cols-7 lg:w-auto",children:[a.jsxs(Sn,{value:"ai",className:"gap-2",children:[a.jsx(MSe,{className:"h-4 w-4"}),"AI Settings"]}),a.jsxs(Sn,{value:"social",className:"gap-2",children:[a.jsx(hte,{className:"h-4 w-4"}),"Social Media"]}),a.jsxs(Sn,{value:"articles",className:"gap-2",children:[a.jsx(zh,{className:"h-4 w-4"}),"Articles"]}),a.jsxs(Sn,{value:"keywords",className:"gap-2",children:[a.jsx(ote,{className:"h-4 w-4"}),"Keywords"]}),a.jsxs(Sn,{value:"seo",className:"gap-2",children:[a.jsx(av,{className:"h-4 w-4"}),"SEO"]}),a.jsxs(Sn,{value:"users",className:"gap-2",children:[a.jsx(Nu,{className:"h-4 w-4"}),"User Roles"]}),a.jsxs(Sn,{value:"settings",className:"gap-2",children:[a.jsx(OS,{className:"h-4 w-4"}),"Platform"]})]}),a.jsx(xi,{value:"ai",className:"space-y-6",children:a.jsx(mgt,{})}),a.jsx(xi,{value:"social",className:"space-y-6",children:a.jsx(ygt,{})}),a.jsx(xi,{value:"articles",className:"space-y-6",children:a.jsx(bgt,{})}),a.jsx(xi,{value:"keywords",className:"space-y-6",children:a.jsxs("div",{className:"rounded-lg border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Keyword Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Import and manage keywords from CSV files"})]}),a.jsx(The,{})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the import button to bulk upload keywords from a CSV file. Keywords help improve content generation and SEO optimization."})]})}),a.jsx(xi,{value:"seo",className:"space-y-6",children:a.jsx(Mhe,{})}),a.jsx(xi,{value:"users",className:"space-y-6",children:a.jsxs("div",{className:"rounded-lg border p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"User Role Management"}),a.jsx("p",{className:"text-muted-foreground",children:"User role management interface coming soon..."})]})}),a.jsx(xi,{value:"settings",className:"space-y-6",children:a.jsxs("div",{className:"rounded-lg border p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Platform Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Additional platform configuration coming soon..."})]})})]})})]})}const _gt=()=>a.jsx("div",{className:"min-h-screen bg-background",children:a.jsx(Mhe,{})});function Sgt(){const{initialize:t,user:e}=ys();return C.useEffect(()=>{t(),(async()=>{await wEe.init(),await cI.init()})()},[t]),C.useEffect(()=>{(async()=>{e&&await cI.requestPermission()&&await cI.registerToken(e.id)})()},[e]),C.useEffect(()=>{e?bV.setUser(e.id,e.email):bV.clearUser()},[e]),a.jsxs(a.Fragment,{children:[a.jsx(tje,{}),a.jsxs(lbe,{children:[a.jsx(Wr,{path:"/",element:a.jsx(I3e,{})}),a.jsx(Wr,{path:"/pricing",element:a.jsx(fUe,{})}),a.jsx(Wr,{path:"/privacy",element:a.jsx(QFe,{})}),a.jsx(Wr,{path:"/terms",element:a.jsx(JFe,{})}),a.jsx(Wr,{path:"/dmca",element:a.jsx(eUe,{})}),a.jsx(Wr,{path:"/acceptable-use",element:a.jsx(tUe,{})}),a.jsx(Wr,{path:"/blog",element:a.jsx(mUe,{})}),a.jsx(Wr,{path:"/blog/:slug",element:a.jsx(l$e,{})}),a.jsx(Wr,{path:"/p/:slug",element:a.jsx(hgt,{})}),a.jsx(Wr,{path:"/:slug",element:a.jsx(ZFe,{})}),a.jsx(Wr,{path:"/auth/login",element:a.jsx(u$e,{})}),a.jsx(Wr,{path:"/auth/register",element:a.jsx(h$e,{})}),a.jsxs(Wr,{path:"/dashboard",element:a.jsx(aI,{children:a.jsx(m$e,{})}),children:[a.jsx(Wr,{index:!0,element:a.jsx(A$e,{})}),a.jsx(Wr,{path:"listings",element:a.jsx(k$e,{})}),a.jsx(Wr,{path:"quick-actions",element:a.jsx(imt,{})}),a.jsx(Wr,{path:"leads",element:a.jsx(O$e,{})}),a.jsx(Wr,{path:"lead-management",element:a.jsx(ymt,{})}),a.jsx(Wr,{path:"analytics-advanced",element:a.jsx(Bmt,{})}),a.jsx(Wr,{path:"page-builder",element:a.jsx(dgt,{})}),a.jsx(Wr,{path:"profile",element:a.jsx(I$e,{})}),a.jsx(Wr,{path:"theme",element:a.jsx(f8e,{})}),a.jsx(Wr,{path:"links",element:a.jsx(P8e,{})}),a.jsx(Wr,{path:"testimonials",element:a.jsx(R8e,{})}),a.jsx(Wr,{path:"analytics",element:a.jsx(Rpt,{})}),a.jsx(Wr,{path:"settings",element:a.jsx(Gpt,{})})]}),a.jsx(Wr,{path:"/admin",element:a.jsx(aI,{children:a.jsx(wgt,{})})}),a.jsx(Wr,{path:"/admin/seo",element:a.jsx(aI,{children:a.jsx(_gt,{})})}),a.jsx(Wr,{path:"*",element:a.jsx(Oae,{})})]}),a.jsx(xwe,{position:"top-right",richColors:!0})]})}class Egt extends C.Component{constructor(){super(...arguments);Fs(this,"state",{hasError:!1,error:null,errorInfo:null});Fs(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})})}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){console.error("Uncaught error:",n,r),this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center px-4",children:a.jsxs("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-lg p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:a.jsx(ij,{className:"h-8 w-8 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Oops! Something went wrong"}),a.jsx("p",{className:"text-gray-600",children:"We're sorry for the inconvenience"})]})]}),!1,a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("button",{onClick:this.handleReset,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[a.jsx(WSe,{className:"h-5 w-5"}),"Try Again"]}),a.jsxs("a",{href:"/",className:"flex-1 flex items-center justify-center gap-2 border-2 border-gray-300 text-gray-700 px-4 py-3 rounded-lg font-semibold hover:border-gray-400 transition-colors",children:[a.jsx(Ci,{className:"h-5 w-5"}),"Go Home"]})]})]})}):this.props.children}}const jgt=new e0e({defaultOptions:{queries:{staleTime:60*1e3,retry:1,refetchOnWindowFocus:!1}}}),Che=document.getElementById("root");Che||console.error("Root element #root not found");y3.createRoot(Che).render(a.jsx(mbe,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsx(Egt,{children:a.jsx(HJ,{children:a.jsxs(t0e,{client:jgt,children:[a.jsx(Sgt,{}),!1]})})})}));
