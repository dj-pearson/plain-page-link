import{j as e}from"./ui-vendor-DfpuNOa7.js";import{b as w,j as ue}from"./react-vendor-ctj0ExSI.js";import{a0 as Y,l as R,s as C,aL as me,f as V,I as oe,h as he,g as le,X as xe,u as z,C as D,a as L,b as E,aj as X,c as P,d as A,B as N,ae as fe,aF as pe,G as Q,ap as ee,a6 as se,r as H,ak as ce,aE as ge,aJ as je,aK as be,a4 as ye,ad as J,O as ve,T as de,e as re,aq as we,ar as Ne,as as ke,U as Se,i as Ce,j as _e}from"./index-DMBvLcus.js";import{b as K,u as G,d as _}from"./state-vendor-BElgh7Si.js";import{A as De,a as Le}from"./alert-DqvxLW6T.js";import{C as Ee}from"./copy-BI0PqPPA.js";import{P as Pe}from"./plus-DmngyYvv.js";import{D as Ae,a as Re,b as Te,c as Fe}from"./dropdown-menu-CNn2PlHX.js";import{A as F,a as q,b as M,c as U,d as $,e as O,f as B,g as I}from"./alert-dialog-BCP7TOlG.js";import{R as te}from"./refresh-cw-BP_BHbaN.js";import{E as qe}from"./ellipsis-vertical-D67AxEmj.js";import{L as ae}from"./log-out-Jpia1Pes.js";import{M as Me}from"./monitor-CG-700qW.js";import{T as Z}from"./triangle-alert-DmcaVtvP.js";import{T as W}from"./trash-2-DiWNW6Fz.js";import{C as Ue}from"./circle-x-qFEJJZAa.js";import{S as ie}from"./save-Dde5G5SE.js";import{B as $e}from"./bell-Bb9ZKo6t.js";import"./supabase-GsKtvycU.js";import"./three-vendor-BsISVfAm.js";import"./charts-vendor-DGVahL1I.js";import"./date-vendor-Xm6TBh54.js";import"./form-vendor-Ce9oe0_k.js";import"./animation-vendor-OAo91Cux.js";const Oe=Y("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const Be=Y("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const Ie=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Ye=Y("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const Ke=Y("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);function Ge(){const{user:r}=R(),u=K(),{data:n,isLoading:l}=G({queryKey:["settings",r?.id],queryFn:async()=>{if(!r?.id)return null;const{data:m,error:h}=await C.from("user_settings").select("*").eq("user_id",r.id).maybeSingle();if(h&&h.code!=="PGRST116")throw h;if(!m){const{data:x,error:c}=await C.from("user_settings").insert({user_id:r.id,email_leads:!0,sms_leads:!1,weekly_report:!0,marketing_emails:!1,show_listings:!0,show_sold_properties:!0,show_testimonials:!0,show_social_proof:!0,show_contact_buttons:!0}).select().single();if(c)throw c;return x}return m},enabled:!!r?.id}),g=_({mutationFn:async m=>{if(!r?.id)throw new Error("User not authenticated");const{data:h,error:x}=await C.from("user_settings").update(m).eq("user_id",r.id).select().single();if(x)throw x;return h},onSuccess:()=>{u.invalidateQueries({queryKey:["settings",r?.id]})}});return{settings:n,isLoading:l,updateSettings:g}}const Ve=({value:r,onChange:u,currentUsername:n})=>{const{checkUsername:l,isChecking:g,error:m,isAvailable:h}=me(),[x,c]=w.useState(!1);w.useEffect(()=>{r&&r!==n&&(l(r),c(!0))},[r,n,l]);const o=x&&h&&!m&&!g&&r!==n,b=x&&(m||h===!1)&&!g;return e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"username",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{id:"username",value:r,onChange:y=>u(y.target.value.toLowerCase().replace(/[^a-z0-9_-]/g,"")),placeholder:"Enter username",className:`pr-10 ${o?"border-green-500":b?"border-red-500":""}`}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[g&&e.jsx(he,{className:"h-4 w-4 animate-spin text-muted-foreground"}),o&&e.jsx(le,{className:"h-4 w-4 text-green-500"}),b&&e.jsx(xe,{className:"h-4 w-4 text-red-500"})]})]}),b&&e.jsx("p",{className:"text-sm text-red-500",children:m}),o&&e.jsx("p",{className:"text-sm text-green-500",children:"Username is available!"}),e.jsx(De,{children:e.jsxs(Le,{className:"text-sm",children:["Your profile will be accessible at: ",e.jsxs("strong",{children:["agentbio.net/",r||"username"]})]})}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsx("p",{children:"Username requirements:"}),e.jsxs("ul",{className:"list-disc list-inside ml-2",children:[e.jsx("li",{children:"3-30 characters"}),e.jsx("li",{children:"Letters, numbers, hyphens, and underscores only"}),e.jsx("li",{children:"No profanity or reserved words"})]})]})]})};function Qe({username:r}){const[u,n]=w.useState(!1),{toast:l}=z(),g=`${window.location.origin}/${r}`,m=async()=>{try{await navigator.clipboard.writeText(g),n(!0),l({title:"Copied!",description:"Profile URL copied to clipboard"}),setTimeout(()=>n(!1),2e3)}catch{l({title:"Failed to copy",description:"Please copy the URL manually",variant:"destructive"})}},h=async()=>{if(navigator.share)try{await navigator.share({title:"My Real Estate Profile",text:"Check out my professional real estate profile",url:g})}catch{console.log("Share cancelled or failed")}else m()};return e.jsxs(D,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsxs(L,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5 text-blue-600"}),"Your Public Profile"]}),e.jsx(P,{children:"Share this link to showcase your properties and capture leads"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200",children:e.jsx("code",{className:"flex-1 text-sm text-blue-600 font-mono truncate",children:g})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{onClick:m,variant:"outline",className:"flex-1",children:u?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Copy Link"]})}),e.jsxs(N,{onClick:h,variant:"outline",className:"flex-1",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Share"]}),e.jsx(N,{asChild:!0,variant:"default",children:e.jsxs("a",{href:`/${r}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"View"]})})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsxs("p",{className:"mb-2",children:["ðŸ’¡ ",e.jsx("strong",{children:"Pro tip:"})," Share this link on:"]}),e.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[e.jsx("li",{children:"Your email signature"}),e.jsx("li",{children:"Business cards and flyers"}),e.jsx("li",{children:"Social media profiles"}),e.jsx("li",{children:"MLS listings and property descriptions"}),e.jsx("li",{children:"Text messages to potential clients"})]})]})]})]})}function ze(){const r=ue(),{user:u}=R(),[n,l]=w.useState(null),[g,m]=w.useState(!0);w.useEffect(()=>{h()},[u]);const h=async()=>{if(u)try{const{data:c,error:o}=await C.from("custom_pages").select("*").eq("user_id",u.id).eq("is_active",!0).single();!o&&c&&l(c)}catch(c){console.error("Error loading active page:",c)}finally{m(!1)}},x=async()=>{if(n)try{const{error:c}=await C.from("custom_pages").update({is_active:!1}).eq("id",n.id);if(c)throw c;se.success("Switched to default profile"),l(null)}catch(c){console.error("Error deactivating page:",c),se.error("Failed to deactivate custom page")}};return e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Profile Display"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose what visitors see when they visit your profile"})]}),g?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):n?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(pe,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:n.title}),e.jsxs(Q,{variant:"default",className:"gap-1",children:[e.jsx(ee,{className:"h-3 w-3"}),"Active"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Custom page: /",n.slug]})]}),e.jsx(N,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:`/p/${n.slug}`,target:"_blank",rel:"noopener noreferrer",className:"gap-2",children:["View",e.jsx(X,{className:"h-3 w-3"})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{variant:"outline",onClick:()=>r("/dashboard/page-builder"),className:"gap-2",children:"Edit Custom Page"}),e.jsx(N,{variant:"outline",onClick:x,children:"Use Default Profile"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(ee,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:"Default Profile"}),e.jsx(Q,{variant:"secondary",children:"Active"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Using the standard profile layout with listings, testimonials, and links"})]}),e.jsxs(N,{onClick:()=>r("/dashboard/page-builder"),className:"gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Create Custom Page"]})]})]})})}function He(){const{user:r,session:u}=R(),{toast:n}=z(),l=K(),{data:g,isLoading:m,error:h,refetch:x}=G({queryKey:["sessions",r?.id],queryFn:async()=>{const{data:t,error:f}=await H.invoke("get-sessions");if(f)throw new Error(f.message);return t},enabled:!!r?.id,staleTime:3e4,refetchInterval:6e4}),c=_({mutationFn:async t=>{const{data:f,error:a}=await H.invoke("revoke-session",{body:{sessionId:t,reason:"user_revoked"}});if(a)throw new Error(a.message);return f},onSuccess:t=>{l.invalidateQueries({queryKey:["sessions"]}),n({title:"Session Revoked",description:t.message||"The session has been revoked successfully."})},onError:t=>{n({title:"Error",description:t.message||"Failed to revoke session.",variant:"destructive"})}}),o=_({mutationFn:async()=>{const t=g?.sessions.find(d=>d.is_current)?.id,{data:f,error:a}=await H.invoke("revoke-session",{body:{revokeAll:!0,currentSessionId:t,reason:"revoke_all_by_user"}});if(a)throw new Error(a.message);return f},onSuccess:t=>{l.invalidateQueries({queryKey:["sessions"]}),n({title:"Sessions Revoked",description:t.message||`${t.revoked_count} session(s) have been revoked.`})},onError:t=>{n({title:"Error",description:t.message||"Failed to revoke sessions.",variant:"destructive"})}}),b=t=>{const f=[];return t.browser&&f.push(t.browser),t.os&&f.push(`on ${t.os}`),t.location_city&&t.location_country?f.push(`from ${t.location_city}, ${t.location_country}`):t.location_country&&f.push(`from ${t.location_country}`),f.join(" ")||"Unknown device"},y=t=>{switch(t){case"mobile":return"mobile";case"tablet":return"tablet";default:return"desktop"}},k=t=>{const f=new Date(t),d=new Date().getTime()-f.getTime(),i=Math.floor(d/6e4),p=Math.floor(d/36e5),j=Math.floor(d/864e5);return i<1?"Just now":i<60?`${i} min ago`:p<24?`${p} hour${p>1?"s":""} ago`:j<7?`${j} day${j>1?"s":""} ago`:f.toLocaleDateString()};return{sessions:g?.sessions||[],totalSessions:g?.total||0,isLoading:m,error:h?.message||g?.error,refetch:x,revokeSession:c.mutate,revokeAllOtherSessions:o.mutate,isRevoking:c.isPending,isRevokingAll:o.isPending,formatSessionInfo:b,getDeviceIcon:y,formatRelativeTime:k}}function Je(){const{sessions:r,totalSessions:u,isLoading:n,error:l,refetch:g,revokeSession:m,revokeAllOtherSessions:h,isRevoking:x,isRevokingAll:c,formatRelativeTime:o}=He(),[b,y]=w.useState(null),[k,t]=w.useState(!1),f=p=>{switch(p){case"mobile":return e.jsx(ge,{className:"h-5 w-5"});case"tablet":return e.jsx(Ke,{className:"h-5 w-5"});default:return e.jsx(Me,{className:"h-5 w-5"})}},a=()=>{b&&(m(b.id),y(null))},d=()=>{h(),t(!1)},i=r.filter(p=>!p.is_current).length;return e.jsxs(e.Fragment,{children:[e.jsxs(D,{children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ce,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx(E,{children:"Active Sessions"}),e.jsx(P,{children:"Manage devices and browsers where you're signed in"})]})]}),e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>g(),disabled:n,children:e.jsx(te,{className:`h-4 w-4 ${n?"animate-spin":""}`})})]})}),e.jsx(A,{children:n&&r.length===0?e.jsxs("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:[e.jsx(te,{className:"h-5 w-5 animate-spin mr-2"}),"Loading sessions..."]}):l?e.jsxs("div",{className:"text-center py-8 text-red-600",children:[e.jsx("p",{children:"Failed to load sessions"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l}),e.jsx(N,{variant:"outline",size:"sm",onClick:()=>g(),className:"mt-4",children:"Try Again"})]}):r.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No active sessions found"}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:r.map(p=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${p.is_current?"border-primary bg-primary/5":"border-border hover:bg-accent/50"} transition-colors`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-full ${p.is_current?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:f(p.device_type)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium text-foreground",children:[p.browser||"Unknown Browser",p.os&&` on ${p.os}`]}),p.is_current&&e.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-0.5 rounded-full",children:"Current"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-0.5",children:[p.ip_address&&e.jsx("span",{children:p.ip_address}),p.location_city&&p.location_country&&e.jsxs("span",{children:[" â€¢ ",p.location_city,", ",p.location_country]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Last active: ",o(p.last_activity_at)]})]})]}),!p.is_current&&e.jsxs(Ae,{children:[e.jsx(Re,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"icon",disabled:x,children:e.jsx(qe,{className:"h-4 w-4"})})}),e.jsx(Te,{align:"end",children:e.jsxs(Fe,{onClick:()=>y(p),className:"text-red-600 focus:text-red-600",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Sign out this device"]})})]})]},p.id))}),i>0&&e.jsx("div",{className:"pt-4 border-t border-border",children:e.jsxs(N,{variant:"outline",onClick:()=>t(!0),disabled:c,className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),c?"Signing out...":`Sign out all other devices (${i})`]})}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-2",children:[u," active session",u!==1?"s":""]})]})})]}),e.jsx(F,{open:!!b,onOpenChange:()=>y(null),children:e.jsxs(q,{children:[e.jsxs(M,{children:[e.jsx(U,{children:"Sign out this device?"}),e.jsxs($,{children:["This will sign out the session on"," ",e.jsxs("strong",{children:[b?.browser||"Unknown browser",b?.os&&` on ${b.os}`]}),". They'll need to sign in again to access their account."]})]}),e.jsxs(O,{children:[e.jsx(B,{children:"Cancel"}),e.jsx(I,{onClick:a,className:"bg-red-600 hover:bg-red-700",children:"Sign Out Device"})]})]})}),e.jsx(F,{open:k,onOpenChange:t,children:e.jsxs(q,{children:[e.jsxs(M,{children:[e.jsx(U,{children:"Sign out all other devices?"}),e.jsxs($,{children:["This will sign out ",i," other session",i!==1?"s":"",". Your current session will remain active. This is useful if you think someone else may have access to your account."]})]}),e.jsxs(O,{children:[e.jsx(B,{children:"Cancel"}),e.jsx(I,{onClick:d,className:"bg-red-600 hover:bg-red-700",children:"Sign Out All Other Devices"})]})]})})]})}const We={login:"Login",logout:"Logout",password_change:"Password Changed",email_change:"Email Changed",profile_update:"Profile Updated",session_revoke:"Session Revoked",revoke_all_sessions:"All Sessions Revoked",mfa_enable:"MFA Enabled",mfa_disable:"MFA Disabled",mfa_verify:"MFA Verified",gdpr_export_request:"Data Export Requested",gdpr_data_export:"Data Exported",account_deletion_request:"Account Deletion Requested",account_deletion_cancelled:"Account Deletion Cancelled",listing_create:"Listing Created",listing_update:"Listing Updated",listing_delete:"Listing Deleted",lead_create:"Lead Captured",lead_update:"Lead Updated",settings_update:"Settings Updated"},ne={low:"text-green-600 bg-green-50",medium:"text-yellow-600 bg-yellow-50",high:"text-orange-600 bg-orange-50",critical:"text-red-600 bg-red-50"};function Xe(r={}){const{user:u}=R(),n=K(),{action:l,resourceType:g,startDate:m,endDate:h,limit:x=50,offset:c=0,enabled:o=!0}=r,{data:b,isLoading:y,error:k,refetch:t}=G({queryKey:["auditLogs",u?.id,l,g,m,h,x,c],queryFn:async()=>{const j=new URLSearchParams;l&&j.set("action",l),g&&j.set("resourceType",g),m&&j.set("startDate",m),h&&j.set("endDate",h),j.set("limit",x.toString()),j.set("offset",c.toString());const{data:s,error:v,count:S}=await C.from("audit_logs").select("*",{count:"exact"}).eq("user_id",u?.id).order("created_at",{ascending:!1}).range(c,c+x-1);if(v)throw new Error(v.message);return{success:!0,logs:s||[],total:S||0,limit:x,offset:c}},enabled:!!u?.id&&o,staleTime:6e4}),f=_({mutationFn:async j=>{const{data:s,error:v}=await C.functions.invoke("audit-log",{body:j});if(v)throw new Error(v.message);return s},onSuccess:()=>{n.invalidateQueries({queryKey:["auditLogs"]})}}),a=j=>We[j]||j.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase()),d=j=>ne[j]||ne.low,i=j=>{const s=[];return j.resource_type&&s.push(`${j.resource_type}${j.resource_id?` #${j.resource_id.slice(0,8)}`:""}`),j.ip_address&&s.push(`from ${j.ip_address}`),s.join(" ")||"No additional details"},p=j=>j.reduce((s,v)=>{const S=new Date(v.created_at).toLocaleDateString();return s[S]||(s[S]=[]),s[S].push(v),s},{});return{logs:b?.logs||[],totalLogs:b?.total||0,isLoading:y,error:k?.message||b?.error,refetch:t,logEvent:f.mutateAsync,isLogging:f.isPending,getActionLabel:a,getRiskLevelColor:d,formatLogDetails:i,groupLogsByDate:p}}function Ze(){const{logs:r,totalLogs:u,isLoading:n,error:l,refetch:g,getActionLabel:m,groupLogsByDate:h}=Xe({limit:20}),[x,c]=w.useState(!1),[o,b]=w.useState(null),y=a=>{switch(a){case"success":return e.jsx(ce,{className:"h-4 w-4 text-green-600"});case"failure":return e.jsx(Z,{className:"h-4 w-4 text-yellow-600"});case"blocked":return e.jsx(ye,{className:"h-4 w-4 text-red-600"});default:return e.jsx(Ie,{className:"h-4 w-4 text-muted-foreground"})}},k=a=>{const d={low:"bg-green-100 text-green-700",medium:"bg-yellow-100 text-yellow-700",high:"bg-orange-100 text-orange-700",critical:"bg-red-100 text-red-700"};return e.jsx(Q,{variant:"outline",className:`text-xs ${d[a]||d.low}`,children:a})},t=x?r:r.slice(0,5),f=h(t);return e.jsxs(D,{children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Be,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx(E,{children:"Security Activity"}),e.jsx(P,{children:"Recent security-related actions on your account"})]})]})}),e.jsxs(A,{children:[n&&r.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading activity..."}):l?e.jsxs("div",{className:"text-center py-8 text-red-600",children:[e.jsx("p",{children:"Failed to load activity"}),e.jsx(N,{variant:"outline",size:"sm",onClick:()=>g(),className:"mt-4",children:"Try Again"})]}):r.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No security activity recorded yet"}):e.jsxs("div",{className:"space-y-4",children:[Object.entries(f).map(([a,d])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:a}),e.jsx("div",{className:"space-y-1",children:d.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>b(o?.id===i.id?null:i),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[y(i.status),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:m(i.action)}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[new Date(i.created_at).toLocaleTimeString(),i.ip_address&&` â€¢ ${i.ip_address}`]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i.risk_level!=="low"&&k(i.risk_level),e.jsx(Q,{variant:i.status==="success"?"default":"destructive",className:"text-xs",children:i.status})]})]},i.id))})]},a)),r.length>5&&e.jsx(N,{variant:"ghost",onClick:()=>c(!x),className:"w-full text-sm",children:x?e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Show More (",u-5," more)"]})})]}),o&&e.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:m(o.action)}),e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>b(null),children:"Close"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx("span",{children:o.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Time:"}),e.jsx("span",{children:new Date(o.created_at).toLocaleString()})]}),o.ip_address&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"IP Address:"}),e.jsx("span",{className:"font-mono text-xs",children:o.ip_address})]}),o.resource_type&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Resource:"}),e.jsxs("span",{children:[o.resource_type," ",o.resource_id?.slice(0,8)]})]}),o.details&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-muted-foreground block mb-1",children:"Details:"}),e.jsx("pre",{className:"text-xs bg-background p-2 rounded overflow-auto max-h-32",children:JSON.stringify(o.details,null,2)})]})]})]})]})]})}function es(){const{user:r,signOut:u}=R(),{toast:n}=z(),l=K(),[g,m]=w.useState(!1),{data:h,isLoading:x,error:c,refetch:o}=G({queryKey:["deletionStatus",r?.id],queryFn:async()=>{const{data:a,error:d}=await edgeFunctions.invoke("gdpr-deletion",{method:"GET"});if(d)throw new Error(d.message);return a},enabled:!!r?.id,staleTime:6e4}),b=_({mutationFn:async()=>{m(!0);try{const{data:a,error:d}=await edgeFunctions.invoke("gdpr-export",{method:"GET"});if(d)throw new Error(d.message);return new Blob([JSON.stringify(a,null,2)],{type:"application/json"})}finally{m(!1)}},onSuccess:a=>{const d=URL.createObjectURL(a),i=document.createElement("a");i.href=d,i.download=`agentbio-data-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(d),n({title:"Data Export Complete",description:"Your data has been downloaded successfully."})},onError:a=>{n({title:"Export Failed",description:a.message||"Failed to export your data. Please try again.",variant:"destructive"})}}),y=_({mutationFn:async a=>{const{data:d,error:i}=await edgeFunctions.invoke("gdpr-deletion",{body:{action:"request",reason:a}});if(i)throw new Error(i.message);return d},onSuccess:a=>{l.invalidateQueries({queryKey:["deletionStatus"]}),n({title:"Account Deletion Scheduled",description:`Your account will be deleted in ${a.daysRemaining} days. You can cancel this request anytime before then.`})},onError:a=>{n({title:"Request Failed",description:a.message||"Failed to schedule account deletion.",variant:"destructive"})}}),k=_({mutationFn:async a=>{const{data:d,error:i}=await edgeFunctions.invoke("gdpr-deletion",{body:{action:"cancel",cancelReason:a}});if(i)throw new Error(i.message);return d},onSuccess:()=>{l.invalidateQueries({queryKey:["deletionStatus"]}),n({title:"Deletion Cancelled",description:"Your account deletion has been cancelled. Your account is safe."})},onError:a=>{n({title:"Cancellation Failed",description:a.message||"Failed to cancel account deletion.",variant:"destructive"})}}),t=a=>a===0?"Today":a===1?"Tomorrow":`In ${a} days`,f=()=>h?.scheduled?`Account deletion scheduled for ${t(h.daysRemaining||0)}`:"No account deletion is scheduled";return{exportData:b.mutate,isExporting:g||b.isPending,deletionStatus:h,isDeletionStatusLoading:x,deletionStatusError:c?.message,refetchDeletionStatus:o,isAccountDeletionScheduled:h?.scheduled||!1,daysUntilDeletion:h?.daysRemaining,deletionScheduledFor:h?.scheduledFor,requestDeletion:y.mutate,cancelDeletion:k.mutate,isRequestingDeletion:y.isPending,isCancellingDeletion:k.isPending,formatDaysRemaining:t,getDeletionStatusMessage:f}}function ss(){const{exportData:r,isExporting:u,isDeletionStatusLoading:n,isAccountDeletionScheduled:l,daysUntilDeletion:g,deletionScheduledFor:m,requestDeletion:h,cancelDeletion:x,isRequestingDeletion:c,isCancellingDeletion:o,formatDaysRemaining:b}=es(),[y,k]=w.useState(!1),[t,f]=w.useState(!1),[a,d]=w.useState(!1),[i,p]=w.useState(""),j=()=>{r(),k(!1)},s=()=>{h(i||void 0),f(!1),p("")},v=()=>{x("User changed their mind"),d(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(D,{children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(J,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx(E,{children:"Export Your Data"}),e.jsx(P,{children:"Download a copy of all your data in JSON format"})]})]})}),e.jsx(A,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your data export will include your profile, listings, leads, testimonials, links, blog posts, analytics, and security activity logs."}),e.jsxs(N,{onClick:()=>k(!0),disabled:u,children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),u?"Preparing Export...":"Export My Data"]})]})})]}),e.jsxs(D,{className:"border-red-200 dark:border-red-900",children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx(E,{className:"text-red-600",children:"Delete Account"}),e.jsx(P,{children:"Permanently delete your account and all associated data"})]})]})}),e.jsx(A,{children:n?e.jsx("div",{className:"text-muted-foreground",children:"Loading status..."}):l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-950/20 rounded-lg border border-red-200 dark:border-red-900",children:[e.jsx(ve,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-600",children:"Account Deletion Scheduled"}),e.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200 mt-1",children:["Your account will be permanently deleted"," ",e.jsx("strong",{children:b(g||0)}),m&&e.jsxs(e.Fragment,{children:[" (",new Date(m).toLocaleDateString(),")"]}),"."]}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200 mt-2",children:"You can cancel this request before the deletion date to keep your account."})]})]}),e.jsxs(N,{variant:"outline",onClick:()=>d(!0),disabled:o,children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),o?"Cancelling...":"Cancel Deletion"]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 dark:bg-yellow-950/20 rounded-lg border border-yellow-200 dark:border-yellow-900",children:[e.jsx(Z,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"This action is irreversible"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"Deleting your account will permanently remove all your data, including your profile, listings, leads, and analytics. This cannot be undone."})]})]}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4 list-disc",children:[e.jsx("li",{children:"30-day grace period before permanent deletion"}),e.jsx("li",{children:"You can cancel the deletion request during this period"}),e.jsx("li",{children:"We recommend exporting your data first"})]}),e.jsxs(N,{variant:"destructive",onClick:()=>f(!0),disabled:c,children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),c?"Processing...":"Request Account Deletion"]})]})})]}),e.jsx(F,{open:y,onOpenChange:k,children:e.jsxs(q,{children:[e.jsxs(M,{children:[e.jsx(U,{children:"Export Your Data"}),e.jsxs($,{children:["This will download a JSON file containing all your data including:",e.jsxs("ul",{className:"mt-2 ml-4 list-disc text-left",children:[e.jsx("li",{children:"Profile information"}),e.jsx("li",{children:"Property listings"}),e.jsx("li",{children:"Leads and contacts"}),e.jsx("li",{children:"Testimonials"}),e.jsx("li",{children:"Links and social profiles"}),e.jsx("li",{children:"Blog posts"}),e.jsx("li",{children:"Analytics data"}),e.jsx("li",{children:"Security activity logs"})]})]})]}),e.jsxs(O,{children:[e.jsx(B,{children:"Cancel"}),e.jsxs(I,{onClick:j,children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Download Data"]})]})]})}),e.jsx(F,{open:t,onOpenChange:f,children:e.jsxs(q,{children:[e.jsxs(M,{children:[e.jsx(U,{className:"text-red-600",children:"Delete Your Account?"}),e.jsx($,{asChild:!0,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{children:"This will schedule your account for permanent deletion. You'll have 30 days to cancel this request if you change your mind."}),e.jsxs("div",{children:[e.jsx(V,{htmlFor:"reason",className:"text-sm font-medium",children:"Why are you leaving? (Optional)"}),e.jsx(de,{id:"reason",placeholder:"Help us improve by sharing your feedback...",value:i,onChange:S=>p(S.target.value),className:"mt-2",rows:3})]}),e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[e.jsx(Z,{className:"h-4 w-4 text-red-600 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:"After 30 days, all your data will be permanently deleted and cannot be recovered."})]})]})})]}),e.jsxs(O,{children:[e.jsx(B,{children:"Cancel"}),e.jsxs(I,{onClick:s,className:"bg-red-600 hover:bg-red-700",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Schedule Deletion"]})]})]})}),e.jsx(F,{open:a,onOpenChange:d,children:e.jsxs(q,{children:[e.jsxs(M,{children:[e.jsx(U,{children:"Cancel Account Deletion?"}),e.jsx($,{children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(re,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsx("p",{children:"Your account deletion will be cancelled and your account will remain active. All your data will be preserved."})]})})]}),e.jsxs(O,{children:[e.jsx(B,{children:"Go Back"}),e.jsxs(I,{onClick:v,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Keep My Account"]})]})]})})]})}function Cs(){const{user:r}=R(),{settings:u,updateSettings:n}=Ge(),{toast:l}=z(),g=K(),[m,h]=w.useState({emailLeads:!0,smsLeads:!1,weeklyReport:!0,marketingEmails:!1}),[x,c]=w.useState({showListings:!0,showSoldProperties:!0,showTestimonials:!0,showSocialProof:!0,showContactButtons:!0}),[o,b]=w.useState({current:"",new:"",confirm:""}),{data:y,isLoading:k}=G({queryKey:["profile",r?.id],queryFn:async()=>{if(!r?.id)return null;const{data:s,error:v}=await C.from("profiles").select("*").eq("id",r.id).single();if(v)throw v;return s},enabled:!!r?.id}),[t,f]=w.useState({username:"",full_name:"",bio:""});w.useEffect(()=>{y&&f({username:y.username||"",full_name:y.full_name||"",bio:y.bio||""})},[y]);const a=_({mutationFn:async s=>{if(!r?.id)throw new Error("Not authenticated");const{error:v}=await C.from("profiles").update({username:s.username,full_name:s.full_name,bio:s.bio,updated_at:new Date().toISOString()}).eq("id",r.id);if(v)throw v},onSuccess:()=>{g.invalidateQueries({queryKey:["profile"]}),l({title:"Profile updated",description:"Your profile has been updated successfully."})},onError:s=>{l({title:"Error",description:s instanceof Error?s.message:"Failed to update profile",variant:"destructive"})}});w.useEffect(()=>{u&&(h({emailLeads:u.email_leads,smsLeads:u.sms_leads,weeklyReport:u.weekly_report,marketingEmails:u.marketing_emails}),c({showListings:u.show_listings,showSoldProperties:u.show_sold_properties,showTestimonials:u.show_testimonials,showSocialProof:u.show_social_proof,showContactButtons:u.show_contact_buttons}))},[u]);const d=async(s,v)=>{h(T=>({...T,[s]:v}));const S=s==="emailLeads"?"email_leads":s==="smsLeads"?"sms_leads":s==="weeklyReport"?"weekly_report":"marketing_emails";try{await n.mutateAsync({[S]:v}),l({title:"Settings updated",description:"Your notification preferences have been saved."})}catch{l({title:"Error",description:"Failed to update settings.",variant:"destructive"})}},i=async(s,v)=>{c(T=>({...T,[s]:v}));const S=s==="showListings"?"show_listings":s==="showSoldProperties"?"show_sold_properties":s==="showTestimonials"?"show_testimonials":s==="showSocialProof"?"show_social_proof":"show_contact_buttons";try{await n.mutateAsync({[S]:v}),l({title:"Profile visibility updated",description:"Your profile display preferences have been saved."})}catch{l({title:"Error",description:"Failed to update visibility settings.",variant:"destructive"})}},p=async s=>{if(s.preventDefault(),o.new!==o.confirm){l({title:"Error",description:"New passwords don't match.",variant:"destructive"});return}if(o.new.length<6){l({title:"Error",description:"Password must be at least 6 characters.",variant:"destructive"});return}try{const{error:v}=await C.auth.updateUser({password:o.new});if(v)throw v;l({title:"Password updated",description:"Your password has been changed successfully."}),b({current:"",new:"",confirm:""})}catch(v){l({title:"Error",description:v.message||"Failed to update password.",variant:"destructive"})}},j=r?.created_at?new Date(r.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Unknown";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Account Settings"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and preferences"})]}),e.jsxs(D,{children:[e.jsxs(L,{children:[e.jsx(E,{children:"Profile & Username"}),e.jsx(P,{children:"Manage your public profile and unique URL"})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-6",children:e.jsxs(we,{className:"w-20 h-20",children:[e.jsx(Ne,{src:y?.avatar_url||void 0}),e.jsx(ke,{className:"text-xl",children:y?.full_name?.[0]||y?.username?.[0]||"U"})]})}),e.jsx(Ve,{value:t.username,onChange:s=>f({...t,username:s}),currentUsername:y?.username}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"full_name",children:"Full Name"}),e.jsx(oe,{id:"full_name",value:t.full_name,onChange:s=>f({...t,full_name:s.target.value}),placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"bio",children:"Bio"}),e.jsx(de,{id:"bio",value:t.bio,onChange:s=>f({...t,bio:s.target.value}),placeholder:"Tell us about yourself",rows:4,maxLength:500}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.bio?.length||0,"/500 characters"]})]}),e.jsxs("button",{onClick:()=>a.mutate(t),disabled:a.isPending,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium disabled:opacity-50",children:[e.jsx(ie,{className:"h-4 w-4"}),a.isPending?"Saving...":"Save Profile Changes"]})]})]}),y?.username&&e.jsx(Qe,{username:y.username}),e.jsx(ze,{}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Se,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Account Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between py-3 border-b border-border",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Email Address"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:r?.email||"Not available"})]})}),e.jsx("div",{className:"flex items-center justify-between py-3 border-b border-border",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"User ID"}),e.jsx("div",{className:"text-sm text-muted-foreground font-mono text-xs",children:r?.id||"Not available"})]})}),e.jsx("div",{className:"flex items-center justify-between py-3",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Member Since"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:j})]})})]})]}),e.jsxs("form",{onSubmit:p,className:"bg-card border border-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ce,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Change Password"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:o.new,onChange:s=>b({...o,new:s.target.value}),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,minLength:6})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:o.confirm,onChange:s=>b({...o,confirm:s.target.value}),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,minLength:6})]}),e.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[e.jsx(ie,{className:"h-4 w-4"}),"Update Password"]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx($e,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Notification Preferences"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Email Notifications for New Leads"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Get notified immediately when someone submits a lead form"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.emailLeads,onChange:s=>d("emailLeads",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"SMS Notifications"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Receive text messages for urgent leads"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.smsLeads,onChange:s=>d("smsLeads",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Weekly Performance Report"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Get a summary of your profile analytics every Monday"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.weeklyReport,onChange:s=>d("weeklyReport",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Marketing Emails"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Tips, updates, and special offers from AgentBio.net"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.marketingEmails,onChange:s=>d("marketingEmails",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(_e,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Profile Visibility"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Control which sections appear on your public profile page"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Show Contact Buttons"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Display email, phone, and text buttons"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.showContactButtons,onChange:s=>i("showContactButtons",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Show Social Proof Banner"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Display stats like properties sold and total volume"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.showSocialProof,onChange:s=>i("showSocialProof",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Show Active Listings"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Display your currently available properties"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.showListings,onChange:s=>i("showListings",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Show Sold Properties"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Display your past sales and success history"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.showSoldProperties,onChange:s=>i("showSoldProperties",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Show Testimonials"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Display client reviews and ratings"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.showTestimonials,onChange:s=>i("showTestimonials",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Oe,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Billing & Subscription"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Current Plan"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Professional - $49/month"})]}),e.jsx("button",{className:"px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors text-sm font-medium",children:"Manage Plan"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Payment Method"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ 4242"})]}),e.jsx("button",{className:"px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors text-sm font-medium",children:"Update"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:"Next Billing Date"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"February 15, 2024"})]}),e.jsx("button",{className:"px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors text-sm font-medium",children:"View Invoices"})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ye,{className:"h-6 w-6 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Security & Privacy"})]}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Manage your security settings, active sessions, and data privacy"})]}),e.jsx(Je,{}),e.jsx(Ze,{}),e.jsx(ss,{})]})}export{Cs as default};
