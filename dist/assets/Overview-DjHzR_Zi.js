import{a9 as P,j as e,C as f,c as y,d as b,ae as H,e as B,f as j,h as v,g as $,H as I,m as M,ab as E,ac as F,S as z,b as G,az as V,a as W,r as _,a2 as S,a3 as O,av as Q,ah as Y,ai as Z,au as J,aj as K,ak as X,i as C}from"./index-BYoWZjze.js";import{u as ee}from"./useAnalytics-DQ4PyVG2.js";import{u as D}from"./useLinks-BiCbz9mH.js";import{u as R}from"./useProfile-C-K3oywL.js";import{u as se}from"./useSubscription-DhCL0A7C.js";import{P as te}from"./progress-MmYL92Z5.js";import{u as ie}from"./useListings-Cib_Ib20.js";import{u as re}from"./useTestimonials-C7gOq9fx.js";import{P as ae}from"./plus-DBr6jWHn.js";import{L as le}from"./link-CP3lassg.js";import{P as oe}from"./palette-51wPJ2Dp.js";import{F as ne}from"./file-text-BBdZAc_r.js";import{L as ce}from"./LoadingSpinner-BmO6sero.js";import{C as me}from"./copy-DqrJunVY.js";import"./useMutation-y82bgPXU.js";const L=P("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const k=P("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);const de=P("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);function pe(){const{data:t}=R(),{data:r}=ie(),{data:u}=re(),{data:h}=D();if(!t)return null;const a=[{id:"avatar",label:"Add profile photo",description:"Upload a professional headshot",completed:!!t.avatar_url,link:"/dashboard/profile",priority:"high"},{id:"bio",label:"Write your bio",description:"Tell visitors about your experience",completed:!!t.bio&&t.bio.length>50,link:"/dashboard/profile",priority:"high"},{id:"contact",label:"Add contact info",description:"Phone and email for leads",completed:!!t.phone||!!t.email_display,link:"/dashboard/profile",priority:"high"},{id:"listings",label:"Add your first listing",description:"Showcase properties you're selling",completed:(r?.length||0)>0,link:"/dashboard/listings",priority:"medium"},{id:"testimonials",label:"Add testimonials",description:"Build trust with client reviews",completed:(u?.length||0)>0,link:"/dashboard/testimonials",priority:"medium"},{id:"links",label:"Add custom links",description:"Link to your website and social",completed:(h?.length||0)>0,link:"/dashboard/links",priority:"low"},{id:"theme",label:"Customize theme",description:"Match your brand colors",completed:!!t.theme,link:"/dashboard/theme",priority:"low"}],d=a.filter(i=>i.completed).length,x=a.length,c=Math.round(d/x*100);if(c===100)return null;const p=a.filter(i=>i.priority==="high"&&!i.completed)[0]||a.find(i=>!i.completed);return e.jsxs(f,{className:"border-blue-200 bg-blue-50/50",children:[e.jsxs(y,{children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs(b,{className:"text-lg flex items-center gap-2",children:[c<50?e.jsx(H,{className:"w-5 h-5 text-orange-500"}):e.jsx(L,{className:"w-5 h-5 text-blue-500"}),"Profile Completion"]}),e.jsxs(B,{children:[c,"% complete - ",d," of ",x," steps done"]})]})}),e.jsx(te,{value:c,className:"mt-4"})]}),e.jsxs(j,{className:"space-y-4",children:[p&&e.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:d+1})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Next: ",p.label]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.description}),e.jsx(v,{to:p.link,className:"inline-block mt-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:"Complete this step â†’"})]})]})}),e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-gray-900 list-none flex items-center gap-2",children:[e.jsx("span",{children:"View all steps"}),e.jsx("span",{className:"group-open:rotate-180 transition-transform",children:"â–¼"})]}),e.jsx("div",{className:"mt-3 space-y-2",children:a.map(i=>e.jsxs(v,{to:i.link,className:"flex items-start gap-3 p-2 rounded-lg hover:bg-white transition-colors group/item",children:[i.completed?e.jsx($,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):e.jsx(L,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`text-sm font-medium ${i.completed?"text-gray-500 line-through":"text-gray-900"}`,children:i.label}),e.jsx("div",{className:"text-xs text-gray-500",children:i.description})]})]},i.id))})]})]})]})}function ue(){const t=[{id:"add-listing",label:"Add Listing",description:"Post a new property",icon:e.jsx(I,{className:"w-5 h-5"}),href:"/dashboard/listings?action=new",color:"bg-blue-500 hover:bg-blue-600"},{id:"add-link",label:"Add Link",description:"Create custom link",icon:e.jsx(le,{className:"w-5 h-5"}),href:"/dashboard/links?action=new",color:"bg-purple-500 hover:bg-purple-600"},{id:"view-profile",label:"View Profile",description:"See your public page",icon:e.jsx(M,{className:"w-5 h-5"}),href:"#",color:"bg-green-500 hover:bg-green-600"},{id:"check-leads",label:"Check Leads",description:"Review inquiries",icon:e.jsx(E,{className:"w-5 h-5"}),href:"/dashboard/leads",color:"bg-orange-500 hover:bg-orange-600"},{id:"view-analytics",label:"Analytics",description:"View performance",icon:e.jsx(F,{className:"w-5 h-5"}),href:"/dashboard/analytics",color:"bg-cyan-500 hover:bg-cyan-600"},{id:"add-testimonial",label:"Add Review",description:"Post testimonial",icon:e.jsx(z,{className:"w-5 h-5"}),href:"/dashboard/testimonials?action=new",color:"bg-yellow-500 hover:bg-yellow-600"},{id:"customize-theme",label:"Customize",description:"Edit theme",icon:e.jsx(oe,{className:"w-5 h-5"}),href:"/dashboard/theme",color:"bg-pink-500 hover:bg-pink-600"},{id:"page-builder",label:"Page Builder",description:"Build custom page",icon:e.jsx(ne,{className:"w-5 h-5"}),href:"/dashboard/page-builder",color:"bg-indigo-500 hover:bg-indigo-600"}];return e.jsxs(f,{children:[e.jsx(y,{className:"pb-3",children:e.jsxs(b,{className:"text-lg flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5 text-primary"}),"Quick Actions"]})}),e.jsx(j,{children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3",children:t.map(r=>e.jsx(v,{to:r.href,className:"group",children:e.jsxs("div",{className:"flex flex-col items-center p-3 sm:p-4 rounded-lg border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all active:scale-95",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg ${r.color} text-white flex items-center justify-center mb-2 transition-colors`,children:r.icon}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 group-hover:text-primary transition-colors",children:r.label}),e.jsx("p",{className:"text-xs text-gray-500 hidden sm:block mt-0.5",children:r.description})]})]})},r.id))})})]})}const he=[{id:"free",name:"Free",description:"Perfect for getting started",price_monthly:0,price_yearly:0,features:{customDomain:!1,removeBranding:!1,prioritySupport:!1,analytics:!0,customThemes:!1,aiListingDescriptions:!1,leadScoring:!1,followUpSequences:!1,marketReports:!1,virtualStaging:!1,predictiveAnalytics:!1,videoTours:!1,openHouseManagement:!1,mortgageCalculator:!0,cmaGenerator:!1},limits:{listings:3,links:5,testimonials:3,soldProperties:3,aiListingDescriptions:0,marketReports:0,virtualStagingPhotos:0,videoTours:0,cmaReports:0,followUpSequences:0,emailsPerMonth:0,smsPerMonth:0,openHousesPerMonth:0,analyticsRetentionDays:30,leadsPerMonth:10}},{id:"starter",name:"Starter",description:"Essential features for solo agents",price_monthly:29,price_yearly:290,features:{customDomain:!1,removeBranding:!1,prioritySupport:!1,analytics:!0,customThemes:!0,aiListingDescriptions:"limited",leadScoring:!0,followUpSequences:"limited",marketReports:!1,virtualStaging:!1,predictiveAnalytics:!0,videoTours:!1,openHouseManagement:!0,mortgageCalculator:!0,cmaGenerator:!1},limits:{listings:10,links:15,testimonials:10,soldProperties:10,aiListingDescriptions:10,marketReports:0,virtualStagingPhotos:0,videoTours:0,cmaReports:0,followUpSequences:3,emailsPerMonth:500,smsPerMonth:0,openHousesPerMonth:5,analyticsRetentionDays:90,leadsPerMonth:100},stripe_price_id_monthly:"price_starter_monthly",stripe_price_id_yearly:"price_starter_yearly"},{id:"professional",name:"Professional",description:"Advanced AI features for power agents",price_monthly:49,price_yearly:490,popular:!0,features:{customDomain:!0,removeBranding:!0,prioritySupport:!1,analytics:!0,customThemes:!0,aiListingDescriptions:!0,leadScoring:!0,followUpSequences:!0,marketReports:"limited",virtualStaging:"limited",predictiveAnalytics:!0,videoTours:"limited",openHouseManagement:!0,mortgageCalculator:!0,cmaGenerator:"limited"},limits:{listings:25,links:-1,testimonials:25,soldProperties:25,aiListingDescriptions:25,marketReports:5,virtualStagingPhotos:20,videoTours:5,cmaReports:10,followUpSequences:10,emailsPerMonth:2e3,smsPerMonth:500,openHousesPerMonth:15,analyticsRetentionDays:365,leadsPerMonth:-1},stripe_price_id_monthly:"price_professional_monthly",stripe_price_id_yearly:"price_professional_yearly"},{id:"team",name:"Team",description:"For small teams and brokerages",price_monthly:99,price_yearly:990,features:{customDomain:!0,removeBranding:!0,prioritySupport:!0,analytics:!0,customThemes:!0,aiListingDescriptions:!0,leadScoring:!0,followUpSequences:!0,marketReports:!0,virtualStaging:!0,predictiveAnalytics:!0,videoTours:!0,openHouseManagement:!0,mortgageCalculator:!0,cmaGenerator:!0},limits:{listings:-1,links:-1,testimonials:-1,soldProperties:-1,aiListingDescriptions:100,marketReports:20,virtualStagingPhotos:100,videoTours:20,cmaReports:50,followUpSequences:-1,emailsPerMonth:1e4,smsPerMonth:2e3,openHousesPerMonth:-1,analyticsRetentionDays:730,leadsPerMonth:-1},stripe_price_id_monthly:"price_team_monthly",stripe_price_id_yearly:"price_team_yearly"},{id:"enterprise",name:"Enterprise",description:"Custom solutions for large brokerages",price_monthly:299,price_yearly:2990,features:{customDomain:!0,removeBranding:!0,prioritySupport:!0,analytics:!0,customThemes:!0,aiListingDescriptions:!0,leadScoring:!0,followUpSequences:!0,marketReports:!0,virtualStaging:!0,predictiveAnalytics:!0,videoTours:!0,openHouseManagement:!0,mortgageCalculator:!0,cmaGenerator:!0},limits:{listings:-1,links:-1,testimonials:-1,soldProperties:-1,aiListingDescriptions:-1,marketReports:-1,virtualStagingPhotos:-1,videoTours:-1,cmaReports:-1,followUpSequences:-1,emailsPerMonth:-1,smsPerMonth:-1,openHousesPerMonth:-1,analyticsRetentionDays:-1,leadsPerMonth:-1},stripe_price_id_monthly:"price_enterprise_monthly",stripe_price_id_yearly:"price_enterprise_yearly"}];function xe(t){return he.find(r=>r.id===t)}function De(){const{stats:t,recentLeads:r,isLoading:u}=ee(),{links:h}=D(),{profile:a}=R(),{subscription:d}=se(),{toast:x}=G(),[c]=V(),N=W(),[p,i]=_.useState(!1),A=h.reduce((s,m)=>s+(m.click_count||0),0),w=a?.created_at?new Date().getTime()-new Date(a.created_at).getTime()<2880*60*1e3:!1,T=w?"Welcome to AgentBio!":"Welcome Back!",U=w?"Let's get your profile set up and start attracting clients":"Here's what's happening with your profile";_.useEffect(()=>{c.get("subscription")==="success"&&(i(!0),N("/dashboard",{replace:!0}))},[c,N]);const q=s=>{const m=s?.toLowerCase()||"free",o=xe(m);if(!o)return[];const l=[],n=o.limits;return l.push(n.listings===-1?"Unlimited listings":`${n.listings} active listings`),l.push(n.links===-1?"Unlimited custom links":`${n.links} custom links`),l.push(n.testimonials===-1?"Unlimited testimonials":`${n.testimonials} testimonials`),l.push(n.analyticsRetentionDays===-1?"Unlimited analytics history":`${n.analyticsRetentionDays}-day analytics`),o.features.customDomain&&l.push("Custom domain support"),o.features.customThemes&&l.push("Premium themes"),o.features.prioritySupport&&l.push("Priority support"),o.features.leadScoring&&l.push("Lead scoring"),o.features.aiListingDescriptions&&l.push("AI listing descriptions"),o.features.followUpSequences&&l.push("Follow-up sequences"),o.features.predictiveAnalytics&&l.push("Predictive analytics"),l.slice(0,7)};return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ce,{size:"lg"})}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:[T,a?.full_name&&!w&&e.jsxs("span",{className:"text-gray-600",children:[", ",a.full_name.split(" ")[0]]})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:U})]}),e.jsx(pe,{}),e.jsx(ue,{}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:[e.jsx(g,{icon:e.jsx(M,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"}),label:"Profile Views",value:t.totalViews.toLocaleString()}),e.jsx(g,{icon:e.jsx(S,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"}),label:"New Leads",value:t.totalLeads.toString()}),e.jsx(g,{icon:e.jsx(k,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"}),label:"Link Clicks",value:A.toLocaleString()}),e.jsx(g,{icon:e.jsx(O,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600"}),label:"Conversion Rate",value:`${t.conversionRate}%`})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs(f,{children:[e.jsx(y,{className:"pb-3 sm:pb-4",children:e.jsx(b,{className:"text-base sm:text-lg",children:"Recent Leads"})}),e.jsx(j,{children:r.length>0?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:r.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between py-2 sm:py-2.5 border-b border-border last:border-0 gap-2 min-h-[44px]",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:s.name}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:s.email})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full flex-shrink-0 font-medium ${s.status==="new"?"bg-blue-100 text-blue-700":s.status==="contacted"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:s.status})]},s.id))}):e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 mb-3",children:e.jsx(S,{className:"h-6 w-6 text-blue-600"})}),e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Start Capturing Leads"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3 max-w-xs mx-auto",children:"Share your profile link to start receiving inquiries from potential clients"}),a?.username&&e.jsxs("div",{className:"flex items-center justify-center gap-2 p-2 bg-muted rounded-lg max-w-xs mx-auto",children:[e.jsxs("code",{className:"text-xs truncate",children:["agentbio.net/",a.username]}),e.jsx("button",{onClick:async()=>{await navigator.clipboard.writeText(`${window.location.origin}/${a.username}`),x({title:"Copied!",description:"Profile link copied to clipboard"})},className:"p-1 hover:bg-background rounded transition-colors",children:e.jsx(me,{className:"h-3 w-3"})})]})]})})]}),e.jsxs(f,{children:[e.jsx(y,{className:"pb-3 sm:pb-4",children:e.jsx(b,{className:"text-base sm:text-lg",children:"Top Links"})}),e.jsx(j,{children:h.length>0?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:h.sort((s,m)=>(m.click_count||0)-(s.click_count||0)).slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between py-2 sm:py-2.5 border-b border-border last:border-0 gap-2 min-h-[44px]",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:s.title}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:s.url})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm sm:text-base text-muted-foreground flex-shrink-0",children:[e.jsx(k,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"font-medium",children:s.click_count||0})]})]},s.id))}):e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-purple-100 mb-3",children:e.jsx(k,{className:"h-6 w-6 text-purple-600"})}),e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Add Your First Link"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3 max-w-xs mx-auto",children:"Add links to your website, social media, and other profiles"}),e.jsxs(v,{to:"/dashboard/links",className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 font-medium",children:["Manage Links ",e.jsx(Q,{className:"h-3 w-3"})]})]})})]})]}),e.jsx(Y,{open:p,onOpenChange:i,children:e.jsxs(Z,{className:"sm:max-w-md",children:[e.jsxs(J,{children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mx-auto mb-4",children:e.jsx(de,{className:"w-8 h-8 text-green-600"})}),e.jsxs(K,{className:"text-center text-2xl",children:["ðŸŽ‰ Welcome to ",d?.plan_name,"!"]}),e.jsx(X,{className:"text-center pt-2",children:"Your subscription is now active. Here's what you just unlocked:"})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 my-4",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-green-600"}),"New Features Available:"]}),e.jsx("ul",{className:"space-y-2",children:q(d?.plan_name).map((s,m)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(C,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:s})]},m))})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"A confirmation email with your receipt has been sent to your email address."}),e.jsx("button",{onClick:()=>i(!1),className:"w-full px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:"Get Started"})]})]})})]})}function g({icon:t,label:r,value:u}){return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4 md:p-6 hover:shadow-md transition-shadow active:scale-[0.98] cursor-pointer",children:[e.jsx("div",{className:"flex items-center mb-2 sm:mb-3 md:mb-4",children:e.jsx("div",{className:"p-1.5 sm:p-2 bg-gray-50 rounded-lg",children:t})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:r}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 break-all",children:u})]})]})}export{De as default};
