import{g as e,r as s,j as t,L as a}from"./react-vendor-CGQ4_CNL.js";import{s as r}from"./supabase--amO4t6_.js";import{P as l}from"./ui-components-CDAR_vWs.js";import{H as o,b as n,a3 as i,a4 as d,E as c,L as m}from"./icons-BX9Iz4zT.js";import"./charts-D_q0pR-d.js";import"./utils-wmY8hpgz.js";function u(){const u=e(),[x,b]=s.useState(""),[h,p]=s.useState(""),[g,j]=s.useState(!1),[w,f]=s.useState(!1),[y,N]=s.useState(!1),[v,P]=s.useState(""),[S,k]=s.useState(!1);return S?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[t.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200",children:t.jsx("div",{className:"container mx-auto px-4 py-3",children:t.jsxs(a,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-gray-900 hover:text-blue-600 transition-colors",children:[t.jsx(o,{className:"h-6 w-6 text-blue-600"}),"AgentBio.net"]})})}),t.jsx("div",{className:"flex items-center justify-center px-4 py-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(n,{className:"h-8 w-8 text-green-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset Successful!"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Your password has been updated successfully."}),t.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting you to login..."})]})})]}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[t.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200",children:t.jsx("div",{className:"container mx-auto px-4 py-3",children:t.jsxs(a,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-gray-900 hover:text-blue-600 transition-colors",children:[t.jsx(o,{className:"h-6 w-6 text-blue-600"}),"AgentBio.net"]})})}),t.jsx("div",{className:"flex items-center justify-center px-4 py-12",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create New Password"}),t.jsx("p",{className:"text-gray-600",children:"Please enter your new password below"})]}),t.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8",children:t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),P(""),x!==h)return void P("Passwords don't match");if(x.length<12)return void P("Password must be at least 12 characters");if(!/[a-z]/.test(x))return void P("Password must contain at least one lowercase letter");if(!/[A-Z]/.test(x))return void P("Password must contain at least one uppercase letter");if(!/\d/.test(x))return void P("Password must contain at least one number");if(!/[^a-zA-Z\d]/.test(x))return void P("Password must contain at least one special character");N(!0);const{error:s}=await r.auth.updateUser({password:x});s?(P(s.message),N(!1)):(k(!0),setTimeout(()=>{u("/auth/login")},2e3))},className:"space-y-6",children:[v&&t.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:v})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("input",{type:g?"text":"password",value:x,onChange:e=>b(e.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••"}),t.jsx("button",{type:"button",onClick:()=>j(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":g?"Hide password":"Show password",children:g?t.jsx(d,{className:"h-5 w-5"}):t.jsx(c,{className:"h-5 w-5"})})]}),t.jsx(l,{password:x})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("input",{type:w?"text":"password",value:h,onChange:e=>p(e.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••"}),t.jsx("button",{type:"button",onClick:()=>f(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":w?"Hide password":"Show password",children:w?t.jsx(d,{className:"h-5 w-5"}):t.jsx(c,{className:"h-5 w-5"})})]})]}),t.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?t.jsxs(t.Fragment,{children:[t.jsx(m,{className:"h-5 w-5 animate-spin"}),"Updating Password..."]}):"Reset Password"})]})})]})})]})}export{u as default};
