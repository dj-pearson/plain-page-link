const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/supabase-BYwji6mk.js","assets/charts-D_q0pR-d.js","assets/utils-wmY8hpgz.js","assets/react-vendor-CGQ4_CNL.js"])))=>i.map(i=>d[i]);
import{n as e,q as t,_ as s}from"./libs-DEoVJxQ-.js";import{f as r,r as a,j as i}from"./react-vendor-CGQ4_CNL.js";import{B as o}from"./BlockRenderer-Cafm8yGc.js";import{w as n}from"./ui-components-Dd2IjC0U.js";import{L as c}from"./icons-BX9Iz4zT.js";import"./utils-wmY8hpgz.js";import"./supabase-BYwji6mk.js";import"./charts-D_q0pR-d.js";import"./forms-BzNDvv3d.js";function l(){const{slug:l}=r(),[m,d]=a.useState(null),[p,u]=a.useState(!0),[x,h]=a.useState(null);if(a.useEffect(()=>{(async()=>{if(!l)return h("No page slug provided"),void u(!1);try{const{supabase:e}=await s(async()=>{const{supabase:e}=await import("./supabase-BYwji6mk.js").then(e=>e.c);return{supabase:e}},__vite__mapDeps([0,1,2,3])),{data:t,error:r}=await e.from("custom_pages").select("*").eq("slug",l).eq("published",!0).single();if(r)throw r;if(!t)return h("Page not found or not published"),void u(!1);const a={id:t.id,userId:t.user_id,slug:t.slug,title:t.title,description:t.description||"",blocks:t.blocks,theme:t.theme,seo:t.seo,published:t.published,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at)};d(a)}catch(e){h("Page not found or not published")}finally{u(!1)}})()},[l]),a.useEffect(()=>{m?.theme&&e(m.theme)},[m?.theme]),p)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx(c,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),i.jsx("p",{className:"text-gray-600",children:"Loading page..."})]})});if(x||!m)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"404"}),i.jsx("p",{className:"text-gray-600 mb-4",children:x||"Page not found"}),i.jsx("a",{href:"/",className:"text-primary hover:underline",children:"Go to homepage"})]})});const j=t(m.theme);return i.jsxs(i.Fragment,{children:[i.jsxs(n,{children:[i.jsx("title",{children:m.seo.title||m.title}),i.jsx("meta",{name:"description",content:m.seo.description||m.description}),i.jsx("meta",{name:"keywords",content:m.seo.keywords.join(", ")}),i.jsx("meta",{property:"og:title",content:m.seo.title||m.title}),i.jsx("meta",{property:"og:description",content:m.seo.description||m.description}),i.jsx("meta",{property:"og:type",content:"website"}),m.seo.ogImage&&i.jsx("meta",{property:"og:image",content:m.seo.ogImage}),i.jsx("meta",{name:"twitter:card",content:m.seo.twitterCard}),i.jsx("meta",{name:"twitter:title",content:m.seo.title||m.title}),i.jsx("meta",{name:"twitter:description",content:m.seo.description||m.description}),m.seo.ogImage&&i.jsx("meta",{name:"twitter:image",content:m.seo.ogImage}),m.seo.structuredData&&i.jsx("script",{type:"application/ld+json",children:JSON.stringify(m.seo.structuredData)})]}),i.jsx("div",{style:j,className:"min-h-screen","data-theme":m.theme.preset||"default",children:i.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",style:{backgroundColor:m.theme.colors.background,color:m.theme.colors.text,fontFamily:`'${m.theme.fonts.body}', sans-serif`},children:[i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"compact"===m.theme.spacing?"1rem":"spacious"===m.theme.spacing?"3rem":"2rem"},children:m.blocks.filter(e=>e.visible).sort((e,t)=>e.order-t.order).map(e=>i.jsx(o,{block:e,isEditing:!1,userId:m.userId},e.id))}),i.jsx("div",{className:"mt-16 pt-8 border-t text-center text-sm text-gray-500",children:i.jsxs("p",{children:["Powered by"," ",i.jsx("a",{href:"https://agentbio.net",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"AgentBio"})]})})]})})]})}export{l as default};
