const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CcQPhg_t.js","assets/ui-vendor-DfpuNOa7.js","assets/react-vendor-ctj0ExSI.js","assets/supabase-GsKtvycU.js","assets/three-vendor-BsISVfAm.js","assets/state-vendor-BElgh7Si.js","assets/charts-vendor-DGVahL1I.js","assets/date-vendor-Xm6TBh54.js","assets/form-vendor-Ce9oe0_k.js","assets/animation-vendor-OAo91Cux.js","assets/index-BwY-Wcib.css"])))=>i.map(i=>d[i]);
import{_ as f}from"./three-vendor-BsISVfAm.js";import{j as t}from"./ui-vendor-DfpuNOa7.js";import{i as j,b as a}from"./react-vendor-ctj0ExSI.js";import{p as y,g as b,B as w}from"./themeUtils-HJaEfuQ5.js";import{h as N,t as v}from"./index-CcQPhg_t.js";import"./supabase-GsKtvycU.js";import"./square-Dvf0YVVr.js";import"./checkbox-BcxoekEd.js";import"./twitter-DxKept5y.js";import"./play-BMsh5K5b.js";import"./image-DuPpH1sK.js";import"./state-vendor-BElgh7Si.js";import"./charts-vendor-DGVahL1I.js";import"./date-vendor-Xm6TBh54.js";import"./form-vendor-Ce9oe0_k.js";import"./animation-vendor-OAo91Cux.js";function G(){const{slug:i}=j(),[e,d]=a.useState(null),[p,n]=a.useState(!0),[l,c]=a.useState(null);if(a.useEffect(()=>{(async()=>{if(!i){c("No page slug provided"),n(!1);return}try{const{supabase:o}=await f(async()=>{const{supabase:x}=await import("./index-CcQPhg_t.js").then(g=>g.aP);return{supabase:x}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])),{data:s,error:m}=await o.from("custom_pages").select("*").eq("slug",i).eq("published",!0).single();if(m)throw m;if(!s){c("Page not found or not published"),n(!1);return}const h={id:s.id,userId:s.user_id,slug:s.slug,title:s.title,description:s.description||"",blocks:s.blocks,theme:s.theme,seo:s.seo,published:s.published,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)};d(h)}catch(o){console.error("Failed to fetch page:",o),c("Page not found or not published")}finally{n(!1)}})()},[i]),a.useEffect(()=>{e?.theme&&y(e.theme)},[e?.theme]),p)return t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx(N,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),t.jsx("p",{className:"text-gray-600",children:"Loading page..."})]})});if(l||!e)return t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"404"}),t.jsx("p",{className:"text-gray-600 mb-4",children:l||"Page not found"}),t.jsx("a",{href:"/",className:"text-primary hover:underline",children:"Go to homepage"})]})});const u=b(e.theme);return t.jsxs(t.Fragment,{children:[t.jsxs(v,{children:[t.jsx("title",{children:e.seo.title||e.title}),t.jsx("meta",{name:"description",content:e.seo.description||e.description}),t.jsx("meta",{name:"keywords",content:e.seo.keywords.join(", ")}),t.jsx("meta",{property:"og:title",content:e.seo.title||e.title}),t.jsx("meta",{property:"og:description",content:e.seo.description||e.description}),t.jsx("meta",{property:"og:type",content:"website"}),e.seo.ogImage&&t.jsx("meta",{property:"og:image",content:e.seo.ogImage}),t.jsx("meta",{name:"twitter:card",content:e.seo.twitterCard}),t.jsx("meta",{name:"twitter:title",content:e.seo.title||e.title}),t.jsx("meta",{name:"twitter:description",content:e.seo.description||e.description}),e.seo.ogImage&&t.jsx("meta",{name:"twitter:image",content:e.seo.ogImage}),e.seo.structuredData&&t.jsx("script",{type:"application/ld+json",children:JSON.stringify(e.seo.structuredData)})]}),t.jsx("div",{style:u,className:"min-h-screen","data-theme":e.theme.preset||"default",children:t.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",style:{backgroundColor:e.theme.colors.background,color:e.theme.colors.text,fontFamily:`'${e.theme.fonts.body}', sans-serif`},children:[t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:e.theme.spacing==="compact"?"1rem":e.theme.spacing==="spacious"?"3rem":"2rem"},children:e.blocks.filter(r=>r.visible).sort((r,o)=>r.order-o.order).map(r=>t.jsx(w,{block:r,isEditing:!1,userId:e.userId},r.id))}),t.jsx("div",{className:"mt-16 pt-8 border-t text-center text-sm text-gray-500",children:t.jsxs("p",{children:["Powered by"," ",t.jsx("a",{href:"https://agentbio.net",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"AgentBio"})]})})]})})]})}export{G as default};
