var pme=Object.defineProperty;var K$=t=>{throw TypeError(t)};var mme=(t,e,n)=>e in t?pme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ys=(t,e,n)=>mme(t,typeof e!="symbol"?e+"":e,n),PO=(t,e,n)=>e.has(t)||K$("Cannot "+n);var fe=(t,e,n)=>(PO(t,e,"read from private field"),n?n.call(t):e.get(t)),Qt=(t,e,n)=>e.has(t)?K$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),At=(t,e,n,r)=>(PO(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Kn=(t,e,n)=>(PO(t,e,"access private method"),n);var hT=(t,e,n,r)=>({set _(i){At(t,e,i,n)},get _(){return fe(t,e,r)}});function OK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function RK(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var IK={exports:{}},E2={},LK={exports:{}},rr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE=Symbol.for("react.element"),gme=Symbol.for("react.portal"),yme=Symbol.for("react.fragment"),vme=Symbol.for("react.strict_mode"),xme=Symbol.for("react.profiler"),bme=Symbol.for("react.provider"),wme=Symbol.for("react.context"),_me=Symbol.for("react.forward_ref"),Sme=Symbol.for("react.suspense"),Eme=Symbol.for("react.memo"),Ame=Symbol.for("react.lazy"),Y$=Symbol.iterator;function Tme(t){return t===null||typeof t!="object"?null:(t=Y$&&t[Y$]||t["@@iterator"],typeof t=="function"?t:null)}var DK={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FK=Object.assign,UK={};function sb(t,e,n){this.props=t,this.context=e,this.refs=UK,this.updater=n||DK}sb.prototype.isReactComponent={};sb.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sb.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BK(){}BK.prototype=sb.prototype;function kF(t,e,n){this.props=t,this.context=e,this.refs=UK,this.updater=n||DK}var OF=kF.prototype=new BK;OF.constructor=kF;FK(OF,sb.prototype);OF.isPureReactComponent=!0;var Z$=Array.isArray,zK=Object.prototype.hasOwnProperty,RF={current:null},$K={key:!0,ref:!0,__self:!0,__source:!0};function VK(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)zK.call(e,r)&&!$K.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:mE,type:t,key:s,ref:a,props:i,_owner:RF.current}}function Mme(t,e){return{$$typeof:mE,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function IF(t){return typeof t=="object"&&t!==null&&t.$$typeof===mE}function Cme(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Q$=/\/+/g;function jO(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Cme(""+t.key):e.toString(36)}function cC(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case mE:case gme:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+jO(a,0):r,Z$(i)?(n="",t!=null&&(n=t.replace(Q$,"$&/")+"/"),cC(i,e,n,"",function(u){return u})):i!=null&&(IF(i)&&(i=Mme(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Q$,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Z$(t))for(var o=0;o<t.length;o++){s=t[o];var c=r+jO(s,o);a+=cC(s,e,n,c,i)}else if(c=Tme(t),typeof c=="function")for(t=c.call(t),o=0;!(s=t.next()).done;)s=s.value,c=r+jO(s,o++),a+=cC(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function pT(t,e,n){if(t==null)return t;var r=[],i=0;return cC(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Nme(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ja={current:null},uC={transition:null},Pme={ReactCurrentDispatcher:Ja,ReactCurrentBatchConfig:uC,ReactCurrentOwner:RF};function HK(){throw Error("act(...) is not supported in production builds of React.")}rr.Children={map:pT,forEach:function(t,e,n){pT(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pT(t,function(){e++}),e},toArray:function(t){return pT(t,function(e){return e})||[]},only:function(t){if(!IF(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rr.Component=sb;rr.Fragment=yme;rr.Profiler=xme;rr.PureComponent=kF;rr.StrictMode=vme;rr.Suspense=Sme;rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pme;rr.act=HK;rr.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=FK({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=RF.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)zK.call(e,c)&&!$K.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:mE,type:t.type,key:i,ref:s,props:r,_owner:a}};rr.createContext=function(t){return t={$$typeof:wme,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bme,_context:t},t.Consumer=t};rr.createElement=VK;rr.createFactory=function(t){var e=VK.bind(null,t);return e.type=t,e};rr.createRef=function(){return{current:null}};rr.forwardRef=function(t){return{$$typeof:_me,render:t}};rr.isValidElement=IF;rr.lazy=function(t){return{$$typeof:Ame,_payload:{_status:-1,_result:t},_init:Nme}};rr.memo=function(t,e){return{$$typeof:Eme,type:t,compare:e===void 0?null:e}};rr.startTransition=function(t){var e=uC.transition;uC.transition={};try{t()}finally{uC.transition=e}};rr.unstable_act=HK;rr.useCallback=function(t,e){return Ja.current.useCallback(t,e)};rr.useContext=function(t){return Ja.current.useContext(t)};rr.useDebugValue=function(){};rr.useDeferredValue=function(t){return Ja.current.useDeferredValue(t)};rr.useEffect=function(t,e){return Ja.current.useEffect(t,e)};rr.useId=function(){return Ja.current.useId()};rr.useImperativeHandle=function(t,e,n){return Ja.current.useImperativeHandle(t,e,n)};rr.useInsertionEffect=function(t,e){return Ja.current.useInsertionEffect(t,e)};rr.useLayoutEffect=function(t,e){return Ja.current.useLayoutEffect(t,e)};rr.useMemo=function(t,e){return Ja.current.useMemo(t,e)};rr.useReducer=function(t,e,n){return Ja.current.useReducer(t,e,n)};rr.useRef=function(t){return Ja.current.useRef(t)};rr.useState=function(t){return Ja.current.useState(t)};rr.useSyncExternalStore=function(t,e,n){return Ja.current.useSyncExternalStore(t,e,n)};rr.useTransition=function(){return Ja.current.useTransition()};rr.version="18.3.1";LK.exports=rr;var j=LK.exports;const ne=cr(j),LF=OK({__proto__:null,default:ne},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jme=j,kme=Symbol.for("react.element"),Ome=Symbol.for("react.fragment"),Rme=Object.prototype.hasOwnProperty,Ime=jme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lme={key:!0,ref:!0,__self:!0,__source:!0};function WK(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Rme.call(e,r)&&!Lme.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kme,type:t,key:s,ref:a,props:i,_owner:Ime.current}}E2.Fragment=Ome;E2.jsx=WK;E2.jsxs=WK;IK.exports=E2;var l=IK.exports,TL={},GK={exports:{}},gl={},qK={exports:{}},XK={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,X){var z=V.length;V.push(X);e:for(;0<z;){var oe=z-1>>>1,de=V[oe];if(0<i(de,X))V[oe]=X,V[z]=de,z=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var X=V[0],z=V.pop();if(z!==X){V[0]=z;e:for(var oe=0,de=V.length,Y=de>>>1;oe<Y;){var he=2*(oe+1)-1,Ce=V[he],Ie=he+1,Ee=V[Ie];if(0>i(Ce,z))Ie<de&&0>i(Ee,Ce)?(V[oe]=Ee,V[Ie]=z,oe=Ie):(V[oe]=Ce,V[he]=z,oe=he);else if(Ie<de&&0>i(Ee,z))V[oe]=Ee,V[Ie]=z,oe=Ie;else break e}}return X}function i(V,X){var z=V.sortIndex-X.sortIndex;return z!==0?z:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=V)r(u),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(u)}}function A(V){if(v=!1,S(V),!g)if(n(c)!==null)g=!0,q(C);else{var X=n(u);X!==null&&ie(A,X.startTime-V)}}function C(V,X){g=!1,v&&(v=!1,x(O),O=-1),p=!0;var z=h;try{for(S(X),f=n(c);f!==null&&(!(f.expirationTime>X)||V&&!I());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var de=oe(f.expirationTime<=X);X=t.unstable_now(),typeof de=="function"?f.callback=de:f===n(c)&&r(c),S(X)}else r(c);f=n(c)}if(f!==null)var Y=!0;else{var he=n(u);he!==null&&ie(A,he.startTime-X),Y=!1}return Y}finally{f=null,h=z,p=!1}}var T=!1,N=null,O=-1,U=5,R=-1;function I(){return!(t.unstable_now()-R<U)}function B(){if(N!==null){var V=t.unstable_now();R=V;var X=!0;try{X=N(!0,V)}finally{X?G():(T=!1,N=null)}}else T=!1}var G;if(typeof _=="function")G=function(){_(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Q=K.port2;K.port1.onmessage=B,G=function(){Q.postMessage(null)}}else G=function(){w(B,0)};function q(V){N=V,T||(T=!0,G())}function ie(V,X){O=w(function(){V(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,q(C))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var z=h;h=X;try{return V()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var z=h;h=V;try{return X()}finally{h=z}},t.unstable_scheduleCallback=function(V,X,z){var oe=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?oe+z:oe):z=oe,V){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=z+de,V={id:d++,callback:X,priorityLevel:V,startTime:z,expirationTime:de,sortIndex:-1},z>oe?(V.sortIndex=z,e(u,V),n(c)===null&&V===n(u)&&(v?(x(O),O=-1):v=!0,ie(A,z-oe))):(V.sortIndex=de,e(c,V),g||p||(g=!0,q(C))),V},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(V){var X=h;return function(){var z=h;h=X;try{return V.apply(this,arguments)}finally{h=z}}}})(XK);qK.exports=XK;var Dme=qK.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fme=j,hl=Dme;function lt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KK=new Set,A1={};function gy(t,e){d0(t,e),d0(t+"Capture",e)}function d0(t,e){for(A1[t]=e,t=0;t<e.length;t++)KK.add(e[t])}var sf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ML=Object.prototype.hasOwnProperty,Ume=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J$={},e6={};function Bme(t){return ML.call(e6,t)?!0:ML.call(J$,t)?!1:Ume.test(t)?e6[t]=!0:(J$[t]=!0,!1)}function zme(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $me(t,e,n,r){if(e===null||typeof e>"u"||zme(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function eo(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var oa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oa[t]=new eo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];oa[e]=new eo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){oa[t]=new eo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oa[t]=new eo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oa[t]=new eo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){oa[t]=new eo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){oa[t]=new eo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){oa[t]=new eo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){oa[t]=new eo(t,5,!1,t.toLowerCase(),null,!1,!1)});var DF=/[\-:]([a-z])/g;function FF(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(DF,FF);oa[e]=new eo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(DF,FF);oa[e]=new eo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(DF,FF);oa[e]=new eo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){oa[t]=new eo(t,1,!1,t.toLowerCase(),null,!1,!1)});oa.xlinkHref=new eo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){oa[t]=new eo(t,1,!1,t.toLowerCase(),null,!0,!0)});function UF(t,e,n,r){var i=oa.hasOwnProperty(e)?oa[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($me(e,n,i,r)&&(n=null),r||i===null?Bme(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wf=Fme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mT=Symbol.for("react.element"),fx=Symbol.for("react.portal"),hx=Symbol.for("react.fragment"),BF=Symbol.for("react.strict_mode"),CL=Symbol.for("react.profiler"),YK=Symbol.for("react.provider"),ZK=Symbol.for("react.context"),zF=Symbol.for("react.forward_ref"),NL=Symbol.for("react.suspense"),PL=Symbol.for("react.suspense_list"),$F=Symbol.for("react.memo"),Th=Symbol.for("react.lazy"),QK=Symbol.for("react.offscreen"),t6=Symbol.iterator;function Bw(t){return t===null||typeof t!="object"?null:(t=t6&&t[t6]||t["@@iterator"],typeof t=="function"?t:null)}var Mi=Object.assign,kO;function O_(t){if(kO===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kO=e&&e[1]||""}return`
`+kO+t}var OO=!1;function RO(t,e){if(!t||OO)return"";OO=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{OO=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?O_(t):""}function Vme(t){switch(t.tag){case 5:return O_(t.type);case 16:return O_("Lazy");case 13:return O_("Suspense");case 19:return O_("SuspenseList");case 0:case 2:case 15:return t=RO(t.type,!1),t;case 11:return t=RO(t.type.render,!1),t;case 1:return t=RO(t.type,!0),t;default:return""}}function jL(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hx:return"Fragment";case fx:return"Portal";case CL:return"Profiler";case BF:return"StrictMode";case NL:return"Suspense";case PL:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZK:return(t.displayName||"Context")+".Consumer";case YK:return(t._context.displayName||"Context")+".Provider";case zF:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $F:return e=t.displayName||null,e!==null?e:jL(t.type)||"Memo";case Th:e=t._payload,t=t._init;try{return jL(t(e))}catch{}}return null}function Hme(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jL(e);case 8:return e===BF?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dp(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JK(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wme(t){var e=JK(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gT(t){t._valueTracker||(t._valueTracker=Wme(t))}function eY(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JK(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function FC(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kL(t,e){var n=e.checked;return Mi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function n6(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dp(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tY(t,e){e=e.checked,e!=null&&UF(t,"checked",e,!1)}function OL(t,e){tY(t,e);var n=dp(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?RL(t,e.type,n):e.hasOwnProperty("defaultValue")&&RL(t,e.type,dp(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function r6(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function RL(t,e,n){(e!=="number"||FC(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var R_=Array.isArray;function Ox(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dp(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function IL(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(lt(91));return Mi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function i6(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(lt(92));if(R_(n)){if(1<n.length)throw Error(lt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dp(n)}}function nY(t,e){var n=dp(e.value),r=dp(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rY(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LL(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rY(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yT,iY=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yT=yT||document.createElement("div"),yT.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yT.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function T1(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var H_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gme=["Webkit","ms","Moz","O"];Object.keys(H_).forEach(function(t){Gme.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),H_[e]=H_[t]})});function sY(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||H_.hasOwnProperty(t)&&H_[t]?(""+e).trim():e+"px"}function aY(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sY(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qme=Mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DL(t,e){if(e){if(qme[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(lt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(lt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(lt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(lt(62))}}function FL(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UL=null;function VF(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var BL=null,Rx=null,Ix=null;function a6(t){if(t=vE(t)){if(typeof BL!="function")throw Error(lt(280));var e=t.stateNode;e&&(e=N2(e),BL(t.stateNode,t.type,e))}}function oY(t){Rx?Ix?Ix.push(t):Ix=[t]:Rx=t}function lY(){if(Rx){var t=Rx,e=Ix;if(Ix=Rx=null,a6(t),e)for(t=0;t<e.length;t++)a6(e[t])}}function cY(t,e){return t(e)}function uY(){}var IO=!1;function dY(t,e,n){if(IO)return t(e,n);IO=!0;try{return cY(t,e,n)}finally{IO=!1,(Rx!==null||Ix!==null)&&(uY(),lY())}}function M1(t,e){var n=t.stateNode;if(n===null)return null;var r=N2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(lt(231,e,typeof n));return n}var zL=!1;if(sf)try{var zw={};Object.defineProperty(zw,"passive",{get:function(){zL=!0}}),window.addEventListener("test",zw,zw),window.removeEventListener("test",zw,zw)}catch{zL=!1}function Xme(t,e,n,r,i,s,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var W_=!1,UC=null,BC=!1,$L=null,Kme={onError:function(t){W_=!0,UC=t}};function Yme(t,e,n,r,i,s,a,o,c){W_=!1,UC=null,Xme.apply(Kme,arguments)}function Zme(t,e,n,r,i,s,a,o,c){if(Yme.apply(this,arguments),W_){if(W_){var u=UC;W_=!1,UC=null}else throw Error(lt(198));BC||(BC=!0,$L=u)}}function yy(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fY(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o6(t){if(yy(t)!==t)throw Error(lt(188))}function Qme(t){var e=t.alternate;if(!e){if(e=yy(t),e===null)throw Error(lt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return o6(i),t;if(s===r)return o6(i),e;s=s.sibling}throw Error(lt(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(lt(189))}}if(n.alternate!==r)throw Error(lt(190))}if(n.tag!==3)throw Error(lt(188));return n.stateNode.current===n?t:e}function hY(t){return t=Qme(t),t!==null?pY(t):null}function pY(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pY(t);if(e!==null)return e;t=t.sibling}return null}var mY=hl.unstable_scheduleCallback,l6=hl.unstable_cancelCallback,Jme=hl.unstable_shouldYield,ege=hl.unstable_requestPaint,Xi=hl.unstable_now,tge=hl.unstable_getCurrentPriorityLevel,HF=hl.unstable_ImmediatePriority,gY=hl.unstable_UserBlockingPriority,zC=hl.unstable_NormalPriority,nge=hl.unstable_LowPriority,yY=hl.unstable_IdlePriority,A2=null,Vu=null;function rge(t){if(Vu&&typeof Vu.onCommitFiberRoot=="function")try{Vu.onCommitFiberRoot(A2,t,void 0,(t.current.flags&128)===128)}catch{}}var Xc=Math.clz32?Math.clz32:age,ige=Math.log,sge=Math.LN2;function age(t){return t>>>=0,t===0?32:31-(ige(t)/sge|0)|0}var vT=64,xT=4194304;function I_(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $C(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=I_(o):(s&=a,s!==0&&(r=I_(s)))}else a=n&~i,a!==0?r=I_(a):s!==0&&(r=I_(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xc(e),i=1<<n,r|=t[n],e&=~i;return r}function oge(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lge(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Xc(s),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=oge(o,e)):c<=e&&(t.expiredLanes|=o),s&=~o}}function VL(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vY(){var t=vT;return vT<<=1,!(vT&4194240)&&(vT=64),t}function LO(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gE(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xc(e),t[e]=n}function cge(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xc(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function WF(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xc(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Rr=0;function xY(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bY,GF,wY,_Y,SY,HL=!1,bT=[],Qh=null,Jh=null,ep=null,C1=new Map,N1=new Map,jh=[],uge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c6(t,e){switch(t){case"focusin":case"focusout":Qh=null;break;case"dragenter":case"dragleave":Jh=null;break;case"mouseover":case"mouseout":ep=null;break;case"pointerover":case"pointerout":C1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":N1.delete(e.pointerId)}}function $w(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vE(e),e!==null&&GF(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dge(t,e,n,r,i){switch(e){case"focusin":return Qh=$w(Qh,t,e,n,r,i),!0;case"dragenter":return Jh=$w(Jh,t,e,n,r,i),!0;case"mouseover":return ep=$w(ep,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return C1.set(s,$w(C1.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,N1.set(s,$w(N1.get(s)||null,t,e,n,r,i)),!0}return!1}function EY(t){var e=ig(t.target);if(e!==null){var n=yy(e);if(n!==null){if(e=n.tag,e===13){if(e=fY(n),e!==null){t.blockedOn=e,SY(t.priority,function(){wY(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dC(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=WL(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);UL=r,n.target.dispatchEvent(r),UL=null}else return e=vE(n),e!==null&&GF(e),t.blockedOn=n,!1;e.shift()}return!0}function u6(t,e,n){dC(t)&&n.delete(e)}function fge(){HL=!1,Qh!==null&&dC(Qh)&&(Qh=null),Jh!==null&&dC(Jh)&&(Jh=null),ep!==null&&dC(ep)&&(ep=null),C1.forEach(u6),N1.forEach(u6)}function Vw(t,e){t.blockedOn===e&&(t.blockedOn=null,HL||(HL=!0,hl.unstable_scheduleCallback(hl.unstable_NormalPriority,fge)))}function P1(t){function e(i){return Vw(i,t)}if(0<bT.length){Vw(bT[0],t);for(var n=1;n<bT.length;n++){var r=bT[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qh!==null&&Vw(Qh,t),Jh!==null&&Vw(Jh,t),ep!==null&&Vw(ep,t),C1.forEach(e),N1.forEach(e),n=0;n<jh.length;n++)r=jh[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jh.length&&(n=jh[0],n.blockedOn===null);)EY(n),n.blockedOn===null&&jh.shift()}var Lx=wf.ReactCurrentBatchConfig,VC=!0;function hge(t,e,n,r){var i=Rr,s=Lx.transition;Lx.transition=null;try{Rr=1,qF(t,e,n,r)}finally{Rr=i,Lx.transition=s}}function pge(t,e,n,r){var i=Rr,s=Lx.transition;Lx.transition=null;try{Rr=4,qF(t,e,n,r)}finally{Rr=i,Lx.transition=s}}function qF(t,e,n,r){if(VC){var i=WL(t,e,n,r);if(i===null)GO(t,e,r,HC,n),c6(t,r);else if(dge(i,t,e,n,r))r.stopPropagation();else if(c6(t,r),e&4&&-1<uge.indexOf(t)){for(;i!==null;){var s=vE(i);if(s!==null&&bY(s),s=WL(t,e,n,r),s===null&&GO(t,e,r,HC,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else GO(t,e,r,null,n)}}var HC=null;function WL(t,e,n,r){if(HC=null,t=VF(r),t=ig(t),t!==null)if(e=yy(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fY(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return HC=t,null}function AY(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tge()){case HF:return 1;case gY:return 4;case zC:case nge:return 16;case yY:return 536870912;default:return 16}default:return 16}}var Gh=null,XF=null,fC=null;function TY(){if(fC)return fC;var t,e=XF,n=e.length,r,i="value"in Gh?Gh.value:Gh.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return fC=i.slice(t,1<r?1-r:void 0)}function hC(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wT(){return!0}function d6(){return!1}function yl(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wT:d6,this.isPropagationStopped=d6,this}return Mi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wT)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wT)},persist:function(){},isPersistent:wT}),e}var ab={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KF=yl(ab),yE=Mi({},ab,{view:0,detail:0}),mge=yl(yE),DO,FO,Hw,T2=Mi({},yE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YF,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hw&&(Hw&&t.type==="mousemove"?(DO=t.screenX-Hw.screenX,FO=t.screenY-Hw.screenY):FO=DO=0,Hw=t),DO)},movementY:function(t){return"movementY"in t?t.movementY:FO}}),f6=yl(T2),gge=Mi({},T2,{dataTransfer:0}),yge=yl(gge),vge=Mi({},yE,{relatedTarget:0}),UO=yl(vge),xge=Mi({},ab,{animationName:0,elapsedTime:0,pseudoElement:0}),bge=yl(xge),wge=Mi({},ab,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_ge=yl(wge),Sge=Mi({},ab,{data:0}),h6=yl(Sge),Ege={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Age={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mge(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tge[t])?!!e[t]:!1}function YF(){return Mge}var Cge=Mi({},yE,{key:function(t){if(t.key){var e=Ege[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hC(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Age[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YF,charCode:function(t){return t.type==="keypress"?hC(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hC(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nge=yl(Cge),Pge=Mi({},T2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p6=yl(Pge),jge=Mi({},yE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YF}),kge=yl(jge),Oge=Mi({},ab,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rge=yl(Oge),Ige=Mi({},T2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lge=yl(Ige),Dge=[9,13,27,32],ZF=sf&&"CompositionEvent"in window,G_=null;sf&&"documentMode"in document&&(G_=document.documentMode);var Fge=sf&&"TextEvent"in window&&!G_,MY=sf&&(!ZF||G_&&8<G_&&11>=G_),m6=" ",g6=!1;function CY(t,e){switch(t){case"keyup":return Dge.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NY(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var px=!1;function Uge(t,e){switch(t){case"compositionend":return NY(e);case"keypress":return e.which!==32?null:(g6=!0,m6);case"textInput":return t=e.data,t===m6&&g6?null:t;default:return null}}function Bge(t,e){if(px)return t==="compositionend"||!ZF&&CY(t,e)?(t=TY(),fC=XF=Gh=null,px=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MY&&e.locale!=="ko"?null:e.data;default:return null}}var zge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zge[t.type]:e==="textarea"}function PY(t,e,n,r){oY(r),e=WC(e,"onChange"),0<e.length&&(n=new KF("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var q_=null,j1=null;function $ge(t){zY(t,0)}function M2(t){var e=yx(t);if(eY(e))return t}function Vge(t,e){if(t==="change")return e}var jY=!1;if(sf){var BO;if(sf){var zO="oninput"in document;if(!zO){var v6=document.createElement("div");v6.setAttribute("oninput","return;"),zO=typeof v6.oninput=="function"}BO=zO}else BO=!1;jY=BO&&(!document.documentMode||9<document.documentMode)}function x6(){q_&&(q_.detachEvent("onpropertychange",kY),j1=q_=null)}function kY(t){if(t.propertyName==="value"&&M2(j1)){var e=[];PY(e,j1,t,VF(t)),dY($ge,e)}}function Hge(t,e,n){t==="focusin"?(x6(),q_=e,j1=n,q_.attachEvent("onpropertychange",kY)):t==="focusout"&&x6()}function Wge(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return M2(j1)}function Gge(t,e){if(t==="click")return M2(e)}function qge(t,e){if(t==="input"||t==="change")return M2(e)}function Xge(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yc=typeof Object.is=="function"?Object.is:Xge;function k1(t,e){if(Yc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ML.call(e,i)||!Yc(t[i],e[i]))return!1}return!0}function b6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w6(t,e){var n=b6(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=b6(n)}}function OY(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OY(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RY(){for(var t=window,e=FC();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=FC(t.document)}return e}function QF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Kge(t){var e=RY(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OY(n.ownerDocument.documentElement,n)){if(r!==null&&QF(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=w6(n,s);var a=w6(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yge=sf&&"documentMode"in document&&11>=document.documentMode,mx=null,GL=null,X_=null,qL=!1;function _6(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qL||mx==null||mx!==FC(r)||(r=mx,"selectionStart"in r&&QF(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),X_&&k1(X_,r)||(X_=r,r=WC(GL,"onSelect"),0<r.length&&(e=new KF("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mx)))}function _T(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gx={animationend:_T("Animation","AnimationEnd"),animationiteration:_T("Animation","AnimationIteration"),animationstart:_T("Animation","AnimationStart"),transitionend:_T("Transition","TransitionEnd")},$O={},IY={};sf&&(IY=document.createElement("div").style,"AnimationEvent"in window||(delete gx.animationend.animation,delete gx.animationiteration.animation,delete gx.animationstart.animation),"TransitionEvent"in window||delete gx.transitionend.transition);function C2(t){if($O[t])return $O[t];if(!gx[t])return t;var e=gx[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IY)return $O[t]=e[n];return t}var LY=C2("animationend"),DY=C2("animationiteration"),FY=C2("animationstart"),UY=C2("transitionend"),BY=new Map,S6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _p(t,e){BY.set(t,e),gy(e,[t])}for(var VO=0;VO<S6.length;VO++){var HO=S6[VO],Zge=HO.toLowerCase(),Qge=HO[0].toUpperCase()+HO.slice(1);_p(Zge,"on"+Qge)}_p(LY,"onAnimationEnd");_p(DY,"onAnimationIteration");_p(FY,"onAnimationStart");_p("dblclick","onDoubleClick");_p("focusin","onFocus");_p("focusout","onBlur");_p(UY,"onTransitionEnd");d0("onMouseEnter",["mouseout","mouseover"]);d0("onMouseLeave",["mouseout","mouseover"]);d0("onPointerEnter",["pointerout","pointerover"]);d0("onPointerLeave",["pointerout","pointerover"]);gy("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gy("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gy("onBeforeInput",["compositionend","keypress","textInput","paste"]);gy("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gy("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gy("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var L_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jge=new Set("cancel close invalid load scroll toggle".split(" ").concat(L_));function E6(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Zme(r,e,void 0,t),t.currentTarget=null}function zY(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;E6(i,o,u),s=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;E6(i,o,u),s=c}}}if(BC)throw t=$L,BC=!1,$L=null,t}function oi(t,e){var n=e[QL];n===void 0&&(n=e[QL]=new Set);var r=t+"__bubble";n.has(r)||($Y(e,t,2,!1),n.add(r))}function WO(t,e,n){var r=0;e&&(r|=4),$Y(n,t,r,e)}var ST="_reactListening"+Math.random().toString(36).slice(2);function O1(t){if(!t[ST]){t[ST]=!0,KK.forEach(function(n){n!=="selectionchange"&&(Jge.has(n)||WO(n,!1,t),WO(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ST]||(e[ST]=!0,WO("selectionchange",!1,e))}}function $Y(t,e,n,r){switch(AY(e)){case 1:var i=hge;break;case 4:i=pge;break;default:i=qF}n=i.bind(null,e,n,t),i=void 0,!zL||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function GO(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ig(o),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}o=o.parentNode}}r=r.return}dY(function(){var u=s,d=VF(n),f=[];e:{var h=BY.get(t);if(h!==void 0){var p=KF,g=t;switch(t){case"keypress":if(hC(n)===0)break e;case"keydown":case"keyup":p=Nge;break;case"focusin":g="focus",p=UO;break;case"focusout":g="blur",p=UO;break;case"beforeblur":case"afterblur":p=UO;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=f6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kge;break;case LY:case DY:case FY:p=bge;break;case UY:p=Rge;break;case"scroll":p=mge;break;case"wheel":p=Lge;break;case"copy":case"cut":case"paste":p=_ge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=p6}var v=(e&4)!==0,w=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var _=u,S;_!==null;){S=_;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,x!==null&&(A=M1(_,x),A!=null&&v.push(R1(_,A,S)))),w)break;_=_.return}0<v.length&&(h=new p(h,g,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==UL&&(g=n.relatedTarget||n.fromElement)&&(ig(g)||g[af]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ig(g):null,g!==null&&(w=yy(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=f6,A="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=p6,A="onPointerLeave",x="onPointerEnter",_="pointer"),w=p==null?h:yx(p),S=g==null?h:yx(g),h=new v(A,_+"leave",p,n,d),h.target=w,h.relatedTarget=S,A=null,ig(d)===u&&(v=new v(x,_+"enter",g,n,d),v.target=S,v.relatedTarget=w,A=v),w=A,p&&g)t:{for(v=p,x=g,_=0,S=v;S;S=Sv(S))_++;for(S=0,A=x;A;A=Sv(A))S++;for(;0<_-S;)v=Sv(v),_--;for(;0<S-_;)x=Sv(x),S--;for(;_--;){if(v===x||x!==null&&v===x.alternate)break t;v=Sv(v),x=Sv(x)}v=null}else v=null;p!==null&&A6(f,h,p,v,!1),g!==null&&w!==null&&A6(f,w,g,v,!0)}}e:{if(h=u?yx(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=Vge;else if(y6(h))if(jY)C=qge;else{C=Wge;var T=Hge}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=Gge);if(C&&(C=C(t,u))){PY(f,C,n,d);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&RL(h,"number",h.value)}switch(T=u?yx(u):window,t){case"focusin":(y6(T)||T.contentEditable==="true")&&(mx=T,GL=u,X_=null);break;case"focusout":X_=GL=mx=null;break;case"mousedown":qL=!0;break;case"contextmenu":case"mouseup":case"dragend":qL=!1,_6(f,n,d);break;case"selectionchange":if(Yge)break;case"keydown":case"keyup":_6(f,n,d)}var N;if(ZF)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else px?CY(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(MY&&n.locale!=="ko"&&(px||O!=="onCompositionStart"?O==="onCompositionEnd"&&px&&(N=TY()):(Gh=d,XF="value"in Gh?Gh.value:Gh.textContent,px=!0)),T=WC(u,O),0<T.length&&(O=new h6(O,t,null,n,d),f.push({event:O,listeners:T}),N?O.data=N:(N=NY(n),N!==null&&(O.data=N)))),(N=Fge?Uge(t,n):Bge(t,n))&&(u=WC(u,"onBeforeInput"),0<u.length&&(d=new h6("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}zY(f,e)})}function R1(t,e,n){return{instance:t,listener:e,currentTarget:n}}function WC(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=M1(t,n),s!=null&&r.unshift(R1(t,s,i)),s=M1(t,e),s!=null&&r.push(R1(t,s,i))),t=t.return}return r}function Sv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function A6(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,i?(c=M1(n,s),c!=null&&a.unshift(R1(n,c,o))):i||(c=M1(n,s),c!=null&&a.push(R1(n,c,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var eye=/\r\n?/g,tye=/\u0000|\uFFFD/g;function T6(t){return(typeof t=="string"?t:""+t).replace(eye,`
`).replace(tye,"")}function ET(t,e,n){if(e=T6(e),T6(t)!==e&&n)throw Error(lt(425))}function GC(){}var XL=null,KL=null;function YL(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ZL=typeof setTimeout=="function"?setTimeout:void 0,nye=typeof clearTimeout=="function"?clearTimeout:void 0,M6=typeof Promise=="function"?Promise:void 0,rye=typeof queueMicrotask=="function"?queueMicrotask:typeof M6<"u"?function(t){return M6.resolve(null).then(t).catch(iye)}:ZL;function iye(t){setTimeout(function(){throw t})}function qO(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),P1(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);P1(e)}function tp(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ob=Math.random().toString(36).slice(2),ku="__reactFiber$"+ob,I1="__reactProps$"+ob,af="__reactContainer$"+ob,QL="__reactEvents$"+ob,sye="__reactListeners$"+ob,aye="__reactHandles$"+ob;function ig(t){var e=t[ku];if(e)return e;for(var n=t.parentNode;n;){if(e=n[af]||n[ku]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C6(t);t!==null;){if(n=t[ku])return n;t=C6(t)}return e}t=n,n=t.parentNode}return null}function vE(t){return t=t[ku]||t[af],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yx(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(lt(33))}function N2(t){return t[I1]||null}var JL=[],vx=-1;function Sp(t){return{current:t}}function di(t){0>vx||(t.current=JL[vx],JL[vx]=null,vx--)}function ni(t,e){vx++,JL[vx]=t.current,t.current=e}var fp={},Aa=Sp(fp),Eo=Sp(!1),Vg=fp;function f0(t,e){var n=t.type.contextTypes;if(!n)return fp;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ao(t){return t=t.childContextTypes,t!=null}function qC(){di(Eo),di(Aa)}function N6(t,e,n){if(Aa.current!==fp)throw Error(lt(168));ni(Aa,e),ni(Eo,n)}function VY(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(lt(108,Hme(t)||"Unknown",i));return Mi({},n,r)}function XC(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fp,Vg=Aa.current,ni(Aa,t),ni(Eo,Eo.current),!0}function P6(t,e,n){var r=t.stateNode;if(!r)throw Error(lt(169));n?(t=VY(t,e,Vg),r.__reactInternalMemoizedMergedChildContext=t,di(Eo),di(Aa),ni(Aa,t)):di(Eo),ni(Eo,n)}var Dd=null,P2=!1,XO=!1;function HY(t){Dd===null?Dd=[t]:Dd.push(t)}function oye(t){P2=!0,HY(t)}function Ep(){if(!XO&&Dd!==null){XO=!0;var t=0,e=Rr;try{var n=Dd;for(Rr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dd=null,P2=!1}catch(i){throw Dd!==null&&(Dd=Dd.slice(t+1)),mY(HF,Ep),i}finally{Rr=e,XO=!1}}return null}var xx=[],bx=0,KC=null,YC=0,ql=[],Xl=0,Hg=null,Hd=1,Wd="";function zm(t,e){xx[bx++]=YC,xx[bx++]=KC,KC=t,YC=e}function WY(t,e,n){ql[Xl++]=Hd,ql[Xl++]=Wd,ql[Xl++]=Hg,Hg=t;var r=Hd;t=Wd;var i=32-Xc(r)-1;r&=~(1<<i),n+=1;var s=32-Xc(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Hd=1<<32-Xc(e)+i|n<<i|r,Wd=s+t}else Hd=1<<s|n<<i|r,Wd=t}function JF(t){t.return!==null&&(zm(t,1),WY(t,1,0))}function eU(t){for(;t===KC;)KC=xx[--bx],xx[bx]=null,YC=xx[--bx],xx[bx]=null;for(;t===Hg;)Hg=ql[--Xl],ql[Xl]=null,Wd=ql[--Xl],ql[Xl]=null,Hd=ql[--Xl],ql[Xl]=null}var ul=null,ll=null,pi=!1,zc=null;function GY(t,e){var n=Zl(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function j6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ul=t,ll=tp(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ul=t,ll=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hg!==null?{id:Hd,overflow:Wd}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zl(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ul=t,ll=null,!0):!1;default:return!1}}function eD(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tD(t){if(pi){var e=ll;if(e){var n=e;if(!j6(t,e)){if(eD(t))throw Error(lt(418));e=tp(n.nextSibling);var r=ul;e&&j6(t,e)?GY(r,n):(t.flags=t.flags&-4097|2,pi=!1,ul=t)}}else{if(eD(t))throw Error(lt(418));t.flags=t.flags&-4097|2,pi=!1,ul=t}}}function k6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ul=t}function AT(t){if(t!==ul)return!1;if(!pi)return k6(t),pi=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!YL(t.type,t.memoizedProps)),e&&(e=ll)){if(eD(t))throw qY(),Error(lt(418));for(;e;)GY(t,e),e=tp(e.nextSibling)}if(k6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(lt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ll=tp(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ll=null}}else ll=ul?tp(t.stateNode.nextSibling):null;return!0}function qY(){for(var t=ll;t;)t=tp(t.nextSibling)}function h0(){ll=ul=null,pi=!1}function tU(t){zc===null?zc=[t]:zc.push(t)}var lye=wf.ReactCurrentBatchConfig;function Ww(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(lt(309));var r=n.stateNode}if(!r)throw Error(lt(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(lt(284));if(!n._owner)throw Error(lt(290,t))}return t}function TT(t,e){throw t=Object.prototype.toString.call(e),Error(lt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function O6(t){var e=t._init;return e(t._payload)}function XY(t){function e(x,_){if(t){var S=x.deletions;S===null?(x.deletions=[_],x.flags|=16):S.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=sp(x,_),x.index=0,x.sibling=null,x}function s(x,_,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<_?(x.flags|=2,_):S):(x.flags|=2,_)):(x.flags|=1048576,_)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,_,S,A){return _===null||_.tag!==6?(_=tR(S,x.mode,A),_.return=x,_):(_=i(_,S),_.return=x,_)}function c(x,_,S,A){var C=S.type;return C===hx?d(x,_,S.props.children,A,S.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Th&&O6(C)===_.type)?(A=i(_,S.props),A.ref=Ww(x,_,S),A.return=x,A):(A=bC(S.type,S.key,S.props,null,x.mode,A),A.ref=Ww(x,_,S),A.return=x,A)}function u(x,_,S,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=nR(S,x.mode,A),_.return=x,_):(_=i(_,S.children||[]),_.return=x,_)}function d(x,_,S,A,C){return _===null||_.tag!==7?(_=jg(S,x.mode,A,C),_.return=x,_):(_=i(_,S),_.return=x,_)}function f(x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=tR(""+_,x.mode,S),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case mT:return S=bC(_.type,_.key,_.props,null,x.mode,S),S.ref=Ww(x,null,_),S.return=x,S;case fx:return _=nR(_,x.mode,S),_.return=x,_;case Th:var A=_._init;return f(x,A(_._payload),S)}if(R_(_)||Bw(_))return _=jg(_,x.mode,S,null),_.return=x,_;TT(x,_)}return null}function h(x,_,S,A){var C=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:o(x,_,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mT:return S.key===C?c(x,_,S,A):null;case fx:return S.key===C?u(x,_,S,A):null;case Th:return C=S._init,h(x,_,C(S._payload),A)}if(R_(S)||Bw(S))return C!==null?null:d(x,_,S,A,null);TT(x,S)}return null}function p(x,_,S,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(S)||null,o(_,x,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case mT:return x=x.get(A.key===null?S:A.key)||null,c(_,x,A,C);case fx:return x=x.get(A.key===null?S:A.key)||null,u(_,x,A,C);case Th:var T=A._init;return p(x,_,S,T(A._payload),C)}if(R_(A)||Bw(A))return x=x.get(S)||null,d(_,x,A,C,null);TT(_,A)}return null}function g(x,_,S,A){for(var C=null,T=null,N=_,O=_=0,U=null;N!==null&&O<S.length;O++){N.index>O?(U=N,N=null):U=N.sibling;var R=h(x,N,S[O],A);if(R===null){N===null&&(N=U);break}t&&N&&R.alternate===null&&e(x,N),_=s(R,_,O),T===null?C=R:T.sibling=R,T=R,N=U}if(O===S.length)return n(x,N),pi&&zm(x,O),C;if(N===null){for(;O<S.length;O++)N=f(x,S[O],A),N!==null&&(_=s(N,_,O),T===null?C=N:T.sibling=N,T=N);return pi&&zm(x,O),C}for(N=r(x,N);O<S.length;O++)U=p(N,x,O,S[O],A),U!==null&&(t&&U.alternate!==null&&N.delete(U.key===null?O:U.key),_=s(U,_,O),T===null?C=U:T.sibling=U,T=U);return t&&N.forEach(function(I){return e(x,I)}),pi&&zm(x,O),C}function v(x,_,S,A){var C=Bw(S);if(typeof C!="function")throw Error(lt(150));if(S=C.call(S),S==null)throw Error(lt(151));for(var T=C=null,N=_,O=_=0,U=null,R=S.next();N!==null&&!R.done;O++,R=S.next()){N.index>O?(U=N,N=null):U=N.sibling;var I=h(x,N,R.value,A);if(I===null){N===null&&(N=U);break}t&&N&&I.alternate===null&&e(x,N),_=s(I,_,O),T===null?C=I:T.sibling=I,T=I,N=U}if(R.done)return n(x,N),pi&&zm(x,O),C;if(N===null){for(;!R.done;O++,R=S.next())R=f(x,R.value,A),R!==null&&(_=s(R,_,O),T===null?C=R:T.sibling=R,T=R);return pi&&zm(x,O),C}for(N=r(x,N);!R.done;O++,R=S.next())R=p(N,x,O,R.value,A),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?O:R.key),_=s(R,_,O),T===null?C=R:T.sibling=R,T=R);return t&&N.forEach(function(B){return e(x,B)}),pi&&zm(x,O),C}function w(x,_,S,A){if(typeof S=="object"&&S!==null&&S.type===hx&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case mT:e:{for(var C=S.key,T=_;T!==null;){if(T.key===C){if(C=S.type,C===hx){if(T.tag===7){n(x,T.sibling),_=i(T,S.props.children),_.return=x,x=_;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Th&&O6(C)===T.type){n(x,T.sibling),_=i(T,S.props),_.ref=Ww(x,T,S),_.return=x,x=_;break e}n(x,T);break}else e(x,T);T=T.sibling}S.type===hx?(_=jg(S.props.children,x.mode,A,S.key),_.return=x,x=_):(A=bC(S.type,S.key,S.props,null,x.mode,A),A.ref=Ww(x,_,S),A.return=x,x=A)}return a(x);case fx:e:{for(T=S.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(x,_.sibling),_=i(_,S.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=nR(S,x.mode,A),_.return=x,x=_}return a(x);case Th:return T=S._init,w(x,_,T(S._payload),A)}if(R_(S))return g(x,_,S,A);if(Bw(S))return v(x,_,S,A);TT(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(x,_.sibling),_=i(_,S),_.return=x,x=_):(n(x,_),_=tR(S,x.mode,A),_.return=x,x=_),a(x)):n(x,_)}return w}var p0=XY(!0),KY=XY(!1),ZC=Sp(null),QC=null,wx=null,nU=null;function rU(){nU=wx=QC=null}function iU(t){var e=ZC.current;di(ZC),t._currentValue=e}function nD(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dx(t,e){QC=t,nU=wx=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wo=!0),t.firstContext=null)}function rc(t){var e=t._currentValue;if(nU!==t)if(t={context:t,memoizedValue:e,next:null},wx===null){if(QC===null)throw Error(lt(308));wx=t,QC.dependencies={lanes:0,firstContext:t}}else wx=wx.next=t;return e}var sg=null;function sU(t){sg===null?sg=[t]:sg.push(t)}function YY(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sU(e)):(n.next=i.next,i.next=n),e.interleaved=n,of(t,r)}function of(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mh=!1;function aU(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZY(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yd(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function np(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,mr&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,of(t,n)}return i=r.interleaved,i===null?(e.next=e,sU(r)):(e.next=i.next,i.next=e),r.interleaved=e,of(t,n)}function pC(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,WF(t,n)}}function R6(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function JC(t,e,n,r){var i=t.updateQueue;Mh=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(h=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Mi({},f,h);break e;case 2:Mh=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Gg|=a,t.lanes=a,t.memoizedState=f}}function I6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(lt(191,i));i.call(r)}}}var xE={},Hu=Sp(xE),L1=Sp(xE),D1=Sp(xE);function ag(t){if(t===xE)throw Error(lt(174));return t}function oU(t,e){switch(ni(D1,e),ni(L1,t),ni(Hu,xE),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:LL(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=LL(e,t)}di(Hu),ni(Hu,e)}function m0(){di(Hu),di(L1),di(D1)}function QY(t){ag(D1.current);var e=ag(Hu.current),n=LL(e,t.type);e!==n&&(ni(L1,t),ni(Hu,n))}function lU(t){L1.current===t&&(di(Hu),di(L1))}var Ei=Sp(0);function eN(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var KO=[];function cU(){for(var t=0;t<KO.length;t++)KO[t]._workInProgressVersionPrimary=null;KO.length=0}var mC=wf.ReactCurrentDispatcher,YO=wf.ReactCurrentBatchConfig,Wg=0,Ti=null,ws=null,Ws=null,tN=!1,K_=!1,F1=0,cye=0;function ha(){throw Error(lt(321))}function uU(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yc(t[n],e[n]))return!1;return!0}function dU(t,e,n,r,i,s){if(Wg=s,Ti=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mC.current=t===null||t.memoizedState===null?hye:pye,t=n(r,i),K_){s=0;do{if(K_=!1,F1=0,25<=s)throw Error(lt(301));s+=1,Ws=ws=null,e.updateQueue=null,mC.current=mye,t=n(r,i)}while(K_)}if(mC.current=nN,e=ws!==null&&ws.next!==null,Wg=0,Ws=ws=Ti=null,tN=!1,e)throw Error(lt(300));return t}function fU(){var t=F1!==0;return F1=0,t}function Au(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ws===null?Ti.memoizedState=Ws=t:Ws=Ws.next=t,Ws}function ic(){if(ws===null){var t=Ti.alternate;t=t!==null?t.memoizedState:null}else t=ws.next;var e=Ws===null?Ti.memoizedState:Ws.next;if(e!==null)Ws=e,ws=t;else{if(t===null)throw Error(lt(310));ws=t,t={memoizedState:ws.memoizedState,baseState:ws.baseState,baseQueue:ws.baseQueue,queue:ws.queue,next:null},Ws===null?Ti.memoizedState=Ws=t:Ws=Ws.next=t}return Ws}function U1(t,e){return typeof e=="function"?e(t):e}function ZO(t){var e=ic(),n=e.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=t;var r=ws,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,c=null,u=s;do{var d=u.lane;if((Wg&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=r):c=c.next=f,Ti.lanes|=d,Gg|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=o,Yc(r,e.memoizedState)||(wo=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ti.lanes|=s,Gg|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function QO(t){var e=ic(),n=e.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Yc(s,e.memoizedState)||(wo=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function JY(){}function eZ(t,e){var n=Ti,r=ic(),i=e(),s=!Yc(r.memoizedState,i);if(s&&(r.memoizedState=i,wo=!0),r=r.queue,hU(rZ.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ws!==null&&Ws.memoizedState.tag&1){if(n.flags|=2048,B1(9,nZ.bind(null,n,r,i,e),void 0,null),Xs===null)throw Error(lt(349));Wg&30||tZ(n,e,i)}return i}function tZ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ti.updateQueue,e===null?(e={lastEffect:null,stores:null},Ti.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nZ(t,e,n,r){e.value=n,e.getSnapshot=r,iZ(e)&&sZ(t)}function rZ(t,e,n){return n(function(){iZ(e)&&sZ(t)})}function iZ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yc(t,n)}catch{return!0}}function sZ(t){var e=of(t,1);e!==null&&Kc(e,t,1,-1)}function L6(t){var e=Au();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:U1,lastRenderedState:t},e.queue=t,t=t.dispatch=fye.bind(null,Ti,t),[e.memoizedState,t]}function B1(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ti.updateQueue,e===null?(e={lastEffect:null,stores:null},Ti.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aZ(){return ic().memoizedState}function gC(t,e,n,r){var i=Au();Ti.flags|=t,i.memoizedState=B1(1|e,n,void 0,r===void 0?null:r)}function j2(t,e,n,r){var i=ic();r=r===void 0?null:r;var s=void 0;if(ws!==null){var a=ws.memoizedState;if(s=a.destroy,r!==null&&uU(r,a.deps)){i.memoizedState=B1(e,n,s,r);return}}Ti.flags|=t,i.memoizedState=B1(1|e,n,s,r)}function D6(t,e){return gC(8390656,8,t,e)}function hU(t,e){return j2(2048,8,t,e)}function oZ(t,e){return j2(4,2,t,e)}function lZ(t,e){return j2(4,4,t,e)}function cZ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uZ(t,e,n){return n=n!=null?n.concat([t]):null,j2(4,4,cZ.bind(null,e,t),n)}function pU(){}function dZ(t,e){var n=ic();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uU(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fZ(t,e){var n=ic();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uU(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hZ(t,e,n){return Wg&21?(Yc(n,e)||(n=vY(),Ti.lanes|=n,Gg|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wo=!0),t.memoizedState=n)}function uye(t,e){var n=Rr;Rr=n!==0&&4>n?n:4,t(!0);var r=YO.transition;YO.transition={};try{t(!1),e()}finally{Rr=n,YO.transition=r}}function pZ(){return ic().memoizedState}function dye(t,e,n){var r=ip(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mZ(t))gZ(e,n);else if(n=YY(t,e,n,r),n!==null){var i=Xa();Kc(n,t,r,i),yZ(n,e,r)}}function fye(t,e,n){var r=ip(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mZ(t))gZ(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Yc(o,a)){var c=e.interleaved;c===null?(i.next=i,sU(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=YY(t,e,i,r),n!==null&&(i=Xa(),Kc(n,t,r,i),yZ(n,e,r))}}function mZ(t){var e=t.alternate;return t===Ti||e!==null&&e===Ti}function gZ(t,e){K_=tN=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yZ(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,WF(t,n)}}var nN={readContext:rc,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},hye={readContext:rc,useCallback:function(t,e){return Au().memoizedState=[t,e===void 0?null:e],t},useContext:rc,useEffect:D6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gC(4194308,4,cZ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gC(4194308,4,t,e)},useInsertionEffect:function(t,e){return gC(4,2,t,e)},useMemo:function(t,e){var n=Au();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Au();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dye.bind(null,Ti,t),[r.memoizedState,t]},useRef:function(t){var e=Au();return t={current:t},e.memoizedState=t},useState:L6,useDebugValue:pU,useDeferredValue:function(t){return Au().memoizedState=t},useTransition:function(){var t=L6(!1),e=t[0];return t=uye.bind(null,t[1]),Au().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ti,i=Au();if(pi){if(n===void 0)throw Error(lt(407));n=n()}else{if(n=e(),Xs===null)throw Error(lt(349));Wg&30||tZ(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,D6(rZ.bind(null,r,s,t),[t]),r.flags|=2048,B1(9,nZ.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Au(),e=Xs.identifierPrefix;if(pi){var n=Wd,r=Hd;n=(r&~(1<<32-Xc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=F1++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cye++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pye={readContext:rc,useCallback:dZ,useContext:rc,useEffect:hU,useImperativeHandle:uZ,useInsertionEffect:oZ,useLayoutEffect:lZ,useMemo:fZ,useReducer:ZO,useRef:aZ,useState:function(){return ZO(U1)},useDebugValue:pU,useDeferredValue:function(t){var e=ic();return hZ(e,ws.memoizedState,t)},useTransition:function(){var t=ZO(U1)[0],e=ic().memoizedState;return[t,e]},useMutableSource:JY,useSyncExternalStore:eZ,useId:pZ,unstable_isNewReconciler:!1},mye={readContext:rc,useCallback:dZ,useContext:rc,useEffect:hU,useImperativeHandle:uZ,useInsertionEffect:oZ,useLayoutEffect:lZ,useMemo:fZ,useReducer:QO,useRef:aZ,useState:function(){return QO(U1)},useDebugValue:pU,useDeferredValue:function(t){var e=ic();return ws===null?e.memoizedState=t:hZ(e,ws.memoizedState,t)},useTransition:function(){var t=QO(U1)[0],e=ic().memoizedState;return[t,e]},useMutableSource:JY,useSyncExternalStore:eZ,useId:pZ,unstable_isNewReconciler:!1};function kc(t,e){if(t&&t.defaultProps){e=Mi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rD(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var k2={isMounted:function(t){return(t=t._reactInternals)?yy(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xa(),i=ip(t),s=Yd(r,i);s.payload=e,n!=null&&(s.callback=n),e=np(t,s,i),e!==null&&(Kc(e,t,i,r),pC(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xa(),i=ip(t),s=Yd(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=np(t,s,i),e!==null&&(Kc(e,t,i,r),pC(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xa(),r=ip(t),i=Yd(n,r);i.tag=2,e!=null&&(i.callback=e),e=np(t,i,r),e!==null&&(Kc(e,t,r,n),pC(e,t,r))}};function F6(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!k1(n,r)||!k1(i,s):!0}function vZ(t,e,n){var r=!1,i=fp,s=e.contextType;return typeof s=="object"&&s!==null?s=rc(s):(i=Ao(e)?Vg:Aa.current,r=e.contextTypes,s=(r=r!=null)?f0(t,i):fp),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=k2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function U6(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&k2.enqueueReplaceState(e,e.state,null)}function iD(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},aU(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rc(s):(s=Ao(e)?Vg:Aa.current,i.context=f0(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rD(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&k2.enqueueReplaceState(i,i.state,null),JC(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function g0(t,e){try{var n="",r=e;do n+=Vme(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function JO(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sD(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gye=typeof WeakMap=="function"?WeakMap:Map;function xZ(t,e,n){n=Yd(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){iN||(iN=!0,mD=r),sD(t,e)},n}function bZ(t,e,n){n=Yd(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sD(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sD(t,e),typeof r!="function"&&(rp===null?rp=new Set([this]):rp.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function B6(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gye;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Pye.bind(null,t,e,n),e.then(t,t))}function z6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $6(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yd(-1,1),e.tag=2,np(n,e,1))),n.lanes|=1),t)}var yye=wf.ReactCurrentOwner,wo=!1;function Va(t,e,n,r){e.child=t===null?KY(e,null,n,r):p0(e,t.child,n,r)}function V6(t,e,n,r,i){n=n.render;var s=e.ref;return Dx(e,i),r=dU(t,e,n,r,s,i),n=fU(),t!==null&&!wo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lf(t,e,i)):(pi&&n&&JF(e),e.flags|=1,Va(t,e,r,i),e.child)}function H6(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_U(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wZ(t,e,s,r,i)):(t=bC(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:k1,n(a,r)&&t.ref===e.ref)return lf(t,e,i)}return e.flags|=1,t=sp(s,r),t.ref=e.ref,t.return=e,e.child=t}function wZ(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(k1(s,r)&&t.ref===e.ref)if(wo=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wo=!0);else return e.lanes=t.lanes,lf(t,e,i)}return aD(t,e,n,r,i)}function _Z(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ni(Sx,el),el|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ni(Sx,el),el|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ni(Sx,el),el|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ni(Sx,el),el|=r;return Va(t,e,i,n),e.child}function SZ(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function aD(t,e,n,r,i){var s=Ao(n)?Vg:Aa.current;return s=f0(e,s),Dx(e,i),n=dU(t,e,n,r,s,i),r=fU(),t!==null&&!wo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lf(t,e,i)):(pi&&r&&JF(e),e.flags|=1,Va(t,e,n,i),e.child)}function W6(t,e,n,r,i){if(Ao(n)){var s=!0;XC(e)}else s=!1;if(Dx(e,i),e.stateNode===null)yC(t,e),vZ(e,n,r),iD(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=rc(u):(u=Ao(n)?Vg:Aa.current,u=f0(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&U6(e,a,r,u),Mh=!1;var h=e.memoizedState;a.state=h,JC(e,r,a,i),c=e.memoizedState,o!==r||h!==c||Eo.current||Mh?(typeof d=="function"&&(rD(e,n,d,r),c=e.memoizedState),(o=Mh||F6(e,n,o,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,ZY(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:kc(e.type,o),a.props=u,f=e.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=rc(c):(c=Ao(n)?Vg:Aa.current,c=f0(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&U6(e,a,r,c),Mh=!1,h=e.memoizedState,a.state=h,JC(e,r,a,i);var g=e.memoizedState;o!==f||h!==g||Eo.current||Mh?(typeof p=="function"&&(rD(e,n,p,r),g=e.memoizedState),(u=Mh||F6(e,n,u,r,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return oD(t,e,n,r,s,i)}function oD(t,e,n,r,i,s){SZ(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&P6(e,n,!1),lf(t,e,s);r=e.stateNode,yye.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=p0(e,t.child,null,s),e.child=p0(e,null,o,s)):Va(t,e,o,s),e.memoizedState=r.state,i&&P6(e,n,!0),e.child}function EZ(t){var e=t.stateNode;e.pendingContext?N6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&N6(t,e.context,!1),oU(t,e.containerInfo)}function G6(t,e,n,r,i){return h0(),tU(i),e.flags|=256,Va(t,e,n,r),e.child}var lD={dehydrated:null,treeContext:null,retryLane:0};function cD(t){return{baseLanes:t,cachePool:null,transitions:null}}function AZ(t,e,n){var r=e.pendingProps,i=Ei.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ni(Ei,i&1),t===null)return tD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=I2(a,r,0,null),t=jg(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cD(n),e.memoizedState=lD,t):mU(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return vye(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=sp(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=sp(o,s):(s=jg(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?cD(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=lD,r}return s=t.child,t=s.sibling,r=sp(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mU(t,e){return e=I2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function MT(t,e,n,r){return r!==null&&tU(r),p0(e,t.child,null,n),t=mU(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vye(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=JO(Error(lt(422))),MT(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=I2({mode:"visible",children:r.children},i,0,null),s=jg(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&p0(e,t.child,null,a),e.child.memoizedState=cD(a),e.memoizedState=lD,s);if(!(e.mode&1))return MT(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(lt(419)),r=JO(s,r,void 0),MT(t,e,a,r)}if(o=(a&t.childLanes)!==0,wo||o){if(r=Xs,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,of(t,i),Kc(r,t,i,-1))}return wU(),r=JO(Error(lt(421))),MT(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jye.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ll=tp(i.nextSibling),ul=e,pi=!0,zc=null,t!==null&&(ql[Xl++]=Hd,ql[Xl++]=Wd,ql[Xl++]=Hg,Hd=t.id,Wd=t.overflow,Hg=e),e=mU(e,r.children),e.flags|=4096,e)}function q6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nD(t.return,e,n)}function eR(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function TZ(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Va(t,e,r.children,n),r=Ei.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&q6(t,n,e);else if(t.tag===19)q6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ni(Ei,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&eN(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),eR(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&eN(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}eR(e,!0,n,null,s);break;case"together":eR(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yC(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lf(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gg|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(lt(153));if(e.child!==null){for(t=e.child,n=sp(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sp(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xye(t,e,n){switch(e.tag){case 3:EZ(e),h0();break;case 5:QY(e);break;case 1:Ao(e.type)&&XC(e);break;case 4:oU(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ni(ZC,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ni(Ei,Ei.current&1),e.flags|=128,null):n&e.child.childLanes?AZ(t,e,n):(ni(Ei,Ei.current&1),t=lf(t,e,n),t!==null?t.sibling:null);ni(Ei,Ei.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TZ(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ni(Ei,Ei.current),r)break;return null;case 22:case 23:return e.lanes=0,_Z(t,e,n)}return lf(t,e,n)}var MZ,uD,CZ,NZ;MZ=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uD=function(){};CZ=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ag(Hu.current);var s=null;switch(n){case"input":i=kL(t,i),r=kL(t,r),s=[];break;case"select":i=Mi({},i,{value:void 0}),r=Mi({},r,{value:void 0}),s=[];break;case"textarea":i=IL(t,i),r=IL(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=GC)}DL(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(A1.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(A1.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&oi("scroll",t),s||o===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};NZ=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gw(t,e){if(!pi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pa(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bye(t,e,n){var r=e.pendingProps;switch(eU(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pa(e),null;case 1:return Ao(e.type)&&qC(),pa(e),null;case 3:return r=e.stateNode,m0(),di(Eo),di(Aa),cU(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(AT(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zc!==null&&(vD(zc),zc=null))),uD(t,e),pa(e),null;case 5:lU(e);var i=ag(D1.current);if(n=e.type,t!==null&&e.stateNode!=null)CZ(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(lt(166));return pa(e),null}if(t=ag(Hu.current),AT(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ku]=e,r[I1]=s,t=(e.mode&1)!==0,n){case"dialog":oi("cancel",r),oi("close",r);break;case"iframe":case"object":case"embed":oi("load",r);break;case"video":case"audio":for(i=0;i<L_.length;i++)oi(L_[i],r);break;case"source":oi("error",r);break;case"img":case"image":case"link":oi("error",r),oi("load",r);break;case"details":oi("toggle",r);break;case"input":n6(r,s),oi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},oi("invalid",r);break;case"textarea":i6(r,s),oi("invalid",r)}DL(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&ET(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ET(r.textContent,o,t),i=["children",""+o]):A1.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&oi("scroll",r)}switch(n){case"input":gT(r),r6(r,s,!0);break;case"textarea":gT(r),s6(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=GC)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rY(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ku]=e,t[I1]=r,MZ(t,e,!1,!1),e.stateNode=t;e:{switch(a=FL(n,r),n){case"dialog":oi("cancel",t),oi("close",t),i=r;break;case"iframe":case"object":case"embed":oi("load",t),i=r;break;case"video":case"audio":for(i=0;i<L_.length;i++)oi(L_[i],t);i=r;break;case"source":oi("error",t),i=r;break;case"img":case"image":case"link":oi("error",t),oi("load",t),i=r;break;case"details":oi("toggle",t),i=r;break;case"input":n6(t,r),i=kL(t,r),oi("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Mi({},r,{value:void 0}),oi("invalid",t);break;case"textarea":i6(t,r),i=IL(t,r),oi("invalid",t);break;default:i=r}DL(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?aY(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iY(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&T1(t,c):typeof c=="number"&&T1(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(A1.hasOwnProperty(s)?c!=null&&s==="onScroll"&&oi("scroll",t):c!=null&&UF(t,s,c,a))}switch(n){case"input":gT(t),r6(t,r,!1);break;case"textarea":gT(t),s6(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dp(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ox(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ox(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=GC)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pa(e),null;case 6:if(t&&e.stateNode!=null)NZ(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(lt(166));if(n=ag(D1.current),ag(Hu.current),AT(e)){if(r=e.stateNode,n=e.memoizedProps,r[ku]=e,(s=r.nodeValue!==n)&&(t=ul,t!==null))switch(t.tag){case 3:ET(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ET(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ku]=e,e.stateNode=r}return pa(e),null;case 13:if(di(Ei),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pi&&ll!==null&&e.mode&1&&!(e.flags&128))qY(),h0(),e.flags|=98560,s=!1;else if(s=AT(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(lt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(lt(317));s[ku]=e}else h0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pa(e),s=!1}else zc!==null&&(vD(zc),zc=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ei.current&1?Ss===0&&(Ss=3):wU())),e.updateQueue!==null&&(e.flags|=4),pa(e),null);case 4:return m0(),uD(t,e),t===null&&O1(e.stateNode.containerInfo),pa(e),null;case 10:return iU(e.type._context),pa(e),null;case 17:return Ao(e.type)&&qC(),pa(e),null;case 19:if(di(Ei),s=e.memoizedState,s===null)return pa(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Gw(s,!1);else{if(Ss!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=eN(t),a!==null){for(e.flags|=128,Gw(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ni(Ei,Ei.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xi()>y0&&(e.flags|=128,r=!0,Gw(s,!1),e.lanes=4194304)}else{if(!r)if(t=eN(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gw(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!pi)return pa(e),null}else 2*Xi()-s.renderingStartTime>y0&&n!==1073741824&&(e.flags|=128,r=!0,Gw(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xi(),e.sibling=null,n=Ei.current,ni(Ei,r?n&1|2:n&1),e):(pa(e),null);case 22:case 23:return bU(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?el&1073741824&&(pa(e),e.subtreeFlags&6&&(e.flags|=8192)):pa(e),null;case 24:return null;case 25:return null}throw Error(lt(156,e.tag))}function wye(t,e){switch(eU(e),e.tag){case 1:return Ao(e.type)&&qC(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return m0(),di(Eo),di(Aa),cU(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lU(e),null;case 13:if(di(Ei),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(lt(340));h0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return di(Ei),null;case 4:return m0(),null;case 10:return iU(e.type._context),null;case 22:case 23:return bU(),null;case 24:return null;default:return null}}var CT=!1,xa=!1,_ye=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function _x(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Li(t,e,r)}else n.current=null}function dD(t,e,n){try{n()}catch(r){Li(t,e,r)}}var X6=!1;function Sye(t,e){if(XL=VC,t=RY(),QF(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(o=a),h===s&&++d===r&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(KL={focusedElem:t,selectionRange:n},VC=!1,Lt=e;Lt!==null;)if(e=Lt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Lt=t;else for(;Lt!==null;){e=Lt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:kc(e.type,v),w);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(A){Li(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Lt=t;break}Lt=e.return}return g=X6,X6=!1,g}function Y_(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dD(e,n,s)}i=i.next}while(i!==r)}}function O2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fD(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PZ(t){var e=t.alternate;e!==null&&(t.alternate=null,PZ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ku],delete e[I1],delete e[QL],delete e[sye],delete e[aye])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jZ(t){return t.tag===5||t.tag===3||t.tag===4}function K6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jZ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=GC));else if(r!==4&&(t=t.child,t!==null))for(hD(t,e,n),t=t.sibling;t!==null;)hD(t,e,n),t=t.sibling}function pD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pD(t,e,n),t=t.sibling;t!==null;)pD(t,e,n),t=t.sibling}var na=null,Dc=!1;function lh(t,e,n){for(n=n.child;n!==null;)kZ(t,e,n),n=n.sibling}function kZ(t,e,n){if(Vu&&typeof Vu.onCommitFiberUnmount=="function")try{Vu.onCommitFiberUnmount(A2,n)}catch{}switch(n.tag){case 5:xa||_x(n,e);case 6:var r=na,i=Dc;na=null,lh(t,e,n),na=r,Dc=i,na!==null&&(Dc?(t=na,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):na.removeChild(n.stateNode));break;case 18:na!==null&&(Dc?(t=na,n=n.stateNode,t.nodeType===8?qO(t.parentNode,n):t.nodeType===1&&qO(t,n),P1(t)):qO(na,n.stateNode));break;case 4:r=na,i=Dc,na=n.stateNode.containerInfo,Dc=!0,lh(t,e,n),na=r,Dc=i;break;case 0:case 11:case 14:case 15:if(!xa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&dD(n,e,a),i=i.next}while(i!==r)}lh(t,e,n);break;case 1:if(!xa&&(_x(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Li(n,e,o)}lh(t,e,n);break;case 21:lh(t,e,n);break;case 22:n.mode&1?(xa=(r=xa)||n.memoizedState!==null,lh(t,e,n),xa=r):lh(t,e,n);break;default:lh(t,e,n)}}function Y6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _ye),e.forEach(function(r){var i=kye.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _c(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:na=o.stateNode,Dc=!1;break e;case 3:na=o.stateNode.containerInfo,Dc=!0;break e;case 4:na=o.stateNode.containerInfo,Dc=!0;break e}o=o.return}if(na===null)throw Error(lt(160));kZ(s,a,i),na=null,Dc=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Li(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OZ(e,t),e=e.sibling}function OZ(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_c(e,t),Eu(t),r&4){try{Y_(3,t,t.return),O2(3,t)}catch(v){Li(t,t.return,v)}try{Y_(5,t,t.return)}catch(v){Li(t,t.return,v)}}break;case 1:_c(e,t),Eu(t),r&512&&n!==null&&_x(n,n.return);break;case 5:if(_c(e,t),Eu(t),r&512&&n!==null&&_x(n,n.return),t.flags&32){var i=t.stateNode;try{T1(i,"")}catch(v){Li(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&tY(i,s),FL(o,a);var u=FL(o,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?aY(i,f):d==="dangerouslySetInnerHTML"?iY(i,f):d==="children"?T1(i,f):UF(i,d,f,u)}switch(o){case"input":OL(i,s);break;case"textarea":nY(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ox(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ox(i,!!s.multiple,s.defaultValue,!0):Ox(i,!!s.multiple,s.multiple?[]:"",!1))}i[I1]=s}catch(v){Li(t,t.return,v)}}break;case 6:if(_c(e,t),Eu(t),r&4){if(t.stateNode===null)throw Error(lt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Li(t,t.return,v)}}break;case 3:if(_c(e,t),Eu(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{P1(e.containerInfo)}catch(v){Li(t,t.return,v)}break;case 4:_c(e,t),Eu(t);break;case 13:_c(e,t),Eu(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vU=Xi())),r&4&&Y6(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xa=(u=xa)||d,_c(e,t),xa=u):_c(e,t),Eu(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Lt=t,d=t.child;d!==null;){for(f=Lt=d;Lt!==null;){switch(h=Lt,p=h.child,h.tag){case 0:case 11:case 14:case 15:Y_(4,h,h.return);break;case 1:_x(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Li(r,n,v)}}break;case 5:_x(h,h.return);break;case 22:if(h.memoizedState!==null){Q6(f);continue}}p!==null?(p.return=h,Lt=p):Q6(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=sY("display",a))}catch(v){Li(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Li(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_c(e,t),Eu(t),r&4&&Y6(t);break;case 21:break;default:_c(e,t),Eu(t)}}function Eu(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jZ(n)){var r=n;break e}n=n.return}throw Error(lt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(T1(i,""),r.flags&=-33);var s=K6(t);pD(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=K6(t);hD(t,o,a);break;default:throw Error(lt(161))}}catch(c){Li(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Eye(t,e,n){Lt=t,RZ(t)}function RZ(t,e,n){for(var r=(t.mode&1)!==0;Lt!==null;){var i=Lt,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||CT;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||xa;o=CT;var u=xa;if(CT=a,(xa=c)&&!u)for(Lt=i;Lt!==null;)a=Lt,c=a.child,a.tag===22&&a.memoizedState!==null?J6(i):c!==null?(c.return=a,Lt=c):J6(i);for(;s!==null;)Lt=s,RZ(s),s=s.sibling;Lt=i,CT=o,xa=u}Z6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Lt=s):Z6(t)}}function Z6(t){for(;Lt!==null;){var e=Lt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xa||O2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xa)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kc(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&I6(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}I6(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&P1(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}xa||e.flags&512&&fD(e)}catch(h){Li(e,e.return,h)}}if(e===t){Lt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Lt=n;break}Lt=e.return}}function Q6(t){for(;Lt!==null;){var e=Lt;if(e===t){Lt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Lt=n;break}Lt=e.return}}function J6(t){for(;Lt!==null;){var e=Lt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{O2(4,e)}catch(c){Li(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Li(e,i,c)}}var s=e.return;try{fD(e)}catch(c){Li(e,s,c)}break;case 5:var a=e.return;try{fD(e)}catch(c){Li(e,a,c)}}}catch(c){Li(e,e.return,c)}if(e===t){Lt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Lt=o;break}Lt=e.return}}var Aye=Math.ceil,rN=wf.ReactCurrentDispatcher,gU=wf.ReactCurrentOwner,ec=wf.ReactCurrentBatchConfig,mr=0,Xs=null,os=null,aa=0,el=0,Sx=Sp(0),Ss=0,z1=null,Gg=0,R2=0,yU=0,Z_=null,xo=null,vU=0,y0=1/0,Id=null,iN=!1,mD=null,rp=null,NT=!1,qh=null,sN=0,Q_=0,gD=null,vC=-1,xC=0;function Xa(){return mr&6?Xi():vC!==-1?vC:vC=Xi()}function ip(t){return t.mode&1?mr&2&&aa!==0?aa&-aa:lye.transition!==null?(xC===0&&(xC=vY()),xC):(t=Rr,t!==0||(t=window.event,t=t===void 0?16:AY(t.type)),t):1}function Kc(t,e,n,r){if(50<Q_)throw Q_=0,gD=null,Error(lt(185));gE(t,n,r),(!(mr&2)||t!==Xs)&&(t===Xs&&(!(mr&2)&&(R2|=n),Ss===4&&kh(t,aa)),To(t,r),n===1&&mr===0&&!(e.mode&1)&&(y0=Xi()+500,P2&&Ep()))}function To(t,e){var n=t.callbackNode;lge(t,e);var r=$C(t,t===Xs?aa:0);if(r===0)n!==null&&l6(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&l6(n),e===1)t.tag===0?oye(eV.bind(null,t)):HY(eV.bind(null,t)),rye(function(){!(mr&6)&&Ep()}),n=null;else{switch(xY(r)){case 1:n=HF;break;case 4:n=gY;break;case 16:n=zC;break;case 536870912:n=yY;break;default:n=zC}n=$Z(n,IZ.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function IZ(t,e){if(vC=-1,xC=0,mr&6)throw Error(lt(327));var n=t.callbackNode;if(Fx()&&t.callbackNode!==n)return null;var r=$C(t,t===Xs?aa:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=aN(t,r);else{e=r;var i=mr;mr|=2;var s=DZ();(Xs!==t||aa!==e)&&(Id=null,y0=Xi()+500,Pg(t,e));do try{Cye();break}catch(o){LZ(t,o)}while(!0);rU(),rN.current=s,mr=i,os!==null?e=0:(Xs=null,aa=0,e=Ss)}if(e!==0){if(e===2&&(i=VL(t),i!==0&&(r=i,e=yD(t,i))),e===1)throw n=z1,Pg(t,0),kh(t,r),To(t,Xi()),n;if(e===6)kh(t,r);else{if(i=t.current.alternate,!(r&30)&&!Tye(i)&&(e=aN(t,r),e===2&&(s=VL(t),s!==0&&(r=s,e=yD(t,s))),e===1))throw n=z1,Pg(t,0),kh(t,r),To(t,Xi()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(lt(345));case 2:$m(t,xo,Id);break;case 3:if(kh(t,r),(r&130023424)===r&&(e=vU+500-Xi(),10<e)){if($C(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xa(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ZL($m.bind(null,t,xo,Id),e);break}$m(t,xo,Id);break;case 4:if(kh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Xc(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Xi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Aye(r/1960))-r,10<r){t.timeoutHandle=ZL($m.bind(null,t,xo,Id),r);break}$m(t,xo,Id);break;case 5:$m(t,xo,Id);break;default:throw Error(lt(329))}}}return To(t,Xi()),t.callbackNode===n?IZ.bind(null,t):null}function yD(t,e){var n=Z_;return t.current.memoizedState.isDehydrated&&(Pg(t,e).flags|=256),t=aN(t,e),t!==2&&(e=xo,xo=n,e!==null&&vD(e)),t}function vD(t){xo===null?xo=t:xo.push.apply(xo,t)}function Tye(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yc(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kh(t,e){for(e&=~yU,e&=~R2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xc(e),r=1<<n;t[n]=-1,e&=~r}}function eV(t){if(mr&6)throw Error(lt(327));Fx();var e=$C(t,0);if(!(e&1))return To(t,Xi()),null;var n=aN(t,e);if(t.tag!==0&&n===2){var r=VL(t);r!==0&&(e=r,n=yD(t,r))}if(n===1)throw n=z1,Pg(t,0),kh(t,e),To(t,Xi()),n;if(n===6)throw Error(lt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$m(t,xo,Id),To(t,Xi()),null}function xU(t,e){var n=mr;mr|=1;try{return t(e)}finally{mr=n,mr===0&&(y0=Xi()+500,P2&&Ep())}}function qg(t){qh!==null&&qh.tag===0&&!(mr&6)&&Fx();var e=mr;mr|=1;var n=ec.transition,r=Rr;try{if(ec.transition=null,Rr=1,t)return t()}finally{Rr=r,ec.transition=n,mr=e,!(mr&6)&&Ep()}}function bU(){el=Sx.current,di(Sx)}function Pg(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nye(n)),os!==null)for(n=os.return;n!==null;){var r=n;switch(eU(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qC();break;case 3:m0(),di(Eo),di(Aa),cU();break;case 5:lU(r);break;case 4:m0();break;case 13:di(Ei);break;case 19:di(Ei);break;case 10:iU(r.type._context);break;case 22:case 23:bU()}n=n.return}if(Xs=t,os=t=sp(t.current,null),aa=el=e,Ss=0,z1=null,yU=R2=Gg=0,xo=Z_=null,sg!==null){for(e=0;e<sg.length;e++)if(n=sg[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}sg=null}return t}function LZ(t,e){do{var n=os;try{if(rU(),mC.current=nN,tN){for(var r=Ti.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tN=!1}if(Wg=0,Ws=ws=Ti=null,K_=!1,F1=0,gU.current=null,n===null||n.return===null){Ss=1,z1=e,os=null;break}e:{var s=t,a=n.return,o=n,c=e;if(e=aa,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=z6(a);if(p!==null){p.flags&=-257,$6(p,a,o,s,e),p.mode&1&&B6(s,u,e),e=p,c=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(c),e.updateQueue=v}else g.add(c);break e}else{if(!(e&1)){B6(s,u,e),wU();break e}c=Error(lt(426))}}else if(pi&&o.mode&1){var w=z6(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),$6(w,a,o,s,e),tU(g0(c,o));break e}}s=c=g0(c,o),Ss!==4&&(Ss=2),Z_===null?Z_=[s]:Z_.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=xZ(s,c,e);R6(s,x);break e;case 1:o=c;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(rp===null||!rp.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=bZ(s,o,e);R6(s,A);break e}}s=s.return}while(s!==null)}UZ(n)}catch(C){e=C,os===n&&n!==null&&(os=n=n.return);continue}break}while(!0)}function DZ(){var t=rN.current;return rN.current=nN,t===null?nN:t}function wU(){(Ss===0||Ss===3||Ss===2)&&(Ss=4),Xs===null||!(Gg&268435455)&&!(R2&268435455)||kh(Xs,aa)}function aN(t,e){var n=mr;mr|=2;var r=DZ();(Xs!==t||aa!==e)&&(Id=null,Pg(t,e));do try{Mye();break}catch(i){LZ(t,i)}while(!0);if(rU(),mr=n,rN.current=r,os!==null)throw Error(lt(261));return Xs=null,aa=0,Ss}function Mye(){for(;os!==null;)FZ(os)}function Cye(){for(;os!==null&&!Jme();)FZ(os)}function FZ(t){var e=zZ(t.alternate,t,el);t.memoizedProps=t.pendingProps,e===null?UZ(t):os=e,gU.current=null}function UZ(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wye(n,e),n!==null){n.flags&=32767,os=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ss=6,os=null;return}}else if(n=bye(n,e,el),n!==null){os=n;return}if(e=e.sibling,e!==null){os=e;return}os=e=t}while(e!==null);Ss===0&&(Ss=5)}function $m(t,e,n){var r=Rr,i=ec.transition;try{ec.transition=null,Rr=1,Nye(t,e,n,r)}finally{ec.transition=i,Rr=r}return null}function Nye(t,e,n,r){do Fx();while(qh!==null);if(mr&6)throw Error(lt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(lt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cge(t,s),t===Xs&&(os=Xs=null,aa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||NT||(NT=!0,$Z(zC,function(){return Fx(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ec.transition,ec.transition=null;var a=Rr;Rr=1;var o=mr;mr|=4,gU.current=null,Sye(t,n),OZ(n,t),Kge(KL),VC=!!XL,KL=XL=null,t.current=n,Eye(n),ege(),mr=o,Rr=a,ec.transition=s}else t.current=n;if(NT&&(NT=!1,qh=t,sN=i),s=t.pendingLanes,s===0&&(rp=null),rge(n.stateNode),To(t,Xi()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(iN)throw iN=!1,t=mD,mD=null,t;return sN&1&&t.tag!==0&&Fx(),s=t.pendingLanes,s&1?t===gD?Q_++:(Q_=0,gD=t):Q_=0,Ep(),null}function Fx(){if(qh!==null){var t=xY(sN),e=ec.transition,n=Rr;try{if(ec.transition=null,Rr=16>t?16:t,qh===null)var r=!1;else{if(t=qh,qh=null,sN=0,mr&6)throw Error(lt(331));var i=mr;for(mr|=4,Lt=t.current;Lt!==null;){var s=Lt,a=s.child;if(Lt.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Lt=u;Lt!==null;){var d=Lt;switch(d.tag){case 0:case 11:case 15:Y_(8,d,s)}var f=d.child;if(f!==null)f.return=d,Lt=f;else for(;Lt!==null;){d=Lt;var h=d.sibling,p=d.return;if(PZ(d),d===u){Lt=null;break}if(h!==null){h.return=p,Lt=h;break}Lt=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Lt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Lt=a;else e:for(;Lt!==null;){if(s=Lt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Y_(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Lt=x;break e}Lt=s.return}}var _=t.current;for(Lt=_;Lt!==null;){a=Lt;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Lt=S;else e:for(a=_;Lt!==null;){if(o=Lt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:O2(9,o)}}catch(C){Li(o,o.return,C)}if(o===a){Lt=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,Lt=A;break e}Lt=o.return}}if(mr=i,Ep(),Vu&&typeof Vu.onPostCommitFiberRoot=="function")try{Vu.onPostCommitFiberRoot(A2,t)}catch{}r=!0}return r}finally{Rr=n,ec.transition=e}}return!1}function tV(t,e,n){e=g0(n,e),e=xZ(t,e,1),t=np(t,e,1),e=Xa(),t!==null&&(gE(t,1,e),To(t,e))}function Li(t,e,n){if(t.tag===3)tV(t,t,n);else for(;e!==null;){if(e.tag===3){tV(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rp===null||!rp.has(r))){t=g0(n,t),t=bZ(e,t,1),e=np(e,t,1),t=Xa(),e!==null&&(gE(e,1,t),To(e,t));break}}e=e.return}}function Pye(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xa(),t.pingedLanes|=t.suspendedLanes&n,Xs===t&&(aa&n)===n&&(Ss===4||Ss===3&&(aa&130023424)===aa&&500>Xi()-vU?Pg(t,0):yU|=n),To(t,e)}function BZ(t,e){e===0&&(t.mode&1?(e=xT,xT<<=1,!(xT&130023424)&&(xT=4194304)):e=1);var n=Xa();t=of(t,e),t!==null&&(gE(t,e,n),To(t,n))}function jye(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BZ(t,n)}function kye(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(lt(314))}r!==null&&r.delete(e),BZ(t,n)}var zZ;zZ=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Eo.current)wo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wo=!1,xye(t,e,n);wo=!!(t.flags&131072)}else wo=!1,pi&&e.flags&1048576&&WY(e,YC,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yC(t,e),t=e.pendingProps;var i=f0(e,Aa.current);Dx(e,n),i=dU(null,e,r,t,i,n);var s=fU();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ao(r)?(s=!0,XC(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,aU(e),i.updater=k2,e.stateNode=i,i._reactInternals=e,iD(e,r,t,n),e=oD(null,e,r,!0,s,n)):(e.tag=0,pi&&s&&JF(e),Va(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yC(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Rye(r),t=kc(r,t),i){case 0:e=aD(null,e,r,t,n);break e;case 1:e=W6(null,e,r,t,n);break e;case 11:e=V6(null,e,r,t,n);break e;case 14:e=H6(null,e,r,kc(r.type,t),n);break e}throw Error(lt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kc(r,i),aD(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kc(r,i),W6(t,e,r,i,n);case 3:e:{if(EZ(e),t===null)throw Error(lt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZY(t,e),JC(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=g0(Error(lt(423)),e),e=G6(t,e,r,n,i);break e}else if(r!==i){i=g0(Error(lt(424)),e),e=G6(t,e,r,n,i);break e}else for(ll=tp(e.stateNode.containerInfo.firstChild),ul=e,pi=!0,zc=null,n=KY(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(h0(),r===i){e=lf(t,e,n);break e}Va(t,e,r,n)}e=e.child}return e;case 5:return QY(e),t===null&&tD(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,YL(r,i)?a=null:s!==null&&YL(r,s)&&(e.flags|=32),SZ(t,e),Va(t,e,a,n),e.child;case 6:return t===null&&tD(e),null;case 13:return AZ(t,e,n);case 4:return oU(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=p0(e,null,r,n):Va(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kc(r,i),V6(t,e,r,i,n);case 7:return Va(t,e,e.pendingProps,n),e.child;case 8:return Va(t,e,e.pendingProps.children,n),e.child;case 12:return Va(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ni(ZC,r._currentValue),r._currentValue=a,s!==null)if(Yc(s.value,a)){if(s.children===i.children&&!Eo.current){e=lf(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Yd(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),nD(s.return,n,e),o.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(lt(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),nD(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Va(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dx(e,n),i=rc(i),r=r(i),e.flags|=1,Va(t,e,r,n),e.child;case 14:return r=e.type,i=kc(r,e.pendingProps),i=kc(r.type,i),H6(t,e,r,i,n);case 15:return wZ(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kc(r,i),yC(t,e),e.tag=1,Ao(r)?(t=!0,XC(e)):t=!1,Dx(e,n),vZ(e,r,i),iD(e,r,i,n),oD(null,e,r,!0,t,n);case 19:return TZ(t,e,n);case 22:return _Z(t,e,n)}throw Error(lt(156,e.tag))};function $Z(t,e){return mY(t,e)}function Oye(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zl(t,e,n,r){return new Oye(t,e,n,r)}function _U(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rye(t){if(typeof t=="function")return _U(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zF)return 11;if(t===$F)return 14}return 2}function sp(t,e){var n=t.alternate;return n===null?(n=Zl(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bC(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")_U(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case hx:return jg(n.children,i,s,e);case BF:a=8,i|=8;break;case CL:return t=Zl(12,n,e,i|2),t.elementType=CL,t.lanes=s,t;case NL:return t=Zl(13,n,e,i),t.elementType=NL,t.lanes=s,t;case PL:return t=Zl(19,n,e,i),t.elementType=PL,t.lanes=s,t;case QK:return I2(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YK:a=10;break e;case ZK:a=9;break e;case zF:a=11;break e;case $F:a=14;break e;case Th:a=16,r=null;break e}throw Error(lt(130,t==null?t:typeof t,""))}return e=Zl(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function jg(t,e,n,r){return t=Zl(7,t,r,e),t.lanes=n,t}function I2(t,e,n,r){return t=Zl(22,t,r,e),t.elementType=QK,t.lanes=n,t.stateNode={isHidden:!1},t}function tR(t,e,n){return t=Zl(6,t,null,e),t.lanes=n,t}function nR(t,e,n){return e=Zl(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Iye(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=LO(0),this.expirationTimes=LO(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=LO(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function SU(t,e,n,r,i,s,a,o,c){return t=new Iye(t,e,n,o,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zl(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},aU(s),t}function Lye(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fx,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VZ(t){if(!t)return fp;t=t._reactInternals;e:{if(yy(t)!==t||t.tag!==1)throw Error(lt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ao(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(lt(171))}if(t.tag===1){var n=t.type;if(Ao(n))return VY(t,n,e)}return e}function HZ(t,e,n,r,i,s,a,o,c){return t=SU(n,r,!0,t,i,s,a,o,c),t.context=VZ(null),n=t.current,r=Xa(),i=ip(n),s=Yd(r,i),s.callback=e??null,np(n,s,i),t.current.lanes=i,gE(t,i,r),To(t,r),t}function L2(t,e,n,r){var i=e.current,s=Xa(),a=ip(i);return n=VZ(n),e.context===null?e.context=n:e.pendingContext=n,e=Yd(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=np(i,e,a),t!==null&&(Kc(t,i,a,s),pC(t,i,a)),a}function oN(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nV(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function EU(t,e){nV(t,e),(t=t.alternate)&&nV(t,e)}function Dye(){return null}var WZ=typeof reportError=="function"?reportError:function(t){console.error(t)};function AU(t){this._internalRoot=t}D2.prototype.render=AU.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(lt(409));L2(t,e,null,null)};D2.prototype.unmount=AU.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qg(function(){L2(null,t,null,null)}),e[af]=null}};function D2(t){this._internalRoot=t}D2.prototype.unstable_scheduleHydration=function(t){if(t){var e=_Y();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jh.length&&e!==0&&e<jh[n].priority;n++);jh.splice(n,0,t),n===0&&EY(t)}};function TU(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function F2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rV(){}function Fye(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=oN(a);s.call(u)}}var a=HZ(e,r,t,0,null,!1,!1,"",rV);return t._reactRootContainer=a,t[af]=a.current,O1(t.nodeType===8?t.parentNode:t),qg(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=oN(c);o.call(u)}}var c=SU(t,0,!1,null,null,!1,!1,"",rV);return t._reactRootContainer=c,t[af]=c.current,O1(t.nodeType===8?t.parentNode:t),qg(function(){L2(e,c,n,r)}),c}function U2(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=oN(a);o.call(c)}}L2(e,a,t,i)}else a=Fye(n,e,t,i,r);return oN(a)}bY=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=I_(e.pendingLanes);n!==0&&(WF(e,n|1),To(e,Xi()),!(mr&6)&&(y0=Xi()+500,Ep()))}break;case 13:qg(function(){var r=of(t,1);if(r!==null){var i=Xa();Kc(r,t,1,i)}}),EU(t,1)}};GF=function(t){if(t.tag===13){var e=of(t,134217728);if(e!==null){var n=Xa();Kc(e,t,134217728,n)}EU(t,134217728)}};wY=function(t){if(t.tag===13){var e=ip(t),n=of(t,e);if(n!==null){var r=Xa();Kc(n,t,e,r)}EU(t,e)}};_Y=function(){return Rr};SY=function(t,e){var n=Rr;try{return Rr=t,e()}finally{Rr=n}};BL=function(t,e,n){switch(e){case"input":if(OL(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=N2(r);if(!i)throw Error(lt(90));eY(r),OL(r,i)}}}break;case"textarea":nY(t,n);break;case"select":e=n.value,e!=null&&Ox(t,!!n.multiple,e,!1)}};cY=xU;uY=qg;var Uye={usingClientEntryPoint:!1,Events:[vE,yx,N2,oY,lY,xU]},qw={findFiberByHostInstance:ig,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bye={bundleType:qw.bundleType,version:qw.version,rendererPackageName:qw.rendererPackageName,rendererConfig:qw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wf.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hY(t),t===null?null:t.stateNode},findFiberByHostInstance:qw.findFiberByHostInstance||Dye,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var PT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!PT.isDisabled&&PT.supportsFiber)try{A2=PT.inject(Bye),Vu=PT}catch{}}gl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uye;gl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TU(e))throw Error(lt(200));return Lye(t,e,null,n)};gl.createRoot=function(t,e){if(!TU(t))throw Error(lt(299));var n=!1,r="",i=WZ;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=SU(t,1,!1,null,null,n,!1,r,i),t[af]=e.current,O1(t.nodeType===8?t.parentNode:t),new AU(e)};gl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(lt(188)):(t=Object.keys(t).join(","),Error(lt(268,t)));return t=hY(e),t=t===null?null:t.stateNode,t};gl.flushSync=function(t){return qg(t)};gl.hydrate=function(t,e,n){if(!F2(e))throw Error(lt(200));return U2(null,t,e,!0,n)};gl.hydrateRoot=function(t,e,n){if(!TU(t))throw Error(lt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=WZ;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=HZ(e,null,t,1,n??null,i,!1,s,a),t[af]=e.current,O1(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new D2(e)};gl.render=function(t,e,n){if(!F2(e))throw Error(lt(200));return U2(null,t,e,!1,n)};gl.unmountComponentAtNode=function(t){if(!F2(t))throw Error(lt(40));return t._reactRootContainer?(qg(function(){U2(null,null,t,!1,function(){t._reactRootContainer=null,t[af]=null})}),!0):!1};gl.unstable_batchedUpdates=xU;gl.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!F2(n))throw Error(lt(200));if(t==null||t._reactInternals===void 0)throw Error(lt(38));return U2(t,e,n,!1,r)};gl.version="18.3.1-next-f1338f8080-20240426";function GZ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GZ)}catch(t){console.error(t)}}GZ(),GK.exports=gl;var lb=GK.exports;const qZ=cr(lb);var iV=lb;TL.createRoot=iV.createRoot,TL.hydrateRoot=iV.hydrateRoot;var cb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zye={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Dh,jF,bK,$ye=(bK=class{constructor(){Qt(this,Dh,zye);Qt(this,jF,!1)}setTimeoutProvider(t){At(this,Dh,t)}setTimeout(t,e){return fe(this,Dh).setTimeout(t,e)}clearTimeout(t){fe(this,Dh).clearTimeout(t)}setInterval(t,e){return fe(this,Dh).setInterval(t,e)}clearInterval(t){fe(this,Dh).clearInterval(t)}},Dh=new WeakMap,jF=new WeakMap,bK),og=new $ye;function Vye(t){setTimeout(t,0)}var Xg=typeof window>"u"||"Deno"in globalThis;function Ha(){}function Hye(t,e){return typeof t=="function"?t(e):t}function xD(t){return typeof t=="number"&&t>=0&&t!==1/0}function XZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ap(t,e){return typeof t=="function"?t(e):t}function Wl(t,e){return typeof t=="function"?t(e):t}function sV(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==MU(a,e.options))return!1}else if(!$1(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function aV(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Kg(e.options.mutationKey)!==Kg(s))return!1}else if(!$1(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function MU(t,e){return((e==null?void 0:e.queryKeyHashFn)||Kg)(t)}function Kg(t){return JSON.stringify(t,(e,n)=>bD(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function $1(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$1(t[n],e[n])):!1}var Wye=Object.prototype.hasOwnProperty;function KZ(t,e){if(t===e)return t;const n=oV(t)&&oV(e);if(!n&&!(bD(t)&&bD(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,o=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:s[u],f=t[d],h=e[d];if(f===h){o[d]=f,(n?u<i:Wye.call(t,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const p=KZ(f,h);o[d]=p,p===f&&c++}return i===a&&c===i?t:o}function lN(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function oV(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bD(t){if(!lV(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lV(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lV(t){return Object.prototype.toString.call(t)==="[object Object]"}function Gye(t){return new Promise(e=>{og.setTimeout(e,t)})}function wD(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?KZ(t,e):e}function qye(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Xye(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var CU=Symbol();function YZ(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===CU?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function ZZ(t,e){return typeof t=="function"?t(...e):!!t}var bg,Fh,Jx,wK,Kye=(wK=class extends cb{constructor(){super();Qt(this,bg);Qt(this,Fh);Qt(this,Jx);At(this,Jx,e=>{if(!Xg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){fe(this,Fh)||this.setEventListener(fe(this,Jx))}onUnsubscribe(){var e;this.hasListeners()||((e=fe(this,Fh))==null||e.call(this),At(this,Fh,void 0))}setEventListener(e){var n;At(this,Jx,e),(n=fe(this,Fh))==null||n.call(this),At(this,Fh,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){fe(this,bg)!==e&&(At(this,bg,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof fe(this,bg)=="boolean"?fe(this,bg):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},bg=new WeakMap,Fh=new WeakMap,Jx=new WeakMap,wK),NU=new Kye;function _D(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Yye=Vye;function Zye(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=Yye;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var _s=Zye(),e0,Uh,t0,_K,Qye=(_K=class extends cb{constructor(){super();Qt(this,e0,!0);Qt(this,Uh);Qt(this,t0);At(this,t0,e=>{if(!Xg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){fe(this,Uh)||this.setEventListener(fe(this,t0))}onUnsubscribe(){var e;this.hasListeners()||((e=fe(this,Uh))==null||e.call(this),At(this,Uh,void 0))}setEventListener(e){var n;At(this,t0,e),(n=fe(this,Uh))==null||n.call(this),At(this,Uh,e(this.setOnline.bind(this)))}setOnline(e){fe(this,e0)!==e&&(At(this,e0,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return fe(this,e0)}},e0=new WeakMap,Uh=new WeakMap,t0=new WeakMap,_K),cN=new Qye;function Jye(t){return Math.min(1e3*2**t,3e4)}function QZ(t){return(t??"online")==="online"?cN.isOnline():!0}var SD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function JZ(t){let e=!1,n=0,r;const i=_D(),s=()=>i.status!=="pending",a=v=>{var w;if(!s()){const x=new SD(v);h(x),(w=t.onCancel)==null||w.call(t,x)}},o=()=>{e=!0},c=()=>{e=!1},u=()=>NU.isFocused()&&(t.networkMode==="always"||cN.isOnline())&&t.canRun(),d=()=>QZ(t.networkMode)&&t.canRun(),f=v=>{s()||(r==null||r(),i.resolve(v))},h=v=>{s()||(r==null||r(),i.reject(v))},p=()=>new Promise(v=>{var w;r=x=>{(s()||u())&&v(x)},(w=t.onPause)==null||w.call(t)}).then(()=>{var v;r=void 0,s()||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(s())return;let v;const w=n===0?t.initialPromise:void 0;try{v=w??t.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(f).catch(x=>{var T;if(s())return;const _=t.retry??(Xg?0:3),S=t.retryDelay??Jye,A=typeof S=="function"?S(n,x):S,C=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,x);if(e||!C){h(x);return}n++,(T=t.onFail)==null||T.call(t,n,x),Gye(A).then(()=>u()?void 0:p()).then(()=>{e?h(x):g()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),i)}}var wg,SK,eQ=(SK=class{constructor(){Qt(this,wg)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xD(this.gcTime)&&At(this,wg,og.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xg?1/0:5*60*1e3))}clearGcTimeout(){fe(this,wg)&&(og.clearTimeout(fe(this,wg)),At(this,wg,void 0))}},wg=new WeakMap,SK),_g,n0,Hl,Sg,Vs,uE,Eg,Ic,Rd,EK,eve=(EK=class extends eQ{constructor(e){super();Qt(this,Ic);Qt(this,_g);Qt(this,n0);Qt(this,Hl);Qt(this,Sg);Qt(this,Vs);Qt(this,uE);Qt(this,Eg);At(this,Eg,!1),At(this,uE,e.defaultOptions),this.setOptions(e.options),this.observers=[],At(this,Sg,e.client),At(this,Hl,fe(this,Sg).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,At(this,_g,cV(this.options)),this.state=e.state??fe(this,_g),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=fe(this,Vs))==null?void 0:e.promise}setOptions(e){if(this.options={...fe(this,uE),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=cV(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),At(this,_g,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&fe(this,Hl).remove(this)}setData(e,n){const r=wD(this.state.data,e,this.options);return Kn(this,Ic,Rd).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Kn(this,Ic,Rd).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=fe(this,Vs))==null?void 0:r.promise;return(i=fe(this,Vs))==null||i.cancel(e),n?n.then(Ha).catch(Ha):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(fe(this,_g))}isActive(){return this.observers.some(e=>Wl(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===CU||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ap(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!XZ(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=fe(this,Vs))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=fe(this,Vs))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),fe(this,Hl).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(fe(this,Vs)&&(fe(this,Eg)?fe(this,Vs).cancel({revert:!0}):fe(this,Vs).cancelRetry()),this.scheduleGc()),fe(this,Hl).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kn(this,Ic,Rd).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,d,f,h,p,g,v,w,x,_,S;if(this.state.fetchStatus!=="idle"&&((c=fe(this,Vs))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(fe(this,Vs))return fe(this,Vs).continueRetry(),fe(this,Vs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const A=this.observers.find(C=>C.options.queryFn);A&&this.setOptions(A.options)}const r=new AbortController,i=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(At(this,Eg,!0),r.signal)})},s=()=>{const A=YZ(this.options,n),T=(()=>{const N={client:fe(this,Sg),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return At(this,Eg,!1),this.options.persister?this.options.persister(A,T,this):A(T)},o=(()=>{const A={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:fe(this,Sg),state:this.state,fetchFn:s};return i(A),A})();(u=this.options.behavior)==null||u.onFetch(o,this),At(this,n0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Kn(this,Ic,Rd).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),At(this,Vs,JZ({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:A=>{A instanceof SD&&A.revert&&this.setState({...fe(this,n0),fetchStatus:"idle"}),r.abort()},onFail:(A,C)=>{Kn(this,Ic,Rd).call(this,{type:"failed",failureCount:A,error:C})},onPause:()=>{Kn(this,Ic,Rd).call(this,{type:"pause"})},onContinue:()=>{Kn(this,Ic,Rd).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const A=await fe(this,Vs).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(p=(h=fe(this,Hl).config).onSuccess)==null||p.call(h,A,this),(v=(g=fe(this,Hl).config).onSettled)==null||v.call(g,A,this.state.error,this),A}catch(A){if(A instanceof SD){if(A.silent)return fe(this,Vs).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Kn(this,Ic,Rd).call(this,{type:"error",error:A}),(x=(w=fe(this,Hl).config).onError)==null||x.call(w,A,this),(S=(_=fe(this,Hl).config).onSettled)==null||S.call(_,this.state.data,A,this),A}finally{this.scheduleGc()}}},_g=new WeakMap,n0=new WeakMap,Hl=new WeakMap,Sg=new WeakMap,Vs=new WeakMap,uE=new WeakMap,Eg=new WeakMap,Ic=new WeakSet,Rd=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tQ(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return At(this,n0,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),_s.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),fe(this,Hl).notify({query:this,type:"updated",action:e})})},EK);function tQ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QZ(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function cV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var po,lr,dE,za,Ag,r0,Fd,Bh,fE,i0,s0,Tg,Mg,zh,a0,Pr,D_,ED,AD,TD,MD,CD,ND,PD,nQ,AK,tve=(AK=class extends cb{constructor(e,n){super();Qt(this,Pr);Qt(this,po);Qt(this,lr);Qt(this,dE);Qt(this,za);Qt(this,Ag);Qt(this,r0);Qt(this,Fd);Qt(this,Bh);Qt(this,fE);Qt(this,i0);Qt(this,s0);Qt(this,Tg);Qt(this,Mg);Qt(this,zh);Qt(this,a0,new Set);this.options=n,At(this,po,e),At(this,Bh,null),At(this,Fd,_D()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(fe(this,lr).addObserver(this),uV(fe(this,lr),this.options)?Kn(this,Pr,D_).call(this):this.updateResult(),Kn(this,Pr,MD).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jD(fe(this,lr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jD(fe(this,lr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Kn(this,Pr,CD).call(this),Kn(this,Pr,ND).call(this),fe(this,lr).removeObserver(this)}setOptions(e){const n=this.options,r=fe(this,lr);if(this.options=fe(this,po).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wl(this.options.enabled,fe(this,lr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Kn(this,Pr,PD).call(this),fe(this,lr).setOptions(this.options),n._defaulted&&!lN(this.options,n)&&fe(this,po).getQueryCache().notify({type:"observerOptionsUpdated",query:fe(this,lr),observer:this});const i=this.hasListeners();i&&dV(fe(this,lr),r,this.options,n)&&Kn(this,Pr,D_).call(this),this.updateResult(),i&&(fe(this,lr)!==r||Wl(this.options.enabled,fe(this,lr))!==Wl(n.enabled,fe(this,lr))||ap(this.options.staleTime,fe(this,lr))!==ap(n.staleTime,fe(this,lr)))&&Kn(this,Pr,ED).call(this);const s=Kn(this,Pr,AD).call(this);i&&(fe(this,lr)!==r||Wl(this.options.enabled,fe(this,lr))!==Wl(n.enabled,fe(this,lr))||s!==fe(this,zh))&&Kn(this,Pr,TD).call(this,s)}getOptimisticResult(e){const n=fe(this,po).getQueryCache().build(fe(this,po),e),r=this.createResult(n,e);return rve(this,r)&&(At(this,za,r),At(this,r0,this.options),At(this,Ag,fe(this,lr).state)),r}getCurrentResult(){return fe(this,za)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&fe(this,Fd).status==="pending"&&fe(this,Fd).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){fe(this,a0).add(e)}getCurrentQuery(){return fe(this,lr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=fe(this,po).defaultQueryOptions(e),r=fe(this,po).getQueryCache().build(fe(this,po),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Kn(this,Pr,D_).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),fe(this,za)))}createResult(e,n){var U;const r=fe(this,lr),i=this.options,s=fe(this,za),a=fe(this,Ag),o=fe(this,r0),u=e!==r?e.state:fe(this,dE),{state:d}=e;let f={...d},h=!1,p;if(n._optimisticResults){const R=this.hasListeners(),I=!R&&uV(e,n),B=R&&dV(e,r,n,i);(I||B)&&(f={...f,...tQ(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:w}=f;p=f.data;let x=!1;if(n.placeholderData!==void 0&&p===void 0&&w==="pending"){let R;s!=null&&s.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(R=s.data,x=!0):R=typeof n.placeholderData=="function"?n.placeholderData((U=fe(this,s0))==null?void 0:U.state.data,fe(this,s0)):n.placeholderData,R!==void 0&&(w="success",p=wD(s==null?void 0:s.data,R,n),h=!0)}if(n.select&&p!==void 0&&!x)if(s&&p===(a==null?void 0:a.data)&&n.select===fe(this,fE))p=fe(this,i0);else try{At(this,fE,n.select),p=n.select(p),p=wD(s==null?void 0:s.data,p,n),At(this,i0,p),At(this,Bh,null)}catch(R){At(this,Bh,R)}fe(this,Bh)&&(g=fe(this,Bh),p=fe(this,i0),v=Date.now(),w="error");const _=f.fetchStatus==="fetching",S=w==="pending",A=w==="error",C=S&&_,T=p!==void 0,O={status:w,fetchStatus:f.fetchStatus,isPending:S,isSuccess:w==="success",isError:A,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!S,isLoadingError:A&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:A&&T,isStale:PU(e,n),refetch:this.refetch,promise:fe(this,Fd),isEnabled:Wl(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=G=>{O.status==="error"?G.reject(O.error):O.data!==void 0&&G.resolve(O.data)},I=()=>{const G=At(this,Fd,O.promise=_D());R(G)},B=fe(this,Fd);switch(B.status){case"pending":e.queryHash===r.queryHash&&R(B);break;case"fulfilled":(O.status==="error"||O.data!==B.value)&&I();break;case"rejected":(O.status!=="error"||O.error!==B.reason)&&I();break}}return O}updateResult(){const e=fe(this,za),n=this.createResult(fe(this,lr),this.options);if(At(this,Ag,fe(this,lr).state),At(this,r0,this.options),fe(this,Ag).data!==void 0&&At(this,s0,fe(this,lr)),lN(n,e))return;At(this,za,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!fe(this,a0).size)return!0;const a=new Set(s??fe(this,a0));return this.options.throwOnError&&a.add("error"),Object.keys(fe(this,za)).some(o=>{const c=o;return fe(this,za)[c]!==e[c]&&a.has(c)})};Kn(this,Pr,nQ).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Kn(this,Pr,MD).call(this)}},po=new WeakMap,lr=new WeakMap,dE=new WeakMap,za=new WeakMap,Ag=new WeakMap,r0=new WeakMap,Fd=new WeakMap,Bh=new WeakMap,fE=new WeakMap,i0=new WeakMap,s0=new WeakMap,Tg=new WeakMap,Mg=new WeakMap,zh=new WeakMap,a0=new WeakMap,Pr=new WeakSet,D_=function(e){Kn(this,Pr,PD).call(this);let n=fe(this,lr).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Ha)),n},ED=function(){Kn(this,Pr,CD).call(this);const e=ap(this.options.staleTime,fe(this,lr));if(Xg||fe(this,za).isStale||!xD(e))return;const r=XZ(fe(this,za).dataUpdatedAt,e)+1;At(this,Tg,og.setTimeout(()=>{fe(this,za).isStale||this.updateResult()},r))},AD=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(fe(this,lr)):this.options.refetchInterval)??!1},TD=function(e){Kn(this,Pr,ND).call(this),At(this,zh,e),!(Xg||Wl(this.options.enabled,fe(this,lr))===!1||!xD(fe(this,zh))||fe(this,zh)===0)&&At(this,Mg,og.setInterval(()=>{(this.options.refetchIntervalInBackground||NU.isFocused())&&Kn(this,Pr,D_).call(this)},fe(this,zh)))},MD=function(){Kn(this,Pr,ED).call(this),Kn(this,Pr,TD).call(this,Kn(this,Pr,AD).call(this))},CD=function(){fe(this,Tg)&&(og.clearTimeout(fe(this,Tg)),At(this,Tg,void 0))},ND=function(){fe(this,Mg)&&(og.clearInterval(fe(this,Mg)),At(this,Mg,void 0))},PD=function(){const e=fe(this,po).getQueryCache().build(fe(this,po),this.options);if(e===fe(this,lr))return;const n=fe(this,lr);At(this,lr,e),At(this,dE,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},nQ=function(e){_s.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(fe(this,za))}),fe(this,po).getQueryCache().notify({query:fe(this,lr),type:"observerResultsUpdated"})})},AK);function nve(t,e){return Wl(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function uV(t,e){return nve(t,e)||t.state.data!==void 0&&jD(t,e,e.refetchOnMount)}function jD(t,e,n){if(Wl(e.enabled,t)!==!1&&ap(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&PU(t,e)}return!1}function dV(t,e,n,r){return(t!==e||Wl(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&PU(t,n)}function PU(t,e){return Wl(e.enabled,t)!==!1&&t.isStaleByTime(ap(e.staleTime,t))}function rve(t,e){return!lN(t.getCurrentResult(),e)}function fV(t){return{onFetch:(e,n)=>{var d,f,h,p,g;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const w=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},x=YZ(e.options,e.fetchOptions),_=async(S,A,C)=>{if(v)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const N=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:A,direction:C?"backward":"forward",meta:e.options.meta};return w(I),I})(),O=await x(N),{maxPages:U}=e.options,R=C?Xye:qye;return{pages:R(S.pages,O,U),pageParams:R(S.pageParams,A,U)}};if(i&&s.length){const S=i==="backward",A=S?ive:hV,C={pages:s,pageParams:a},T=A(r,C);o=await _(C,T,S)}else{const S=t??s.length;do{const A=c===0?a[0]??r.initialPageParam:hV(r,o);if(c>0&&A==null)break;o=await _(o,A),c++}while(c<S)}return o};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function hV(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ive(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var hE,Nu,$a,Cg,Pu,_h,TK,sve=(TK=class extends eQ{constructor(e){super();Qt(this,Pu);Qt(this,hE);Qt(this,Nu);Qt(this,$a);Qt(this,Cg);At(this,hE,e.client),this.mutationId=e.mutationId,At(this,$a,e.mutationCache),At(this,Nu,[]),this.state=e.state||rQ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){fe(this,Nu).includes(e)||(fe(this,Nu).push(e),this.clearGcTimeout(),fe(this,$a).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){At(this,Nu,fe(this,Nu).filter(n=>n!==e)),this.scheduleGc(),fe(this,$a).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){fe(this,Nu).length||(this.state.status==="pending"?this.scheduleGc():fe(this,$a).remove(this))}continue(){var e;return((e=fe(this,Cg))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,c,u,d,f,h,p,g,v,w,x,_,S,A,C,T,N,O,U;const n=()=>{Kn(this,Pu,_h).call(this,{type:"continue"})},r={client:fe(this,hE),meta:this.options.meta,mutationKey:this.options.mutationKey};At(this,Cg,JZ({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,I)=>{Kn(this,Pu,_h).call(this,{type:"failed",failureCount:R,error:I})},onPause:()=>{Kn(this,Pu,_h).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>fe(this,$a).canRun(this)}));const i=this.state.status==="pending",s=!fe(this,Cg).canStart();try{if(i)n();else{Kn(this,Pu,_h).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=fe(this,$a).config).onMutate)==null?void 0:o.call(a,e,this,r));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));I!==this.state.context&&Kn(this,Pu,_h).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const R=await fe(this,Cg).start();return await((f=(d=fe(this,$a).config).onSuccess)==null?void 0:f.call(d,R,e,this.state.context,this,r)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,R,e,this.state.context,r)),await((v=(g=fe(this,$a).config).onSettled)==null?void 0:v.call(g,R,null,this.state.variables,this.state.context,this,r)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,R,null,e,this.state.context,r)),Kn(this,Pu,_h).call(this,{type:"success",data:R}),R}catch(R){try{throw await((S=(_=fe(this,$a).config).onError)==null?void 0:S.call(_,R,e,this.state.context,this,r)),await((C=(A=this.options).onError)==null?void 0:C.call(A,R,e,this.state.context,r)),await((N=(T=fe(this,$a).config).onSettled)==null?void 0:N.call(T,void 0,R,this.state.variables,this.state.context,this,r)),await((U=(O=this.options).onSettled)==null?void 0:U.call(O,void 0,R,e,this.state.context,r)),R}finally{Kn(this,Pu,_h).call(this,{type:"error",error:R})}}finally{fe(this,$a).runNext(this)}}},hE=new WeakMap,Nu=new WeakMap,$a=new WeakMap,Cg=new WeakMap,Pu=new WeakSet,_h=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),_s.batch(()=>{fe(this,Nu).forEach(r=>{r.onMutationUpdate(e)}),fe(this,$a).notify({mutation:this,type:"updated",action:e})})},TK);function rQ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ud,Lc,pE,MK,ave=(MK=class extends cb{constructor(e={}){super();Qt(this,Ud);Qt(this,Lc);Qt(this,pE);this.config=e,At(this,Ud,new Set),At(this,Lc,new Map),At(this,pE,0)}build(e,n,r){const i=new sve({client:e,mutationCache:this,mutationId:++hT(this,pE)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){fe(this,Ud).add(e);const n=jT(e);if(typeof n=="string"){const r=fe(this,Lc).get(n);r?r.push(e):fe(this,Lc).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(fe(this,Ud).delete(e)){const n=jT(e);if(typeof n=="string"){const r=fe(this,Lc).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&fe(this,Lc).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=jT(e);if(typeof n=="string"){const r=fe(this,Lc).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=jT(e);if(typeof n=="string"){const i=(r=fe(this,Lc).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_s.batch(()=>{fe(this,Ud).forEach(e=>{this.notify({type:"removed",mutation:e})}),fe(this,Ud).clear(),fe(this,Lc).clear()})}getAll(){return Array.from(fe(this,Ud))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>aV(n,r))}findAll(e={}){return this.getAll().filter(n=>aV(e,n))}notify(e){_s.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return _s.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ha))))}},Ud=new WeakMap,Lc=new WeakMap,pE=new WeakMap,MK);function jT(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Bd,$h,mo,zd,rf,wC,kD,CK,ove=(CK=class extends cb{constructor(n,r){super();Qt(this,rf);Qt(this,Bd);Qt(this,$h);Qt(this,mo);Qt(this,zd);At(this,Bd,n),this.setOptions(r),this.bindMethods(),Kn(this,rf,wC).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=fe(this,Bd).defaultMutationOptions(n),lN(this.options,r)||fe(this,Bd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:fe(this,mo),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Kg(r.mutationKey)!==Kg(this.options.mutationKey)?this.reset():((i=fe(this,mo))==null?void 0:i.state.status)==="pending"&&fe(this,mo).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=fe(this,mo))==null||n.removeObserver(this)}onMutationUpdate(n){Kn(this,rf,wC).call(this),Kn(this,rf,kD).call(this,n)}getCurrentResult(){return fe(this,$h)}reset(){var n;(n=fe(this,mo))==null||n.removeObserver(this),At(this,mo,void 0),Kn(this,rf,wC).call(this),Kn(this,rf,kD).call(this)}mutate(n,r){var i;return At(this,zd,r),(i=fe(this,mo))==null||i.removeObserver(this),At(this,mo,fe(this,Bd).getMutationCache().build(fe(this,Bd),this.options)),fe(this,mo).addObserver(this),fe(this,mo).execute(n)}},Bd=new WeakMap,$h=new WeakMap,mo=new WeakMap,zd=new WeakMap,rf=new WeakSet,wC=function(){var r;const n=((r=fe(this,mo))==null?void 0:r.state)??rQ();At(this,$h,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},kD=function(n){_s.batch(()=>{var r,i,s,a,o,c,u,d;if(fe(this,zd)&&this.hasListeners()){const f=fe(this,$h).variables,h=fe(this,$h).context,p={client:fe(this,Bd),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=fe(this,zd)).onSuccess)==null||i.call(r,n.data,f,h,p),(a=(s=fe(this,zd)).onSettled)==null||a.call(s,n.data,null,f,h,p)):(n==null?void 0:n.type)==="error"&&((c=(o=fe(this,zd)).onError)==null||c.call(o,n.error,f,h,p),(d=(u=fe(this,zd)).onSettled)==null||d.call(u,void 0,n.error,f,h,p))}this.listeners.forEach(f=>{f(fe(this,$h))})})},CK),ju,NK,lve=(NK=class extends cb{constructor(e={}){super();Qt(this,ju);this.config=e,At(this,ju,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??MU(i,n);let a=this.get(s);return a||(a=new eve({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){fe(this,ju).has(e.queryHash)||(fe(this,ju).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=fe(this,ju).get(e.queryHash);n&&(e.destroy(),n===e&&fe(this,ju).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_s.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return fe(this,ju).get(e)}getAll(){return[...fe(this,ju).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sV(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>sV(e,r)):n}notify(e){_s.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){_s.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_s.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ju=new WeakMap,NK),Ii,Vh,Hh,o0,l0,Wh,c0,u0,PK,cve=(PK=class{constructor(t={}){Qt(this,Ii);Qt(this,Vh);Qt(this,Hh);Qt(this,o0);Qt(this,l0);Qt(this,Wh);Qt(this,c0);Qt(this,u0);At(this,Ii,t.queryCache||new lve),At(this,Vh,t.mutationCache||new ave),At(this,Hh,t.defaultOptions||{}),At(this,o0,new Map),At(this,l0,new Map),At(this,Wh,0)}mount(){hT(this,Wh)._++,fe(this,Wh)===1&&(At(this,c0,NU.subscribe(async t=>{t&&(await this.resumePausedMutations(),fe(this,Ii).onFocus())})),At(this,u0,cN.subscribe(async t=>{t&&(await this.resumePausedMutations(),fe(this,Ii).onOnline())})))}unmount(){var t,e;hT(this,Wh)._--,fe(this,Wh)===0&&((t=fe(this,c0))==null||t.call(this),At(this,c0,void 0),(e=fe(this,u0))==null||e.call(this),At(this,u0,void 0))}isFetching(t){return fe(this,Ii).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return fe(this,Vh).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=fe(this,Ii).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=fe(this,Ii).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ap(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return fe(this,Ii).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=fe(this,Ii).get(r.queryHash),s=i==null?void 0:i.state.data,a=Hye(e,s);if(a!==void 0)return fe(this,Ii).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return _s.batch(()=>fe(this,Ii).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=fe(this,Ii).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=fe(this,Ii);_s.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=fe(this,Ii);return _s.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=_s.batch(()=>fe(this,Ii).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ha).catch(Ha)}invalidateQueries(t,e={}){return _s.batch(()=>(fe(this,Ii).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=_s.batch(()=>fe(this,Ii).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ha)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ha)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=fe(this,Ii).build(this,e);return n.isStaleByTime(ap(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ha).catch(Ha)}fetchInfiniteQuery(t){return t.behavior=fV(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ha).catch(Ha)}ensureInfiniteQueryData(t){return t.behavior=fV(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return cN.isOnline()?fe(this,Vh).resumePausedMutations():Promise.resolve()}getQueryCache(){return fe(this,Ii)}getMutationCache(){return fe(this,Vh)}getDefaultOptions(){return fe(this,Hh)}setDefaultOptions(t){At(this,Hh,t)}setQueryDefaults(t,e){fe(this,o0).set(Kg(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...fe(this,o0).values()],n={};return e.forEach(r=>{$1(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){fe(this,l0).set(Kg(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...fe(this,l0).values()],n={};return e.forEach(r=>{$1(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...fe(this,Hh).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=MU(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===CU&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...fe(this,Hh).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){fe(this,Ii).clear(),fe(this,Vh).clear()}},Ii=new WeakMap,Vh=new WeakMap,Hh=new WeakMap,o0=new WeakMap,l0=new WeakMap,Wh=new WeakMap,c0=new WeakMap,u0=new WeakMap,PK),iQ=j.createContext(void 0),vl=t=>{const e=j.useContext(iQ);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},uve=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(iQ.Provider,{value:t,children:e})),sQ=j.createContext(!1),dve=()=>j.useContext(sQ);sQ.Provider;function fve(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var hve=j.createContext(fve()),pve=()=>j.useContext(hve),mve=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},gve=t=>{j.useEffect(()=>{t.clearReset()},[t])},yve=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||ZZ(n,[t.error,r])),vve=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},xve=(t,e)=>t.isLoading&&t.isFetching&&!e,bve=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,pV=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function wve(t,e,n){var f,h,p,g,v;const r=dve(),i=pve(),s=vl(),a=s.defaultQueryOptions(t);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=r?"isRestoring":"optimistic",vve(a),mve(a,i),gve(i);const o=!s.getQueryCache().get(a.queryHash),[c]=j.useState(()=>new e(s,a)),u=c.getOptimisticResult(a),d=!r&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(w=>{const x=d?c.subscribe(_s.batchCalls(w)):Ha;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(a)},[a,c]),bve(a,u))throw pV(a,c,i);if(yve({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((g=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,a,u),a.experimental_prefetchInRender&&!Xg&&xve(u,r)){const w=o?pV(a,c,i):(v=s.getQueryCache().get(a.queryHash))==null?void 0:v.promise;w==null||w.catch(Ha).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Ir(t,e){return wve(t,tve)}function Yn(t,e){const n=vl(),[r]=j.useState(()=>new ove(n,t));j.useEffect(()=>{r.setOptions(t)},[r,t]);const i=j.useSyncExternalStore(j.useCallback(a=>r.subscribe(_s.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=j.useCallback((a,o)=>{r.mutate(a,o).catch(Ha)},[r]);if(i.error&&ZZ(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const _ve="modulepreload",Sve=function(t){return"/"+t},mV={},vy=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=Sve(c),c in mV)return;mV[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_ve,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var Eve=function(){return null};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V1.apply(this,arguments)}var Xh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xh||(Xh={}));const gV="popstate";function Ave(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return OD("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uN(i)}return Mve(e,n,null,t)}function Yi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aQ(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tve(){return Math.random().toString(36).substr(2,8)}function yV(t,e){return{usr:t.state,key:t.key,idx:e}}function OD(t,e,n,r){return n===void 0&&(n=null),V1({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ub(e):e,{state:n,key:e&&e.key||r||Tve()})}function uN(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ub(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Mve(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Xh.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(V1({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Xh.Pop;let w=d(),x=w==null?null:w-u;u=w,c&&c({action:o,location:v.location,delta:x})}function h(w,x){o=Xh.Push;let _=OD(v.location,w,x);u=d()+1;let S=yV(_,u),A=v.createHref(_);try{a.pushState(S,"",A)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(A)}s&&c&&c({action:o,location:v.location,delta:1})}function p(w,x){o=Xh.Replace;let _=OD(v.location,w,x);u=d();let S=yV(_,u),A=v.createHref(_);a.replaceState(S,"",A),s&&c&&c({action:o,location:v.location,delta:0})}function g(w){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:uN(w);return _=_.replace(/ $/,"%20"),Yi(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let v={get action(){return o},get location(){return t(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(gV,f),c=w,()=>{i.removeEventListener(gV,f),c=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let x=g(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(w){return a.go(w)}};return v}var vV;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vV||(vV={}));function Cve(t,e,n){return n===void 0&&(n="/"),Nve(t,e,n)}function Nve(t,e,n,r){let i=typeof e=="string"?ub(e):e,s=jU(i.pathname||"/",n);if(s==null)return null;let a=oQ(t);Pve(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=$ve(s);o=Uve(a[c],u)}return o}function oQ(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Yi(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=op([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Yi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oQ(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Dve(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of lQ(s.path))i(s,a,c)}),e}function lQ(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=lQ(r.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Pve(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Fve(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jve=/^:[\w-]+$/,kve=3,Ove=2,Rve=1,Ive=10,Lve=-2,xV=t=>t==="*";function Dve(t,e){let n=t.split("/"),r=n.length;return n.some(xV)&&(r+=Lve),e&&(r+=Ove),n.filter(i=>!xV(i)).reduce((i,s)=>i+(jve.test(s)?kve:s===""?Rve:Ive),r)}function Fve(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Uve(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Bve({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:op([s,f.pathname]),pathnameBase:Gve(op([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=op([s,f.pathnameBase]))}return a}function Bve(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zve(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=o[f]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function zve(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),aQ(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $ve(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aQ(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jU(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Vve(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ub(t):t;return{pathname:n?n.startsWith("/")?n:Hve(n,e):e,search:qve(r),hash:Xve(i)}}function Hve(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rR(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wve(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kU(t,e){let n=Wve(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function OU(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ub(t):(i=V1({},t),Yi(!i.pathname||!i.pathname.includes("?"),rR("?","pathname","search",i)),Yi(!i.pathname||!i.pathname.includes("#"),rR("#","pathname","hash",i)),Yi(!i.search||!i.search.includes("#"),rR("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let c=Vve(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const op=t=>t.join("/").replace(/\/\/+/g,"/"),Gve=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qve=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Xve=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kve(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cQ=["post","put","patch","delete"];new Set(cQ);const Yve=["get",...cQ];new Set(Yve);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H1.apply(this,arguments)}const RU=j.createContext(null),Zve=j.createContext(null),Ap=j.createContext(null),B2=j.createContext(null),rd=j.createContext({outlet:null,matches:[],isDataRoute:!1}),uQ=j.createContext(null);function Qve(t,e){let{relative:n}=e===void 0?{}:e;db()||Yi(!1);let{basename:r,navigator:i}=j.useContext(Ap),{hash:s,pathname:a,search:o}=fQ(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:op([r,a])),i.createHref({pathname:c,search:o,hash:s})}function db(){return j.useContext(B2)!=null}function xy(){return db()||Yi(!1),j.useContext(B2).location}function dQ(t){j.useContext(Ap).static||j.useLayoutEffect(t)}function bE(){let{isDataRoute:t}=j.useContext(rd);return t?hxe():Jve()}function Jve(){db()||Yi(!1);let t=j.useContext(RU),{basename:e,future:n,navigator:r}=j.useContext(Ap),{matches:i}=j.useContext(rd),{pathname:s}=xy(),a=JSON.stringify(kU(i,n.v7_relativeSplatPath)),o=j.useRef(!1);return dQ(()=>{o.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=OU(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:op([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,t])}const exe=j.createContext(null);function txe(t){let e=j.useContext(rd).outlet;return e&&j.createElement(exe.Provider,{value:t},e)}function IU(){let{matches:t}=j.useContext(rd),e=t[t.length-1];return e?e.params:{}}function fQ(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(Ap),{matches:i}=j.useContext(rd),{pathname:s}=xy(),a=JSON.stringify(kU(i,r.v7_relativeSplatPath));return j.useMemo(()=>OU(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function nxe(t,e){return rxe(t,e)}function rxe(t,e,n,r){db()||Yi(!1);let{navigator:i}=j.useContext(Ap),{matches:s}=j.useContext(rd),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=xy(),d;if(e){var f;let w=typeof e=="string"?ub(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Yi(!1),d=w}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=Cve(t,{pathname:p}),v=lxe(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:op([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:op([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&v?j.createElement(B2.Provider,{value:{location:H1({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xh.Pop}},v):v}function ixe(){let t=fxe(),e=Kve(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const sxe=j.createElement(ixe,null);class axe extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(rd.Provider,{value:this.props.routeContext},j.createElement(uQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oxe(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(RU);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(rd.Provider,{value:e},r)}function lxe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Yi(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,g=!1,v=null,w=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||sxe,c&&(u<0&&h===0?(pxe("route-fallback"),g=!0,w=null):u===h&&(g=!0,w=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),_=()=>{let S;return p?S=v:g?S=w:f.route.Component?S=j.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,j.createElement(oxe,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?j.createElement(axe,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var hQ=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hQ||{}),pQ=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pQ||{});function cxe(t){let e=j.useContext(RU);return e||Yi(!1),e}function uxe(t){let e=j.useContext(Zve);return e||Yi(!1),e}function dxe(t){let e=j.useContext(rd);return e||Yi(!1),e}function mQ(t){let e=dxe(),n=e.matches[e.matches.length-1];return n.route.id||Yi(!1),n.route.id}function fxe(){var t;let e=j.useContext(uQ),n=uxe(),r=mQ();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hxe(){let{router:t}=cxe(hQ.UseNavigateStable),e=mQ(pQ.UseNavigateStable),n=j.useRef(!1);return dQ(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,H1({fromRouteId:e},s)))},[t,e])}const bV={};function pxe(t,e,n){bV[t]||(bV[t]=!0)}function mxe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gQ(t){let{to:e,replace:n,state:r,relative:i}=t;db()||Yi(!1);let{future:s,static:a}=j.useContext(Ap),{matches:o}=j.useContext(rd),{pathname:c}=xy(),u=bE(),d=OU(e,kU(o,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function gxe(t){return txe(t.context)}function Hr(t){Yi(!1)}function yxe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xh.Pop,navigator:s,static:a=!1,future:o}=t;db()&&Yi(!1);let c=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:s,static:a,future:H1({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof r=="string"&&(r=ub(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,v=j.useMemo(()=>{let w=jU(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:g},navigationType:i}},[c,d,f,h,p,g,i]);return v==null?null:j.createElement(Ap.Provider,{value:u},j.createElement(B2.Provider,{children:n,value:v}))}function vxe(t){let{children:e,location:n}=t;return nxe(RD(e),n)}new Promise(()=>{});function RD(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let s=[...e,i];if(r.type===j.Fragment){n.push.apply(n,RD(r.props.children,s));return}r.type!==Hr&&Yi(!1),!r.props.index||!r.props.children||Yi(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=RD(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ID(){return ID=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ID.apply(this,arguments)}function xxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bxe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wxe(t,e){return t.button===0&&(!e||e==="_self")&&!bxe(t)}const _xe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sxe="6";try{window.__reactRouterVersion=Sxe}catch{}const Exe="startTransition",wV=LF[Exe];function Axe(t){let{basename:e,children:n,future:r,window:i}=t,s=j.useRef();s.current==null&&(s.current=Ave({window:i,v5Compat:!0}));let a=s.current,[o,c]=j.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=j.useCallback(f=>{u&&wV?wV(()=>c(f)):c(f)},[c,u]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.useEffect(()=>mxe(r),[r]),j.createElement(yxe,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const Txe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mxe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=xxe(e,_xe),{basename:p}=j.useContext(Ap),g,v=!1;if(typeof u=="string"&&Mxe.test(u)&&(g=u,Txe))try{let S=new URL(window.location.href),A=u.startsWith("//")?new URL(S.protocol+u):new URL(u),C=jU(A.pathname,p);A.origin===S.origin&&C!=null?u=C+A.search+A.hash:v=!0}catch{}let w=Qve(u,{relative:i}),x=Cxe(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function _(S){r&&r(S),S.defaultPrevented||x(S)}return j.createElement("a",ID({},h,{href:g||w,onClick:v||s?r:_,ref:n,target:c}))});var _V;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_V||(_V={}));var SV;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SV||(SV={}));function Cxe(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,c=bE(),u=xy(),d=fQ(t,{relative:a});return j.useCallback(f=>{if(wxe(f,n)){f.preventDefault();let h=r!==void 0?r:uN(u)===uN(d);c(t,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,c,d,r,i,n,t,s,a,o])}var Nxe=typeof Element<"u",Pxe=typeof Map=="function",jxe=typeof Set=="function",kxe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function _C(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!_C(t[r],e[r]))return!1;return!0}var s;if(Pxe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!_C(r.value[1],e.get(r.value[0])))return!1;return!0}if(jxe&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(kxe&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Nxe&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!_C(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var Oxe=function(e,n){try{return _C(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Rxe=cr(Oxe);var Ixe=function(t,e,n,r,i,s,a,o){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,a,o],d=0;c=new Error(e.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Lxe=Ixe;const EV=cr(Lxe);var Dxe=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),u=0;u<a.length;u++){var d=a[u];if(!c(d))return!1;var f=e[d],h=n[d];if(s=r?r.call(i,f,h,d):void 0,s===!1||s===void 0&&f!==h)return!1}return!0};const Fxe=cr(Dxe);var yQ=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(yQ||{}),iR={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},AV=Object.values(yQ),LU={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Uxe=Object.entries(LU).reduce((t,[e,n])=>(t[n]=e,t),{}),Gc="data-rh",Ux={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Bx=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},Bxe=t=>{let e=Bx(t,"title");const n=Bx(t,Ux.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Bx(t,Ux.DEFAULT_TITLE);return e||r||void 0},zxe=t=>Bx(t,Ux.ON_CHANGE_CLIENT_STATE)||(()=>{}),sR=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),$xe=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const o=i[s].toLowerCase();if(t.indexOf(o)!==-1&&r[o])return n.concat(r)}}return n},[]),Vxe=t=>console&&typeof console.warn=="function"&&console.warn(t),Xw=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&Vxe(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const a={};s.filter(c=>{let u;const d=Object.keys(c);for(let h=0;h<d.length;h+=1){const p=d[h],g=p.toLowerCase();e.indexOf(g)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(g==="rel"&&c[g].toLowerCase()==="stylesheet")&&(u=g),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return r[u]||(r[u]={}),a[u]||(a[u]={}),r[u][f]?!1:(a[u][f]=!0,!0)}).reverse().forEach(c=>i.push(c));const o=Object.keys(a);for(let c=0;c<o.length;c+=1){const u=o[c],d={...r[u],...a[u]};r[u]=d}return i},[]).reverse()},Hxe=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},Wxe=t=>({baseTag:$xe(["href"],t),bodyAttributes:sR("bodyAttributes",t),defer:Bx(t,Ux.DEFER),encode:Bx(t,Ux.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:sR("htmlAttributes",t),linkTags:Xw("link",["rel","href"],t),metaTags:Xw("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Xw("noscript",["innerHTML"],t),onChangeClientState:zxe(t),scriptTags:Xw("script",["src","innerHTML"],t),styleTags:Xw("style",["cssText"],t),title:Bxe(t),titleAttributes:sR("titleAttributes",t),prioritizeSeoTags:Hxe(t,Ux.PRIORITIZE_SEO_TAGS)}),vQ=t=>Array.isArray(t)?t.join(""):t,Gxe=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},aR=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(Gxe(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},TV=(t,e)=>({...t,[e]:void 0}),qxe=["noscript","script","style"],LD=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),xQ=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),Xxe=(t,e,n,r)=>{const i=xQ(n),s=vQ(e);return i?`<${t} ${Gc}="true" ${i}>${LD(s,r)}</${t}>`:`<${t} ${Gc}="true">${LD(s,r)}</${t}>`},Kxe=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,a=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof s[d]>"u"?d:`${d}="${LD(s[d],n)}"`;return u?`${u} ${f}`:f},""),o=s.innerHTML||s.cssText||"",c=qxe.indexOf(t)===-1;return`${r}<${t} ${Gc}="true" ${a}${c?"/>":`>${o}</${t}>`}`},""),bQ=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=LU[r];return n[i||r]=t[r],n},e),Yxe=(t,e,n)=>{const r={key:e,[Gc]:!0},i=bQ(n,r);return[ne.createElement("title",i,e)]},SC=(t,e)=>e.map((n,r)=>{const i={key:r,[Gc]:!0};return Object.keys(n).forEach(s=>{const o=LU[s]||s;if(o==="innerHTML"||o==="cssText"){const c=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[o]=n[s]}),ne.createElement(t,i)}),Vl=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>Yxe(t,e.title,e.titleAttributes),toString:()=>Xxe(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>bQ(e),toString:()=>xQ(e)};default:return{toComponent:()=>SC(t,e),toString:()=>Kxe(t,e,n)}}},Zxe=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=aR(t,iR.meta),s=aR(e,iR.link),a=aR(n,iR.script);return{priorityMethods:{toComponent:()=>[...SC("meta",i.priority),...SC("link",s.priority),...SC("script",a.priority)],toString:()=>`${Vl("meta",i.priority,r)} ${Vl("link",s.priority,r)} ${Vl("script",a.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:a.default}},Qxe=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:a,title:o="",titleAttributes:c,prioritizeSeoTags:u}=t;let{linkTags:d,metaTags:f,scriptTags:h}=t,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:h}=Zxe(t)),{priority:p,base:Vl("base",e,r),bodyAttributes:Vl("bodyAttributes",n,r),htmlAttributes:Vl("htmlAttributes",i,r),link:Vl("link",d,r),meta:Vl("meta",f,r),noscript:Vl("noscript",s,r),script:Vl("script",h,r),style:Vl("style",a,r),title:Vl("title",{title:o,titleAttributes:c},r)}},DD=Qxe,kT=[],wQ=!!(typeof window<"u"&&window.document&&window.document.createElement),FD=class{constructor(t,e){ys(this,"instances",[]);ys(this,"canUseDOM",wQ);ys(this,"context");ys(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?kT:this.instances,add:t=>{(this.canUseDOM?kT:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?kT:this.instances).indexOf(t);(this.canUseDOM?kT:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=DD({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Jxe={},_Q=ne.createContext(Jxe),Ng,SQ=(Ng=class extends j.Component{constructor(n){super(n);ys(this,"helmetData");this.helmetData=new FD(this.props.context||{},Ng.canUseDOM)}render(){return ne.createElement(_Q.Provider,{value:this.helmetData.value},this.props.children)}},ys(Ng,"canUseDOM",wQ),Ng),Ev=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Gc}]`),i=[].slice.call(r),s=[];let a;return e&&e.length&&e.forEach(o=>{const c=document.createElement(t);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u))if(u==="innerHTML")c.innerHTML=o.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=o.cssText:c.appendChild(document.createTextNode(o.cssText));else{const d=u,f=typeof o[d]>"u"?"":o[d];c.setAttribute(u,f)}c.setAttribute(Gc,"true"),i.some((u,d)=>(a=d,c.isEqualNode(u)))?i.splice(a,1):s.push(c)}),i.forEach(o=>{var c;return(c=o.parentNode)==null?void 0:c.removeChild(o)}),s.forEach(o=>n.appendChild(o)),{oldTags:i,newTags:s}},UD=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Gc),i=r?r.split(","):[],s=[...i],a=Object.keys(e);for(const o of a){const c=e[o]||"";n.getAttribute(o)!==c&&n.setAttribute(o,c),i.indexOf(o)===-1&&i.push(o);const u=s.indexOf(o);u!==-1&&s.splice(u,1)}for(let o=s.length-1;o>=0;o-=1)n.removeAttribute(s[o]);i.length===s.length?n.removeAttribute(Gc):n.getAttribute(Gc)!==a.join(",")&&n.setAttribute(Gc,a.join(","))},e0e=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=vQ(t)),UD("title",e)},MV=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:a,noscriptTags:o,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:h}=t;UD("body",r),UD("html",i),e0e(f,h);const p={baseTag:Ev("base",n),linkTags:Ev("link",s),metaTags:Ev("meta",a),noscriptTags:Ev("noscript",o),scriptTags:Ev("script",u),styleTags:Ev("style",d)},g={},v={};Object.keys(p).forEach(w=>{const{newTags:x,oldTags:_}=p[w];x.length&&(g[w]=x),_.length&&(v[w]=p[w].oldTags)}),e&&e(),c(t,g,v)},Kw=null,t0e=t=>{Kw&&cancelAnimationFrame(Kw),t.defer?Kw=requestAnimationFrame(()=>{MV(t,()=>{Kw=null})}):(MV(t),Kw=null)},n0e=t0e,CV=class extends j.Component{constructor(){super(...arguments);ys(this,"rendered",!1)}shouldComponentUpdate(e){return!Fxe(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=Wxe(e.get().map(s=>{const a={...s.props};return delete a.context,a}));SQ.canUseDOM?n0e(i):DD&&(r=DD(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},AL,z2=(AL=class extends j.Component{shouldComponentUpdate(t){return!Rxe(TV(this.props,"helmetData"),TV(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return EV(AV.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${AV.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),EV(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return ne.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,a=Object.keys(s).reduce((c,u)=>(c[Uxe[u]||u]=s[u],c),{});let{type:o}=r;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(r,i),o){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,a,i);break;default:e=this.mapObjectTypeChildren(r,e,a,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof FD)){const i=r;r=new FD(i.context,!0),delete n.helmetData}return r?ne.createElement(CV,{...n,context:r.value}):ne.createElement(_Q.Consumer,null,i=>ne.createElement(CV,{...n,context:i}))}},ys(AL,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),AL),r0e=t=>{switch(t){case"success":return a0e;case"info":return l0e;case"warning":return o0e;case"error":return c0e;default:return null}},i0e=Array(12).fill(0),s0e=({visible:t,className:e})=>ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ne.createElement("div",{className:"sonner-spinner"},i0e.map((n,r)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),a0e=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),o0e=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),l0e=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),c0e=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),u0e=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),d0e=()=>{let[t,e]=ne.useState(document.hidden);return ne.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},BD=1,f0e=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:BD++,s=this.toasts.find(o=>o.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,a=r.then(async c=>{if(s=["resolve",c],ne.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(p0e(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),o=()=>new Promise((c,u)=>a.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||BD++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yo=new f0e,h0e=(t,e)=>{let n=(e==null?void 0:e.id)||BD++;return yo.addToast({title:t,...e,id:n}),n},p0e=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",m0e=h0e,g0e=()=>yo.toasts,y0e=()=>yo.getActiveToasts(),nt=Object.assign(m0e,{success:yo.success,info:yo.info,warning:yo.warning,error:yo.error,custom:yo.custom,message:yo.message,promise:yo.promise,dismiss:yo.dismiss,loading:yo.loading},{getHistory:g0e,getToasts:y0e});function v0e(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}v0e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function OT(t){return t.label!==void 0}var x0e=3,b0e="32px",w0e="16px",NV=4e3,_0e=356,S0e=14,E0e=20,A0e=200;function Sc(...t){return t.filter(Boolean).join(" ")}function T0e(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var M0e=t=>{var e,n,r,i,s,a,o,c,u,d,f;let{invert:h,toast:p,unstyled:g,interacting:v,setHeights:w,visibleToasts:x,heights:_,index:S,toasts:A,expanded:C,removeToast:T,defaultRichColors:N,closeButton:O,style:U,cancelButtonStyle:R,actionButtonStyle:I,className:B="",descriptionClassName:G="",duration:K,position:Q,gap:q,loadingIcon:ie,expandByDefault:V,classNames:X,icons:z,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:de}=t,[Y,he]=ne.useState(null),[Ce,Ie]=ne.useState(null),[Ee,Je]=ne.useState(!1),[Ne,Ue]=ne.useState(!1),[Fe,le]=ne.useState(!1),[J,Le]=ne.useState(!1),[qe,We]=ne.useState(!1),[Ke,yt]=ne.useState(0),[ct,$]=ne.useState(0),F=ne.useRef(p.duration||K||NV),re=ne.useRef(null),ye=ne.useRef(null),be=S===0,pe=S+1<=x,ce=p.type,xe=p.dismissible!==!1,ke=p.className||"",ut=p.descriptionClassName||"",$e=ne.useMemo(()=>_.findIndex(jt=>jt.toastId===p.id)||0,[_,p.id]),st=ne.useMemo(()=>{var jt;return(jt=p.closeButton)!=null?jt:O},[p.closeButton,O]),Ut=ne.useMemo(()=>p.duration||K||NV,[p.duration,K]),Pt=ne.useRef(0),mt=ne.useRef(0),ln=ne.useRef(0),Tt=ne.useRef(null),[Cn,ve]=Q.split("-"),_t=ne.useMemo(()=>_.reduce((jt,yn,zt)=>zt>=$e?jt:jt+yn.height,0),[_,$e]),Be=d0e(),et=p.invert||h,vt=ce==="loading";mt.current=ne.useMemo(()=>$e*q+_t,[$e,_t]),ne.useEffect(()=>{F.current=Ut},[Ut]),ne.useEffect(()=>{Je(!0)},[]),ne.useEffect(()=>{let jt=ye.current;if(jt){let yn=jt.getBoundingClientRect().height;return $(yn),w(zt=>[{toastId:p.id,height:yn,position:p.position},...zt]),()=>w(zt=>zt.filter(_r=>_r.toastId!==p.id))}},[w,p.id]),ne.useLayoutEffect(()=>{if(!Ee)return;let jt=ye.current,yn=jt.style.height;jt.style.height="auto";let zt=jt.getBoundingClientRect().height;jt.style.height=yn,$(zt),w(_r=>_r.find(Kr=>Kr.toastId===p.id)?_r.map(Kr=>Kr.toastId===p.id?{...Kr,height:zt}:Kr):[{toastId:p.id,height:zt,position:p.position},..._r])},[Ee,p.title,p.description,w,p.id]);let gt=ne.useCallback(()=>{Ue(!0),yt(mt.current),w(jt=>jt.filter(yn=>yn.toastId!==p.id)),setTimeout(()=>{T(p)},A0e)},[p,T,w,mt]);ne.useEffect(()=>{if(p.promise&&ce==="loading"||p.duration===1/0||p.type==="loading")return;let jt;return C||v||de&&Be?(()=>{if(ln.current<Pt.current){let yn=new Date().getTime()-Pt.current;F.current=F.current-yn}ln.current=new Date().getTime()})():F.current!==1/0&&(Pt.current=new Date().getTime(),jt=setTimeout(()=>{var yn;(yn=p.onAutoClose)==null||yn.call(p,p),gt()},F.current)),()=>clearTimeout(jt)},[C,v,p,ce,de,Be,gt]),ne.useEffect(()=>{p.delete&&gt()},[gt,p.delete]);function qn(){var jt,yn,zt;return z!=null&&z.loading?ne.createElement("div",{className:Sc(X==null?void 0:X.loader,(jt=p==null?void 0:p.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":ce==="loading"},z.loading):ie?ne.createElement("div",{className:Sc(X==null?void 0:X.loader,(yn=p==null?void 0:p.classNames)==null?void 0:yn.loader,"sonner-loader"),"data-visible":ce==="loading"},ie):ne.createElement(s0e,{className:Sc(X==null?void 0:X.loader,(zt=p==null?void 0:p.classNames)==null?void 0:zt.loader),visible:ce==="loading"})}return ne.createElement("li",{tabIndex:0,ref:ye,className:Sc(B,ke,X==null?void 0:X.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,X==null?void 0:X.default,X==null?void 0:X[ce],(n=p==null?void 0:p.classNames)==null?void 0:n[ce]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:N,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":Ee,"data-promise":!!p.promise,"data-swiped":qe,"data-removed":Ne,"data-visible":pe,"data-y-position":Cn,"data-x-position":ve,"data-index":S,"data-front":be,"data-swiping":Fe,"data-dismissible":xe,"data-type":ce,"data-invert":et,"data-swipe-out":J,"data-swipe-direction":Ce,"data-expanded":!!(C||V&&Ee),style:{"--index":S,"--toasts-before":S,"--z-index":A.length-S,"--offset":`${Ne?Ke:mt.current}px`,"--initial-height":V?"auto":`${ct}px`,...U,...p.style},onDragEnd:()=>{le(!1),he(null),Tt.current=null},onPointerDown:jt=>{vt||!xe||(re.current=new Date,yt(mt.current),jt.target.setPointerCapture(jt.pointerId),jt.target.tagName!=="BUTTON"&&(le(!0),Tt.current={x:jt.clientX,y:jt.clientY}))},onPointerUp:()=>{var jt,yn,zt,_r;if(J||!xe)return;Tt.current=null;let Kr=Number(((jt=ye.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ca=Number(((yn=ye.current)==null?void 0:yn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ca=new Date().getTime()-((zt=re.current)==null?void 0:zt.getTime()),vi=Y==="x"?Kr:Ca,fs=Math.abs(vi)/ca;if(Math.abs(vi)>=E0e||fs>.11){yt(mt.current),(_r=p.onDismiss)==null||_r.call(p,p),Ie(Y==="x"?Kr>0?"right":"left":Ca>0?"down":"up"),gt(),Le(!0),We(!1);return}le(!1),he(null)},onPointerMove:jt=>{var yn,zt,_r,Kr;if(!Tt.current||!xe||((yn=window.getSelection())==null?void 0:yn.toString().length)>0)return;let Ca=jt.clientY-Tt.current.y,ca=jt.clientX-Tt.current.x,vi=(zt=t.swipeDirections)!=null?zt:T0e(Q);!Y&&(Math.abs(ca)>1||Math.abs(Ca)>1)&&he(Math.abs(ca)>Math.abs(Ca)?"x":"y");let fs={x:0,y:0};Y==="y"?(vi.includes("top")||vi.includes("bottom"))&&(vi.includes("top")&&Ca<0||vi.includes("bottom")&&Ca>0)&&(fs.y=Ca):Y==="x"&&(vi.includes("left")||vi.includes("right"))&&(vi.includes("left")&&ca<0||vi.includes("right")&&ca>0)&&(fs.x=ca),(Math.abs(fs.x)>0||Math.abs(fs.y)>0)&&We(!0),(_r=ye.current)==null||_r.style.setProperty("--swipe-amount-x",`${fs.x}px`),(Kr=ye.current)==null||Kr.style.setProperty("--swipe-amount-y",`${fs.y}px`)}},st&&!p.jsx?ne.createElement("button",{"aria-label":oe,"data-disabled":vt,"data-close-button":!0,onClick:vt||!xe?()=>{}:()=>{var jt;gt(),(jt=p.onDismiss)==null||jt.call(p,p)},className:Sc(X==null?void 0:X.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=z==null?void 0:z.close)!=null?s:u0e):null,p.jsx||j.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ne.createElement(ne.Fragment,null,ce||p.icon||p.promise?ne.createElement("div",{"data-icon":"",className:Sc(X==null?void 0:X.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||qn():null,p.type!=="loading"?p.icon||(z==null?void 0:z[ce])||r0e(ce):null):null,ne.createElement("div",{"data-content":"",className:Sc(X==null?void 0:X.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},ne.createElement("div",{"data-title":"",className:Sc(X==null?void 0:X.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?ne.createElement("div",{"data-description":"",className:Sc(G,ut,X==null?void 0:X.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),j.isValidElement(p.cancel)?p.cancel:p.cancel&&OT(p.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:jt=>{var yn,zt;OT(p.cancel)&&xe&&((zt=(yn=p.cancel).onClick)==null||zt.call(yn,jt),gt())},className:Sc(X==null?void 0:X.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,j.isValidElement(p.action)?p.action:p.action&&OT(p.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:jt=>{var yn,zt;OT(p.action)&&((zt=(yn=p.action).onClick)==null||zt.call(yn,jt),!jt.defaultPrevented&&gt())},className:Sc(X==null?void 0:X.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function PV(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function C0e(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?w0e:b0e;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(o)}),n}var N0e=j.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:g=x0e,toastOptions:v,dir:w=PV(),gap:x=S0e,loadingIcon:_,icons:S,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:C}=t,[T,N]=ne.useState([]),O=ne.useMemo(()=>Array.from(new Set([r].concat(T.filter(de=>de.position).map(de=>de.position)))),[T,r]),[U,R]=ne.useState([]),[I,B]=ne.useState(!1),[G,K]=ne.useState(!1),[Q,q]=ne.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=ne.useRef(null),V=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=ne.useRef(null),z=ne.useRef(!1),oe=ne.useCallback(de=>{N(Y=>{var he;return(he=Y.find(Ce=>Ce.id===de.id))!=null&&he.delete||yo.dismiss(de.id),Y.filter(({id:Ce})=>Ce!==de.id)})},[]);return ne.useEffect(()=>yo.subscribe(de=>{if(de.dismiss){N(Y=>Y.map(he=>he.id===de.id?{...he,delete:!0}:he));return}setTimeout(()=>{qZ.flushSync(()=>{N(Y=>{let he=Y.findIndex(Ce=>Ce.id===de.id);return he!==-1?[...Y.slice(0,he),{...Y[he],...de},...Y.slice(he+1)]:[de,...Y]})})})}),[]),ne.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:Y})=>{q(Y?"dark":"light")})}catch{de.addListener(({matches:he})=>{try{q(he?"dark":"light")}catch(Ce){console.error(Ce)}})}},[d]),ne.useEffect(()=>{T.length<=1&&B(!1)},[T]),ne.useEffect(()=>{let de=Y=>{var he,Ce;i.every(Ie=>Y[Ie]||Y.code===Ie)&&(B(!0),(he=ie.current)==null||he.focus()),Y.code==="Escape"&&(document.activeElement===ie.current||(Ce=ie.current)!=null&&Ce.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[i]),ne.useEffect(()=>{if(ie.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,z.current=!1)}},[ie.current]),ne.createElement("section",{ref:e,"aria-label":`${A} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((de,Y)=>{var he;let[Ce,Ie]=de.split("-");return T.length?ne.createElement("ol",{key:de,dir:w==="auto"?PV():w,tabIndex:-1,ref:ie,className:o,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":Ce,"data-lifted":I&&T.length>1&&!s,"data-x-position":Ie,style:{"--front-toast-height":`${((he=U[0])==null?void 0:he.height)||0}px`,"--width":`${_0e}px`,"--gap":`${x}px`,...p,...C0e(c,u)},onBlur:Ee=>{z.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(z.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||z.current||(z.current=!0,X.current=Ee.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{G||B(!1)},onDragEnd:()=>B(!1),onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},T.filter(Ee=>!Ee.position&&Y===0||Ee.position===de).map((Ee,Je)=>{var Ne,Ue;return ne.createElement(M0e,{key:Ee.id,icons:S,index:Je,toast:Ee,defaultRichColors:f,duration:(Ne=v==null?void 0:v.duration)!=null?Ne:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:(Ue=v==null?void 0:v.closeButton)!=null?Ue:a,interacting:G,position:de,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:oe,toasts:T.filter(Fe=>Fe.position==Ee.position),heights:U.filter(Fe=>Fe.position==Ee.position),setHeights:R,expandByDefault:s,gap:x,loadingIcon:_,expanded:I,pauseWhenPageIsHidden:C,swipeDirections:t.swipeDirections})})):null}))});const P0e={},jV=t=>{let e;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const p=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(g=>g(e,p))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(P0e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,c);return c},j0e=t=>t?jV(t):jV;var EQ={exports:{}},AQ={},TQ={exports:{}},MQ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=j;function k0e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var O0e=typeof Object.is=="function"?Object.is:k0e,R0e=v0.useState,I0e=v0.useEffect,L0e=v0.useLayoutEffect,D0e=v0.useDebugValue;function F0e(t,e){var n=e(),r=R0e({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return L0e(function(){i.value=n,i.getSnapshot=e,oR(i)&&s({inst:i})},[t,n,e]),I0e(function(){return oR(i)&&s({inst:i}),t(function(){oR(i)&&s({inst:i})})},[t]),D0e(n),n}function oR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!O0e(t,n)}catch{return!0}}function U0e(t,e){return e()}var B0e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?U0e:F0e;MQ.useSyncExternalStore=v0.useSyncExternalStore!==void 0?v0.useSyncExternalStore:B0e;TQ.exports=MQ;var CQ=TQ.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2=j,z0e=CQ;function $0e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var V0e=typeof Object.is=="function"?Object.is:$0e,H0e=z0e.useSyncExternalStore,W0e=$2.useRef,G0e=$2.useEffect,q0e=$2.useMemo,X0e=$2.useDebugValue;AQ.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=W0e(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=q0e(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return f=g}return f=p}if(g=f,V0e(d,p))return g;var v=r(p);return i!==void 0&&i(g,v)?(d=p,g):(d=p,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,i]);var o=H0e(t,s[0],s[1]);return G0e(function(){a.hasValue=!0,a.value=o},[o]),X0e(o),o};EQ.exports=AQ;var K0e=EQ.exports;const Y0e=cr(K0e),NQ={},{useDebugValue:Z0e}=ne,{useSyncExternalStoreWithSelector:Q0e}=Y0e;let kV=!1;const J0e=t=>t;function ebe(t,e=J0e,n){(NQ?"production":void 0)!=="production"&&n&&!kV&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),kV=!0);const r=Q0e(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Z0e(r),r}const OV=t=>{(NQ?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?j0e(t):t,n=(r,i)=>ebe(e,r,i);return Object.assign(n,e),n},PQ=t=>t?OV(t):OV,tbe={};function nbe(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const a=c=>c===null?null:JSON.parse(c,void 0),o=(s=n.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const W1=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return W1(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return W1(r)(n)}}}},rbe=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,x)=>({...x,...w}),...e},a=!1;const o=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,i);const d=W1(s.serialize),f=()=>{const w=s.partialize({...r()});let x;const _=d({state:w,version:s.version}).then(S=>u.setItem(s.name,S)).catch(S=>{x=S});if(x)throw x;return _},h=i.setState;i.setState=(w,x)=>{h(w,x),f()};const p=t((...w)=>{n(...w),f()},r,i);let g;const v=()=>{var w;if(!u)return;a=!1,o.forEach(_=>_(r()));const x=((w=s.onRehydrateStorage)==null?void 0:w.call(s,r()))||void 0;return W1(u.getItem.bind(u))(s.name).then(_=>{if(_)return s.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var S;return g=s.merge(_,(S=r())!=null?S:p),n(g,!0),f()}).then(()=>{x==null||x(g,void 0),a=!0,c.forEach(_=>_(g))}).catch(_=>{x==null||x(void 0,_)})};return i.persist={setOptions:w=>{s={...s,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:w=>(o.add(w),()=>{o.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},v(),g||p},ibe=(t,e)=>(n,r,i)=>{let s={storage:nbe(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...e},a=!1;const o=new Set,c=new Set;let u=s.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},r,i);const d=()=>{const v=s.partialize({...r()});return u.setItem(s.name,{state:v,version:s.version})},f=i.setState;i.setState=(v,w)=>{f(v,w),d()};const h=t((...v)=>{n(...v),d()},r,i);i.getInitialState=()=>h;let p;const g=()=>{var v,w;if(!u)return;a=!1,o.forEach(_=>{var S;return _((S=r())!=null?S:h)});const x=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(v=r())!=null?v:h))||void 0;return W1(u.getItem.bind(u))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return[!0,s.migrate(_.state,_.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var S;const[A,C]=_;if(p=s.merge(C,(S=r())!=null?S:h),n(p,!0),A)return d()}).then(()=>{x==null||x(p,void 0),p=r(),a=!0,c.forEach(_=>_(p))}).catch(_=>{x==null||x(void 0,_)})};return i.persist={setOptions:v=>{s={...s,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},s.skipHydration||g(),p||h},sbe=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((tbe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),rbe(t,e)):ibe(t,e),abe=sbe;var zD=function(t,e){return zD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},zD(t,e)};function jQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zD(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Yl=function(){return Yl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yl.apply(this,arguments)};function Tp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kQ(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function OQ(t,e){return function(n,r){e(n,r,t)}}function RQ(t,e,n,r,i,s){function a(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var o=r.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f,h=!1,p=n.length-1;p>=0;p--){var g={};for(var v in r)g[v]=v==="access"?{}:r[v];for(var v in r.access)g.access[v]=r.access[v];g.addInitializer=function(x){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(x||null))};var w=(0,n[p])(o==="accessor"?{get:d.get,set:d.set}:d[c],g);if(o==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(f=a(w.get))&&(d.get=f),(f=a(w.set))&&(d.set=f),(f=a(w.init))&&i.unshift(f)}else(f=a(w))&&(o==="field"?i.unshift(f):d[c]=f)}u&&Object.defineProperty(u,r.name,d),h=!0}function IQ(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function LQ(t){return typeof t=="symbol"?t:"".concat(t)}function DQ(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function FQ(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Gt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})}function UQ(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var V2=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function BQ(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&V2(e,t,n)}function dN(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function DU(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function zQ(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(DU(arguments[e]));return t}function $Q(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r}function FU(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function x0(t){return this instanceof x0?(this.v=t,this):new x0(t)}function VQ(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(g){return Promise.resolve(g).then(p,f)}}function o(p,g){r[p]&&(i[p]=function(v){return new Promise(function(w,x){s.push([p,v,w,x])>1||c(p,v)})},g&&(i[p]=g(i[p])))}function c(p,g){try{u(r[p](g))}catch(v){h(s[0][3],v)}}function u(p){p.value instanceof x0?Promise.resolve(p.value.v).then(d,f):h(s[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,g){p(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function HQ(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:x0(t[i](a)),done:!1}:s?s(a):a}:s}}function WQ(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dN=="function"?dN(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(u){s({value:u,done:o})},a)}}function GQ(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var obe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},$D=function(t){return $D=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},$D(t)};function qQ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=$D(t),r=0;r<n.length;r++)n[r]!=="default"&&V2(e,t,n[r]);return obe(e,t),e}function XQ(t){return t&&t.__esModule?t:{default:t}}function KQ(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function YQ(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function ZQ(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function QQ(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var lbe=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function JQ(t){function e(s){t.error=t.hasError?new lbe(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function eJ(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,a){return r?e?".jsx":".js":i&&(!s||!a)?n:i+s+"."+a.toLowerCase()+"js"}):t}const cbe={__extends:jQ,__assign:Yl,__rest:Tp,__decorate:kQ,__param:OQ,__esDecorate:RQ,__runInitializers:IQ,__propKey:LQ,__setFunctionName:DQ,__metadata:FQ,__awaiter:Gt,__generator:UQ,__createBinding:V2,__exportStar:BQ,__values:dN,__read:DU,__spread:zQ,__spreadArrays:$Q,__spreadArray:FU,__await:x0,__asyncGenerator:VQ,__asyncDelegator:HQ,__asyncValues:WQ,__makeTemplateObject:GQ,__importStar:qQ,__importDefault:XQ,__classPrivateFieldGet:KQ,__classPrivateFieldSet:YQ,__classPrivateFieldIn:ZQ,__addDisposableResource:QQ,__disposeResources:JQ,__rewriteRelativeImportExtension:eJ},ube=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:QQ,get __assign(){return Yl},__asyncDelegator:HQ,__asyncGenerator:VQ,__asyncValues:WQ,__await:x0,__awaiter:Gt,__classPrivateFieldGet:KQ,__classPrivateFieldIn:ZQ,__classPrivateFieldSet:YQ,__createBinding:V2,__decorate:kQ,__disposeResources:JQ,__esDecorate:RQ,__exportStar:BQ,__extends:jQ,__generator:UQ,__importDefault:XQ,__importStar:qQ,__makeTemplateObject:GQ,__metadata:FQ,__param:OQ,__propKey:LQ,__read:DU,__rest:Tp,__rewriteRelativeImportExtension:eJ,__runInitializers:IQ,__setFunctionName:DQ,__spread:zQ,__spreadArray:FU,__spreadArrays:$Q,__values:dN,default:cbe},Symbol.toStringTag,{value:"Module"})),dbe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vy(async()=>{const{default:r}=await Promise.resolve().then(()=>by);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class UU extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class RV extends UU{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class IV extends UU{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class LV extends UU{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var VD;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(VD||(VD={}));class fbe{constructor(e,{headers:n={},customFetch:r,region:i=VD.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=dbe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Gt(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:a,body:o,signal:c}=r;let u={},{region:d}=r;d||(d=this.region);const f=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(u["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(u["Content-Type"]="application/json",h=JSON.stringify(o)):h=o;const p=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new RV(x)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new IV(p);if(!p.ok)throw new LV(p);let v=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield p.json():v==="application/octet-stream"||v==="application/pdf"?w=yield p.blob():v==="text/event-stream"?w=p:v==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new RV(s)}:{data:null,error:s,response:s instanceof LV||s instanceof IV?s.context:void 0}}})}}var Wa={};const fb=RK(ube);var RT={},IT={},LT={},DT={},FT={},hbe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},b0=hbe();const pbe=b0.fetch,tJ=b0.fetch.bind(b0),nJ=b0.Headers,mbe=b0.Request,gbe=b0.Response,by=Object.freeze(Object.defineProperty({__proto__:null,Headers:nJ,Request:mbe,Response:gbe,default:tJ,fetch:pbe},Symbol.toStringTag,{value:"Module"})),ybe=RK(by);var UT={},DV;function rJ(){if(DV)return UT;DV=1,Object.defineProperty(UT,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return UT.default=t,UT}var FV;function iJ(){if(FV)return FT;FV=1,Object.defineProperty(FT,"__esModule",{value:!0});const t=fb,e=t.__importDefault(ybe),n=t.__importDefault(rJ());class r{constructor(s){var a,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,p;let g=null,v=null,w=null,x=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const T=await u.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?v=T:v=JSON.parse(T))}const A=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),C=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");A&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,x=406,_="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const A=await u.text();try{g=JSON.parse(A),Array.isArray(g)&&u.status===404&&(v=[],g=null,x=200,_="OK")}catch{u.status===404&&A===""?(x=204,_="No Content"):g={message:A}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,x=200,_="OK"),g&&this.shouldThrowOnError)throw new n.default(g)}return{error:g,data:v,count:w,status:x,statusText:_}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}}return FT.default=r,FT}var UV;function sJ(){if(UV)return DT;UV=1,Object.defineProperty(DT,"__esModule",{value:!0});const e=fb.__importDefault(iJ());class n extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return DT.default=n,DT}var BV;function BU(){if(BV)return LT;BV=1,Object.defineProperty(LT,"__esModule",{value:!0});const e=fb.__importDefault(sJ()),n=new RegExp("[,()]");class r extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${u}fts${d}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return LT.default=r,LT}var zV;function aJ(){if(zV)return IT;zV=1,Object.defineProperty(IT,"__esModule",{value:!0});const e=fb.__importDefault(BU());class n{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},c=a?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return IT.default=n,IT}var $V;function vbe(){if($V)return RT;$V=1,Object.defineProperty(RT,"__esModule",{value:!0});const t=fb,e=t.__importDefault(aJ()),n=t.__importDefault(BU());class r{constructor(s,{headers:a={},schema:o,fetch:c}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=c}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let p;o||c?(f=o?"HEAD":"GET",Object.entries(a).filter(([v,w])=>w!==void 0).map(([v,w])=>[v,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([v,w])=>{h.searchParams.append(v,w)})):(f="POST",p=a);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new n.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return RT.default=r,RT}Object.defineProperty(Wa,"__esModule",{value:!0});var oJ=Wa.PostgrestError=yJ=Wa.PostgrestBuilder=mJ=Wa.PostgrestTransformBuilder=hJ=Wa.PostgrestFilterBuilder=dJ=Wa.PostgrestQueryBuilder=cJ=Wa.PostgrestClient=void 0;const hb=fb,lJ=hb.__importDefault(vbe());var cJ=Wa.PostgrestClient=lJ.default;const uJ=hb.__importDefault(aJ());var dJ=Wa.PostgrestQueryBuilder=uJ.default;const fJ=hb.__importDefault(BU());var hJ=Wa.PostgrestFilterBuilder=fJ.default;const pJ=hb.__importDefault(sJ());var mJ=Wa.PostgrestTransformBuilder=pJ.default;const gJ=hb.__importDefault(iJ());var yJ=Wa.PostgrestBuilder=gJ.default;const vJ=hb.__importDefault(rJ());oJ=Wa.PostgrestError=vJ.default;var xJ=Wa.default={PostgrestClient:lJ.default,PostgrestQueryBuilder:uJ.default,PostgrestFilterBuilder:fJ.default,PostgrestTransformBuilder:pJ.default,PostgrestBuilder:gJ.default,PostgrestError:vJ.default};const xbe=OK({__proto__:null,get PostgrestBuilder(){return yJ},get PostgrestClient(){return cJ},get PostgrestError(){return oJ},get PostgrestFilterBuilder(){return hJ},get PostgrestQueryBuilder(){return dJ},get PostgrestTransformBuilder(){return mJ},default:xJ},[Wa]),{PostgrestClient:bbe,PostgrestQueryBuilder:Aht,PostgrestFilterBuilder:Tht,PostgrestTransformBuilder:Mht,PostgrestBuilder:Cht,PostgrestError:Nht}=xJ||xbe;class wbe{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _be="2.78.0",Sbe=`realtime-js/${_be}`,Ebe="1.0.0",HD=1e4,Abe=1e3,Tbe=100;var J_;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(J_||(J_={}));var bs;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(bs||(bs={}));var Fc;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Fc||(Fc={}));var WD;(function(t){t.websocket="websocket"})(WD||(WD={}));var Zm;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zm||(Zm={}));class Mbe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+i));a=a+i;const c=r.decode(e.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class bJ{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qr||(Qr={}));const VV=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=Cbe(a,t,e,i),s),{}):{}},Cbe=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?wJ(s,a):GD(a)},wJ=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return kbe(e,n)}switch(t){case Qr.bool:return Nbe(e);case Qr.float4:case Qr.float8:case Qr.int2:case Qr.int4:case Qr.int8:case Qr.numeric:case Qr.oid:return Pbe(e);case Qr.json:case Qr.jsonb:return jbe(e);case Qr.timestamp:return Obe(e);case Qr.abstime:case Qr.date:case Qr.daterange:case Qr.int4range:case Qr.int8range:case Qr.money:case Qr.reltime:case Qr.text:case Qr.time:case Qr.timestamptz:case Qr.timetz:case Qr.tsrange:case Qr.tstzrange:return GD(e);default:return GD(e)}},GD=t=>t,Nbe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Pbe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jbe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},kbe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>wJ(e,o))}return t},Obe=t=>typeof t=="string"?t.replace(" ","T"):t,_J=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class lR{constructor(e,n,r={},i=HD){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var HV;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(HV||(HV={}));class e1{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e1.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=e1.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e1.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),g=d.filter(w=>p.indexOf(w.presence_ref)<0),v=f.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(o[u]=g),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}r(o,d,c)}),this.map(a,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=u,i(o,u,c),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var WV;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(WV||(WV={}));var t1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(t1||(t1={}));var Ld;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ld||(Ld={}));class zU{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=bs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lR(this,Fc.join,this.params,this.timeout),this.rejoinTimer=new bJ(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fc.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new e1(this),this.broadcastEndpointURL=_J(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==bs.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[t1.PRESENCE]&&this.bindings[t1.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Ld.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Ld.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e==null||e(Ld.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,x=[];for(let _=0;_<w;_++){const S=v[_],{filter:{event:A,schema:C,table:T,filter:N}}=S,O=p&&p[_];if(O&&O.event===A&&O.schema===C&&O.table===T&&O.filter===N)x.push(Object.assign(Object.assign({},S),{id:O.id}));else{this.unsubscribe(),this.state=bs.errored,e==null||e(Ld.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Ld.SUBSCRIBED);return}}).receive("error",p=>{this.state=bs.errored,e==null||e(Ld.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ld.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===bs.joined&&e===t1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=bs.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fc.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new lR(this,Fc.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bs.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lR(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Tbe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Fc;if(r&&[o,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,v,w;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(v=p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var g,v,w,x,_,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const A=p.id,C=(g=p.filter)===null||g===void 0?void 0:g.event;return A&&((v=n.ids)===null||v===void 0?void 0:v.includes(A))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const A=(_=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return A==="*"||A===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:w,commit_timestamp:x,type:_,errors:S}=g;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:x,eventType:_,new:{},old:{},errors:S}),this._getPayloadRecords(g))}p.callback(h,r)})}_isClosed(){return this.state===bs.closed}_isJoined(){return this.state===bs.joined}_isJoining(){return this.state===bs.joining}_isLeaving(){return this.state===bs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&zU.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fc.close,{},e)}_onError(e){this._on(Fc.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=VV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=VV(e.columns,e.old_record)),n}}const cR=()=>{},BT={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rbe=[1e3,2e3,5e3,1e4],Ibe=1e4,Lbe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dbe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=HD,this.transport=null,this.heartbeatIntervalMs=BT.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cR,this.ref=0,this.reconnectTimer=null,this.logger=cR,this.conn=null,this.sendBuffer=[],this.serializer=new Mbe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>vy(async()=>{const{default:o}=await Promise.resolve().then(()=>by);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${WD.websocket}`,this.httpEndpoint=_J(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wbe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ebe}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case J_.connecting:return Zm.Connecting;case J_.open:return Zm.Open;case J_.closing:return Zm.Closing;default:return Zm.Closed}}isConnected(){return this.connectionState()===Zm.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new zU(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Abe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},BT.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",c=s.status||"";this.log("receive",`${c} ${r} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fc.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Lbe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Sbe};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Fc.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bJ(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},BT.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,o,c,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:HD,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:BT.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:cR,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:f=>Rbe[f-1]||Ibe,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class $U extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Si(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Fbe extends $U{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qD extends $U{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const VU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vy(async()=>{const{default:r}=await Promise.resolve().then(()=>by);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ube=()=>Gt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vy(()=>Promise.resolve().then(()=>by),void 0)).Response:Response}),XD=t=>{if(Array.isArray(t))return t.map(n=>XD(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=XD(r)}),e},Bbe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uR=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},zbe=(t,e,n)=>Gt(void 0,void 0,void 0,function*(){const r=yield Ube();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new Fbe(uR(i),s,a))}).catch(i=>{e(new qD(uR(i),i))}):e(new qD(uR(t),t))}),$be=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Bbe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function wE(t,e,n,r,i,s){return Gt(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,$be(e,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>zbe(c,o,r))})})}function G1(t,e,n,r){return Gt(this,void 0,void 0,function*(){return wE(t,"GET",e,n,r)})}function Oc(t,e,n,r,i){return Gt(this,void 0,void 0,function*(){return wE(t,"POST",e,r,i,n)})}function KD(t,e,n,r,i){return Gt(this,void 0,void 0,function*(){return wE(t,"PUT",e,r,i,n)})}function Vbe(t,e,n,r){return Gt(this,void 0,void 0,function*(){return wE(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function HU(t,e,n,r,i){return Gt(this,void 0,void 0,function*(){return wE(t,"DELETE",e,r,i,n)})}class Hbe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Gt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Si(e))return{data:null,error:e};throw e}})}}var SJ;class Wbe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[SJ]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hbe(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Gt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Si(e))return{data:null,error:e};throw e}})}}SJ=Symbol.toStringTag;const Gbe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qbe{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=VU(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Gt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},GV),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(e=="PUT"?KD:Oc)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Si(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Gt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:GV.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield KD(this.fetch,o.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Si(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Gt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Oc(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new $U("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}update(e,n,r){return Gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Gt(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Si(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Gt(this,void 0,void 0,function*(){try{return{data:{path:(yield Oc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Si(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Gt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Oc(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Si(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Gt(this,void 0,void 0,function*(){try{const i=yield Oc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Si(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),c=()=>G1(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new Wbe(c,this.shouldThrowOnError)}info(e){return Gt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield G1(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:XD(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}exists(e){return Gt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Vbe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r)&&r instanceof qD){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield HU(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Si(n))return{data:null,error:n};throw n}})}list(e,n,r){return Gt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Gbe),n),{prefix:e||""});return{data:yield Oc(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Si(i))return{data:null,error:i};throw i}})}listV2(e,n){return Gt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Oc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const EJ="2.78.0",AJ={"X-Client-Info":`storage-js/${EJ}`};class Xbe{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AJ),n),this.fetch=VU(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Gt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield G1(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Si(n))return{data:null,error:n};throw n}})}getBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield G1(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Si(n))return{data:null,error:n};throw n}})}createBucket(e){return Gt(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Oc(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Si(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Gt(this,void 0,void 0,function*(){try{return{data:yield KD(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Si(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield HU(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Si(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Kbe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AJ),n),this.fetch=VU(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Si(n))return{data:null,error:n};throw n}})}listBuckets(e){return Gt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield G1(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Si(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield HU(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Si(n))return{data:null,error:n};throw n}})}}const WU={"X-Client-Info":`storage-js/${EJ}`,"Content-Type":"application/json"};class TJ extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function il(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class dR extends TJ{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ybe extends TJ{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var qV;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qV||(qV={}));const GU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vy(async()=>{const{default:r}=await Promise.resolve().then(()=>by);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Zbe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},XV=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qbe=(t,e,n)=>Gt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new dR(XV(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new dR(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new dR(o,i,a))}}else e(new Ybe(XV(t),t))}),Jbe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(Zbe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function ewe(t,e,n,r,i,s){return Gt(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,Jbe(e,r,i,s)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>Qbe(c,o,r))})})}function sl(t,e,n,r,i){return Gt(this,void 0,void 0,function*(){return ewe(t,"POST",e,r,i,n)})}class twe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},WU),n),this.fetch=GU(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Gt(this,void 0,void 0,function*(){try{return{data:(yield sl(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(il(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Gt(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(il(r))return{data:null,error:r};throw r}})}listIndexes(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(il(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Gt(this,void 0,void 0,function*(){try{return{data:(yield sl(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(il(r))return{data:null,error:r};throw r}})}}class nwe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},WU),n),this.fetch=GU(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Gt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sl(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(il(n))return{data:null,error:n};throw n}})}getVectors(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(il(n))return{data:null,error:n};throw n}})}listVectors(e){return Gt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield sl(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(il(n))return{data:null,error:n};throw n}})}queryVectors(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(il(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Gt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sl(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(il(n))return{data:null,error:n};throw n}})}}class rwe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},WU),n),this.fetch=GU(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:(yield sl(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(il(n))return{data:null,error:n};throw n}})}getBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(il(n))return{data:null,error:n};throw n}})}listBuckets(){return Gt(this,arguments,void 0,function*(e={}){try{return{data:yield sl(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(il(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:(yield sl(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(il(n))return{data:null,error:n};throw n}})}}class iwe extends rwe{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new swe(this.url,this.headers,e,this.fetch)}}class swe extends twe{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Gt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Gt(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Gt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Gt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new awe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class awe extends nwe{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Gt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Gt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Gt(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Gt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Gt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class owe extends Xbe{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new qbe(this.url,this.headers,e,this.fetch)}get vectors(){return new iwe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Kbe(this.url+"/iceberg",this.headers,this.fetch)}}const lwe="2.78.0";let F_="";typeof Deno<"u"?F_="deno":typeof document<"u"?F_="web":typeof navigator<"u"&&navigator.product==="ReactNative"?F_="react-native":F_="node";const cwe={"X-Client-Info":`supabase-js-${F_}/${lwe}`},uwe={headers:cwe},dwe={schema:"public"},fwe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hwe={},pwe=t=>{let e;return t?e=t:typeof fetch>"u"?e=tJ:e=fetch,(...n)=>e(...n)},mwe=()=>typeof Headers>"u"?nJ:Headers,gwe=(t,e,n)=>{const r=pwe(n),i=mwe();return async(s,a)=>{var o;const c=(o=await e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:u}))}};function ywe(t){return t.endsWith("/")?t:t+"/"}function vwe(t,e){var n,r;const{db:i,auth:s,realtime:a,global:o}=t,{db:c,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function xwe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ywe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const MJ="2.78.0",ax=30*1e3,YD=3,fR=YD*ax,bwe="http://localhost:9999",wwe="supabase.auth.token",_we={"X-Client-Info":`gotrue-js/${MJ}`},ZD="X-Supabase-Api-Version",CJ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Swe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ewe=10*60*1e3;class q1 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Jt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Awe extends q1{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Twe(t){return Jt(t)&&t.name==="AuthApiError"}class Qm extends q1{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Mp extends q1{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Nc extends Mp{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mwe(t){return Jt(t)&&t.name==="AuthSessionMissingError"}class Av extends Mp{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zT extends Mp{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $T extends Mp{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cwe(t){return Jt(t)&&t.name==="AuthImplicitGrantRedirectError"}class KV extends Mp{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class QD extends Mp{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function hR(t){return Jt(t)&&t.name==="AuthRetryableFetchError"}class YV extends Mp{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class JD extends Mp{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ZV=` 	
\r=`.split(""),Nwe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ZV.length;e+=1)t[ZV[e].charCodeAt(0)]=-2;for(let e=0;e<fN.length;e+=1)t[fN[e].charCodeAt(0)]=e;return t})();function QV(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(fN[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(fN[r]),e.queuedBits-=6}}function NJ(t,e,n){const r=Nwe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function JV(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{kwe(a,r,n)};for(let a=0;a<t.length;a+=1)NJ(t.charCodeAt(a),i,s);return e.join("")}function Pwe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jwe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Pwe(r,e)}}function kwe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function zx(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)NJ(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Owe(t){const e=[];return jwe(t,n=>e.push(n)),new Uint8Array(e)}function lg(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>QV(i,n,r)),QV(null,n,r),e.join("")}function Rwe(t){return Math.round(Date.now()/1e3)+t}function Iwe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ua=()=>typeof window<"u"&&typeof document<"u",Am={tested:!1,writable:!1},PJ=()=>{if(!Ua())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Am.tested)return Am.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Am.tested=!0,Am.writable=!0}catch{Am.tested=!0,Am.writable=!1}return Am.writable};function Lwe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const jJ=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vy(async()=>{const{default:r}=await Promise.resolve().then(()=>by);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Dwe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ox=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Tm=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ch=async(t,e)=>{await t.removeItem(e)};class H2{constructor(){this.promise=new H2.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}H2.promiseConstructor=Promise;function pR(t){const e=t.split(".");if(e.length!==3)throw new JD("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Swe.test(e[r]))throw new JD("JWT not in base64url format");return{header:JSON.parse(JV(e[0])),payload:JSON.parse(JV(e[1])),signature:zx(e[2]),raw:{header:e[0],payload:e[1]}}}async function Fwe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Uwe(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function Bwe(t){return("0"+t.toString(16)).substr(-2)}function zwe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Bwe).join("")}async function $we(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Vwe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await $we(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tv(t,e,n=!1){const r=zwe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ox(t,`${e}-code-verifier`,i);const s=await Vwe(r);return[s,r===s?"plain":"s256"]}const Hwe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wwe(t){const e=t.headers.get(ZD);if(!e||!e.match(Hwe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Gwe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function qwe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xwe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mv(t){if(!Xwe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mR(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kwe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function e8(t){return JSON.parse(JSON.stringify(t))}const Vm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ywe=[502,503,504];async function t8(t){var e;if(!Dwe(t))throw new QD(Vm(t),0);if(Ywe.includes(t.status))throw new QD(Vm(t),t.status);let n;try{n=await t.json()}catch(s){throw new Qm(Vm(s),s)}let r;const i=Wwe(t);if(i&&i.getTime()>=CJ["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new YV(Vm(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Nc}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new YV(Vm(n),t.status,n.weak_password.reasons);throw new Awe(Vm(n),t.status||500,r)}const Zwe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function gn(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[ZD]||(s[ZD]=CJ["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Qwe(t,e,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Qwe(t,e,n,r,i,s){const a=Zwe(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new QD(Vm(c),0)}if(o.ok||await t8(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await t8(c)}}function Pc(t){var e;let n=null;t_e(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Rwe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function n8(t){const e=Pc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Oh(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Jwe(t){return{data:t,error:null}}function e_e(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=Tp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function r8(t){return t}function t_e(t){return t.access_token&&t.refresh_token&&t.expires_in}const gR=["global","local","others"];class n_e{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=jJ(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=gR[0]){if(gR.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gR.join(", ")}`);try{return await gn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await gn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Oh})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Tp(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await gn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:e_e,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Jt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await gn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Oh})}catch(n){if(Jt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await gn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:r8});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Jt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Mv(e);try{return await gn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Oh})}catch(n){if(Jt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Mv(e);try{return await gn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Oh})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Mv(e);try{return await gn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Oh})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Mv(e.userId);try{const{data:n,error:r}=await gn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Mv(e.userId),Mv(e.id);try{return{data:await gn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await gn(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:r8});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Jt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await gn(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await gn(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await gn(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await gn(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await gn(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}}}function i8(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Cv={debug:!!(globalThis&&PJ()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kJ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class r_e extends kJ{}async function i_e(t,e,n){Cv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Cv.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Cv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Cv.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Cv.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new r_e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Cv.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function s_e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function OJ(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function a_e(t){return parseInt(t,16)}function o_e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function l_e(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:c,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=OJ(t.address),g=d?`${d}://${r}`:r,v=t.statement?`${t.statement}
`:"",w=`${g} wants you to sign in with your Ethereum account:
${p}

${v}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let _=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);_+=`
- ${S}`}x+=_}return`${w}
${x}`}class ss extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class hN extends ss{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function c_e({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ss({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ss({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ss({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ss({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ss({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ss({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ss({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ss({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(RJ(a)){if(s.rp.id!==a)return new ss({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ss({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ss({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ss({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ss({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function u_e({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ss({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ss({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(RJ(r)){if(n.rpId!==r)return new ss({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ss({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ss({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ss({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class d_e{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const f_e=new d_e;function h_e(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Tp(t,["challenge","user","excludeCredentials"]),s=zx(e).buffer,a=Object.assign(Object.assign({},n),{id:zx(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:zx(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function p_e(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Tp(t,["challenge","allowCredentials"]),i=zx(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:zx(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function m_e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:lg(new Uint8Array(t.response.attestationObject)),clientDataJSON:lg(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function g_e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:lg(new Uint8Array(i.authenticatorData)),clientDataJSON:lg(new Uint8Array(i.clientDataJSON)),signature:lg(new Uint8Array(i.signature)),userHandle:i.userHandle?lg(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function RJ(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function s8(){var t,e;return!!(Ua()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function y_e(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hN("Browser returned unexpected credential type",e)}:{data:null,error:new hN("Empty credential response",e)}}catch(e){return{data:null,error:c_e({error:e,options:t})}}}async function v_e(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hN("Browser returned unexpected credential type",e)}:{data:null,error:new hN("Empty credential response",e)}}catch(e){return{data:null,error:u_e({error:e,options:t})}}}const x_e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},b_e={userVerification:"preferred",hints:["security-key"]};function pN(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const o=r[s];e(o)?r[s]=pN(o,a):r[s]=pN(a)}else r[s]=a}return r}function w_e(t,e){return pN(x_e,t,e||{})}function __e(t,e){return pN(b_e,t,e||{})}class S_e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:o};const c=i??f_e.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=w_e(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await y_e({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=__e(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await v_e(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return Jt(a)?{data:null,error:a}:{data:null,error:new Qm("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new q1("rpId is required for WebAuthn authentication")};try{if(!s8())return{data:null,error:new Qm("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return Jt(a)?{data:null,error:a}:{data:null,error:new Qm("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new q1("rpId is required for WebAuthn registration")};try{if(!s8())return{data:null,error:new Qm("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Jt(a)?{data:null,error:a}:{data:null,error:new Qm("Unexpected error in register",a)}}}}s_e();const E_e={url:bwe,storageKey:wwe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_we,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function a8(t,e,n){return await n()}const Nv={};class X1{get jwks(){var e,n;return(n=(e=Nv[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Nv[this.storageKey]=Object.assign(Object.assign({},Nv[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Nv[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nv[this.storageKey]=Object.assign(Object.assign({},Nv[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=X1.nextInstanceID,X1.nextInstanceID+=1,this.instanceID>0&&Ua()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},E_e),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new n_e({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jJ(i.fetch),this.lock=i.lock||a8,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ua()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=i_e:this.lock=a8,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new S_e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:PJ()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=i8(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=i8(this.memoryStorage)),Ua()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${MJ}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Lwe(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ua()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Cwe(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Jt(n)?{error:n}:{error:new Qm("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await gn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Pc}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Jt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Tv(this.storage,this.storageKey)),s=await gn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Pc})}else if("phone"in e){const{phone:d,password:f,options:h}=e;s=await gn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pc})}else throw new zT("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Jt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await gn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:n8})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await gn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:n8})}else throw new zT("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Av}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Jt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,o,c,u,d,f,h;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:v,wallet:w,statement:x,options:_}=e;let S;if(Ua())if(typeof w=="object")S=w;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")S=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const A=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=OJ(C[0]);let N=(r=_==null?void 0:_.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const U=await S.request({method:"eth_chainId"});N=a_e(U)}const O={domain:A.host,address:T,statement:x,uri:A.href,version:"1",chainId:N,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=_==null?void 0:_.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=l_e(O),g=await S.request({method:"personal_sign",params:[o_e(p),T]})}try{const{data:v,error:w}=await gn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Pc});if(w)throw w;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Av}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:w})}catch(v){if(Jt(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(e){var n,r,i,s,a,o,c,u,d,f,h,p;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:w,wallet:x,statement:_,options:S}=e;let A;if(Ua())if(typeof x=="object")A=x;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))A=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=x}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const T=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),_?{statement:_}:null));let N;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")N=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)N=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${C.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const T=await A.signMessage(new TextEncoder().encode(g),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=T}}try{const{data:w,error:x}=await gn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:lg(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Pc});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Av}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(Jt(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await Tm(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await gn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Pc});if(await ch(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Av}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Jt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await gn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pc}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Av}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Jt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Tv(this.storage,this.storageKey));const{error:f}=await gn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await gn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new zT("You must provide either an email or phone number.")}catch(o){if(Jt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await gn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Pc});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Jt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Tv(this.storage,this.storageKey)),await gn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Jwe})}catch(s){if(Jt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Nc;const{error:i}=await gn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Jt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await gn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await gn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new zT("You must provide either an email or phone number and a type")}catch(n){if(Jt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Tm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<fR:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Tm(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=mR()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Kwe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await gn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Oh}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nc}:await gn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Oh})})}catch(n){if(Jt(n))return Mwe(n)&&(await this._removeSession(),await ch(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Nc;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Tv(this.storage,this.storageKey));const{data:u,error:d}=await gn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Oh});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nc;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=pR(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Jt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Nc;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Jt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ua())throw new $T("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $T(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new KV("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $T("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new KV("No code detected.");const{data:_,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=e;if(!s||!o||!a||!u)throw new $T("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=ax&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:v,error:w}=await this._getUser(s);if(w)throw w;const x={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(Jt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Tm(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Twe(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await ch(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Iwe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Tv(this.storage,this.storageKey,!0));try{return await gn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Jt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,c,u,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await gn(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ua()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Jt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:c,access_token:u,nonce:d}=e,f=await gn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pc}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Av}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(i){if(Jt(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await gn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Uwe(async i=>(i>0&&await Fwe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await gn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pc})),(i,s)=>{const a=200*Math.pow(2,i);return s&&hR(s)&&Date.now()+a-r<ax})}catch(r){if(this._debug(n,"error",r),Jt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ua()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Tm(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Tm(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ox(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:mR()}else if(i&&!i.user&&!i.user){const a=await Tm(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ch(this.storage,this.storageKey+"-user"),await ox(this.storage,this.storageKey,i)):i.user=mR()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fR;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${fR}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),hR(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Nc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new H2;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Nc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Jt(s)){const a={data:null,error:s};return hR(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ox(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=e8(i);await ox(this.storage,this.storageKey,s)}else{const i=e8(n);await ox(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ch(this.storage,this.storageKey),await ch(this.storage,this.storageKey+"-code-verifier"),await ch(this.storage,this.storageKey+"-user"),this.userStorage&&await ch(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ua()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ax);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ax);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ax}ms, refresh threshold is ${YD} ticks`),i<=YD&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kJ)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ua()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Tv(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await gn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await gn(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?m_e(e.webauthn.credential_response):g_e(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:c}=await gn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=await gn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h_e(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:p_e(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=pR(r.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?{data:null,error:i}:r?await gn(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Nc}})}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Nc};const a=await gn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Ua()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Nc};const a=await gn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Ua()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Ewe>i)return r;const{data:s,error:a}=await gn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=pR(r);n!=null&&n.allowExpired||Gwe(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=qwe(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Owe(`${o}.${c}`)))throw new JD("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}}X1.nextInstanceID=0;const A_e=X1;class T_e extends A_e{constructor(e){super(e)}}class M_e{constructor(e,n,r){var i,s,a;this.supabaseUrl=e,this.supabaseKey=n;const o=xwe(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:dwe,realtime:hwe,auth:Object.assign(Object.assign({},fwe),{storageKey:c}),global:uwe},d=vwe(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=gwe(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new bbe(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new owe(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new fbe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:a,flowType:o,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new T_e({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:o,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Dbe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const C_e=(t,e,n)=>new M_e(t,e,n);function N_e(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}N_e()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const P_e="https://axoqjwvqxgtzsdmlmnbv.supabase.co",j_e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4b3Fqd3ZxeGd0enNkbWxtbmJ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4Mzk1MzAsImV4cCI6MjA3NzQxNTUzMH0.O6gYAuqbY9xplmgCgP3e702xDXngVCnr5nL6QP2Umdg",Xe=C_e(P_e,j_e,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),la=PQ()(abe((t,e)=>({user:null,session:null,profile:null,role:null,isLoading:!0,error:null,initialize:async()=>{var n,r;t({isLoading:!0});try{const{data:{session:i}}=await Xe.auth.getSession();if(i!=null&&i.user){const{data:s}=await Xe.from("profiles").select("*").eq("id",i.user.id).single(),{data:a}=await Xe.from("user_roles").select("role").eq("user_id",i.user.id).order("role",{ascending:!0}),o=((n=a==null?void 0:a.find(c=>c.role==="admin"))==null?void 0:n.role)||((r=a==null?void 0:a[0])==null?void 0:r.role)||null;t({user:i.user,session:i,profile:s||null,role:o,isLoading:!1})}else t({isLoading:!1})}catch(i){console.error("Auth initialization error:",i),t({isLoading:!1,error:i.message})}Xe.auth.onAuthStateChange((i,s)=>{t({session:s,user:(s==null?void 0:s.user)??null}),s!=null&&s.user?setTimeout(()=>{(async()=>{var d,f;const{data:o}=await Xe.from("profiles").select("*").eq("id",s.user.id).single(),{data:c}=await Xe.from("user_roles").select("role").eq("user_id",s.user.id).order("role",{ascending:!0}),u=((d=c==null?void 0:c.find(h=>h.role==="admin"))==null?void 0:d.role)||((f=c==null?void 0:c[0])==null?void 0:f.role)||null;t({profile:o||null,role:u})})()},0):t({profile:null,role:null})})},signUp:async(n,r,i,s)=>{t({isLoading:!0,error:null});try{const{data:a,error:o}=await Xe.auth.signUp({email:n,password:r,options:{data:{username:i,full_name:s||""},emailRedirectTo:`${window.location.origin}/`}});if(o)throw o;t({user:a.user,session:a.session,isLoading:!1})}catch(a){throw t({error:a.message,isLoading:!1}),a}},signIn:async(n,r)=>{var i,s;t({isLoading:!0,error:null});try{const{data:a,error:o}=await Xe.auth.signInWithPassword({email:n,password:r});if(o)throw o;const{data:c}=await Xe.from("profiles").select("*").eq("id",a.user.id).single(),{data:u}=await Xe.from("user_roles").select("role").eq("user_id",a.user.id).order("role",{ascending:!0}),d=((i=u==null?void 0:u.find(f=>f.role==="admin"))==null?void 0:i.role)||((s=u==null?void 0:u[0])==null?void 0:s.role)||null;t({user:a.user,session:a.session,profile:c||null,role:d,isLoading:!1})}catch(a){throw t({error:a.message,isLoading:!1}),a}},signOut:async()=>{t({isLoading:!0});try{await Xe.auth.signOut(),t({user:null,session:null,profile:null,role:null,isLoading:!1,error:null})}catch(n){console.error("Sign out error:",n),t({isLoading:!1})}},updateProfile:async n=>{const{user:r}=e();if(!r)throw new Error("Not authenticated");t({isLoading:!0,error:null});try{const{data:i,error:s}=await Xe.from("profiles").update(n).eq("id",r.id).select().single();if(s)throw s;t({profile:i,isLoading:!1})}catch(i){throw t({error:i.message,isLoading:!1}),i}},clearError:()=>{t({error:null})}}),{name:"auth-storage",partialize:t=>({})}));class k_e{constructor(){ys(this,"enabled");this.enabled=!0}captureException(e,n){console.error("[Error Handler]",e,n),this.enabled&&this.storeError(e,n)}captureMessage(e,n="info",r){console.log(`[${n.toUpperCase()}]`,e,r),this.enabled}storeError(e,n){try{const r={message:e.message,stack:e.stack,context:n,timestamp:new Date().toISOString()},i=JSON.parse(localStorage.getItem("error_logs")||"[]");i.push(r);const s=i.slice(-10);localStorage.setItem("error_logs",JSON.stringify(s))}catch(r){console.error("Failed to store error:",r)}}setUser(e,n){this.enabled}clearUser(){this.enabled}}const o8=new k_e;/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O_e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:c,...u},d)=>j.createElement("svg",{ref:d,...O_e,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${R_e(t)}`,o].join(" "),...u},[...e.map(([f,h])=>j.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_e=rt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_e=rt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_e=rt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=rt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=rt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=rt("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=rt("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_e=rt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_e=rt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_e=rt("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_e=rt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=rt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=rt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=rt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_e=rt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=rt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=rt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=rt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=rt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_e=rt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=rt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_e=rt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=rt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=rt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=rt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=rt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_e=rt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=rt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=rt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=rt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_e=rt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=rt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=rt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=rt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_e=rt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_e=rt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=rt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_e=rt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=rt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=rt("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_e=rt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=rt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_e=rt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=rt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=rt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_e=rt("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=rt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=rt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_e=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=rt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=rt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1e=rt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1e=rt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=rt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=rt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1e=rt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=rt("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=rt("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=rt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1e=rt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=rt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=rt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=rt("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1e=rt("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1e=rt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=rt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1e=rt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1e=rt("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=rt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=rt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=rt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=rt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=rt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1e=rt("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=rt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=rt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=rt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1e=rt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1e=rt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1e=rt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1e=rt("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1e=rt("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=rt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1e=rt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=rt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=rt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1e=rt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=rt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1e=rt("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=rt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1e=rt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=rt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=rt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function v1e({children:t}){const{user:e,isLoading:n}=la();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(ri,{className:"h-8 w-8 animate-spin text-blue-600"})}):e?l.jsx(l.Fragment,{children:t}):l.jsx(gQ,{to:"/auth/login",replace:!0})}const n3=(t,e)=>e.some(n=>t instanceof n);let f8,h8;function x1e(){return f8||(f8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b1e(){return h8||(h8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r3=new WeakMap,vR=new WeakMap,Z2=new WeakMap;function w1e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Og(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return Z2.set(e,t),e}function _1e(t){if(r3.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});r3.set(t,e)}let i3={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Og(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qJ(t){i3=t(i3)}function S1e(t){return b1e().includes(t)?function(...e){return t.apply(s3(this),e),Og(this.request)}:function(...e){return Og(t.apply(s3(this),e))}}function E1e(t){return typeof t=="function"?S1e(t):(t instanceof IDBTransaction&&_1e(t),n3(t,x1e())?new Proxy(t,i3):t)}function Og(t){if(t instanceof IDBRequest)return w1e(t);if(vR.has(t))return vR.get(t);const e=E1e(t);return e!==t&&(vR.set(t,e),Z2.set(e,t)),e}const s3=t=>Z2.get(t);function A1e(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Og(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Og(a.result),c.oldVersion,c.newVersion,Og(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const T1e=["get","getKey","getAll","getAllKeys","count"],M1e=["put","add","delete","clear"],xR=new Map;function p8(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xR.get(e))return xR.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=M1e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||T1e.includes(n)))return;const s=async function(a,...o){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&c.done]))[0]};return xR.set(e,s),s}qJ(t=>({...t,get:(e,n,r)=>p8(e,n)||t.get(e,n,r),has:(e,n)=>!!p8(e,n)||t.has(e,n)}));const C1e=["continue","continuePrimaryKey","advance"],m8={},a3=new WeakMap,XJ=new WeakMap,N1e={get(t,e){if(!C1e.includes(e))return t[e];let n=m8[e];return n||(n=m8[e]=function(...r){a3.set(this,XJ.get(this)[e](...r))}),n}};async function*P1e(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,N1e);for(XJ.set(n,e),Z2.set(n,s3(e));e;)yield n,e=await(a3.get(n)||e.continue()),a3.delete(n)}function g8(t,e){return e===Symbol.asyncIterator&&n3(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&n3(t,[IDBIndex,IDBObjectStore])}qJ(t=>({...t,get(e,n,r){return g8(e,n)?P1e:t.get(e,n,r)},has(e,n){return g8(e,n)||t.has(e,n)}}));const ng=class ng{constructor(){ys(this,"db");ys(this,"dbName","agentbio_offline");ys(this,"dbVersion",1)}static getInstance(){return ng.instance||(ng.instance=new ng),ng.instance}async init(){try{this.db=await A1e(this.dbName,this.dbVersion,{upgrade(e){if(!e.objectStoreNames.contains("listings")){const n=e.createObjectStore("listings",{keyPath:"id"});n.createIndex("by-status","status"),n.createIndex("by-lastSync","lastSync")}if(!e.objectStoreNames.contains("leads")){const n=e.createObjectStore("leads",{keyPath:"id"});n.createIndex("by-read","read"),n.createIndex("by-timestamp","timestamp")}if(!e.objectStoreNames.contains("syncQueue")){const n=e.createObjectStore("syncQueue",{keyPath:"id"});n.createIndex("by-timestamp","timestamp"),n.createIndex("by-attempts","attempts")}e.objectStoreNames.contains("userPreferences")||e.createObjectStore("userPreferences",{keyPath:"key"})}}),console.log("[OfflineStorage] Database initialized")}catch(e){throw console.error("[OfflineStorage] Failed to initialize database:",e),e}}async saveListing(e){this.db||await this.init(),await this.db.put("listings",e)}async getListing(e){return this.db||await this.init(),await this.db.get("listings",e)}async getAllListings(){return this.db||await this.init(),await this.db.getAll("listings")}async getListingsByStatus(e){return this.db||await this.init(),await this.db.getAllFromIndex("listings","by-status",e)}async deleteListing(e){this.db||await this.init(),await this.db.delete("listings",e)}async saveLead(e){this.db||await this.init(),await this.db.put("leads",e)}async getLead(e){return this.db||await this.init(),await this.db.get("leads",e)}async getAllLeads(){return this.db||await this.init(),await this.db.getAll("leads")}async getUnreadLeads(){return this.db||await this.init(),await this.db.getAllFromIndex("leads","by-read",0)}async addToSyncQueue(e){this.db||await this.init(),await this.db.put("syncQueue",e)}async getSyncQueue(){return this.db||await this.init(),await this.db.getAll("syncQueue")}async removeFromSyncQueue(e){this.db||await this.init(),await this.db.delete("syncQueue",e)}async incrementSyncAttempts(e){this.db||await this.init();const n=await this.db.get("syncQueue",e);n&&(n.attempts+=1,n.lastAttempt=Date.now(),await this.db.put("syncQueue",n))}async savePreference(e,n){this.db||await this.init(),await this.db.put("userPreferences",{key:e,value:n,lastSync:Date.now()})}async getPreference(e){this.db||await this.init();const n=await this.db.get("userPreferences",e);return n==null?void 0:n.value}async clearAllData(){this.db||await this.init(),await this.db.clear("listings"),await this.db.clear("leads"),await this.db.clear("syncQueue"),await this.db.clear("userPreferences"),console.log("[OfflineStorage] All data cleared")}};ys(ng,"instance");let o3=ng;const j1e=o3.getInstance(),k1e=void 0,rg=class rg{constructor(){ys(this,"messaging");ys(this,"currentToken")}static getInstance(){return rg.instance||(rg.instance=new rg),rg.instance}async init(){return console.warn("[PushNotifications] Firebase not configured"),!1}async requestPermission(){try{const e=await Notification.requestPermission();return console.log("[PushNotifications] Permission:",e),e==="granted"}catch(e){return console.error("[PushNotifications] Permission request failed:",e),!1}}async getToken(){if(!this.messaging&&(await this.init(),!this.messaging))return null;try{const{getToken:e}=await vy(async()=>{const{getToken:r}=await import("./index.esm-CaZh5XQD.js");return{getToken:r}},[]),n=await e(this.messaging,{vapidKey:k1e});return n?(console.log("[PushNotifications] FCM Token:",n),this.currentToken=n,n):(console.log("[PushNotifications] No registration token available"),null)}catch(e){return console.error("[PushNotifications] Failed to get token:",e),null}}async registerToken(e){const n=await this.getToken();if(!n)return!1;try{if(!(await fetch("/api/v1/notifications/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({token:n,userId:e,device:this.getDeviceInfo()})})).ok)throw new Error("Failed to register token");return console.log("[PushNotifications] Token registered successfully"),!0}catch(r){return console.error("[PushNotifications] Failed to register token:",r),!1}}async unregisterToken(){if(!this.currentToken)return!0;try{if(!(await fetch("/api/v1/notifications/unregister",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({token:this.currentToken})})).ok)throw new Error("Failed to unregister token");return console.log("[PushNotifications] Token unregistered successfully"),this.currentToken=void 0,!0}catch(e){return console.error("[PushNotifications] Failed to unregister token:",e),!1}}handleForegroundMessage(e){const{notification:n,data:r}=e;n&&this.showNotification(n.title,{body:n.body,icon:n.icon||"/icons/icon-192.png",badge:"/icons/icon-72.png",data:r,tag:(r==null?void 0:r.type)||"default",requireInteraction:(r==null?void 0:r.requireInteraction)==="true"}),window.dispatchEvent(new CustomEvent("push-notification",{detail:e}))}async showNotification(e,n){if("Notification"in window&&Notification.permission==="granted")try{await(await navigator.serviceWorker.ready).showNotification(e,n)}catch(r){console.error("[PushNotifications] Failed to show notification:",r),new Notification(e,n)}}getDeviceInfo(){return{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,timestamp:Date.now()}}isSupported(){return"Notification"in window&&"serviceWorker"in navigator}getPermissionStatus(){return Notification.permission}};ys(rg,"instance");let l3=rg;const bR=l3.getInstance(),JU=({title:t,description:e,ogImage:n,canonicalUrl:r,keywords:i=[],schema:s})=>{const a=t.length>60?t.substring(0,57)+"...":t,o=e.length>160?e.substring(0,157)+"...":e;return l.jsxs(z2,{children:[l.jsx("title",{children:a}),l.jsx("meta",{name:"title",content:a}),l.jsx("meta",{name:"description",content:o}),i.length>0&&l.jsx("meta",{name:"keywords",content:i.join(", ")}),r&&l.jsx("link",{rel:"canonical",href:r}),l.jsx("meta",{property:"og:type",content:"website"}),l.jsx("meta",{property:"og:title",content:a}),l.jsx("meta",{property:"og:description",content:o}),n&&l.jsx("meta",{property:"og:image",content:n}),r&&l.jsx("meta",{property:"og:url",content:r}),l.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),l.jsx("meta",{property:"twitter:title",content:a}),l.jsx("meta",{property:"twitter:description",content:o}),n&&l.jsx("meta",{property:"twitter:image",content:n}),l.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s&&l.jsx("script",{type:"application/ld+json",children:JSON.stringify(s)})]})};function y8(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function KJ(...t){return e=>{let n=!1;const r=t.map(i=>{const s=y8(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():y8(t[i],null)}}}}function jr(...t){return j.useCallback(KJ(...t),t)}function Jg(t){const e=R1e(t),n=j.forwardRef((r,i)=>{const{children:s,...a}=r,o=j.Children.toArray(s),c=o.find(L1e);if(c){const u=c.props.children,d=o.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...a,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var O1e=Jg("Slot");function R1e(t){const e=j.forwardRef((n,r)=>{const{children:i,...s}=n;if(j.isValidElement(i)){const a=F1e(i),o=D1e(s,i.props);return i.type!==j.Fragment&&(o.ref=r?KJ(r,a):a),j.cloneElement(i,o)}return j.Children.count(i)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var YJ=Symbol("radix.slottable");function I1e(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=YJ,e}function L1e(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===YJ}function D1e(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function F1e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ZJ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ZJ(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ZJ(t))&&(r&&(r+=" "),r+=e);return r}const v8=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,x8=nr,Q2=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return x8(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=v8(d)||v8(f);return i[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[v,w]=g;return Array.isArray(w)?w.includes({...s,...o}[v]):{...s,...o}[v]===w})?[...u,f,h]:u},[]);return x8(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},eB="-",U1e=t=>{const e=z1e(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(eB);return o[0]===""&&o.length!==1&&o.shift(),QJ(o,e)||B1e(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},QJ=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?QJ(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(eB);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},b8=/^\[(.+)\]$/,B1e=t=>{if(b8.test(t)){const e=b8.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},z1e=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return V1e(Object.entries(t.classGroups),n).forEach(([s,a])=>{c3(a,r,s,e)}),r},c3=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:w8(e,i);s.classGroupId=n;return}if(typeof i=="function"){if($1e(i)){c3(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{c3(a,w8(e,s),n,r)})})},w8=(t,e)=>{let n=t;return e.split(eB).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$1e=t=>t.isThemeGetter,V1e=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,H1e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},JJ="!",W1e=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const c=[];let u=0,d=0,f;for(let w=0;w<o.length;w++){let x=o[w];if(u===0){if(x===i&&(r||o.slice(w,w+s)===e)){c.push(o.slice(d,w)),d=w+s;continue}if(x==="/"){f=w;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?o:o.substring(d),p=h.startsWith(JJ),g=p?h.substring(1):h,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}};return n?o=>n({className:o,parseClassName:a}):a},G1e=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},q1e=t=>({cache:H1e(t.cacheSize),parseClassName:W1e(t),...U1e(t)}),X1e=/\s+/,K1e=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(X1e);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let g=!!p,v=r(g?h.substring(0,p):h);if(!v){if(!g){o=u+(o.length>0?" "+o:o);continue}if(v=r(h),!v){o=u+(o.length>0?" "+o:o);continue}g=!1}const w=G1e(d).join(":"),x=f?w+JJ:w,_=x+v;if(s.includes(_))continue;s.push(_);const S=i(v,g);for(let A=0;A<S.length;++A){const C=S[A];s.push(x+C)}o=u+(o.length>0?" "+o:o)}return o};function Y1e(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eee(e))&&(r&&(r+=" "),r+=n);return r}const eee=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eee(t[r]))&&(n&&(n+=" "),n+=e);return n};function Z1e(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=q1e(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=K1e(c,n);return i(c,d),d}return function(){return s(Y1e.apply(null,arguments))}}const ai=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tee=/^\[(?:([a-z-]+):)?(.+)\]$/i,Q1e=/^\d+\/\d+$/,J1e=new Set(["px","full","screen"]),eSe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tSe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nSe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rSe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iSe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ad=t=>$x(t)||J1e.has(t)||Q1e.test(t),uh=t=>gb(t,"length",fSe),$x=t=>!!t&&!Number.isNaN(Number(t)),wR=t=>gb(t,"number",$x),Yw=t=>!!t&&Number.isInteger(Number(t)),sSe=t=>t.endsWith("%")&&$x(t.slice(0,-1)),$n=t=>tee.test(t),dh=t=>eSe.test(t),aSe=new Set(["length","size","percentage"]),oSe=t=>gb(t,aSe,nee),lSe=t=>gb(t,"position",nee),cSe=new Set(["image","url"]),uSe=t=>gb(t,cSe,pSe),dSe=t=>gb(t,"",hSe),Zw=()=>!0,gb=(t,e,n)=>{const r=tee.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},fSe=t=>tSe.test(t)&&!nSe.test(t),nee=()=>!1,hSe=t=>rSe.test(t),pSe=t=>iSe.test(t),mSe=()=>{const t=ai("colors"),e=ai("spacing"),n=ai("blur"),r=ai("brightness"),i=ai("borderColor"),s=ai("borderRadius"),a=ai("borderSpacing"),o=ai("borderWidth"),c=ai("contrast"),u=ai("grayscale"),d=ai("hueRotate"),f=ai("invert"),h=ai("gap"),p=ai("gradientColorStops"),g=ai("gradientColorStopPositions"),v=ai("inset"),w=ai("margin"),x=ai("opacity"),_=ai("padding"),S=ai("saturate"),A=ai("scale"),C=ai("sepia"),T=ai("skew"),N=ai("space"),O=ai("translate"),U=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",$n,e],B=()=>[$n,e],G=()=>["",Ad,uh],K=()=>["auto",$x,$n],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",$n],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[$x,$n];return{cacheSize:500,separator:":",theme:{colors:[Zw],spacing:[Ad,uh],blur:["none","",dh,$n],brightness:oe(),borderColor:[t],borderRadius:["none","","full",dh,$n],borderSpacing:B(),borderWidth:G(),contrast:oe(),grayscale:X(),hueRotate:oe(),invert:X(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[sSe,uh],inset:I(),margin:I(),opacity:oe(),padding:B(),saturate:oe(),scale:oe(),sepia:X(),skew:oe(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",$n]}],container:["container"],columns:[{columns:[dh]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),$n]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yw,$n]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$n]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",Yw,$n]}],"grid-cols":[{"grid-cols":[Zw]}],"col-start-end":[{col:["auto",{span:["full",Yw,$n]},$n]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Zw]}],"row-start-end":[{row:["auto",{span:[Yw,$n]},$n]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$n]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$n]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$n,e]}],"min-w":[{"min-w":[$n,e,"min","max","fit"]}],"max-w":[{"max-w":[$n,e,"none","full","min","max","fit","prose",{screen:[dh]},dh]}],h:[{h:[$n,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$n,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$n,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$n,e,"auto","min","max","fit"]}],"font-size":[{text:["base",dh,uh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wR]}],"font-family":[{font:[Zw]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$n]}],"line-clamp":[{"line-clamp":["none",$x,wR]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ad,$n]}],"list-image":[{"list-image":["none",$n]}],"list-style-type":[{list:["none","disc","decimal",$n]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ad,uh]}],"underline-offset":[{"underline-offset":["auto",Ad,$n]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$n]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$n]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),lSe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oSe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uSe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Ad,$n]}],"outline-w":[{outline:[Ad,uh]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ad,uh]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",dh,dSe]}],"shadow-color":[{shadow:[Zw]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",dh,$n]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$n]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",$n]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",$n]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Yw,$n]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$n]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$n]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$n]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ad,uh,wR]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gSe=Z1e(mSe);function at(...t){return gSe(nr(t))}const tB=Q2("relative inline-flex items-center justify-center whitespace-nowrap font-light tracking-tight text-sm transition-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"glass backdrop-blur-md text-foreground hover:bg-foreground/10",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-foreground underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 rounded-xl",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-xl px-8",icon:"h-10 w-10 rounded-xl"}},defaultVariants:{variant:"default",size:"default"}}),Ve=j.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?O1e:"button";return l.jsx(a,{className:at(tB({variant:e,size:n,className:t})),ref:s,...i})});Ve.displayName="Button";const Ft=j.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:at("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Ft.displayName="Input";const an=j.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:at("rounded-lg border border-gray-200 bg-white text-gray-900 shadow-sm",t),...e}));an.displayName="Card";const Cr=j.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:at("flex flex-col space-y-1.5 p-6",t),...e}));Cr.displayName="CardHeader";const Nr=j.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:at("text-2xl font-semibold leading-none tracking-tight",t),...e}));Nr.displayName="CardTitle";const Gr=j.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:at("text-sm text-gray-500",t),...e}));Gr.displayName="CardDescription";const bn=j.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:at("p-6 pt-0",t),...e}));bn.displayName="CardContent";const J2=j.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:at("flex items-center p-6 pt-0",t),...e}));J2.displayName="CardFooter";const ySe=Q2("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-gray-900 text-gray-50 hover:bg-gray-900/80",secondary:"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-100/80",destructive:"border-transparent bg-red-500 text-gray-50 hover:bg-red-500/80",outline:"text-gray-900",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function rn({className:t,variant:e,...n}){return l.jsx("div",{className:at(ySe({variant:e}),t),...n})}function _8(t,[e,n]){return Math.min(n,Math.max(e,t))}function On(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function vSe(t,e){const n=j.createContext(e),r=s=>{const{children:a,...o}=s,c=j.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function i(s){const a=j.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function ac(t,e=[]){let n=[];function r(s,a){const o=j.createContext(a),c=n.length;n=[...n,a];const u=f=>{var x;const{scope:h,children:p,...g}=f,v=((x=h==null?void 0:h[t])==null?void 0:x[c])||o,w=j.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:w,children:p})};u.displayName=s+"Provider";function d(f,h){var v;const p=((v=h==null?void 0:h[t])==null?void 0:v[c])||o,g=j.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>j.createContext(a));return function(o){const c=(o==null?void 0:o[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return i.scopeName=t,[r,xSe(i,...e)]}function xSe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function ree(t){const e=t+"CollectionProvider",[n,r]=ac(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:w,children:x}=v,_=ne.useRef(null),S=ne.useRef(new Map).current;return l.jsx(i,{scope:w,itemMap:S,collectionRef:_,children:x})};a.displayName=e;const o=t+"CollectionSlot",c=Jg(o),u=ne.forwardRef((v,w)=>{const{scope:x,children:_}=v,S=s(o,x),A=jr(w,S.collectionRef);return l.jsx(c,{ref:A,children:_})});u.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Jg(d),p=ne.forwardRef((v,w)=>{const{scope:x,children:_,...S}=v,A=ne.useRef(null),C=jr(w,A),T=s(d,x);return ne.useEffect(()=>(T.itemMap.set(A,{ref:A,...S}),()=>void T.itemMap.delete(A))),l.jsx(h,{[f]:"",ref:C,children:_})});p.displayName=d;function g(v){const w=s(t+"CollectionConsumer",v);return ne.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const S=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((T,N)=>S.indexOf(T.ref.current)-S.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},g,r]}var bSe=j.createContext(void 0);function nB(t){const e=j.useContext(bSe);return t||e||"ltr"}var wSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sn=wSe.reduce((t,e)=>{const n=Jg(`Primitive.${e}`),r=j.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _Se(t,e){t&&lb.flushSync(()=>t.dispatchEvent(e))}function uf(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function SSe(t,e=globalThis==null?void 0:globalThis.document){const n=uf(t);j.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ESe="DismissableLayer",u3="dismissableLayer.update",ASe="dismissableLayer.pointerDownOutside",TSe="dismissableLayer.focusOutside",S8,iee=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ej=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=t,u=j.useContext(iee),[d,f]=j.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),g=jr(e,N=>f(N)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(w),_=d?v.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,A=_>=x,C=NSe(N=>{const O=N.target,U=[...u.branches].some(R=>R.contains(O));!A||U||(i==null||i(N),a==null||a(N),N.defaultPrevented||o==null||o())},h),T=PSe(N=>{const O=N.target;[...u.branches].some(R=>R.contains(O))||(s==null||s(N),a==null||a(N),N.defaultPrevented||o==null||o())},h);return SSe(N=>{_===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},h),j.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(S8=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),E8(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=S8)}},[d,h,n,u]),j.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),E8())},[d,u]),j.useEffect(()=>{const N=()=>p({});return document.addEventListener(u3,N),()=>document.removeEventListener(u3,N)},[]),l.jsx(Sn.div,{...c,ref:g,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:On(t.onFocusCapture,T.onFocusCapture),onBlurCapture:On(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:On(t.onPointerDownCapture,C.onPointerDownCapture)})});ej.displayName=ESe;var MSe="DismissableLayerBranch",CSe=j.forwardRef((t,e)=>{const n=j.useContext(iee),r=j.useRef(null),i=jr(e,r);return j.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(Sn.div,{...t,ref:i})});CSe.displayName=MSe;function NSe(t,e=globalThis==null?void 0:globalThis.document){const n=uf(t),r=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){see(ASe,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function PSe(t,e=globalThis==null?void 0:globalThis.document){const n=uf(t),r=j.useRef(!1);return j.useEffect(()=>{const i=s=>{s.target&&!r.current&&see(TSe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function E8(){const t=new CustomEvent(u3);document.dispatchEvent(t)}function see(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?_Se(i,s):i.dispatchEvent(s)}var _R=0;function rB(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??A8()),document.body.insertAdjacentElement("beforeend",t[1]??A8()),_R++,()=>{_R===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_R--}},[])}function A8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var SR="focusScope.autoFocusOnMount",ER="focusScope.autoFocusOnUnmount",T8={bubbles:!1,cancelable:!0},jSe="FocusScope",tj=j.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,c]=j.useState(null),u=uf(i),d=uf(s),f=j.useRef(null),h=jr(e,v=>c(v)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let v=function(S){if(p.paused||!o)return;const A=S.target;o.contains(A)?f.current=A:Sh(f.current,{select:!0})},w=function(S){if(p.paused||!o)return;const A=S.relatedTarget;A!==null&&(o.contains(A)||Sh(f.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&Sh(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const _=new MutationObserver(x);return o&&_.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),_.disconnect()}}},[r,o,p.paused]),j.useEffect(()=>{if(o){C8.add(p);const v=document.activeElement;if(!o.contains(v)){const x=new CustomEvent(SR,T8);o.addEventListener(SR,u),o.dispatchEvent(x),x.defaultPrevented||(kSe(DSe(aee(o)),{select:!0}),document.activeElement===v&&Sh(o))}return()=>{o.removeEventListener(SR,u),setTimeout(()=>{const x=new CustomEvent(ER,T8);o.addEventListener(ER,d),o.dispatchEvent(x),x.defaultPrevented||Sh(v??document.body,{select:!0}),o.removeEventListener(ER,d),C8.remove(p)},0)}}},[o,u,d,p]);const g=j.useCallback(v=>{if(!n&&!r||p.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(w&&x){const _=v.currentTarget,[S,A]=OSe(_);S&&A?!v.shiftKey&&x===A?(v.preventDefault(),n&&Sh(S,{select:!0})):v.shiftKey&&x===S&&(v.preventDefault(),n&&Sh(A,{select:!0})):x===_&&v.preventDefault()}},[n,r,p.paused]);return l.jsx(Sn.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});tj.displayName=jSe;function kSe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Sh(r,{select:e}),document.activeElement!==n)return}function OSe(t){const e=aee(t),n=M8(e,t),r=M8(e.reverse(),t);return[n,r]}function aee(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function M8(t,e){for(const n of t)if(!RSe(n,{upTo:e}))return n}function RSe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ISe(t){return t instanceof HTMLInputElement&&"select"in t}function Sh(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ISe(t)&&e&&t.select()}}var C8=LSe();function LSe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=N8(t,e),t.unshift(e)},remove(e){var n;t=N8(t,e),(n=t[0])==null||n.resume()}}}function N8(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function DSe(t){return t.filter(e=>e.tagName!=="A")}var As=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},FSe=LF[" useId ".trim().toString()]||(()=>{}),USe=0;function Zd(t){const[e,n]=j.useState(FSe());return As(()=>{n(r=>r??String(USe++))},[t]),e?`radix-${e}`:""}const BSe=["top","right","bottom","left"],pp=Math.min,nl=Math.max,vN=Math.round,VT=Math.floor,Wu=t=>({x:t,y:t}),zSe={left:"right",right:"left",bottom:"top",top:"bottom"},$Se={start:"end",end:"start"};function d3(t,e,n){return nl(t,pp(e,n))}function df(t,e){return typeof t=="function"?t(e):t}function ff(t){return t.split("-")[0]}function yb(t){return t.split("-")[1]}function iB(t){return t==="x"?"y":"x"}function sB(t){return t==="y"?"height":"width"}const VSe=new Set(["top","bottom"]);function Du(t){return VSe.has(ff(t))?"y":"x"}function aB(t){return iB(Du(t))}function HSe(t,e,n){n===void 0&&(n=!1);const r=yb(t),i=aB(t),s=sB(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=xN(a)),[a,xN(a)]}function WSe(t){const e=xN(t);return[f3(t),e,f3(e)]}function f3(t){return t.replace(/start|end/g,e=>$Se[e])}const P8=["left","right"],j8=["right","left"],GSe=["top","bottom"],qSe=["bottom","top"];function XSe(t,e,n){switch(t){case"top":case"bottom":return n?e?j8:P8:e?P8:j8;case"left":case"right":return e?GSe:qSe;default:return[]}}function KSe(t,e,n,r){const i=yb(t);let s=XSe(ff(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(f3)))),s}function xN(t){return t.replace(/left|right|bottom|top/g,e=>zSe[e])}function YSe(t){return{top:0,right:0,bottom:0,left:0,...t}}function oee(t){return typeof t!="number"?YSe(t):{top:t,right:t,bottom:t,left:t}}function bN(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function k8(t,e,n){let{reference:r,floating:i}=t;const s=Du(e),a=aB(e),o=sB(a),c=ff(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(yb(e)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const ZSe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=k8(u,r,c),h=r,p={},g=0;for(let v=0;v<o.length;v++){const{name:w,fn:x}=o[v],{x:_,y:S,data:A,reset:C}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=_??d,f=S??f,p={...p,[w]:{...p[w],...A}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:d,y:f}=k8(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function J1(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=df(e,t),g=oee(p),w=o[h?f==="floating"?"reference":"floating":f],x=bN(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),_=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),A=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},C=bN(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:S,strategy:c}):_);return{top:(x.top-C.top+g.top)/A.y,bottom:(C.bottom-x.bottom+g.bottom)/A.y,left:(x.left-C.left+g.left)/A.x,right:(C.right-x.right+g.right)/A.x}}const QSe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=df(t,e)||{};if(u==null)return{};const f=oee(d),h={x:n,y:r},p=aB(i),g=sB(p),v=await a.getDimensions(u),w=p==="y",x=w?"top":"left",_=w?"bottom":"right",S=w?"clientHeight":"clientWidth",A=s.reference[g]+s.reference[p]-h[p]-s.floating[g],C=h[p]-s.reference[p],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=T?T[S]:0;(!N||!await(a.isElement==null?void 0:a.isElement(T)))&&(N=o.floating[S]||s.floating[g]);const O=A/2-C/2,U=N/2-v[g]/2-1,R=pp(f[x],U),I=pp(f[_],U),B=R,G=N-v[g]-I,K=N/2-v[g]/2+O,Q=d3(B,K,G),q=!c.arrow&&yb(i)!=null&&K!==Q&&s.reference[g]/2-(K<B?R:I)-v[g]/2<0,ie=q?K<B?K-B:K-G:0;return{[p]:h[p]+ie,data:{[p]:Q,centerOffset:K-Q-ie,...q&&{alignmentOffset:ie}},reset:q}}}),JSe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...w}=df(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=ff(i),_=Du(o),S=ff(o)===o,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=h||(S||!v?[xN(o)]:WSe(o)),T=g!=="none";!h&&T&&C.push(...KSe(o,v,g,A));const N=[o,...C],O=await J1(e,w),U=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&U.push(O[x]),f){const K=HSe(i,a,A);U.push(O[K[0]],O[K[1]])}if(R=[...R,{placement:i,overflows:U}],!U.every(K=>K<=0)){var I,B;const K=(((I=s.flip)==null?void 0:I.index)||0)+1,Q=N[K];if(Q&&(!(f==="alignment"?_!==Du(Q):!1)||R.every(V=>Du(V.placement)===_?V.overflows[0]>0:!0)))return{data:{index:K,overflows:R},reset:{placement:Q}};let q=(B=R.filter(ie=>ie.overflows[0]<=0).sort((ie,V)=>ie.overflows[1]-V.overflows[1])[0])==null?void 0:B.placement;if(!q)switch(p){case"bestFit":{var G;const ie=(G=R.filter(V=>{if(T){const X=Du(V.placement);return X===_||X==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(X=>X>0).reduce((X,z)=>X+z,0)]).sort((V,X)=>V[1]-X[1])[0])==null?void 0:G[0];ie&&(q=ie);break}case"initialPlacement":q=o;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function O8(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function R8(t){return BSe.some(e=>t[e]>=0)}const eEe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=df(t,e);switch(r){case"referenceHidden":{const s=await J1(e,{...i,elementContext:"reference"}),a=O8(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:R8(a)}}}case"escaped":{const s=await J1(e,{...i,altBoundary:!0}),a=O8(s,n.floating);return{data:{escapedOffsets:a,escaped:R8(a)}}}default:return{}}}}},lee=new Set(["left","top"]);async function tEe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ff(n),o=yb(n),c=Du(n)==="y",u=lee.has(a)?-1:1,d=s&&c?-1:1,f=df(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const nEe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,c=await tEe(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},rEe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x,y:_}=w;return{x,y:_}}},...c}=df(t,e),u={x:n,y:r},d=await J1(e,c),f=Du(ff(i)),h=iB(f);let p=u[h],g=u[f];if(s){const w=h==="y"?"top":"left",x=h==="y"?"bottom":"right",_=p+d[w],S=p-d[x];p=d3(_,p,S)}if(a){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",_=g+d[w],S=g-d[x];g=d3(_,g,S)}const v=o.fn({...e,[h]:p,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:s,[f]:a}}}}}},iEe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=df(t,e),d={x:n,y:r},f=Du(i),h=iB(f);let p=d[h],g=d[f];const v=df(o,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const S=h==="y"?"height":"width",A=s.reference[h]-s.floating[S]+w.mainAxis,C=s.reference[h]+s.reference[S]-w.mainAxis;p<A?p=A:p>C&&(p=C)}if(u){var x,_;const S=h==="y"?"width":"height",A=lee.has(ff(i)),C=s.reference[f]-s.floating[S]+(A&&((x=a.offset)==null?void 0:x[f])||0)+(A?0:w.crossAxis),T=s.reference[f]+s.reference[S]+(A?0:((_=a.offset)==null?void 0:_[f])||0)-(A?w.crossAxis:0);g<C?g=C:g>T&&(g=T)}return{[h]:p,[f]:g}}}},sEe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:c=()=>{},...u}=df(t,e),d=await J1(e,u),f=ff(i),h=yb(i),p=Du(i)==="y",{width:g,height:v}=s.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=f,w=h==="end"?"top":"bottom");const _=v-d.top-d.bottom,S=g-d.left-d.right,A=pp(v-d[w],_),C=pp(g-d[x],S),T=!e.middlewareData.shift;let N=A,O=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=_),T&&!h){const R=nl(d.left,0),I=nl(d.right,0),B=nl(d.top,0),G=nl(d.bottom,0);p?O=g-2*(R!==0||I!==0?R+I:nl(d.left,d.right)):N=v-2*(B!==0||G!==0?B+G:nl(d.top,d.bottom))}await c({...e,availableWidth:O,availableHeight:N});const U=await a.getDimensions(o.floating);return g!==U.width||v!==U.height?{reset:{rects:!0}}:{}}}};function nj(){return typeof window<"u"}function vb(t){return cee(t)?(t.nodeName||"").toLowerCase():"#document"}function dl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function id(t){var e;return(e=(cee(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cee(t){return nj()?t instanceof Node||t instanceof dl(t).Node:!1}function Zc(t){return nj()?t instanceof Element||t instanceof dl(t).Element:!1}function Qu(t){return nj()?t instanceof HTMLElement||t instanceof dl(t).HTMLElement:!1}function I8(t){return!nj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dl(t).ShadowRoot}const aEe=new Set(["inline","contents"]);function CE(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Qc(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!aEe.has(i)}const oEe=new Set(["table","td","th"]);function lEe(t){return oEe.has(vb(t))}const cEe=[":popover-open",":modal"];function rj(t){return cEe.some(e=>{try{return t.matches(e)}catch{return!1}})}const uEe=["transform","translate","scale","rotate","perspective"],dEe=["transform","translate","scale","rotate","perspective","filter"],fEe=["paint","layout","strict","content"];function oB(t){const e=lB(),n=Zc(t)?Qc(t):t;return uEe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||dEe.some(r=>(n.willChange||"").includes(r))||fEe.some(r=>(n.contain||"").includes(r))}function hEe(t){let e=mp(t);for(;Qu(e)&&!S0(e);){if(oB(e))return e;if(rj(e))return null;e=mp(e)}return null}function lB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pEe=new Set(["html","body","#document"]);function S0(t){return pEe.has(vb(t))}function Qc(t){return dl(t).getComputedStyle(t)}function ij(t){return Zc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mp(t){if(vb(t)==="html")return t;const e=t.assignedSlot||t.parentNode||I8(t)&&t.host||id(t);return I8(e)?e.host:e}function uee(t){const e=mp(t);return S0(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qu(e)&&CE(e)?e:uee(e)}function eS(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=uee(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=dl(i);if(s){const o=h3(a);return e.concat(a,a.visualViewport||[],CE(i)?i:[],o&&n?eS(o):[])}return e.concat(i,eS(i,[],n))}function h3(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dee(t){const e=Qc(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Qu(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=vN(n)!==s||vN(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function cB(t){return Zc(t)?t:t.contextElement}function Vx(t){const e=cB(t);if(!Qu(e))return Wu(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=dee(e);let a=(s?vN(n.width):n.width)/r,o=(s?vN(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const mEe=Wu(0);function fee(t){const e=dl(t);return!lB()||!e.visualViewport?mEe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gEe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dl(t)?!1:e}function ey(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=cB(t);let a=Wu(1);e&&(r?Zc(r)&&(a=Vx(r)):a=Vx(t));const o=gEe(s,n,r)?fee(s):Wu(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=dl(s),p=r&&Zc(r)?dl(r):r;let g=h,v=h3(g);for(;v&&r&&p!==g;){const w=Vx(v),x=v.getBoundingClientRect(),_=Qc(v),S=x.left+(v.clientLeft+parseFloat(_.paddingLeft))*w.x,A=x.top+(v.clientTop+parseFloat(_.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=S,u+=A,g=dl(v),v=h3(g)}}return bN({width:d,height:f,x:c,y:u})}function sj(t,e){const n=ij(t).scrollLeft;return e?e.left+n:ey(id(t)).left+n}function hee(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-sj(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function yEe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=id(r),o=e?rj(e.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Wu(1);const d=Wu(0),f=Qu(r);if((f||!f&&!s)&&((vb(r)!=="body"||CE(a))&&(c=ij(r)),Qu(r))){const p=ey(r);u=Vx(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=a&&!f&&!s?hee(a,c):Wu(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function vEe(t){return Array.from(t.getClientRects())}function xEe(t){const e=id(t),n=ij(t),r=t.ownerDocument.body,i=nl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=nl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+sj(t);const o=-n.scrollTop;return Qc(r).direction==="rtl"&&(a+=nl(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const L8=25;function bEe(t,e){const n=dl(t),r=id(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const d=lB();(!d||d&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}const u=sj(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-p);g<=L8&&(s-=g)}else u<=L8&&(s+=u);return{width:s,height:a,x:o,y:c}}const wEe=new Set(["absolute","fixed"]);function _Ee(t,e){const n=ey(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Qu(t)?Vx(t):Wu(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function D8(t,e,n){let r;if(e==="viewport")r=bEe(t,n);else if(e==="document")r=xEe(id(t));else if(Zc(e))r=_Ee(e,n);else{const i=fee(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return bN(r)}function pee(t,e){const n=mp(t);return n===e||!Zc(n)||S0(n)?!1:Qc(n).position==="fixed"||pee(n,e)}function SEe(t,e){const n=e.get(t);if(n)return n;let r=eS(t,[],!1).filter(o=>Zc(o)&&vb(o)!=="body"),i=null;const s=Qc(t).position==="fixed";let a=s?mp(t):t;for(;Zc(a)&&!S0(a);){const o=Qc(a),c=oB(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&wEe.has(i.position)||CE(a)&&!c&&pee(t,a))?r=r.filter(d=>d!==a):i=o,a=mp(a)}return e.set(t,r),r}function EEe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?rj(e)?[]:SEe(e,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const f=D8(e,d,i);return u.top=nl(f.top,u.top),u.right=pp(f.right,u.right),u.bottom=pp(f.bottom,u.bottom),u.left=nl(f.left,u.left),u},D8(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function AEe(t){const{width:e,height:n}=dee(t);return{width:e,height:n}}function TEe(t,e,n){const r=Qu(e),i=id(e),s=n==="fixed",a=ey(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=Wu(0);function u(){c.x=sj(i)}if(r||!r&&!s)if((vb(e)!=="body"||CE(i))&&(o=ij(e)),r){const p=ey(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?hee(i,o):Wu(0),f=a.left+o.scrollLeft-c.x-d.x,h=a.top+o.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function AR(t){return Qc(t).position==="static"}function F8(t,e){if(!Qu(t)||Qc(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return id(t)===n&&(n=n.ownerDocument.body),n}function mee(t,e){const n=dl(t);if(rj(t))return n;if(!Qu(t)){let i=mp(t);for(;i&&!S0(i);){if(Zc(i)&&!AR(i))return i;i=mp(i)}return n}let r=F8(t,e);for(;r&&lEe(r)&&AR(r);)r=F8(r,e);return r&&S0(r)&&AR(r)&&!oB(r)?n:r||hEe(t)||n}const MEe=async function(t){const e=this.getOffsetParent||mee,n=this.getDimensions,r=await n(t.floating);return{reference:TEe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CEe(t){return Qc(t).direction==="rtl"}const NEe={convertOffsetParentRelativeRectToViewportRelativeRect:yEe,getDocumentElement:id,getClippingRect:EEe,getOffsetParent:mee,getElementRects:MEe,getClientRects:vEe,getDimensions:AEe,getScale:Vx,isElement:Zc,isRTL:CEe};function gee(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function PEe(t,e){let n=null,r;const i=id(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(o||e(),!h||!p)return;const g=VT(f),v=VT(i.clientWidth-(d+h)),w=VT(i.clientHeight-(f+p)),x=VT(d),S={rootMargin:-g+"px "+-v+"px "+-w+"px "+-x+"px",threshold:nl(0,pp(1,c))||1};let A=!0;function C(T){const N=T[0].intersectionRatio;if(N!==c){if(!A)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!gee(u,t.getBoundingClientRect())&&a(),A=!1}try{n=new IntersectionObserver(C,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,S)}n.observe(t)}return a(!0),s}function jEe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=cB(t),d=i||s?[...u?eS(u):[],...eS(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const f=u&&o?PEe(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(x=>{let[_]=x;_&&_.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let g,v=c?ey(t):null;c&&w();function w(){const x=ey(t);v&&!gee(v,x)&&n(),v=x,g=requestAnimationFrame(w)}return n(),()=>{var x;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const kEe=nEe,OEe=rEe,REe=JSe,IEe=sEe,LEe=eEe,U8=QSe,DEe=iEe,FEe=(t,e,n)=>{const r=new Map,i={platform:NEe,...n},s={...i.platform,_c:r};return ZSe(t,e,{...i,platform:s})};var UEe=typeof document<"u",BEe=function(){},AC=UEe?j.useLayoutEffect:BEe;function wN(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wN(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!wN(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function yee(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function B8(t,e){const n=yee(t);return Math.round(e*n)/n}function TR(t){const e=j.useRef(t);return AC(()=>{e.current=t}),e}function zEe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,f]=j.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=j.useState(r);wN(h,r)||p(r);const[g,v]=j.useState(null),[w,x]=j.useState(null),_=j.useCallback(V=>{V!==T.current&&(T.current=V,v(V))},[]),S=j.useCallback(V=>{V!==N.current&&(N.current=V,x(V))},[]),A=s||g,C=a||w,T=j.useRef(null),N=j.useRef(null),O=j.useRef(d),U=c!=null,R=TR(c),I=TR(i),B=TR(u),G=j.useCallback(()=>{if(!T.current||!N.current)return;const V={placement:e,strategy:n,middleware:h};I.current&&(V.platform=I.current),FEe(T.current,N.current,V).then(X=>{const z={...X,isPositioned:B.current!==!1};K.current&&!wN(O.current,z)&&(O.current=z,lb.flushSync(()=>{f(z)}))})},[h,e,n,I,B]);AC(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const K=j.useRef(!1);AC(()=>(K.current=!0,()=>{K.current=!1}),[]),AC(()=>{if(A&&(T.current=A),C&&(N.current=C),A&&C){if(R.current)return R.current(A,C,G);G()}},[A,C,G,R,U]);const Q=j.useMemo(()=>({reference:T,floating:N,setReference:_,setFloating:S}),[_,S]),q=j.useMemo(()=>({reference:A,floating:C}),[A,C]),ie=j.useMemo(()=>{const V={position:n,left:0,top:0};if(!q.floating)return V;const X=B8(q.floating,d.x),z=B8(q.floating,d.y);return o?{...V,transform:"translate("+X+"px, "+z+"px)",...yee(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:z}},[n,o,q.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:G,refs:Q,elements:q,floatingStyles:ie}),[d,G,Q,q,ie])}const $Ee=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?U8({element:r.current,padding:i}).fn(n):{}:r?U8({element:r,padding:i}).fn(n):{}}}},VEe=(t,e)=>({...kEe(t),options:[t,e]}),HEe=(t,e)=>({...OEe(t),options:[t,e]}),WEe=(t,e)=>({...DEe(t),options:[t,e]}),GEe=(t,e)=>({...REe(t),options:[t,e]}),qEe=(t,e)=>({...IEe(t),options:[t,e]}),XEe=(t,e)=>({...LEe(t),options:[t,e]}),KEe=(t,e)=>({...$Ee(t),options:[t,e]});var YEe="Arrow",vee=j.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return l.jsx(Sn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});vee.displayName=YEe;var ZEe=vee;function uB(t){const[e,n]=j.useState(void 0);return As(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var dB="Popper",[xee,aj]=ac(dB),[QEe,bee]=xee(dB),wee=t=>{const{__scopePopper:e,children:n}=t,[r,i]=j.useState(null);return l.jsx(QEe,{scope:e,anchor:r,onAnchorChange:i,children:n})};wee.displayName=dB;var _ee="PopperAnchor",See=j.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=bee(_ee,n),a=j.useRef(null),o=jr(e,a),c=j.useRef(null);return j.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:l.jsx(Sn.div,{...i,ref:o})});See.displayName=_ee;var fB="PopperContent",[JEe,eAe]=xee(fB),Eee=j.forwardRef((t,e)=>{var Ee,Je,Ne,Ue,Fe,le;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=t,w=bee(fB,n),[x,_]=j.useState(null),S=jr(e,J=>_(J)),[A,C]=j.useState(null),T=uB(A),N=(T==null?void 0:T.width)??0,O=(T==null?void 0:T.height)??0,U=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],B=I.length>0,G={padding:R,boundary:I.filter(nAe),altBoundary:B},{refs:K,floatingStyles:Q,placement:q,isPositioned:ie,middlewareData:V}=zEe({strategy:"fixed",placement:U,whileElementsMounted:(...J)=>jEe(...J,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[VEe({mainAxis:i+O,alignmentAxis:a}),c&&HEe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?WEe():void 0,...G}),c&&GEe({...G}),qEe({...G,apply:({elements:J,rects:Le,availableWidth:qe,availableHeight:We})=>{const{width:Ke,height:yt}=Le.reference,ct=J.floating.style;ct.setProperty("--radix-popper-available-width",`${qe}px`),ct.setProperty("--radix-popper-available-height",`${We}px`),ct.setProperty("--radix-popper-anchor-width",`${Ke}px`),ct.setProperty("--radix-popper-anchor-height",`${yt}px`)}}),A&&KEe({element:A,padding:o}),rAe({arrowWidth:N,arrowHeight:O}),h&&XEe({strategy:"referenceHidden",...G})]}),[X,z]=Mee(q),oe=uf(g);As(()=>{ie&&(oe==null||oe())},[ie,oe]);const de=(Ee=V.arrow)==null?void 0:Ee.x,Y=(Je=V.arrow)==null?void 0:Je.y,he=((Ne=V.arrow)==null?void 0:Ne.centerOffset)!==0,[Ce,Ie]=j.useState();return As(()=>{x&&Ie(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:ie?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(Ue=V.transformOrigin)==null?void 0:Ue.x,(Fe=V.transformOrigin)==null?void 0:Fe.y].join(" "),...((le=V.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(JEe,{scope:n,placedSide:X,onArrowChange:C,arrowX:de,arrowY:Y,shouldHideArrow:he,children:l.jsx(Sn.div,{"data-side":X,"data-align":z,...v,ref:S,style:{...v.style,animation:ie?void 0:"none"}})})})});Eee.displayName=fB;var Aee="PopperArrow",tAe={top:"bottom",right:"left",bottom:"top",left:"right"},Tee=j.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=eAe(Aee,r),a=tAe[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(ZEe,{...i,ref:n,style:{...i.style,display:"block"}})})});Tee.displayName=Aee;function nAe(t){return t!==null}var rAe=t=>({name:"transformOrigin",options:t,fn(e){var w,x,_;const{placement:n,rects:r,middlewareData:i}=e,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=Mee(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=i.arrow)==null?void 0:x.x)??0)+o/2,p=(((_=i.arrow)==null?void 0:_.y)??0)+c/2;let g="",v="";return u==="bottom"?(g=a?f:`${h}px`,v=`${-c}px`):u==="top"?(g=a?f:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=a?f:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,v=a?f:`${p}px`),{data:{x:g,y:v}}}});function Mee(t){const[e,n="center"]=t.split("-");return[e,n]}var Cee=wee,hB=See,Nee=Eee,Pee=Tee,iAe="Portal",oj=j.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,s]=j.useState(!1);As(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?qZ.createPortal(l.jsx(Sn.div,{...r,ref:e}),a):null});oj.displayName=iAe;var sAe=LF[" useInsertionEffect ".trim().toString()]||As;function gp({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=aAe({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:i;{const d=j.useRef(t!==void 0);j.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=j.useCallback(d=>{var f;if(o){const h=oAe(d)?d(t):d;h!==t&&((f=a.current)==null||f.call(a,h))}else s(d)},[o,t,s,a]);return[c,u]}function aAe({defaultProp:t,onChange:e}){const[n,r]=j.useState(t),i=j.useRef(n),s=j.useRef(e);return sAe(()=>{s.current=e},[e]),j.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function oAe(t){return typeof t=="function"}function pB(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jee=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lAe="VisuallyHidden",cAe=j.forwardRef((t,e)=>l.jsx(Sn.span,{...t,ref:e,style:{...jee,...t.style}}));cAe.displayName=lAe;var uAe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Pv=new WeakMap,HT=new WeakMap,WT={},MR=0,kee=function(t){return t&&(t.host||kee(t.parentNode))},dAe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kee(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fAe=function(t,e,n,r){var i=dAe(e,Array.isArray(t)?t:[t]);WT[n]||(WT[n]=new WeakMap);var s=WT[n],a=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",v=(Pv.get(h)||0)+1,w=(s.get(h)||0)+1;Pv.set(h,v),s.set(h,w),a.push(h),v===1&&g&&HT.set(h,!0),w===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),o.clear(),MR++,function(){a.forEach(function(f){var h=Pv.get(f)-1,p=s.get(f)-1;Pv.set(f,h),s.set(f,p),h||(HT.has(f)||f.removeAttribute(r),HT.delete(f)),p||f.removeAttribute(n)}),MR--,MR||(Pv=new WeakMap,Pv=new WeakMap,HT=new WeakMap,WT={})}},mB=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=uAe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),fAe(r,i,n,"aria-hidden")):function(){return null}},TC="right-scroll-bar-position",MC="width-before-scroll-bar",hAe="with-scroll-bars-hidden",pAe="--removed-body-scroll-bar-size";function CR(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function mAe(t,e){var n=j.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var gAe=typeof window<"u"?j.useLayoutEffect:j.useEffect,z8=new WeakMap;function yAe(t,e){var n=mAe(null,function(r){return t.forEach(function(i){return CR(i,r)})});return gAe(function(){var r=z8.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||CR(o,null)}),s.forEach(function(o){i.has(o)||CR(o,a)})}z8.set(n,t)},[t]),n}function vAe(t){return t}function xAe(t,e){e===void 0&&(e=vAe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function bAe(t){t===void 0&&(t={});var e=xAe(null);return e.options=Yl({async:!0,ssr:!1},t),e}var Oee=function(t){var e=t.sideCar,n=Tp(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Yl({},n))};Oee.isSideCarExport=!0;function wAe(t,e){return t.useMedium(e),Oee}var Ree=bAe(),NR=function(){},lj=j.forwardRef(function(t,e){var n=j.useRef(null),r=j.useState({onScrollCapture:NR,onWheelCapture:NR,onTouchMoveCapture:NR}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noRelative,g=t.noIsolation,v=t.inert,w=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,S=t.gapMode,A=Tp(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,T=yAe([n,e]),N=Yl(Yl({},A),i);return j.createElement(j.Fragment,null,d&&j.createElement(C,{sideCar:Ree,removeScrollBar:u,shards:f,noRelative:p,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:S}),a?j.cloneElement(j.Children.only(o),Yl(Yl({},N),{ref:T})):j.createElement(_,Yl({},N,{className:c,ref:T}),o))});lj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lj.classNames={fullWidth:MC,zeroRight:TC};var _Ae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SAe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_Ae();return e&&t.setAttribute("nonce",e),t}function EAe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AAe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var TAe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=SAe())&&(EAe(e,n),AAe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},MAe=function(){var t=TAe();return function(e,n){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Iee=function(){var t=MAe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},CAe={left:0,top:0,right:0,gap:0},PR=function(t){return parseInt(t||"",10)||0},NAe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[PR(n),PR(r),PR(i)]},PAe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return CAe;var e=NAe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},jAe=Iee(),Hx="data-scroll-locked",kAe=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(hAe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Hx,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(TC,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(MC,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(TC," .").concat(TC,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(MC," .").concat(MC,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hx,`] {
    `).concat(pAe,": ").concat(o,`px;
  }
`)},$8=function(){var t=parseInt(document.body.getAttribute(Hx)||"0",10);return isFinite(t)?t:0},OAe=function(){j.useEffect(function(){return document.body.setAttribute(Hx,($8()+1).toString()),function(){var t=$8()-1;t<=0?document.body.removeAttribute(Hx):document.body.setAttribute(Hx,t.toString())}},[])},RAe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;OAe();var s=j.useMemo(function(){return PAe(i)},[i]);return j.createElement(jAe,{styles:kAe(s,!e,i,n?"":"!important")})},p3=!1;if(typeof window<"u")try{var GT=Object.defineProperty({},"passive",{get:function(){return p3=!0,!0}});window.addEventListener("test",GT,GT),window.removeEventListener("test",GT,GT)}catch{p3=!1}var jv=p3?{passive:!1}:!1,IAe=function(t){return t.tagName==="TEXTAREA"},Lee=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!IAe(t)&&n[e]==="visible")},LAe=function(t){return Lee(t,"overflowY")},DAe=function(t){return Lee(t,"overflowX")},V8=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Dee(t,r);if(i){var s=Fee(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},FAe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},UAe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Dee=function(t,e){return t==="v"?LAe(e):DAe(e)},Fee=function(t,e){return t==="v"?FAe(e):UAe(e)},BAe=function(t,e){return t==="h"&&e==="rtl"?-1:1},zAe=function(t,e,n,r,i){var s=BAe(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,c=e.contains(o),u=!1,d=a>0,f=0,h=0;do{if(!o)break;var p=Fee(t,o),g=p[0],v=p[1],w=p[2],x=v-w-s*g;(g||x)&&Dee(t,o)&&(f+=x,h+=g);var _=o.parentNode;o=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},qT=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},H8=function(t){return[t.deltaX,t.deltaY]},W8=function(t){return t&&"current"in t?t.current:t},$Ae=function(t,e){return t[0]===e[0]&&t[1]===e[1]},VAe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},HAe=0,kv=[];function WAe(t){var e=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),i=j.useState(HAe++)[0],s=j.useState(Iee)[0],a=j.useRef(t);j.useEffect(function(){a.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=FU([t.lockRef.current],(t.shards||[]).map(W8),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=j.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var x=qT(v),_=n.current,S="deltaX"in v?v.deltaX:_[0]-x[0],A="deltaY"in v?v.deltaY:_[1]-x[1],C,T=v.target,N=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in v&&N==="h"&&T.type==="range")return!1;var O=V8(N,T);if(!O)return!0;if(O?C=N:(C=N==="v"?"h":"v",O=V8(N,T)),!O)return!1;if(!r.current&&"changedTouches"in v&&(S||A)&&(r.current=C),!C)return!0;var U=r.current||C;return zAe(U,w,v,U==="h"?S:A)},[]),c=j.useCallback(function(v){var w=v;if(!(!kv.length||kv[kv.length-1]!==s)){var x="deltaY"in w?H8(w):qT(w),_=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&$Ae(C.delta,x)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var S=(a.current.shards||[]).map(W8).filter(Boolean).filter(function(C){return C.contains(w.target)}),A=S.length>0?o(w,S[0]):!a.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),u=j.useCallback(function(v,w,x,_){var S={name:v,delta:w,target:x,should:_,shadowParent:GAe(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),d=j.useCallback(function(v){n.current=qT(v),r.current=void 0},[]),f=j.useCallback(function(v){u(v.type,H8(v),v.target,o(v,t.lockRef.current))},[]),h=j.useCallback(function(v){u(v.type,qT(v),v.target,o(v,t.lockRef.current))},[]);j.useEffect(function(){return kv.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,jv),document.addEventListener("touchmove",c,jv),document.addEventListener("touchstart",d,jv),function(){kv=kv.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,jv),document.removeEventListener("touchmove",c,jv),document.removeEventListener("touchstart",d,jv)}},[]);var p=t.removeScrollBar,g=t.inert;return j.createElement(j.Fragment,null,g?j.createElement(s,{styles:VAe(i)}):null,p?j.createElement(RAe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function GAe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qAe=wAe(Ree,WAe);var cj=j.forwardRef(function(t,e){return j.createElement(lj,Yl({},t,{ref:e,sideCar:qAe}))});cj.classNames=lj.classNames;var XAe=[" ","Enter","ArrowUp","ArrowDown"],KAe=[" ","Enter"],ty="Select",[uj,dj,YAe]=ree(ty),[xb]=ac(ty,[YAe,aj]),fj=aj(),[ZAe,Np]=xb(ty),[QAe,JAe]=xb(ty),Uee=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=t,v=fj(e),[w,x]=j.useState(null),[_,S]=j.useState(null),[A,C]=j.useState(!1),T=nB(u),[N,O]=gp({prop:r,defaultProp:i??!1,onChange:s,caller:ty}),[U,R]=gp({prop:a,defaultProp:o,onChange:c,caller:ty}),I=j.useRef(null),B=w?g||!!w.closest("form"):!0,[G,K]=j.useState(new Set),Q=Array.from(G).map(q=>q.props.value).join(";");return l.jsx(Cee,{...v,children:l.jsxs(ZAe,{required:p,scope:e,trigger:w,onTriggerChange:x,valueNode:_,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:C,contentId:Zd(),value:U,onValueChange:R,open:N,onOpenChange:O,dir:T,triggerPointerDownPosRef:I,disabled:h,children:[l.jsx(uj.Provider,{scope:e,children:l.jsx(QAe,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(q=>{K(ie=>new Set(ie).add(q))},[]),onNativeOptionRemove:j.useCallback(q=>{K(ie=>{const V=new Set(ie);return V.delete(q),V})},[]),children:n})}),B?l.jsxs(cte,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:U,onChange:q=>R(q.target.value),disabled:h,form:g,children:[U===void 0?l.jsx("option",{value:""}):null,Array.from(G)]},Q):null]})})};Uee.displayName=ty;var Bee="SelectTrigger",zee=j.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=fj(n),a=Np(Bee,n),o=a.disabled||r,c=jr(e,a.onTriggerChange),u=dj(n),d=j.useRef("touch"),[f,h,p]=dte(v=>{const w=u().filter(S=>!S.disabled),x=w.find(S=>S.value===a.value),_=fte(w,v,x);_!==void 0&&a.onValueChange(_.value)}),g=v=>{o||(a.onOpenChange(!0),p()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(hB,{asChild:!0,...s,children:l.jsx(Sn.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":ute(a.value)?"":void 0,...i,ref:c,onClick:On(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&g(v)}),onPointerDown:On(i.onPointerDown,v=>{d.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:On(i.onKeyDown,v=>{const w=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(w&&v.key===" ")&&XAe.includes(v.key)&&(g(),v.preventDefault())})})})});zee.displayName=Bee;var $ee="SelectValue",Vee=j.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,c=Np($ee,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=jr(e,c.onValueNodeChange);return As(()=>{u(d)},[u,d]),l.jsx(Sn.span,{...o,ref:f,style:{pointerEvents:"none"},children:ute(c.value)?l.jsx(l.Fragment,{children:a}):s})});Vee.displayName=$ee;var eTe="SelectIcon",Hee=j.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return l.jsx(Sn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Hee.displayName=eTe;var tTe="SelectPortal",Wee=t=>l.jsx(oj,{asChild:!0,...t});Wee.displayName=tTe;var ny="SelectContent",Gee=j.forwardRef((t,e)=>{const n=Np(ny,t.__scopeSelect),[r,i]=j.useState();if(As(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?lb.createPortal(l.jsx(qee,{scope:t.__scopeSelect,children:l.jsx(uj.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(Xee,{...t,ref:e})});Gee.displayName=ny;var jc=10,[qee,Pp]=xb(ny),nTe="SelectContentImpl",rTe=Jg("SelectContent.RemoveScroll"),Xee=j.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:w,...x}=t,_=Np(ny,n),[S,A]=j.useState(null),[C,T]=j.useState(null),N=jr(e,Ee=>A(Ee)),[O,U]=j.useState(null),[R,I]=j.useState(null),B=dj(n),[G,K]=j.useState(!1),Q=j.useRef(!1);j.useEffect(()=>{if(S)return mB(S)},[S]),rB();const q=j.useCallback(Ee=>{const[Je,...Ne]=B().map(le=>le.ref.current),[Ue]=Ne.slice(-1),Fe=document.activeElement;for(const le of Ee)if(le===Fe||(le==null||le.scrollIntoView({block:"nearest"}),le===Je&&C&&(C.scrollTop=0),le===Ue&&C&&(C.scrollTop=C.scrollHeight),le==null||le.focus(),document.activeElement!==Fe))return},[B,C]),ie=j.useCallback(()=>q([O,S]),[q,O,S]);j.useEffect(()=>{G&&ie()},[G,ie]);const{onOpenChange:V,triggerPointerDownPosRef:X}=_;j.useEffect(()=>{if(S){let Ee={x:0,y:0};const Je=Ue=>{var Fe,le;Ee={x:Math.abs(Math.round(Ue.pageX)-(((Fe=X.current)==null?void 0:Fe.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((le=X.current)==null?void 0:le.y)??0))}},Ne=Ue=>{Ee.x<=10&&Ee.y<=10?Ue.preventDefault():S.contains(Ue.target)||V(!1),document.removeEventListener("pointermove",Je),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",Je),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Je),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[S,V,X]),j.useEffect(()=>{const Ee=()=>V(!1);return window.addEventListener("blur",Ee),window.addEventListener("resize",Ee),()=>{window.removeEventListener("blur",Ee),window.removeEventListener("resize",Ee)}},[V]);const[z,oe]=dte(Ee=>{const Je=B().filter(Fe=>!Fe.disabled),Ne=Je.find(Fe=>Fe.ref.current===document.activeElement),Ue=fte(Je,Ee,Ne);Ue&&setTimeout(()=>Ue.ref.current.focus())}),de=j.useCallback((Ee,Je,Ne)=>{const Ue=!Q.current&&!Ne;(_.value!==void 0&&_.value===Je||Ue)&&(U(Ee),Ue&&(Q.current=!0))},[_.value]),Y=j.useCallback(()=>S==null?void 0:S.focus(),[S]),he=j.useCallback((Ee,Je,Ne)=>{const Ue=!Q.current&&!Ne;(_.value!==void 0&&_.value===Je||Ue)&&I(Ee)},[_.value]),Ce=r==="popper"?m3:Kee,Ie=Ce===m3?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:w}:{};return l.jsx(qee,{scope:n,content:S,viewport:C,onViewportChange:T,itemRefCallback:de,selectedItem:O,onItemLeave:Y,itemTextRefCallback:he,focusSelectedItem:ie,selectedItemText:R,position:r,isPositioned:G,searchRef:z,children:l.jsx(cj,{as:rTe,allowPinchZoom:!0,children:l.jsx(tj,{asChild:!0,trapped:_.open,onMountAutoFocus:Ee=>{Ee.preventDefault()},onUnmountAutoFocus:On(i,Ee=>{var Je;(Je=_.trigger)==null||Je.focus({preventScroll:!0}),Ee.preventDefault()}),children:l.jsx(ej,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Ee=>Ee.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:l.jsx(Ce,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Ee=>Ee.preventDefault(),...x,...Ie,onPlaced:()=>K(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:On(x.onKeyDown,Ee=>{const Je=Ee.ctrlKey||Ee.altKey||Ee.metaKey;if(Ee.key==="Tab"&&Ee.preventDefault(),!Je&&Ee.key.length===1&&oe(Ee.key),["ArrowUp","ArrowDown","Home","End"].includes(Ee.key)){let Ue=B().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);if(["ArrowUp","End"].includes(Ee.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ee.key)){const Fe=Ee.target,le=Ue.indexOf(Fe);Ue=Ue.slice(le+1)}setTimeout(()=>q(Ue)),Ee.preventDefault()}})})})})})})});Xee.displayName=nTe;var iTe="SelectItemAlignedPosition",Kee=j.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Np(ny,n),a=Pp(ny,n),[o,c]=j.useState(null),[u,d]=j.useState(null),f=jr(e,N=>d(N)),h=dj(n),p=j.useRef(!1),g=j.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:x,focusSelectedItem:_}=a,S=j.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&v&&w&&x){const N=s.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),U=s.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(s.dir!=="rtl"){const Fe=R.left-O.left,le=U.left-Fe,J=N.left-le,Le=N.width+J,qe=Math.max(Le,O.width),We=window.innerWidth-jc,Ke=_8(le,[jc,Math.max(jc,We-qe)]);o.style.minWidth=Le+"px",o.style.left=Ke+"px"}else{const Fe=O.right-R.right,le=window.innerWidth-U.right-Fe,J=window.innerWidth-N.right-le,Le=N.width+J,qe=Math.max(Le,O.width),We=window.innerWidth-jc,Ke=_8(le,[jc,Math.max(jc,We-qe)]);o.style.minWidth=Le+"px",o.style.right=Ke+"px"}const I=h(),B=window.innerHeight-jc*2,G=v.scrollHeight,K=window.getComputedStyle(u),Q=parseInt(K.borderTopWidth,10),q=parseInt(K.paddingTop,10),ie=parseInt(K.borderBottomWidth,10),V=parseInt(K.paddingBottom,10),X=Q+q+G+V+ie,z=Math.min(w.offsetHeight*5,X),oe=window.getComputedStyle(v),de=parseInt(oe.paddingTop,10),Y=parseInt(oe.paddingBottom,10),he=N.top+N.height/2-jc,Ce=B-he,Ie=w.offsetHeight/2,Ee=w.offsetTop+Ie,Je=Q+q+Ee,Ne=X-Je;if(Je<=he){const Fe=I.length>0&&w===I[I.length-1].ref.current;o.style.bottom="0px";const le=u.clientHeight-v.offsetTop-v.offsetHeight,J=Math.max(Ce,Ie+(Fe?Y:0)+le+ie),Le=Je+J;o.style.height=Le+"px"}else{const Fe=I.length>0&&w===I[0].ref.current;o.style.top="0px";const J=Math.max(he,Q+v.offsetTop+(Fe?de:0)+Ie)+Ne;o.style.height=J+"px",v.scrollTop=Je-he+v.offsetTop}o.style.margin=`${jc}px 0`,o.style.minHeight=z+"px",o.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,v,w,x,s.dir,r]);As(()=>S(),[S]);const[A,C]=j.useState();As(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const T=j.useCallback(N=>{N&&g.current===!0&&(S(),_==null||_(),g.current=!1)},[S,_]);return l.jsx(aTe,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:T,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(Sn.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Kee.displayName=iTe;var sTe="SelectPopperPosition",m3=j.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=jc,...s}=t,a=fj(n);return l.jsx(Nee,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});m3.displayName=sTe;var[aTe,gB]=xb(ny,{}),g3="SelectViewport",Yee=j.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Pp(g3,n),a=gB(g3,n),o=jr(e,s.onViewportChange),c=j.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(uj.Slot,{scope:n,children:l.jsx(Sn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:On(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-jc*2,v=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(v,w);if(x<g){const _=x+p,S=Math.min(g,_),A=_-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Yee.displayName=g3;var Zee="SelectGroup",[oTe,lTe]=xb(Zee),cTe=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Zd();return l.jsx(oTe,{scope:n,id:i,children:l.jsx(Sn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});cTe.displayName=Zee;var Qee="SelectLabel",Jee=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=lTe(Qee,n);return l.jsx(Sn.div,{id:i.id,...r,ref:e})});Jee.displayName=Qee;var _N="SelectItem",[uTe,ete]=xb(_N),tte=j.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=Np(_N,n),c=Pp(_N,n),u=o.value===r,[d,f]=j.useState(s??""),[h,p]=j.useState(!1),g=jr(e,_=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,_,r,i)}),v=Zd(),w=j.useRef("touch"),x=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(uTe,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:j.useCallback(_=>{f(S=>S||((_==null?void 0:_.textContent)??"").trim())},[]),children:l.jsx(uj.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(Sn.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:On(a.onFocus,()=>p(!0)),onBlur:On(a.onBlur,()=>p(!1)),onClick:On(a.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:On(a.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:On(a.onPointerDown,_=>{w.current=_.pointerType}),onPointerMove:On(a.onPointerMove,_=>{var S;w.current=_.pointerType,i?(S=c.onItemLeave)==null||S.call(c):w.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:On(a.onPointerLeave,_=>{var S;_.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:On(a.onKeyDown,_=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&_.key===" "||(KAe.includes(_.key)&&x(),_.key===" "&&_.preventDefault())})})})})});tte.displayName=_N;var U_="SelectItemText",nte=j.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=Np(U_,n),o=Pp(U_,n),c=ete(U_,n),u=JAe(U_,n),[d,f]=j.useState(null),h=jr(e,x=>f(x),c.onItemTextChange,x=>{var _;return(_=o.itemTextRefCallback)==null?void 0:_.call(o,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=j.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return As(()=>(v(g),()=>w(g)),[v,w,g]),l.jsxs(l.Fragment,{children:[l.jsx(Sn.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?lb.createPortal(s.children,a.valueNode):null]})});nte.displayName=U_;var rte="SelectItemIndicator",ite=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ete(rte,n).isSelected?l.jsx(Sn.span,{"aria-hidden":!0,...r,ref:e}):null});ite.displayName=rte;var y3="SelectScrollUpButton",ste=j.forwardRef((t,e)=>{const n=Pp(y3,t.__scopeSelect),r=gB(y3,t.__scopeSelect),[i,s]=j.useState(!1),a=jr(e,r.onScrollButtonChange);return As(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(ote,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});ste.displayName=y3;var v3="SelectScrollDownButton",ate=j.forwardRef((t,e)=>{const n=Pp(v3,t.__scopeSelect),r=gB(v3,t.__scopeSelect),[i,s]=j.useState(!1),a=jr(e,r.onScrollButtonChange);return As(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(ote,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});ate.displayName=v3;var ote=j.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Pp("SelectScrollButton",n),a=j.useRef(null),o=dj(n),c=j.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),As(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(Sn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:On(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:On(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:On(i.onPointerLeave,()=>{c()})})}),dTe="SelectSeparator",lte=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(Sn.div,{"aria-hidden":!0,...r,ref:e})});lte.displayName=dTe;var x3="SelectArrow",fTe=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=fj(n),s=Np(x3,n),a=Pp(x3,n);return s.open&&a.position==="popper"?l.jsx(Pee,{...i,...r,ref:e}):null});fTe.displayName=x3;var hTe="SelectBubbleInput",cte=j.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=j.useRef(null),s=jr(r,i),a=pB(e);return j.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),l.jsx(Sn.select,{...n,style:{...jee,...n.style},ref:s,defaultValue:e})});cte.displayName=hTe;function ute(t){return t===""||t===void 0}function dte(t){const e=uf(t),n=j.useRef(""),r=j.useRef(0),i=j.useCallback(a=>{const o=n.current+a;e(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),s=j.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function fte(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=pTe(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function pTe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var mTe=Uee,hte=zee,gTe=Vee,yTe=Hee,vTe=Wee,pte=Gee,xTe=Yee,mte=Jee,gte=tte,bTe=nte,wTe=ite,yte=ste,vte=ate,xte=lte;const Tn=mTe,Mn=gTe,wn=j.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(hte,{ref:r,className:at("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(yTe,{asChild:!0,children:l.jsx(W2,{className:"h-4 w-4 opacity-50"})})]}));wn.displayName=hte.displayName;const bte=j.forwardRef(({className:t,...e},n)=>l.jsx(yte,{ref:n,className:at("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(FJ,{className:"h-4 w-4"})}));bte.displayName=yte.displayName;const wte=j.forwardRef(({className:t,...e},n)=>l.jsx(vte,{ref:n,className:at("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(W2,{className:"h-4 w-4"})}));wte.displayName=vte.displayName;const _n=j.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>l.jsx(vTe,{children:l.jsxs(pte,{ref:i,className:at("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-gray-900 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(bte,{}),l.jsx(xTe,{className:at("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(wte,{})]})}));_n.displayName=pte.displayName;const _Te=j.forwardRef(({className:t,...e},n)=>l.jsx(mte,{ref:n,className:at("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));_Te.displayName=mte.displayName;const Ae=j.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(gte,{ref:r,className:at("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(wTe,{children:l.jsx(Ou,{className:"h-4 w-4"})})}),l.jsx(bTe,{children:e})]}));Ae.displayName=gte.displayName;const STe=j.forwardRef(({className:t,...e},n)=>l.jsx(xte,{ref:n,className:at("-mx-1 my-1 h-px bg-gray-100",t),...e}));STe.displayName=xte.displayName;function ETe({limit:t=6,showSearch:e=!0,showFilters:n=!0}){const[r,i]=j.useState(""),[s,a]=j.useState("all"),{data:o=[],isLoading:c}=Ir({queryKey:["published-articles"],queryFn:async()=>{const{data:f,error:h}=await Xe.from("articles").select("*").eq("status","published").order("published_at",{ascending:!1}).limit(t);if(h)throw h;return f}}),u=["all","Real Estate Tips","Market Insights","Buying Guide","Selling Guide","Investment","Neighborhood Guides","Home Improvement","General"],d=o.filter(f=>{var g,v;const h=!r||f.title.toLowerCase().includes(r.toLowerCase())||((g=f.excerpt)==null?void 0:g.toLowerCase().includes(r.toLowerCase()))||((v=f.tags)==null?void 0:v.some(w=>w.toLowerCase().includes(r.toLowerCase()))),p=s==="all"||f.category===s;return h&&p});return l.jsx("section",{className:"py-16 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Latest Real Estate Insights"}),l.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Expert advice, market trends, and guides to help you succeed in real estate"})]}),(e||n)&&l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8 max-w-4xl mx-auto",children:[e&&l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ME,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ft,{placeholder:"Search articles, topics, or keywords...",value:r,onChange:f=>i(f.target.value),className:"pl-10"})]}),n&&l.jsxs(Tn,{value:s,onValueChange:a,children:[l.jsx(wn,{className:"w-full sm:w-[200px]",children:l.jsx(Mn,{})}),l.jsx(_n,{children:u.map(f=>l.jsx(Ae,{value:f,children:f==="all"?"All Categories":f},f))})]})]}),c?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"Loading articles..."})}):d.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"No articles found"})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:d.map(f=>{var h;return l.jsx(An,{to:`/blog/${f.slug}`,children:l.jsxs(an,{className:"h-full hover:shadow-xl transition-all duration-300 cursor-pointer group",children:[f.featured_image_url&&l.jsx("div",{className:"overflow-hidden rounded-t-lg",children:l.jsx("img",{src:f.featured_image_url,alt:f.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"})}),l.jsxs(Cr,{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[l.jsx(rn,{variant:"secondary",children:f.category}),(h=f.tags)==null?void 0:h.slice(0,2).map(p=>l.jsx(rn,{variant:"outline",className:"text-xs",children:p},p))]}),l.jsx(Nr,{className:"line-clamp-2 group-hover:text-primary transition-colors",children:f.title}),l.jsx(Gr,{className:"line-clamp-3",children:f.excerpt})]}),l.jsxs(J2,{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(to,{className:"h-4 w-4"}),new Date(f.published_at).toLocaleDateString()]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Za,{className:"h-4 w-4"}),f.view_count," views"]})]})]})},f.id)})}),l.jsx("div",{className:"text-center",children:l.jsx(An,{to:"/blog",children:l.jsxs(Ve,{size:"lg",className:"gap-2",children:["View All Articles",l.jsx(L_e,{className:"h-4 w-4"})]})})})]})]})})}function hj(){return l.jsx("header",{className:"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-50",children:l.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[l.jsxs(An,{to:"/",className:"flex items-center gap-2",children:[l.jsx(gi,{className:"h-8 w-8 text-blue-600"}),l.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"AgentBio.net"})]}),l.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[l.jsx("a",{href:"/#features",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Features"}),l.jsx(An,{to:"/blog",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Blog"}),l.jsx(An,{to:"/pricing",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Pricing"}),l.jsx(An,{to:"/auth/login",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Log In"}),l.jsx(An,{to:"/auth/register",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Get Started"})]})]})})}function pj(){return l.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12 mt-auto",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[l.jsxs("div",{className:"md:col-span-1",children:[l.jsxs(An,{to:"/",className:"flex items-center gap-2 mb-4",children:[l.jsx(gi,{className:"h-6 w-6 text-blue-500"}),l.jsx("span",{className:"text-xl font-bold text-white",children:"AgentBio.net"})]}),l.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Professional real estate agent portfolio links to showcase your properties and capture qualified leads."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-500 transition-colors","aria-label":"Facebook",children:l.jsx(SE,{className:"h-5 w-5"})}),l.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors","aria-label":"Twitter",children:l.jsx(GJ,{className:"h-5 w-5"})}),l.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-pink-500 transition-colors","aria-label":"Instagram",children:l.jsx(AE,{className:"h-5 w-5"})}),l.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors","aria-label":"LinkedIn",children:l.jsx(TE,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold mb-4",children:"Product"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"/#features",className:"text-gray-400 hover:text-white transition-colors",children:"Features"})}),l.jsx("li",{children:l.jsx(An,{to:"/pricing",className:"text-gray-400 hover:text-white transition-colors",children:"Pricing"})}),l.jsx("li",{children:l.jsx(An,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Blog"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold mb-4",children:"Resources"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(An,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Real Estate Tips"})}),l.jsx("li",{children:l.jsx(An,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Market Insights"})}),l.jsx("li",{children:l.jsx(An,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Agent Guides"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(An,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"})}),l.jsx("li",{children:l.jsx(An,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"})}),l.jsx("li",{children:l.jsxs("a",{href:"mailto:support@agentbio.net",className:"text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:[l.jsx(yi,{className:"h-4 w-4"}),"Contact"]})})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 pt-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("p",{className:"text-sm text-center md:text-left",children:[" ",new Date().getFullYear()," AgentBio.net - Professional Real Estate Agent Portfolio Links. All rights reserved."]}),l.jsxs("div",{className:"flex gap-4 text-sm",children:[l.jsx(An,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy"}),l.jsx("span",{className:"text-gray-600",children:""}),l.jsx(An,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms"})]})]})})]})})}function ATe(){const t={"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":`${window.location.origin}/#website`,url:window.location.origin,name:"AgentBio - Professional Real Estate Agent Portfolio Link",description:"Professional real estate agent portfolio link platform to showcase listings, sold properties, and capture qualified leads.",publisher:{"@id":`${window.location.origin}/#organization`}},{"@type":"Organization","@id":`${window.location.origin}/#organization`,name:"AgentBio",url:window.location.origin,logo:{"@type":"ImageObject",url:`${window.location.origin}/logo.png`},sameAs:[]},{"@type":"SoftwareApplication",name:"AgentBio - Professional Real Estate Agent Portfolio Link",applicationCategory:"BusinessApplication",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"USD"},description:"Create your professional real estate agent portfolio link to showcase sold properties, active listings, testimonials, and capture qualified leads.",featureList:["Agent property showcase link","Realtor sold properties portfolio","Professional agent portfolio builder","Lead capture forms","Analytics and insights"]}]};return l.jsxs(l.Fragment,{children:[l.jsx(JU,{title:"Professional Real Estate Agent Portfolio Link | AgentBio",description:"Create a professional real estate agent portfolio link to showcase listings, sold properties, and testimonials. Purpose-built for agents to capture qualified leads and grow their business.",keywords:["professional real estate agent portfolio link","agent property showcase link","realtor sold properties portfolio","agent listing promotion link","professional agent portfolio builder","real estate agent bio link"],canonicalUrl:window.location.origin,schema:t}),l.jsxs("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[l.jsx(hj,{}),l.jsx("section",{className:"container mx-auto px-4 py-20 md:py-32",children:l.jsxs("article",{className:"max-w-4xl mx-auto text-center",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-medium mb-6",children:[l.jsx(Q1,{className:"h-4 w-4","aria-hidden":"true"}),"Built for Real Estate Professionals"]}),l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Professional Real Estate Agent",l.jsx("span",{className:"text-blue-600",children:" Portfolio Link"})]}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Create your professional agent portfolio link to showcase sold properties, active listings, and testimonials. Capture qualified leads and convert social media traffic into clients with our purpose-built platform."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(An,{to:"/auth/register",className:"bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start Free Trial"}),l.jsx("a",{href:"#features",className:"border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-lg text-lg font-semibold hover:border-gray-400 transition-colors",children:"See How It Works"})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No credit card required  Setup in 5 minutes"})]})}),l.jsx("section",{id:"features",className:"py-20 bg-white","aria-labelledby":"features-heading",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("header",{className:"text-center mb-16",children:[l.jsx("h2",{id:"features-heading",className:"text-4xl font-bold text-gray-900 mb-4",children:"Professional Agent Portfolio Builder Features"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Purpose-built for real estate agents. Create your professional realtor portfolio link with everything you need to showcase sold properties and convert leads."})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsx(jR,{icon:l.jsx(gi,{className:"h-8 w-8 text-blue-600","aria-hidden":"true"}),title:"Agent Property Showcase Link",description:"Display your agent sold properties portfolio, active listings, and pending sales with stunning photos, prices, and property details. Mobile-optimized galleries for professional presentation."}),l.jsx(jR,{icon:l.jsx(cf,{className:"h-8 w-8 text-blue-600","aria-hidden":"true"}),title:"Qualified Lead Capture",description:"Built-in buyer, seller, and home valuation forms designed for real estate professionals. Capture qualified leads with detailed questionnaires and agent client testimonials."}),l.jsx(jR,{icon:l.jsx(K1,{className:"h-8 w-8 text-blue-600","aria-hidden":"true"}),title:"Agent Analytics & Insights",description:"Track your professional portfolio performance with detailed analytics. Monitor profile views, link clicks, and lead sources. See which listings and sold properties get the most attention."})]})]})}),l.jsx(ETe,{limit:6,showSearch:!0,showFilters:!0}),l.jsx("section",{className:"py-20 bg-blue-600 text-white","aria-labelledby":"cta-heading",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h2",{id:"cta-heading",className:"text-4xl font-bold mb-4",children:"Create Your Professional Real Estate Agent Portfolio Link Today"}),l.jsx("p",{className:"text-xl mb-8 text-blue-100",children:"Join thousands of agents showcasing sold properties and capturing qualified leads"}),l.jsx(An,{to:"/auth/register",className:"inline-block bg-white text-blue-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-50 transition-colors","aria-label":"Get started with your free professional agent portfolio",children:"Get Started Free"})]})}),l.jsx(pj,{})]})]})}function jR({icon:t,title:e,description:n}){return l.jsxs("div",{className:"p-6 rounded-xl border-2 border-gray-100 hover:border-blue-200 hover:shadow-lg transition-all",children:[l.jsx("div",{className:"mb-4",children:t}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e}),l.jsx("p",{className:"text-gray-600",children:n})]})}const _te=({size:t="md",className:e="",text:n})=>{const r={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return l.jsxs("div",{className:`flex flex-col items-center justify-center gap-2 ${e}`,children:[l.jsx(ri,{className:`${r[t]} animate-spin text-primary`}),n&&l.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})},TTe=({text:t})=>l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsx(_te,{size:"lg",text:t||"Loading..."})});function MTe({profile:t}){return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 md:p-8 text-center",children:[l.jsx("div",{className:"mb-4",children:t.profile_photo?l.jsx("img",{src:t.profile_photo,alt:t.display_name,className:"w-24 h-24 md:w-32 md:h-32 rounded-full mx-auto object-cover border-4 border-blue-100"}):l.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full mx-auto bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center border-4 border-blue-100",children:l.jsx("span",{className:"text-4xl md:text-5xl font-bold text-white",children:(t.display_name||t.full_name||t.username||"U").split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})})}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:t.display_name||t.full_name||t.username}),t.title&&l.jsx("p",{className:"text-lg text-blue-600 font-medium mb-4",children:t.title}),t.brokerage_name&&l.jsx("div",{className:"flex items-center justify-center gap-2 text-gray-600 mb-4",children:t.brokerage_logo?l.jsx("img",{src:t.brokerage_logo,alt:t.brokerage_name,className:"h-6 object-contain"}):l.jsx("span",{children:t.brokerage_name})}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm text-gray-600 mb-6",children:[t.years_experience&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(to,{className:"h-4 w-4"}),l.jsxs("span",{children:[t.years_experience," years"]})]}),t.service_cities&&t.service_cities.length>0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Cp,{className:"h-4 w-4"}),l.jsx("span",{children:t.service_cities[0]}),t.service_cities.length>1&&l.jsxs("span",{className:"text-blue-600",children:["+",t.service_cities.length-1," more"]})]}),t.certifications&&t.certifications.length>0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(IJ,{className:"h-4 w-4"}),l.jsx("span",{children:t.certifications.join(", ")})]})]}),t.bio&&l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:t.bio})}),t.specialties&&t.specialties.length>0&&l.jsx("div",{className:"mt-6",children:l.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:t.specialties.map((e,n)=>l.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm font-medium",children:e},n))})}),l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["License #",t.license_number," (",t.license_state,")"]})})]})}function CTe({profile:t,onContactClick:e}){const n=(r,i)=>{e&&e(r),r==="phone"?window.location.href=`tel:${i}`:r==="email"?window.location.href=`mailto:${i}`:r==="sms"&&(window.location.href=`sms:${i}`)};return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Get in Touch"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.phone&&l.jsxs("button",{onClick:()=>n("phone",t.phone),className:"flex items-center justify-center gap-2 px-6 py-4 rounded-lg font-semibold transition-all shadow-sm hover:shadow-md",style:{backgroundColor:"hsl(var(--theme-primary, 217 91% 60%))",color:"white"},children:[l.jsx(No,{className:"h-5 w-5"}),l.jsx("span",{children:"Call"})]}),t.email_display&&l.jsxs("button",{onClick:()=>n("email",t.email_display),className:"flex items-center justify-center gap-2 px-6 py-4 rounded-lg font-semibold transition-all shadow-sm hover:shadow-md",style:{backgroundColor:"hsl(var(--theme-secondary, 142 71% 45%))",color:"white"},children:[l.jsx(yi,{className:"h-5 w-5"}),l.jsx("span",{children:"Email"})]}),t.phone&&t.sms_enabled&&l.jsxs("button",{onClick:()=>n("sms",t.phone),className:"flex items-center justify-center gap-2 px-6 py-4 rounded-lg font-semibold transition-all shadow-sm hover:shadow-md",style:{backgroundColor:"hsl(var(--theme-accent, 38 92% 50%))",color:"white"},children:[l.jsx(hp,{className:"h-5 w-5"}),l.jsx("span",{children:"Text"})]})]}),l.jsx("div",{className:"hidden md:block mt-4 pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-gray-600",children:[t.phone&&l.jsx("a",{href:`tel:${t.phone}`,className:"hover:text-blue-600 transition-colors",children:t.phone}),t.email_display&&l.jsx("a",{href:`mailto:${t.email_display}`,className:"hover:text-blue-600 transition-colors",children:t.email_display})]})})]})}const NTe=[{key:"instagram_url",icon:AE,label:"Instagram",color:"hover:text-pink-600"},{key:"facebook_url",icon:SE,label:"Facebook",color:"hover:text-blue-600"},{key:"linkedin_url",icon:TE,label:"LinkedIn",color:"hover:text-blue-700"},{key:"tiktok_url",icon:X2,label:"TikTok",color:"hover:text-gray-900"},{key:"youtube_url",icon:Y2,label:"YouTube",color:"hover:text-red-600"},{key:"zillow_url",icon:gi,label:"Zillow",color:"hover:text-blue-600"},{key:"realtor_com_url",icon:DJ,label:"Realtor.com",color:"hover:text-red-600"},{key:"website_url",icon:q2,label:"Website",color:"hover:text-blue-600"}];function PTe({profile:t}){const e=NTe.filter(n=>t[n.key]);return e.length===0?null:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Connect With Me"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:e.map(n=>{const r=n.icon,i=t[n.key];return l.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 px-4 py-2 border-2 border-gray-200 rounded-lg text-gray-700 font-medium transition-all ${n.color} hover:border-current hover:shadow-md`,"aria-label":n.label,children:[l.jsx(r,{className:"h-5 w-5"}),l.jsx("span",{className:"hidden sm:inline",children:n.label})]},n.key)})})]})}function br(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function hf(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function jTe(t,e){const n=br(t);return isNaN(e)?hf(t,NaN):(e&&n.setDate(n.getDate()+e),n)}const Ste=6048e5,kTe=864e5,XT=43200,G8=1440;let OTe={};function NE(){return OTe}function tS(t,e){var o,c,u,d;const n=NE(),r=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=br(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function SN(t){return tS(t,{weekStartsOn:1})}function Ete(t){const e=br(t),n=e.getFullYear(),r=hf(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=SN(r),s=hf(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=SN(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function q8(t){const e=br(t);return e.setHours(0,0,0,0),e}function EN(t){const e=br(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function RTe(t,e){const n=q8(t),r=q8(e),i=+n-EN(n),s=+r-EN(r);return Math.round((i-s)/kTe)}function ITe(t){const e=Ete(t),n=hf(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),SN(n)}function CC(t,e){const n=br(t),r=br(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function LTe(t){return hf(t,Date.now())}function DTe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function FTe(t){if(!DTe(t)&&typeof t!="number")return!1;const e=br(t);return!isNaN(Number(e))}function UTe(t,e){const n=br(t),r=br(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function BTe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function zTe(t,e){return+br(t)-+br(e)}function $Te(t){const e=br(t);return e.setHours(23,59,59,999),e}function b3(t){const e=br(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function VTe(t){const e=br(t);return+$Te(e)==+b3(e)}function HTe(t,e){const n=br(t),r=br(e),i=CC(n,r),s=Math.abs(UTe(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let o=CC(n,r)===-i;VTe(br(t))&&s===1&&CC(t,r)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function WTe(t,e,n){const r=zTe(t,e)/1e3;return BTe(n==null?void 0:n.roundingMethod)(r)}function GTe(t,e){const n=br(t.start),r=br(t.end);let i=+n>+r;const s=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0);let o=1;const c=[];for(;+a<=s;)c.push(br(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return i?c.reverse():c}function kR(t){const e=br(t);return e.setDate(1),e.setHours(0,0,0,0),e}function qTe(t){const e=br(t),n=hf(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const XTe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KTe=(t,e,n)=>{let r;const i=XTe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function OR(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const YTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JTe={date:OR({formats:YTe,defaultWidth:"full"}),time:OR({formats:ZTe,defaultWidth:"full"}),dateTime:OR({formats:QTe,defaultWidth:"full"})},eMe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tMe=(t,e,n,r)=>eMe[t];function Qw(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const nMe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rMe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iMe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sMe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aMe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oMe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lMe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cMe={ordinalNumber:lMe,era:Qw({values:nMe,defaultWidth:"wide"}),quarter:Qw({values:rMe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qw({values:iMe,defaultWidth:"wide"}),day:Qw({values:sMe,defaultWidth:"wide"}),dayPeriod:Qw({values:aMe,defaultWidth:"wide",formattingValues:oMe,defaultFormattingWidth:"wide"})};function Jw(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?dMe(o,f=>f.test(a)):uMe(o,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function uMe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function dMe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function fMe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const hMe=/^(\d+)(th|st|nd|rd)?/i,pMe=/\d+/i,mMe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gMe={any:[/^b/i,/^(a|c)/i]},yMe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vMe={any:[/1/i,/2/i,/3/i,/4/i]},xMe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bMe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wMe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_Me={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SMe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EMe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AMe={ordinalNumber:fMe({matchPattern:hMe,parsePattern:pMe,valueCallback:t=>parseInt(t,10)}),era:Jw({matchPatterns:mMe,defaultMatchWidth:"wide",parsePatterns:gMe,defaultParseWidth:"any"}),quarter:Jw({matchPatterns:yMe,defaultMatchWidth:"wide",parsePatterns:vMe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jw({matchPatterns:xMe,defaultMatchWidth:"wide",parsePatterns:bMe,defaultParseWidth:"any"}),day:Jw({matchPatterns:wMe,defaultMatchWidth:"wide",parsePatterns:_Me,defaultParseWidth:"any"}),dayPeriod:Jw({matchPatterns:SMe,defaultMatchWidth:"any",parsePatterns:EMe,defaultParseWidth:"any"})},Ate={code:"en-US",formatDistance:KTe,formatLong:JTe,formatRelative:tMe,localize:cMe,match:AMe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function TMe(t){const e=br(t);return RTe(e,qTe(e))+1}function MMe(t){const e=br(t),n=+SN(e)-+ITe(e);return Math.round(n/Ste)+1}function Tte(t,e){var d,f,h,p;const n=br(t),r=n.getFullYear(),i=NE(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=hf(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=tS(a,e),c=hf(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=tS(c,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function CMe(t,e){var o,c,u,d;const n=NE(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Tte(t,e),s=hf(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),tS(s,e)}function NMe(t,e){const n=br(t),r=+tS(n,e)-+CMe(n,e);return Math.round(r/Ste)+1}function Or(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const fh={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Or(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Or(n+1,2)},d(t,e){return Or(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Or(t.getHours()%12||12,e.length)},H(t,e){return Or(t.getHours(),e.length)},m(t,e){return Or(t.getMinutes(),e.length)},s(t,e){return Or(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Or(i,e.length)}},Ov={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},X8={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return fh.y(t,e)},Y:function(t,e,n,r){const i=Tte(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Or(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Or(s,e.length)},R:function(t,e){const n=Ete(t);return Or(n,e.length)},u:function(t,e){const n=t.getFullYear();return Or(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Or(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Or(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return fh.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Or(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=NMe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Or(i,e.length)},I:function(t,e,n){const r=MMe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Or(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):fh.d(t,e)},D:function(t,e,n){const r=TMe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Or(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Or(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Or(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Or(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ov.noon:r===0?i=Ov.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ov.evening:r>=12?i=Ov.afternoon:r>=4?i=Ov.morning:i=Ov.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return fh.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):fh.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Or(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Or(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):fh.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):fh.s(t,e)},S:function(t,e){return fh.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Y8(r);case"XXXX":case"XX":return Hm(r);case"XXXXX":case"XXX":default:return Hm(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Y8(r);case"xxxx":case"xx":return Hm(r);case"xxxxx":case"xxx":default:return Hm(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+K8(r,":");case"OOOO":default:return"GMT"+Hm(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+K8(r,":");case"zzzz":default:return"GMT"+Hm(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Or(r,e.length)},T:function(t,e,n){const r=t.getTime();return Or(r,e.length)}};function K8(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Or(s,2)}function Y8(t,e){return t%60===0?(t>0?"-":"+")+Or(Math.abs(t)/60,2):Hm(t,e)}function Hm(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Or(Math.trunc(r/60),2),s=Or(r%60,2);return n+i+e+s}const Z8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Mte=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},PMe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Z8(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Z8(r,e)).replace("{{time}}",Mte(i,e))},jMe={p:Mte,P:PMe},kMe=/^D+$/,OMe=/^Y+$/,RMe=["D","DD","YY","YYYY"];function IMe(t){return kMe.test(t)}function LMe(t){return OMe.test(t)}function DMe(t,e,n){const r=FMe(t,e,n);if(console.warn(r),RMe.includes(t))throw new RangeError(r)}function FMe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UMe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BMe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zMe=/^'([^]*?)'?$/,$Me=/''/g,VMe=/[a-zA-Z]/;function Fu(t,e,n){var d,f,h,p;const r=NE(),i=r.locale??Ate,s=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=br(t);if(!FTe(o))throw new RangeError("Invalid time value");let c=e.match(BMe).map(g=>{const v=g[0];if(v==="p"||v==="P"){const w=jMe[v];return w(g,i.formatLong)}return g}).join("").match(UMe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:HMe(g)};if(X8[v])return{isToken:!0,value:g};if(v.match(VMe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(g=>{if(!g.isToken)return g.value;const v=g.value;(LMe(v)||IMe(v))&&DMe(v,e,String(t));const w=X8[v[0]];return w(o,v,i.localize,u)}).join("")}function HMe(t){const e=t.match(zMe);return e?e[1].replace($Me,"'"):t}function Cte(t,e,n){const r=NE(),i=(n==null?void 0:n.locale)??r.locale??Ate,s=2520,a=CC(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let c,u;a>0?(c=br(e),u=br(t)):(c=br(t),u=br(e));const d=WTe(u,c),f=(EN(u)-EN(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<G8){const g=Math.round(h/60);return i.formatDistance("aboutXHours",g,o)}else{if(h<s)return i.formatDistance("xDays",1,o);if(h<XT){const g=Math.round(h/G8);return i.formatDistance("xDays",g,o)}else if(h<XT*2)return p=Math.round(h/XT),i.formatDistance("aboutXMonths",p,o)}if(p=HTe(u,c),p<12){const g=Math.round(h/XT);return i.formatDistance("xMonths",g,o)}else{const g=p%12,v=Math.trunc(p/12);return g<3?i.formatDistance("aboutXYears",v,o):g<9?i.formatDistance("overXYears",v,o):i.formatDistance("almostXYears",v+1,o)}}function E0(t,e){return Cte(t,LTe(t),e)}function Ru(t,e){return jTe(t,-e)}function w3(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function cg(t){if(typeof t=="number")return isNaN(t)?0:t;if(t==null)return 0;const e=Number(String(t).replace(/[^0-9.]/g,""));return isNaN(e)?0:e}function WMe(t,e="MMM d, yyyy"){return Fu(new Date(t),e)}function Nte(t){return Cte(new Date(t),new Date,{addSuffix:!0})}function GMe(t,e,n){const r=[];return t&&r.push(`${t} bd`),r.join(" | ")}function Pte(t,e="listings"){if(!t)return"/placeholder-property.jpg";if(t.startsWith("http://")||t.startsWith("https://"))return t;const{data:n}=Xe.storage.from(e).getPublicUrl(t);return n.publicUrl}function qMe(t,e="listings"){return!t||t.length===0?["/placeholder-property.jpg"]:t.map(n=>Pte(n,e))}const XMe={active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",under_contract:"bg-orange-100 text-orange-800",sold:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800"},KMe={active:"Active",pending:"Pending",under_contract:"Under Contract",sold:"Sold",draft:"Draft"};function jte({listing:t,onClick:e}){var r;const n=Pte(t.image||((r=t.photos)==null?void 0:r[0]),"listings");return l.jsxs("div",{onClick:e,className:"bg-white rounded-lg shadow-sm overflow-hidden cursor-pointer hover:shadow-lg transition-all group",children:[l.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100",children:[l.jsx("img",{src:n,alt:t.title||t.address||"Property",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:i=>{i.currentTarget.src="/placeholder-property.jpg"}}),l.jsx("div",{className:"absolute top-3 left-3",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${XMe[t.status]}`,children:KMe[t.status]})}),t.is_featured&&l.jsx("div",{className:"absolute top-3 right-3",children:l.jsx("span",{className:"px-3 py-1 bg-purple-600 text-white rounded-full text-xs font-semibold",children:"Featured"})}),t.days_on_market!==null&&t.status==="active"&&l.jsx("div",{className:"absolute bottom-3 right-3",children:l.jsxs("span",{className:"px-2 py-1 bg-black/70 text-white rounded text-xs font-medium flex items-center gap-1",children:[l.jsx(to,{className:"h-3 w-3"}),t.days_on_market," days"]})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w3(cg(t.price))}),t.original_price&&cg(t.original_price)!==cg(t.price)&&l.jsx("p",{className:"text-sm text-gray-500 line-through",children:w3(cg(t.original_price))})]}),(t.bedrooms||t.bathrooms||t.square_feet)&&l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[t.bedrooms&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(KU,{className:"h-4 w-4"}),l.jsxs("span",{children:[t.bedrooms," bd"]})]}),t.bathrooms&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(XU,{className:"h-4 w-4"}),l.jsxs("span",{children:[t.bathrooms," ba"]})]}),t.square_feet&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(e1e,{className:"h-4 w-4"}),l.jsxs("span",{children:[t.square_feet.toLocaleString()," sqft"]})]})]}),l.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[l.jsx(Cp,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),l.jsxs("p",{className:"line-clamp-2",children:[t.address||"",t.city?`, ${t.city}`:""]})]}),t.description&&l.jsx("p",{className:"mt-3 text-sm text-gray-600 line-clamp-2",children:t.description}),t.open_house_date&&t.status==="active"&&l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:l.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Open House:"," ",new Date(t.open_house_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]})})]})]})}function YMe({listings:t,title:e="Active Listings",emptyMessage:n="No listings available at this time.",onListingClick:r}){const[i,s]=j.useState("grid");return t.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 md:p-12 text-center",children:[l.jsx(LJ,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:n})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[e,l.jsxs("span",{className:"ml-2 text-lg font-normal text-gray-500",children:["(",t.length,")"]})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(a=>l.jsx(jte,{listing:a,onClick:()=>r==null?void 0:r(a)},a.id))})]})}function ZMe({listings:t,onListingClick:e}){const n=t.filter(s=>s.status==="sold");if(n.length===0)return null;const r=n.reduce((s,a)=>s+cg(a.price),0),i=n.length>0?r/n.length:0;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(m1e,{className:"h-8 w-8"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Recent Success Stories"}),l.jsx("p",{className:"text-blue-100",children:"Proven track record of successful sales"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-6",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[l.jsx("p",{className:"text-3xl font-bold",children:n.length}),l.jsx("p",{className:"text-sm text-blue-100",children:"Properties Sold"})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[l.jsxs("p",{className:"text-3xl font-bold",children:["$",r>=1e6?`${(r/1e6).toFixed(1)}M+`:`${(r/1e3).toFixed(0)}K+`]}),l.jsx("p",{className:"text-sm text-blue-100",children:"Total Volume"})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 col-span-2 md:col-span-1",children:[l.jsxs("p",{className:"text-3xl font-bold flex items-center gap-2",children:["$",i>=1e6?`${(i/1e6).toFixed(1)}M`:`${(i/1e3).toFixed(0)}K`,l.jsx(fi,{className:"h-5 w-5"})]}),l.jsx("p",{className:"text-sm text-blue-100",children:"Avg Sale Price"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recently Sold"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.slice(0,6).map(s=>l.jsxs("div",{className:"relative",children:[l.jsx(jte,{listing:s,onClick:()=>e==null?void 0:e(s)}),l.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-lg flex items-center justify-center pointer-events-none",children:l.jsx("div",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold text-2xl transform -rotate-12 shadow-xl",children:"SOLD"})})]},s.id))}),n.length>6&&l.jsx("div",{className:"text-center mt-6",children:l.jsxs("button",{className:"text-blue-600 hover:text-blue-700 font-semibold",children:["View All ",n.length," Sold Properties "]})})]})]})}function QMe(t,e){return j.useReducer((n,r)=>e[n][r]??n,t)}var jp=t=>{const{present:e,children:n}=t,r=JMe(e),i=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),s=jr(r.ref,eCe(i));return typeof n=="function"||r.isPresent?j.cloneElement(i,{ref:s}):null};jp.displayName="Presence";function JMe(t){const[e,n]=j.useState(),r=j.useRef(null),i=j.useRef(t),s=j.useRef("none"),a=t?"mounted":"unmounted",[o,c]=QMe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=KT(r.current);s.current=o==="mounted"?u:"none"},[o]),As(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,p=KT(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),As(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const v=KT(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&v&&(c("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},h=p=>{p.target===e&&(s.current=KT(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:j.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function KT(t){return(t==null?void 0:t.animationName)||"none"}function eCe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mj="Dialog",[kte,Ote]=ac(mj),[tCe,nu]=kte(mj),Rte=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=j.useRef(null),c=j.useRef(null),[u,d]=gp({prop:r,defaultProp:i??!1,onChange:s,caller:mj});return l.jsx(tCe,{scope:e,triggerRef:o,contentRef:c,contentId:Zd(),titleId:Zd(),descriptionId:Zd(),open:u,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};Rte.displayName=mj;var Ite="DialogTrigger",Lte=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=nu(Ite,n),s=jr(e,i.triggerRef);return l.jsx(Sn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xB(i.open),...r,ref:s,onClick:On(t.onClick,i.onOpenToggle)})});Lte.displayName=Ite;var yB="DialogPortal",[nCe,Dte]=kte(yB,{forceMount:void 0}),Fte=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=nu(yB,e);return l.jsx(nCe,{scope:e,forceMount:n,children:j.Children.map(r,a=>l.jsx(jp,{present:n||s.open,children:l.jsx(oj,{asChild:!0,container:i,children:a})}))})};Fte.displayName=yB;var AN="DialogOverlay",Ute=j.forwardRef((t,e)=>{const n=Dte(AN,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=nu(AN,t.__scopeDialog);return s.modal?l.jsx(jp,{present:r||s.open,children:l.jsx(iCe,{...i,ref:e})}):null});Ute.displayName=AN;var rCe=Jg("DialogOverlay.RemoveScroll"),iCe=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=nu(AN,n);return l.jsx(cj,{as:rCe,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Sn.div,{"data-state":xB(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ry="DialogContent",Bte=j.forwardRef((t,e)=>{const n=Dte(ry,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=nu(ry,t.__scopeDialog);return l.jsx(jp,{present:r||s.open,children:s.modal?l.jsx(sCe,{...i,ref:e}):l.jsx(aCe,{...i,ref:e})})});Bte.displayName=ry;var sCe=j.forwardRef((t,e)=>{const n=nu(ry,t.__scopeDialog),r=j.useRef(null),i=jr(e,n.contentRef,r);return j.useEffect(()=>{const s=r.current;if(s)return mB(s)},[]),l.jsx(zte,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:On(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:On(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:On(t.onFocusOutside,s=>s.preventDefault())})}),aCe=j.forwardRef((t,e)=>{const n=nu(ry,t.__scopeDialog),r=j.useRef(!1),i=j.useRef(!1);return l.jsx(zte,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),zte=j.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=nu(ry,n),c=j.useRef(null),u=jr(e,c);return rB(),l.jsxs(l.Fragment,{children:[l.jsx(tj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(ej,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":xB(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(lCe,{titleId:o.titleId}),l.jsx(uCe,{contentRef:c,descriptionId:o.descriptionId})]})]})}),vB="DialogTitle",$te=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=nu(vB,n);return l.jsx(Sn.h2,{id:i.titleId,...r,ref:e})});$te.displayName=vB;var Vte="DialogDescription",Hte=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=nu(Vte,n);return l.jsx(Sn.p,{id:i.descriptionId,...r,ref:e})});Hte.displayName=Vte;var Wte="DialogClose",Gte=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=nu(Wte,n);return l.jsx(Sn.button,{type:"button",...r,ref:e,onClick:On(t.onClick,()=>i.onOpenChange(!1))})});Gte.displayName=Wte;function xB(t){return t?"open":"closed"}var qte="DialogTitleWarning",[oCe,Xte]=vSe(qte,{contentName:ry,titleName:vB,docsSlug:"dialog"}),lCe=({titleId:t})=>{const e=Xte(qte),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},cCe="DialogDescriptionWarning",uCe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Xte(cCe).contentName}}.`;return j.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Kte=Rte,Yte=Lte,Zte=Fte,bB=Ute,wB=Bte,_B=$te,SB=Hte,EB=Gte;const bl=Kte,wy=Yte,dCe=Zte,Qte=j.forwardRef(({className:t,...e},n)=>l.jsx(bB,{ref:n,className:at("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Qte.displayName=bB.displayName;const Po=j.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(dCe,{children:[l.jsx(Qte,{}),l.jsxs(wB,{ref:r,className:at("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(EB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500",children:[l.jsx(xl,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Po.displayName=wB.displayName;const wl=({className:t,...e})=>l.jsx("div",{className:at("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});wl.displayName="DialogHeader";const bb=({className:t,...e})=>l.jsx("div",{className:at("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});bb.displayName="DialogFooter";const _l=j.forwardRef(({className:t,...e},n)=>l.jsx(_B,{ref:n,className:at("text-lg font-semibold leading-none tracking-tight text-gray-900",t),...e}));_l.displayName=_B.displayName;const ru=j.forwardRef(({className:t,...e},n)=>l.jsx(SB,{ref:n,className:at("text-sm text-gray-500",t),...e}));ru.displayName=SB.displayName;var PE=t=>t.type==="checkbox",ug=t=>t instanceof Date,vo=t=>t==null;const Jte=t=>typeof t=="object";var us=t=>!vo(t)&&!Array.isArray(t)&&Jte(t)&&!ug(t),fCe=t=>us(t)&&t.target?PE(t.target)?t.target.checked:t.target.value:t,hCe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,pCe=(t,e)=>t.has(hCe(e)),mCe=t=>{const e=t.constructor&&t.constructor.prototype;return us(e)&&e.hasOwnProperty("isPrototypeOf")},AB=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $s(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(AB&&(t instanceof Blob||r))&&(n||us(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!mCe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=$s(t[i]));else return t;return e}var gj=t=>/^\w*$/.test(t),qi=t=>t===void 0,TB=t=>Array.isArray(t)?t.filter(Boolean):[],MB=t=>TB(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Bt=(t,e,n)=>{if(!e||!us(t))return n;const r=(gj(e)?[e]:MB(e)).reduce((i,s)=>vo(i)?i:i[s],t);return qi(r)||r===t?qi(t[e])?n:t[e]:r},Mu=t=>typeof t=="boolean",Wr=(t,e,n)=>{let r=-1;const i=gj(e)?[e]:MB(e),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let c=n;if(r!==a){const u=t[o];c=us(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const Q8={BLUR:"blur",FOCUS_OUT:"focusout"},Vc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Td={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gCe=ne.createContext(null);gCe.displayName="HookFormContext";var yCe=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Vc.all&&(e._proxyFormState[a]=!r||Vc.all),t[a]}});return i};const vCe=typeof window<"u"?ne.useLayoutEffect:ne.useEffect;var al=t=>typeof t=="string",xCe=(t,e,n,r,i)=>al(t)?(r&&e.watch.add(t),Bt(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Bt(n,s))):(r&&(e.watchAll=!0),n),_3=t=>vo(t)||!Jte(t);function Rh(t,e,n=new WeakSet){if(_3(t)||_3(e))return t===e;if(ug(t)&&ug(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ug(a)&&ug(o)||us(a)&&us(o)||Array.isArray(a)&&Array.isArray(o)?!Rh(a,o,n):a!==o)return!1}}return!0}var ene=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},r1=t=>Array.isArray(t)?t:[t],J8=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function tne(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],s=e[r];if(i&&us(i)&&s){const a=tne(i,s);us(a)&&(n[r]=a)}else t[r]&&(n[r]=s)}return n}var go=t=>us(t)&&!Object.keys(t).length,CB=t=>t.type==="file",Hc=t=>typeof t=="function",TN=t=>{if(!AB)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},nne=t=>t.type==="select-multiple",NB=t=>t.type==="radio",bCe=t=>NB(t)||PE(t),RR=t=>TN(t)&&t.isConnected;function wCe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=qi(t)?r++:t[e[r++]];return t}function _Ce(t){for(const e in t)if(t.hasOwnProperty(e)&&!qi(t[e]))return!1;return!0}function ns(t,e){const n=Array.isArray(e)?e:gj(e)?[e]:MB(e),r=n.length===1?t:wCe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(us(r)&&go(r)||Array.isArray(r)&&_Ce(r))&&ns(t,n.slice(0,-1)),t}var SCe=t=>{for(const e in t)if(Hc(t[e]))return!0;return!1};function rne(t){return Array.isArray(t)||us(t)&&!SCe(t)}function S3(t,e={}){for(const n in t)rne(t[n])?(e[n]=Array.isArray(t[n])?[]:{},S3(t[n],e[n])):qi(t[n])||(e[n]=!0);return e}function lx(t,e,n){n||(n=S3(e));for(const r in t)rne(t[r])?qi(e)||_3(n[r])?n[r]=S3(t[r],Array.isArray(t[r])?[]:{}):lx(t[r],vo(e)?{}:e[r],n[r]):n[r]=!Rh(t[r],e[r]);return n}const eH={value:!1,isValid:!1},tH={value:!0,isValid:!0};var ine=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!qi(t[0].attributes.value)?qi(t[0].value)||t[0].value===""?tH:{value:t[0].value,isValid:!0}:tH:eH}return eH},sne=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>qi(t)?t:e?t===""?NaN:t&&+t:n&&al(t)?new Date(t):r?r(t):t;const nH={isValid:!1,value:null};var ane=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,nH):nH;function rH(t){const e=t.ref;return CB(e)?e.files:NB(e)?ane(t.refs).value:nne(e)?[...e.selectedOptions].map(({value:n})=>n):PE(e)?ine(t.refs).value:sne(qi(e.value)?t.ref.value:e.value,t)}var ECe=(t,e,n,r)=>{const i={};for(const s of t){const a=Bt(e,s);a&&Wr(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},MN=t=>t instanceof RegExp,e_=t=>qi(t)?t:MN(t)?t.source:us(t)?MN(t.value)?t.value.source:t.value:t,iH=t=>({isOnSubmit:!t||t===Vc.onSubmit,isOnBlur:t===Vc.onBlur,isOnChange:t===Vc.onChange,isOnAll:t===Vc.all,isOnTouch:t===Vc.onTouched});const sH="AsyncFunction";var ACe=t=>!!t&&!!t.validate&&!!(Hc(t.validate)&&t.validate.constructor.name===sH||us(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===sH)),TCe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),aH=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const i1=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Bt(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(i1(o,e))break}else if(us(o)&&i1(o,e))break}}};function oH(t,e,n){const r=Bt(t,n);if(r||gj(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=Bt(e,s),o=Bt(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:n}}var MCe=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return go(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||Vc.all))},CCe=(t,e,n)=>!t||!e||t===e||r1(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),NCe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,PCe=(t,e)=>!TB(Bt(t,e)).length&&ns(t,e),jCe=(t,e,n)=>{const r=r1(Bt(t,n));return Wr(r,"root",e[n]),Wr(t,n,r),t};function lH(t,e,n="validate"){if(al(t)||Array.isArray(t)&&t.every(al)||Mu(t)&&!t)return{type:n,message:al(t)?t:"",ref:e}}var Rv=t=>us(t)&&!MN(t)?t:{value:t,message:""},cH=async(t,e,n,r,i,s)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:v,valueAsNumber:w,mount:x}=t._f,_=Bt(n,v);if(!x||e.has(v))return{};const S=o?o[0]:a,A=B=>{i&&S.reportValidity&&(S.setCustomValidity(Mu(B)?"":B||""),S.reportValidity())},C={},T=NB(a),N=PE(a),O=T||N,U=(w||CB(a))&&qi(a.value)&&qi(_)||TN(a)&&a.value===""||_===""||Array.isArray(_)&&!_.length,R=ene.bind(null,v,r,C),I=(B,G,K,Q=Td.maxLength,q=Td.minLength)=>{const ie=B?G:K;C[v]={type:B?Q:q,message:ie,ref:a,...R(B?Q:q,ie)}};if(s?!Array.isArray(_)||!_.length:c&&(!O&&(U||vo(_))||Mu(_)&&!_||N&&!ine(o).isValid||T&&!ane(o).isValid)){const{value:B,message:G}=al(c)?{value:!!c,message:c}:Rv(c);if(B&&(C[v]={type:Td.required,message:G,ref:S,...R(Td.required,G)},!r))return A(G),C}if(!U&&(!vo(f)||!vo(h))){let B,G;const K=Rv(h),Q=Rv(f);if(!vo(_)&&!isNaN(_)){const q=a.valueAsNumber||_&&+_;vo(K.value)||(B=q>K.value),vo(Q.value)||(G=q<Q.value)}else{const q=a.valueAsDate||new Date(_),ie=z=>new Date(new Date().toDateString()+" "+z),V=a.type=="time",X=a.type=="week";al(K.value)&&_&&(B=V?ie(_)>ie(K.value):X?_>K.value:q>new Date(K.value)),al(Q.value)&&_&&(G=V?ie(_)<ie(Q.value):X?_<Q.value:q<new Date(Q.value))}if((B||G)&&(I(!!B,K.message,Q.message,Td.max,Td.min),!r))return A(C[v].message),C}if((u||d)&&!U&&(al(_)||s&&Array.isArray(_))){const B=Rv(u),G=Rv(d),K=!vo(B.value)&&_.length>+B.value,Q=!vo(G.value)&&_.length<+G.value;if((K||Q)&&(I(K,B.message,G.message),!r))return A(C[v].message),C}if(p&&!U&&al(_)){const{value:B,message:G}=Rv(p);if(MN(B)&&!_.match(B)&&(C[v]={type:Td.pattern,message:G,ref:a,...R(Td.pattern,G)},!r))return A(G),C}if(g){if(Hc(g)){const B=await g(_,n),G=lH(B,S);if(G&&(C[v]={...G,...R(Td.validate,G.message)},!r))return A(G.message),C}else if(us(g)){let B={};for(const G in g){if(!go(B)&&!r)break;const K=lH(await g[G](_,n),S,G);K&&(B={...K,...R(G,K.message)},A(K.message),r&&(C[v]=B))}if(!go(B)&&(C[v]={ref:S,...B},!r))return C}}return A(!0),C};const kCe={mode:Vc.onSubmit,reValidateMode:Vc.onChange,shouldFocusError:!0};function OCe(t={}){let e={...kCe,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Hc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=us(e.defaultValues)||us(e.values)?$s(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:$s(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:J8(),state:J8()},p=e.criteriaMode===Vc.all,g=$=>F=>{clearTimeout(u),u=setTimeout($,F)},v=async $=>{if(!e.disabled&&(d.isValid||f.isValid||$)){const F=e.resolver?go((await N()).errors):await U(r,!0);F!==n.isValid&&h.state.next({isValid:F})}},w=($,F)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(re=>{re&&(F?Wr(n.validatingFields,re,F):ns(n.validatingFields,re))}),h.state.next({validatingFields:n.validatingFields,isValidating:!go(n.validatingFields)}))},x=($,F=[],re,ye,be=!0,pe=!0)=>{if(ye&&re&&!e.disabled){if(a.action=!0,pe&&Array.isArray(Bt(r,$))){const ce=re(Bt(r,$),ye.argA,ye.argB);be&&Wr(r,$,ce)}if(pe&&Array.isArray(Bt(n.errors,$))){const ce=re(Bt(n.errors,$),ye.argA,ye.argB);be&&Wr(n.errors,$,ce),PCe(n.errors,$)}if((d.touchedFields||f.touchedFields)&&pe&&Array.isArray(Bt(n.touchedFields,$))){const ce=re(Bt(n.touchedFields,$),ye.argA,ye.argB);be&&Wr(n.touchedFields,$,ce)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=lx(i,s)),h.state.next({name:$,isDirty:I($,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Wr(s,$,F)},_=($,F)=>{Wr(n.errors,$,F),h.state.next({errors:n.errors})},S=$=>{n.errors=$,h.state.next({errors:n.errors,isValid:!1})},A=($,F,re,ye)=>{const be=Bt(r,$);if(be){const pe=Bt(s,$,qi(re)?Bt(i,$):re);qi(pe)||ye&&ye.defaultChecked||F?Wr(s,$,F?pe:rH(be._f)):K($,pe),a.mount&&v()}},C=($,F,re,ye,be)=>{let pe=!1,ce=!1;const xe={name:$};if(!e.disabled){if(!re||ye){(d.isDirty||f.isDirty)&&(ce=n.isDirty,n.isDirty=xe.isDirty=I(),pe=ce!==xe.isDirty);const ke=Rh(Bt(i,$),F);ce=!!Bt(n.dirtyFields,$),ke?ns(n.dirtyFields,$):Wr(n.dirtyFields,$,!0),xe.dirtyFields=n.dirtyFields,pe=pe||(d.dirtyFields||f.dirtyFields)&&ce!==!ke}if(re){const ke=Bt(n.touchedFields,$);ke||(Wr(n.touchedFields,$,re),xe.touchedFields=n.touchedFields,pe=pe||(d.touchedFields||f.touchedFields)&&ke!==re)}pe&&be&&h.state.next(xe)}return pe?xe:{}},T=($,F,re,ye)=>{const be=Bt(n.errors,$),pe=(d.isValid||f.isValid)&&Mu(F)&&n.isValid!==F;if(e.delayError&&re?(c=g(()=>_($,re)),c(e.delayError)):(clearTimeout(u),c=null,re?Wr(n.errors,$,re):ns(n.errors,$)),(re?!Rh(be,re):be)||!go(ye)||pe){const ce={...ye,...pe&&Mu(F)?{isValid:F}:{},errors:n.errors,name:$};n={...n,...ce},h.state.next(ce)}},N=async $=>{w($,!0);const F=await e.resolver(s,e.context,ECe($||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w($),F},O=async $=>{const{errors:F}=await N($);if($)for(const re of $){const ye=Bt(F,re);ye?Wr(n.errors,re,ye):ns(n.errors,re)}else n.errors=F;return F},U=async($,F,re={valid:!0})=>{for(const ye in $){const be=$[ye];if(be){const{_f:pe,...ce}=be;if(pe){const xe=o.array.has(pe.name),ke=be._f&&ACe(be._f);ke&&d.validatingFields&&w([pe.name],!0);const ut=await cH(be,o.disabled,s,p,e.shouldUseNativeValidation&&!F,xe);if(ke&&d.validatingFields&&w([pe.name]),ut[pe.name]&&(re.valid=!1,F))break;!F&&(Bt(ut,pe.name)?xe?jCe(n.errors,ut,pe.name):Wr(n.errors,pe.name,ut[pe.name]):ns(n.errors,pe.name))}!go(ce)&&await U(ce,F,re)}}return re.valid},R=()=>{for(const $ of o.unMount){const F=Bt(r,$);F&&(F._f.refs?F._f.refs.every(re=>!RR(re)):!RR(F._f.ref))&&Ee($)}o.unMount=new Set},I=($,F)=>!e.disabled&&($&&F&&Wr(s,$,F),!Rh(z(),i)),B=($,F,re)=>xCe($,o,{...a.mount?s:qi(F)?i:al($)?{[$]:F}:F},re,F),G=$=>TB(Bt(a.mount?s:i,$,e.shouldUnregister?Bt(i,$,[]):[])),K=($,F,re={})=>{const ye=Bt(r,$);let be=F;if(ye){const pe=ye._f;pe&&(!pe.disabled&&Wr(s,$,sne(F,pe)),be=TN(pe.ref)&&vo(F)?"":F,nne(pe.ref)?[...pe.ref.options].forEach(ce=>ce.selected=be.includes(ce.value)):pe.refs?PE(pe.ref)?pe.refs.forEach(ce=>{(!ce.defaultChecked||!ce.disabled)&&(Array.isArray(be)?ce.checked=!!be.find(xe=>xe===ce.value):ce.checked=be===ce.value||!!be)}):pe.refs.forEach(ce=>ce.checked=ce.value===be):CB(pe.ref)?pe.ref.value="":(pe.ref.value=be,pe.ref.type||h.state.next({name:$,values:$s(s)})))}(re.shouldDirty||re.shouldTouch)&&C($,be,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&X($)},Q=($,F,re)=>{for(const ye in F){if(!F.hasOwnProperty(ye))return;const be=F[ye],pe=$+"."+ye,ce=Bt(r,pe);(o.array.has($)||us(be)||ce&&!ce._f)&&!ug(be)?Q(pe,be,re):K(pe,be,re)}},q=($,F,re={})=>{const ye=Bt(r,$),be=o.array.has($),pe=$s(F);Wr(s,$,pe),be?(h.array.next({name:$,values:$s(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&re.shouldDirty&&h.state.next({name:$,dirtyFields:lx(i,s),isDirty:I($,pe)})):ye&&!ye._f&&!vo(pe)?Q($,pe,re):K($,pe,re),aH($,o)&&h.state.next({...n,name:$}),h.state.next({name:a.mount?$:void 0,values:$s(s)})},ie=async $=>{a.mount=!0;const F=$.target;let re=F.name,ye=!0;const be=Bt(r,re),pe=ke=>{ye=Number.isNaN(ke)||ug(ke)&&isNaN(ke.getTime())||Rh(ke,Bt(s,re,ke))},ce=iH(e.mode),xe=iH(e.reValidateMode);if(be){let ke,ut;const $e=F.type?rH(be._f):fCe($),st=$.type===Q8.BLUR||$.type===Q8.FOCUS_OUT,Ut=!TCe(be._f)&&!e.resolver&&!Bt(n.errors,re)&&!be._f.deps||NCe(st,Bt(n.touchedFields,re),n.isSubmitted,xe,ce),Pt=aH(re,o,st);Wr(s,re,$e),st?(!F||!F.readOnly)&&(be._f.onBlur&&be._f.onBlur($),c&&c(0)):be._f.onChange&&be._f.onChange($);const mt=C(re,$e,st),ln=!go(mt)||Pt;if(!st&&h.state.next({name:re,type:$.type,values:$s(s)}),Ut)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?st&&v():st||v()),ln&&h.state.next({name:re,...Pt?{}:mt});if(!st&&Pt&&h.state.next({...n}),e.resolver){const{errors:Tt}=await N([re]);if(pe($e),ye){const Cn=oH(n.errors,r,re),ve=oH(Tt,r,Cn.name||re);ke=ve.error,re=ve.name,ut=go(Tt)}}else w([re],!0),ke=(await cH(be,o.disabled,s,p,e.shouldUseNativeValidation))[re],w([re]),pe($e),ye&&(ke?ut=!1:(d.isValid||f.isValid)&&(ut=await U(r,!0)));ye&&(be._f.deps&&(!Array.isArray(be._f.deps)||be._f.deps.length>0)&&X(be._f.deps),T(re,ut,ke,mt))}},V=($,F)=>{if(Bt(n.errors,F)&&$.focus)return $.focus(),1},X=async($,F={})=>{let re,ye;const be=r1($);if(e.resolver){const pe=await O(qi($)?$:be);re=go(pe),ye=$?!be.some(ce=>Bt(pe,ce)):re}else $?(ye=(await Promise.all(be.map(async pe=>{const ce=Bt(r,pe);return await U(ce&&ce._f?{[pe]:ce}:ce)}))).every(Boolean),!(!ye&&!n.isValid)&&v()):ye=re=await U(r);return h.state.next({...!al($)||(d.isValid||f.isValid)&&re!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:re}:{},errors:n.errors}),F.shouldFocus&&!ye&&i1(r,V,$?be:o.mount),ye},z=($,F)=>{let re={...a.mount?s:i};return F&&(re=tne(F.dirtyFields?n.dirtyFields:n.touchedFields,re)),qi($)?re:al($)?Bt(re,$):$.map(ye=>Bt(re,ye))},oe=($,F)=>({invalid:!!Bt((F||n).errors,$),isDirty:!!Bt((F||n).dirtyFields,$),error:Bt((F||n).errors,$),isValidating:!!Bt(n.validatingFields,$),isTouched:!!Bt((F||n).touchedFields,$)}),de=$=>{$&&r1($).forEach(F=>ns(n.errors,F)),h.state.next({errors:$?n.errors:{}})},Y=($,F,re)=>{const ye=(Bt(r,$,{_f:{}})._f||{}).ref,be=Bt(n.errors,$)||{},{ref:pe,message:ce,type:xe,...ke}=be;Wr(n.errors,$,{...ke,...F,ref:ye}),h.state.next({name:$,errors:n.errors,isValid:!1}),re&&re.shouldFocus&&ye&&ye.focus&&ye.focus()},he=($,F)=>Hc($)?h.state.subscribe({next:re=>"values"in re&&$(B(void 0,F),re)}):B($,F,!0),Ce=$=>h.state.subscribe({next:F=>{CCe($.name,F.name,$.exact)&&MCe(F,$.formState||d,Ke,$.reRenderRoot)&&$.callback({values:{...s},...n,...F,defaultValues:i})}}).unsubscribe,Ie=$=>(a.mount=!0,f={...f,...$.formState},Ce({...$,formState:f})),Ee=($,F={})=>{for(const re of $?r1($):o.mount)o.mount.delete(re),o.array.delete(re),F.keepValue||(ns(r,re),ns(s,re)),!F.keepError&&ns(n.errors,re),!F.keepDirty&&ns(n.dirtyFields,re),!F.keepTouched&&ns(n.touchedFields,re),!F.keepIsValidating&&ns(n.validatingFields,re),!e.shouldUnregister&&!F.keepDefaultValue&&ns(i,re);h.state.next({values:$s(s)}),h.state.next({...n,...F.keepDirty?{isDirty:I()}:{}}),!F.keepIsValid&&v()},Je=({disabled:$,name:F})=>{(Mu($)&&a.mount||$||o.disabled.has(F))&&($?o.disabled.add(F):o.disabled.delete(F))},Ne=($,F={})=>{let re=Bt(r,$);const ye=Mu(F.disabled)||Mu(e.disabled);return Wr(r,$,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:$}},name:$,mount:!0,...F}}),o.mount.add($),re?Je({disabled:Mu(F.disabled)?F.disabled:e.disabled,name:$}):A($,!0,F.value),{...ye?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:e_(F.min),max:e_(F.max),minLength:e_(F.minLength),maxLength:e_(F.maxLength),pattern:e_(F.pattern)}:{},name:$,onChange:ie,onBlur:ie,ref:be=>{if(be){Ne($,F),re=Bt(r,$);const pe=qi(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,ce=bCe(pe),xe=re._f.refs||[];if(ce?xe.find(ke=>ke===pe):pe===re._f.ref)return;Wr(r,$,{_f:{...re._f,...ce?{refs:[...xe.filter(RR),pe,...Array.isArray(Bt(i,$))?[{}]:[]],ref:{type:pe.type,name:$}}:{ref:pe}}}),A($,!1,void 0,pe)}else re=Bt(r,$,{}),re._f&&(re._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(pCe(o.array,$)&&a.action)&&o.unMount.add($)}}},Ue=()=>e.shouldFocusError&&i1(r,V,o.mount),Fe=$=>{Mu($)&&(h.state.next({disabled:$}),i1(r,(F,re)=>{const ye=Bt(r,re);ye&&(F.disabled=ye._f.disabled||$,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(be=>{be.disabled=ye._f.disabled||$}))},0,!1))},le=($,F)=>async re=>{let ye;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let be=$s(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:pe,values:ce}=await N();n.errors=pe,be=$s(ce)}else await U(r);if(o.disabled.size)for(const pe of o.disabled)ns(be,pe);if(ns(n.errors,"root"),go(n.errors)){h.state.next({errors:{}});try{await $(be,re)}catch(pe){ye=pe}}else F&&await F({...n.errors},re),Ue(),setTimeout(Ue);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:go(n.errors)&&!ye,submitCount:n.submitCount+1,errors:n.errors}),ye)throw ye},J=($,F={})=>{Bt(r,$)&&(qi(F.defaultValue)?q($,$s(Bt(i,$))):(q($,F.defaultValue),Wr(i,$,$s(F.defaultValue))),F.keepTouched||ns(n.touchedFields,$),F.keepDirty||(ns(n.dirtyFields,$),n.isDirty=F.defaultValue?I($,$s(Bt(i,$))):I()),F.keepError||(ns(n.errors,$),d.isValid&&v()),h.state.next({...n}))},Le=($,F={})=>{const re=$?$s($):i,ye=$s(re),be=go($),pe=be?i:ye;if(F.keepDefaultValues||(i=re),!F.keepValues){if(F.keepDirtyValues){const ce=new Set([...o.mount,...Object.keys(lx(i,s))]);for(const xe of Array.from(ce))Bt(n.dirtyFields,xe)?Wr(pe,xe,Bt(s,xe)):q(xe,Bt(pe,xe))}else{if(AB&&qi($))for(const ce of o.mount){const xe=Bt(r,ce);if(xe&&xe._f){const ke=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(TN(ke)){const ut=ke.closest("form");if(ut){ut.reset();break}}}}if(F.keepFieldsRef)for(const ce of o.mount)q(ce,Bt(pe,ce));else r={}}s=e.shouldUnregister?F.keepDefaultValues?$s(i):{}:$s(pe),h.array.next({values:{...pe}}),h.state.next({values:{...pe}})}o={mount:F.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,a.watch=!!e.shouldUnregister,h.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:be?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Rh($,i)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:be?{}:F.keepDirtyValues?F.keepDefaultValues&&s?lx(i,s):n.dirtyFields:F.keepDefaultValues&&$?lx(i,$):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},qe=($,F)=>Le(Hc($)?$(s):$,F),We=($,F={})=>{const re=Bt(r,$),ye=re&&re._f;if(ye){const be=ye.refs?ye.refs[0]:ye.ref;be.focus&&(be.focus(),F.shouldSelect&&Hc(be.select)&&be.select())}},Ke=$=>{n={...n,...$}},ct={control:{register:Ne,unregister:Ee,getFieldState:oe,handleSubmit:le,setError:Y,_subscribe:Ce,_runSchema:N,_focusError:Ue,_getWatch:B,_getDirty:I,_setValid:v,_setFieldArray:x,_setDisabledField:Je,_setErrors:S,_getFieldArray:G,_reset:Le,_resetDefaultValues:()=>Hc(e.defaultValues)&&e.defaultValues().then($=>{qe($,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Fe,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return n},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ie,trigger:X,register:Ne,handleSubmit:le,watch:he,setValue:q,getValues:z,reset:qe,resetField:J,clearErrors:de,unregister:Ee,setError:Y,setFocus:We,getFieldState:oe};return{...ct,formControl:ct}}function wb(t={}){const e=ne.useRef(void 0),n=ne.useRef(void 0),[r,i]=ne.useState({isDirty:!1,isValidating:!1,isLoading:Hc(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Hc(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Hc(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=OCe(t);e.current={...o,formState:r}}const s=e.current.control;return s._options=t,vCe(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),ne.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ne.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),ne.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),ne.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),ne.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),ne.useEffect(()=>{t.values&&!Rh(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),ne.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=yCe(r,s),e.current}const uH=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Bt(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},one=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?uH(r.ref,n,t):r.refs&&r.refs.forEach(i=>uH(i,n,t))}},RCe=(t,e)=>{e.shouldUseNativeValidation&&one(t,e);const n={};for(const r in t){const i=Bt(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(ICe(e.names||Object.keys(t),r)){const a=Object.assign({},Bt(n,r));Wr(a,"root",s),Wr(n,r,a)}else Wr(n,r,s)}return n},ICe=(t,e)=>t.some(n=>n.startsWith(e+"."));var LCe=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[a].types,u=c&&c[r.code];n[a]=ene(a,e,n,i,u?[].concat(u,r.message):r.message)}t.shift()}return n},_b=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(a,o){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return s.shouldUseNativeValidation&&one({},s),{errors:{},values:n.raw?r:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:RCe(LCe(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},xr;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(xr||(xr={}));var dH;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(dH||(dH={}));const $t=xr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ch=t=>{switch(typeof t){case"undefined":return $t.undefined;case"string":return $t.string;case"number":return Number.isNaN(t)?$t.nan:$t.number;case"boolean":return $t.boolean;case"function":return $t.function;case"bigint":return $t.bigint;case"symbol":return $t.symbol;case"object":return Array.isArray(t)?$t.array:t===null?$t.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$t.promise:typeof Map<"u"&&t instanceof Map?$t.map:typeof Set<"u"&&t instanceof Set?$t.set:typeof Date<"u"&&t instanceof Date?$t.date:$t.object;default:return $t.unknown}},ht=xr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ju extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),r}static assert(e){if(!(e instanceof Ju))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ju.create=t=>new Ju(t);const E3=(t,e)=>{let n;switch(t.code){case ht.invalid_type:t.received===$t.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ht.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,xr.jsonStringifyReplacer)}`;break;case ht.unrecognized_keys:n=`Unrecognized key(s) in object: ${xr.joinValues(t.keys,", ")}`;break;case ht.invalid_union:n="Invalid input";break;case ht.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${xr.joinValues(t.options)}`;break;case ht.invalid_enum_value:n=`Invalid enum value. Expected ${xr.joinValues(t.options)}, received '${t.received}'`;break;case ht.invalid_arguments:n="Invalid function arguments";break;case ht.invalid_return_type:n="Invalid function return type";break;case ht.invalid_date:n="Invalid date";break;case ht.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:xr.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ht.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ht.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ht.custom:n="Invalid input";break;case ht.invalid_intersection_types:n="Intersection results could not be merged";break;case ht.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ht.not_finite:n="Number must be finite";break;default:n=e.defaultError,xr.assertNever(t)}return{message:n}};let DCe=E3;function FCe(){return DCe}const UCe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)o=u(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function Nt(t,e){const n=FCe(),r=UCe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===E3?void 0:E3].filter(i=>!!i)});t.common.issues.push(r)}class pl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Pn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return pl.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Pn;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const Pn=Object.freeze({status:"aborted"}),B_=t=>({status:"dirty",value:t}),oc=t=>({status:"valid",value:t}),fH=t=>t.status==="aborted",hH=t=>t.status==="dirty",A0=t=>t.status==="valid",CN=t=>typeof Promise<"u"&&t instanceof Promise;var Kt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Kt||(Kt={}));class yp{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pH=(t,e)=>{if(A0(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ju(t.common.issues);return this._error=n,this._error}}};function Jn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:i}}class yr{get description(){return this._def.description}_getType(e){return Ch(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ch(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pl,ctx:{common:e.parent.common,data:e.data,parsedType:Ch(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(CN(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ch(e)},i=this._parseSync({data:e,path:r.path,parent:r});return pH(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ch(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return A0(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>A0(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ch(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(CN(i)?i:Promise.resolve(i));return pH(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:ht.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new M0({schema:this,typeName:jn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return lp.create(this,this._def)}nullable(){return C0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gu.create(this)}promise(){return kN.create(this,this._def)}or(e){return PN.create([this,e],this._def)}and(e){return jN.create(this,e,this._def)}transform(e){return new M0({...Jn(this._def),schema:this,typeName:jn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new M3({...Jn(this._def),innerType:this,defaultValue:n,typeName:jn.ZodDefault})}brand(){return new lNe({typeName:jn.ZodBranded,type:this,...Jn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new C3({...Jn(this._def),innerType:this,catchValue:n,typeName:jn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return PB.create(this,e)}readonly(){return N3.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const BCe=/^c[^\s-]{8,}$/i,zCe=/^[0-9a-z]+$/,$Ce=/^[0-9A-HJKMNP-TV-Z]{26}$/i,VCe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,HCe=/^[a-z0-9_-]{21}$/i,WCe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GCe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qCe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XCe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let IR;const KCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,YCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ZCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,QCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,JCe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,eNe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lne="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tNe=new RegExp(`^${lne}$`);function cne(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function nNe(t){return new RegExp(`^${cne(t)}$`)}function rNe(t){let e=`${lne}T${cne(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function iNe(t,e){return!!((e==="v4"||!e)&&KCe.test(t)||(e==="v6"||!e)&&ZCe.test(t))}function sNe(t,e){if(!WCe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function aNe(t,e){return!!((e==="v4"||!e)&&YCe.test(t)||(e==="v6"||!e)&&QCe.test(t))}class Kh extends yr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$t.string){const s=this._getOrReturnCtx(e);return Nt(s,{code:ht.invalid_type,expected:$t.string,received:s.parsedType}),Pn}const r=new pl;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Nt(i,{code:ht.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Nt(i,{code:ht.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?Nt(i,{code:ht.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Nt(i,{code:ht.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")qCe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"email",code:ht.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")IR||(IR=new RegExp(XCe,"u")),IR.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"emoji",code:ht.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")VCe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"uuid",code:ht.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")HCe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"nanoid",code:ht.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")BCe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"cuid",code:ht.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")zCe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"cuid2",code:ht.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")$Ce.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"ulid",code:ht.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Nt(i,{validation:"url",code:ht.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"regex",code:ht.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:ht.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:ht.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:ht.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?rNe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:ht.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?tNe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:ht.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?nNe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:ht.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?GCe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"duration",code:ht.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?iNe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"ip",code:ht.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?sNe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"jwt",code:ht.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?aNe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"cidr",code:ht.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?JCe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"base64",code:ht.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?eNe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"base64url",code:ht.invalid_string,message:s.message}),r.dirty()):xr.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ht.invalid_string,...Kt.errToObj(r)})}_addCheck(e){return new Kh({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Kt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Kt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Kt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Kt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Kt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Kt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Kt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Kt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Kt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Kt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Kt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Kt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Kt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Kt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Kt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Kt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Kt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Kt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Kt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Kt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Kt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Kt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Kt.errToObj(n)})}nonempty(e){return this.min(1,Kt.errToObj(e))}trim(){return new Kh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Kh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Kh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Kh.create=t=>new Kh({checks:[],typeName:jn.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Jn(t)});function oNe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class nS extends yr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$t.number){const s=this._getOrReturnCtx(e);return Nt(s,{code:ht.invalid_type,expected:$t.number,received:s.parsedType}),Pn}let r;const i=new pl;for(const s of this._def.checks)s.kind==="int"?xr.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Nt(r,{code:ht.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:ht.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:ht.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?oNe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:ht.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Nt(r,{code:ht.not_finite,message:s.message}),i.dirty()):xr.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Kt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Kt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Kt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Kt.toString(n))}setLimit(e,n,r,i){return new nS({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Kt.toString(i)}]})}_addCheck(e){return new nS({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Kt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Kt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Kt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Kt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Kt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Kt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Kt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Kt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Kt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&xr.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}nS.create=t=>new nS({checks:[],typeName:jn.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Jn(t)});class rS extends yr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==$t.bigint)return this._getInvalidInput(e);let r;const i=new pl;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:ht.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:ht.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:ht.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):xr.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Nt(n,{code:ht.invalid_type,expected:$t.bigint,received:n.parsedType}),Pn}gte(e,n){return this.setLimit("min",e,!0,Kt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Kt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Kt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Kt.toString(n))}setLimit(e,n,r,i){return new rS({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Kt.toString(i)}]})}_addCheck(e){return new rS({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Kt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Kt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Kt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Kt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Kt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}rS.create=t=>new rS({checks:[],typeName:jn.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Jn(t)});class A3 extends yr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$t.boolean){const r=this._getOrReturnCtx(e);return Nt(r,{code:ht.invalid_type,expected:$t.boolean,received:r.parsedType}),Pn}return oc(e.data)}}A3.create=t=>new A3({typeName:jn.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Jn(t)});class NN extends yr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$t.date){const s=this._getOrReturnCtx(e);return Nt(s,{code:ht.invalid_type,expected:$t.date,received:s.parsedType}),Pn}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Nt(s,{code:ht.invalid_date}),Pn}const r=new pl;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Nt(i,{code:ht.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Nt(i,{code:ht.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):xr.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new NN({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Kt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Kt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}NN.create=t=>new NN({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:jn.ZodDate,...Jn(t)});class mH extends yr{_parse(e){if(this._getType(e)!==$t.symbol){const r=this._getOrReturnCtx(e);return Nt(r,{code:ht.invalid_type,expected:$t.symbol,received:r.parsedType}),Pn}return oc(e.data)}}mH.create=t=>new mH({typeName:jn.ZodSymbol,...Jn(t)});class gH extends yr{_parse(e){if(this._getType(e)!==$t.undefined){const r=this._getOrReturnCtx(e);return Nt(r,{code:ht.invalid_type,expected:$t.undefined,received:r.parsedType}),Pn}return oc(e.data)}}gH.create=t=>new gH({typeName:jn.ZodUndefined,...Jn(t)});class yH extends yr{_parse(e){if(this._getType(e)!==$t.null){const r=this._getOrReturnCtx(e);return Nt(r,{code:ht.invalid_type,expected:$t.null,received:r.parsedType}),Pn}return oc(e.data)}}yH.create=t=>new yH({typeName:jn.ZodNull,...Jn(t)});class vH extends yr{constructor(){super(...arguments),this._any=!0}_parse(e){return oc(e.data)}}vH.create=t=>new vH({typeName:jn.ZodAny,...Jn(t)});class xH extends yr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oc(e.data)}}xH.create=t=>new xH({typeName:jn.ZodUnknown,...Jn(t)});class vp extends yr{_parse(e){const n=this._getOrReturnCtx(e);return Nt(n,{code:ht.invalid_type,expected:$t.never,received:n.parsedType}),Pn}}vp.create=t=>new vp({typeName:jn.ZodNever,...Jn(t)});class bH extends yr{_parse(e){if(this._getType(e)!==$t.undefined){const r=this._getOrReturnCtx(e);return Nt(r,{code:ht.invalid_type,expected:$t.void,received:r.parsedType}),Pn}return oc(e.data)}}bH.create=t=>new bH({typeName:jn.ZodVoid,...Jn(t)});class Gu extends yr{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==$t.array)return Nt(n,{code:ht.invalid_type,expected:$t.array,received:n.parsedType}),Pn;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(Nt(n,{code:a?ht.too_big:ht.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Nt(n,{code:ht.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Nt(n,{code:ht.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new yp(n,a,n.path,o)))).then(a=>pl.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new yp(n,a,n.path,o)));return pl.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Gu({...this._def,minLength:{value:e,message:Kt.toString(n)}})}max(e,n){return new Gu({...this._def,maxLength:{value:e,message:Kt.toString(n)}})}length(e,n){return new Gu({...this._def,exactLength:{value:e,message:Kt.toString(n)}})}nonempty(e){return this.min(1,e)}}Gu.create=(t,e)=>new Gu({type:t,minLength:null,maxLength:null,exactLength:null,typeName:jn.ZodArray,...Jn(e)});function cx(t){if(t instanceof as){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=lp.create(cx(r))}return new as({...t._def,shape:()=>e})}else return t instanceof Gu?new Gu({...t._def,type:cx(t.element)}):t instanceof lp?lp.create(cx(t.unwrap())):t instanceof C0?C0.create(cx(t.unwrap())):t instanceof iy?iy.create(t.items.map(e=>cx(e))):t}class as extends yr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=xr.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==$t.object){const u=this._getOrReturnCtx(e);return Nt(u,{code:ht.invalid_type,expected:$t.object,received:u.parsedType}),Pn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof vp&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const c=[];for(const u of a){const d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new yp(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof vp){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(Nt(i,{code:ht.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new yp(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>pl.mergeObjectSync(r,u)):pl.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Kt.errToObj,new as({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Kt.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new as({...this._def,unknownKeys:"strip"})}passthrough(){return new as({...this._def,unknownKeys:"passthrough"})}extend(e){return new as({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new as({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:jn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new as({...this._def,catchall:e})}pick(e){const n={};for(const r of xr.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new as({...this._def,shape:()=>n})}omit(e){const n={};for(const r of xr.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new as({...this._def,shape:()=>n})}deepPartial(){return cx(this)}partial(e){const n={};for(const r of xr.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new as({...this._def,shape:()=>n})}required(e){const n={};for(const r of xr.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof lp;)s=s._def.innerType;n[r]=s}return new as({...this._def,shape:()=>n})}keyof(){return une(xr.objectKeys(this.shape))}}as.create=(t,e)=>new as({shape:()=>t,unknownKeys:"strip",catchall:vp.create(),typeName:jn.ZodObject,...Jn(e)});as.strictCreate=(t,e)=>new as({shape:()=>t,unknownKeys:"strict",catchall:vp.create(),typeName:jn.ZodObject,...Jn(e)});as.lazycreate=(t,e)=>new as({shape:t,unknownKeys:"strip",catchall:vp.create(),typeName:jn.ZodObject,...Jn(e)});class PN extends yr{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Ju(o.ctx.common.issues));return Nt(n,{code:ht.invalid_union,unionErrors:a}),Pn}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(c=>new Ju(c));return Nt(n,{code:ht.invalid_union,unionErrors:o}),Pn}}get options(){return this._def.options}}PN.create=(t,e)=>new PN({options:t,typeName:jn.ZodUnion,...Jn(e)});function T3(t,e){const n=Ch(t),r=Ch(e);if(t===e)return{valid:!0,data:t};if(n===$t.object&&r===$t.object){const i=xr.objectKeys(e),s=xr.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const c=T3(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===$t.array&&r===$t.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],c=T3(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===$t.date&&r===$t.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class jN extends yr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(fH(s)||fH(a))return Pn;const o=T3(s.value,a.value);return o.valid?((hH(s)||hH(a))&&n.dirty(),{status:n.value,value:o.data}):(Nt(r,{code:ht.invalid_intersection_types}),Pn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}jN.create=(t,e,n)=>new jN({left:t,right:e,typeName:jn.ZodIntersection,...Jn(n)});class iy extends yr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$t.array)return Nt(r,{code:ht.invalid_type,expected:$t.array,received:r.parsedType}),Pn;if(r.data.length<this._def.items.length)return Nt(r,{code:ht.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pn;!this._def.rest&&r.data.length>this._def.items.length&&(Nt(r,{code:ht.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new yp(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>pl.mergeArray(n,a)):pl.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new iy({...this._def,rest:e})}}iy.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new iy({items:t,typeName:jn.ZodTuple,rest:null,...Jn(e)})};class wH extends yr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$t.map)return Nt(r,{code:ht.invalid_type,expected:$t.map,received:r.parsedType}),Pn;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,c],u)=>({key:i._parse(new yp(r,o,r.path,[u,"key"])),value:s._parse(new yp(r,c,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Pn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Pn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}}}}wH.create=(t,e,n)=>new wH({valueType:e,keyType:t,typeName:jn.ZodMap,...Jn(n)});class iS extends yr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$t.set)return Nt(r,{code:ht.invalid_type,expected:$t.set,received:r.parsedType}),Pn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Nt(r,{code:ht.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Nt(r,{code:ht.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Pn;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((c,u)=>s._parse(new yp(r,c,r.path,u)));return r.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new iS({...this._def,minSize:{value:e,message:Kt.toString(n)}})}max(e,n){return new iS({...this._def,maxSize:{value:e,message:Kt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}iS.create=(t,e)=>new iS({valueType:t,minSize:null,maxSize:null,typeName:jn.ZodSet,...Jn(e)});class _H extends yr{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_H.create=(t,e)=>new _H({getter:t,typeName:jn.ZodLazy,...Jn(e)});class SH extends yr{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Nt(n,{received:n.data,code:ht.invalid_literal,expected:this._def.value}),Pn}return{status:"valid",value:e.data}}get value(){return this._def.value}}SH.create=(t,e)=>new SH({value:t,typeName:jn.ZodLiteral,...Jn(e)});function une(t,e){return new T0({values:t,typeName:jn.ZodEnum,...Jn(e)})}class T0 extends yr{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Nt(n,{expected:xr.joinValues(r),received:n.parsedType,code:ht.invalid_type}),Pn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Nt(n,{received:n.data,code:ht.invalid_enum_value,options:r}),Pn}return oc(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return T0.create(e,{...this._def,...n})}exclude(e,n=this._def){return T0.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}T0.create=une;class EH extends yr{_parse(e){const n=xr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==$t.string&&r.parsedType!==$t.number){const i=xr.objectValues(n);return Nt(r,{expected:xr.joinValues(i),received:r.parsedType,code:ht.invalid_type}),Pn}if(this._cache||(this._cache=new Set(xr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=xr.objectValues(n);return Nt(r,{received:r.data,code:ht.invalid_enum_value,options:i}),Pn}return oc(e.data)}get enum(){return this._def.values}}EH.create=(t,e)=>new EH({values:t,typeName:jn.ZodNativeEnum,...Jn(e)});class kN extends yr{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$t.promise&&n.common.async===!1)return Nt(n,{code:ht.invalid_type,expected:$t.promise,received:n.parsedType}),Pn;const r=n.parsedType===$t.promise?n.data:Promise.resolve(n.data);return oc(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}kN.create=(t,e)=>new kN({type:t,typeName:jn.ZodPromise,...Jn(e)});class M0 extends yr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===jn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Nt(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return Pn;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?Pn:c.status==="dirty"||n.value==="dirty"?B_(c.value):c});{if(n.value==="aborted")return Pn;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?Pn:o.status==="dirty"||n.value==="dirty"?B_(o.value):o}}if(i.type==="refinement"){const a=o=>{const c=i.refinement(o,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Pn:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Pn:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!A0(a))return Pn;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>A0(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):Pn);xr.assertNever(i)}}M0.create=(t,e,n)=>new M0({schema:t,typeName:jn.ZodEffects,effect:e,...Jn(n)});M0.createWithPreprocess=(t,e,n)=>new M0({schema:e,effect:{type:"preprocess",transform:t},typeName:jn.ZodEffects,...Jn(n)});class lp extends yr{_parse(e){return this._getType(e)===$t.undefined?oc(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lp.create=(t,e)=>new lp({innerType:t,typeName:jn.ZodOptional,...Jn(e)});class C0 extends yr{_parse(e){return this._getType(e)===$t.null?oc(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}C0.create=(t,e)=>new C0({innerType:t,typeName:jn.ZodNullable,...Jn(e)});class M3 extends yr{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===$t.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}M3.create=(t,e)=>new M3({innerType:t,typeName:jn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Jn(e)});class C3 extends yr{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return CN(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ju(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ju(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}C3.create=(t,e)=>new C3({innerType:t,typeName:jn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Jn(e)});class AH extends yr{_parse(e){if(this._getType(e)!==$t.nan){const r=this._getOrReturnCtx(e);return Nt(r,{code:ht.invalid_type,expected:$t.nan,received:r.parsedType}),Pn}return{status:"valid",value:e.data}}}AH.create=t=>new AH({typeName:jn.ZodNaN,...Jn(t)});class lNe extends yr{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class PB extends yr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Pn:s.status==="dirty"?(n.dirty(),B_(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Pn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new PB({in:e,out:n,typeName:jn.ZodPipeline})}}class N3 extends yr{_parse(e){const n=this._def.innerType._parse(e),r=i=>(A0(i)&&(i.value=Object.freeze(i.value)),i);return CN(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}N3.create=(t,e)=>new N3({innerType:t,typeName:jn.ZodReadonly,...Jn(e)});var jn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(jn||(jn={}));const Wn=Kh.create,dne=A3.create;vp.create;Gu.create;const Sb=as.create;PN.create;jN.create;iy.create;T0.create;kN.create;lp.create;C0.create;var cNe="Label",fne=j.forwardRef((t,e)=>l.jsx(Sn.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fne.displayName=cNe;var hne=fne;const uNe=Q2("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=j.forwardRef(({className:t,...e},n)=>l.jsx(hne,{ref:n,className:at(uNe(),t),...e}));Ye.displayName=hne.displayName;const lc=j.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:at("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));lc.displayName="Textarea";const ra=j.forwardRef(({label:t,error:e,helperText:n,required:r,className:i,...s},a)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:s.id,className:"text-sm font-medium",children:[t,r&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx(Ft,{ref:a,className:at(e&&"border-red-500 focus-visible:ring-red-500",i),"aria-invalid":e?"true":"false","aria-describedby":e?`${s.id}-error`:void 0,...s}),e&&l.jsx("p",{id:`${s.id}-error`,className:"text-sm text-red-500 font-medium",role:"alert",children:e}),n&&!e&&l.jsx("p",{className:"text-sm text-muted-foreground",children:n})]}));ra.displayName="FormField";const yj=j.forwardRef(({label:t,error:e,helperText:n,required:r,className:i,...s},a)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:s.id,className:"text-sm font-medium",children:[t,r&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx(lc,{ref:a,className:at(e&&"border-red-500 focus-visible:ring-red-500",i),"aria-invalid":e?"true":"false","aria-describedby":e?`${s.id}-error`:void 0,...s}),e&&l.jsx("p",{id:`${s.id}-error`,className:"text-sm text-red-500 font-medium",role:"alert",children:e}),n&&!e&&l.jsx("p",{className:"text-sm text-muted-foreground",children:n})]}));yj.displayName="TextareaField";const dNe=Sb({name:Wn().min(2,"Name must be at least 2 characters"),email:Wn().email("Please enter a valid email address"),phone:Wn().min(10,"Please enter a valid phone number"),message:Wn().min(10,"Message must be at least 10 characters")});function fNe({agentId:t,agentName:e,onSuccess:n}){var h,p,g,v;const[r,i]=j.useState(!1),[s,a]=j.useState(!1),{register:o,handleSubmit:c,formState:{errors:u},reset:d}=wb({resolver:_b(dNe)}),f=async w=>{i(!0);try{console.log("Contact form submitted:",{...w,agentId:t}),await new Promise(x=>setTimeout(x,1500)),a(!0),d(),setTimeout(()=>{a(!1),n==null||n()},3e3)}catch(x){console.error("Error submitting contact form:",x)}finally{i(!1)}};return s?l.jsx(an,{className:"border-green-200 bg-green-50",children:l.jsx(bn,{className:"pt-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx(_f,{className:"w-16 h-16 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Message Sent!"}),l.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[e," will get back to you shortly."]})]})]})})}):l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsxs(Nr,{className:"flex items-center gap-2",children:[l.jsx(yi,{className:"w-5 h-5"}),"Send a Message"]}),l.jsxs(Gr,{children:["Get in touch with ",e," directly"]})]}),l.jsx(bn,{children:l.jsxs("form",{onSubmit:c(f),className:"space-y-4",children:[l.jsx(ra,{label:"Your Name",id:"name",placeholder:"John Doe",error:(h=u.name)==null?void 0:h.message,required:!0,...o("name")}),l.jsx(ra,{label:"Email Address",id:"email",type:"email",placeholder:"john@example.com",error:(p=u.email)==null?void 0:p.message,required:!0,...o("email")}),l.jsx(ra,{label:"Phone Number",id:"phone",type:"tel",placeholder:"(555) 123-4567",error:(g=u.phone)==null?void 0:g.message,required:!0,...o("phone")}),l.jsx(yj,{label:"Message",id:"message",placeholder:"Tell me about your real estate needs...",rows:4,error:(v=u.message)==null?void 0:v.message,required:!0,...o("message")}),l.jsx(Ve,{type:"submit",className:"w-full",disabled:r,children:r?l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(yi,{className:"mr-2 h-4 w-4"}),"Send Message"]})}),l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Your information is secure and will never be shared."})]})})]})}const hNe=Sb({name:Wn().min(2,"Name must be at least 2 characters"),email:Wn().email("Please enter a valid email address"),phone:Wn().min(10,"Please enter a valid phone number"),propertyType:Wn().min(1,"Please select a property type"),priceRange:Wn().min(1,"Please select a price range"),bedrooms:Wn().min(1,"Please select number of bedrooms"),timeline:Wn().min(1,"Please select a timeline"),preApproved:Wn().min(1,"Please select pre-approval status"),message:Wn().optional()});function pNe({agentId:t,agentName:e,onSuccess:n}){var g,v,w,x;const[r,i]=j.useState(!1),[s,a]=j.useState(!1),{register:o,handleSubmit:c,formState:{errors:u},reset:d,setValue:f,watch:h}=wb({resolver:_b(hNe)}),p=async _=>{i(!0);try{console.log("Buyer inquiry submitted:",{..._,agentId:t,leadType:"buyer"}),await new Promise(S=>setTimeout(S,1500)),a(!0),d(),setTimeout(()=>{a(!1),n==null||n()},3e3)}catch(S){console.error("Error submitting buyer inquiry:",S)}finally{i(!1)}};return s?l.jsx(an,{className:"border-green-200 bg-green-50",children:l.jsx(bn,{className:"pt-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx(_f,{className:"w-16 h-16 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Inquiry Received!"}),l.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[e," will contact you within 24 hours to discuss your home search."]})]})]})})}):l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsxs(Nr,{className:"flex items-center gap-2",children:[l.jsx(gi,{className:"w-5 h-5"}),"Find Your Dream Home"]}),l.jsxs(Gr,{children:["Let ",e," help you find the perfect property"]})]}),l.jsx(bn,{children:l.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ra,{label:"Your Name",id:"name",placeholder:"John Doe",error:(g=u.name)==null?void 0:g.message,required:!0,...o("name")}),l.jsx(ra,{label:"Email Address",id:"email",type:"email",placeholder:"john@example.com",error:(v=u.email)==null?void 0:v.message,required:!0,...o("email")})]}),l.jsx(ra,{label:"Phone Number",id:"phone",type:"tel",placeholder:"(555) 123-4567",error:(w=u.phone)==null?void 0:w.message,required:!0,...o("phone")}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"propertyType",children:["Property Type"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:_=>f("propertyType",_),children:[l.jsx(wn,{id:"propertyType",children:l.jsx(Mn,{placeholder:"Select type"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"single-family",children:"Single Family Home"}),l.jsx(Ae,{value:"condo",children:"Condo/Townhouse"}),l.jsx(Ae,{value:"multi-family",children:"Multi-Family"}),l.jsx(Ae,{value:"land",children:"Land/Lot"}),l.jsx(Ae,{value:"luxury",children:"Luxury Estate"})]})]}),u.propertyType&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.propertyType.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"priceRange",children:["Price Range"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:_=>f("priceRange",_),children:[l.jsx(wn,{id:"priceRange",children:l.jsx(Mn,{placeholder:"Select range"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"0-250k",children:"Under $250k"}),l.jsx(Ae,{value:"250k-500k",children:"$250k - $500k"}),l.jsx(Ae,{value:"500k-750k",children:"$500k - $750k"}),l.jsx(Ae,{value:"750k-1m",children:"$750k - $1M"}),l.jsx(Ae,{value:"1m-2m",children:"$1M - $2M"}),l.jsx(Ae,{value:"2m+",children:"$2M+"})]})]}),u.priceRange&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.priceRange.message})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"bedrooms",children:["Bedrooms ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:_=>f("bedrooms",_),children:[l.jsx(wn,{id:"bedrooms",children:l.jsx(Mn,{placeholder:"Select"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"1",children:"1 Bed"}),l.jsx(Ae,{value:"2",children:"2 Beds"}),l.jsx(Ae,{value:"3",children:"3 Beds"}),l.jsx(Ae,{value:"4",children:"4 Beds"}),l.jsx(Ae,{value:"5+",children:"5+ Beds"})]})]}),u.bedrooms&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.bedrooms.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"timeline",children:["Timeline ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:_=>f("timeline",_),children:[l.jsx(wn,{id:"timeline",children:l.jsx(Mn,{placeholder:"When are you buying?"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"immediate",children:"ASAP (0-30 days)"}),l.jsx(Ae,{value:"1-3-months",children:"1-3 months"}),l.jsx(Ae,{value:"3-6-months",children:"3-6 months"}),l.jsx(Ae,{value:"6+-months",children:"6+ months"}),l.jsx(Ae,{value:"just-looking",children:"Just looking"})]})]}),u.timeline&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.timeline.message})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"preApproved",children:["Pre-Approval Status"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:_=>f("preApproved",_),children:[l.jsx(wn,{id:"preApproved",children:l.jsx(Mn,{placeholder:"Select status"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"yes",children:"Yes, I'm pre-approved"}),l.jsx(Ae,{value:"in-process",children:"In process"}),l.jsx(Ae,{value:"not-yet",children:"Not yet, need help"}),l.jsx(Ae,{value:"cash",children:"Cash buyer"})]})]}),u.preApproved&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.preApproved.message})]}),l.jsx(yj,{label:"Additional Details",id:"message",placeholder:"Tell us more about your ideal home...",rows:3,error:(x=u.message)==null?void 0:x.message,...o("message")}),l.jsx(Ve,{type:"submit",className:"w-full",disabled:r,children:r?l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(gi,{className:"mr-2 h-4 w-4"}),"Start Your Home Search"]})}),l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Your information is secure. No spam, ever."})]})})]})}const mNe=Sb({name:Wn().min(2,"Name must be at least 2 characters"),email:Wn().email("Please enter a valid email address"),phone:Wn().min(10,"Please enter a valid phone number"),address:Wn().min(5,"Please enter your property address"),propertyType:Wn().min(1,"Please select a property type"),bedrooms:Wn().min(1,"Please select number of bedrooms"),bathrooms:Wn().min(1,"Please select number of bathrooms"),timeline:Wn().min(1,"Please select a timeline"),reason:Wn().min(1,"Please select a reason"),message:Wn().optional()});function gNe({agentId:t,agentName:e,onSuccess:n}){var p,g,v,w,x;const[r,i]=j.useState(!1),[s,a]=j.useState(!1),{register:o,handleSubmit:c,formState:{errors:u},reset:d,setValue:f}=wb({resolver:_b(mNe)}),h=async _=>{i(!0);try{console.log("Seller inquiry submitted:",{..._,agentId:t,leadType:"seller"}),await new Promise(S=>setTimeout(S,1500)),a(!0),d(),setTimeout(()=>{a(!1),n==null||n()},3e3)}catch(S){console.error("Error submitting seller inquiry:",S)}finally{i(!1)}};return s?l.jsx(an,{className:"border-green-200 bg-green-50",children:l.jsx(bn,{className:"pt-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx(_f,{className:"w-16 h-16 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Request Received!"}),l.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[e," will contact you within 24 hours to discuss selling your home."]})]})]})})}):l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsxs(Nr,{className:"flex items-center gap-2",children:[l.jsx(Y1,{className:"w-5 h-5"}),"Sell Your Home"]}),l.jsxs(Gr,{children:["Get a competitive market analysis from ",e]})]}),l.jsx(bn,{children:l.jsxs("form",{onSubmit:c(h),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ra,{label:"Your Name",id:"name",placeholder:"John Doe",error:(p=u.name)==null?void 0:p.message,required:!0,...o("name")}),l.jsx(ra,{label:"Email Address",id:"email",type:"email",placeholder:"john@example.com",error:(g=u.email)==null?void 0:g.message,required:!0,...o("email")})]}),l.jsx(ra,{label:"Phone Number",id:"phone",type:"tel",placeholder:"(555) 123-4567",error:(v=u.phone)==null?void 0:v.message,required:!0,...o("phone")}),l.jsx(ra,{label:"Property Address",id:"address",placeholder:"123 Main Street, City, State",error:(w=u.address)==null?void 0:w.message,helperText:"We'll use this for a detailed market analysis",required:!0,...o("address")}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"propertyType",children:["Property Type"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:_=>f("propertyType",_),children:[l.jsx(wn,{id:"propertyType",children:l.jsx(Mn,{placeholder:"Select"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"single-family",children:"Single Family"}),l.jsx(Ae,{value:"condo",children:"Condo"}),l.jsx(Ae,{value:"townhouse",children:"Townhouse"}),l.jsx(Ae,{value:"multi-family",children:"Multi-Family"}),l.jsx(Ae,{value:"land",children:"Land"})]})]}),u.propertyType&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.propertyType.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"bedrooms",children:["Bedrooms ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:_=>f("bedrooms",_),children:[l.jsx(wn,{id:"bedrooms",children:l.jsx(Mn,{placeholder:"Select"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"1",children:"1"}),l.jsx(Ae,{value:"2",children:"2"}),l.jsx(Ae,{value:"3",children:"3"}),l.jsx(Ae,{value:"4",children:"4"}),l.jsx(Ae,{value:"5+",children:"5+"})]})]}),u.bedrooms&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.bedrooms.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"bathrooms",children:["Bathrooms"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:_=>f("bathrooms",_),children:[l.jsx(wn,{id:"bathrooms",children:l.jsx(Mn,{placeholder:"Select"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"1",children:"1"}),l.jsx(Ae,{value:"1.5",children:"1.5"}),l.jsx(Ae,{value:"2",children:"2"}),l.jsx(Ae,{value:"2.5",children:"2.5"}),l.jsx(Ae,{value:"3",children:"3"}),l.jsx(Ae,{value:"3.5",children:"3.5"}),l.jsx(Ae,{value:"4+",children:"4+"})]})]}),u.bathrooms&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.bathrooms.message})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"timeline",children:["When are you selling?"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:_=>f("timeline",_),children:[l.jsx(wn,{id:"timeline",children:l.jsx(Mn,{placeholder:"Select timeline"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"immediate",children:"ASAP (0-30 days)"}),l.jsx(Ae,{value:"1-3-months",children:"1-3 months"}),l.jsx(Ae,{value:"3-6-months",children:"3-6 months"}),l.jsx(Ae,{value:"6+-months",children:"6+ months"}),l.jsx(Ae,{value:"just-exploring",children:"Just exploring"})]})]}),u.timeline&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.timeline.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"reason",children:["Reason for selling"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:_=>f("reason",_),children:[l.jsx(wn,{id:"reason",children:l.jsx(Mn,{placeholder:"Select reason"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"upsizing",children:"Upsizing"}),l.jsx(Ae,{value:"downsizing",children:"Downsizing"}),l.jsx(Ae,{value:"relocation",children:"Relocation"}),l.jsx(Ae,{value:"investment",children:"Investment property"}),l.jsx(Ae,{value:"financial",children:"Financial reasons"}),l.jsx(Ae,{value:"other",children:"Other"})]})]}),u.reason&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.reason.message})]})]}),l.jsx(yj,{label:"Additional Details",id:"message",placeholder:"Tell us about your property (recent upgrades, special features, etc.)",rows:3,error:(x=u.message)==null?void 0:x.message,...o("message")}),l.jsx(Ve,{type:"submit",className:"w-full",disabled:r,children:r?l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Y1,{className:"mr-2 h-4 w-4"}),"Get Free Market Analysis"]})}),l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"No obligation. Your information is secure and confidential."})]})})]})}const yNe=Sb({name:Wn().min(2,"Name must be at least 2 characters"),email:Wn().email("Please enter a valid email address"),phone:Wn().min(10,"Please enter a valid phone number"),address:Wn().min(5,"Please enter your property address"),propertyType:Wn().min(1,"Please select a property type"),bedrooms:Wn().min(1,"Please select number of bedrooms"),bathrooms:Wn().min(1,"Please select number of bathrooms"),squareFeet:Wn().min(1,"Please enter square footage"),yearBuilt:Wn().optional(),condition:Wn().min(1,"Please select property condition")});function vNe({agentId:t,agentName:e,onSuccess:n}){var p,g,v,w,x,_;const[r,i]=j.useState(!1),[s,a]=j.useState(!1),{register:o,handleSubmit:c,formState:{errors:u},reset:d,setValue:f}=wb({resolver:_b(yNe)}),h=async S=>{i(!0);try{console.log("Valuation request submitted:",{...S,agentId:t,leadType:"valuation"}),await new Promise(A=>setTimeout(A,1500)),a(!0),d(),setTimeout(()=>{a(!1),n==null||n()},3e3)}catch(A){console.error("Error submitting valuation request:",A)}finally{i(!1)}};return s?l.jsx(an,{className:"border-green-200 bg-green-50",children:l.jsx(bn,{className:"pt-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx(_f,{className:"w-16 h-16 text-green-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Valuation Request Received!"}),l.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[e," will send you a detailed home valuation report within 24 hours."]})]})]})})}):l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsxs(Nr,{className:"flex items-center gap-2",children:[l.jsx(fi,{className:"w-5 h-5"}),"Free Home Valuation"]}),l.jsxs(Gr,{children:["Find out what your home is worth in today's market with"," ",e]})]}),l.jsx(bn,{children:l.jsxs("form",{onSubmit:c(h),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ra,{label:"Your Name",id:"name",placeholder:"John Doe",error:(p=u.name)==null?void 0:p.message,required:!0,...o("name")}),l.jsx(ra,{label:"Email Address",id:"email",type:"email",placeholder:"john@example.com",error:(g=u.email)==null?void 0:g.message,required:!0,...o("email")})]}),l.jsx(ra,{label:"Phone Number",id:"phone",type:"tel",placeholder:"(555) 123-4567",error:(v=u.phone)==null?void 0:v.message,required:!0,...o("phone")}),l.jsx(ra,{label:"Property Address",id:"address",placeholder:"123 Main Street, City, State, ZIP",error:(w=u.address)==null?void 0:w.message,helperText:"Full address helps us provide the most accurate valuation",required:!0,...o("address")}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"propertyType",children:["Property Type"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:S=>f("propertyType",S),children:[l.jsx(wn,{id:"propertyType",children:l.jsx(Mn,{placeholder:"Select type"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"single-family",children:"Single Family Home"}),l.jsx(Ae,{value:"condo",children:"Condo"}),l.jsx(Ae,{value:"townhouse",children:"Townhouse"}),l.jsx(Ae,{value:"multi-family",children:"Multi-Family"}),l.jsx(Ae,{value:"manufactured",children:"Manufactured"})]})]}),u.propertyType&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.propertyType.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"condition",children:["Property Condition"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:S=>f("condition",S),children:[l.jsx(wn,{id:"condition",children:l.jsx(Mn,{placeholder:"Select condition"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"excellent",children:"Excellent"}),l.jsx(Ae,{value:"good",children:"Good"}),l.jsx(Ae,{value:"average",children:"Average"}),l.jsx(Ae,{value:"fair",children:"Fair"}),l.jsx(Ae,{value:"needs-work",children:"Needs Work"})]})]}),u.condition&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.condition.message})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"bedrooms",children:["Bedrooms ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:S=>f("bedrooms",S),children:[l.jsx(wn,{id:"bedrooms",children:l.jsx(Mn,{placeholder:"Select"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"1",children:"1"}),l.jsx(Ae,{value:"2",children:"2"}),l.jsx(Ae,{value:"3",children:"3"}),l.jsx(Ae,{value:"4",children:"4"}),l.jsx(Ae,{value:"5",children:"5"}),l.jsx(Ae,{value:"6+",children:"6+"})]})]}),u.bedrooms&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.bedrooms.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"bathrooms",children:["Bathrooms"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tn,{onValueChange:S=>f("bathrooms",S),children:[l.jsx(wn,{id:"bathrooms",children:l.jsx(Mn,{placeholder:"Select"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"1",children:"1"}),l.jsx(Ae,{value:"1.5",children:"1.5"}),l.jsx(Ae,{value:"2",children:"2"}),l.jsx(Ae,{value:"2.5",children:"2.5"}),l.jsx(Ae,{value:"3",children:"3"}),l.jsx(Ae,{value:"3.5",children:"3.5"}),l.jsx(Ae,{value:"4",children:"4"}),l.jsx(Ae,{value:"4.5+",children:"4.5+"})]})]}),u.bathrooms&&l.jsx("p",{className:"text-sm text-red-500 font-medium",children:u.bathrooms.message})]}),l.jsx(ra,{label:"Square Feet",id:"squareFeet",type:"number",placeholder:"2,000",error:(x=u.squareFeet)==null?void 0:x.message,required:!0,...o("squareFeet")})]}),l.jsx(ra,{label:"Year Built",id:"yearBuilt",type:"number",placeholder:"1995",error:(_=u.yearBuilt)==null?void 0:_.message,helperText:"Optional, but helps with accuracy",...o("yearBuilt")}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"What You'll Get:"}),l.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[l.jsx("li",{children:" Detailed market analysis report"}),l.jsx("li",{children:" Comparable sales in your area"}),l.jsx("li",{children:" Current market trends"}),l.jsx("li",{children:" Personalized selling strategy"})]})]}),l.jsx(Ve,{type:"submit",className:"w-full",disabled:r,children:r?l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(fi,{className:"mr-2 h-4 w-4"}),"Get Free Valuation Report"]})}),l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"100% free with no obligation. Results delivered to your email."})]})})]})}function xNe({isOpen:t,onClose:e,formType:n,agentId:r,agentName:i}){const s=()=>{switch(n){case"contact":return l.jsx(fNe,{agentId:r,agentName:i,onSuccess:e});case"buyer":return l.jsx(pNe,{agentId:r,agentName:i,onSuccess:e});case"seller":return l.jsx(gNe,{agentId:r,agentName:i,onSuccess:e});case"valuation":return l.jsx(vNe,{agentId:r,agentName:i,onSuccess:e});default:return null}};return l.jsx(bl,{open:t,onOpenChange:e,children:l.jsx(Po,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:s()})})}function bNe({agentId:t,agentName:e}){const[n,r]=j.useState(!1),[i,s]=j.useState("contact"),a=o=>{s(o),r(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"w-full max-w-4xl mx-auto px-4 py-12",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold mb-3",children:"How Can I Help You?"}),l.jsx("p",{className:"text-muted-foreground",children:"Choose the option that best fits your needs"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(an,{className:"border-2 hover:border-primary transition-colors cursor-pointer group",children:l.jsx(bn,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:l.jsx(gi,{className:"w-8 h-8 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Looking to Buy?"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Find your dream home with personalized search assistance"})]}),l.jsxs(Ve,{onClick:()=>a("buyer"),className:"w-full",size:"lg",children:[l.jsx(gi,{className:"mr-2 h-4 w-4"}),"Start Home Search"]})]})})}),l.jsx(an,{className:"border-2 hover:border-primary transition-colors cursor-pointer group",children:l.jsx(bn,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center group-hover:bg-green-200 transition-colors",children:l.jsx(Y1,{className:"w-8 h-8 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Ready to Sell?"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get a competitive market analysis and selling strategy"})]}),l.jsxs(Ve,{onClick:()=>a("seller"),className:"w-full",size:"lg",variant:"outline",children:[l.jsx(Y1,{className:"mr-2 h-4 w-4"}),"List My Home"]})]})})}),l.jsx(an,{className:"border-2 hover:border-primary transition-colors cursor-pointer group",children:l.jsx(bn,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:l.jsx(fi,{className:"w-8 h-8 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"What's It Worth?"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get a free home valuation report with market insights"})]}),l.jsxs(Ve,{onClick:()=>a("valuation"),className:"w-full",size:"lg",variant:"outline",children:[l.jsx(fi,{className:"mr-2 h-4 w-4"}),"Free Valuation"]})]})})}),l.jsx(an,{className:"border-2 hover:border-primary transition-colors cursor-pointer group",children:l.jsx(bn,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-orange-100 flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:l.jsx(yi,{className:"w-8 h-8 text-orange-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Just Have Questions?"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send a message and I'll get back to you right away"})]}),l.jsxs(Ve,{onClick:()=>a("contact"),className:"w-full",size:"lg",variant:"outline",children:[l.jsx(yi,{className:"mr-2 h-4 w-4"}),"Send Message"]})]})})})]})]}),l.jsx(xNe,{isOpen:n,onClose:()=>r(!1),formType:i,agentId:t,agentName:e})]})}function wNe(){return CQ.useSyncExternalStore(_Ne,()=>!0,()=>!1)}function _Ne(){return()=>{}}var jB="Avatar",[SNe]=ac(jB),[ENe,pne]=SNe(jB),mne=j.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=j.useState("idle");return l.jsx(ENe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:l.jsx(Sn.span,{...r,ref:e})})});mne.displayName=jB;var gne="AvatarImage",yne=j.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=pne(gne,n),o=ANe(r,s),c=uf(u=>{i(u),a.onImageLoadingStatusChange(u)});return As(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(Sn.img,{...s,ref:e,src:r}):null});yne.displayName=gne;var vne="AvatarFallback",xne=j.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=pne(vne,n),[a,o]=j.useState(r===void 0);return j.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&s.imageLoadingStatus!=="loaded"?l.jsx(Sn.span,{...i,ref:e}):null});xne.displayName=vne;function TH(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ANe(t,{referrerPolicy:e,crossOrigin:n}){const r=wNe(),i=j.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=j.useState(()=>TH(s,t));return As(()=>{o(TH(s,t))},[s,t]),As(()=>{const c=f=>()=>{o(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,e]),a}var bne=mne,wne=yne,_ne=xne;const sS=j.forwardRef(({className:t,...e},n)=>l.jsx(bne,{ref:n,className:at("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));sS.displayName=bne.displayName;const aS=j.forwardRef(({className:t,...e},n)=>l.jsx(wne,{ref:n,className:at("aspect-square h-full w-full",t),...e}));aS.displayName=wne.displayName;const oS=j.forwardRef(({className:t,...e},n)=>l.jsx(_ne,{ref:n,className:at("flex h-full w-full items-center justify-center rounded-full bg-gray-100",t),...e}));oS.displayName=_ne.displayName;function MH({testimonial:t,variant:e="default"}){const n=t.client_name.split(" ").map(i=>i[0]).join("").toUpperCase().slice(0,2),r=()=>l.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((i,s)=>l.jsx(Yg,{className:`w-4 h-4 ${s<t.rating?"text-yellow-400 fill-yellow-400":"text-gray-300 fill-gray-300"}`},s))});return e==="compact"?l.jsx(an,{className:"h-full",children:l.jsx(bn,{className:"p-5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(t3,{className:"w-8 h-8 text-primary/20 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[r(),l.jsxs("p",{className:"text-sm text-muted-foreground mt-3 line-clamp-4",children:['"',t.review_text,'"']}),l.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[l.jsxs(sS,{className:"w-8 h-8",children:[l.jsx(aS,{src:t.client_photo||void 0}),l.jsx(oS,{className:"text-xs",children:n})]}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:t.client_name}),t.client_title&&l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.client_title})]})]})]})]})})}):l.jsx(an,{className:"h-full hover:shadow-lg transition-shadow",children:l.jsxs(bn,{className:"p-6",children:[l.jsx("div",{className:"mb-4",children:l.jsx(t3,{className:"w-10 h-10 text-primary/20"})}),l.jsx("div",{className:"mb-3",children:r()}),l.jsxs("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:['"',t.review_text,'"']}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsxs(sS,{className:"w-12 h-12",children:[l.jsx(aS,{src:t.client_photo||void 0,alt:t.client_name}),l.jsx(oS,{children:n})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-semibold",children:t.client_name}),t.client_title&&l.jsx("p",{className:"text-sm text-muted-foreground",children:t.client_title}),l.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[t.transaction_type&&l.jsx(rn,{variant:"secondary",className:"text-xs",children:t.transaction_type==="buyer"?"Buyer":"Seller"}),t.property_type&&l.jsx(rn,{variant:"outline",className:"text-xs",children:t.property_type})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:Nte(t.date)})]})]})]})})}function TNe({testimonials:t}){const[e,n]=j.useState(0);if(!t||t.length===0)return null;const r=[...t].sort((c,u)=>c.is_featured&&!u.is_featured?-1:!c.is_featured&&u.is_featured?1:c.sort_order!==u.sort_order?c.sort_order-u.sort_order:new Date(u.date).getTime()-new Date(c.date).getTime()),i=t.reduce((c,u)=>c+u.rating,0)/t.length,s=()=>{n(c=>c===0?r.length-1:c-1)},a=()=>{n(c=>c===r.length-1?0:c+1)},o=[r[e],r[(e+1)%r.length],r[(e+2)%r.length]].filter(Boolean);return l.jsxs("section",{className:"w-full max-w-6xl mx-auto px-4 py-12",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:l.jsx(ZU,{className:"w-8 h-8 text-primary"})}),l.jsx("h2",{className:"text-3xl font-bold mb-3",children:"What My Clients Say"}),l.jsxs("div",{className:"flex items-center justify-center gap-3 text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Yg,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"}),l.jsx("span",{className:"text-lg font-semibold text-foreground",children:i.toFixed(1)})]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[t.length," reviews"]})]})]}),l.jsxs("div",{className:"hidden md:block",children:[l.jsxs("div",{className:"relative",children:[r.length>3&&l.jsxs(l.Fragment,{children:[l.jsx(Ve,{variant:"outline",size:"icon",className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-10 rounded-full bg-white shadow-lg",onClick:s,children:l.jsx(l8,{className:"h-4 w-4"})}),l.jsx(Ve,{variant:"outline",size:"icon",className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-10 rounded-full bg-white shadow-lg",onClick:a,children:l.jsx(w0,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(c=>l.jsx(MH,{testimonial:c,variant:"compact"},c.id))})]}),r.length>3&&l.jsx("div",{className:"flex justify-center gap-2 mt-6",children:r.map((c,u)=>l.jsx("button",{onClick:()=>n(u),className:`h-2 rounded-full transition-all ${u===e?"w-8 bg-primary":"w-2 bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to testimonial ${u+1}`},u))})]}),l.jsx("div",{className:"md:hidden",children:l.jsxs("div",{className:"relative",children:[l.jsx(MH,{testimonial:r[e],variant:"default"}),r.length>1&&l.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[l.jsx(Ve,{variant:"outline",size:"icon",onClick:s,children:l.jsx(l8,{className:"h-4 w-4"})}),l.jsx(Ve,{variant:"outline",size:"icon",onClick:a,children:l.jsx(w0,{className:"h-4 w-4"})})]}),r.length>1&&l.jsx("div",{className:"flex justify-center gap-2 mt-4",children:r.map((c,u)=>l.jsx("button",{onClick:()=>n(u),className:`h-2 rounded-full transition-all ${u===e?"w-8 bg-primary":"w-2 bg-gray-300"}`,"aria-label":`Go to testimonial ${u+1}`},u))})]})})]})}function MNe({stats:t}){const e=r=>r>=1e6?`$${(r/1e6).toFixed(1)}M+`:r>=1e3?`$${(r/1e3).toFixed(0)}K+`:`$${r.toLocaleString()}`,n=[t.propertiesSold&&t.propertiesSold>0&&{icon:gi,value:t.propertiesSold.toString(),label:"Properties Sold",color:"text-blue-600",bgColor:"bg-blue-100"},t.totalVolume&&t.totalVolume>0&&{icon:fi,value:e(t.totalVolume),label:"Total Volume",color:"text-green-600",bgColor:"bg-green-100"},t.averageRating&&t.reviewCount&&t.averageRating>0&&t.reviewCount>0&&{icon:Yg,value:`${t.averageRating.toFixed(1)}/5`,label:`${t.reviewCount} Reviews`,color:"text-yellow-600",bgColor:"bg-yellow-100"},t.yearsExperience&&t.yearsExperience>0&&{icon:IJ,value:`${t.yearsExperience}+`,label:"Years Experience",color:"text-purple-600",bgColor:"bg-purple-100"}].filter(Boolean);return n.length===0?null:l.jsx("div",{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-8 px-4 rounded-xl shadow-lg",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h3",{className:"text-center text-lg font-semibold mb-6",children:"Trusted by Hundreds of Happy Clients"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:n.map((r,i)=>{if(!r)return null;const s=r.icon;return l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-white/20 mb-3",children:l.jsx(s,{className:"w-6 h-6"})}),l.jsx("div",{className:"text-2xl md:text-3xl font-bold mb-1",children:r.value}),l.jsx("div",{className:"text-sm opacity-90",children:r.label})]},i)})})]})})}function CNe({listing:t,isOpen:e,onClose:n}){var f,h;const[r,i]=j.useState(0),[s,a]=j.useState(!1);if(!e)return null;const o=qMe(((f=t.photos)==null?void 0:f.length)>0?t.photos:t.primary_photo?[t.primary_photo]:void 0,"listings"),c=()=>{i(p=>p===0?o.length-1:p-1)},u=()=>{i(p=>p===o.length-1?0:p+1)},d=async()=>{if(navigator.share)try{await navigator.share({title:t.title,text:`Check out this property: ${t.title}`,url:window.location.href})}catch(p){console.error("Error sharing:",p)}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 truncate pr-4",children:t.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>a(!s),className:`p-2 rounded-lg transition-colors ${s?"bg-red-100 text-red-600":"hover:bg-gray-100 text-gray-600"}`,"aria-label":"Add to favorites",children:l.jsx(X_e,{className:"h-5 w-5",fill:s?"currentColor":"none"})}),l.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 text-gray-600 rounded-lg transition-colors","aria-label":"Share listing",children:l.jsx($J,{className:"h-5 w-5"})}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 text-gray-600 rounded-lg transition-colors","aria-label":"Close modal",children:l.jsx(xl,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[l.jsxs("div",{className:"relative bg-gray-900 aspect-video",children:[l.jsx("img",{src:o[r],alt:`${t.title||t.address||"Property"} - Image ${r+1}`,className:"w-full h-full object-contain",onError:p=>{p.currentTarget.src="/placeholder-property.jpg"}}),o.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:c,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg transition-all","aria-label":"Previous image",children:""}),l.jsx("button",{onClick:u,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg transition-all","aria-label":"Next image",children:""}),l.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:[r+1," / ",o.length]})]})]}),o.length>1&&l.jsx("div",{className:"flex gap-2 p-4 overflow-x-auto",children:o.map((p,g)=>l.jsx("button",{onClick:()=>i(g),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${g===r?"border-blue-600 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:l.jsx("img",{src:p,alt:`Thumbnail ${g+1}`,className:"w-full h-full object-cover",onError:v=>{v.currentTarget.src="/placeholder-property.jpg"}})},g))}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:w3(cg(t.price))}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[l.jsx(Cp,{className:"h-4 w-4"}),l.jsxs("span",{children:[t.address||"",t.city?`, ${t.city}`:""]})]})]}),l.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${t.status==="active"?"bg-green-100 text-green-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 py-6 border-y",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:l.jsx(KU,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.bedrooms}),l.jsx("p",{className:"text-sm text-gray-600",children:"Bedrooms"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:l.jsx(XU,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.bathrooms}),l.jsx("p",{className:"text-sm text-gray-600",children:"Bathrooms"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:l.jsx(o1e,{className:"h-6 w-6 text-orange-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:GMe(t).split("  ")[2]||"N/A"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Sq Ft"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Property Description"}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description||"No description available for this property."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Property Details"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Property Type"}),l.jsx("p",{className:"font-medium text-gray-900",children:((h=t.property_type)==null?void 0:h.split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "))||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Listed Date"}),l.jsxs("p",{className:"font-medium text-gray-900",children:[l.jsx(to,{className:"h-4 w-4 inline mr-1"}),WMe(t.created_at)]})]}),t.square_feet&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Square Feet"}),l.jsxs("p",{className:"font-medium text-gray-900",children:[t.square_feet.toLocaleString()," sq ft"]})]}),t.lot_size&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Lot Size"}),l.jsx("p",{className:"font-medium text-gray-900",children:t.lot_size})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Interested in this property?"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Get in touch to schedule a viewing or learn more about this listing."}),l.jsx("button",{className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Contact Agent"})]})]})]})]})})}const NNe={instagram:{name:"instagram",title:"Instagram",icon:"fa-brands fa-instagram",color:"#E4405F",url_pattern:"https://instagram.com/{username}"},facebook:{name:"facebook",title:"Facebook",icon:"fa-brands fa-facebook",color:"#1877F2",url_pattern:"https://facebook.com/{username}"},twitter:{name:"twitter",title:"Twitter",icon:"fa-brands fa-twitter",color:"#1DA1F2",url_pattern:"https://twitter.com/{username}"},linkedin:{name:"linkedin",title:"LinkedIn",icon:"fa-brands fa-linkedin",color:"#0A66C2",url_pattern:"https://linkedin.com/in/{username}"},tiktok:{name:"tiktok",title:"TikTok",icon:"fa-brands fa-tiktok",color:"#000000",url_pattern:"https://tiktok.com/@{username}"},youtube:{name:"youtube",title:"YouTube",icon:"fa-brands fa-youtube",color:"#FF0000",url_pattern:"https://youtube.com/@{username}"},github:{name:"github",title:"GitHub",icon:"fa-brands fa-github",color:"#181717",url_pattern:"https://github.com/{username}"},website:{name:"website",title:"Website",icon:"fa-solid fa-globe",color:"#000000",url_pattern:"{username}"},email:{name:"email",title:"Email",icon:"fa-solid fa-envelope",color:"#EA4335",url_pattern:"mailto:{username}"},phone:{name:"phone",title:"Phone",icon:"fa-solid fa-phone",color:"#34A853",url_pattern:"tel:{username}"}};function PNe({links:t,onLinkClick:e}){const n=t.filter(s=>s.up_link==="yes").sort((s,a)=>s.order-a.order);if(n.length===0)return null;const r=s=>{e&&e(s)},i=s=>{var a;switch(s.type){case"spacer":return l.jsx("div",{className:"w-full",style:{height:"32px"}},s.id);case"heading":return l.jsx("div",{className:"w-full text-center py-2",children:l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:s.title})},s.id);case"text":return l.jsx("div",{className:"w-full text-center py-2 px-4",children:l.jsx("p",{className:"text-gray-600",children:s.title})},s.id);case"link":return l.jsx("a",{href:s.link||"#",target:"_blank",rel:"noopener noreferrer",onClick:()=>r(s),className:"block w-full bg-white hover:bg-gray-50 border-2 border-gray-900 rounded-lg px-6 py-4 transition-all hover:scale-[1.02] active:scale-[0.98]",style:s.custom_css?{cssText:s.custom_css}:void 0,children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.custom_icon&&l.jsx("i",{className:s.custom_icon}),l.jsx("span",{className:"font-semibold text-gray-900",children:s.title}),l.jsx(kg,{className:"w-4 h-4 text-gray-600"})]})},s.id);case"predefined":const o=(a=s.type_params)==null?void 0:a.service_name,c=o?NNe[o]:null,u=s.link||"#";return l.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",onClick:()=>r(s),className:"block w-full hover:opacity-90 rounded-lg px-6 py-4 transition-all hover:scale-[1.02] active:scale-[0.98]",style:{backgroundColor:(c==null?void 0:c.color)||"#000000",color:"#ffffff"},children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[(c==null?void 0:c.icon)&&l.jsx("i",{className:c.icon}),l.jsx("span",{className:"font-semibold",children:(c==null?void 0:c.title)||s.title})]})},s.id);case"telephone":return l.jsx("a",{href:s.link||"#",onClick:()=>r(s),className:"block w-full bg-green-600 hover:bg-green-700 text-white rounded-lg px-6 py-4 transition-all hover:scale-[1.02] active:scale-[0.98]",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(No,{className:"w-5 h-5"}),l.jsx("span",{className:"font-semibold",children:s.title||"Call Me"})]})},s.id);case"email":return l.jsx("a",{href:s.link||"#",onClick:()=>r(s),className:"block w-full bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-6 py-4 transition-all hover:scale-[1.02] active:scale-[0.98]",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(yi,{className:"w-5 h-5"}),l.jsx("span",{className:"font-semibold",children:s.title||"Email Me"})]})},s.id);case"vcard":return l.jsx("a",{href:s.link||"#",onClick:()=>r(s),download:!0,className:"block w-full bg-gray-800 hover:bg-gray-900 text-white rounded-lg px-6 py-4 transition-all hover:scale-[1.02] active:scale-[0.98]",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(_E,{className:"w-5 h-5"}),l.jsx("span",{className:"font-semibold",children:s.title||"Save Contact"})]})},s.id);default:return null}};return l.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-3 py-6",children:[l.jsx("div",{className:"text-center mb-4",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"More Links"})}),n.map(s=>i(s))]})}function jNe(t,e){j.useEffect(()=>{if(!t)return;(async()=>{try{let r=localStorage.getItem("visitor_id");r||(r=crypto.randomUUID(),localStorage.setItem("visitor_id",r));const i=/Mobile|Android|iPhone/i.test(navigator.userAgent)?"mobile":"desktop",s=document.referrer||"direct";await Xe.from("analytics_views").insert({user_id:t,visitor_id:r,device:i,source:s,location:null})}catch(r){console.error("Error tracking profile view:",r)}})()},[t,e])}async function kNe(t){try{const{error:e}=await Xe.rpc("increment_link_clicks",{link_id:t});if(e){const{data:n}=await Xe.from("links").select("click_count").eq("id",t).single();n&&await Xe.from("links").update({click_count:(n.click_count||0)+1}).eq("id",t)}}catch(e){console.error("Error tracking link click:",e)}}const ONe=t=>Ir({queryKey:["public-profile",t],queryFn:async()=>{const{data:e,error:n}=await Xe.from("profiles").select("*").eq("username",t).eq("is_published",!0).single();if(n)throw n;if(!e)throw new Error("Profile not found");await Xe.rpc("increment_profile_views",{_profile_id:e.id});const{data:r,error:i}=await Xe.from("listings").select("*").eq("user_id",e.id).in("status",["active","pending","under_contract","sold"]).order("sort_order",{ascending:!0});if(i)throw i;const{data:s,error:a}=await Xe.from("testimonials").select("*").eq("user_id",e.id).eq("is_published",!0).order("sort_order",{ascending:!0});if(a)throw a;const{data:o,error:c}=await Xe.from("links").select("*").eq("user_id",e.id).eq("is_active",!0).order("position",{ascending:!0});if(c)throw c;const{data:u,error:d}=await Xe.from("user_settings").select("show_listings, show_sold_properties, show_testimonials, show_social_proof, show_contact_buttons").eq("user_id",e.id).maybeSingle();if(d)throw d;return{profile:e,listings:r||[],testimonials:s||[],links:o||[],settings:u||{show_listings:!0,show_sold_properties:!0,show_testimonials:!0,show_social_proof:!0,show_contact_buttons:!0}}},enabled:!!t}),Jm=[{id:"modern",name:"Modern",description:"Clean and contemporary design with blue accents",isPremium:!1,colors:{primary:"#2563eb",secondary:"#10b981",accent:"#f59e0b",background:"#ffffff",foreground:"#1f2937",muted:"#9ca3af"},fonts:{heading:"Inter",body:"Inter"}},{id:"classic",name:"Classic",description:"Traditional and timeless styling",isPremium:!1,colors:{primary:"#1e40af",secondary:"#059669",accent:"#dc2626",background:"#f9fafb",foreground:"#111827",muted:"#6b7280"},fonts:{heading:"Georgia",body:"Georgia"}},{id:"minimal",name:"Minimal",description:"Simple and elegant monochrome design",isPremium:!1,colors:{primary:"#000000",secondary:"#6b7280",accent:"#000000",background:"#ffffff",foreground:"#374151",muted:"#9ca3af"},fonts:{heading:"Helvetica",body:"Helvetica"}},{id:"bold",name:"Bold",description:"Vibrant and energetic color scheme",isPremium:!0,colors:{primary:"#dc2626",secondary:"#f59e0b",accent:"#7c2d12",background:"#fef2f2",foreground:"#1f2937",muted:"#f87171"},fonts:{heading:"Montserrat",body:"Open Sans"}},{id:"elegant",name:"Elegant",description:"Sophisticated purple and violet tones",isPremium:!0,colors:{primary:"#6366f1",secondary:"#8b5cf6",accent:"#c026d3",background:"#faf5ff",foreground:"#1e1b4b",muted:"#a78bfa"},fonts:{heading:"Playfair Display",body:"Lora"}},{id:"ocean",name:"Ocean",description:"Calming blue and cyan palette",isPremium:!0,colors:{primary:"#0891b2",secondary:"#06b6d4",accent:"#0e7490",background:"#ecfeff",foreground:"#164e63",muted:"#67e8f9"},fonts:{heading:"Roboto",body:"Roboto"}},{id:"cosmic",name:"Cosmic",description:"Futuristic theme with 3D particle effects",isPremium:!0,has3D:!0,threeDEffect:"3d-particles",colors:{primary:"#8b5cf6",secondary:"#a78bfa",accent:"#c084fc",background:"#0f172a",foreground:"#e2e8f0",muted:"#6366f1"},fonts:{heading:"Orbitron",body:"Rajdhani"}},{id:"luxe",name:"Luxe",description:"Premium gradient mesh with 3D sphere animation",isPremium:!0,has3D:!0,threeDEffect:"3d-mesh",colors:{primary:"#fbbf24",secondary:"#f59e0b",accent:"#d97706",background:"#1e1b4b",foreground:"#fef3c7",muted:"#fde68a"},fonts:{heading:"Playfair Display",body:"Crimson Pro"}},{id:"neon",name:"Neon",description:"Vibrant theme with floating 3D geometry",isPremium:!0,has3D:!0,threeDEffect:"3d-floating",colors:{primary:"#ec4899",secondary:"#f472b6",accent:"#fb7185",background:"#18181b",foreground:"#fce7f3",muted:"#f9a8d4"},fonts:{heading:"Bungee",body:"Exo 2"}},{id:"royal",name:"Royal",description:"Regal purple and gold with animated particles",isPremium:!0,has3D:!0,threeDEffect:"3d-particles",colors:{primary:"#7c3aed",secondary:"#a855f7",accent:"#fbbf24",background:"#1e1b4b",foreground:"#f3e8ff",muted:"#c4b5fd"},fonts:{heading:"Cinzel",body:"Cormorant Garamond"}},{id:"aurora",name:"Aurora",description:"Northern lights inspired with gradient mesh",isPremium:!0,has3D:!0,threeDEffect:"3d-mesh",colors:{primary:"#10b981",secondary:"#34d399",accent:"#6ee7b7",background:"#0c4a6e",foreground:"#ecfdf5",muted:"#6ee7b7"},fonts:{heading:"Quicksand",body:"Nunito"}}],t_=t=>{const e=t.replace("#",""),n=parseInt(e.substring(0,2),16)/255,r=parseInt(e.substring(2,4),16)/255,i=parseInt(e.substring(4,6),16)/255,s=Math.max(n,r,i),a=Math.min(n,r,i);let o=0,c=0;const u=(s+a)/2;if(s!==a){const d=s-a;switch(c=u>.5?d/(2-s-a):d/(s+a),s){case n:o=((r-i)/d+(r<i?6:0))/6;break;case r:o=((i-n)/d+2)/6;break;case i:o=((n-r)/d+4)/6;break}}return`${Math.round(o*360)} ${Math.round(c*100)}% ${Math.round(u*100)}%`},s1=t=>{if(t)try{let e;typeof t=="string"?e=JSON.parse(t):e=t;const n=document.documentElement;if(e.colors){const r=e.colors.primary,i=e.colors.secondary,s=e.colors.background,a=e.colors.text||e.colors.foreground,o=e.colors.accent;r&&n.style.setProperty("--theme-primary",t_(r)),i&&n.style.setProperty("--theme-secondary",t_(i)),s&&n.style.setProperty("--theme-background",t_(s)),a&&n.style.setProperty("--theme-text",t_(a)),o&&n.style.setProperty("--theme-accent",t_(o))}if(e.fonts&&(n.style.setProperty("--theme-font-heading",e.fonts.heading),n.style.setProperty("--theme-font-body",e.fonts.body),document.body.style.fontFamily=`${e.fonts.body}, sans-serif`),e.borderRadius){const r={none:"0",small:"0.25rem",medium:"0.5rem",large:"1rem",full:"9999px"};n.style.setProperty("--theme-border-radius",r[e.borderRadius]||"0.5rem")}if(e.spacing){const r={compact:"0.5rem",normal:"1rem",spacious:"2rem"};n.style.setProperty("--theme-spacing",r[e.spacing]||"1rem")}}catch(e){console.error("Failed to apply theme:",e)}},RNe=t=>Jm.find(n=>n.id==="modern")||Jm[0];function Sne(){return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx(gi,{className:"h-20 w-20 text-blue-600 mx-auto mb-4"}),l.jsx("h1",{className:"text-9xl font-bold text-gray-900 mb-4",children:"404"}),l.jsx("h2",{className:"text-3xl font-semibold text-gray-700 mb-4",children:"Page Not Found"}),l.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(An,{to:"/",className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(gi,{className:"h-5 w-5"}),"Go Home"]}),l.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:border-gray-400 transition-colors",children:[l.jsx(qU,{className:"h-5 w-5"}),"Go Back"]})]})]})})}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const jE="169",INe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},LNe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Ene=0,P3=1,Ane=2,DNe=3,Tne=0,vj=1,a1=2,Rc=3,pf=0,Ka=1,Iu=2,Qd=0,Rg=1,j3=2,k3=3,O3=4,Mne=5,Ih=100,Cne=101,Nne=102,Pne=103,jne=104,kne=200,One=201,Rne=202,Ine=203,ON=204,RN=205,Lne=206,Dne=207,Fne=208,Une=209,Bne=210,zne=211,$ne=212,Vne=213,Hne=214,IN=0,LN=1,DN=2,sy=3,FN=4,UN=5,BN=6,zN=7,kE=0,Wne=1,Gne=2,qu=0,qne=1,Xne=2,Kne=3,kB=4,Yne=5,Zne=6,Qne=7,R3="attached",Jne="detached",xj=300,mf=301,xp=302,lS=303,cS=304,Eb=306,uS=1e3,Ql=1001,dS=1002,qs=1003,OB=1004,FNe=1004,Ex=1005,UNe=1005,ls=1006,o1=1007,BNe=1007,Uu=1008,zNe=1008,Jc=1009,RB=1010,IB=1011,N0=1012,bj=1013,gf=1014,_o=1015,Ab=1016,wj=1017,_j=1018,ay=1020,LB=35902,DB=1021,FB=1022,_a=1023,UB=1024,BB=1025,Ig=1026,oy=1027,Sj=1028,OE=1029,zB=1030,Ej=1031,$Ne=1032,Aj=1033,l1=33776,c1=33777,u1=33778,d1=33779,$N=35840,VN=35841,HN=35842,WN=35843,GN=36196,qN=37492,XN=37496,KN=37808,YN=37809,ZN=37810,QN=37811,JN=37812,eP=37813,tP=37814,nP=37815,rP=37816,iP=37817,sP=37818,aP=37819,oP=37820,lP=37821,f1=36492,cP=36494,uP=36495,$B=36283,dP=36284,fP=36285,hP=36286,ere=2200,tre=2201,nre=2202,fS=2300,pP=2301,NC=2302,dg=2400,fg=2401,hS=2402,Tj=2500,VB=2501,VNe=0,HNe=1,WNe=2,rre=3200,ire=3201,GNe=3202,qNe=3203,kp=0,sre=1,$d="",Gl="srgb",Sf="srgb-linear",Mj="display-p3",RE="display-p3-linear",pS="linear",Jr="srgb",mS="rec709",gS="p3",XNe=0,Wm=7680,KNe=7681,YNe=7682,ZNe=7683,QNe=34055,JNe=34056,ePe=5386,tPe=512,nPe=513,rPe=514,iPe=515,sPe=516,aPe=517,oPe=518,I3=519,are=512,ore=513,lre=514,HB=515,cre=516,ure=517,dre=518,fre=519,yS=35044,Lg=35048,lPe=35040,cPe=35045,uPe=35049,dPe=35041,fPe=35046,hPe=35050,pPe=35042,mPe="100",L3="300 es",Bu=2e3,vS=2001;class sd{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const ma=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let CH=1234567;const Dg=Math.PI/180,P0=180/Math.PI;function fl(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ma[t&255]+ma[t>>8&255]+ma[t>>16&255]+ma[t>>24&255]+"-"+ma[e&255]+ma[e>>8&255]+"-"+ma[e>>16&15|64]+ma[e>>24&255]+"-"+ma[n&63|128]+ma[n>>8&255]+"-"+ma[n>>16&255]+ma[n>>24&255]+ma[r&255]+ma[r>>8&255]+ma[r>>16&255]+ma[r>>24&255]).toLowerCase()}function Fi(t,e,n){return Math.max(e,Math.min(n,t))}function WB(t,e){return(t%e+e)%e}function gPe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function yPe(t,e,n){return t!==e?(n-t)/(e-t):0}function h1(t,e,n){return(1-n)*t+n*e}function vPe(t,e,n,r){return h1(t,e,1-Math.exp(-n*r))}function xPe(t,e=1){return e-Math.abs(WB(t,e*2)-e)}function bPe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function wPe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function _Pe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function SPe(t,e){return t+Math.random()*(e-t)}function EPe(t){return t*(.5-Math.random())}function APe(t){t!==void 0&&(CH=t);let e=CH+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function TPe(t){return t*Dg}function MPe(t){return t*P0}function CPe(t){return(t&t-1)===0&&t!==0}function NPe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function PPe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function jPe(t,e,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),c=a(n/2),u=s((e+r)/2),d=a((e+r)/2),f=s((e-r)/2),h=a((e-r)/2),p=s((r-e)/2),g=a((r-e)/2);switch(i){case"XYX":t.set(o*d,c*f,c*h,o*u);break;case"YZY":t.set(c*h,o*d,c*f,o*u);break;case"ZXZ":t.set(c*f,c*h,o*d,o*u);break;case"XZX":t.set(o*d,c*g,c*p,o*u);break;case"YXY":t.set(c*p,o*d,c*g,o*u);break;case"ZYZ":t.set(c*g,c*p,o*d,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ga(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Fn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const kPe={DEG2RAD:Dg,RAD2DEG:P0,generateUUID:fl,clamp:Fi,euclideanModulo:WB,mapLinear:gPe,inverseLerp:yPe,lerp:h1,damp:vPe,pingpong:xPe,smoothstep:bPe,smootherstep:wPe,randInt:_Pe,randFloat:SPe,randFloatSpread:EPe,seededRandom:APe,degToRad:TPe,radToDeg:MPe,isPowerOfTwo:CPe,ceilPowerOfTwo:NPe,floorPowerOfTwo:PPe,setQuaternionFromProperEuler:jPe,normalize:Fn,denormalize:Ga};class tt{constructor(e=0,n=0){tt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Fi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Dn{constructor(e,n,r,i,s,a,o,c,u){Dn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,c,u)}set(e,n,r,i,s,a,o,c,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=o,d[3]=n,d[4]=s,d[5]=c,d[6]=r,d[7]=a,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],c=r[6],u=r[1],d=r[4],f=r[7],h=r[2],p=r[5],g=r[8],v=i[0],w=i[3],x=i[6],_=i[1],S=i[4],A=i[7],C=i[2],T=i[5],N=i[8];return s[0]=a*v+o*_+c*C,s[3]=a*w+o*S+c*T,s[6]=a*x+o*A+c*N,s[1]=u*v+d*_+f*C,s[4]=u*w+d*S+f*T,s[7]=u*x+d*A+f*N,s[2]=h*v+p*_+g*C,s[5]=h*w+p*S+g*T,s[8]=h*x+p*A+g*N,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],d=e[8];return n*a*d-n*o*u-r*s*d+r*o*c+i*s*u-i*a*c}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],d=e[8],f=d*a-o*u,h=o*c-d*s,p=u*s-a*c,g=n*f+r*h+i*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=f*v,e[1]=(i*u-d*r)*v,e[2]=(o*r-i*a)*v,e[3]=h*v,e[4]=(d*n-i*c)*v,e[5]=(i*s-o*n)*v,e[6]=p*v,e[7]=(r*c-u*n)*v,e[8]=(a*n-r*s)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const c=Math.cos(s),u=Math.sin(s);return this.set(r*c,r*u,-r*(c*a+u*o)+a+e,-i*u,i*c,-i*(-u*a+c*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(LR.makeScale(e,n)),this}rotate(e){return this.premultiply(LR.makeRotation(-e)),this}translate(e,n){return this.premultiply(LR.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const LR=new Dn;function hre(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const OPe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ax(t,e){return new OPe[t](e)}function xS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function pre(){const t=xS("canvas");return t.style.display="block",t}const NH={};function PC(t){t in NH||(NH[t]=!0,console.warn(t))}function RPe(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}function IPe(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function LPe(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const PH=new Dn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),jH=new Dn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),n_={[Sf]:{transfer:pS,primaries:mS,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[Gl]:{transfer:Jr,primaries:mS,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[RE]:{transfer:pS,primaries:gS,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(jH),fromReference:t=>t.applyMatrix3(PH)},[Mj]:{transfer:Jr,primaries:gS,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(jH),fromReference:t=>t.applyMatrix3(PH).convertLinearToSRGB()}},DPe=new Set([Sf,RE]),vr={enabled:!0,_workingColorSpace:Sf,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!DPe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=n_[e].toReference,i=n_[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return n_[t].primaries},getTransfer:function(t){return t===$d?pS:n_[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(n_[e].luminanceCoefficients)}};function Wx(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function DR(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Iv;class mre{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Iv===void 0&&(Iv=xS("canvas")),Iv.width=e.width,Iv.height=e.height;const r=Iv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Iv}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=xS("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Wx(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Wx(n[r]/255)*255):n[r]=Wx(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let FPe=0;class hg{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:FPe++}),this.uuid=fl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(FR(i[a].image)):s.push(FR(i[a]))}else s=FR(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function FR(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?mre.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let UPe=0;class Ui extends sd{constructor(e=Ui.DEFAULT_IMAGE,n=Ui.DEFAULT_MAPPING,r=Ql,i=Ql,s=ls,a=Uu,o=_a,c=Jc,u=Ui.DEFAULT_ANISOTROPY,d=$d){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:UPe++}),this.uuid=fl(),this.name="",this.source=new hg(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=c,this.offset=new tt(0,0),this.repeat=new tt(1,1),this.center=new tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==xj)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case uS:e.x=e.x-Math.floor(e.x);break;case Ql:e.x=e.x<0?0:1;break;case dS:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case uS:e.y=e.y-Math.floor(e.y);break;case Ql:e.y=e.y<0?0:1;break;case dS:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ui.DEFAULT_IMAGE=null;Ui.DEFAULT_MAPPING=xj;Ui.DEFAULT_ANISOTROPY=1;class pr{constructor(e=0,n=0,r=0,i=1){pr.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const c=e.elements,u=c[0],d=c[4],f=c[8],h=c[1],p=c[5],g=c[9],v=c[2],w=c[6],x=c[10];if(Math.abs(d-h)<.01&&Math.abs(f-v)<.01&&Math.abs(g-w)<.01){if(Math.abs(d+h)<.1&&Math.abs(f+v)<.1&&Math.abs(g+w)<.1&&Math.abs(u+p+x-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(u+1)/2,A=(p+1)/2,C=(x+1)/2,T=(d+h)/4,N=(f+v)/4,O=(g+w)/4;return S>A&&S>C?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=T/r,s=N/r):A>C?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=T/i,s=O/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=N/s,i=O/s),this.set(r,i,s,n),this}let _=Math.sqrt((w-g)*(w-g)+(f-v)*(f-v)+(h-d)*(h-d));return Math.abs(_)<.001&&(_=1),this.x=(w-g)/_,this.y=(f-v)/_,this.z=(h-d)/_,this.w=Math.acos((u+p+x-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class gre extends sd{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new pr(0,0,e,n),this.scissorTest=!1,this.viewport=new pr(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ls,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new Ui(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const a=r.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new hg(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class eu extends gre{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Cj extends Ui{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=qs,this.minFilter=qs,this.wrapR=Ql,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class BPe extends eu{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Cj(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class GB extends Ui{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=qs,this.minFilter=qs,this.wrapR=Ql,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class zPe extends eu{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new GB(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Mo{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let c=r[i+0],u=r[i+1],d=r[i+2],f=r[i+3];const h=s[a+0],p=s[a+1],g=s[a+2],v=s[a+3];if(o===0){e[n+0]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f;return}if(o===1){e[n+0]=h,e[n+1]=p,e[n+2]=g,e[n+3]=v;return}if(f!==v||c!==h||u!==p||d!==g){let w=1-o;const x=c*h+u*p+d*g+f*v,_=x>=0?1:-1,S=1-x*x;if(S>Number.EPSILON){const C=Math.sqrt(S),T=Math.atan2(C,x*_);w=Math.sin(w*T)/C,o=Math.sin(o*T)/C}const A=o*_;if(c=c*w+h*A,u=u*w+p*A,d=d*w+g*A,f=f*w+v*A,w===1-o){const C=1/Math.sqrt(c*c+u*u+d*d+f*f);c*=C,u*=C,d*=C,f*=C}}e[n]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],c=r[i+1],u=r[i+2],d=r[i+3],f=s[a],h=s[a+1],p=s[a+2],g=s[a+3];return e[n]=o*g+d*f+c*p-u*h,e[n+1]=c*g+d*h+u*f-o*p,e[n+2]=u*g+d*p+o*h-c*f,e[n+3]=d*g-o*f-c*h-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,c=Math.sin,u=o(r/2),d=o(i/2),f=o(s/2),h=c(r/2),p=c(i/2),g=c(s/2);switch(a){case"XYZ":this._x=h*d*f+u*p*g,this._y=u*p*f-h*d*g,this._z=u*d*g+h*p*f,this._w=u*d*f-h*p*g;break;case"YXZ":this._x=h*d*f+u*p*g,this._y=u*p*f-h*d*g,this._z=u*d*g-h*p*f,this._w=u*d*f+h*p*g;break;case"ZXY":this._x=h*d*f-u*p*g,this._y=u*p*f+h*d*g,this._z=u*d*g+h*p*f,this._w=u*d*f-h*p*g;break;case"ZYX":this._x=h*d*f-u*p*g,this._y=u*p*f+h*d*g,this._z=u*d*g-h*p*f,this._w=u*d*f+h*p*g;break;case"YZX":this._x=h*d*f+u*p*g,this._y=u*p*f+h*d*g,this._z=u*d*g-h*p*f,this._w=u*d*f-h*p*g;break;case"XZY":this._x=h*d*f-u*p*g,this._y=u*p*f-h*d*g,this._z=u*d*g+h*p*f,this._w=u*d*f+h*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],c=n[9],u=n[2],d=n[6],f=n[10],h=r+o+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(d-c)*p,this._y=(s-u)*p,this._z=(a-i)*p}else if(r>o&&r>f){const p=2*Math.sqrt(1+r-o-f);this._w=(d-c)/p,this._x=.25*p,this._y=(i+a)/p,this._z=(s+u)/p}else if(o>f){const p=2*Math.sqrt(1+o-r-f);this._w=(s-u)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(c+d)/p}else{const p=2*Math.sqrt(1+f-r-o);this._w=(a-i)/p,this._x=(s+u)/p,this._y=(c+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Fi(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,c=n._y,u=n._z,d=n._w;return this._x=r*d+a*o+i*u-s*c,this._y=i*d+a*c+s*o-r*u,this._z=s*d+a*u+r*c-i*o,this._w=a*d-r*o-i*c-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const c=1-o*o;if(c<=Number.EPSILON){const p=1-n;return this._w=p*a+n*this._w,this._x=p*r+n*this._x,this._y=p*i+n*this._y,this._z=p*s+n*this._z,this.normalize(),this}const u=Math.sqrt(c),d=Math.atan2(u,o),f=Math.sin((1-n)*d)/u,h=Math.sin(n*d)/u;return this._w=a*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class se{constructor(e=0,n=0,r=0){se.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(kH.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(kH.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,c=e.w,u=2*(a*i-o*r),d=2*(o*n-s*i),f=2*(s*r-a*n);return this.x=n+c*u+a*f-o*d,this.y=r+c*d+o*u-s*f,this.z=i+c*f+s*d-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,c=n.z;return this.x=i*c-s*o,this.y=s*a-r*c,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return UR.copy(this).projectOnVector(e),this.sub(UR)}reflect(e){return this.sub(UR.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Fi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const UR=new se,kH=new Mo;class Ya{constructor(e=new se(1/0,1/0,1/0),n=new se(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ec.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ec.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ec.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Ec):Ec.fromBufferAttribute(s,a),Ec.applyMatrix4(e.matrixWorld),this.expandByPoint(Ec);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),YT.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),YT.copy(r.boundingBox)),YT.applyMatrix4(e.matrixWorld),this.union(YT)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ec),Ec.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(r_),ZT.subVectors(this.max,r_),Lv.subVectors(e.a,r_),Dv.subVectors(e.b,r_),Fv.subVectors(e.c,r_),hh.subVectors(Dv,Lv),ph.subVectors(Fv,Dv),Mm.subVectors(Lv,Fv);let n=[0,-hh.z,hh.y,0,-ph.z,ph.y,0,-Mm.z,Mm.y,hh.z,0,-hh.x,ph.z,0,-ph.x,Mm.z,0,-Mm.x,-hh.y,hh.x,0,-ph.y,ph.x,0,-Mm.y,Mm.x,0];return!BR(n,Lv,Dv,Fv,ZT)||(n=[1,0,0,0,1,0,0,0,1],!BR(n,Lv,Dv,Fv,ZT))?!1:(QT.crossVectors(hh,ph),n=[QT.x,QT.y,QT.z],BR(n,Lv,Dv,Fv,ZT))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ec).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ec).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Md[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Md[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Md[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Md[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Md[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Md[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Md[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Md[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Md),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Md=[new se,new se,new se,new se,new se,new se,new se,new se],Ec=new se,YT=new Ya,Lv=new se,Dv=new se,Fv=new se,hh=new se,ph=new se,Mm=new se,r_=new se,ZT=new se,QT=new se,Cm=new se;function BR(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){Cm.fromArray(t,s);const o=i.x*Math.abs(Cm.x)+i.y*Math.abs(Cm.y)+i.z*Math.abs(Cm.z),c=e.dot(Cm),u=n.dot(Cm),d=r.dot(Cm);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>o)return!1}return!0}const $Pe=new Ya,i_=new se,zR=new se;class Ea{constructor(e=new se,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):$Pe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;i_.subVectors(e,this.center);const n=i_.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(i_,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(zR.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(i_.copy(e.center).add(zR)),this.expandByPoint(i_.copy(e.center).sub(zR))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Cd=new se,$R=new se,JT=new se,mh=new se,VR=new se,eM=new se,HR=new se;class Tb{constructor(e=new se,n=new se(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Cd)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Cd.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Cd.copy(this.origin).addScaledVector(this.direction,n),Cd.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){$R.copy(e).add(n).multiplyScalar(.5),JT.copy(n).sub(e).normalize(),mh.copy(this.origin).sub($R);const s=e.distanceTo(n)*.5,a=-this.direction.dot(JT),o=mh.dot(this.direction),c=-mh.dot(JT),u=mh.lengthSq(),d=Math.abs(1-a*a);let f,h,p,g;if(d>0)if(f=a*c-o,h=a*o-c,g=s*d,f>=0)if(h>=-g)if(h<=g){const v=1/d;f*=v,h*=v,p=f*(f+a*h+2*o)+h*(a*f+h+2*c)+u}else h=s,f=Math.max(0,-(a*h+o)),p=-f*f+h*(h+2*c)+u;else h=-s,f=Math.max(0,-(a*h+o)),p=-f*f+h*(h+2*c)+u;else h<=-g?(f=Math.max(0,-(-a*s+o)),h=f>0?-s:Math.min(Math.max(-s,-c),s),p=-f*f+h*(h+2*c)+u):h<=g?(f=0,h=Math.min(Math.max(-s,-c),s),p=h*(h+2*c)+u):(f=Math.max(0,-(a*s+o)),h=f>0?s:Math.min(Math.max(-s,-c),s),p=-f*f+h*(h+2*c)+u);else h=a>0?-s:s,f=Math.max(0,-(a*h+o)),p=-f*f+h*(h+2*c)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy($R).addScaledVector(JT,h),p}intersectSphere(e,n){Cd.subVectors(e.center,this.origin);const r=Cd.dot(this.direction),i=Cd.dot(Cd)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,c=r+a;return c<0?null:o<0?this.at(c,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,c;const u=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),d>=0?(s=(e.min.y-h.y)*d,a=(e.max.y-h.y)*d):(s=(e.max.y-h.y)*d,a=(e.min.y-h.y)*d),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),f>=0?(o=(e.min.z-h.z)*f,c=(e.max.z-h.z)*f):(o=(e.max.z-h.z)*f,c=(e.min.z-h.z)*f),r>c||o>i)||((o>r||r!==r)&&(r=o),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Cd)!==null}intersectTriangle(e,n,r,i,s){VR.subVectors(n,e),eM.subVectors(r,e),HR.crossVectors(VR,eM);let a=this.direction.dot(HR),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;mh.subVectors(this.origin,e);const c=o*this.direction.dot(eM.crossVectors(mh,eM));if(c<0)return null;const u=o*this.direction.dot(VR.cross(mh));if(u<0||c+u>a)return null;const d=-o*mh.dot(HR);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class on{constructor(e,n,r,i,s,a,o,c,u,d,f,h,p,g,v,w){on.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,c,u,d,f,h,p,g,v,w)}set(e,n,r,i,s,a,o,c,u,d,f,h,p,g,v,w){const x=this.elements;return x[0]=e,x[4]=n,x[8]=r,x[12]=i,x[1]=s,x[5]=a,x[9]=o,x[13]=c,x[2]=u,x[6]=d,x[10]=f,x[14]=h,x[3]=p,x[7]=g,x[11]=v,x[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new on().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Uv.setFromMatrixColumn(e,0).length(),s=1/Uv.setFromMatrixColumn(e,1).length(),a=1/Uv.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),c=Math.cos(i),u=Math.sin(i),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=a*d,p=a*f,g=o*d,v=o*f;n[0]=c*d,n[4]=-c*f,n[8]=u,n[1]=p+g*u,n[5]=h-v*u,n[9]=-o*c,n[2]=v-h*u,n[6]=g+p*u,n[10]=a*c}else if(e.order==="YXZ"){const h=c*d,p=c*f,g=u*d,v=u*f;n[0]=h+v*o,n[4]=g*o-p,n[8]=a*u,n[1]=a*f,n[5]=a*d,n[9]=-o,n[2]=p*o-g,n[6]=v+h*o,n[10]=a*c}else if(e.order==="ZXY"){const h=c*d,p=c*f,g=u*d,v=u*f;n[0]=h-v*o,n[4]=-a*f,n[8]=g+p*o,n[1]=p+g*o,n[5]=a*d,n[9]=v-h*o,n[2]=-a*u,n[6]=o,n[10]=a*c}else if(e.order==="ZYX"){const h=a*d,p=a*f,g=o*d,v=o*f;n[0]=c*d,n[4]=g*u-p,n[8]=h*u+v,n[1]=c*f,n[5]=v*u+h,n[9]=p*u-g,n[2]=-u,n[6]=o*c,n[10]=a*c}else if(e.order==="YZX"){const h=a*c,p=a*u,g=o*c,v=o*u;n[0]=c*d,n[4]=v-h*f,n[8]=g*f+p,n[1]=f,n[5]=a*d,n[9]=-o*d,n[2]=-u*d,n[6]=p*f+g,n[10]=h-v*f}else if(e.order==="XZY"){const h=a*c,p=a*u,g=o*c,v=o*u;n[0]=c*d,n[4]=-f,n[8]=u*d,n[1]=h*f+v,n[5]=a*d,n[9]=p*f-g,n[2]=g*f-p,n[6]=o*d,n[10]=v*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(VPe,e,HPe)}lookAt(e,n,r){const i=this.elements;return Ko.subVectors(e,n),Ko.lengthSq()===0&&(Ko.z=1),Ko.normalize(),gh.crossVectors(r,Ko),gh.lengthSq()===0&&(Math.abs(r.z)===1?Ko.x+=1e-4:Ko.z+=1e-4,Ko.normalize(),gh.crossVectors(r,Ko)),gh.normalize(),tM.crossVectors(Ko,gh),i[0]=gh.x,i[4]=tM.x,i[8]=Ko.x,i[1]=gh.y,i[5]=tM.y,i[9]=Ko.y,i[2]=gh.z,i[6]=tM.z,i[10]=Ko.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],c=r[8],u=r[12],d=r[1],f=r[5],h=r[9],p=r[13],g=r[2],v=r[6],w=r[10],x=r[14],_=r[3],S=r[7],A=r[11],C=r[15],T=i[0],N=i[4],O=i[8],U=i[12],R=i[1],I=i[5],B=i[9],G=i[13],K=i[2],Q=i[6],q=i[10],ie=i[14],V=i[3],X=i[7],z=i[11],oe=i[15];return s[0]=a*T+o*R+c*K+u*V,s[4]=a*N+o*I+c*Q+u*X,s[8]=a*O+o*B+c*q+u*z,s[12]=a*U+o*G+c*ie+u*oe,s[1]=d*T+f*R+h*K+p*V,s[5]=d*N+f*I+h*Q+p*X,s[9]=d*O+f*B+h*q+p*z,s[13]=d*U+f*G+h*ie+p*oe,s[2]=g*T+v*R+w*K+x*V,s[6]=g*N+v*I+w*Q+x*X,s[10]=g*O+v*B+w*q+x*z,s[14]=g*U+v*G+w*ie+x*oe,s[3]=_*T+S*R+A*K+C*V,s[7]=_*N+S*I+A*Q+C*X,s[11]=_*O+S*B+A*q+C*z,s[15]=_*U+S*G+A*ie+C*oe,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],c=e[9],u=e[13],d=e[2],f=e[6],h=e[10],p=e[14],g=e[3],v=e[7],w=e[11],x=e[15];return g*(+s*c*f-i*u*f-s*o*h+r*u*h+i*o*p-r*c*p)+v*(+n*c*p-n*u*h+s*a*h-i*a*p+i*u*d-s*c*d)+w*(+n*u*f-n*o*p-s*a*f+r*a*p+s*o*d-r*u*d)+x*(-i*o*d-n*c*f+n*o*h+i*a*f-r*a*h+r*c*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],p=e[11],g=e[12],v=e[13],w=e[14],x=e[15],_=f*w*u-v*h*u+v*c*p-o*w*p-f*c*x+o*h*x,S=g*h*u-d*w*u-g*c*p+a*w*p+d*c*x-a*h*x,A=d*v*u-g*f*u+g*o*p-a*v*p-d*o*x+a*f*x,C=g*f*c-d*v*c-g*o*h+a*v*h+d*o*w-a*f*w,T=n*_+r*S+i*A+s*C;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/T;return e[0]=_*N,e[1]=(v*h*s-f*w*s-v*i*p+r*w*p+f*i*x-r*h*x)*N,e[2]=(o*w*s-v*c*s+v*i*u-r*w*u-o*i*x+r*c*x)*N,e[3]=(f*c*s-o*h*s-f*i*u+r*h*u+o*i*p-r*c*p)*N,e[4]=S*N,e[5]=(d*w*s-g*h*s+g*i*p-n*w*p-d*i*x+n*h*x)*N,e[6]=(g*c*s-a*w*s-g*i*u+n*w*u+a*i*x-n*c*x)*N,e[7]=(a*h*s-d*c*s+d*i*u-n*h*u-a*i*p+n*c*p)*N,e[8]=A*N,e[9]=(g*f*s-d*v*s-g*r*p+n*v*p+d*r*x-n*f*x)*N,e[10]=(a*v*s-g*o*s+g*r*u-n*v*u-a*r*x+n*o*x)*N,e[11]=(d*o*s-a*f*s-d*r*u+n*f*u+a*r*p-n*o*p)*N,e[12]=C*N,e[13]=(d*v*i-g*f*i+g*r*h-n*v*h-d*r*w+n*f*w)*N,e[14]=(g*o*i-a*v*i-g*r*c+n*v*c+a*r*w-n*o*w)*N,e[15]=(a*f*i-d*o*i+d*r*c-n*f*c-a*r*h+n*o*h)*N,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,c=e.z,u=s*a,d=s*o;return this.set(u*a+r,u*o-i*c,u*c+i*o,0,u*o+i*c,d*o+r,d*c-i*a,0,u*c-i*o,d*c+i*a,s*c*c+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,c=n._w,u=s+s,d=a+a,f=o+o,h=s*u,p=s*d,g=s*f,v=a*d,w=a*f,x=o*f,_=c*u,S=c*d,A=c*f,C=r.x,T=r.y,N=r.z;return i[0]=(1-(v+x))*C,i[1]=(p+A)*C,i[2]=(g-S)*C,i[3]=0,i[4]=(p-A)*T,i[5]=(1-(h+x))*T,i[6]=(w+_)*T,i[7]=0,i[8]=(g+S)*N,i[9]=(w-_)*N,i[10]=(1-(h+v))*N,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Uv.set(i[0],i[1],i[2]).length();const a=Uv.set(i[4],i[5],i[6]).length(),o=Uv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ac.copy(this);const u=1/s,d=1/a,f=1/o;return Ac.elements[0]*=u,Ac.elements[1]*=u,Ac.elements[2]*=u,Ac.elements[4]*=d,Ac.elements[5]*=d,Ac.elements[6]*=d,Ac.elements[8]*=f,Ac.elements[9]*=f,Ac.elements[10]*=f,n.setFromRotationMatrix(Ac),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a,o=Bu){const c=this.elements,u=2*s/(n-e),d=2*s/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let p,g;if(o===Bu)p=-(a+s)/(a-s),g=-2*a*s/(a-s);else if(o===vS)p=-a/(a-s),g=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=d,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=p,c[14]=g,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,a,o=Bu){const c=this.elements,u=1/(n-e),d=1/(r-i),f=1/(a-s),h=(n+e)*u,p=(r+i)*d;let g,v;if(o===Bu)g=(a+s)*f,v=-2*f;else if(o===vS)g=s*f,v=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-h,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-p,c[2]=0,c[6]=0,c[10]=v,c[14]=-g,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Uv=new se,Ac=new on,VPe=new se(0,0,0),HPe=new se(1,1,1),gh=new se,tM=new se,Ko=new se,OH=new on,RH=new Mo;class ml{constructor(e=0,n=0,r=0,i=ml.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],c=i[1],u=i[5],d=i[9],f=i[2],h=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(Fi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Fi(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Fi(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Fi(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Fi(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(o,p));break;case"XZY":this._z=Math.asin(-Fi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return OH.makeRotationFromQuaternion(e),this.setFromRotationMatrix(OH,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return RH.setFromEuler(this),this.setFromQuaternion(RH,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ml.DEFAULT_ORDER="XYZ";class Fg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let WPe=0;const IH=new se,Bv=new Mo,Nd=new on,nM=new se,s_=new se,GPe=new se,qPe=new Mo,LH=new se(1,0,0),DH=new se(0,1,0),FH=new se(0,0,1),UH={type:"added"},XPe={type:"removed"},zv={type:"childadded",child:null},WR={type:"childremoved",child:null};class gr extends sd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:WPe++}),this.uuid=fl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=gr.DEFAULT_UP.clone();const e=new se,n=new ml,r=new Mo,i=new se(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new on},normalMatrix:{value:new Dn}}),this.matrix=new on,this.matrixWorld=new on,this.matrixAutoUpdate=gr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=gr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Fg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Bv.setFromAxisAngle(e,n),this.quaternion.multiply(Bv),this}rotateOnWorldAxis(e,n){return Bv.setFromAxisAngle(e,n),this.quaternion.premultiply(Bv),this}rotateX(e){return this.rotateOnAxis(LH,e)}rotateY(e){return this.rotateOnAxis(DH,e)}rotateZ(e){return this.rotateOnAxis(FH,e)}translateOnAxis(e,n){return IH.copy(e).applyQuaternion(this.quaternion),this.position.add(IH.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(LH,e)}translateY(e){return this.translateOnAxis(DH,e)}translateZ(e){return this.translateOnAxis(FH,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Nd.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?nM.copy(e):nM.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),s_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Nd.lookAt(s_,nM,this.up):Nd.lookAt(nM,s_,this.up),this.quaternion.setFromRotationMatrix(Nd),i&&(Nd.extractRotation(i.matrixWorld),Bv.setFromRotationMatrix(Nd),this.quaternion.premultiply(Bv.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(UH),zv.child=e,this.dispatchEvent(zv),zv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(XPe),WR.child=e,this.dispatchEvent(WR),WR.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Nd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Nd.multiply(e.parent.matrixWorld)),e.applyMatrix4(Nd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(UH),zv.child=e,this.dispatchEvent(zv),zv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(s_,e,GPe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(s_,qPe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(o,c){return o[c.uuid]===void 0&&(o[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const c=o.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const f=c[u];s(e.shapes,f)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let c=0,u=this.material.length;c<u;c++)o.push(s(e.materials,this.material[c]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const c=this.animations[o];i.animations.push(s(e.animations,c))}}if(n){const o=a(e.geometries),c=a(e.materials),u=a(e.textures),d=a(e.images),f=a(e.shapes),h=a(e.skeletons),p=a(e.animations),g=a(e.nodes);o.length>0&&(r.geometries=o),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=i,r;function a(o){const c=[];for(const u in o){const d=o[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}gr.DEFAULT_UP=new se(0,1,0);gr.DEFAULT_MATRIX_AUTO_UPDATE=!0;gr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Tc=new se,Pd=new se,GR=new se,jd=new se,$v=new se,Vv=new se,BH=new se,qR=new se,XR=new se,KR=new se,YR=new pr,ZR=new pr,QR=new pr;class bo{constructor(e=new se,n=new se,r=new se){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Tc.subVectors(e,n),i.cross(Tc);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Tc.subVectors(i,n),Pd.subVectors(r,n),GR.subVectors(e,n);const a=Tc.dot(Tc),o=Tc.dot(Pd),c=Tc.dot(GR),u=Pd.dot(Pd),d=Pd.dot(GR),f=a*u-o*o;if(f===0)return s.set(0,0,0),null;const h=1/f,p=(u*c-o*d)*h,g=(a*d-o*c)*h;return s.set(1-p-g,g,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,jd)===null?!1:jd.x>=0&&jd.y>=0&&jd.x+jd.y<=1}static getInterpolation(e,n,r,i,s,a,o,c){return this.getBarycoord(e,n,r,i,jd)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,jd.x),c.addScaledVector(a,jd.y),c.addScaledVector(o,jd.z),c)}static getInterpolatedAttribute(e,n,r,i,s,a){return YR.setScalar(0),ZR.setScalar(0),QR.setScalar(0),YR.fromBufferAttribute(e,n),ZR.fromBufferAttribute(e,r),QR.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(YR,s.x),a.addScaledVector(ZR,s.y),a.addScaledVector(QR,s.z),a}static isFrontFacing(e,n,r,i){return Tc.subVectors(r,n),Pd.subVectors(e,n),Tc.cross(Pd).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Tc.subVectors(this.c,this.b),Pd.subVectors(this.a,this.b),Tc.cross(Pd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return bo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return bo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return bo.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return bo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return bo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,o;$v.subVectors(i,r),Vv.subVectors(s,r),qR.subVectors(e,r);const c=$v.dot(qR),u=Vv.dot(qR);if(c<=0&&u<=0)return n.copy(r);XR.subVectors(e,i);const d=$v.dot(XR),f=Vv.dot(XR);if(d>=0&&f<=d)return n.copy(i);const h=c*f-d*u;if(h<=0&&c>=0&&d<=0)return a=c/(c-d),n.copy(r).addScaledVector($v,a);KR.subVectors(e,s);const p=$v.dot(KR),g=Vv.dot(KR);if(g>=0&&p<=g)return n.copy(s);const v=p*u-c*g;if(v<=0&&u>=0&&g<=0)return o=u/(u-g),n.copy(r).addScaledVector(Vv,o);const w=d*g-p*f;if(w<=0&&f-d>=0&&p-g>=0)return BH.subVectors(s,i),o=(f-d)/(f-d+(p-g)),n.copy(i).addScaledVector(BH,o);const x=1/(w+v+h);return a=v*x,o=h*x,n.copy(r).addScaledVector($v,a).addScaledVector(Vv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const yre={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yh={h:0,s:0,l:0},rM={h:0,s:0,l:0};function JR(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let kt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Gl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,vr.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=vr.workingColorSpace){return this.r=e,this.g=n,this.b=r,vr.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=vr.workingColorSpace){if(e=WB(e,1),n=Fi(n,0,1),r=Fi(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=JR(a,s,e+1/3),this.g=JR(a,s,e),this.b=JR(a,s,e-1/3)}return vr.toWorkingColorSpace(this,i),this}setStyle(e,n=Gl){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Gl){const r=yre[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wx(e.r),this.g=Wx(e.g),this.b=Wx(e.b),this}copyLinearToSRGB(e){return this.r=DR(e.r),this.g=DR(e.g),this.b=DR(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Gl){return vr.fromWorkingColorSpace(ga.copy(this),e),Math.round(Fi(ga.r*255,0,255))*65536+Math.round(Fi(ga.g*255,0,255))*256+Math.round(Fi(ga.b*255,0,255))}getHexString(e=Gl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=vr.workingColorSpace){vr.fromWorkingColorSpace(ga.copy(this),n);const r=ga.r,i=ga.g,s=ga.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let c,u;const d=(o+a)/2;if(o===a)c=0,u=0;else{const f=a-o;switch(u=d<=.5?f/(a+o):f/(2-a-o),a){case r:c=(i-s)/f+(i<s?6:0);break;case i:c=(s-r)/f+2;break;case s:c=(r-i)/f+4;break}c/=6}return e.h=c,e.s=u,e.l=d,e}getRGB(e,n=vr.workingColorSpace){return vr.fromWorkingColorSpace(ga.copy(this),n),e.r=ga.r,e.g=ga.g,e.b=ga.b,e}getStyle(e=Gl){vr.fromWorkingColorSpace(ga.copy(this),e);const n=ga.r,r=ga.g,i=ga.b;return e!==Gl?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(yh),this.setHSL(yh.h+e,yh.s+n,yh.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(yh),e.getHSL(rM);const r=h1(yh.h,rM.h,n),i=h1(yh.s,rM.s,n),s=h1(yh.l,rM.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ga=new kt;kt.NAMES=yre;let KPe=0;class Ta extends sd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:KPe++}),this.uuid=fl(),this.name="",this.type="Material",this.blending=Rg,this.side=pf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ON,this.blendDst=RN,this.blendEquation=Ih,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new kt(0,0,0),this.blendAlpha=0,this.depthFunc=sy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=I3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wm,this.stencilZFail=Wm,this.stencilZPass=Wm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Rg&&(r.blending=this.blending),this.side!==pf&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==ON&&(r.blendSrc=this.blendSrc),this.blendDst!==RN&&(r.blendDst=this.blendDst),this.blendEquation!==Ih&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==sy&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==I3&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Wm&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Wm&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Wm&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const c=s[o];delete c.metadata,a.push(c)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Op extends Ta{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ml,this.combine=kE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Vd=YPe();function YPe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const u=c-127;u<-27?(r[c]=0,r[c|256]=32768,i[c]=24,i[c|256]=24):u<-14?(r[c]=1024>>-u-14,r[c|256]=1024>>-u-14|32768,i[c]=-u-1,i[c|256]=-u-1):u<=15?(r[c]=u+15<<10,r[c|256]=u+15<<10|32768,i[c]=13,i[c|256]=13):u<128?(r[c]=31744,r[c|256]=64512,i[c]=24,i[c|256]=24):(r[c]=31744,r[c|256]=64512,i[c]=13,i[c|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,d=0;for(;!(u&8388608);)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[c]=u|d}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)a[c]=c<<23;a[31]=1199570944,a[32]=2147483648;for(let c=33;c<63;++c)a[c]=2147483648+(c-32<<23);a[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(o[c]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function fo(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Fi(t,-65504,65504),Vd.floatView[0]=t;const e=Vd.uint32View[0],n=e>>23&511;return Vd.baseTable[n]+((e&8388607)>>Vd.shiftTable[n])}function z_(t){const e=t>>10;return Vd.uint32View[0]=Vd.mantissaTable[Vd.offsetTable[e]+(t&1023)]+Vd.exponentTable[e],Vd.floatView[0]}const ZPe={toHalfFloat:fo,fromHalfFloat:z_},ts=new se,iM=new tt;class Ur{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=yS,this.updateRanges=[],this.gpuType=_o,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)iM.fromBufferAttribute(this,n),iM.applyMatrix3(e),this.setXY(n,iM.x,iM.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)ts.fromBufferAttribute(this,n),ts.applyMatrix3(e),this.setXYZ(n,ts.x,ts.y,ts.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)ts.fromBufferAttribute(this,n),ts.applyMatrix4(e),this.setXYZ(n,ts.x,ts.y,ts.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ts.fromBufferAttribute(this,n),ts.applyNormalMatrix(e),this.setXYZ(n,ts.x,ts.y,ts.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ts.fromBufferAttribute(this,n),ts.transformDirection(e),this.setXYZ(n,ts.x,ts.y,ts.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Ga(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Fn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ga(n,this.array)),n}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ga(n,this.array)),n}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ga(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ga(n,this.array)),n}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array),s=Fn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==yS&&(e.usage=this.usage),e}}class QPe extends Ur{constructor(e,n,r){super(new Int8Array(e),n,r)}}class JPe extends Ur{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class e2e extends Ur{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class t2e extends Ur{constructor(e,n,r){super(new Int16Array(e),n,r)}}class qB extends Ur{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class n2e extends Ur{constructor(e,n,r){super(new Int32Array(e),n,r)}}class XB extends Ur{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class r2e extends Ur{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=z_(this.array[e*this.itemSize]);return this.normalized&&(n=Ga(n,this.array)),n}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize]=fo(n),this}getY(e){let n=z_(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ga(n,this.array)),n}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+1]=fo(n),this}getZ(e){let n=z_(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ga(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+2]=fo(n),this}getW(e){let n=z_(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ga(n,this.array)),n}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+3]=fo(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array)),this.array[e+0]=fo(n),this.array[e+1]=fo(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.array[e+0]=fo(n),this.array[e+1]=fo(r),this.array[e+2]=fo(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array),s=Fn(s,this.array)),this.array[e+0]=fo(n),this.array[e+1]=fo(r),this.array[e+2]=fo(i),this.array[e+3]=fo(s),this}}class qt extends Ur{constructor(e,n,r){super(new Float32Array(e),n,r)}}let i2e=0;const Ul=new on,eI=new gr,Hv=new se,Yo=new Ya,a_=new Ya,zs=new se;class Zn extends sd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:i2e++}),this.uuid=fl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(hre(e)?XB:qB)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Dn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ul.makeRotationFromQuaternion(e),this.applyMatrix4(Ul),this}rotateX(e){return Ul.makeRotationX(e),this.applyMatrix4(Ul),this}rotateY(e){return Ul.makeRotationY(e),this.applyMatrix4(Ul),this}rotateZ(e){return Ul.makeRotationZ(e),this.applyMatrix4(Ul),this}translate(e,n,r){return Ul.makeTranslation(e,n,r),this.applyMatrix4(Ul),this}scale(e,n,r){return Ul.makeScale(e,n,r),this.applyMatrix4(Ul),this}lookAt(e){return eI.lookAt(e),eI.updateMatrix(),this.applyMatrix4(eI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hv).negate(),this.translate(Hv.x,Hv.y,Hv.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new qt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ya);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new se(-1/0,-1/0,-1/0),new se(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Yo.setFromBufferAttribute(s),this.morphTargetsRelative?(zs.addVectors(this.boundingBox.min,Yo.min),this.boundingBox.expandByPoint(zs),zs.addVectors(this.boundingBox.max,Yo.max),this.boundingBox.expandByPoint(zs)):(this.boundingBox.expandByPoint(Yo.min),this.boundingBox.expandByPoint(Yo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ea);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new se,1/0);return}if(e){const r=this.boundingSphere.center;if(Yo.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];a_.setFromBufferAttribute(o),this.morphTargetsRelative?(zs.addVectors(Yo.min,a_.min),Yo.expandByPoint(zs),zs.addVectors(Yo.max,a_.max),Yo.expandByPoint(zs)):(Yo.expandByPoint(a_.min),Yo.expandByPoint(a_.max))}Yo.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)zs.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(zs));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],c=this.morphTargetsRelative;for(let u=0,d=o.count;u<d;u++)zs.fromBufferAttribute(o,u),c&&(Hv.fromBufferAttribute(e,u),zs.add(Hv)),i=Math.max(i,r.distanceToSquared(zs))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ur(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),o=[],c=[];for(let O=0;O<r.count;O++)o[O]=new se,c[O]=new se;const u=new se,d=new se,f=new se,h=new tt,p=new tt,g=new tt,v=new se,w=new se;function x(O,U,R){u.fromBufferAttribute(r,O),d.fromBufferAttribute(r,U),f.fromBufferAttribute(r,R),h.fromBufferAttribute(s,O),p.fromBufferAttribute(s,U),g.fromBufferAttribute(s,R),d.sub(u),f.sub(u),p.sub(h),g.sub(h);const I=1/(p.x*g.y-g.x*p.y);isFinite(I)&&(v.copy(d).multiplyScalar(g.y).addScaledVector(f,-p.y).multiplyScalar(I),w.copy(f).multiplyScalar(p.x).addScaledVector(d,-g.x).multiplyScalar(I),o[O].add(v),o[U].add(v),o[R].add(v),c[O].add(w),c[U].add(w),c[R].add(w))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let O=0,U=_.length;O<U;++O){const R=_[O],I=R.start,B=R.count;for(let G=I,K=I+B;G<K;G+=3)x(e.getX(G+0),e.getX(G+1),e.getX(G+2))}const S=new se,A=new se,C=new se,T=new se;function N(O){C.fromBufferAttribute(i,O),T.copy(C);const U=o[O];S.copy(U),S.sub(C.multiplyScalar(C.dot(U))).normalize(),A.crossVectors(T,U);const I=A.dot(c[O])<0?-1:1;a.setXYZW(O,S.x,S.y,S.z,I)}for(let O=0,U=_.length;O<U;++O){const R=_[O],I=R.start,B=R.count;for(let G=I,K=I+B;G<K;G+=3)N(e.getX(G+0)),N(e.getX(G+1)),N(e.getX(G+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ur(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,p=r.count;h<p;h++)r.setXYZ(h,0,0,0);const i=new se,s=new se,a=new se,o=new se,c=new se,u=new se,d=new se,f=new se;if(e)for(let h=0,p=e.count;h<p;h+=3){const g=e.getX(h+0),v=e.getX(h+1),w=e.getX(h+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,v),a.fromBufferAttribute(n,w),d.subVectors(a,s),f.subVectors(i,s),d.cross(f),o.fromBufferAttribute(r,g),c.fromBufferAttribute(r,v),u.fromBufferAttribute(r,w),o.add(d),c.add(d),u.add(d),r.setXYZ(g,o.x,o.y,o.z),r.setXYZ(v,c.x,c.y,c.z),r.setXYZ(w,u.x,u.y,u.z)}else for(let h=0,p=n.count;h<p;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),a.fromBufferAttribute(n,h+2),d.subVectors(a,s),f.subVectors(i,s),d.cross(f),r.setXYZ(h+0,d.x,d.y,d.z),r.setXYZ(h+1,d.x,d.y,d.z),r.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)zs.fromBufferAttribute(e,n),zs.normalize(),e.setXYZ(n,zs.x,zs.y,zs.z)}toNonIndexed(){function e(o,c){const u=o.array,d=o.itemSize,f=o.normalized,h=new u.constructor(c.length*d);let p=0,g=0;for(let v=0,w=c.length;v<w;v++){o.isInterleavedBufferAttribute?p=c[v]*o.data.stride+o.offset:p=c[v]*d;for(let x=0;x<d;x++)h[g++]=u[p++]}return new Ur(h,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Zn,r=this.index.array,i=this.attributes;for(const o in i){const c=i[o],u=e(c,r);n.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const c=[],u=s[o];for(let d=0,f=u.length;d<f;d++){const h=u[d],p=e(h,r);c.push(p)}n.morphAttributes[o]=c}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,c=a.length;o<c;o++){const u=a[o];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const u=r[c];e.data.attributes[c]=u.toJSON(e.data)}const i={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let f=0,h=u.length;f<h;f++){const p=u[f];d.push(p.toJSON(e.data))}d.length>0&&(i[c]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(n))}const s=e.morphAttributes;for(const u in s){const d=[],f=s[u];for(let h=0,p=f.length;h<p;h++)d.push(f[h].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,d=a.length;u<d;u++){const f=a[u];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const zH=new on,Nm=new Tb,sM=new Ea,$H=new se,aM=new se,oM=new se,lM=new se,tI=new se,cM=new se,VH=new se,uM=new se;class cs extends gr{constructor(e=new Zn,n=new Op){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){cM.set(0,0,0);for(let c=0,u=s.length;c<u;c++){const d=o[c],f=s[c];d!==0&&(tI.fromBufferAttribute(f,e),a?cM.addScaledVector(tI,d):cM.addScaledVector(tI.sub(n),d))}n.add(cM)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),sM.copy(r.boundingSphere),sM.applyMatrix4(s),Nm.copy(e.ray).recast(e.near),!(sM.containsPoint(Nm.origin)===!1&&(Nm.intersectSphere(sM,$H)===null||Nm.origin.distanceToSquared($H)>(e.far-e.near)**2))&&(zH.copy(s).invert(),Nm.copy(e.ray).applyMatrix4(zH),!(r.boundingBox!==null&&Nm.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Nm)))}_computeIntersections(e,n,r){let i;const s=this.geometry,a=this.material,o=s.index,c=s.attributes.position,u=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,h=s.groups,p=s.drawRange;if(o!==null)if(Array.isArray(a))for(let g=0,v=h.length;g<v;g++){const w=h[g],x=a[w.materialIndex],_=Math.max(w.start,p.start),S=Math.min(o.count,Math.min(w.start+w.count,p.start+p.count));for(let A=_,C=S;A<C;A+=3){const T=o.getX(A),N=o.getX(A+1),O=o.getX(A+2);i=dM(this,x,e,r,u,d,f,T,N,O),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=w.materialIndex,n.push(i))}}else{const g=Math.max(0,p.start),v=Math.min(o.count,p.start+p.count);for(let w=g,x=v;w<x;w+=3){const _=o.getX(w),S=o.getX(w+1),A=o.getX(w+2);i=dM(this,a,e,r,u,d,f,_,S,A),i&&(i.faceIndex=Math.floor(w/3),n.push(i))}}else if(c!==void 0)if(Array.isArray(a))for(let g=0,v=h.length;g<v;g++){const w=h[g],x=a[w.materialIndex],_=Math.max(w.start,p.start),S=Math.min(c.count,Math.min(w.start+w.count,p.start+p.count));for(let A=_,C=S;A<C;A+=3){const T=A,N=A+1,O=A+2;i=dM(this,x,e,r,u,d,f,T,N,O),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=w.materialIndex,n.push(i))}}else{const g=Math.max(0,p.start),v=Math.min(c.count,p.start+p.count);for(let w=g,x=v;w<x;w+=3){const _=w,S=w+1,A=w+2;i=dM(this,a,e,r,u,d,f,_,S,A),i&&(i.faceIndex=Math.floor(w/3),n.push(i))}}}}function s2e(t,e,n,r,i,s,a,o){let c;if(e.side===Ka?c=r.intersectTriangle(a,s,i,!0,o):c=r.intersectTriangle(i,s,a,e.side===pf,o),c===null)return null;uM.copy(o),uM.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(uM);return u<n.near||u>n.far?null:{distance:u,point:uM.clone(),object:t}}function dM(t,e,n,r,i,s,a,o,c,u){t.getVertexPosition(o,aM),t.getVertexPosition(c,oM),t.getVertexPosition(u,lM);const d=s2e(t,e,n,r,aM,oM,lM,VH);if(d){const f=new se;bo.getBarycoord(VH,aM,oM,lM,f),i&&(d.uv=bo.getInterpolatedAttribute(i,o,c,u,f,new tt)),s&&(d.uv1=bo.getInterpolatedAttribute(s,o,c,u,f,new tt)),a&&(d.normal=bo.getInterpolatedAttribute(a,o,c,u,f,new se),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const h={a:o,b:c,c:u,normal:new se,materialIndex:0};bo.getNormal(aM,oM,lM,h.normal),d.face=h,d.barycoord=f}return d}class _y extends Zn{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const c=[],u=[],d=[],f=[];let h=0,p=0;g("z","y","x",-1,-1,r,n,e,a,s,0),g("z","y","x",1,-1,r,n,-e,a,s,1),g("x","z","y",1,1,e,r,n,i,a,2),g("x","z","y",1,-1,e,r,-n,i,a,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(c),this.setAttribute("position",new qt(u,3)),this.setAttribute("normal",new qt(d,3)),this.setAttribute("uv",new qt(f,2));function g(v,w,x,_,S,A,C,T,N,O,U){const R=A/N,I=C/O,B=A/2,G=C/2,K=T/2,Q=N+1,q=O+1;let ie=0,V=0;const X=new se;for(let z=0;z<q;z++){const oe=z*I-G;for(let de=0;de<Q;de++){const Y=de*R-B;X[v]=Y*_,X[w]=oe*S,X[x]=K,u.push(X.x,X.y,X.z),X[v]=0,X[w]=0,X[x]=T>0?1:-1,d.push(X.x,X.y,X.z),f.push(de/N),f.push(1-z/O),ie+=1}}for(let z=0;z<O;z++)for(let oe=0;oe<N;oe++){const de=h+oe+Q*z,Y=h+oe+Q*(z+1),he=h+(oe+1)+Q*(z+1),Ce=h+(oe+1)+Q*z;c.push(de,Y,Ce),c.push(Y,he,Ce),V+=6}o.addGroup(p,V,U),p+=V,h+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _y(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function j0(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Ba(t){const e={};for(let n=0;n<t.length;n++){const r=j0(t[n]);for(const i in r)e[i]=r[i]}return e}function a2e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function vre(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:vr.workingColorSpace}const xre={clone:j0,merge:Ba};var o2e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,l2e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class tu extends Ta{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=o2e,this.fragmentShader=l2e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=j0(e.uniforms),this.uniformsGroups=a2e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class IE extends gr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new on,this.projectionMatrix=new on,this.projectionMatrixInverse=new on,this.coordinateSystem=Bu}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const vh=new se,HH=new tt,WH=new tt;class Gs extends IE{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=P0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Dg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return P0*2*Math.atan(Math.tan(Dg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){vh.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(vh.x,vh.y).multiplyScalar(-e/vh.z),vh.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(vh.x,vh.y).multiplyScalar(-e/vh.z)}getViewSize(e,n){return this.getViewBounds(e,HH,WH),n.subVectors(WH,HH)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Dg*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;s+=a.offsetX*i/c,n-=a.offsetY*r/u,i*=a.width/c,r*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Wv=-90,Gv=1;class bre extends gr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Gs(Wv,Gv,e,n);i.layers=this.layers,this.add(i);const s=new Gs(Wv,Gv,e,n);s.layers=this.layers,this.add(s);const a=new Gs(Wv,Gv,e,n);a.layers=this.layers,this.add(a);const o=new Gs(Wv,Gv,e,n);o.layers=this.layers,this.add(o);const c=new Gs(Wv,Gv,e,n);c.layers=this.layers,this.add(c);const u=new Gs(Wv,Gv,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,a,o,c]=n;for(const u of n)this.remove(u);if(e===Bu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===vS)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,c,u,d]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,c),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=v,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(f,h,p),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class LE extends Ui{constructor(e,n,r,i,s,a,o,c,u,d){e=e!==void 0?e:[],n=n!==void 0?n:mf,super(e,n,r,i,s,a,o,c,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class wre extends eu{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new LE(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ls}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new _y(5,5,5),s=new tu({name:"CubemapFromEquirect",uniforms:j0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ka,blending:Qd});s.uniforms.tEquirect.value=n;const a=new cs(i,s),o=n.minFilter;return n.minFilter===Uu&&(n.minFilter=ls),new bre(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}const nI=new se,c2e=new se,u2e=new Dn;class Nh{constructor(e=new se(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=nI.subVectors(r,n).cross(c2e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(nI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||u2e.getNormalMatrix(e),i=this.coplanarPoint(nI).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Pm=new Ea,fM=new se;class DE{constructor(e=new Nh,n=new Nh,r=new Nh,i=new Nh,s=new Nh,a=new Nh){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Bu){const r=this.planes,i=e.elements,s=i[0],a=i[1],o=i[2],c=i[3],u=i[4],d=i[5],f=i[6],h=i[7],p=i[8],g=i[9],v=i[10],w=i[11],x=i[12],_=i[13],S=i[14],A=i[15];if(r[0].setComponents(c-s,h-u,w-p,A-x).normalize(),r[1].setComponents(c+s,h+u,w+p,A+x).normalize(),r[2].setComponents(c+a,h+d,w+g,A+_).normalize(),r[3].setComponents(c-a,h-d,w-g,A-_).normalize(),r[4].setComponents(c-o,h-f,w-v,A-S).normalize(),n===Bu)r[5].setComponents(c+o,h+f,w+v,A+S).normalize();else if(n===vS)r[5].setComponents(o,f,v,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Pm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Pm.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Pm)}intersectsSprite(e){return Pm.center.set(0,0,0),Pm.radius=.7071067811865476,Pm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Pm)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(fM.x=i.normal.x>0?e.max.x:e.min.x,fM.y=i.normal.y>0?e.max.y:e.min.y,fM.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(fM)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function _re(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function d2e(t){const e=new WeakMap;function n(o,c){const u=o.array,d=o.usage,f=u.byteLength,h=t.createBuffer();t.bindBuffer(c,h),t.bufferData(c,u,d),o.onUploadCallback();let p;if(u instanceof Float32Array)p=t.FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=t.SHORT;else if(u instanceof Uint32Array)p=t.UNSIGNED_INT;else if(u instanceof Int32Array)p=t.INT;else if(u instanceof Int8Array)p=t.BYTE;else if(u instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:f}}function r(o,c,u){const d=c.array,f=c.updateRanges;if(t.bindBuffer(u,o),f.length===0)t.bufferSubData(u,0,d);else{f.sort((p,g)=>p.start-g.start);let h=0;for(let p=1;p<f.length;p++){const g=f[h],v=f[p];v.start<=g.start+g.count+1?g.count=Math.max(g.count,v.start+v.count-g.start):(++h,f[h]=v)}f.length=h+1;for(let p=0,g=f.length;p<g;p++){const v=f[p];t.bufferSubData(u,v.start*d.BYTES_PER_ELEMENT,d,v.start,v.count)}c.clearUpdateRanges()}c.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const c=e.get(o);c&&(t.deleteBuffer(c.buffer),e.delete(o))}function a(o,c){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const d=e.get(o);(!d||d.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,n(o,c));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,o,c),u.version=o.version}}return{get:i,remove:s,update:a}}class Mb extends Zn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),c=Math.floor(i),u=o+1,d=c+1,f=e/o,h=n/c,p=[],g=[],v=[],w=[];for(let x=0;x<d;x++){const _=x*h-a;for(let S=0;S<u;S++){const A=S*f-s;g.push(A,-_,0),v.push(0,0,1),w.push(S/o),w.push(1-x/c)}}for(let x=0;x<c;x++)for(let _=0;_<o;_++){const S=_+u*x,A=_+u*(x+1),C=_+1+u*(x+1),T=_+1+u*x;p.push(S,A,T),p.push(A,C,T)}this.setIndex(p),this.setAttribute("position",new qt(g,3)),this.setAttribute("normal",new qt(v,3)),this.setAttribute("uv",new qt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mb(e.width,e.height,e.widthSegments,e.heightSegments)}}var f2e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,h2e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,p2e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,m2e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,g2e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,y2e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,v2e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,x2e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,b2e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,w2e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,_2e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,S2e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,E2e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,A2e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,T2e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,M2e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,C2e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,N2e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,P2e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,j2e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,k2e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,O2e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,R2e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,I2e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,L2e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,D2e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,F2e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,U2e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,B2e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,z2e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,$2e="gl_FragColor = linearToOutputTexel( gl_FragColor );",V2e=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,H2e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,W2e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,G2e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,q2e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,X2e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,K2e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Y2e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Z2e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Q2e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,J2e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,eje=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,tje=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,nje=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,rje=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ije=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,sje=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,aje=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,oje=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lje=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,cje=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,uje=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,dje=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,fje=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,hje=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,pje=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,mje=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gje=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yje=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,vje=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,xje=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,bje=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,wje=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_je=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Sje=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Eje=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Aje=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Tje=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Mje=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Cje=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Nje=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Pje=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,jje=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,kje=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Oje=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Rje=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Ije=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Lje=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Dje=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Fje=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Uje=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Bje=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,zje=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,$je=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Vje=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Hje=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Wje=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Gje=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,qje=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Xje=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Kje=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Yje=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Zje=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Qje=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Jje=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,eke=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,tke=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,nke=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,rke=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ike=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ske=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,ake=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,oke=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,lke=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cke=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,uke=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const dke=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fke=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hke=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,pke=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mke=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gke=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yke=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,vke=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,xke=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,bke=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,wke=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,_ke=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ske=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Eke=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ake=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Tke=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mke=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Cke=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nke=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Pke=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jke=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,kke=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Oke=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Rke=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ike=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Lke=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dke=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Fke=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uke=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Bke=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,zke=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$ke=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Vke=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Hke=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Hn={alphahash_fragment:f2e,alphahash_pars_fragment:h2e,alphamap_fragment:p2e,alphamap_pars_fragment:m2e,alphatest_fragment:g2e,alphatest_pars_fragment:y2e,aomap_fragment:v2e,aomap_pars_fragment:x2e,batching_pars_vertex:b2e,batching_vertex:w2e,begin_vertex:_2e,beginnormal_vertex:S2e,bsdfs:E2e,iridescence_fragment:A2e,bumpmap_pars_fragment:T2e,clipping_planes_fragment:M2e,clipping_planes_pars_fragment:C2e,clipping_planes_pars_vertex:N2e,clipping_planes_vertex:P2e,color_fragment:j2e,color_pars_fragment:k2e,color_pars_vertex:O2e,color_vertex:R2e,common:I2e,cube_uv_reflection_fragment:L2e,defaultnormal_vertex:D2e,displacementmap_pars_vertex:F2e,displacementmap_vertex:U2e,emissivemap_fragment:B2e,emissivemap_pars_fragment:z2e,colorspace_fragment:$2e,colorspace_pars_fragment:V2e,envmap_fragment:H2e,envmap_common_pars_fragment:W2e,envmap_pars_fragment:G2e,envmap_pars_vertex:q2e,envmap_physical_pars_fragment:ije,envmap_vertex:X2e,fog_vertex:K2e,fog_pars_vertex:Y2e,fog_fragment:Z2e,fog_pars_fragment:Q2e,gradientmap_pars_fragment:J2e,lightmap_pars_fragment:eje,lights_lambert_fragment:tje,lights_lambert_pars_fragment:nje,lights_pars_begin:rje,lights_toon_fragment:sje,lights_toon_pars_fragment:aje,lights_phong_fragment:oje,lights_phong_pars_fragment:lje,lights_physical_fragment:cje,lights_physical_pars_fragment:uje,lights_fragment_begin:dje,lights_fragment_maps:fje,lights_fragment_end:hje,logdepthbuf_fragment:pje,logdepthbuf_pars_fragment:mje,logdepthbuf_pars_vertex:gje,logdepthbuf_vertex:yje,map_fragment:vje,map_pars_fragment:xje,map_particle_fragment:bje,map_particle_pars_fragment:wje,metalnessmap_fragment:_je,metalnessmap_pars_fragment:Sje,morphinstance_vertex:Eje,morphcolor_vertex:Aje,morphnormal_vertex:Tje,morphtarget_pars_vertex:Mje,morphtarget_vertex:Cje,normal_fragment_begin:Nje,normal_fragment_maps:Pje,normal_pars_fragment:jje,normal_pars_vertex:kje,normal_vertex:Oje,normalmap_pars_fragment:Rje,clearcoat_normal_fragment_begin:Ije,clearcoat_normal_fragment_maps:Lje,clearcoat_pars_fragment:Dje,iridescence_pars_fragment:Fje,opaque_fragment:Uje,packing:Bje,premultiplied_alpha_fragment:zje,project_vertex:$je,dithering_fragment:Vje,dithering_pars_fragment:Hje,roughnessmap_fragment:Wje,roughnessmap_pars_fragment:Gje,shadowmap_pars_fragment:qje,shadowmap_pars_vertex:Xje,shadowmap_vertex:Kje,shadowmask_pars_fragment:Yje,skinbase_vertex:Zje,skinning_pars_vertex:Qje,skinning_vertex:Jje,skinnormal_vertex:eke,specularmap_fragment:tke,specularmap_pars_fragment:nke,tonemapping_fragment:rke,tonemapping_pars_fragment:ike,transmission_fragment:ske,transmission_pars_fragment:ake,uv_pars_fragment:oke,uv_pars_vertex:lke,uv_vertex:cke,worldpos_vertex:uke,background_vert:dke,background_frag:fke,backgroundCube_vert:hke,backgroundCube_frag:pke,cube_vert:mke,cube_frag:gke,depth_vert:yke,depth_frag:vke,distanceRGBA_vert:xke,distanceRGBA_frag:bke,equirect_vert:wke,equirect_frag:_ke,linedashed_vert:Ske,linedashed_frag:Eke,meshbasic_vert:Ake,meshbasic_frag:Tke,meshlambert_vert:Mke,meshlambert_frag:Cke,meshmatcap_vert:Nke,meshmatcap_frag:Pke,meshnormal_vert:jke,meshnormal_frag:kke,meshphong_vert:Oke,meshphong_frag:Rke,meshphysical_vert:Ike,meshphysical_frag:Lke,meshtoon_vert:Dke,meshtoon_frag:Fke,points_vert:Uke,points_frag:Bke,shadow_vert:zke,shadow_frag:$ke,sprite_vert:Vke,sprite_frag:Hke},bt={common:{diffuse:{value:new kt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dn},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dn}},envmap:{envMap:{value:null},envMapRotation:{value:new Dn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dn},normalScale:{value:new tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new kt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new kt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0},uvTransform:{value:new Dn}},sprite:{diffuse:{value:new kt(16777215)},opacity:{value:1},center:{value:new tt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dn},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0}}},$c={basic:{uniforms:Ba([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.fog]),vertexShader:Hn.meshbasic_vert,fragmentShader:Hn.meshbasic_frag},lambert:{uniforms:Ba([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.fog,bt.lights,{emissive:{value:new kt(0)}}]),vertexShader:Hn.meshlambert_vert,fragmentShader:Hn.meshlambert_frag},phong:{uniforms:Ba([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.fog,bt.lights,{emissive:{value:new kt(0)},specular:{value:new kt(1118481)},shininess:{value:30}}]),vertexShader:Hn.meshphong_vert,fragmentShader:Hn.meshphong_frag},standard:{uniforms:Ba([bt.common,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.roughnessmap,bt.metalnessmap,bt.fog,bt.lights,{emissive:{value:new kt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Hn.meshphysical_vert,fragmentShader:Hn.meshphysical_frag},toon:{uniforms:Ba([bt.common,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.gradientmap,bt.fog,bt.lights,{emissive:{value:new kt(0)}}]),vertexShader:Hn.meshtoon_vert,fragmentShader:Hn.meshtoon_frag},matcap:{uniforms:Ba([bt.common,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.fog,{matcap:{value:null}}]),vertexShader:Hn.meshmatcap_vert,fragmentShader:Hn.meshmatcap_frag},points:{uniforms:Ba([bt.points,bt.fog]),vertexShader:Hn.points_vert,fragmentShader:Hn.points_frag},dashed:{uniforms:Ba([bt.common,bt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Hn.linedashed_vert,fragmentShader:Hn.linedashed_frag},depth:{uniforms:Ba([bt.common,bt.displacementmap]),vertexShader:Hn.depth_vert,fragmentShader:Hn.depth_frag},normal:{uniforms:Ba([bt.common,bt.bumpmap,bt.normalmap,bt.displacementmap,{opacity:{value:1}}]),vertexShader:Hn.meshnormal_vert,fragmentShader:Hn.meshnormal_frag},sprite:{uniforms:Ba([bt.sprite,bt.fog]),vertexShader:Hn.sprite_vert,fragmentShader:Hn.sprite_frag},background:{uniforms:{uvTransform:{value:new Dn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Hn.background_vert,fragmentShader:Hn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Dn}},vertexShader:Hn.backgroundCube_vert,fragmentShader:Hn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Hn.cube_vert,fragmentShader:Hn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Hn.equirect_vert,fragmentShader:Hn.equirect_frag},distanceRGBA:{uniforms:Ba([bt.common,bt.displacementmap,{referencePosition:{value:new se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Hn.distanceRGBA_vert,fragmentShader:Hn.distanceRGBA_frag},shadow:{uniforms:Ba([bt.lights,bt.fog,{color:{value:new kt(0)},opacity:{value:1}}]),vertexShader:Hn.shadow_vert,fragmentShader:Hn.shadow_frag}};$c.physical={uniforms:Ba([$c.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dn},clearcoatNormalScale:{value:new tt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dn},sheen:{value:0},sheenColor:{value:new kt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dn},transmissionSamplerSize:{value:new tt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dn},attenuationDistance:{value:0},attenuationColor:{value:new kt(0)},specularColor:{value:new kt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dn},anisotropyVector:{value:new tt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dn}}]),vertexShader:Hn.meshphysical_vert,fragmentShader:Hn.meshphysical_frag};const hM={r:0,b:0,g:0},jm=new ml,Wke=new on;function Gke(t,e,n,r,i,s,a){const o=new kt(0);let c=s===!0?0:1,u,d,f=null,h=0,p=null;function g(_){let S=_.isScene===!0?_.background:null;return S&&S.isTexture&&(S=(_.backgroundBlurriness>0?n:e).get(S)),S}function v(_){let S=!1;const A=g(_);A===null?x(o,c):A&&A.isColor&&(x(A,1),S=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,a):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||S)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function w(_,S){const A=g(S);A&&(A.isCubeTexture||A.mapping===Eb)?(d===void 0&&(d=new cs(new _y(1,1,1),new tu({name:"BackgroundCubeMaterial",uniforms:j0($c.backgroundCube.uniforms),vertexShader:$c.backgroundCube.vertexShader,fragmentShader:$c.backgroundCube.fragmentShader,side:Ka,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(C,T,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),jm.copy(S.backgroundRotation),jm.x*=-1,jm.y*=-1,jm.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(jm.y*=-1,jm.z*=-1),d.material.uniforms.envMap.value=A,d.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(Wke.makeRotationFromEuler(jm)),d.material.toneMapped=vr.getTransfer(A.colorSpace)!==Jr,(f!==A||h!==A.version||p!==t.toneMapping)&&(d.material.needsUpdate=!0,f=A,h=A.version,p=t.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null)):A&&A.isTexture&&(u===void 0&&(u=new cs(new Mb(2,2),new tu({name:"BackgroundMaterial",uniforms:j0($c.background.uniforms),vertexShader:$c.background.vertexShader,fragmentShader:$c.background.fragmentShader,side:pf,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=A,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.toneMapped=vr.getTransfer(A.colorSpace)!==Jr,A.matrixAutoUpdate===!0&&A.updateMatrix(),u.material.uniforms.uvTransform.value.copy(A.matrix),(f!==A||h!==A.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,f=A,h=A.version,p=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null))}function x(_,S){_.getRGB(hM,vre(t)),r.buffers.color.setClear(hM.r,hM.g,hM.b,S,a)}return{getClearColor:function(){return o},setClearColor:function(_,S=1){o.set(_),c=S,x(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(_){c=_,x(o,c)},render:v,addToRenderList:w}}function qke(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let s=i,a=!1;function o(R,I,B,G,K){let Q=!1;const q=f(G,B,I);s!==q&&(s=q,u(s.object)),Q=p(R,G,B,K),Q&&g(R,G,B,K),K!==null&&e.update(K,t.ELEMENT_ARRAY_BUFFER),(Q||a)&&(a=!1,A(R,I,B,G),K!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function c(){return t.createVertexArray()}function u(R){return t.bindVertexArray(R)}function d(R){return t.deleteVertexArray(R)}function f(R,I,B){const G=B.wireframe===!0;let K=r[R.id];K===void 0&&(K={},r[R.id]=K);let Q=K[I.id];Q===void 0&&(Q={},K[I.id]=Q);let q=Q[G];return q===void 0&&(q=h(c()),Q[G]=q),q}function h(R){const I=[],B=[],G=[];for(let K=0;K<n;K++)I[K]=0,B[K]=0,G[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:B,attributeDivisors:G,object:R,attributes:{},index:null}}function p(R,I,B,G){const K=s.attributes,Q=I.attributes;let q=0;const ie=B.getAttributes();for(const V in ie)if(ie[V].location>=0){const z=K[V];let oe=Q[V];if(oe===void 0&&(V==="instanceMatrix"&&R.instanceMatrix&&(oe=R.instanceMatrix),V==="instanceColor"&&R.instanceColor&&(oe=R.instanceColor)),z===void 0||z.attribute!==oe||oe&&z.data!==oe.data)return!0;q++}return s.attributesNum!==q||s.index!==G}function g(R,I,B,G){const K={},Q=I.attributes;let q=0;const ie=B.getAttributes();for(const V in ie)if(ie[V].location>=0){let z=Q[V];z===void 0&&(V==="instanceMatrix"&&R.instanceMatrix&&(z=R.instanceMatrix),V==="instanceColor"&&R.instanceColor&&(z=R.instanceColor));const oe={};oe.attribute=z,z&&z.data&&(oe.data=z.data),K[V]=oe,q++}s.attributes=K,s.attributesNum=q,s.index=G}function v(){const R=s.newAttributes;for(let I=0,B=R.length;I<B;I++)R[I]=0}function w(R){x(R,0)}function x(R,I){const B=s.newAttributes,G=s.enabledAttributes,K=s.attributeDivisors;B[R]=1,G[R]===0&&(t.enableVertexAttribArray(R),G[R]=1),K[R]!==I&&(t.vertexAttribDivisor(R,I),K[R]=I)}function _(){const R=s.newAttributes,I=s.enabledAttributes;for(let B=0,G=I.length;B<G;B++)I[B]!==R[B]&&(t.disableVertexAttribArray(B),I[B]=0)}function S(R,I,B,G,K,Q,q){q===!0?t.vertexAttribIPointer(R,I,B,K,Q):t.vertexAttribPointer(R,I,B,G,K,Q)}function A(R,I,B,G){v();const K=G.attributes,Q=B.getAttributes(),q=I.defaultAttributeValues;for(const ie in Q){const V=Q[ie];if(V.location>=0){let X=K[ie];if(X===void 0&&(ie==="instanceMatrix"&&R.instanceMatrix&&(X=R.instanceMatrix),ie==="instanceColor"&&R.instanceColor&&(X=R.instanceColor)),X!==void 0){const z=X.normalized,oe=X.itemSize,de=e.get(X);if(de===void 0)continue;const Y=de.buffer,he=de.type,Ce=de.bytesPerElement,Ie=he===t.INT||he===t.UNSIGNED_INT||X.gpuType===bj;if(X.isInterleavedBufferAttribute){const Ee=X.data,Je=Ee.stride,Ne=X.offset;if(Ee.isInstancedInterleavedBuffer){for(let Ue=0;Ue<V.locationSize;Ue++)x(V.location+Ue,Ee.meshPerAttribute);R.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let Ue=0;Ue<V.locationSize;Ue++)w(V.location+Ue);t.bindBuffer(t.ARRAY_BUFFER,Y);for(let Ue=0;Ue<V.locationSize;Ue++)S(V.location+Ue,oe/V.locationSize,he,z,Je*Ce,(Ne+oe/V.locationSize*Ue)*Ce,Ie)}else{if(X.isInstancedBufferAttribute){for(let Ee=0;Ee<V.locationSize;Ee++)x(V.location+Ee,X.meshPerAttribute);R.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let Ee=0;Ee<V.locationSize;Ee++)w(V.location+Ee);t.bindBuffer(t.ARRAY_BUFFER,Y);for(let Ee=0;Ee<V.locationSize;Ee++)S(V.location+Ee,oe/V.locationSize,he,z,oe*Ce,oe/V.locationSize*Ee*Ce,Ie)}}else if(q!==void 0){const z=q[ie];if(z!==void 0)switch(z.length){case 2:t.vertexAttrib2fv(V.location,z);break;case 3:t.vertexAttrib3fv(V.location,z);break;case 4:t.vertexAttrib4fv(V.location,z);break;default:t.vertexAttrib1fv(V.location,z)}}}}_()}function C(){O();for(const R in r){const I=r[R];for(const B in I){const G=I[B];for(const K in G)d(G[K].object),delete G[K];delete I[B]}delete r[R]}}function T(R){if(r[R.id]===void 0)return;const I=r[R.id];for(const B in I){const G=I[B];for(const K in G)d(G[K].object),delete G[K];delete I[B]}delete r[R.id]}function N(R){for(const I in r){const B=r[I];if(B[R.id]===void 0)continue;const G=B[R.id];for(const K in G)d(G[K].object),delete G[K];delete B[R.id]}}function O(){U(),a=!0,s!==i&&(s=i,u(s.object))}function U(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:O,resetDefaultState:U,dispose:C,releaseStatesOfGeometry:T,releaseStatesOfProgram:N,initAttributes:v,enableAttribute:w,disableUnusedAttributes:_}}function Xke(t,e,n){let r;function i(u){r=u}function s(u,d){t.drawArrays(r,u,d),n.update(d,r,1)}function a(u,d,f){f!==0&&(t.drawArraysInstanced(r,u,d,f),n.update(d,r,f))}function o(u,d,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,d,0,f);let p=0;for(let g=0;g<f;g++)p+=d[g];n.update(p,r,1)}function c(u,d,f,h){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<u.length;g++)a(u[g],d[g],h[g]);else{p.multiDrawArraysInstancedWEBGL(r,u,0,d,0,h,0,f);let g=0;for(let v=0;v<f;v++)g+=d[v];for(let v=0;v<h.length;v++)n.update(g,r,h[v])}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=c}function Kke(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(N){return!(N!==_a&&r.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(N){const O=N===Ab&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(N!==Jc&&r.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&N!==_o&&!O)}function c(N){if(N==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const d=c(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const f=n.logarithmicDepthBuffer===!0,h=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control");if(h===!0){const N=e.get("EXT_clip_control");N.clipControlEXT(N.LOWER_LEFT_EXT,N.ZERO_TO_ONE_EXT)}const p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),w=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),S=t.getParameter(t.MAX_VARYING_VECTORS),A=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),C=g>0,T=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:c,textureFormatReadable:a,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:f,reverseDepthBuffer:h,maxTextures:p,maxVertexTextures:g,maxTextureSize:v,maxCubemapSize:w,maxAttributes:x,maxVertexUniforms:_,maxVaryings:S,maxFragmentUniforms:A,vertexTextures:C,maxSamples:T}}function Yke(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new Nh,o=new Dn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||r!==0||i;return i=h,r=f.length,p},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){n=d(f,h,0)},this.setState=function(f,h,p){const g=f.clippingPlanes,v=f.clipIntersection,w=f.clipShadows,x=t.get(f);if(!i||g===null||g.length===0||s&&!w)s?d(null):u();else{const _=s?0:r,S=_*4;let A=x.clippingState||null;c.value=A,A=d(g,h,S,p);for(let C=0;C!==S;++C)A[C]=n[C];x.clippingState=A,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,h,p,g){const v=f!==null?f.length:0;let w=null;if(v!==0){if(w=c.value,g!==!0||w===null){const x=p+v*4,_=h.matrixWorldInverse;o.getNormalMatrix(_),(w===null||w.length<x)&&(w=new Float32Array(x));for(let S=0,A=p;S!==v;++S,A+=4)a.copy(f[S]).applyMatrix4(_,o),a.normal.toArray(w,A),w[A+3]=a.constant}c.value=w,c.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,w}}function Zke(t){let e=new WeakMap;function n(a,o){return o===lS?a.mapping=mf:o===cS&&(a.mapping=xp),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===lS||o===cS)if(e.has(a)){const c=e.get(a).texture;return n(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const u=new wre(c.height);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class FE extends IE{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,c=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=d*this.view.offsetY,c=o-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Tx=4,GH=[.125,.215,.35,.446,.526,.582],eg=20,rI=new FE,qH=new kt;let iI=null,sI=0,aI=0,oI=!1;const Gm=(1+Math.sqrt(5))/2,qv=1/Gm,XH=[new se(-Gm,qv,0),new se(Gm,qv,0),new se(-qv,0,Gm),new se(qv,0,Gm),new se(0,Gm,-qv),new se(0,Gm,qv),new se(-1,1,-1),new se(1,1,-1),new se(-1,1,1),new se(1,1,1)];class D3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){iI=this._renderer.getRenderTarget(),sI=this._renderer.getActiveCubeFace(),aI=this._renderer.getActiveMipmapLevel(),oI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ZH(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=YH(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(iI,sI,aI),this._renderer.xr.enabled=oI,e.scissorTest=!1,pM(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===mf||e.mapping===xp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),iI=this._renderer.getRenderTarget(),sI=this._renderer.getActiveCubeFace(),aI=this._renderer.getActiveMipmapLevel(),oI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ls,minFilter:ls,generateMipmaps:!1,type:Ab,format:_a,colorSpace:Sf,depthBuffer:!1},i=KH(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=KH(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Qke(s)),this._blurMaterial=Jke(s,e,n)}return i}_compileMaterial(e){const n=new cs(this._lodPlanes[0],e);this._renderer.compile(n,rI)}_sceneToCubeUV(e,n,r,i){const o=new Gs(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,h=d.toneMapping;d.getClearColor(qH),d.toneMapping=qu,d.autoClear=!1;const p=new Op({name:"PMREM.Background",side:Ka,depthWrite:!1,depthTest:!1}),g=new cs(new _y,p);let v=!1;const w=e.background;w?w.isColor&&(p.color.copy(w),e.background=null,v=!0):(p.color.copy(qH),v=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(o.up.set(0,c[x],0),o.lookAt(u[x],0,0)):_===1?(o.up.set(0,0,c[x]),o.lookAt(0,u[x],0)):(o.up.set(0,c[x],0),o.lookAt(0,0,u[x]));const S=this._cubeSize;pM(i,_*S,x>2?S:0,S,S),d.setRenderTarget(i),v&&d.render(g,o),d.render(e,o)}g.geometry.dispose(),g.material.dispose(),d.toneMapping=h,d.autoClear=f,e.background=w}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===mf||e.mapping===xp;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=ZH()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=YH());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new cs(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const c=this._cubeSize;pM(n,0,0,3*c,2*c),r.setRenderTarget(n),r.render(a,rI)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=XH[(i-s-1)%XH.length];this._blur(e,s-1,s,a,o)}n.autoClear=r}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,o){const c=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new cs(this._lodPlanes[i],u),h=u.uniforms,p=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*eg-1),v=s/g,w=isFinite(s)?1+Math.floor(d*v):eg;w>eg&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${eg}`);const x=[];let _=0;for(let N=0;N<eg;++N){const O=N/v,U=Math.exp(-O*O/2);x.push(U),N===0?_+=U:N<w&&(_+=2*U)}for(let N=0;N<x.length;N++)x[N]=x[N]/_;h.envMap.value=e.texture,h.samples.value=w,h.weights.value=x,h.latitudinal.value=a==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:S}=this;h.dTheta.value=g,h.mipInt.value=S-r;const A=this._sizeLods[i],C=3*A*(i>S-Tx?i-S+Tx:0),T=4*(this._cubeSize-A);pM(n,C,T,3*A,2*A),c.setRenderTarget(n),c.render(f,rI)}}function Qke(t){const e=[],n=[],r=[];let i=t;const s=t-Tx+1+GH.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);n.push(o);let c=1/o;a>t-Tx?c=GH[a-t+Tx-1]:a===0&&(c=0),r.push(c);const u=1/(o-2),d=-u,f=1+u,h=[d,d,f,d,f,f,d,d,f,f,d,f],p=6,g=6,v=3,w=2,x=1,_=new Float32Array(v*g*p),S=new Float32Array(w*g*p),A=new Float32Array(x*g*p);for(let T=0;T<p;T++){const N=T%3*2/3-1,O=T>2?0:-1,U=[N,O,0,N+2/3,O,0,N+2/3,O+1,0,N,O,0,N+2/3,O+1,0,N,O+1,0];_.set(U,v*g*T),S.set(h,w*g*T);const R=[T,T,T,T,T,T];A.set(R,x*g*T)}const C=new Zn;C.setAttribute("position",new Ur(_,v)),C.setAttribute("uv",new Ur(S,w)),C.setAttribute("faceIndex",new Ur(A,x)),e.push(C),i>Tx&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function KH(t,e,n){const r=new eu(t,e,n);return r.texture.mapping=Eb,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function pM(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Jke(t,e,n){const r=new Float32Array(eg),i=new se(0,1,0);return new tu({name:"SphericalGaussianBlur",defines:{n:eg,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:KB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Qd,depthTest:!1,depthWrite:!1})}function YH(){return new tu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:KB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Qd,depthTest:!1,depthWrite:!1})}function ZH(){return new tu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:KB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Qd,depthTest:!1,depthWrite:!1})}function KB(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function eOe(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const c=o.mapping,u=c===lS||c===cS,d=c===mf||c===xp;if(u||d){let f=e.get(o);const h=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==h)return n===null&&(n=new D3(t)),f=u?n.fromEquirectangular(o,f):n.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const p=o.image;return u&&p&&p.height>0||d&&p&&i(p)?(n===null&&(n=new D3(t)),f=u?n.fromEquirectangular(o):n.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",s),f.texture):null}}}return o}function i(o){let c=0;const u=6;for(let d=0;d<u;d++)o[d]!==void 0&&c++;return c===u}function s(o){const c=o.target;c.removeEventListener("dispose",s);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function tOe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&PC("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function nOe(t,e,n,r){const i={},s=new WeakMap;function a(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);for(const g in h.morphAttributes){const v=h.morphAttributes[g];for(let w=0,x=v.length;w<x;w++)e.remove(v[w])}h.removeEventListener("dispose",a),delete i[h.id];const p=s.get(h);p&&(e.remove(p),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function o(f,h){return i[h.id]===!0||(h.addEventListener("dispose",a),i[h.id]=!0,n.memory.geometries++),h}function c(f){const h=f.attributes;for(const g in h)e.update(h[g],t.ARRAY_BUFFER);const p=f.morphAttributes;for(const g in p){const v=p[g];for(let w=0,x=v.length;w<x;w++)e.update(v[w],t.ARRAY_BUFFER)}}function u(f){const h=[],p=f.index,g=f.attributes.position;let v=0;if(p!==null){const _=p.array;v=p.version;for(let S=0,A=_.length;S<A;S+=3){const C=_[S+0],T=_[S+1],N=_[S+2];h.push(C,T,T,N,N,C)}}else if(g!==void 0){const _=g.array;v=g.version;for(let S=0,A=_.length/3-1;S<A;S+=3){const C=S+0,T=S+1,N=S+2;h.push(C,T,T,N,N,C)}}else return;const w=new(hre(h)?XB:qB)(h,1);w.version=v;const x=s.get(f);x&&e.remove(x),s.set(f,w)}function d(f){const h=s.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&u(f)}else u(f);return s.get(f)}return{get:o,update:c,getWireframeAttribute:d}}function rOe(t,e,n){let r;function i(h){r=h}let s,a;function o(h){s=h.type,a=h.bytesPerElement}function c(h,p){t.drawElements(r,p,s,h*a),n.update(p,r,1)}function u(h,p,g){g!==0&&(t.drawElementsInstanced(r,p,s,h*a,g),n.update(p,r,g))}function d(h,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,s,h,0,g);let w=0;for(let x=0;x<g;x++)w+=p[x];n.update(w,r,1)}function f(h,p,g,v){if(g===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let x=0;x<h.length;x++)u(h[x]/a,p[x],v[x]);else{w.multiDrawElementsInstancedWEBGL(r,p,0,s,h,0,v,0,g);let x=0;for(let _=0;_<g;_++)x+=p[_];for(let _=0;_<v.length;_++)n.update(x,r,v[_])}}this.setMode=i,this.setIndex=o,this.render=c,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=f}function iOe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function sOe(t,e,n){const r=new WeakMap,i=new pr;function s(a,o,c){const u=a.morphTargetInfluences,d=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=d!==void 0?d.length:0;let h=r.get(o);if(h===void 0||h.count!==f){let U=function(){N.dispose(),r.delete(o),o.removeEventListener("dispose",U)};h!==void 0&&h.texture.dispose();const p=o.morphAttributes.position!==void 0,g=o.morphAttributes.normal!==void 0,v=o.morphAttributes.color!==void 0,w=o.morphAttributes.position||[],x=o.morphAttributes.normal||[],_=o.morphAttributes.color||[];let S=0;p===!0&&(S=1),g===!0&&(S=2),v===!0&&(S=3);let A=o.attributes.position.count*S,C=1;A>e.maxTextureSize&&(C=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const T=new Float32Array(A*C*4*f),N=new Cj(T,A,C,f);N.type=_o,N.needsUpdate=!0;const O=S*4;for(let R=0;R<f;R++){const I=w[R],B=x[R],G=_[R],K=A*C*4*R;for(let Q=0;Q<I.count;Q++){const q=Q*O;p===!0&&(i.fromBufferAttribute(I,Q),T[K+q+0]=i.x,T[K+q+1]=i.y,T[K+q+2]=i.z,T[K+q+3]=0),g===!0&&(i.fromBufferAttribute(B,Q),T[K+q+4]=i.x,T[K+q+5]=i.y,T[K+q+6]=i.z,T[K+q+7]=0),v===!0&&(i.fromBufferAttribute(G,Q),T[K+q+8]=i.x,T[K+q+9]=i.y,T[K+q+10]=i.z,T[K+q+11]=G.itemSize===4?i.w:1)}}h={count:f,texture:N,size:new tt(A,C)},r.set(o,h),o.addEventListener("dispose",U)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let p=0;for(let v=0;v<u.length;v++)p+=u[v];const g=o.morphTargetsRelative?1:1-p;c.getUniforms().setValue(t,"morphTargetBaseInfluence",g),c.getUniforms().setValue(t,"morphTargetInfluences",u)}c.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),c.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:s}}function aOe(t,e,n,r){let i=new WeakMap;function s(c){const u=r.render.frame,d=c.geometry,f=e.get(c,d);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",o)===!1&&c.addEventListener("dispose",o),i.get(c)!==u&&(n.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,t.ARRAY_BUFFER),i.set(c,u))),c.isSkinnedMesh){const h=c.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function a(){i=new WeakMap}function o(c){const u=c.target;u.removeEventListener("dispose",o),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:a}}class YB extends Ui{constructor(e,n,r,i,s,a,o,c,u,d=Ig){if(d!==Ig&&d!==oy)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Ig&&(r=gf),r===void 0&&d===oy&&(r=ay),super(null,i,s,a,o,c,d,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:qs,this.minFilter=c!==void 0?c:qs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const Sre=new Ui,QH=new YB(1,1),Ere=new Cj,Are=new GB,Tre=new LE,JH=[],eW=[],tW=new Float32Array(16),nW=new Float32Array(9),rW=new Float32Array(4);function Cb(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=JH[i];if(s===void 0&&(s=new Float32Array(i),JH[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function Ts(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ms(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Nj(t,e){let n=eW[e];n===void 0&&(n=new Int32Array(e),eW[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function oOe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function lOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ts(n,e))return;t.uniform2fv(this.addr,e),Ms(n,e)}}function cOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ts(n,e))return;t.uniform3fv(this.addr,e),Ms(n,e)}}function uOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ts(n,e))return;t.uniform4fv(this.addr,e),Ms(n,e)}}function dOe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ts(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ms(n,e)}else{if(Ts(n,r))return;rW.set(r),t.uniformMatrix2fv(this.addr,!1,rW),Ms(n,r)}}function fOe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ts(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ms(n,e)}else{if(Ts(n,r))return;nW.set(r),t.uniformMatrix3fv(this.addr,!1,nW),Ms(n,r)}}function hOe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ts(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ms(n,e)}else{if(Ts(n,r))return;tW.set(r),t.uniformMatrix4fv(this.addr,!1,tW),Ms(n,r)}}function pOe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function mOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ts(n,e))return;t.uniform2iv(this.addr,e),Ms(n,e)}}function gOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ts(n,e))return;t.uniform3iv(this.addr,e),Ms(n,e)}}function yOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ts(n,e))return;t.uniform4iv(this.addr,e),Ms(n,e)}}function vOe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function xOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ts(n,e))return;t.uniform2uiv(this.addr,e),Ms(n,e)}}function bOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ts(n,e))return;t.uniform3uiv(this.addr,e),Ms(n,e)}}function wOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ts(n,e))return;t.uniform4uiv(this.addr,e),Ms(n,e)}}function _Oe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(QH.compareFunction=HB,s=QH):s=Sre,n.setTexture2D(e||s,i)}function SOe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Are,i)}function EOe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Tre,i)}function AOe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Ere,i)}function TOe(t){switch(t){case 5126:return oOe;case 35664:return lOe;case 35665:return cOe;case 35666:return uOe;case 35674:return dOe;case 35675:return fOe;case 35676:return hOe;case 5124:case 35670:return pOe;case 35667:case 35671:return mOe;case 35668:case 35672:return gOe;case 35669:case 35673:return yOe;case 5125:return vOe;case 36294:return xOe;case 36295:return bOe;case 36296:return wOe;case 35678:case 36198:case 36298:case 36306:case 35682:return _Oe;case 35679:case 36299:case 36307:return SOe;case 35680:case 36300:case 36308:case 36293:return EOe;case 36289:case 36303:case 36311:case 36292:return AOe}}function MOe(t,e){t.uniform1fv(this.addr,e)}function COe(t,e){const n=Cb(e,this.size,2);t.uniform2fv(this.addr,n)}function NOe(t,e){const n=Cb(e,this.size,3);t.uniform3fv(this.addr,n)}function POe(t,e){const n=Cb(e,this.size,4);t.uniform4fv(this.addr,n)}function jOe(t,e){const n=Cb(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function kOe(t,e){const n=Cb(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function OOe(t,e){const n=Cb(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function ROe(t,e){t.uniform1iv(this.addr,e)}function IOe(t,e){t.uniform2iv(this.addr,e)}function LOe(t,e){t.uniform3iv(this.addr,e)}function DOe(t,e){t.uniform4iv(this.addr,e)}function FOe(t,e){t.uniform1uiv(this.addr,e)}function UOe(t,e){t.uniform2uiv(this.addr,e)}function BOe(t,e){t.uniform3uiv(this.addr,e)}function zOe(t,e){t.uniform4uiv(this.addr,e)}function $Oe(t,e,n){const r=this.cache,i=e.length,s=Nj(n,i);Ts(r,s)||(t.uniform1iv(this.addr,s),Ms(r,s));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||Sre,s[a])}function VOe(t,e,n){const r=this.cache,i=e.length,s=Nj(n,i);Ts(r,s)||(t.uniform1iv(this.addr,s),Ms(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||Are,s[a])}function HOe(t,e,n){const r=this.cache,i=e.length,s=Nj(n,i);Ts(r,s)||(t.uniform1iv(this.addr,s),Ms(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||Tre,s[a])}function WOe(t,e,n){const r=this.cache,i=e.length,s=Nj(n,i);Ts(r,s)||(t.uniform1iv(this.addr,s),Ms(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||Ere,s[a])}function GOe(t){switch(t){case 5126:return MOe;case 35664:return COe;case 35665:return NOe;case 35666:return POe;case 35674:return jOe;case 35675:return kOe;case 35676:return OOe;case 5124:case 35670:return ROe;case 35667:case 35671:return IOe;case 35668:case 35672:return LOe;case 35669:case 35673:return DOe;case 5125:return FOe;case 36294:return UOe;case 36295:return BOe;case 36296:return zOe;case 35678:case 36198:case 36298:case 36306:case 35682:return $Oe;case 35679:case 36299:case 36307:return VOe;case 35680:case 36300:case 36308:case 36293:return HOe;case 36289:case 36303:case 36311:case 36292:return WOe}}class qOe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=TOe(n.type)}}class XOe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=GOe(n.type)}}class KOe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,n[o.id],r)}}}const lI=/(\w+)(\])?(\[|\.)?/g;function iW(t,e){t.seq.push(e),t.map[e.id]=e}function YOe(t,e,n){const r=t.name,i=r.length;for(lI.lastIndex=0;;){const s=lI.exec(r),a=lI.lastIndex;let o=s[1];const c=s[2]==="]",u=s[3];if(c&&(o=o|0),u===void 0||u==="["&&a+2===i){iW(n,u===void 0?new qOe(o,t,e):new XOe(o,t,e));break}else{let f=n.map[o];f===void 0&&(f=new KOe(o),iW(n,f)),n=f}}}class jC{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),a=e.getUniformLocation(n,s.name);YOe(s,a,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const o=n[s],c=r[o.id];c.needsUpdate!==!1&&o.setValue(e,c.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function sW(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const ZOe=37297;let QOe=0;function JOe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return r.join(`
`)}function eRe(t){const e=vr.getPrimaries(vr.workingColorSpace),n=vr.getPrimaries(t);let r;switch(e===n?r="":e===gS&&n===mS?r="LinearDisplayP3ToLinearSRGB":e===mS&&n===gS&&(r="LinearSRGBToLinearDisplayP3"),t){case Sf:case RE:return[r,"LinearTransferOETF"];case Gl:case Mj:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function aW(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+JOe(t.getShaderSource(e),a)}else return i}function tRe(t,e){const n=eRe(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function nRe(t,e){let n;switch(e){case qne:n="Linear";break;case Xne:n="Reinhard";break;case Kne:n="Cineon";break;case kB:n="ACESFilmic";break;case Zne:n="AgX";break;case Qne:n="Neutral";break;case Yne:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const mM=new se;function rRe(){vr.getLuminanceCoefficients(mM);const t=mM.x.toFixed(4),e=mM.y.toFixed(4),n=mM.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function iRe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter($_).join(`
`)}function sRe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function aRe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function $_(t){return t!==""}function oW(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function lW(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const oRe=/^[ \t]*#include +<([\w\d./]+)>/gm;function F3(t){return t.replace(oRe,cRe)}const lRe=new Map;function cRe(t,e){let n=Hn[e];if(n===void 0){const r=lRe.get(e);if(r!==void 0)n=Hn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return F3(n)}const uRe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cW(t){return t.replace(uRe,dRe)}function dRe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function uW(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function fRe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===vj?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===a1?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Rc&&(e="SHADOWMAP_TYPE_VSM"),e}function hRe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case mf:case xp:e="ENVMAP_TYPE_CUBE";break;case Eb:e="ENVMAP_TYPE_CUBE_UV";break}return e}function pRe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case xp:e="ENVMAP_MODE_REFRACTION";break}return e}function mRe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case kE:e="ENVMAP_BLENDING_MULTIPLY";break;case Wne:e="ENVMAP_BLENDING_MIX";break;case Gne:e="ENVMAP_BLENDING_ADD";break}return e}function gRe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function yRe(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const c=fRe(n),u=hRe(n),d=pRe(n),f=mRe(n),h=gRe(n),p=iRe(n),g=sRe(s),v=i.createProgram();let w,x,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(w=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter($_).join(`
`),w.length>0&&(w+=`
`),x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter($_).join(`
`),x.length>0&&(x+=`
`)):(w=[uW(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($_).join(`
`),x=[uW(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==qu?"#define TONE_MAPPING":"",n.toneMapping!==qu?Hn.tonemapping_pars_fragment:"",n.toneMapping!==qu?nRe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Hn.colorspace_pars_fragment,tRe("linearToOutputTexel",n.outputColorSpace),rRe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter($_).join(`
`)),a=F3(a),a=oW(a,n),a=lW(a,n),o=F3(o),o=oW(o,n),o=lW(o,n),a=cW(a),o=cW(o),n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,w=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,x=["#define varying in",n.glslVersion===L3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===L3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const S=_+w+a,A=_+x+o,C=sW(i,i.VERTEX_SHADER,S),T=sW(i,i.FRAGMENT_SHADER,A);i.attachShader(v,C),i.attachShader(v,T),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);function N(I){if(t.debug.checkShaderErrors){const B=i.getProgramInfoLog(v).trim(),G=i.getShaderInfoLog(C).trim(),K=i.getShaderInfoLog(T).trim();let Q=!0,q=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(Q=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,v,C,T);else{const ie=aW(i,C,"vertex"),V=aW(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+B+`
`+ie+`
`+V)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(G===""||K==="")&&(q=!1);q&&(I.diagnostics={runnable:Q,programLog:B,vertexShader:{log:G,prefix:w},fragmentShader:{log:K,prefix:x}})}i.deleteShader(C),i.deleteShader(T),O=new jC(i,v),U=aRe(i,v)}let O;this.getUniforms=function(){return O===void 0&&N(this),O};let U;this.getAttributes=function(){return U===void 0&&N(this),U};let R=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=i.getProgramParameter(v,ZOe)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=QOe++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=C,this.fragmentShader=T,this}let vRe=0;class xRe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new bRe(e),n.set(e,r)),r}}class bRe{constructor(e){this.id=vRe++,this.code=e,this.usedTimes=0}}function wRe(t,e,n,r,i,s,a){const o=new Fg,c=new xRe,u=new Set,d=[],f=i.logarithmicDepthBuffer,h=i.reverseDepthBuffer,p=i.vertexTextures;let g=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(R){return u.add(R),R===0?"uv":`uv${R}`}function x(R,I,B,G,K){const Q=G.fog,q=K.geometry,ie=R.isMeshStandardMaterial?G.environment:null,V=(R.isMeshStandardMaterial?n:e).get(R.envMap||ie),X=V&&V.mapping===Eb?V.image.height:null,z=v[R.type];R.precision!==null&&(g=i.getMaxPrecision(R.precision),g!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",g,"instead."));const oe=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,de=oe!==void 0?oe.length:0;let Y=0;q.morphAttributes.position!==void 0&&(Y=1),q.morphAttributes.normal!==void 0&&(Y=2),q.morphAttributes.color!==void 0&&(Y=3);let he,Ce,Ie,Ee;if(z){const _r=$c[z];he=_r.vertexShader,Ce=_r.fragmentShader}else he=R.vertexShader,Ce=R.fragmentShader,c.update(R),Ie=c.getVertexShaderID(R),Ee=c.getFragmentShaderID(R);const Je=t.getRenderTarget(),Ne=K.isInstancedMesh===!0,Ue=K.isBatchedMesh===!0,Fe=!!R.map,le=!!R.matcap,J=!!V,Le=!!R.aoMap,qe=!!R.lightMap,We=!!R.bumpMap,Ke=!!R.normalMap,yt=!!R.displacementMap,ct=!!R.emissiveMap,$=!!R.metalnessMap,F=!!R.roughnessMap,re=R.anisotropy>0,ye=R.clearcoat>0,be=R.dispersion>0,pe=R.iridescence>0,ce=R.sheen>0,xe=R.transmission>0,ke=re&&!!R.anisotropyMap,ut=ye&&!!R.clearcoatMap,$e=ye&&!!R.clearcoatNormalMap,st=ye&&!!R.clearcoatRoughnessMap,Ut=pe&&!!R.iridescenceMap,Pt=pe&&!!R.iridescenceThicknessMap,mt=ce&&!!R.sheenColorMap,ln=ce&&!!R.sheenRoughnessMap,Tt=!!R.specularMap,Cn=!!R.specularColorMap,ve=!!R.specularIntensityMap,_t=xe&&!!R.transmissionMap,Be=xe&&!!R.thicknessMap,et=!!R.gradientMap,vt=!!R.alphaMap,gt=R.alphaTest>0,qn=!!R.alphaHash,jt=!!R.extensions;let yn=qu;R.toneMapped&&(Je===null||Je.isXRRenderTarget===!0)&&(yn=t.toneMapping);const zt={shaderID:z,shaderType:R.type,shaderName:R.name,vertexShader:he,fragmentShader:Ce,defines:R.defines,customVertexShaderID:Ie,customFragmentShaderID:Ee,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:g,batching:Ue,batchingColor:Ue&&K._colorsTexture!==null,instancing:Ne,instancingColor:Ne&&K.instanceColor!==null,instancingMorph:Ne&&K.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:Je===null?t.outputColorSpace:Je.isXRRenderTarget===!0?Je.texture.colorSpace:Sf,alphaToCoverage:!!R.alphaToCoverage,map:Fe,matcap:le,envMap:J,envMapMode:J&&V.mapping,envMapCubeUVHeight:X,aoMap:Le,lightMap:qe,bumpMap:We,normalMap:Ke,displacementMap:p&&yt,emissiveMap:ct,normalMapObjectSpace:Ke&&R.normalMapType===sre,normalMapTangentSpace:Ke&&R.normalMapType===kp,metalnessMap:$,roughnessMap:F,anisotropy:re,anisotropyMap:ke,clearcoat:ye,clearcoatMap:ut,clearcoatNormalMap:$e,clearcoatRoughnessMap:st,dispersion:be,iridescence:pe,iridescenceMap:Ut,iridescenceThicknessMap:Pt,sheen:ce,sheenColorMap:mt,sheenRoughnessMap:ln,specularMap:Tt,specularColorMap:Cn,specularIntensityMap:ve,transmission:xe,transmissionMap:_t,thicknessMap:Be,gradientMap:et,opaque:R.transparent===!1&&R.blending===Rg&&R.alphaToCoverage===!1,alphaMap:vt,alphaTest:gt,alphaHash:qn,combine:R.combine,mapUv:Fe&&w(R.map.channel),aoMapUv:Le&&w(R.aoMap.channel),lightMapUv:qe&&w(R.lightMap.channel),bumpMapUv:We&&w(R.bumpMap.channel),normalMapUv:Ke&&w(R.normalMap.channel),displacementMapUv:yt&&w(R.displacementMap.channel),emissiveMapUv:ct&&w(R.emissiveMap.channel),metalnessMapUv:$&&w(R.metalnessMap.channel),roughnessMapUv:F&&w(R.roughnessMap.channel),anisotropyMapUv:ke&&w(R.anisotropyMap.channel),clearcoatMapUv:ut&&w(R.clearcoatMap.channel),clearcoatNormalMapUv:$e&&w(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&w(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Ut&&w(R.iridescenceMap.channel),iridescenceThicknessMapUv:Pt&&w(R.iridescenceThicknessMap.channel),sheenColorMapUv:mt&&w(R.sheenColorMap.channel),sheenRoughnessMapUv:ln&&w(R.sheenRoughnessMap.channel),specularMapUv:Tt&&w(R.specularMap.channel),specularColorMapUv:Cn&&w(R.specularColorMap.channel),specularIntensityMapUv:ve&&w(R.specularIntensityMap.channel),transmissionMapUv:_t&&w(R.transmissionMap.channel),thicknessMapUv:Be&&w(R.thicknessMap.channel),alphaMapUv:vt&&w(R.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&(Ke||re),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,pointsUvs:K.isPoints===!0&&!!q.attributes.uv&&(Fe||vt),fog:!!Q,useFog:R.fog===!0,fogExp2:!!Q&&Q.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:h,skinning:K.isSkinnedMesh===!0,morphTargets:q.morphAttributes.position!==void 0,morphNormals:q.morphAttributes.normal!==void 0,morphColors:q.morphAttributes.color!==void 0,morphTargetsCount:de,morphTextureStride:Y,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:yn,decodeVideoTexture:Fe&&R.map.isVideoTexture===!0&&vr.getTransfer(R.map.colorSpace)===Jr,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===Iu,flipSided:R.side===Ka,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:jt&&R.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(jt&&R.extensions.multiDraw===!0||Ue)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return zt.vertexUv1s=u.has(1),zt.vertexUv2s=u.has(2),zt.vertexUv3s=u.has(3),u.clear(),zt}function _(R){const I=[];if(R.shaderID?I.push(R.shaderID):(I.push(R.customVertexShaderID),I.push(R.customFragmentShaderID)),R.defines!==void 0)for(const B in R.defines)I.push(B),I.push(R.defines[B]);return R.isRawShaderMaterial===!1&&(S(I,R),A(I,R),I.push(t.outputColorSpace)),I.push(R.customProgramCacheKey),I.join()}function S(R,I){R.push(I.precision),R.push(I.outputColorSpace),R.push(I.envMapMode),R.push(I.envMapCubeUVHeight),R.push(I.mapUv),R.push(I.alphaMapUv),R.push(I.lightMapUv),R.push(I.aoMapUv),R.push(I.bumpMapUv),R.push(I.normalMapUv),R.push(I.displacementMapUv),R.push(I.emissiveMapUv),R.push(I.metalnessMapUv),R.push(I.roughnessMapUv),R.push(I.anisotropyMapUv),R.push(I.clearcoatMapUv),R.push(I.clearcoatNormalMapUv),R.push(I.clearcoatRoughnessMapUv),R.push(I.iridescenceMapUv),R.push(I.iridescenceThicknessMapUv),R.push(I.sheenColorMapUv),R.push(I.sheenRoughnessMapUv),R.push(I.specularMapUv),R.push(I.specularColorMapUv),R.push(I.specularIntensityMapUv),R.push(I.transmissionMapUv),R.push(I.thicknessMapUv),R.push(I.combine),R.push(I.fogExp2),R.push(I.sizeAttenuation),R.push(I.morphTargetsCount),R.push(I.morphAttributeCount),R.push(I.numDirLights),R.push(I.numPointLights),R.push(I.numSpotLights),R.push(I.numSpotLightMaps),R.push(I.numHemiLights),R.push(I.numRectAreaLights),R.push(I.numDirLightShadows),R.push(I.numPointLightShadows),R.push(I.numSpotLightShadows),R.push(I.numSpotLightShadowsWithMaps),R.push(I.numLightProbes),R.push(I.shadowMapType),R.push(I.toneMapping),R.push(I.numClippingPlanes),R.push(I.numClipIntersection),R.push(I.depthPacking)}function A(R,I){o.disableAll(),I.supportsVertexTextures&&o.enable(0),I.instancing&&o.enable(1),I.instancingColor&&o.enable(2),I.instancingMorph&&o.enable(3),I.matcap&&o.enable(4),I.envMap&&o.enable(5),I.normalMapObjectSpace&&o.enable(6),I.normalMapTangentSpace&&o.enable(7),I.clearcoat&&o.enable(8),I.iridescence&&o.enable(9),I.alphaTest&&o.enable(10),I.vertexColors&&o.enable(11),I.vertexAlphas&&o.enable(12),I.vertexUv1s&&o.enable(13),I.vertexUv2s&&o.enable(14),I.vertexUv3s&&o.enable(15),I.vertexTangents&&o.enable(16),I.anisotropy&&o.enable(17),I.alphaHash&&o.enable(18),I.batching&&o.enable(19),I.dispersion&&o.enable(20),I.batchingColor&&o.enable(21),R.push(o.mask),o.disableAll(),I.fog&&o.enable(0),I.useFog&&o.enable(1),I.flatShading&&o.enable(2),I.logarithmicDepthBuffer&&o.enable(3),I.reverseDepthBuffer&&o.enable(4),I.skinning&&o.enable(5),I.morphTargets&&o.enable(6),I.morphNormals&&o.enable(7),I.morphColors&&o.enable(8),I.premultipliedAlpha&&o.enable(9),I.shadowMapEnabled&&o.enable(10),I.doubleSided&&o.enable(11),I.flipSided&&o.enable(12),I.useDepthPacking&&o.enable(13),I.dithering&&o.enable(14),I.transmission&&o.enable(15),I.sheen&&o.enable(16),I.opaque&&o.enable(17),I.pointsUvs&&o.enable(18),I.decodeVideoTexture&&o.enable(19),I.alphaToCoverage&&o.enable(20),R.push(o.mask)}function C(R){const I=v[R.type];let B;if(I){const G=$c[I];B=xre.clone(G.uniforms)}else B=R.uniforms;return B}function T(R,I){let B;for(let G=0,K=d.length;G<K;G++){const Q=d[G];if(Q.cacheKey===I){B=Q,++B.usedTimes;break}}return B===void 0&&(B=new yRe(t,I,R,s),d.push(B)),B}function N(R){if(--R.usedTimes===0){const I=d.indexOf(R);d[I]=d[d.length-1],d.pop(),R.destroy()}}function O(R){c.remove(R)}function U(){c.dispose()}return{getParameters:x,getProgramCacheKey:_,getUniforms:C,acquireProgram:T,releaseProgram:N,releaseShaderCache:O,programs:d,dispose:U}}function _Re(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function r(a){t.delete(a)}function i(a,o,c){t.get(a)[o]=c}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function SRe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function dW(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function fW(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(f,h,p,g,v,w){let x=t[e];return x===void 0?(x={id:f.id,object:f,geometry:h,material:p,groupOrder:g,renderOrder:f.renderOrder,z:v,group:w},t[e]=x):(x.id=f.id,x.object=f,x.geometry=h,x.material=p,x.groupOrder=g,x.renderOrder=f.renderOrder,x.z=v,x.group=w),e++,x}function o(f,h,p,g,v,w){const x=a(f,h,p,g,v,w);p.transmission>0?r.push(x):p.transparent===!0?i.push(x):n.push(x)}function c(f,h,p,g,v,w){const x=a(f,h,p,g,v,w);p.transmission>0?r.unshift(x):p.transparent===!0?i.unshift(x):n.unshift(x)}function u(f,h){n.length>1&&n.sort(f||SRe),r.length>1&&r.sort(h||dW),i.length>1&&i.sort(h||dW)}function d(){for(let f=e,h=t.length;f<h;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:o,unshift:c,finish:d,sort:u}}function ERe(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new fW,t.set(r,[a])):i>=s.length?(a=new fW,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function ARe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new se,color:new kt};break;case"SpotLight":n={position:new se,direction:new se,color:new kt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new se,color:new kt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new se,skyColor:new kt,groundColor:new kt};break;case"RectAreaLight":n={color:new kt,position:new se,halfWidth:new se,halfHeight:new se};break}return t[e.id]=n,n}}}function TRe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let MRe=0;function CRe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function NRe(t){const e=new ARe,n=TRe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new se);const i=new se,s=new on,a=new on;function o(u){let d=0,f=0,h=0;for(let U=0;U<9;U++)r.probe[U].set(0,0,0);let p=0,g=0,v=0,w=0,x=0,_=0,S=0,A=0,C=0,T=0,N=0;u.sort(CRe);for(let U=0,R=u.length;U<R;U++){const I=u[U],B=I.color,G=I.intensity,K=I.distance,Q=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)d+=B.r*G,f+=B.g*G,h+=B.b*G;else if(I.isLightProbe){for(let q=0;q<9;q++)r.probe[q].addScaledVector(I.sh.coefficients[q],G);N++}else if(I.isDirectionalLight){const q=e.get(I);if(q.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const ie=I.shadow,V=n.get(I);V.shadowIntensity=ie.intensity,V.shadowBias=ie.bias,V.shadowNormalBias=ie.normalBias,V.shadowRadius=ie.radius,V.shadowMapSize=ie.mapSize,r.directionalShadow[p]=V,r.directionalShadowMap[p]=Q,r.directionalShadowMatrix[p]=I.shadow.matrix,_++}r.directional[p]=q,p++}else if(I.isSpotLight){const q=e.get(I);q.position.setFromMatrixPosition(I.matrixWorld),q.color.copy(B).multiplyScalar(G),q.distance=K,q.coneCos=Math.cos(I.angle),q.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),q.decay=I.decay,r.spot[v]=q;const ie=I.shadow;if(I.map&&(r.spotLightMap[C]=I.map,C++,ie.updateMatrices(I),I.castShadow&&T++),r.spotLightMatrix[v]=ie.matrix,I.castShadow){const V=n.get(I);V.shadowIntensity=ie.intensity,V.shadowBias=ie.bias,V.shadowNormalBias=ie.normalBias,V.shadowRadius=ie.radius,V.shadowMapSize=ie.mapSize,r.spotShadow[v]=V,r.spotShadowMap[v]=Q,A++}v++}else if(I.isRectAreaLight){const q=e.get(I);q.color.copy(B).multiplyScalar(G),q.halfWidth.set(I.width*.5,0,0),q.halfHeight.set(0,I.height*.5,0),r.rectArea[w]=q,w++}else if(I.isPointLight){const q=e.get(I);if(q.color.copy(I.color).multiplyScalar(I.intensity),q.distance=I.distance,q.decay=I.decay,I.castShadow){const ie=I.shadow,V=n.get(I);V.shadowIntensity=ie.intensity,V.shadowBias=ie.bias,V.shadowNormalBias=ie.normalBias,V.shadowRadius=ie.radius,V.shadowMapSize=ie.mapSize,V.shadowCameraNear=ie.camera.near,V.shadowCameraFar=ie.camera.far,r.pointShadow[g]=V,r.pointShadowMap[g]=Q,r.pointShadowMatrix[g]=I.shadow.matrix,S++}r.point[g]=q,g++}else if(I.isHemisphereLight){const q=e.get(I);q.skyColor.copy(I.color).multiplyScalar(G),q.groundColor.copy(I.groundColor).multiplyScalar(G),r.hemi[x]=q,x++}}w>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=bt.LTC_FLOAT_1,r.rectAreaLTC2=bt.LTC_FLOAT_2):(r.rectAreaLTC1=bt.LTC_HALF_1,r.rectAreaLTC2=bt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=h;const O=r.hash;(O.directionalLength!==p||O.pointLength!==g||O.spotLength!==v||O.rectAreaLength!==w||O.hemiLength!==x||O.numDirectionalShadows!==_||O.numPointShadows!==S||O.numSpotShadows!==A||O.numSpotMaps!==C||O.numLightProbes!==N)&&(r.directional.length=p,r.spot.length=v,r.rectArea.length=w,r.point.length=g,r.hemi.length=x,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=S,r.spotLightMatrix.length=A+C-T,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=T,r.numLightProbes=N,O.directionalLength=p,O.pointLength=g,O.spotLength=v,O.rectAreaLength=w,O.hemiLength=x,O.numDirectionalShadows=_,O.numPointShadows=S,O.numSpotShadows=A,O.numSpotMaps=C,O.numLightProbes=N,r.version=MRe++)}function c(u,d){let f=0,h=0,p=0,g=0,v=0;const w=d.matrixWorldInverse;for(let x=0,_=u.length;x<_;x++){const S=u[x];if(S.isDirectionalLight){const A=r.directional[f];A.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(w),f++}else if(S.isSpotLight){const A=r.spot[p];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(w),A.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(w),p++}else if(S.isRectAreaLight){const A=r.rectArea[g];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(w),a.identity(),s.copy(S.matrixWorld),s.premultiply(w),a.extractRotation(s),A.halfWidth.set(S.width*.5,0,0),A.halfHeight.set(0,S.height*.5,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),g++}else if(S.isPointLight){const A=r.point[h];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(w),h++}else if(S.isHemisphereLight){const A=r.hemi[v];A.direction.setFromMatrixPosition(S.matrixWorld),A.direction.transformDirection(w),v++}}}return{setup:o,setupView:c,state:r}}function hW(t){const e=new NRe(t),n=[],r=[];function i(d){u.camera=d,n.length=0,r.length=0}function s(d){n.push(d)}function a(d){r.push(d)}function o(){e.setup(n)}function c(d){e.setupView(n,d)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:o,setupLightsView:c,pushLight:s,pushShadow:a}}function PRe(t){let e=new WeakMap;function n(i,s=0){const a=e.get(i);let o;return a===void 0?(o=new hW(t),e.set(i,[o])):s>=a.length?(o=new hW(t),a.push(o)):o=a[s],o}function r(){e=new WeakMap}return{get:n,dispose:r}}class ZB extends Ta{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=rre,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class QB extends Ta{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const jRe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,kRe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function ORe(t,e,n){let r=new DE;const i=new tt,s=new tt,a=new pr,o=new ZB({depthPacking:ire}),c=new QB,u={},d=n.maxTextureSize,f={[pf]:Ka,[Ka]:pf,[Iu]:Iu},h=new tu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new tt},radius:{value:4}},vertexShader:jRe,fragmentShader:kRe}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const g=new Zn;g.setAttribute("position",new Ur(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new cs(g,h),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vj;let x=this.type;this.render=function(T,N,O){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||T.length===0)return;const U=t.getRenderTarget(),R=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),B=t.state;B.setBlending(Qd),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);const G=x!==Rc&&this.type===Rc,K=x===Rc&&this.type!==Rc;for(let Q=0,q=T.length;Q<q;Q++){const ie=T[Q],V=ie.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;i.copy(V.mapSize);const X=V.getFrameExtents();if(i.multiply(X),s.copy(V.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/X.x),i.x=s.x*X.x,V.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/X.y),i.y=s.y*X.y,V.mapSize.y=s.y)),V.map===null||G===!0||K===!0){const oe=this.type!==Rc?{minFilter:qs,magFilter:qs}:{};V.map!==null&&V.map.dispose(),V.map=new eu(i.x,i.y,oe),V.map.texture.name=ie.name+".shadowMap",V.camera.updateProjectionMatrix()}t.setRenderTarget(V.map),t.clear();const z=V.getViewportCount();for(let oe=0;oe<z;oe++){const de=V.getViewport(oe);a.set(s.x*de.x,s.y*de.y,s.x*de.z,s.y*de.w),B.viewport(a),V.updateMatrices(ie,oe),r=V.getFrustum(),A(N,O,V.camera,ie,this.type)}V.isPointLightShadow!==!0&&this.type===Rc&&_(V,O),V.needsUpdate=!1}x=this.type,w.needsUpdate=!1,t.setRenderTarget(U,R,I)};function _(T,N){const O=e.update(v);h.defines.VSM_SAMPLES!==T.blurSamples&&(h.defines.VSM_SAMPLES=T.blurSamples,p.defines.VSM_SAMPLES=T.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new eu(i.x,i.y)),h.uniforms.shadow_pass.value=T.map.texture,h.uniforms.resolution.value=T.mapSize,h.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(N,null,O,h,v,null),p.uniforms.shadow_pass.value=T.mapPass.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(N,null,O,p,v,null)}function S(T,N,O,U){let R=null;const I=O.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(I!==void 0)R=I;else if(R=O.isPointLight===!0?c:o,t.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0){const B=R.uuid,G=N.uuid;let K=u[B];K===void 0&&(K={},u[B]=K);let Q=K[G];Q===void 0&&(Q=R.clone(),K[G]=Q,N.addEventListener("dispose",C)),R=Q}if(R.visible=N.visible,R.wireframe=N.wireframe,U===Rc?R.side=N.shadowSide!==null?N.shadowSide:N.side:R.side=N.shadowSide!==null?N.shadowSide:f[N.side],R.alphaMap=N.alphaMap,R.alphaTest=N.alphaTest,R.map=N.map,R.clipShadows=N.clipShadows,R.clippingPlanes=N.clippingPlanes,R.clipIntersection=N.clipIntersection,R.displacementMap=N.displacementMap,R.displacementScale=N.displacementScale,R.displacementBias=N.displacementBias,R.wireframeLinewidth=N.wireframeLinewidth,R.linewidth=N.linewidth,O.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const B=t.properties.get(R);B.light=O}return R}function A(T,N,O,U,R){if(T.visible===!1)return;if(T.layers.test(N.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&R===Rc)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,T.matrixWorld);const G=e.update(T),K=T.material;if(Array.isArray(K)){const Q=G.groups;for(let q=0,ie=Q.length;q<ie;q++){const V=Q[q],X=K[V.materialIndex];if(X&&X.visible){const z=S(T,X,U,R);T.onBeforeShadow(t,T,N,O,G,z,V),t.renderBufferDirect(O,null,G,z,T,V),T.onAfterShadow(t,T,N,O,G,z,V)}}}else if(K.visible){const Q=S(T,K,U,R);T.onBeforeShadow(t,T,N,O,G,Q,null),t.renderBufferDirect(O,null,G,Q,T,null),T.onAfterShadow(t,T,N,O,G,Q,null)}}const B=T.children;for(let G=0,K=B.length;G<K;G++)A(B[G],N,O,U,R)}function C(T){T.target.removeEventListener("dispose",C);for(const O in u){const U=u[O],R=T.target.uuid;R in U&&(U[R].dispose(),delete U[R])}}}const RRe={[IN]:LN,[DN]:BN,[FN]:zN,[sy]:UN,[LN]:IN,[BN]:DN,[zN]:FN,[UN]:sy};function IRe(t){function e(){let ve=!1;const _t=new pr;let Be=null;const et=new pr(0,0,0,0);return{setMask:function(vt){Be!==vt&&!ve&&(t.colorMask(vt,vt,vt,vt),Be=vt)},setLocked:function(vt){ve=vt},setClear:function(vt,gt,qn,jt,yn){yn===!0&&(vt*=jt,gt*=jt,qn*=jt),_t.set(vt,gt,qn,jt),et.equals(_t)===!1&&(t.clearColor(vt,gt,qn,jt),et.copy(_t))},reset:function(){ve=!1,Be=null,et.set(-1,0,0,0)}}}function n(){let ve=!1,_t=!1,Be=null,et=null,vt=null;return{setReversed:function(gt){_t=gt},setTest:function(gt){gt?Ie(t.DEPTH_TEST):Ee(t.DEPTH_TEST)},setMask:function(gt){Be!==gt&&!ve&&(t.depthMask(gt),Be=gt)},setFunc:function(gt){if(_t&&(gt=RRe[gt]),et!==gt){switch(gt){case IN:t.depthFunc(t.NEVER);break;case LN:t.depthFunc(t.ALWAYS);break;case DN:t.depthFunc(t.LESS);break;case sy:t.depthFunc(t.LEQUAL);break;case FN:t.depthFunc(t.EQUAL);break;case UN:t.depthFunc(t.GEQUAL);break;case BN:t.depthFunc(t.GREATER);break;case zN:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}et=gt}},setLocked:function(gt){ve=gt},setClear:function(gt){vt!==gt&&(t.clearDepth(gt),vt=gt)},reset:function(){ve=!1,Be=null,et=null,vt=null}}}function r(){let ve=!1,_t=null,Be=null,et=null,vt=null,gt=null,qn=null,jt=null,yn=null;return{setTest:function(zt){ve||(zt?Ie(t.STENCIL_TEST):Ee(t.STENCIL_TEST))},setMask:function(zt){_t!==zt&&!ve&&(t.stencilMask(zt),_t=zt)},setFunc:function(zt,_r,Kr){(Be!==zt||et!==_r||vt!==Kr)&&(t.stencilFunc(zt,_r,Kr),Be=zt,et=_r,vt=Kr)},setOp:function(zt,_r,Kr){(gt!==zt||qn!==_r||jt!==Kr)&&(t.stencilOp(zt,_r,Kr),gt=zt,qn=_r,jt=Kr)},setLocked:function(zt){ve=zt},setClear:function(zt){yn!==zt&&(t.clearStencil(zt),yn=zt)},reset:function(){ve=!1,_t=null,Be=null,et=null,vt=null,gt=null,qn=null,jt=null,yn=null}}}const i=new e,s=new n,a=new r,o=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],p=null,g=!1,v=null,w=null,x=null,_=null,S=null,A=null,C=null,T=new kt(0,0,0),N=0,O=!1,U=null,R=null,I=null,B=null,G=null;const K=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Q=!1,q=0;const ie=t.getParameter(t.VERSION);ie.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(ie)[1]),Q=q>=1):ie.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(ie)[1]),Q=q>=2);let V=null,X={};const z=t.getParameter(t.SCISSOR_BOX),oe=t.getParameter(t.VIEWPORT),de=new pr().fromArray(z),Y=new pr().fromArray(oe);function he(ve,_t,Be,et){const vt=new Uint8Array(4),gt=t.createTexture();t.bindTexture(ve,gt),t.texParameteri(ve,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ve,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let qn=0;qn<Be;qn++)ve===t.TEXTURE_3D||ve===t.TEXTURE_2D_ARRAY?t.texImage3D(_t,0,t.RGBA,1,1,et,0,t.RGBA,t.UNSIGNED_BYTE,vt):t.texImage2D(_t+qn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,vt);return gt}const Ce={};Ce[t.TEXTURE_2D]=he(t.TEXTURE_2D,t.TEXTURE_2D,1),Ce[t.TEXTURE_CUBE_MAP]=he(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ce[t.TEXTURE_2D_ARRAY]=he(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Ce[t.TEXTURE_3D]=he(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),s.setClear(1),a.setClear(0),Ie(t.DEPTH_TEST),s.setFunc(sy),qe(!1),We(P3),Ie(t.CULL_FACE),J(Qd);function Ie(ve){u[ve]!==!0&&(t.enable(ve),u[ve]=!0)}function Ee(ve){u[ve]!==!1&&(t.disable(ve),u[ve]=!1)}function Je(ve,_t){return d[ve]!==_t?(t.bindFramebuffer(ve,_t),d[ve]=_t,ve===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=_t),ve===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=_t),!0):!1}function Ne(ve,_t){let Be=h,et=!1;if(ve){Be=f.get(_t),Be===void 0&&(Be=[],f.set(_t,Be));const vt=ve.textures;if(Be.length!==vt.length||Be[0]!==t.COLOR_ATTACHMENT0){for(let gt=0,qn=vt.length;gt<qn;gt++)Be[gt]=t.COLOR_ATTACHMENT0+gt;Be.length=vt.length,et=!0}}else Be[0]!==t.BACK&&(Be[0]=t.BACK,et=!0);et&&t.drawBuffers(Be)}function Ue(ve){return p!==ve?(t.useProgram(ve),p=ve,!0):!1}const Fe={[Ih]:t.FUNC_ADD,[Cne]:t.FUNC_SUBTRACT,[Nne]:t.FUNC_REVERSE_SUBTRACT};Fe[Pne]=t.MIN,Fe[jne]=t.MAX;const le={[kne]:t.ZERO,[One]:t.ONE,[Rne]:t.SRC_COLOR,[ON]:t.SRC_ALPHA,[Bne]:t.SRC_ALPHA_SATURATE,[Fne]:t.DST_COLOR,[Lne]:t.DST_ALPHA,[Ine]:t.ONE_MINUS_SRC_COLOR,[RN]:t.ONE_MINUS_SRC_ALPHA,[Une]:t.ONE_MINUS_DST_COLOR,[Dne]:t.ONE_MINUS_DST_ALPHA,[zne]:t.CONSTANT_COLOR,[$ne]:t.ONE_MINUS_CONSTANT_COLOR,[Vne]:t.CONSTANT_ALPHA,[Hne]:t.ONE_MINUS_CONSTANT_ALPHA};function J(ve,_t,Be,et,vt,gt,qn,jt,yn,zt){if(ve===Qd){g===!0&&(Ee(t.BLEND),g=!1);return}if(g===!1&&(Ie(t.BLEND),g=!0),ve!==Mne){if(ve!==v||zt!==O){if((w!==Ih||S!==Ih)&&(t.blendEquation(t.FUNC_ADD),w=Ih,S=Ih),zt)switch(ve){case Rg:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case j3:t.blendFunc(t.ONE,t.ONE);break;case k3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case O3:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}else switch(ve){case Rg:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case j3:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case k3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case O3:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}x=null,_=null,A=null,C=null,T.set(0,0,0),N=0,v=ve,O=zt}return}vt=vt||_t,gt=gt||Be,qn=qn||et,(_t!==w||vt!==S)&&(t.blendEquationSeparate(Fe[_t],Fe[vt]),w=_t,S=vt),(Be!==x||et!==_||gt!==A||qn!==C)&&(t.blendFuncSeparate(le[Be],le[et],le[gt],le[qn]),x=Be,_=et,A=gt,C=qn),(jt.equals(T)===!1||yn!==N)&&(t.blendColor(jt.r,jt.g,jt.b,yn),T.copy(jt),N=yn),v=ve,O=!1}function Le(ve,_t){ve.side===Iu?Ee(t.CULL_FACE):Ie(t.CULL_FACE);let Be=ve.side===Ka;_t&&(Be=!Be),qe(Be),ve.blending===Rg&&ve.transparent===!1?J(Qd):J(ve.blending,ve.blendEquation,ve.blendSrc,ve.blendDst,ve.blendEquationAlpha,ve.blendSrcAlpha,ve.blendDstAlpha,ve.blendColor,ve.blendAlpha,ve.premultipliedAlpha),s.setFunc(ve.depthFunc),s.setTest(ve.depthTest),s.setMask(ve.depthWrite),i.setMask(ve.colorWrite);const et=ve.stencilWrite;a.setTest(et),et&&(a.setMask(ve.stencilWriteMask),a.setFunc(ve.stencilFunc,ve.stencilRef,ve.stencilFuncMask),a.setOp(ve.stencilFail,ve.stencilZFail,ve.stencilZPass)),yt(ve.polygonOffset,ve.polygonOffsetFactor,ve.polygonOffsetUnits),ve.alphaToCoverage===!0?Ie(t.SAMPLE_ALPHA_TO_COVERAGE):Ee(t.SAMPLE_ALPHA_TO_COVERAGE)}function qe(ve){U!==ve&&(ve?t.frontFace(t.CW):t.frontFace(t.CCW),U=ve)}function We(ve){ve!==Ene?(Ie(t.CULL_FACE),ve!==R&&(ve===P3?t.cullFace(t.BACK):ve===Ane?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ee(t.CULL_FACE),R=ve}function Ke(ve){ve!==I&&(Q&&t.lineWidth(ve),I=ve)}function yt(ve,_t,Be){ve?(Ie(t.POLYGON_OFFSET_FILL),(B!==_t||G!==Be)&&(t.polygonOffset(_t,Be),B=_t,G=Be)):Ee(t.POLYGON_OFFSET_FILL)}function ct(ve){ve?Ie(t.SCISSOR_TEST):Ee(t.SCISSOR_TEST)}function $(ve){ve===void 0&&(ve=t.TEXTURE0+K-1),V!==ve&&(t.activeTexture(ve),V=ve)}function F(ve,_t,Be){Be===void 0&&(V===null?Be=t.TEXTURE0+K-1:Be=V);let et=X[Be];et===void 0&&(et={type:void 0,texture:void 0},X[Be]=et),(et.type!==ve||et.texture!==_t)&&(V!==Be&&(t.activeTexture(Be),V=Be),t.bindTexture(ve,_t||Ce[ve]),et.type=ve,et.texture=_t)}function re(){const ve=X[V];ve!==void 0&&ve.type!==void 0&&(t.bindTexture(ve.type,null),ve.type=void 0,ve.texture=void 0)}function ye(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function be(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function pe(){try{t.texSubImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function ce(){try{t.texSubImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function xe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function ke(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function ut(){try{t.texStorage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function $e(){try{t.texStorage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function st(){try{t.texImage2D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Ut(){try{t.texImage3D.apply(t,arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Pt(ve){de.equals(ve)===!1&&(t.scissor(ve.x,ve.y,ve.z,ve.w),de.copy(ve))}function mt(ve){Y.equals(ve)===!1&&(t.viewport(ve.x,ve.y,ve.z,ve.w),Y.copy(ve))}function ln(ve,_t){let Be=c.get(_t);Be===void 0&&(Be=new WeakMap,c.set(_t,Be));let et=Be.get(ve);et===void 0&&(et=t.getUniformBlockIndex(_t,ve.name),Be.set(ve,et))}function Tt(ve,_t){const et=c.get(_t).get(ve);o.get(_t)!==et&&(t.uniformBlockBinding(_t,et,ve.__bindingPointIndex),o.set(_t,et))}function Cn(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},V=null,X={},d={},f=new WeakMap,h=[],p=null,g=!1,v=null,w=null,x=null,_=null,S=null,A=null,C=null,T=new kt(0,0,0),N=0,O=!1,U=null,R=null,I=null,B=null,G=null,de.set(0,0,t.canvas.width,t.canvas.height),Y.set(0,0,t.canvas.width,t.canvas.height),i.reset(),s.reset(),a.reset()}return{buffers:{color:i,depth:s,stencil:a},enable:Ie,disable:Ee,bindFramebuffer:Je,drawBuffers:Ne,useProgram:Ue,setBlending:J,setMaterial:Le,setFlipSided:qe,setCullFace:We,setLineWidth:Ke,setPolygonOffset:yt,setScissorTest:ct,activeTexture:$,bindTexture:F,unbindTexture:re,compressedTexImage2D:ye,compressedTexImage3D:be,texImage2D:st,texImage3D:Ut,updateUBOMapping:ln,uniformBlockBinding:Tt,texStorage2D:ut,texStorage3D:$e,texSubImage2D:pe,texSubImage3D:ce,compressedTexSubImage2D:xe,compressedTexSubImage3D:ke,scissor:Pt,viewport:mt,reset:Cn}}function LRe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function DRe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function FRe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function U3(t,e,n,r){const i=URe(r);switch(n){case DB:return t*e;case UB:return t*e;case BB:return t*e*2;case Sj:return t*e/i.components*i.byteLength;case OE:return t*e/i.components*i.byteLength;case zB:return t*e*2/i.components*i.byteLength;case Ej:return t*e*2/i.components*i.byteLength;case FB:return t*e*3/i.components*i.byteLength;case _a:return t*e*4/i.components*i.byteLength;case Aj:return t*e*4/i.components*i.byteLength;case l1:case c1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case u1:case d1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case VN:case WN:return Math.max(t,16)*Math.max(e,8)/4;case $N:case HN:return Math.max(t,8)*Math.max(e,8)/2;case GN:case qN:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case XN:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case KN:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case YN:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case ZN:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case QN:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case JN:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case eP:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case tP:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case nP:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case rP:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case iP:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case sP:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case aP:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case oP:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case lP:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case f1:case cP:case uP:return Math.ceil(t/4)*Math.ceil(e/4)*16;case $B:case dP:return Math.ceil(t/4)*Math.ceil(e/4)*8;case fP:case hP:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function URe(t){switch(t){case Jc:case RB:return{byteLength:1,components:1};case N0:case IB:case Ab:return{byteLength:2,components:1};case wj:case _j:return{byteLength:2,components:4};case gf:case bj:case _o:return{byteLength:4,components:1};case LB:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const BRe={contain:LRe,cover:DRe,fill:FRe,getByteLength:U3};function zRe(t,e,n,r,i,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new tt,d=new WeakMap;let f;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g($,F){return p?new OffscreenCanvas($,F):xS("canvas")}function v($,F,re){let ye=1;const be=ct($);if((be.width>re||be.height>re)&&(ye=re/Math.max(be.width,be.height)),ye<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const pe=Math.floor(ye*be.width),ce=Math.floor(ye*be.height);f===void 0&&(f=g(pe,ce));const xe=F?g(pe,ce):f;return xe.width=pe,xe.height=ce,xe.getContext("2d").drawImage($,0,0,pe,ce),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+be.width+"x"+be.height+") to ("+pe+"x"+ce+")."),xe}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+be.width+"x"+be.height+")."),$;return $}function w($){return $.generateMipmaps&&$.minFilter!==qs&&$.minFilter!==ls}function x($){t.generateMipmap($)}function _($,F,re,ye,be=!1){if($!==null){if(t[$]!==void 0)return t[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let pe=F;if(F===t.RED&&(re===t.FLOAT&&(pe=t.R32F),re===t.HALF_FLOAT&&(pe=t.R16F),re===t.UNSIGNED_BYTE&&(pe=t.R8)),F===t.RED_INTEGER&&(re===t.UNSIGNED_BYTE&&(pe=t.R8UI),re===t.UNSIGNED_SHORT&&(pe=t.R16UI),re===t.UNSIGNED_INT&&(pe=t.R32UI),re===t.BYTE&&(pe=t.R8I),re===t.SHORT&&(pe=t.R16I),re===t.INT&&(pe=t.R32I)),F===t.RG&&(re===t.FLOAT&&(pe=t.RG32F),re===t.HALF_FLOAT&&(pe=t.RG16F),re===t.UNSIGNED_BYTE&&(pe=t.RG8)),F===t.RG_INTEGER&&(re===t.UNSIGNED_BYTE&&(pe=t.RG8UI),re===t.UNSIGNED_SHORT&&(pe=t.RG16UI),re===t.UNSIGNED_INT&&(pe=t.RG32UI),re===t.BYTE&&(pe=t.RG8I),re===t.SHORT&&(pe=t.RG16I),re===t.INT&&(pe=t.RG32I)),F===t.RGB_INTEGER&&(re===t.UNSIGNED_BYTE&&(pe=t.RGB8UI),re===t.UNSIGNED_SHORT&&(pe=t.RGB16UI),re===t.UNSIGNED_INT&&(pe=t.RGB32UI),re===t.BYTE&&(pe=t.RGB8I),re===t.SHORT&&(pe=t.RGB16I),re===t.INT&&(pe=t.RGB32I)),F===t.RGBA_INTEGER&&(re===t.UNSIGNED_BYTE&&(pe=t.RGBA8UI),re===t.UNSIGNED_SHORT&&(pe=t.RGBA16UI),re===t.UNSIGNED_INT&&(pe=t.RGBA32UI),re===t.BYTE&&(pe=t.RGBA8I),re===t.SHORT&&(pe=t.RGBA16I),re===t.INT&&(pe=t.RGBA32I)),F===t.RGB&&re===t.UNSIGNED_INT_5_9_9_9_REV&&(pe=t.RGB9_E5),F===t.RGBA){const ce=be?pS:vr.getTransfer(ye);re===t.FLOAT&&(pe=t.RGBA32F),re===t.HALF_FLOAT&&(pe=t.RGBA16F),re===t.UNSIGNED_BYTE&&(pe=ce===Jr?t.SRGB8_ALPHA8:t.RGBA8),re===t.UNSIGNED_SHORT_4_4_4_4&&(pe=t.RGBA4),re===t.UNSIGNED_SHORT_5_5_5_1&&(pe=t.RGB5_A1)}return(pe===t.R16F||pe===t.R32F||pe===t.RG16F||pe===t.RG32F||pe===t.RGBA16F||pe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),pe}function S($,F){let re;return $?F===null||F===gf||F===ay?re=t.DEPTH24_STENCIL8:F===_o?re=t.DEPTH32F_STENCIL8:F===N0&&(re=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):F===null||F===gf||F===ay?re=t.DEPTH_COMPONENT24:F===_o?re=t.DEPTH_COMPONENT32F:F===N0&&(re=t.DEPTH_COMPONENT16),re}function A($,F){return w($)===!0||$.isFramebufferTexture&&$.minFilter!==qs&&$.minFilter!==ls?Math.log2(Math.max(F.width,F.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?F.mipmaps.length:1}function C($){const F=$.target;F.removeEventListener("dispose",C),N(F),F.isVideoTexture&&d.delete(F)}function T($){const F=$.target;F.removeEventListener("dispose",T),U(F)}function N($){const F=r.get($);if(F.__webglInit===void 0)return;const re=$.source,ye=h.get(re);if(ye){const be=ye[F.__cacheKey];be.usedTimes--,be.usedTimes===0&&O($),Object.keys(ye).length===0&&h.delete(re)}r.remove($)}function O($){const F=r.get($);t.deleteTexture(F.__webglTexture);const re=$.source,ye=h.get(re);delete ye[F.__cacheKey],a.memory.textures--}function U($){const F=r.get($);if($.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let ye=0;ye<6;ye++){if(Array.isArray(F.__webglFramebuffer[ye]))for(let be=0;be<F.__webglFramebuffer[ye].length;be++)t.deleteFramebuffer(F.__webglFramebuffer[ye][be]);else t.deleteFramebuffer(F.__webglFramebuffer[ye]);F.__webglDepthbuffer&&t.deleteRenderbuffer(F.__webglDepthbuffer[ye])}else{if(Array.isArray(F.__webglFramebuffer))for(let ye=0;ye<F.__webglFramebuffer.length;ye++)t.deleteFramebuffer(F.__webglFramebuffer[ye]);else t.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&t.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&t.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let ye=0;ye<F.__webglColorRenderbuffer.length;ye++)F.__webglColorRenderbuffer[ye]&&t.deleteRenderbuffer(F.__webglColorRenderbuffer[ye]);F.__webglDepthRenderbuffer&&t.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const re=$.textures;for(let ye=0,be=re.length;ye<be;ye++){const pe=r.get(re[ye]);pe.__webglTexture&&(t.deleteTexture(pe.__webglTexture),a.memory.textures--),r.remove(re[ye])}r.remove($)}let R=0;function I(){R=0}function B(){const $=R;return $>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+i.maxTextures),R+=1,$}function G($){const F=[];return F.push($.wrapS),F.push($.wrapT),F.push($.wrapR||0),F.push($.magFilter),F.push($.minFilter),F.push($.anisotropy),F.push($.internalFormat),F.push($.format),F.push($.type),F.push($.generateMipmaps),F.push($.premultiplyAlpha),F.push($.flipY),F.push($.unpackAlignment),F.push($.colorSpace),F.join()}function K($,F){const re=r.get($);if($.isVideoTexture&&Ke($),$.isRenderTargetTexture===!1&&$.version>0&&re.__version!==$.version){const ye=$.image;if(ye===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ye.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Y(re,$,F);return}}n.bindTexture(t.TEXTURE_2D,re.__webglTexture,t.TEXTURE0+F)}function Q($,F){const re=r.get($);if($.version>0&&re.__version!==$.version){Y(re,$,F);return}n.bindTexture(t.TEXTURE_2D_ARRAY,re.__webglTexture,t.TEXTURE0+F)}function q($,F){const re=r.get($);if($.version>0&&re.__version!==$.version){Y(re,$,F);return}n.bindTexture(t.TEXTURE_3D,re.__webglTexture,t.TEXTURE0+F)}function ie($,F){const re=r.get($);if($.version>0&&re.__version!==$.version){he(re,$,F);return}n.bindTexture(t.TEXTURE_CUBE_MAP,re.__webglTexture,t.TEXTURE0+F)}const V={[uS]:t.REPEAT,[Ql]:t.CLAMP_TO_EDGE,[dS]:t.MIRRORED_REPEAT},X={[qs]:t.NEAREST,[OB]:t.NEAREST_MIPMAP_NEAREST,[Ex]:t.NEAREST_MIPMAP_LINEAR,[ls]:t.LINEAR,[o1]:t.LINEAR_MIPMAP_NEAREST,[Uu]:t.LINEAR_MIPMAP_LINEAR},z={[are]:t.NEVER,[fre]:t.ALWAYS,[ore]:t.LESS,[HB]:t.LEQUAL,[lre]:t.EQUAL,[dre]:t.GEQUAL,[cre]:t.GREATER,[ure]:t.NOTEQUAL};function oe($,F){if(F.type===_o&&e.has("OES_texture_float_linear")===!1&&(F.magFilter===ls||F.magFilter===o1||F.magFilter===Ex||F.magFilter===Uu||F.minFilter===ls||F.minFilter===o1||F.minFilter===Ex||F.minFilter===Uu)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri($,t.TEXTURE_WRAP_S,V[F.wrapS]),t.texParameteri($,t.TEXTURE_WRAP_T,V[F.wrapT]),($===t.TEXTURE_3D||$===t.TEXTURE_2D_ARRAY)&&t.texParameteri($,t.TEXTURE_WRAP_R,V[F.wrapR]),t.texParameteri($,t.TEXTURE_MAG_FILTER,X[F.magFilter]),t.texParameteri($,t.TEXTURE_MIN_FILTER,X[F.minFilter]),F.compareFunction&&(t.texParameteri($,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri($,t.TEXTURE_COMPARE_FUNC,z[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===qs||F.minFilter!==Ex&&F.minFilter!==Uu||F.type===_o&&e.has("OES_texture_float_linear")===!1)return;if(F.anisotropy>1||r.get(F).__currentAnisotropy){const re=e.get("EXT_texture_filter_anisotropic");t.texParameterf($,re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,i.getMaxAnisotropy())),r.get(F).__currentAnisotropy=F.anisotropy}}}function de($,F){let re=!1;$.__webglInit===void 0&&($.__webglInit=!0,F.addEventListener("dispose",C));const ye=F.source;let be=h.get(ye);be===void 0&&(be={},h.set(ye,be));const pe=G(F);if(pe!==$.__cacheKey){be[pe]===void 0&&(be[pe]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,re=!0),be[pe].usedTimes++;const ce=be[$.__cacheKey];ce!==void 0&&(be[$.__cacheKey].usedTimes--,ce.usedTimes===0&&O(F)),$.__cacheKey=pe,$.__webglTexture=be[pe].texture}return re}function Y($,F,re){let ye=t.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(ye=t.TEXTURE_2D_ARRAY),F.isData3DTexture&&(ye=t.TEXTURE_3D);const be=de($,F),pe=F.source;n.bindTexture(ye,$.__webglTexture,t.TEXTURE0+re);const ce=r.get(pe);if(pe.version!==ce.__version||be===!0){n.activeTexture(t.TEXTURE0+re);const xe=vr.getPrimaries(vr.workingColorSpace),ke=F.colorSpace===$d?null:vr.getPrimaries(F.colorSpace),ut=F.colorSpace===$d||xe===ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ut);let $e=v(F.image,!1,i.maxTextureSize);$e=yt(F,$e);const st=s.convert(F.format,F.colorSpace),Ut=s.convert(F.type);let Pt=_(F.internalFormat,st,Ut,F.colorSpace,F.isVideoTexture);oe(ye,F);let mt;const ln=F.mipmaps,Tt=F.isVideoTexture!==!0,Cn=ce.__version===void 0||be===!0,ve=pe.dataReady,_t=A(F,$e);if(F.isDepthTexture)Pt=S(F.format===oy,F.type),Cn&&(Tt?n.texStorage2D(t.TEXTURE_2D,1,Pt,$e.width,$e.height):n.texImage2D(t.TEXTURE_2D,0,Pt,$e.width,$e.height,0,st,Ut,null));else if(F.isDataTexture)if(ln.length>0){Tt&&Cn&&n.texStorage2D(t.TEXTURE_2D,_t,Pt,ln[0].width,ln[0].height);for(let Be=0,et=ln.length;Be<et;Be++)mt=ln[Be],Tt?ve&&n.texSubImage2D(t.TEXTURE_2D,Be,0,0,mt.width,mt.height,st,Ut,mt.data):n.texImage2D(t.TEXTURE_2D,Be,Pt,mt.width,mt.height,0,st,Ut,mt.data);F.generateMipmaps=!1}else Tt?(Cn&&n.texStorage2D(t.TEXTURE_2D,_t,Pt,$e.width,$e.height),ve&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,$e.width,$e.height,st,Ut,$e.data)):n.texImage2D(t.TEXTURE_2D,0,Pt,$e.width,$e.height,0,st,Ut,$e.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Tt&&Cn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,_t,Pt,ln[0].width,ln[0].height,$e.depth);for(let Be=0,et=ln.length;Be<et;Be++)if(mt=ln[Be],F.format!==_a)if(st!==null)if(Tt){if(ve)if(F.layerUpdates.size>0){const vt=U3(mt.width,mt.height,F.format,F.type);for(const gt of F.layerUpdates){const qn=mt.data.subarray(gt*vt/mt.data.BYTES_PER_ELEMENT,(gt+1)*vt/mt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Be,0,0,gt,mt.width,mt.height,1,st,qn,0,0)}F.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Be,0,0,0,mt.width,mt.height,$e.depth,st,mt.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Be,Pt,mt.width,mt.height,$e.depth,0,mt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Tt?ve&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Be,0,0,0,mt.width,mt.height,$e.depth,st,Ut,mt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Be,Pt,mt.width,mt.height,$e.depth,0,st,Ut,mt.data)}else{Tt&&Cn&&n.texStorage2D(t.TEXTURE_2D,_t,Pt,ln[0].width,ln[0].height);for(let Be=0,et=ln.length;Be<et;Be++)mt=ln[Be],F.format!==_a?st!==null?Tt?ve&&n.compressedTexSubImage2D(t.TEXTURE_2D,Be,0,0,mt.width,mt.height,st,mt.data):n.compressedTexImage2D(t.TEXTURE_2D,Be,Pt,mt.width,mt.height,0,mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tt?ve&&n.texSubImage2D(t.TEXTURE_2D,Be,0,0,mt.width,mt.height,st,Ut,mt.data):n.texImage2D(t.TEXTURE_2D,Be,Pt,mt.width,mt.height,0,st,Ut,mt.data)}else if(F.isDataArrayTexture)if(Tt){if(Cn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,_t,Pt,$e.width,$e.height,$e.depth),ve)if(F.layerUpdates.size>0){const Be=U3($e.width,$e.height,F.format,F.type);for(const et of F.layerUpdates){const vt=$e.data.subarray(et*Be/$e.data.BYTES_PER_ELEMENT,(et+1)*Be/$e.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,et,$e.width,$e.height,1,st,Ut,vt)}F.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,$e.width,$e.height,$e.depth,st,Ut,$e.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Pt,$e.width,$e.height,$e.depth,0,st,Ut,$e.data);else if(F.isData3DTexture)Tt?(Cn&&n.texStorage3D(t.TEXTURE_3D,_t,Pt,$e.width,$e.height,$e.depth),ve&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,$e.width,$e.height,$e.depth,st,Ut,$e.data)):n.texImage3D(t.TEXTURE_3D,0,Pt,$e.width,$e.height,$e.depth,0,st,Ut,$e.data);else if(F.isFramebufferTexture){if(Cn)if(Tt)n.texStorage2D(t.TEXTURE_2D,_t,Pt,$e.width,$e.height);else{let Be=$e.width,et=$e.height;for(let vt=0;vt<_t;vt++)n.texImage2D(t.TEXTURE_2D,vt,Pt,Be,et,0,st,Ut,null),Be>>=1,et>>=1}}else if(ln.length>0){if(Tt&&Cn){const Be=ct(ln[0]);n.texStorage2D(t.TEXTURE_2D,_t,Pt,Be.width,Be.height)}for(let Be=0,et=ln.length;Be<et;Be++)mt=ln[Be],Tt?ve&&n.texSubImage2D(t.TEXTURE_2D,Be,0,0,st,Ut,mt):n.texImage2D(t.TEXTURE_2D,Be,Pt,st,Ut,mt);F.generateMipmaps=!1}else if(Tt){if(Cn){const Be=ct($e);n.texStorage2D(t.TEXTURE_2D,_t,Pt,Be.width,Be.height)}ve&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,st,Ut,$e)}else n.texImage2D(t.TEXTURE_2D,0,Pt,st,Ut,$e);w(F)&&x(ye),ce.__version=pe.version,F.onUpdate&&F.onUpdate(F)}$.__version=F.version}function he($,F,re){if(F.image.length!==6)return;const ye=de($,F),be=F.source;n.bindTexture(t.TEXTURE_CUBE_MAP,$.__webglTexture,t.TEXTURE0+re);const pe=r.get(be);if(be.version!==pe.__version||ye===!0){n.activeTexture(t.TEXTURE0+re);const ce=vr.getPrimaries(vr.workingColorSpace),xe=F.colorSpace===$d?null:vr.getPrimaries(F.colorSpace),ke=F.colorSpace===$d||ce===xe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ke);const ut=F.isCompressedTexture||F.image[0].isCompressedTexture,$e=F.image[0]&&F.image[0].isDataTexture,st=[];for(let et=0;et<6;et++)!ut&&!$e?st[et]=v(F.image[et],!0,i.maxCubemapSize):st[et]=$e?F.image[et].image:F.image[et],st[et]=yt(F,st[et]);const Ut=st[0],Pt=s.convert(F.format,F.colorSpace),mt=s.convert(F.type),ln=_(F.internalFormat,Pt,mt,F.colorSpace),Tt=F.isVideoTexture!==!0,Cn=pe.__version===void 0||ye===!0,ve=be.dataReady;let _t=A(F,Ut);oe(t.TEXTURE_CUBE_MAP,F);let Be;if(ut){Tt&&Cn&&n.texStorage2D(t.TEXTURE_CUBE_MAP,_t,ln,Ut.width,Ut.height);for(let et=0;et<6;et++){Be=st[et].mipmaps;for(let vt=0;vt<Be.length;vt++){const gt=Be[vt];F.format!==_a?Pt!==null?Tt?ve&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,vt,0,0,gt.width,gt.height,Pt,gt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,vt,ln,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Tt?ve&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,vt,0,0,gt.width,gt.height,Pt,mt,gt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,vt,ln,gt.width,gt.height,0,Pt,mt,gt.data)}}}else{if(Be=F.mipmaps,Tt&&Cn){Be.length>0&&_t++;const et=ct(st[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,_t,ln,et.width,et.height)}for(let et=0;et<6;et++)if($e){Tt?ve&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,0,0,st[et].width,st[et].height,Pt,mt,st[et].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,ln,st[et].width,st[et].height,0,Pt,mt,st[et].data);for(let vt=0;vt<Be.length;vt++){const qn=Be[vt].image[et].image;Tt?ve&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,vt+1,0,0,qn.width,qn.height,Pt,mt,qn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,vt+1,ln,qn.width,qn.height,0,Pt,mt,qn.data)}}else{Tt?ve&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,0,0,Pt,mt,st[et]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,ln,Pt,mt,st[et]);for(let vt=0;vt<Be.length;vt++){const gt=Be[vt];Tt?ve&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,vt+1,0,0,Pt,mt,gt.image[et]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,vt+1,ln,Pt,mt,gt.image[et])}}}w(F)&&x(t.TEXTURE_CUBE_MAP),pe.__version=be.version,F.onUpdate&&F.onUpdate(F)}$.__version=F.version}function Ce($,F,re,ye,be,pe){const ce=s.convert(re.format,re.colorSpace),xe=s.convert(re.type),ke=_(re.internalFormat,ce,xe,re.colorSpace);if(!r.get(F).__hasExternalTextures){const $e=Math.max(1,F.width>>pe),st=Math.max(1,F.height>>pe);be===t.TEXTURE_3D||be===t.TEXTURE_2D_ARRAY?n.texImage3D(be,pe,ke,$e,st,F.depth,0,ce,xe,null):n.texImage2D(be,pe,ke,$e,st,0,ce,xe,null)}n.bindFramebuffer(t.FRAMEBUFFER,$),We(F)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ye,be,r.get(re).__webglTexture,0,qe(F)):(be===t.TEXTURE_2D||be>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&be<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ye,be,r.get(re).__webglTexture,pe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ie($,F,re){if(t.bindRenderbuffer(t.RENDERBUFFER,$),F.depthBuffer){const ye=F.depthTexture,be=ye&&ye.isDepthTexture?ye.type:null,pe=S(F.stencilBuffer,be),ce=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,xe=qe(F);We(F)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,xe,pe,F.width,F.height):re?t.renderbufferStorageMultisample(t.RENDERBUFFER,xe,pe,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,pe,F.width,F.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ce,t.RENDERBUFFER,$)}else{const ye=F.textures;for(let be=0;be<ye.length;be++){const pe=ye[be],ce=s.convert(pe.format,pe.colorSpace),xe=s.convert(pe.type),ke=_(pe.internalFormat,ce,xe,pe.colorSpace),ut=qe(F);re&&We(F)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ut,ke,F.width,F.height):We(F)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ut,ke,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,ke,F.width,F.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ee($,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,$),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),K(F.depthTexture,0);const ye=r.get(F.depthTexture).__webglTexture,be=qe(F);if(F.depthTexture.format===Ig)We(F)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ye,0,be):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ye,0);else if(F.depthTexture.format===oy)We(F)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ye,0,be):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ye,0);else throw new Error("Unknown depthTexture format")}function Je($){const F=r.get($),re=$.isWebGLCubeRenderTarget===!0;if(F.__boundDepthTexture!==$.depthTexture){const ye=$.depthTexture;if(F.__depthDisposeCallback&&F.__depthDisposeCallback(),ye){const be=()=>{delete F.__boundDepthTexture,delete F.__depthDisposeCallback,ye.removeEventListener("dispose",be)};ye.addEventListener("dispose",be),F.__depthDisposeCallback=be}F.__boundDepthTexture=ye}if($.depthTexture&&!F.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");Ee(F.__webglFramebuffer,$)}else if(re){F.__webglDepthbuffer=[];for(let ye=0;ye<6;ye++)if(n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer[ye]),F.__webglDepthbuffer[ye]===void 0)F.__webglDepthbuffer[ye]=t.createRenderbuffer(),Ie(F.__webglDepthbuffer[ye],$,!1);else{const be=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,pe=F.__webglDepthbuffer[ye];t.bindRenderbuffer(t.RENDERBUFFER,pe),t.framebufferRenderbuffer(t.FRAMEBUFFER,be,t.RENDERBUFFER,pe)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer===void 0)F.__webglDepthbuffer=t.createRenderbuffer(),Ie(F.__webglDepthbuffer,$,!1);else{const ye=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,be=F.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,be),t.framebufferRenderbuffer(t.FRAMEBUFFER,ye,t.RENDERBUFFER,be)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ne($,F,re){const ye=r.get($);F!==void 0&&Ce(ye.__webglFramebuffer,$,$.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),re!==void 0&&Je($)}function Ue($){const F=$.texture,re=r.get($),ye=r.get(F);$.addEventListener("dispose",T);const be=$.textures,pe=$.isWebGLCubeRenderTarget===!0,ce=be.length>1;if(ce||(ye.__webglTexture===void 0&&(ye.__webglTexture=t.createTexture()),ye.__version=F.version,a.memory.textures++),pe){re.__webglFramebuffer=[];for(let xe=0;xe<6;xe++)if(F.mipmaps&&F.mipmaps.length>0){re.__webglFramebuffer[xe]=[];for(let ke=0;ke<F.mipmaps.length;ke++)re.__webglFramebuffer[xe][ke]=t.createFramebuffer()}else re.__webglFramebuffer[xe]=t.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){re.__webglFramebuffer=[];for(let xe=0;xe<F.mipmaps.length;xe++)re.__webglFramebuffer[xe]=t.createFramebuffer()}else re.__webglFramebuffer=t.createFramebuffer();if(ce)for(let xe=0,ke=be.length;xe<ke;xe++){const ut=r.get(be[xe]);ut.__webglTexture===void 0&&(ut.__webglTexture=t.createTexture(),a.memory.textures++)}if($.samples>0&&We($)===!1){re.__webglMultisampledFramebuffer=t.createFramebuffer(),re.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,re.__webglMultisampledFramebuffer);for(let xe=0;xe<be.length;xe++){const ke=be[xe];re.__webglColorRenderbuffer[xe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,re.__webglColorRenderbuffer[xe]);const ut=s.convert(ke.format,ke.colorSpace),$e=s.convert(ke.type),st=_(ke.internalFormat,ut,$e,ke.colorSpace,$.isXRRenderTarget===!0),Ut=qe($);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ut,st,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+xe,t.RENDERBUFFER,re.__webglColorRenderbuffer[xe])}t.bindRenderbuffer(t.RENDERBUFFER,null),$.depthBuffer&&(re.__webglDepthRenderbuffer=t.createRenderbuffer(),Ie(re.__webglDepthRenderbuffer,$,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(pe){n.bindTexture(t.TEXTURE_CUBE_MAP,ye.__webglTexture),oe(t.TEXTURE_CUBE_MAP,F);for(let xe=0;xe<6;xe++)if(F.mipmaps&&F.mipmaps.length>0)for(let ke=0;ke<F.mipmaps.length;ke++)Ce(re.__webglFramebuffer[xe][ke],$,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ke);else Ce(re.__webglFramebuffer[xe],$,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0);w(F)&&x(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ce){for(let xe=0,ke=be.length;xe<ke;xe++){const ut=be[xe],$e=r.get(ut);n.bindTexture(t.TEXTURE_2D,$e.__webglTexture),oe(t.TEXTURE_2D,ut),Ce(re.__webglFramebuffer,$,ut,t.COLOR_ATTACHMENT0+xe,t.TEXTURE_2D,0),w(ut)&&x(t.TEXTURE_2D)}n.unbindTexture()}else{let xe=t.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(xe=$.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(xe,ye.__webglTexture),oe(xe,F),F.mipmaps&&F.mipmaps.length>0)for(let ke=0;ke<F.mipmaps.length;ke++)Ce(re.__webglFramebuffer[ke],$,F,t.COLOR_ATTACHMENT0,xe,ke);else Ce(re.__webglFramebuffer,$,F,t.COLOR_ATTACHMENT0,xe,0);w(F)&&x(xe),n.unbindTexture()}$.depthBuffer&&Je($)}function Fe($){const F=$.textures;for(let re=0,ye=F.length;re<ye;re++){const be=F[re];if(w(be)){const pe=$.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,ce=r.get(be).__webglTexture;n.bindTexture(pe,ce),x(pe),n.unbindTexture()}}}const le=[],J=[];function Le($){if($.samples>0){if(We($)===!1){const F=$.textures,re=$.width,ye=$.height;let be=t.COLOR_BUFFER_BIT;const pe=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ce=r.get($),xe=F.length>1;if(xe)for(let ke=0;ke<F.length;ke++)n.bindFramebuffer(t.FRAMEBUFFER,ce.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ce.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ce.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ce.__webglFramebuffer);for(let ke=0;ke<F.length;ke++){if($.resolveDepthBuffer&&($.depthBuffer&&(be|=t.DEPTH_BUFFER_BIT),$.stencilBuffer&&$.resolveStencilBuffer&&(be|=t.STENCIL_BUFFER_BIT)),xe){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ce.__webglColorRenderbuffer[ke]);const ut=r.get(F[ke]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ut,0)}t.blitFramebuffer(0,0,re,ye,0,0,re,ye,be,t.NEAREST),c===!0&&(le.length=0,J.length=0,le.push(t.COLOR_ATTACHMENT0+ke),$.depthBuffer&&$.resolveDepthBuffer===!1&&(le.push(pe),J.push(pe),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,J)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,le))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),xe)for(let ke=0;ke<F.length;ke++){n.bindFramebuffer(t.FRAMEBUFFER,ce.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.RENDERBUFFER,ce.__webglColorRenderbuffer[ke]);const ut=r.get(F[ke]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ce.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.TEXTURE_2D,ut,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ce.__webglMultisampledFramebuffer)}else if($.depthBuffer&&$.resolveDepthBuffer===!1&&c){const F=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[F])}}}function qe($){return Math.min(i.maxSamples,$.samples)}function We($){const F=r.get($);return $.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function Ke($){const F=a.render.frame;d.get($)!==F&&(d.set($,F),$.update())}function yt($,F){const re=$.colorSpace,ye=$.format,be=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||re!==Sf&&re!==$d&&(vr.getTransfer(re)===Jr?(ye!==_a||be!==Jc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",re)),F}function ct($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(u.width=$.naturalWidth||$.width,u.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(u.width=$.displayWidth,u.height=$.displayHeight):(u.width=$.width,u.height=$.height),u}this.allocateTextureUnit=B,this.resetTextureUnits=I,this.setTexture2D=K,this.setTexture2DArray=Q,this.setTexture3D=q,this.setTextureCube=ie,this.rebindTextures=Ne,this.setupRenderTarget=Ue,this.updateRenderTargetMipmap=Fe,this.updateMultisampleRenderTarget=Le,this.setupDepthRenderbuffer=Je,this.setupFrameBufferTexture=Ce,this.useMultisampledRTT=We}function Mre(t,e){function n(r,i=$d){let s;const a=vr.getTransfer(i);if(r===Jc)return t.UNSIGNED_BYTE;if(r===wj)return t.UNSIGNED_SHORT_4_4_4_4;if(r===_j)return t.UNSIGNED_SHORT_5_5_5_1;if(r===LB)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===RB)return t.BYTE;if(r===IB)return t.SHORT;if(r===N0)return t.UNSIGNED_SHORT;if(r===bj)return t.INT;if(r===gf)return t.UNSIGNED_INT;if(r===_o)return t.FLOAT;if(r===Ab)return t.HALF_FLOAT;if(r===DB)return t.ALPHA;if(r===FB)return t.RGB;if(r===_a)return t.RGBA;if(r===UB)return t.LUMINANCE;if(r===BB)return t.LUMINANCE_ALPHA;if(r===Ig)return t.DEPTH_COMPONENT;if(r===oy)return t.DEPTH_STENCIL;if(r===Sj)return t.RED;if(r===OE)return t.RED_INTEGER;if(r===zB)return t.RG;if(r===Ej)return t.RG_INTEGER;if(r===Aj)return t.RGBA_INTEGER;if(r===l1||r===c1||r===u1||r===d1)if(a===Jr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===l1)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===c1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===u1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===d1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===l1)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===c1)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===u1)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===d1)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===$N||r===VN||r===HN||r===WN)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===$N)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===VN)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===HN)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===WN)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===GN||r===qN||r===XN)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===GN||r===qN)return a===Jr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===XN)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===KN||r===YN||r===ZN||r===QN||r===JN||r===eP||r===tP||r===nP||r===rP||r===iP||r===sP||r===aP||r===oP||r===lP)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===KN)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===YN)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===ZN)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===QN)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===JN)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===eP)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===tP)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===nP)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===rP)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===iP)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===sP)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===aP)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===oP)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===lP)return a===Jr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===f1||r===cP||r===uP)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===f1)return a===Jr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===cP)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===uP)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===$B||r===dP||r===fP||r===hP)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===f1)return s.COMPRESSED_RED_RGTC1_EXT;if(r===dP)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===fP)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===hP)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===ay?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class Cre extends Gs{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Mx extends gr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const $Re={type:"move"};class cI{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mx,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mx,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new se,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new se),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mx,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new se,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new se),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,c=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const v of e.hand.values()){const w=n.getJointPose(v,r),x=this._getHandJoint(u,v);w!==null&&(x.matrix.fromArray(w.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=w.radius),x.visible=w!==null}const d=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=d.position.distanceTo(f.position),p=.02,g=.005;u.inputState.pinching&&h>p+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=p-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent($Re)))}return o!==null&&(o.visible=i!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Mx;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const VRe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,HRe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WRe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Ui,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new tu({vertexShader:VRe,fragmentShader:HRe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new cs(new Mb(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class GRe extends sd{constructor(e,n){super();const r=this;let i=null,s=1,a=null,o="local-floor",c=1,u=null,d=null,f=null,h=null,p=null,g=null;const v=new WRe,w=n.getContextAttributes();let x=null,_=null;const S=[],A=[],C=new tt;let T=null;const N=new Gs;N.layers.enable(1),N.viewport=new pr;const O=new Gs;O.layers.enable(2),O.viewport=new pr;const U=[N,O],R=new Cre;R.layers.enable(1),R.layers.enable(2);let I=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(he){let Ce=S[he];return Ce===void 0&&(Ce=new cI,S[he]=Ce),Ce.getTargetRaySpace()},this.getControllerGrip=function(he){let Ce=S[he];return Ce===void 0&&(Ce=new cI,S[he]=Ce),Ce.getGripSpace()},this.getHand=function(he){let Ce=S[he];return Ce===void 0&&(Ce=new cI,S[he]=Ce),Ce.getHandSpace()};function G(he){const Ce=A.indexOf(he.inputSource);if(Ce===-1)return;const Ie=S[Ce];Ie!==void 0&&(Ie.update(he.inputSource,he.frame,u||a),Ie.dispatchEvent({type:he.type,data:he.inputSource}))}function K(){i.removeEventListener("select",G),i.removeEventListener("selectstart",G),i.removeEventListener("selectend",G),i.removeEventListener("squeeze",G),i.removeEventListener("squeezestart",G),i.removeEventListener("squeezeend",G),i.removeEventListener("end",K),i.removeEventListener("inputsourceschange",Q);for(let he=0;he<S.length;he++){const Ce=A[he];Ce!==null&&(A[he]=null,S[he].disconnect(Ce))}I=null,B=null,v.reset(),e.setRenderTarget(x),p=null,h=null,f=null,i=null,_=null,Y.stop(),r.isPresenting=!1,e.setPixelRatio(T),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(he){s=he,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(he){o=he,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(he){u=he},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(he){if(i=he,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",G),i.addEventListener("selectstart",G),i.addEventListener("selectend",G),i.addEventListener("squeeze",G),i.addEventListener("squeezestart",G),i.addEventListener("squeezeend",G),i.addEventListener("end",K),i.addEventListener("inputsourceschange",Q),w.xrCompatible!==!0&&await n.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(C),i.renderState.layers===void 0){const Ce={antialias:w.antialias,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,n,Ce),i.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),_=new eu(p.framebufferWidth,p.framebufferHeight,{format:_a,type:Jc,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil})}else{let Ce=null,Ie=null,Ee=null;w.depth&&(Ee=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Ce=w.stencil?oy:Ig,Ie=w.stencil?ay:gf);const Je={colorFormat:n.RGBA8,depthFormat:Ee,scaleFactor:s};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(Je),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),_=new eu(h.textureWidth,h.textureHeight,{format:_a,type:Jc,depthTexture:new YB(h.textureWidth,h.textureHeight,Ie,void 0,void 0,void 0,void 0,void 0,void 0,Ce),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}_.isXRRenderTarget=!0,this.setFoveation(c),u=null,a=await i.requestReferenceSpace(o),Y.setContext(i),Y.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function Q(he){for(let Ce=0;Ce<he.removed.length;Ce++){const Ie=he.removed[Ce],Ee=A.indexOf(Ie);Ee>=0&&(A[Ee]=null,S[Ee].disconnect(Ie))}for(let Ce=0;Ce<he.added.length;Ce++){const Ie=he.added[Ce];let Ee=A.indexOf(Ie);if(Ee===-1){for(let Ne=0;Ne<S.length;Ne++)if(Ne>=A.length){A.push(Ie),Ee=Ne;break}else if(A[Ne]===null){A[Ne]=Ie,Ee=Ne;break}if(Ee===-1)break}const Je=S[Ee];Je&&Je.connect(Ie)}}const q=new se,ie=new se;function V(he,Ce,Ie){q.setFromMatrixPosition(Ce.matrixWorld),ie.setFromMatrixPosition(Ie.matrixWorld);const Ee=q.distanceTo(ie),Je=Ce.projectionMatrix.elements,Ne=Ie.projectionMatrix.elements,Ue=Je[14]/(Je[10]-1),Fe=Je[14]/(Je[10]+1),le=(Je[9]+1)/Je[5],J=(Je[9]-1)/Je[5],Le=(Je[8]-1)/Je[0],qe=(Ne[8]+1)/Ne[0],We=Ue*Le,Ke=Ue*qe,yt=Ee/(-Le+qe),ct=yt*-Le;if(Ce.matrixWorld.decompose(he.position,he.quaternion,he.scale),he.translateX(ct),he.translateZ(yt),he.matrixWorld.compose(he.position,he.quaternion,he.scale),he.matrixWorldInverse.copy(he.matrixWorld).invert(),Je[10]===-1)he.projectionMatrix.copy(Ce.projectionMatrix),he.projectionMatrixInverse.copy(Ce.projectionMatrixInverse);else{const $=Ue+yt,F=Fe+yt,re=We-ct,ye=Ke+(Ee-ct),be=le*Fe/F*$,pe=J*Fe/F*$;he.projectionMatrix.makePerspective(re,ye,be,pe,$,F),he.projectionMatrixInverse.copy(he.projectionMatrix).invert()}}function X(he,Ce){Ce===null?he.matrixWorld.copy(he.matrix):he.matrixWorld.multiplyMatrices(Ce.matrixWorld,he.matrix),he.matrixWorldInverse.copy(he.matrixWorld).invert()}this.updateCamera=function(he){if(i===null)return;let Ce=he.near,Ie=he.far;v.texture!==null&&(v.depthNear>0&&(Ce=v.depthNear),v.depthFar>0&&(Ie=v.depthFar)),R.near=O.near=N.near=Ce,R.far=O.far=N.far=Ie,(I!==R.near||B!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),I=R.near,B=R.far);const Ee=he.parent,Je=R.cameras;X(R,Ee);for(let Ne=0;Ne<Je.length;Ne++)X(Je[Ne],Ee);Je.length===2?V(R,N,O):R.projectionMatrix.copy(N.projectionMatrix),z(he,R,Ee)};function z(he,Ce,Ie){Ie===null?he.matrix.copy(Ce.matrixWorld):(he.matrix.copy(Ie.matrixWorld),he.matrix.invert(),he.matrix.multiply(Ce.matrixWorld)),he.matrix.decompose(he.position,he.quaternion,he.scale),he.updateMatrixWorld(!0),he.projectionMatrix.copy(Ce.projectionMatrix),he.projectionMatrixInverse.copy(Ce.projectionMatrixInverse),he.isPerspectiveCamera&&(he.fov=P0*2*Math.atan(1/he.projectionMatrix.elements[5]),he.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(h===null&&p===null))return c},this.setFoveation=function(he){c=he,h!==null&&(h.fixedFoveation=he),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=he)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(R)};let oe=null;function de(he,Ce){if(d=Ce.getViewerPose(u||a),g=Ce,d!==null){const Ie=d.views;p!==null&&(e.setRenderTargetFramebuffer(_,p.framebuffer),e.setRenderTarget(_));let Ee=!1;Ie.length!==R.cameras.length&&(R.cameras.length=0,Ee=!0);for(let Ne=0;Ne<Ie.length;Ne++){const Ue=Ie[Ne];let Fe=null;if(p!==null)Fe=p.getViewport(Ue);else{const J=f.getViewSubImage(h,Ue);Fe=J.viewport,Ne===0&&(e.setRenderTargetTextures(_,J.colorTexture,h.ignoreDepthValues?void 0:J.depthStencilTexture),e.setRenderTarget(_))}let le=U[Ne];le===void 0&&(le=new Gs,le.layers.enable(Ne),le.viewport=new pr,U[Ne]=le),le.matrix.fromArray(Ue.transform.matrix),le.matrix.decompose(le.position,le.quaternion,le.scale),le.projectionMatrix.fromArray(Ue.projectionMatrix),le.projectionMatrixInverse.copy(le.projectionMatrix).invert(),le.viewport.set(Fe.x,Fe.y,Fe.width,Fe.height),Ne===0&&(R.matrix.copy(le.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),Ee===!0&&R.cameras.push(le)}const Je=i.enabledFeatures;if(Je&&Je.includes("depth-sensing")){const Ne=f.getDepthInformation(Ie[0]);Ne&&Ne.isValid&&Ne.texture&&v.init(e,Ne,i.renderState)}}for(let Ie=0;Ie<S.length;Ie++){const Ee=A[Ie],Je=S[Ie];Ee!==null&&Je!==void 0&&Je.update(Ee,Ce,u||a)}oe&&oe(he,Ce),Ce.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ce}),g=null}const Y=new _re;Y.setAnimationLoop(de),this.setAnimationLoop=function(he){oe=he},this.dispose=function(){}}}const km=new ml,qRe=new on;function XRe(t,e){function n(w,x){w.matrixAutoUpdate===!0&&w.updateMatrix(),x.value.copy(w.matrix)}function r(w,x){x.color.getRGB(w.fogColor.value,vre(t)),x.isFog?(w.fogNear.value=x.near,w.fogFar.value=x.far):x.isFogExp2&&(w.fogDensity.value=x.density)}function i(w,x,_,S,A){x.isMeshBasicMaterial||x.isMeshLambertMaterial?s(w,x):x.isMeshToonMaterial?(s(w,x),f(w,x)):x.isMeshPhongMaterial?(s(w,x),d(w,x)):x.isMeshStandardMaterial?(s(w,x),h(w,x),x.isMeshPhysicalMaterial&&p(w,x,A)):x.isMeshMatcapMaterial?(s(w,x),g(w,x)):x.isMeshDepthMaterial?s(w,x):x.isMeshDistanceMaterial?(s(w,x),v(w,x)):x.isMeshNormalMaterial?s(w,x):x.isLineBasicMaterial?(a(w,x),x.isLineDashedMaterial&&o(w,x)):x.isPointsMaterial?c(w,x,_,S):x.isSpriteMaterial?u(w,x):x.isShadowMaterial?(w.color.value.copy(x.color),w.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function s(w,x){w.opacity.value=x.opacity,x.color&&w.diffuse.value.copy(x.color),x.emissive&&w.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(w.map.value=x.map,n(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,n(x.alphaMap,w.alphaMapTransform)),x.bumpMap&&(w.bumpMap.value=x.bumpMap,n(x.bumpMap,w.bumpMapTransform),w.bumpScale.value=x.bumpScale,x.side===Ka&&(w.bumpScale.value*=-1)),x.normalMap&&(w.normalMap.value=x.normalMap,n(x.normalMap,w.normalMapTransform),w.normalScale.value.copy(x.normalScale),x.side===Ka&&w.normalScale.value.negate()),x.displacementMap&&(w.displacementMap.value=x.displacementMap,n(x.displacementMap,w.displacementMapTransform),w.displacementScale.value=x.displacementScale,w.displacementBias.value=x.displacementBias),x.emissiveMap&&(w.emissiveMap.value=x.emissiveMap,n(x.emissiveMap,w.emissiveMapTransform)),x.specularMap&&(w.specularMap.value=x.specularMap,n(x.specularMap,w.specularMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest);const _=e.get(x),S=_.envMap,A=_.envMapRotation;S&&(w.envMap.value=S,km.copy(A),km.x*=-1,km.y*=-1,km.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(km.y*=-1,km.z*=-1),w.envMapRotation.value.setFromMatrix4(qRe.makeRotationFromEuler(km)),w.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=x.reflectivity,w.ior.value=x.ior,w.refractionRatio.value=x.refractionRatio),x.lightMap&&(w.lightMap.value=x.lightMap,w.lightMapIntensity.value=x.lightMapIntensity,n(x.lightMap,w.lightMapTransform)),x.aoMap&&(w.aoMap.value=x.aoMap,w.aoMapIntensity.value=x.aoMapIntensity,n(x.aoMap,w.aoMapTransform))}function a(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,x.map&&(w.map.value=x.map,n(x.map,w.mapTransform))}function o(w,x){w.dashSize.value=x.dashSize,w.totalSize.value=x.dashSize+x.gapSize,w.scale.value=x.scale}function c(w,x,_,S){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.size.value=x.size*_,w.scale.value=S*.5,x.map&&(w.map.value=x.map,n(x.map,w.uvTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,n(x.alphaMap,w.alphaMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function u(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.rotation.value=x.rotation,x.map&&(w.map.value=x.map,n(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,n(x.alphaMap,w.alphaMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function d(w,x){w.specular.value.copy(x.specular),w.shininess.value=Math.max(x.shininess,1e-4)}function f(w,x){x.gradientMap&&(w.gradientMap.value=x.gradientMap)}function h(w,x){w.metalness.value=x.metalness,x.metalnessMap&&(w.metalnessMap.value=x.metalnessMap,n(x.metalnessMap,w.metalnessMapTransform)),w.roughness.value=x.roughness,x.roughnessMap&&(w.roughnessMap.value=x.roughnessMap,n(x.roughnessMap,w.roughnessMapTransform)),x.envMap&&(w.envMapIntensity.value=x.envMapIntensity)}function p(w,x,_){w.ior.value=x.ior,x.sheen>0&&(w.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),w.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(w.sheenColorMap.value=x.sheenColorMap,n(x.sheenColorMap,w.sheenColorMapTransform)),x.sheenRoughnessMap&&(w.sheenRoughnessMap.value=x.sheenRoughnessMap,n(x.sheenRoughnessMap,w.sheenRoughnessMapTransform))),x.clearcoat>0&&(w.clearcoat.value=x.clearcoat,w.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(w.clearcoatMap.value=x.clearcoatMap,n(x.clearcoatMap,w.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,n(x.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(w.clearcoatNormalMap.value=x.clearcoatNormalMap,n(x.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===Ka&&w.clearcoatNormalScale.value.negate())),x.dispersion>0&&(w.dispersion.value=x.dispersion),x.iridescence>0&&(w.iridescence.value=x.iridescence,w.iridescenceIOR.value=x.iridescenceIOR,w.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(w.iridescenceMap.value=x.iridescenceMap,n(x.iridescenceMap,w.iridescenceMapTransform)),x.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=x.iridescenceThicknessMap,n(x.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),x.transmission>0&&(w.transmission.value=x.transmission,w.transmissionSamplerMap.value=_.texture,w.transmissionSamplerSize.value.set(_.width,_.height),x.transmissionMap&&(w.transmissionMap.value=x.transmissionMap,n(x.transmissionMap,w.transmissionMapTransform)),w.thickness.value=x.thickness,x.thicknessMap&&(w.thicknessMap.value=x.thicknessMap,n(x.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=x.attenuationDistance,w.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(w.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(w.anisotropyMap.value=x.anisotropyMap,n(x.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=x.specularIntensity,w.specularColor.value.copy(x.specularColor),x.specularColorMap&&(w.specularColorMap.value=x.specularColorMap,n(x.specularColorMap,w.specularColorMapTransform)),x.specularIntensityMap&&(w.specularIntensityMap.value=x.specularIntensityMap,n(x.specularIntensityMap,w.specularIntensityMapTransform))}function g(w,x){x.matcap&&(w.matcap.value=x.matcap)}function v(w,x){const _=e.get(x).light;w.referencePosition.value.setFromMatrixPosition(_.matrixWorld),w.nearDistance.value=_.shadow.camera.near,w.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function KRe(t,e,n,r){let i={},s={},a=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(_,S){const A=S.program;r.uniformBlockBinding(_,A)}function u(_,S){let A=i[_.id];A===void 0&&(g(_),A=d(_),i[_.id]=A,_.addEventListener("dispose",w));const C=S.program;r.updateUBOMapping(_,C);const T=e.render.frame;s[_.id]!==T&&(h(_),s[_.id]=T)}function d(_){const S=f();_.__bindingPointIndex=S;const A=t.createBuffer(),C=_.__size,T=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,A),t.bufferData(t.UNIFORM_BUFFER,C,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,A),A}function f(){for(let _=0;_<o;_++)if(a.indexOf(_)===-1)return a.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const S=i[_.id],A=_.uniforms,C=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let T=0,N=A.length;T<N;T++){const O=Array.isArray(A[T])?A[T]:[A[T]];for(let U=0,R=O.length;U<R;U++){const I=O[U];if(p(I,T,U,C)===!0){const B=I.__offset,G=Array.isArray(I.value)?I.value:[I.value];let K=0;for(let Q=0;Q<G.length;Q++){const q=G[Q],ie=v(q);typeof q=="number"||typeof q=="boolean"?(I.__data[0]=q,t.bufferSubData(t.UNIFORM_BUFFER,B+K,I.__data)):q.isMatrix3?(I.__data[0]=q.elements[0],I.__data[1]=q.elements[1],I.__data[2]=q.elements[2],I.__data[3]=0,I.__data[4]=q.elements[3],I.__data[5]=q.elements[4],I.__data[6]=q.elements[5],I.__data[7]=0,I.__data[8]=q.elements[6],I.__data[9]=q.elements[7],I.__data[10]=q.elements[8],I.__data[11]=0):(q.toArray(I.__data,K),K+=ie.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,B,I.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(_,S,A,C){const T=_.value,N=S+"_"+A;if(C[N]===void 0)return typeof T=="number"||typeof T=="boolean"?C[N]=T:C[N]=T.clone(),!0;{const O=C[N];if(typeof T=="number"||typeof T=="boolean"){if(O!==T)return C[N]=T,!0}else if(O.equals(T)===!1)return O.copy(T),!0}return!1}function g(_){const S=_.uniforms;let A=0;const C=16;for(let N=0,O=S.length;N<O;N++){const U=Array.isArray(S[N])?S[N]:[S[N]];for(let R=0,I=U.length;R<I;R++){const B=U[R],G=Array.isArray(B.value)?B.value:[B.value];for(let K=0,Q=G.length;K<Q;K++){const q=G[K],ie=v(q),V=A%C,X=V%ie.boundary,z=V+X;A+=X,z!==0&&C-z<ie.storage&&(A+=C-z),B.__data=new Float32Array(ie.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=A,A+=ie.storage}}}const T=A%C;return T>0&&(A+=C-T),_.__size=A,_.__cache={},this}function v(_){const S={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function w(_){const S=_.target;S.removeEventListener("dispose",w);const A=a.indexOf(S.__bindingPointIndex);a.splice(A,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function x(){for(const _ in i)t.deleteBuffer(i[_]);a=[],i={},s={}}return{bind:c,update:u,dispose:x}}class Nre{constructor(e={}){const{canvas:n=pre(),context:r=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=a;const p=new Uint32Array(4),g=new Int32Array(4);let v=null,w=null;const x=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Gl,this.toneMapping=qu,this.toneMappingExposure=1;const S=this;let A=!1,C=0,T=0,N=null,O=-1,U=null;const R=new pr,I=new pr;let B=null;const G=new kt(0);let K=0,Q=n.width,q=n.height,ie=1,V=null,X=null;const z=new pr(0,0,Q,q),oe=new pr(0,0,Q,q);let de=!1;const Y=new DE;let he=!1,Ce=!1;const Ie=new on,Ee=new on,Je=new se,Ne=new pr,Ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Fe=!1;function le(){return N===null?ie:1}let J=r;function Le(ee,_e){return n.getContext(ee,_e)}try{const ee={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${jE}`),n.addEventListener("webglcontextlost",et,!1),n.addEventListener("webglcontextrestored",vt,!1),n.addEventListener("webglcontextcreationerror",gt,!1),J===null){const _e="webgl2";if(J=Le(_e,ee),J===null)throw Le(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ee){throw console.error("THREE.WebGLRenderer: "+ee.message),ee}let qe,We,Ke,yt,ct,$,F,re,ye,be,pe,ce,xe,ke,ut,$e,st,Ut,Pt,mt,ln,Tt,Cn,ve;function _t(){qe=new tOe(J),qe.init(),Tt=new Mre(J,qe),We=new Kke(J,qe,e,Tt),Ke=new IRe(J),We.reverseDepthBuffer&&Ke.buffers.depth.setReversed(!0),yt=new iOe(J),ct=new _Re,$=new zRe(J,qe,Ke,ct,We,Tt,yt),F=new Zke(S),re=new eOe(S),ye=new d2e(J),Cn=new qke(J,ye),be=new nOe(J,ye,yt,Cn),pe=new aOe(J,be,ye,yt),Pt=new sOe(J,We,$),$e=new Yke(ct),ce=new wRe(S,F,re,qe,We,Cn,$e),xe=new XRe(S,ct),ke=new ERe,ut=new PRe(qe),Ut=new Gke(S,F,re,Ke,pe,h,c),st=new ORe(S,pe,We),ve=new KRe(J,yt,We,Ke),mt=new Xke(J,qe,yt),ln=new rOe(J,qe,yt),yt.programs=ce.programs,S.capabilities=We,S.extensions=qe,S.properties=ct,S.renderLists=ke,S.shadowMap=st,S.state=Ke,S.info=yt}_t();const Be=new GRe(S,J);this.xr=Be,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const ee=qe.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){const ee=qe.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(ee){ee!==void 0&&(ie=ee,this.setSize(Q,q,!1))},this.getSize=function(ee){return ee.set(Q,q)},this.setSize=function(ee,_e,je=!0){if(Be.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=ee,q=_e,n.width=Math.floor(ee*ie),n.height=Math.floor(_e*ie),je===!0&&(n.style.width=ee+"px",n.style.height=_e+"px"),this.setViewport(0,0,ee,_e)},this.getDrawingBufferSize=function(ee){return ee.set(Q*ie,q*ie).floor()},this.setDrawingBufferSize=function(ee,_e,je){Q=ee,q=_e,ie=je,n.width=Math.floor(ee*je),n.height=Math.floor(_e*je),this.setViewport(0,0,ee,_e)},this.getCurrentViewport=function(ee){return ee.copy(R)},this.getViewport=function(ee){return ee.copy(z)},this.setViewport=function(ee,_e,je,Oe){ee.isVector4?z.set(ee.x,ee.y,ee.z,ee.w):z.set(ee,_e,je,Oe),Ke.viewport(R.copy(z).multiplyScalar(ie).round())},this.getScissor=function(ee){return ee.copy(oe)},this.setScissor=function(ee,_e,je,Oe){ee.isVector4?oe.set(ee.x,ee.y,ee.z,ee.w):oe.set(ee,_e,je,Oe),Ke.scissor(I.copy(oe).multiplyScalar(ie).round())},this.getScissorTest=function(){return de},this.setScissorTest=function(ee){Ke.setScissorTest(de=ee)},this.setOpaqueSort=function(ee){V=ee},this.setTransparentSort=function(ee){X=ee},this.getClearColor=function(ee){return ee.copy(Ut.getClearColor())},this.setClearColor=function(){Ut.setClearColor.apply(Ut,arguments)},this.getClearAlpha=function(){return Ut.getClearAlpha()},this.setClearAlpha=function(){Ut.setClearAlpha.apply(Ut,arguments)},this.clear=function(ee=!0,_e=!0,je=!0){let Oe=0;if(ee){let Te=!1;if(N!==null){const dt=N.texture.format;Te=dt===Aj||dt===Ej||dt===OE}if(Te){const dt=N.texture.type,Et=dt===Jc||dt===gf||dt===N0||dt===ay||dt===wj||dt===_j,Ct=Ut.getClearColor(),Ot=Ut.getClearAlpha(),tn=Ct.r,sn=Ct.g,Vt=Ct.b;Et?(p[0]=tn,p[1]=sn,p[2]=Vt,p[3]=Ot,J.clearBufferuiv(J.COLOR,0,p)):(g[0]=tn,g[1]=sn,g[2]=Vt,g[3]=Ot,J.clearBufferiv(J.COLOR,0,g))}else Oe|=J.COLOR_BUFFER_BIT}_e&&(Oe|=J.DEPTH_BUFFER_BIT,J.clearDepth(this.capabilities.reverseDepthBuffer?0:1)),je&&(Oe|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(Oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",et,!1),n.removeEventListener("webglcontextrestored",vt,!1),n.removeEventListener("webglcontextcreationerror",gt,!1),ke.dispose(),ut.dispose(),ct.dispose(),F.dispose(),re.dispose(),pe.dispose(),Cn.dispose(),ve.dispose(),ce.dispose(),Be.dispose(),Be.removeEventListener("sessionstart",Ca),Be.removeEventListener("sessionend",ca),vi.stop()};function et(ee){ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function vt(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const ee=yt.autoReset,_e=st.enabled,je=st.autoUpdate,Oe=st.needsUpdate,Te=st.type;_t(),yt.autoReset=ee,st.enabled=_e,st.autoUpdate=je,st.needsUpdate=Oe,st.type=Te}function gt(ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function qn(ee){const _e=ee.target;_e.removeEventListener("dispose",qn),jt(_e)}function jt(ee){yn(ee),ct.remove(ee)}function yn(ee){const _e=ct.get(ee).programs;_e!==void 0&&(_e.forEach(function(je){ce.releaseProgram(je)}),ee.isShaderMaterial&&ce.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,_e,je,Oe,Te,dt){_e===null&&(_e=Ue);const Et=Te.isMesh&&Te.matrixWorld.determinant()<0,Ct=Xb(ee,_e,je,Oe,Te);Ke.setMaterial(Oe,Et);let Ot=je.index,tn=1;if(Oe.wireframe===!0){if(Ot=be.getWireframeAttribute(je),Ot===void 0)return;tn=2}const sn=je.drawRange,Vt=je.attributes.position;let ir=sn.start*tn,ar=(sn.start+sn.count)*tn;dt!==null&&(ir=Math.max(ir,dt.start*tn),ar=Math.min(ar,(dt.start+dt.count)*tn)),Ot!==null?(ir=Math.max(ir,0),ar=Math.min(ar,Ot.count)):Vt!=null&&(ir=Math.max(ir,0),ar=Math.min(ar,Vt.count));const dr=ar-ir;if(dr<0||dr===1/0)return;Cn.setup(Te,Oe,Ct,je,Ot);let Bn,Yt=mt;if(Ot!==null&&(Bn=ye.get(Ot),Yt=ln,Yt.setIndex(Bn)),Te.isMesh)Oe.wireframe===!0?(Ke.setLineWidth(Oe.wireframeLinewidth*le()),Yt.setMode(J.LINES)):Yt.setMode(J.TRIANGLES);else if(Te.isLine){let It=Oe.linewidth;It===void 0&&(It=1),Ke.setLineWidth(It*le()),Te.isLineSegments?Yt.setMode(J.LINES):Te.isLineLoop?Yt.setMode(J.LINE_LOOP):Yt.setMode(J.LINE_STRIP)}else Te.isPoints?Yt.setMode(J.POINTS):Te.isSprite&&Yt.setMode(J.TRIANGLES);if(Te.isBatchedMesh)if(Te._multiDrawInstances!==null)Yt.renderMultiDrawInstances(Te._multiDrawStarts,Te._multiDrawCounts,Te._multiDrawCount,Te._multiDrawInstances);else if(qe.get("WEBGL_multi_draw"))Yt.renderMultiDraw(Te._multiDrawStarts,Te._multiDrawCounts,Te._multiDrawCount);else{const It=Te._multiDrawStarts,er=Te._multiDrawCounts,mn=Te._multiDrawCount,Ci=Ot?ye.get(Ot).bytesPerElement:1,Zs=ct.get(Oe).currentProgram.getUniforms();for(let Er=0;Er<mn;Er++)Zs.setValue(J,"_gl_DrawID",Er),Yt.render(It[Er]/Ci,er[Er])}else if(Te.isInstancedMesh)Yt.renderInstances(ir,dr,Te.count);else if(je.isInstancedBufferGeometry){const It=je._maxInstanceCount!==void 0?je._maxInstanceCount:1/0,er=Math.min(je.instanceCount,It);Yt.renderInstances(ir,dr,er)}else Yt.render(ir,dr)};function zt(ee,_e,je){ee.transparent===!0&&ee.side===Iu&&ee.forceSinglePass===!1?(ee.side=Ka,ee.needsUpdate=!0,jf(ee,_e,je),ee.side=pf,ee.needsUpdate=!0,jf(ee,_e,je),ee.side=Iu):jf(ee,_e,je)}this.compile=function(ee,_e,je=null){je===null&&(je=ee),w=ut.get(je),w.init(_e),_.push(w),je.traverseVisible(function(Te){Te.isLight&&Te.layers.test(_e.layers)&&(w.pushLight(Te),Te.castShadow&&w.pushShadow(Te))}),ee!==je&&ee.traverseVisible(function(Te){Te.isLight&&Te.layers.test(_e.layers)&&(w.pushLight(Te),Te.castShadow&&w.pushShadow(Te))}),w.setupLights();const Oe=new Set;return ee.traverse(function(Te){if(!(Te.isMesh||Te.isPoints||Te.isLine||Te.isSprite))return;const dt=Te.material;if(dt)if(Array.isArray(dt))for(let Et=0;Et<dt.length;Et++){const Ct=dt[Et];zt(Ct,je,Te),Oe.add(Ct)}else zt(dt,je,Te),Oe.add(dt)}),_.pop(),w=null,Oe},this.compileAsync=function(ee,_e,je=null){const Oe=this.compile(ee,_e,je);return new Promise(Te=>{function dt(){if(Oe.forEach(function(Et){ct.get(Et).currentProgram.isReady()&&Oe.delete(Et)}),Oe.size===0){Te(ee);return}setTimeout(dt,10)}qe.get("KHR_parallel_shader_compile")!==null?dt():setTimeout(dt,10)})};let _r=null;function Kr(ee){_r&&_r(ee)}function Ca(){vi.stop()}function ca(){vi.start()}const vi=new _re;vi.setAnimationLoop(Kr),typeof self<"u"&&vi.setContext(self),this.setAnimationLoop=function(ee){_r=ee,Be.setAnimationLoop(ee),ee===null?vi.stop():vi.start()},Be.addEventListener("sessionstart",Ca),Be.addEventListener("sessionend",ca),this.render=function(ee,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;if(ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Be.enabled===!0&&Be.isPresenting===!0&&(Be.cameraAutoUpdate===!0&&Be.updateCamera(_e),_e=Be.getCamera()),ee.isScene===!0&&ee.onBeforeRender(S,ee,_e,N),w=ut.get(ee,_.length),w.init(_e),_.push(w),Ee.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),Y.setFromProjectionMatrix(Ee),Ce=this.localClippingEnabled,he=$e.init(this.clippingPlanes,Ce),v=ke.get(ee,x.length),v.init(),x.push(v),Be.enabled===!0&&Be.isPresenting===!0){const dt=S.xr.getDepthSensingMesh();dt!==null&&fs(dt,_e,-1/0,S.sortObjects)}fs(ee,_e,0,S.sortObjects),v.finish(),S.sortObjects===!0&&v.sort(V,X),Fe=Be.enabled===!1||Be.isPresenting===!1||Be.hasDepthSensing()===!1,Fe&&Ut.addToRenderList(v,ee),this.info.render.frame++,he===!0&&$e.beginShadows();const je=w.state.shadowsArray;st.render(je,ee,_e),he===!0&&$e.endShadows(),this.info.autoReset===!0&&this.info.reset();const Oe=v.opaque,Te=v.transmissive;if(w.setupLights(),_e.isArrayCamera){const dt=_e.cameras;if(Te.length>0)for(let Et=0,Ct=dt.length;Et<Ct;Et++){const Ot=dt[Et];Ry(Oe,Te,ee,Ot)}Fe&&Ut.render(ee);for(let Et=0,Ct=dt.length;Et<Ct;Et++){const Ot=dt[Et];Pf(v,ee,Ot,Ot.viewport)}}else Te.length>0&&Ry(Oe,Te,ee,_e),Fe&&Ut.render(ee),Pf(v,ee,_e);N!==null&&($.updateMultisampleRenderTarget(N),$.updateRenderTargetMipmap(N)),ee.isScene===!0&&ee.onAfterRender(S,ee,_e),Cn.resetDefaultState(),O=-1,U=null,_.pop(),_.length>0?(w=_[_.length-1],he===!0&&$e.setGlobalState(S.clippingPlanes,w.state.camera)):w=null,x.pop(),x.length>0?v=x[x.length-1]:v=null};function fs(ee,_e,je,Oe){if(ee.visible===!1)return;if(ee.layers.test(_e.layers)){if(ee.isGroup)je=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(_e);else if(ee.isLight)w.pushLight(ee),ee.castShadow&&w.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||Y.intersectsSprite(ee)){Oe&&Ne.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(Ee);const Et=pe.update(ee),Ct=ee.material;Ct.visible&&v.push(ee,Et,Ct,je,Ne.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(!ee.frustumCulled||Y.intersectsObject(ee))){const Et=pe.update(ee),Ct=ee.material;if(Oe&&(ee.boundingSphere!==void 0?(ee.boundingSphere===null&&ee.computeBoundingSphere(),Ne.copy(ee.boundingSphere.center)):(Et.boundingSphere===null&&Et.computeBoundingSphere(),Ne.copy(Et.boundingSphere.center)),Ne.applyMatrix4(ee.matrixWorld).applyMatrix4(Ee)),Array.isArray(Ct)){const Ot=Et.groups;for(let tn=0,sn=Ot.length;tn<sn;tn++){const Vt=Ot[tn],ir=Ct[Vt.materialIndex];ir&&ir.visible&&v.push(ee,Et,ir,je,Ne.z,Vt)}}else Ct.visible&&v.push(ee,Et,Ct,je,Ne.z,null)}}const dt=ee.children;for(let Et=0,Ct=dt.length;Et<Ct;Et++)fs(dt[Et],_e,je,Oe)}function Pf(ee,_e,je,Oe){const Te=ee.opaque,dt=ee.transmissive,Et=ee.transparent;w.setupLightsView(je),he===!0&&$e.setGlobalState(S.clippingPlanes,je),Oe&&Ke.viewport(R.copy(Oe)),Te.length>0&&Sl(Te,_e,je),dt.length>0&&Sl(dt,_e,je),Et.length>0&&Sl(Et,_e,je),Ke.buffers.depth.setTest(!0),Ke.buffers.depth.setMask(!0),Ke.buffers.color.setMask(!0),Ke.setPolygonOffset(!1)}function Ry(ee,_e,je,Oe){if((je.isScene===!0?je.overrideMaterial:null)!==null)return;w.state.transmissionRenderTarget[Oe.id]===void 0&&(w.state.transmissionRenderTarget[Oe.id]=new eu(1,1,{generateMipmaps:!0,type:qe.has("EXT_color_buffer_half_float")||qe.has("EXT_color_buffer_float")?Ab:Jc,minFilter:Uu,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:vr.workingColorSpace}));const dt=w.state.transmissionRenderTarget[Oe.id],Et=Oe.viewport||R;dt.setSize(Et.z,Et.w);const Ct=S.getRenderTarget();S.setRenderTarget(dt),S.getClearColor(G),K=S.getClearAlpha(),K<1&&S.setClearColor(16777215,.5),S.clear(),Fe&&Ut.render(je);const Ot=S.toneMapping;S.toneMapping=qu;const tn=Oe.viewport;if(Oe.viewport!==void 0&&(Oe.viewport=void 0),w.setupLightsView(Oe),he===!0&&$e.setGlobalState(S.clippingPlanes,Oe),Sl(ee,je,Oe),$.updateMultisampleRenderTarget(dt),$.updateRenderTargetMipmap(dt),qe.has("WEBGL_multisampled_render_to_texture")===!1){let sn=!1;for(let Vt=0,ir=_e.length;Vt<ir;Vt++){const ar=_e[Vt],dr=ar.object,Bn=ar.geometry,Yt=ar.material,It=ar.group;if(Yt.side===Iu&&dr.layers.test(Oe.layers)){const er=Yt.side;Yt.side=Ka,Yt.needsUpdate=!0,Iy(dr,je,Oe,Bn,Yt,It),Yt.side=er,Yt.needsUpdate=!0,sn=!0}}sn===!0&&($.updateMultisampleRenderTarget(dt),$.updateRenderTargetMipmap(dt))}S.setRenderTarget(Ct),S.setClearColor(G,K),tn!==void 0&&(Oe.viewport=tn),S.toneMapping=Ot}function Sl(ee,_e,je){const Oe=_e.isScene===!0?_e.overrideMaterial:null;for(let Te=0,dt=ee.length;Te<dt;Te++){const Et=ee[Te],Ct=Et.object,Ot=Et.geometry,tn=Oe===null?Et.material:Oe,sn=Et.group;Ct.layers.test(je.layers)&&Iy(Ct,_e,je,Ot,tn,sn)}}function Iy(ee,_e,je,Oe,Te,dt){ee.onBeforeRender(S,_e,je,Oe,Te,dt),ee.modelViewMatrix.multiplyMatrices(je.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),Te.onBeforeRender(S,_e,je,Oe,ee,dt),Te.transparent===!0&&Te.side===Iu&&Te.forceSinglePass===!1?(Te.side=Ka,Te.needsUpdate=!0,S.renderBufferDirect(je,_e,Oe,Te,ee,dt),Te.side=pf,Te.needsUpdate=!0,S.renderBufferDirect(je,_e,Oe,Te,ee,dt),Te.side=Iu):S.renderBufferDirect(je,_e,Oe,Te,ee,dt),ee.onAfterRender(S,_e,je,Oe,Te,dt)}function jf(ee,_e,je){_e.isScene!==!0&&(_e=Ue);const Oe=ct.get(ee),Te=w.state.lights,dt=w.state.shadowsArray,Et=Te.state.version,Ct=ce.getParameters(ee,Te.state,dt,_e,je),Ot=ce.getProgramCacheKey(Ct);let tn=Oe.programs;Oe.environment=ee.isMeshStandardMaterial?_e.environment:null,Oe.fog=_e.fog,Oe.envMap=(ee.isMeshStandardMaterial?re:F).get(ee.envMap||Oe.environment),Oe.envMapRotation=Oe.environment!==null&&ee.envMap===null?_e.environmentRotation:ee.envMapRotation,tn===void 0&&(ee.addEventListener("dispose",qn),tn=new Map,Oe.programs=tn);let sn=tn.get(Ot);if(sn!==void 0){if(Oe.currentProgram===sn&&Oe.lightsStateVersion===Et)return Dy(ee,Ct),sn}else Ct.uniforms=ce.getUniforms(ee),ee.onBeforeCompile(Ct,S),sn=ce.acquireProgram(Ct,Ot),tn.set(Ot,sn),Oe.uniforms=Ct.uniforms;const Vt=Oe.uniforms;return(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(Vt.clippingPlanes=$e.uniform),Dy(ee,Ct),Oe.needsLights=Kb(ee),Oe.lightsStateVersion=Et,Oe.needsLights&&(Vt.ambientLightColor.value=Te.state.ambient,Vt.lightProbe.value=Te.state.probe,Vt.directionalLights.value=Te.state.directional,Vt.directionalLightShadows.value=Te.state.directionalShadow,Vt.spotLights.value=Te.state.spot,Vt.spotLightShadows.value=Te.state.spotShadow,Vt.rectAreaLights.value=Te.state.rectArea,Vt.ltc_1.value=Te.state.rectAreaLTC1,Vt.ltc_2.value=Te.state.rectAreaLTC2,Vt.pointLights.value=Te.state.point,Vt.pointLightShadows.value=Te.state.pointShadow,Vt.hemisphereLights.value=Te.state.hemi,Vt.directionalShadowMap.value=Te.state.directionalShadowMap,Vt.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,Vt.spotShadowMap.value=Te.state.spotShadowMap,Vt.spotLightMatrix.value=Te.state.spotLightMatrix,Vt.spotLightMap.value=Te.state.spotLightMap,Vt.pointShadowMap.value=Te.state.pointShadowMap,Vt.pointShadowMatrix.value=Te.state.pointShadowMatrix),Oe.currentProgram=sn,Oe.uniformsList=null,sn}function Ly(ee){if(ee.uniformsList===null){const _e=ee.currentProgram.getUniforms();ee.uniformsList=jC.seqWithValue(_e.seq,ee.uniforms)}return ee.uniformsList}function Dy(ee,_e){const je=ct.get(ee);je.outputColorSpace=_e.outputColorSpace,je.batching=_e.batching,je.batchingColor=_e.batchingColor,je.instancing=_e.instancing,je.instancingColor=_e.instancingColor,je.instancingMorph=_e.instancingMorph,je.skinning=_e.skinning,je.morphTargets=_e.morphTargets,je.morphNormals=_e.morphNormals,je.morphColors=_e.morphColors,je.morphTargetsCount=_e.morphTargetsCount,je.numClippingPlanes=_e.numClippingPlanes,je.numIntersection=_e.numClipIntersection,je.vertexAlphas=_e.vertexAlphas,je.vertexTangents=_e.vertexTangents,je.toneMapping=_e.toneMapping}function Xb(ee,_e,je,Oe,Te){_e.isScene!==!0&&(_e=Ue),$.resetTextureUnits();const dt=_e.fog,Et=Oe.isMeshStandardMaterial?_e.environment:null,Ct=N===null?S.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Sf,Ot=(Oe.isMeshStandardMaterial?re:F).get(Oe.envMap||Et),tn=Oe.vertexColors===!0&&!!je.attributes.color&&je.attributes.color.itemSize===4,sn=!!je.attributes.tangent&&(!!Oe.normalMap||Oe.anisotropy>0),Vt=!!je.morphAttributes.position,ir=!!je.morphAttributes.normal,ar=!!je.morphAttributes.color;let dr=qu;Oe.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(dr=S.toneMapping);const Bn=je.morphAttributes.position||je.morphAttributes.normal||je.morphAttributes.color,Yt=Bn!==void 0?Bn.length:0,It=ct.get(Oe),er=w.state.lights;if(he===!0&&(Ce===!0||ee!==U)){const Ns=ee===U&&Oe.id===O;$e.setState(Oe,ee,Ns)}let mn=!1;Oe.version===It.__version?(It.needsLights&&It.lightsStateVersion!==er.state.version||It.outputColorSpace!==Ct||Te.isBatchedMesh&&It.batching===!1||!Te.isBatchedMesh&&It.batching===!0||Te.isBatchedMesh&&It.batchingColor===!0&&Te.colorTexture===null||Te.isBatchedMesh&&It.batchingColor===!1&&Te.colorTexture!==null||Te.isInstancedMesh&&It.instancing===!1||!Te.isInstancedMesh&&It.instancing===!0||Te.isSkinnedMesh&&It.skinning===!1||!Te.isSkinnedMesh&&It.skinning===!0||Te.isInstancedMesh&&It.instancingColor===!0&&Te.instanceColor===null||Te.isInstancedMesh&&It.instancingColor===!1&&Te.instanceColor!==null||Te.isInstancedMesh&&It.instancingMorph===!0&&Te.morphTexture===null||Te.isInstancedMesh&&It.instancingMorph===!1&&Te.morphTexture!==null||It.envMap!==Ot||Oe.fog===!0&&It.fog!==dt||It.numClippingPlanes!==void 0&&(It.numClippingPlanes!==$e.numPlanes||It.numIntersection!==$e.numIntersection)||It.vertexAlphas!==tn||It.vertexTangents!==sn||It.morphTargets!==Vt||It.morphNormals!==ir||It.morphColors!==ar||It.toneMapping!==dr||It.morphTargetsCount!==Yt)&&(mn=!0):(mn=!0,It.__version=Oe.version);let Ci=It.currentProgram;mn===!0&&(Ci=jf(Oe,_e,Te));let Zs=!1,Er=!1,dc=!1;const kr=Ci.getUniforms(),ro=It.uniforms;if(Ke.useProgram(Ci.program)&&(Zs=!0,Er=!0,dc=!0),Oe.id!==O&&(O=Oe.id,Er=!0),Zs||U!==ee){We.reverseDepthBuffer?(Ie.copy(ee.projectionMatrix),IPe(Ie),LPe(Ie),kr.setValue(J,"projectionMatrix",Ie)):kr.setValue(J,"projectionMatrix",ee.projectionMatrix),kr.setValue(J,"viewMatrix",ee.matrixWorldInverse);const Ns=kr.map.cameraPosition;Ns!==void 0&&Ns.setValue(J,Je.setFromMatrixPosition(ee.matrixWorld)),We.logarithmicDepthBuffer&&kr.setValue(J,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),(Oe.isMeshPhongMaterial||Oe.isMeshToonMaterial||Oe.isMeshLambertMaterial||Oe.isMeshBasicMaterial||Oe.isMeshStandardMaterial||Oe.isShaderMaterial)&&kr.setValue(J,"isOrthographic",ee.isOrthographicCamera===!0),U!==ee&&(U=ee,Er=!0,dc=!0)}if(Te.isSkinnedMesh){kr.setOptional(J,Te,"bindMatrix"),kr.setOptional(J,Te,"bindMatrixInverse");const Ns=Te.skeleton;Ns&&(Ns.boneTexture===null&&Ns.computeBoneTexture(),kr.setValue(J,"boneTexture",Ns.boneTexture,$))}Te.isBatchedMesh&&(kr.setOptional(J,Te,"batchingTexture"),kr.setValue(J,"batchingTexture",Te._matricesTexture,$),kr.setOptional(J,Te,"batchingIdTexture"),kr.setValue(J,"batchingIdTexture",Te._indirectTexture,$),kr.setOptional(J,Te,"batchingColorTexture"),Te._colorsTexture!==null&&kr.setValue(J,"batchingColorTexture",Te._colorsTexture,$));const ou=je.morphAttributes;if((ou.position!==void 0||ou.normal!==void 0||ou.color!==void 0)&&Pt.update(Te,je,Ci),(Er||It.receiveShadow!==Te.receiveShadow)&&(It.receiveShadow=Te.receiveShadow,kr.setValue(J,"receiveShadow",Te.receiveShadow)),Oe.isMeshGouraudMaterial&&Oe.envMap!==null&&(ro.envMap.value=Ot,ro.flipEnvMap.value=Ot.isCubeTexture&&Ot.isRenderTargetTexture===!1?-1:1),Oe.isMeshStandardMaterial&&Oe.envMap===null&&_e.environment!==null&&(ro.envMapIntensity.value=_e.environmentIntensity),Er&&(kr.setValue(J,"toneMappingExposure",S.toneMappingExposure),It.needsLights&&Fy(ro,dc),dt&&Oe.fog===!0&&xe.refreshFogUniforms(ro,dt),xe.refreshMaterialUniforms(ro,Oe,ie,q,w.state.transmissionRenderTarget[ee.id]),jC.upload(J,Ly(It),ro,$)),Oe.isShaderMaterial&&Oe.uniformsNeedUpdate===!0&&(jC.upload(J,Ly(It),ro,$),Oe.uniformsNeedUpdate=!1),Oe.isSpriteMaterial&&kr.setValue(J,"center",Te.center),kr.setValue(J,"modelViewMatrix",Te.modelViewMatrix),kr.setValue(J,"normalMatrix",Te.normalMatrix),kr.setValue(J,"modelMatrix",Te.matrixWorld),Oe.isShaderMaterial||Oe.isRawShaderMaterial){const Ns=Oe.uniformsGroups;for(let Ps=0,Hp=Ns.length;Ps<Hp;Ps++){const Uy=Ns[Ps];ve.update(Uy,Ci),ve.bind(Uy,Ci)}}return Ci}function Fy(ee,_e){ee.ambientLightColor.needsUpdate=_e,ee.lightProbe.needsUpdate=_e,ee.directionalLights.needsUpdate=_e,ee.directionalLightShadows.needsUpdate=_e,ee.pointLights.needsUpdate=_e,ee.pointLightShadows.needsUpdate=_e,ee.spotLights.needsUpdate=_e,ee.spotLightShadows.needsUpdate=_e,ee.rectAreaLights.needsUpdate=_e,ee.hemisphereLights.needsUpdate=_e}function Kb(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(ee,_e,je){ct.get(ee.texture).__webglTexture=_e,ct.get(ee.depthTexture).__webglTexture=je;const Oe=ct.get(ee);Oe.__hasExternalTextures=!0,Oe.__autoAllocateDepthBuffer=je===void 0,Oe.__autoAllocateDepthBuffer||qe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Oe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(ee,_e){const je=ct.get(ee);je.__webglFramebuffer=_e,je.__useDefaultFramebuffer=_e===void 0},this.setRenderTarget=function(ee,_e=0,je=0){N=ee,C=_e,T=je;let Oe=!0,Te=null,dt=!1,Et=!1;if(ee){const Ot=ct.get(ee);if(Ot.__useDefaultFramebuffer!==void 0)Ke.bindFramebuffer(J.FRAMEBUFFER,null),Oe=!1;else if(Ot.__webglFramebuffer===void 0)$.setupRenderTarget(ee);else if(Ot.__hasExternalTextures)$.rebindTextures(ee,ct.get(ee.texture).__webglTexture,ct.get(ee.depthTexture).__webglTexture);else if(ee.depthBuffer){const Vt=ee.depthTexture;if(Ot.__boundDepthTexture!==Vt){if(Vt!==null&&ct.has(Vt)&&(ee.width!==Vt.image.width||ee.height!==Vt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");$.setupDepthRenderbuffer(ee)}}const tn=ee.texture;(tn.isData3DTexture||tn.isDataArrayTexture||tn.isCompressedArrayTexture)&&(Et=!0);const sn=ct.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Array.isArray(sn[_e])?Te=sn[_e][je]:Te=sn[_e],dt=!0):ee.samples>0&&$.useMultisampledRTT(ee)===!1?Te=ct.get(ee).__webglMultisampledFramebuffer:Array.isArray(sn)?Te=sn[je]:Te=sn,R.copy(ee.viewport),I.copy(ee.scissor),B=ee.scissorTest}else R.copy(z).multiplyScalar(ie).floor(),I.copy(oe).multiplyScalar(ie).floor(),B=de;if(Ke.bindFramebuffer(J.FRAMEBUFFER,Te)&&Oe&&Ke.drawBuffers(ee,Te),Ke.viewport(R),Ke.scissor(I),Ke.setScissorTest(B),dt){const Ot=ct.get(ee.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Ot.__webglTexture,je)}else if(Et){const Ot=ct.get(ee.texture),tn=_e||0;J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,Ot.__webglTexture,je||0,tn)}O=-1},this.readRenderTargetPixels=function(ee,_e,je,Oe,Te,dt,Et){if(!(ee&&ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ct=ct.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&Et!==void 0&&(Ct=Ct[Et]),Ct){Ke.bindFramebuffer(J.FRAMEBUFFER,Ct);try{const Ot=ee.texture,tn=Ot.format,sn=Ot.type;if(!We.textureFormatReadable(tn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!We.textureTypeReadable(sn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=ee.width-Oe&&je>=0&&je<=ee.height-Te&&J.readPixels(_e,je,Oe,Te,Tt.convert(tn),Tt.convert(sn),dt)}finally{const Ot=N!==null?ct.get(N).__webglFramebuffer:null;Ke.bindFramebuffer(J.FRAMEBUFFER,Ot)}}},this.readRenderTargetPixelsAsync=async function(ee,_e,je,Oe,Te,dt,Et){if(!(ee&&ee.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ct=ct.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&Et!==void 0&&(Ct=Ct[Et]),Ct){const Ot=ee.texture,tn=Ot.format,sn=Ot.type;if(!We.textureFormatReadable(tn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!We.textureTypeReadable(sn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(_e>=0&&_e<=ee.width-Oe&&je>=0&&je<=ee.height-Te){Ke.bindFramebuffer(J.FRAMEBUFFER,Ct);const Vt=J.createBuffer();J.bindBuffer(J.PIXEL_PACK_BUFFER,Vt),J.bufferData(J.PIXEL_PACK_BUFFER,dt.byteLength,J.STREAM_READ),J.readPixels(_e,je,Oe,Te,Tt.convert(tn),Tt.convert(sn),0);const ir=N!==null?ct.get(N).__webglFramebuffer:null;Ke.bindFramebuffer(J.FRAMEBUFFER,ir);const ar=J.fenceSync(J.SYNC_GPU_COMMANDS_COMPLETE,0);return J.flush(),await RPe(J,ar,4),J.bindBuffer(J.PIXEL_PACK_BUFFER,Vt),J.getBufferSubData(J.PIXEL_PACK_BUFFER,0,dt),J.deleteBuffer(Vt),J.deleteSync(ar),dt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(ee,_e=null,je=0){ee.isTexture!==!0&&(PC("WebGLRenderer: copyFramebufferToTexture function signature has changed."),_e=arguments[0]||null,ee=arguments[1]);const Oe=Math.pow(2,-je),Te=Math.floor(ee.image.width*Oe),dt=Math.floor(ee.image.height*Oe),Et=_e!==null?_e.x:0,Ct=_e!==null?_e.y:0;$.setTexture2D(ee,0),J.copyTexSubImage2D(J.TEXTURE_2D,je,0,0,Et,Ct,Te,dt),Ke.unbindTexture()},this.copyTextureToTexture=function(ee,_e,je=null,Oe=null,Te=0){ee.isTexture!==!0&&(PC("WebGLRenderer: copyTextureToTexture function signature has changed."),Oe=arguments[0]||null,ee=arguments[1],_e=arguments[2],Te=arguments[3]||0,je=null);let dt,Et,Ct,Ot,tn,sn;je!==null?(dt=je.max.x-je.min.x,Et=je.max.y-je.min.y,Ct=je.min.x,Ot=je.min.y):(dt=ee.image.width,Et=ee.image.height,Ct=0,Ot=0),Oe!==null?(tn=Oe.x,sn=Oe.y):(tn=0,sn=0);const Vt=Tt.convert(_e.format),ir=Tt.convert(_e.type);$.setTexture2D(_e,0),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,_e.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,_e.unpackAlignment);const ar=J.getParameter(J.UNPACK_ROW_LENGTH),dr=J.getParameter(J.UNPACK_IMAGE_HEIGHT),Bn=J.getParameter(J.UNPACK_SKIP_PIXELS),Yt=J.getParameter(J.UNPACK_SKIP_ROWS),It=J.getParameter(J.UNPACK_SKIP_IMAGES),er=ee.isCompressedTexture?ee.mipmaps[Te]:ee.image;J.pixelStorei(J.UNPACK_ROW_LENGTH,er.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,er.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Ct),J.pixelStorei(J.UNPACK_SKIP_ROWS,Ot),ee.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,Te,tn,sn,dt,Et,Vt,ir,er.data):ee.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,Te,tn,sn,er.width,er.height,Vt,er.data):J.texSubImage2D(J.TEXTURE_2D,Te,tn,sn,dt,Et,Vt,ir,er),J.pixelStorei(J.UNPACK_ROW_LENGTH,ar),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,dr),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Bn),J.pixelStorei(J.UNPACK_SKIP_ROWS,Yt),J.pixelStorei(J.UNPACK_SKIP_IMAGES,It),Te===0&&_e.generateMipmaps&&J.generateMipmap(J.TEXTURE_2D),Ke.unbindTexture()},this.copyTextureToTexture3D=function(ee,_e,je=null,Oe=null,Te=0){ee.isTexture!==!0&&(PC("WebGLRenderer: copyTextureToTexture3D function signature has changed."),je=arguments[0]||null,Oe=arguments[1]||null,ee=arguments[2],_e=arguments[3],Te=arguments[4]||0);let dt,Et,Ct,Ot,tn,sn,Vt,ir,ar;const dr=ee.isCompressedTexture?ee.mipmaps[Te]:ee.image;je!==null?(dt=je.max.x-je.min.x,Et=je.max.y-je.min.y,Ct=je.max.z-je.min.z,Ot=je.min.x,tn=je.min.y,sn=je.min.z):(dt=dr.width,Et=dr.height,Ct=dr.depth,Ot=0,tn=0,sn=0),Oe!==null?(Vt=Oe.x,ir=Oe.y,ar=Oe.z):(Vt=0,ir=0,ar=0);const Bn=Tt.convert(_e.format),Yt=Tt.convert(_e.type);let It;if(_e.isData3DTexture)$.setTexture3D(_e,0),It=J.TEXTURE_3D;else if(_e.isDataArrayTexture||_e.isCompressedArrayTexture)$.setTexture2DArray(_e,0),It=J.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,_e.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,_e.unpackAlignment);const er=J.getParameter(J.UNPACK_ROW_LENGTH),mn=J.getParameter(J.UNPACK_IMAGE_HEIGHT),Ci=J.getParameter(J.UNPACK_SKIP_PIXELS),Zs=J.getParameter(J.UNPACK_SKIP_ROWS),Er=J.getParameter(J.UNPACK_SKIP_IMAGES);J.pixelStorei(J.UNPACK_ROW_LENGTH,dr.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,dr.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Ot),J.pixelStorei(J.UNPACK_SKIP_ROWS,tn),J.pixelStorei(J.UNPACK_SKIP_IMAGES,sn),ee.isDataTexture||ee.isData3DTexture?J.texSubImage3D(It,Te,Vt,ir,ar,dt,Et,Ct,Bn,Yt,dr.data):_e.isCompressedArrayTexture?J.compressedTexSubImage3D(It,Te,Vt,ir,ar,dt,Et,Ct,Bn,dr.data):J.texSubImage3D(It,Te,Vt,ir,ar,dt,Et,Ct,Bn,Yt,dr),J.pixelStorei(J.UNPACK_ROW_LENGTH,er),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,mn),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Ci),J.pixelStorei(J.UNPACK_SKIP_ROWS,Zs),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Er),Te===0&&_e.generateMipmaps&&J.generateMipmap(It),Ke.unbindTexture()},this.initRenderTarget=function(ee){ct.get(ee).__webglFramebuffer===void 0&&$.setupRenderTarget(ee)},this.initTexture=function(ee){ee.isCubeTexture?$.setTextureCube(ee,0):ee.isData3DTexture?$.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?$.setTexture2DArray(ee,0):$.setTexture2D(ee,0),Ke.unbindTexture()},this.resetState=function(){C=0,T=0,N=null,Ke.reset(),Cn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Bu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Mj?"display-p3":"srgb",n.unpackColorSpace=vr.workingColorSpace===RE?"display-p3":"srgb"}}class Pj{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new kt(e),this.density=n}clone(){return new Pj(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class jj{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new kt(e),this.near=n,this.far=r}clone(){return new jj(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class JB extends gr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ml,this.environmentIntensity=1,this.environmentRotation=new ml,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class kj{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=yS,this.updateRanges=[],this.version=0,this.uuid=fl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fa=new se;class ly{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Fa.fromBufferAttribute(this,n),Fa.applyMatrix4(e),this.setXYZ(n,Fa.x,Fa.y,Fa.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Fa.fromBufferAttribute(this,n),Fa.applyNormalMatrix(e),this.setXYZ(n,Fa.x,Fa.y,Fa.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Fa.fromBufferAttribute(this,n),Fa.transformDirection(e),this.setXYZ(n,Fa.x,Fa.y,Fa.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Ga(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Fn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ga(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ga(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ga(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ga(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array),s=Fn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Ur(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ly(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class e5 extends Ta{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new kt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Xv;const o_=new se,Kv=new se,Yv=new se,Zv=new tt,l_=new tt,Pre=new on,gM=new se,c_=new se,yM=new se,pW=new tt,uI=new tt,mW=new tt;class jre extends gr{constructor(e=new e5){if(super(),this.isSprite=!0,this.type="Sprite",Xv===void 0){Xv=new Zn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new kj(n,5);Xv.setIndex([0,1,2,0,2,3]),Xv.setAttribute("position",new ly(r,3,0,!1)),Xv.setAttribute("uv",new ly(r,2,3,!1))}this.geometry=Xv,this.material=e,this.center=new tt(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Kv.setFromMatrixScale(this.matrixWorld),Pre.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Kv.multiplyScalar(-Yv.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;vM(gM.set(-.5,-.5,0),Yv,a,Kv,i,s),vM(c_.set(.5,-.5,0),Yv,a,Kv,i,s),vM(yM.set(.5,.5,0),Yv,a,Kv,i,s),pW.set(0,0),uI.set(1,0),mW.set(1,1);let o=e.ray.intersectTriangle(gM,c_,yM,!1,o_);if(o===null&&(vM(c_.set(-.5,.5,0),Yv,a,Kv,i,s),uI.set(0,1),o=e.ray.intersectTriangle(gM,yM,c_,!1,o_),o===null))return;const c=e.ray.origin.distanceTo(o_);c<e.near||c>e.far||n.push({distance:c,point:o_.clone(),uv:bo.getInterpolation(o_,gM,c_,yM,pW,uI,mW,new tt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function vM(t,e,n,r,i,s){Zv.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(l_.x=s*Zv.x-i*Zv.y,l_.y=i*Zv.x+s*Zv.y):l_.copy(Zv),t.copy(e),t.x+=l_.x,t.y+=l_.y,t.applyMatrix4(Pre)}const xM=new se,gW=new se;class kre extends gr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){xM.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(xM);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){xM.setFromMatrixPosition(e.matrixWorld),gW.setFromMatrixPosition(this.matrixWorld);const r=xM.distanceTo(gW)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const yW=new se,vW=new pr,xW=new pr,YRe=new se,bW=new on,bM=new se,dI=new Ea,wW=new on,fI=new Tb;class Ore extends cs{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=R3,this.bindMatrix=new on,this.bindMatrixInverse=new on,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ya),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,bM),this.boundingBox.expandByPoint(bM)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ea),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,bM),this.boundingSphere.expandByPoint(bM)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),dI.copy(this.boundingSphere),dI.applyMatrix4(i),e.ray.intersectsSphere(dI)!==!1&&(wW.copy(i).invert(),fI.copy(e.ray).applyMatrix4(wW),!(this.boundingBox!==null&&fI.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,fI)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new pr,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===R3?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Jne?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;vW.fromBufferAttribute(i.attributes.skinIndex,e),xW.fromBufferAttribute(i.attributes.skinWeight,e),yW.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=xW.getComponent(s);if(a!==0){const o=vW.getComponent(s);bW.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(YRe.copy(yW).applyMatrix4(bW),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class t5 extends gr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Xu extends Ui{constructor(e=null,n=1,r=1,i,s,a,o,c,u=qs,d=qs,f,h){super(null,a,o,c,u,d,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _W=new on,ZRe=new on;class Oj{constructor(e=[],n=[]){this.uuid=fl(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new on)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new on;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:ZRe;_W.multiplyMatrices(o,n[s]),_W.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Oj(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Xu(n,e,e,_a,_o);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=n[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new t5),this.bones.push(a),this.boneInverses.push(new on().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const a=n[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class k0 extends Ur{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Qv=new on,SW=new on,wM=[],EW=new Ya,QRe=new on,u_=new cs,d_=new Ea;class Rre extends cs{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new k0(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,QRe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ya),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Qv),EW.copy(e.boundingBox).applyMatrix4(Qv),this.boundingBox.union(EW)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ea),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Qv),d_.copy(e.boundingSphere).applyMatrix4(Qv),this.boundingSphere.union(d_)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,a=e*s+1;for(let o=0;o<r.length;o++)r[o]=i[a+o]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(u_.geometry=this.geometry,u_.material=this.material,u_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),d_.copy(this.boundingSphere),d_.applyMatrix4(r),e.ray.intersectsSphere(d_)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Qv),SW.multiplyMatrices(r,Qv),u_.matrixWorld=SW,u_.raycast(e,wM);for(let a=0,o=wM.length;a<o;a++){const c=wM[a];c.instanceId=s,c.object=this,n.push(c)}wM.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new k0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Xu(new Float32Array(i*this.count),i,this.count,Sj,_o));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<r.length;u++)a+=r[u];const o=this.geometry.morphTargetsRelative?1:1-a,c=i*e;s[c]=o,s.set(r,c+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function JRe(t,e){return t.z-e.z}function eIe(t,e){return e.z-t.z}class tIe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r){const i=this.pool,s=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});const a=i[this.index];s.push(a),this.index++,a.start=e.start,a.count=e.count,a.z=n,a.index=r}reset(){this.list.length=0,this.index=0}}const xh=new on,hI=new on,nIe=new on,rIe=new kt(1,1,1),AW=new on,pI=new DE,_M=new Ya,Om=new Ea,f_=new se,TW=new se,iIe=new se,mI=new tIe,ya=new cs,SM=[];function sIe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+n,a,t.getComponent(s,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class Ire extends cs{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,n,r=n*2,i){super(new Zn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._availableInstanceIds=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Xu(n,e,e,_a,_o);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Xu(n,e,e,OE,gf);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Xu(n,e,e,_a,_o);r.colorSpace=vr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:c,normalized:u}=a,d=new o.constructor(r*c),f=new Ur(d,c,u);n.setAttribute(s,f)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Ur(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ya);const e=this.boundingBox,n=this._drawInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,xh),this.getBoundingBoxAt(s,_M).applyMatrix4(xh),e.union(_M)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ea);const e=this.boundingSphere,n=this._drawInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,xh),this.getBoundingSphereAt(s,Om).applyMatrix4(xh),e.union(Om)}}addInstance(e){if(this._drawInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(i=this._availableInstanceIds.pop(),this._drawInfo[i]=r):(i=this._drawInfo.length,this._drawInfo.push(r));const s=this._matricesTexture,a=s.image.data;nIe.toArray(a,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(rIe.toArray(o.image.data,i*4),o.needsUpdate=!0),i}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const a=this._reservedRanges,o=this._drawRanges,c=this._bounds;this._geometryCount!==0&&(s=a[a.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const u=e.getIndex(),d=u!==null;if(d&&(r===-1?i.indexCount=u.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._geometryCount;return this._geometryCount++,a.push(i),o.push({start:d?i.indexStart:i.vertexStart,count:-1}),c.push({boxInitialized:!1,box:new Ya,sphereInitialized:!1,sphere:new Ea}),this.setGeometryAt(f,e),f}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=n.getIndex(),o=this._reservedRanges[e];if(i&&a.count>o.indexCount||n.attributes.position.count>o.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const c=o.vertexStart,u=o.vertexCount;for(const p in r.attributes){const g=n.getAttribute(p),v=r.getAttribute(p);sIe(g,v,c);const w=g.itemSize;for(let x=g.count,_=u;x<_;x++){const S=c+x;for(let A=0;A<w;A++)v.setComponent(S,A,0)}v.needsUpdate=!0,v.addUpdateRange(c*w,u*w)}if(i){const p=o.indexStart;for(let g=0;g<a.count;g++)s.setX(p+g,c+a.getX(g));for(let g=a.count,v=o.indexCount;g<v;g++)s.setX(p+g,c);s.needsUpdate=!0,s.addUpdateRange(p,o.indexCount)}const d=this._bounds[e];n.boundingBox!==null?(d.box.copy(n.boundingBox),d.boxInitialized=!0):d.boxInitialized=!1,n.boundingSphere!==null?(d.sphere.copy(n.boundingSphere),d.sphereInitialized=!0):d.sphereInitialized=!1;const f=this._drawRanges[e],h=n.getAttribute("position");return f.count=i?a.count:h.count,this._visibilityChanged=!0,e}deleteInstance(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?this:(n[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this._bounds[e],i=r.box,s=this.geometry;if(r.boxInitialized===!1){i.makeEmpty();const a=s.index,o=s.attributes.position,c=this._drawRanges[e];for(let u=c.start,d=c.start+c.count;u<d;u++){let f=u;a&&(f=a.getX(f)),i.expandByPoint(f_.fromBufferAttribute(o,f))}r.boxInitialized=!0}return n.copy(i),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this._bounds[e],i=r.sphere,s=this.geometry;if(r.sphereInitialized===!1){i.makeEmpty(),this.getBoundingBoxAt(e,_M),_M.getCenter(i.center);const a=s.index,o=s.attributes.position,c=this._drawRanges[e];let u=0;for(let d=c.start,f=c.start+c.count;d<f;d++){let h=d;a&&(h=a.getX(h)),f_.fromBufferAttribute(o,h),u=Math.max(u,i.center.distanceToSquared(f_))}i.radius=Math.sqrt(u),r.sphereInitialized=!0}return n.copy(i),n}setMatrixAt(e,n){const r=this._drawInfo,i=this._matricesTexture,s=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._drawInfo,i=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const r=this._colorsTexture,i=this._colorsTexture.image.data,s=this._drawInfo;return e>=s.length||s[e].active===!1?this:(n.toArray(i,e*4),r.needsUpdate=!0,this)}getColorAt(e,n){const r=this._colorsTexture.image.data,i=this._drawInfo;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*4)}setVisibleAt(e,n){const r=this._drawInfo;return e>=r.length||r[e].active===!1||r[e].visible===n?this:(r[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}setGeometryIdAt(e,n){const r=this._drawInfo;return e>=r.length||r[e].active===!1||n<0||n>=this._geometryCount?null:(r[e].geometryIndex=n,this)}getGeometryIdAt(e){const n=this._drawInfo;return e>=n.length||n[e].active===!1?-1:n[e].geometryIndex}getGeometryRangeAt(e,n={}){if(e<0||e>=this._geometryCount)return null;const r=this._drawRanges[e];return n.start=r.start,n.count=r.count,n}raycast(e,n){const r=this._drawInfo,i=this._drawRanges,s=this.matrixWorld,a=this.geometry;ya.material=this.material,ya.geometry.index=a.index,ya.geometry.attributes=a.attributes,ya.geometry.boundingBox===null&&(ya.geometry.boundingBox=new Ya),ya.geometry.boundingSphere===null&&(ya.geometry.boundingSphere=new Ea);for(let o=0,c=r.length;o<c;o++){if(!r[o].visible||!r[o].active)continue;const u=r[o].geometryIndex,d=i[u];ya.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(o,ya.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,ya.geometry.boundingBox),this.getBoundingSphereAt(u,ya.geometry.boundingSphere),ya.raycast(e,SM);for(let f=0,h=SM.length;f<h;f++){const p=SM[f];p.object=this,p.batchId=o,n.push(p)}SM.length=0}ya.material=null,ya.geometry.index=null,ya.geometry.attributes={},ya.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._drawInfo=e._drawInfo.map(n=>({...n})),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,c=this._drawInfo,u=this._multiDrawStarts,d=this._multiDrawCounts,f=this._drawRanges,h=this.perObjectFrustumCulled,p=this._indirectTexture,g=p.image.data;h&&(AW.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),pI.setFromProjectionMatrix(AW,e.coordinateSystem));let v=0;if(this.sortObjects){hI.copy(this.matrixWorld).invert(),f_.setFromMatrixPosition(r.matrixWorld).applyMatrix4(hI),TW.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(hI);for(let _=0,S=c.length;_<S;_++)if(c[_].visible&&c[_].active){const A=c[_].geometryIndex;this.getMatrixAt(_,xh),this.getBoundingSphereAt(A,Om).applyMatrix4(xh);let C=!1;if(h&&(C=!pI.intersectsSphere(Om)),!C){const T=iIe.subVectors(Om.center,f_).dot(TW);mI.push(f[A],T,_)}}const w=mI.list,x=this.customSort;x===null?w.sort(s.transparent?eIe:JRe):x.call(this,w,r);for(let _=0,S=w.length;_<S;_++){const A=w[_];u[v]=A.start*o,d[v]=A.count,g[v]=A.index,v++}mI.reset()}else for(let w=0,x=c.length;w<x;w++)if(c[w].visible&&c[w].active){const _=c[w].geometryIndex;let S=!1;if(h&&(this.getMatrixAt(w,xh),this.getBoundingSphereAt(_,Om).applyMatrix4(xh),S=!pI.intersectsSphere(Om)),!S){const A=f[_];u[v]=A.start*o,d[v]=A.count,g[v]=w,v++}}p.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class no extends Ta{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new kt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const mP=new se,gP=new se,MW=new on,h_=new Tb,EM=new Ea,gI=new se,CW=new se;let bp=class extends gr{constructor(e=new Zn,n=new no){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)mP.fromBufferAttribute(n,i-1),gP.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=mP.distanceTo(gP);e.setAttribute("lineDistance",new qt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),EM.copy(r.boundingSphere),EM.applyMatrix4(i),EM.radius+=s,e.ray.intersectsSphere(EM)===!1)return;MW.copy(i).invert(),h_.copy(e.ray).applyMatrix4(MW);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=this.isLineSegments?2:1,d=r.index,h=r.attributes.position;if(d!==null){const p=Math.max(0,a.start),g=Math.min(d.count,a.start+a.count);for(let v=p,w=g-1;v<w;v+=u){const x=d.getX(v),_=d.getX(v+1),S=AM(this,e,h_,c,x,_);S&&n.push(S)}if(this.isLineLoop){const v=d.getX(g-1),w=d.getX(p),x=AM(this,e,h_,c,v,w);x&&n.push(x)}}else{const p=Math.max(0,a.start),g=Math.min(h.count,a.start+a.count);for(let v=p,w=g-1;v<w;v+=u){const x=AM(this,e,h_,c,v,v+1);x&&n.push(x)}if(this.isLineLoop){const v=AM(this,e,h_,c,g-1,p);v&&n.push(v)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}};function AM(t,e,n,r,i,s){const a=t.geometry.attributes.position;if(mP.fromBufferAttribute(a,i),gP.fromBufferAttribute(a,s),n.distanceSqToSegment(mP,gP,gI,CW)>r)return;gI.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(gI);if(!(c<e.near||c>e.far))return{distance:c,point:CW.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:t}}const NW=new se,PW=new se;class ad extends bp{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)NW.fromBufferAttribute(n,i),PW.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+NW.distanceTo(PW);e.setAttribute("lineDistance",new qt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Lre extends bp{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Rj extends Ta{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new kt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const jW=new on,B3=new Tb,TM=new Ea,MM=new se;let Dre=class extends gr{constructor(e=new Zn,n=new Rj){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),TM.copy(r.boundingSphere),TM.applyMatrix4(i),TM.radius+=s,e.ray.intersectsSphere(TM)===!1)return;jW.copy(i).invert(),B3.copy(e.ray).applyMatrix4(jW);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);for(let g=h,v=p;g<v;g++){const w=u.getX(g);MM.fromBufferAttribute(f,w),kW(MM,w,c,i,e,n,this)}}else{const h=Math.max(0,a.start),p=Math.min(f.count,a.start+a.count);for(let g=h,v=p;g<v;g++)MM.fromBufferAttribute(f,g),kW(MM,g,c,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}};function kW(t,e,n,r,i,s,a){const o=B3.distanceSqToPoint(t);if(o<n){const c=new se;B3.closestPointToPoint(t,c),c.applyMatrix4(r);const u=i.ray.origin.distanceTo(c);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class aIe extends Ui{constructor(e,n,r,i,s,a,o,c,u){super(e,n,r,i,s,a,o,c,u),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:ls,this.magFilter=s!==void 0?s:ls,this.generateMipmaps=!1;const d=this;function f(){d.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class oIe extends Ui{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=qs,this.minFilter=qs,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ij extends Ui{constructor(e,n,r,i,s,a,o,c,u,d,f,h){super(null,a,o,c,u,d,i,s,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class lIe extends Ij{constructor(e,n,r,i,s,a){super(e,n,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ql,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class cIe extends Ij{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,mf),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class uIe extends Ui{constructor(e,n,r,i,s,a,o,c,u){super(e,n,r,i,s,a,o,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}let iu=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let a;n?a=n:a=e*r[s-1];let o=0,c=s-1,u;for(;o<=c;)if(i=Math.floor(o+(c-o)/2),u=r[i]-a,u<0)o=i+1;else if(u>0)c=i-1;else{c=i;break}if(i=c,r[i]===a)return i/(s-1);const d=r[i],h=r[i+1]-d,p=(a-d)/h;return(i+p)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),c=n||(a.isVector2?new tt:new se);return c.copy(o).sub(a).normalize(),c}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new se,i=[],s=[],a=[],o=new se,c=new on;for(let p=0;p<=e;p++){const g=p/e;i[p]=this.getTangentAt(g,new se)}s[0]=new se,a[0]=new se;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>Number.EPSILON){o.normalize();const g=Math.acos(Fi(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(c.makeRotationAxis(o,g))}a[p].crossVectors(i[p],s[p])}if(n===!0){let p=Math.acos(Fi(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(p=-p);for(let g=1;g<=e;g++)s[g].applyMatrix4(c.makeRotationAxis(i[g],p*g)),a[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class Lj extends iu{constructor(e=0,n=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=c}getPoint(e,n=new tt){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=c-this.aX,p=u-this.aY;c=h*d-p*f+this.aX,u=h*f+p*d+this.aY}return r.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Fre extends Lj{constructor(e,n,r,i,s,a){super(e,n,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function n5(){let t=0,e=0,n=0,r=0;function i(s,a,o,c){t=s,e=o,n=-3*s+3*a-2*o-c,r=2*s-2*a+o+c}return{initCatmullRom:function(s,a,o,c,u){i(a,o,u*(o-s),u*(c-a))},initNonuniformCatmullRom:function(s,a,o,c,u,d,f){let h=(a-s)/u-(o-s)/(u+d)+(o-a)/d,p=(o-a)/d-(c-a)/(d+f)+(c-o)/f;h*=d,p*=d,i(a,o,h,p)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+r*o}}}const CM=new se,yI=new n5,vI=new n5,xI=new n5;class Ure extends iu{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new se){const r=n,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),c=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:c===0&&o===s-1&&(o=s-2,c=1);let u,d;this.closed||o>0?u=i[(o-1)%s]:(CM.subVectors(i[0],i[1]).add(i[0]),u=CM);const f=i[o%s],h=i[(o+1)%s];if(this.closed||o+2<s?d=i[(o+2)%s]:(CM.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=CM),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),p),v=Math.pow(f.distanceToSquared(h),p),w=Math.pow(h.distanceToSquared(d),p);v<1e-4&&(v=1),g<1e-4&&(g=v),w<1e-4&&(w=v),yI.initNonuniformCatmullRom(u.x,f.x,h.x,d.x,g,v,w),vI.initNonuniformCatmullRom(u.y,f.y,h.y,d.y,g,v,w),xI.initNonuniformCatmullRom(u.z,f.z,h.z,d.z,g,v,w)}else this.curveType==="catmullrom"&&(yI.initCatmullRom(u.x,f.x,h.x,d.x,this.tension),vI.initCatmullRom(u.y,f.y,h.y,d.y,this.tension),xI.initCatmullRom(u.z,f.z,h.z,d.z,this.tension));return r.set(yI.calc(c),vI.calc(c),xI.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new se().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function OW(t,e,n,r,i){const s=(r-e)*.5,a=(i-n)*.5,o=t*t,c=t*o;return(2*n-2*r+s+a)*c+(-3*n+3*r-2*s-a)*o+s*t+n}function dIe(t,e){const n=1-t;return n*n*e}function fIe(t,e){return 2*(1-t)*t*e}function hIe(t,e){return t*t*e}function p1(t,e,n,r){return dIe(t,e)+fIe(t,n)+hIe(t,r)}function pIe(t,e){const n=1-t;return n*n*n*e}function mIe(t,e){const n=1-t;return 3*n*n*t*e}function gIe(t,e){return 3*(1-t)*t*t*e}function yIe(t,e){return t*t*t*e}function m1(t,e,n,r,i){return pIe(t,e)+mIe(t,n)+gIe(t,r)+yIe(t,i)}class r5 extends iu{constructor(e=new tt,n=new tt,r=new tt,i=new tt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new tt){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(m1(e,i.x,s.x,a.x,o.x),m1(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Bre extends iu{constructor(e=new se,n=new se,r=new se,i=new se){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new se){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(m1(e,i.x,s.x,a.x,o.x),m1(e,i.y,s.y,a.y,o.y),m1(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class i5 extends iu{constructor(e=new tt,n=new tt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new tt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new tt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zre extends iu{constructor(e=new se,n=new se){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new se){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new se){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class s5 extends iu{constructor(e=new tt,n=new tt,r=new tt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new tt){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(p1(e,i.x,s.x,a.x),p1(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class a5 extends iu{constructor(e=new se,n=new se,r=new se){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new se){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(p1(e,i.x,s.x,a.x),p1(e,i.y,s.y,a.y),p1(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class o5 extends iu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new tt){const r=n,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,c=i[a===0?a:a-1],u=i[a],d=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(OW(o,c.x,u.x,d.x,f.x),OW(o,c.y,u.y,d.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new tt().fromArray(i))}return this}}var yP=Object.freeze({__proto__:null,ArcCurve:Fre,CatmullRomCurve3:Ure,CubicBezierCurve:r5,CubicBezierCurve3:Bre,EllipseCurve:Lj,LineCurve:i5,LineCurve3:zre,QuadraticBezierCurve:s5,QuadraticBezierCurve3:a5,SplineCurve:o5});class $re extends iu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new yP[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],c=o.getLength(),u=c===0?0:1-a/c;return o.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,c=a.getPoints(o);for(let u=0;u<c.length;u++){const d=c[u];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new yP[i.type]().fromJSON(i))}return this}}let bS=class extends $re{constructor(e){super(),this.type="Path",this.currentPoint=new tt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new i5(this.currentPoint.clone(),new tt(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new s5(this.currentPoint.clone(),new tt(e,n),new tt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,a){const o=new r5(this.currentPoint.clone(),new tt(e,n),new tt(r,i),new tt(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new o5(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,a){const o=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+o,n+c,r,i,s,a),this}absarc(e,n,r,i,s,a){return this.absellipse(e,n,r,r,i,s,a),this}ellipse(e,n,r,i,s,a,o,c){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,n+d,r,i,s,a,o,c),this}absellipse(e,n,r,i,s,a,o,c){const u=new Lj(e,n,r,i,s,a,o,c);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class UE extends Zn{constructor(e=[new tt(0,-.5),new tt(.5,0),new tt(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Fi(i,0,Math.PI*2);const s=[],a=[],o=[],c=[],u=[],d=1/n,f=new se,h=new tt,p=new se,g=new se,v=new se;let w=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:w=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,p.x=x*1,p.y=-w,p.z=x*0,v.copy(p),p.normalize(),c.push(p.x,p.y,p.z);break;case e.length-1:c.push(v.x,v.y,v.z);break;default:w=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,p.x=x*1,p.y=-w,p.z=x*0,g.copy(p),p.x+=v.x,p.y+=v.y,p.z+=v.z,p.normalize(),c.push(p.x,p.y,p.z),v.copy(g)}for(let _=0;_<=n;_++){const S=r+_*d*i,A=Math.sin(S),C=Math.cos(S);for(let T=0;T<=e.length-1;T++){f.x=e[T].x*A,f.y=e[T].y,f.z=e[T].x*C,a.push(f.x,f.y,f.z),h.x=_/n,h.y=T/(e.length-1),o.push(h.x,h.y);const N=c[3*T+0]*A,O=c[3*T+1],U=c[3*T+0]*C;u.push(N,O,U)}}for(let _=0;_<n;_++)for(let S=0;S<e.length-1;S++){const A=S+_*e.length,C=A,T=A+e.length,N=A+e.length+1,O=A+1;s.push(C,T,O),s.push(N,O,T)}this.setIndex(s),this.setAttribute("position",new qt(a,3)),this.setAttribute("uv",new qt(o,2)),this.setAttribute("normal",new qt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new UE(e.points,e.segments,e.phiStart,e.phiLength)}}class Dj extends UE{constructor(e=1,n=1,r=4,i=8){const s=new bS;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new Dj(e.radius,e.length,e.capSegments,e.radialSegments)}}class Fj extends Zn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],a=[],o=[],c=[],u=new se,d=new tt;a.push(0,0,0),o.push(0,0,1),c.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const p=r+f/n*i;u.x=e*Math.cos(p),u.y=e*Math.sin(p),a.push(u.x,u.y,u.z),o.push(0,0,1),d.x=(a[h]/e+1)/2,d.y=(a[h+1]/e+1)/2,c.push(d.x,d.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new qt(a,3)),this.setAttribute("normal",new qt(o,3)),this.setAttribute("uv",new qt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fj(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Nb extends Zn{constructor(e=1,n=1,r=1,i=32,s=1,a=!1,o=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:c};const u=this;i=Math.floor(i),s=Math.floor(s);const d=[],f=[],h=[],p=[];let g=0;const v=[],w=r/2;let x=0;_(),a===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new qt(f,3)),this.setAttribute("normal",new qt(h,3)),this.setAttribute("uv",new qt(p,2));function _(){const A=new se,C=new se;let T=0;const N=(n-e)/r;for(let O=0;O<=s;O++){const U=[],R=O/s,I=R*(n-e)+e;for(let B=0;B<=i;B++){const G=B/i,K=G*c+o,Q=Math.sin(K),q=Math.cos(K);C.x=I*Q,C.y=-R*r+w,C.z=I*q,f.push(C.x,C.y,C.z),A.set(Q,N,q).normalize(),h.push(A.x,A.y,A.z),p.push(G,1-R),U.push(g++)}v.push(U)}for(let O=0;O<i;O++)for(let U=0;U<s;U++){const R=v[U][O],I=v[U+1][O],B=v[U+1][O+1],G=v[U][O+1];e>0&&(d.push(R,I,G),T+=3),n>0&&(d.push(I,B,G),T+=3)}u.addGroup(x,T,0),x+=T}function S(A){const C=g,T=new tt,N=new se;let O=0;const U=A===!0?e:n,R=A===!0?1:-1;for(let B=1;B<=i;B++)f.push(0,w*R,0),h.push(0,R,0),p.push(.5,.5),g++;const I=g;for(let B=0;B<=i;B++){const K=B/i*c+o,Q=Math.cos(K),q=Math.sin(K);N.x=U*q,N.y=w*R,N.z=U*Q,f.push(N.x,N.y,N.z),h.push(0,R,0),T.x=Q*.5+.5,T.y=q*.5*R+.5,p.push(T.x,T.y),g++}for(let B=0;B<i;B++){const G=C+B,K=I+B;A===!0?d.push(K,K+1,G):d.push(K+1,K,G),O+=3}u.addGroup(x,O,A===!0?1:2),x+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nb(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Uj extends Nb{constructor(e=1,n=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new Uj(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Rp extends Zn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];o(i),u(r),d(),this.setAttribute("position",new qt(s,3)),this.setAttribute("normal",new qt(s.slice(),3)),this.setAttribute("uv",new qt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(_){const S=new se,A=new se,C=new se;for(let T=0;T<n.length;T+=3)p(n[T+0],S),p(n[T+1],A),p(n[T+2],C),c(S,A,C,_)}function c(_,S,A,C){const T=C+1,N=[];for(let O=0;O<=T;O++){N[O]=[];const U=_.clone().lerp(A,O/T),R=S.clone().lerp(A,O/T),I=T-O;for(let B=0;B<=I;B++)B===0&&O===T?N[O][B]=U:N[O][B]=U.clone().lerp(R,B/I)}for(let O=0;O<T;O++)for(let U=0;U<2*(T-O)-1;U++){const R=Math.floor(U/2);U%2===0?(h(N[O][R+1]),h(N[O+1][R]),h(N[O][R])):(h(N[O][R+1]),h(N[O+1][R+1]),h(N[O+1][R]))}}function u(_){const S=new se;for(let A=0;A<s.length;A+=3)S.x=s[A+0],S.y=s[A+1],S.z=s[A+2],S.normalize().multiplyScalar(_),s[A+0]=S.x,s[A+1]=S.y,s[A+2]=S.z}function d(){const _=new se;for(let S=0;S<s.length;S+=3){_.x=s[S+0],_.y=s[S+1],_.z=s[S+2];const A=w(_)/2/Math.PI+.5,C=x(_)/Math.PI+.5;a.push(A,1-C)}g(),f()}function f(){for(let _=0;_<a.length;_+=6){const S=a[_+0],A=a[_+2],C=a[_+4],T=Math.max(S,A,C),N=Math.min(S,A,C);T>.9&&N<.1&&(S<.2&&(a[_+0]+=1),A<.2&&(a[_+2]+=1),C<.2&&(a[_+4]+=1))}}function h(_){s.push(_.x,_.y,_.z)}function p(_,S){const A=_*3;S.x=e[A+0],S.y=e[A+1],S.z=e[A+2]}function g(){const _=new se,S=new se,A=new se,C=new se,T=new tt,N=new tt,O=new tt;for(let U=0,R=0;U<s.length;U+=9,R+=6){_.set(s[U+0],s[U+1],s[U+2]),S.set(s[U+3],s[U+4],s[U+5]),A.set(s[U+6],s[U+7],s[U+8]),T.set(a[R+0],a[R+1]),N.set(a[R+2],a[R+3]),O.set(a[R+4],a[R+5]),C.copy(_).add(S).add(A).divideScalar(3);const I=w(C);v(T,R+0,_,I),v(N,R+2,S,I),v(O,R+4,A,I)}}function v(_,S,A,C){C<0&&_.x===1&&(a[S]=_.x-1),A.x===0&&A.z===0&&(a[S]=C/2/Math.PI+.5)}function w(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rp(e.vertices,e.indices,e.radius,e.details)}}class Bj extends Rp{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Bj(e.radius,e.detail)}}const NM=new se,PM=new se,bI=new se,jM=new bo;class Vre extends Zn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Dg*n),a=e.getIndex(),o=e.getAttribute("position"),c=a?a.count:o.count,u=[0,0,0],d=["a","b","c"],f=new Array(3),h={},p=[];for(let g=0;g<c;g+=3){a?(u[0]=a.getX(g),u[1]=a.getX(g+1),u[2]=a.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:v,b:w,c:x}=jM;if(v.fromBufferAttribute(o,u[0]),w.fromBufferAttribute(o,u[1]),x.fromBufferAttribute(o,u[2]),jM.getNormal(bI),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const S=(_+1)%3,A=f[_],C=f[S],T=jM[d[_]],N=jM[d[S]],O=`${A}_${C}`,U=`${C}_${A}`;U in h&&h[U]?(bI.dot(h[U].normal)<=s&&(p.push(T.x,T.y,T.z),p.push(N.x,N.y,N.z)),h[U]=null):O in h||(h[O]={index0:u[_],index1:u[S],normal:bI.clone()})}}for(const g in h)if(h[g]){const{index0:v,index1:w}=h[g];NM.fromBufferAttribute(o,v),PM.fromBufferAttribute(o,w),p.push(NM.x,NM.y,NM.z),p.push(PM.x,PM.y,PM.z)}this.setAttribute("position",new qt(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Ug=class extends bS{constructor(e){super(e),this.uuid=fl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new bS().fromJSON(i))}return this}};const vIe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=Hre(t,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,c,u,d,f,h,p;if(r&&(s=SIe(t,e,s,n)),t.length>80*n){o=u=t[0],c=d=t[1];for(let g=n;g<i;g+=n)f=t[g],h=t[g+1],f<o&&(o=f),h<c&&(c=h),f>u&&(u=f),h>d&&(d=h);p=Math.max(u-o,d-c),p=p!==0?32767/p:0}return wS(s,a,n,o,c,p,0),a}};function Hre(t,e,n,r,i){let s,a;if(i===RIe(t,e,n,r)>0)for(s=e;s<n;s+=r)a=RW(s,t[s],t[s+1],a);else for(s=n-r;s>=e;s-=r)a=RW(s,t[s],t[s+1],a);return a&&zj(a,a.next)&&(SS(a),a=a.next),a}function cy(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(zj(n,n.next)||Ai(n.prev,n,n.next)===0)){if(SS(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function wS(t,e,n,r,i,s,a){if(!t)return;!a&&s&&CIe(t,r,i,s);let o=t,c,u;for(;t.prev!==t.next;){if(c=t.prev,u=t.next,s?bIe(t,r,i,s):xIe(t)){e.push(c.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),SS(t),t=u.next,o=u.next;continue}if(t=u,t===o){a?a===1?(t=wIe(cy(t),e,n),wS(t,e,n,r,i,s,2)):a===2&&_Ie(t,e,n,r,i,s):wS(cy(t),e,n,r,i,s,1);break}}}function xIe(t){const e=t.prev,n=t,r=t.next;if(Ai(e,n,r)>=0)return!1;const i=e.x,s=n.x,a=r.x,o=e.y,c=n.y,u=r.y,d=i<s?i<a?i:a:s<a?s:a,f=o<c?o<u?o:u:c<u?c:u,h=i>s?i>a?i:a:s>a?s:a,p=o>c?o>u?o:u:c>u?c:u;let g=r.next;for(;g!==e;){if(g.x>=d&&g.x<=h&&g.y>=f&&g.y<=p&&Cx(i,o,s,c,a,u,g.x,g.y)&&Ai(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function bIe(t,e,n,r){const i=t.prev,s=t,a=t.next;if(Ai(i,s,a)>=0)return!1;const o=i.x,c=s.x,u=a.x,d=i.y,f=s.y,h=a.y,p=o<c?o<u?o:u:c<u?c:u,g=d<f?d<h?d:h:f<h?f:h,v=o>c?o>u?o:u:c>u?c:u,w=d>f?d>h?d:h:f>h?f:h,x=z3(p,g,e,n,r),_=z3(v,w,e,n,r);let S=t.prevZ,A=t.nextZ;for(;S&&S.z>=x&&A&&A.z<=_;){if(S.x>=p&&S.x<=v&&S.y>=g&&S.y<=w&&S!==i&&S!==a&&Cx(o,d,c,f,u,h,S.x,S.y)&&Ai(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=p&&A.x<=v&&A.y>=g&&A.y<=w&&A!==i&&A!==a&&Cx(o,d,c,f,u,h,A.x,A.y)&&Ai(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=x;){if(S.x>=p&&S.x<=v&&S.y>=g&&S.y<=w&&S!==i&&S!==a&&Cx(o,d,c,f,u,h,S.x,S.y)&&Ai(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=_;){if(A.x>=p&&A.x<=v&&A.y>=g&&A.y<=w&&A!==i&&A!==a&&Cx(o,d,c,f,u,h,A.x,A.y)&&Ai(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function wIe(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!zj(i,s)&&Wre(i,r,r.next,s)&&_S(i,s)&&_S(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),SS(r),SS(r.next),r=t=s),r=r.next}while(r!==t);return cy(r)}function _Ie(t,e,n,r,i,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&jIe(a,o)){let c=Gre(a,o);a=cy(a,a.next),c=cy(c,c.next),wS(a,e,n,r,i,s,0),wS(c,e,n,r,i,s,0);return}o=o.next}a=a.next}while(a!==t)}function SIe(t,e,n,r){const i=[];let s,a,o,c,u;for(s=0,a=e.length;s<a;s++)o=e[s]*r,c=s<a-1?e[s+1]*r:t.length,u=Hre(t,o,c,r,!1),u===u.next&&(u.steiner=!0),i.push(PIe(u));for(i.sort(EIe),s=0;s<i.length;s++)n=AIe(i[s],n);return n}function EIe(t,e){return t.x-e.x}function AIe(t,e){const n=TIe(t,e);if(!n)return e;const r=Gre(n,t);return cy(r,r.next),cy(n,n.next)}function TIe(t,e){let n=e,r=-1/0,i;const s=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const h=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=s&&h>r&&(r=h,i=n.x<n.next.x?n:n.next,h===s))return i}n=n.next}while(n!==e);if(!i)return null;const o=i,c=i.x,u=i.y;let d=1/0,f;n=i;do s>=n.x&&n.x>=c&&s!==n.x&&Cx(a<u?s:r,a,c,u,a<u?r:s,a,n.x,n.y)&&(f=Math.abs(a-n.y)/(s-n.x),_S(n,t)&&(f<d||f===d&&(n.x>i.x||n.x===i.x&&MIe(i,n)))&&(i=n,d=f)),n=n.next;while(n!==o);return i}function MIe(t,e){return Ai(t.prev,t,e.prev)<0&&Ai(e.next,t,t.next)<0}function CIe(t,e,n,r){let i=t;do i.z===0&&(i.z=z3(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,NIe(i)}function NIe(t){let e,n,r,i,s,a,o,c,u=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,r=n,o=0,e=0;e<u&&(o++,r=r.nextZ,!!r);e++);for(c=u;o>0||c>0&&r;)o!==0&&(c===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(a>1);return t}function z3(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function PIe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Cx(t,e,n,r,i,s,a,o){return(i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(r-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function jIe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!kIe(t,e)&&(_S(t,e)&&_S(e,t)&&OIe(t,e)&&(Ai(t.prev,t,e.prev)||Ai(t,e.prev,e))||zj(t,e)&&Ai(t.prev,t,t.next)>0&&Ai(e.prev,e,e.next)>0)}function Ai(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function zj(t,e){return t.x===e.x&&t.y===e.y}function Wre(t,e,n,r){const i=OM(Ai(t,e,n)),s=OM(Ai(t,e,r)),a=OM(Ai(n,r,t)),o=OM(Ai(n,r,e));return!!(i!==s&&a!==o||i===0&&kM(t,n,e)||s===0&&kM(t,r,e)||a===0&&kM(n,t,r)||o===0&&kM(n,e,r))}function kM(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function OM(t){return t>0?1:t<0?-1:0}function kIe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Wre(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function _S(t,e){return Ai(t.prev,t,t.next)<0?Ai(t,e,t.next)>=0&&Ai(t,t.prev,e)>=0:Ai(t,e,t.prev)<0||Ai(t,t.next,e)<0}function OIe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Gre(t,e){const n=new $3(t.i,t.x,t.y),r=new $3(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function RW(t,e,n,r){const i=new $3(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function SS(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function $3(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function RIe(t,e,n,r){let i=0;for(let s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}class Ku{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ku.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];IW(e),LW(r,e);let a=e.length;n.forEach(IW);for(let c=0;c<n.length;c++)i.push(a),a+=n[c].length,LW(r,n[c]);const o=vIe.triangulate(r,i);for(let c=0;c<o.length;c+=3)s.push(o.slice(c,c+3));return s}}function IW(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function LW(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class $j extends Zn{constructor(e=new Ug([new tt(.5,.5),new tt(-.5,.5),new tt(-.5,-.5),new tt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,c=e.length;o<c;o++){const u=e[o];a(u)}this.setAttribute("position",new qt(i,3)),this.setAttribute("uv",new qt(s,2)),this.computeVertexNormals();function a(o){const c=[],u=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:p-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,w=n.bevelSegments!==void 0?n.bevelSegments:3;const x=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:IIe;let S,A=!1,C,T,N,O;x&&(S=x.getSpacedPoints(d),A=!0,h=!1,C=x.computeFrenetFrames(d,!1),T=new se,N=new se,O=new se),h||(w=0,p=0,g=0,v=0);const U=o.extractPoints(u);let R=U.shape;const I=U.holes;if(!Ku.isClockWise(R)){R=R.reverse();for(let le=0,J=I.length;le<J;le++){const Le=I[le];Ku.isClockWise(Le)&&(I[le]=Le.reverse())}}const G=Ku.triangulateShape(R,I),K=R;for(let le=0,J=I.length;le<J;le++){const Le=I[le];R=R.concat(Le)}function Q(le,J,Le){return J||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().addScaledVector(J,Le)}const q=R.length,ie=G.length;function V(le,J,Le){let qe,We,Ke;const yt=le.x-J.x,ct=le.y-J.y,$=Le.x-le.x,F=Le.y-le.y,re=yt*yt+ct*ct,ye=yt*F-ct*$;if(Math.abs(ye)>Number.EPSILON){const be=Math.sqrt(re),pe=Math.sqrt($*$+F*F),ce=J.x-ct/be,xe=J.y+yt/be,ke=Le.x-F/pe,ut=Le.y+$/pe,$e=((ke-ce)*F-(ut-xe)*$)/(yt*F-ct*$);qe=ce+yt*$e-le.x,We=xe+ct*$e-le.y;const st=qe*qe+We*We;if(st<=2)return new tt(qe,We);Ke=Math.sqrt(st/2)}else{let be=!1;yt>Number.EPSILON?$>Number.EPSILON&&(be=!0):yt<-Number.EPSILON?$<-Number.EPSILON&&(be=!0):Math.sign(ct)===Math.sign(F)&&(be=!0),be?(qe=-ct,We=yt,Ke=Math.sqrt(re)):(qe=yt,We=ct,Ke=Math.sqrt(re/2))}return new tt(qe/Ke,We/Ke)}const X=[];for(let le=0,J=K.length,Le=J-1,qe=le+1;le<J;le++,Le++,qe++)Le===J&&(Le=0),qe===J&&(qe=0),X[le]=V(K[le],K[Le],K[qe]);const z=[];let oe,de=X.concat();for(let le=0,J=I.length;le<J;le++){const Le=I[le];oe=[];for(let qe=0,We=Le.length,Ke=We-1,yt=qe+1;qe<We;qe++,Ke++,yt++)Ke===We&&(Ke=0),yt===We&&(yt=0),oe[qe]=V(Le[qe],Le[Ke],Le[yt]);z.push(oe),de=de.concat(oe)}for(let le=0;le<w;le++){const J=le/w,Le=p*Math.cos(J*Math.PI/2),qe=g*Math.sin(J*Math.PI/2)+v;for(let We=0,Ke=K.length;We<Ke;We++){const yt=Q(K[We],X[We],qe);Ee(yt.x,yt.y,-Le)}for(let We=0,Ke=I.length;We<Ke;We++){const yt=I[We];oe=z[We];for(let ct=0,$=yt.length;ct<$;ct++){const F=Q(yt[ct],oe[ct],qe);Ee(F.x,F.y,-Le)}}}const Y=g+v;for(let le=0;le<q;le++){const J=h?Q(R[le],de[le],Y):R[le];A?(N.copy(C.normals[0]).multiplyScalar(J.x),T.copy(C.binormals[0]).multiplyScalar(J.y),O.copy(S[0]).add(N).add(T),Ee(O.x,O.y,O.z)):Ee(J.x,J.y,0)}for(let le=1;le<=d;le++)for(let J=0;J<q;J++){const Le=h?Q(R[J],de[J],Y):R[J];A?(N.copy(C.normals[le]).multiplyScalar(Le.x),T.copy(C.binormals[le]).multiplyScalar(Le.y),O.copy(S[le]).add(N).add(T),Ee(O.x,O.y,O.z)):Ee(Le.x,Le.y,f/d*le)}for(let le=w-1;le>=0;le--){const J=le/w,Le=p*Math.cos(J*Math.PI/2),qe=g*Math.sin(J*Math.PI/2)+v;for(let We=0,Ke=K.length;We<Ke;We++){const yt=Q(K[We],X[We],qe);Ee(yt.x,yt.y,f+Le)}for(let We=0,Ke=I.length;We<Ke;We++){const yt=I[We];oe=z[We];for(let ct=0,$=yt.length;ct<$;ct++){const F=Q(yt[ct],oe[ct],qe);A?Ee(F.x,F.y+S[d-1].y,S[d-1].x+Le):Ee(F.x,F.y,f+Le)}}}he(),Ce();function he(){const le=i.length/3;if(h){let J=0,Le=q*J;for(let qe=0;qe<ie;qe++){const We=G[qe];Je(We[2]+Le,We[1]+Le,We[0]+Le)}J=d+w*2,Le=q*J;for(let qe=0;qe<ie;qe++){const We=G[qe];Je(We[0]+Le,We[1]+Le,We[2]+Le)}}else{for(let J=0;J<ie;J++){const Le=G[J];Je(Le[2],Le[1],Le[0])}for(let J=0;J<ie;J++){const Le=G[J];Je(Le[0]+q*d,Le[1]+q*d,Le[2]+q*d)}}r.addGroup(le,i.length/3-le,0)}function Ce(){const le=i.length/3;let J=0;Ie(K,J),J+=K.length;for(let Le=0,qe=I.length;Le<qe;Le++){const We=I[Le];Ie(We,J),J+=We.length}r.addGroup(le,i.length/3-le,1)}function Ie(le,J){let Le=le.length;for(;--Le>=0;){const qe=Le;let We=Le-1;We<0&&(We=le.length-1);for(let Ke=0,yt=d+w*2;Ke<yt;Ke++){const ct=q*Ke,$=q*(Ke+1),F=J+qe+ct,re=J+We+ct,ye=J+We+$,be=J+qe+$;Ne(F,re,ye,be)}}}function Ee(le,J,Le){c.push(le),c.push(J),c.push(Le)}function Je(le,J,Le){Ue(le),Ue(J),Ue(Le);const qe=i.length/3,We=_.generateTopUV(r,i,qe-3,qe-2,qe-1);Fe(We[0]),Fe(We[1]),Fe(We[2])}function Ne(le,J,Le,qe){Ue(le),Ue(J),Ue(qe),Ue(J),Ue(Le),Ue(qe);const We=i.length/3,Ke=_.generateSideWallUV(r,i,We-6,We-3,We-2,We-1);Fe(Ke[0]),Fe(Ke[1]),Fe(Ke[3]),Fe(Ke[1]),Fe(Ke[2]),Fe(Ke[3])}function Ue(le){i.push(c[le*3+0]),i.push(c[le*3+1]),i.push(c[le*3+2])}function Fe(le){s.push(le.x),s.push(le.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return LIe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new yP[i.type]().fromJSON(i)),new $j(r,e.options)}}const IIe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],a=e[n*3+1],o=e[r*3],c=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new tt(s,a),new tt(o,c),new tt(u,d)]},generateSideWallUV:function(t,e,n,r,i,s){const a=e[n*3],o=e[n*3+1],c=e[n*3+2],u=e[r*3],d=e[r*3+1],f=e[r*3+2],h=e[i*3],p=e[i*3+1],g=e[i*3+2],v=e[s*3],w=e[s*3+1],x=e[s*3+2];return Math.abs(o-d)<Math.abs(a-u)?[new tt(a,1-c),new tt(u,1-f),new tt(h,1-g),new tt(v,1-x)]:[new tt(o,1-c),new tt(d,1-f),new tt(p,1-g),new tt(w,1-x)]}};function LIe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Vj extends Rp{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Vj(e.radius,e.detail)}}class BE extends Rp{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new BE(e.radius,e.detail)}}class Hj extends Zn{constructor(e=.5,n=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],c=[],u=[],d=[];let f=e;const h=(n-e)/i,p=new se,g=new tt;for(let v=0;v<=i;v++){for(let w=0;w<=r;w++){const x=s+w/r*a;p.x=f*Math.cos(x),p.y=f*Math.sin(x),c.push(p.x,p.y,p.z),u.push(0,0,1),g.x=(p.x/n+1)/2,g.y=(p.y/n+1)/2,d.push(g.x,g.y)}f+=h}for(let v=0;v<i;v++){const w=v*(r+1);for(let x=0;x<r;x++){const _=x+w,S=_,A=_+r+1,C=_+r+2,T=_+1;o.push(S,A,T),o.push(A,C,T)}}this.setIndex(o),this.setAttribute("position",new qt(c,3)),this.setAttribute("normal",new qt(u,3)),this.setAttribute("uv",new qt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hj(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Wj extends Zn{constructor(e=new Ug([new tt(0,.5),new tt(-.5,-.5),new tt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],a=[];let o=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(o,c,d),o+=c,c=0;this.setIndex(r),this.setAttribute("position",new qt(i,3)),this.setAttribute("normal",new qt(s,3)),this.setAttribute("uv",new qt(a,2));function u(d){const f=i.length/3,h=d.extractPoints(n);let p=h.shape;const g=h.holes;Ku.isClockWise(p)===!1&&(p=p.reverse());for(let w=0,x=g.length;w<x;w++){const _=g[w];Ku.isClockWise(_)===!0&&(g[w]=_.reverse())}const v=Ku.triangulateShape(p,g);for(let w=0,x=g.length;w<x;w++){const _=g[w];p=p.concat(_)}for(let w=0,x=p.length;w<x;w++){const _=p[w];i.push(_.x,_.y,0),s.push(0,0,1),a.push(_.x,_.y)}for(let w=0,x=v.length;w<x;w++){const _=v[w],S=_[0]+f,A=_[1]+f,C=_[2]+f;r.push(S,A,C),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return DIe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=n[e.shapes[i]];r.push(a)}return new Wj(r,e.curveSegments)}}function DIe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class zE extends Zn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const c=Math.min(a+o,Math.PI);let u=0;const d=[],f=new se,h=new se,p=[],g=[],v=[],w=[];for(let x=0;x<=r;x++){const _=[],S=x/r;let A=0;x===0&&a===0?A=.5/n:x===r&&c===Math.PI&&(A=-.5/n);for(let C=0;C<=n;C++){const T=C/n;f.x=-e*Math.cos(i+T*s)*Math.sin(a+S*o),f.y=e*Math.cos(a+S*o),f.z=e*Math.sin(i+T*s)*Math.sin(a+S*o),g.push(f.x,f.y,f.z),h.copy(f).normalize(),v.push(h.x,h.y,h.z),w.push(T+A,1-S),_.push(u++)}d.push(_)}for(let x=0;x<r;x++)for(let _=0;_<n;_++){const S=d[x][_+1],A=d[x][_],C=d[x+1][_],T=d[x+1][_+1];(x!==0||a>0)&&p.push(S,A,T),(x!==r-1||c<Math.PI)&&p.push(A,C,T)}this.setIndex(p),this.setAttribute("position",new qt(g,3)),this.setAttribute("normal",new qt(v,3)),this.setAttribute("uv",new qt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zE(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Gj extends Rp{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Gj(e.radius,e.detail)}}class qj extends Zn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],c=[],u=[],d=new se,f=new se,h=new se;for(let p=0;p<=r;p++)for(let g=0;g<=i;g++){const v=g/i*s,w=p/r*Math.PI*2;f.x=(e+n*Math.cos(w))*Math.cos(v),f.y=(e+n*Math.cos(w))*Math.sin(v),f.z=n*Math.sin(w),o.push(f.x,f.y,f.z),d.x=e*Math.cos(v),d.y=e*Math.sin(v),h.subVectors(f,d).normalize(),c.push(h.x,h.y,h.z),u.push(g/i),u.push(p/r)}for(let p=1;p<=r;p++)for(let g=1;g<=i;g++){const v=(i+1)*p+g-1,w=(i+1)*(p-1)+g-1,x=(i+1)*(p-1)+g,_=(i+1)*p+g;a.push(v,w,_),a.push(w,x,_)}this.setIndex(a),this.setAttribute("position",new qt(o,3)),this.setAttribute("normal",new qt(c,3)),this.setAttribute("uv",new qt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qj(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Xj extends Zn{constructor(e=1,n=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],c=[],u=[],d=[],f=new se,h=new se,p=new se,g=new se,v=new se,w=new se,x=new se;for(let S=0;S<=r;++S){const A=S/r*s*Math.PI*2;_(A,s,a,e,p),_(A+.01,s,a,e,g),w.subVectors(g,p),x.addVectors(g,p),v.crossVectors(w,x),x.crossVectors(v,w),v.normalize(),x.normalize();for(let C=0;C<=i;++C){const T=C/i*Math.PI*2,N=-n*Math.cos(T),O=n*Math.sin(T);f.x=p.x+(N*x.x+O*v.x),f.y=p.y+(N*x.y+O*v.y),f.z=p.z+(N*x.z+O*v.z),c.push(f.x,f.y,f.z),h.subVectors(f,p).normalize(),u.push(h.x,h.y,h.z),d.push(S/r),d.push(C/i)}}for(let S=1;S<=r;S++)for(let A=1;A<=i;A++){const C=(i+1)*(S-1)+(A-1),T=(i+1)*S+(A-1),N=(i+1)*S+A,O=(i+1)*(S-1)+A;o.push(C,T,O),o.push(T,N,O)}this.setIndex(o),this.setAttribute("position",new qt(c,3)),this.setAttribute("normal",new qt(u,3)),this.setAttribute("uv",new qt(d,2));function _(S,A,C,T,N){const O=Math.cos(S),U=Math.sin(S),R=C/A*S,I=Math.cos(R);N.x=T*(2+I)*.5*O,N.y=T*(2+I)*U*.5,N.z=T*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xj(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Kj extends Zn{constructor(e=new a5(new se(-1,-1,0),new se(-1,1,0),new se(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new se,c=new se,u=new tt;let d=new se;const f=[],h=[],p=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new qt(f,3)),this.setAttribute("normal",new qt(h,3)),this.setAttribute("uv",new qt(p,2));function v(){for(let S=0;S<n;S++)w(S);w(s===!1?n:0),_(),x()}function w(S){d=e.getPointAt(S/n,d);const A=a.normals[S],C=a.binormals[S];for(let T=0;T<=i;T++){const N=T/i*Math.PI*2,O=Math.sin(N),U=-Math.cos(N);c.x=U*A.x+O*C.x,c.y=U*A.y+O*C.y,c.z=U*A.z+O*C.z,c.normalize(),h.push(c.x,c.y,c.z),o.x=d.x+r*c.x,o.y=d.y+r*c.y,o.z=d.z+r*c.z,f.push(o.x,o.y,o.z)}}function x(){for(let S=1;S<=n;S++)for(let A=1;A<=i;A++){const C=(i+1)*(S-1)+(A-1),T=(i+1)*S+(A-1),N=(i+1)*S+A,O=(i+1)*(S-1)+A;g.push(C,T,O),g.push(T,N,O)}}function _(){for(let S=0;S<=n;S++)for(let A=0;A<=i;A++)u.x=S/n,u.y=A/i,p.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Kj(new yP[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class qre extends Zn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new se,s=new se;if(e.index!==null){const a=e.attributes.position,o=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,d=c.length;u<d;++u){const f=c[u],h=f.start,p=f.count;for(let g=h,v=h+p;g<v;g+=3)for(let w=0;w<3;w++){const x=o.getX(g+w),_=o.getX(g+(w+1)%3);i.fromBufferAttribute(a,x),s.fromBufferAttribute(a,_),DW(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,c=a.count/3;o<c;o++)for(let u=0;u<3;u++){const d=3*o+u,f=3*o+(u+1)%3;i.fromBufferAttribute(a,d),s.fromBufferAttribute(a,f),DW(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new qt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function DW(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var FW=Object.freeze({__proto__:null,BoxGeometry:_y,CapsuleGeometry:Dj,CircleGeometry:Fj,ConeGeometry:Uj,CylinderGeometry:Nb,DodecahedronGeometry:Bj,EdgesGeometry:Vre,ExtrudeGeometry:$j,IcosahedronGeometry:Vj,LatheGeometry:UE,OctahedronGeometry:BE,PlaneGeometry:Mb,PolyhedronGeometry:Rp,RingGeometry:Hj,ShapeGeometry:Wj,SphereGeometry:zE,TetrahedronGeometry:Gj,TorusGeometry:qj,TorusKnotGeometry:Xj,TubeGeometry:Kj,WireframeGeometry:qre});class Xre extends Ta{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new kt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Kre extends tu{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class l5 extends Ta{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new kt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ml,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Yre extends l5{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new tt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Fi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new kt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new kt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new kt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Zre extends Ta{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new kt(16777215),this.specular=new kt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ml,this.combine=kE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qre extends Ta{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new kt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Jre extends Ta{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class eie extends Ta{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ml,this.combine=kE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tie extends Ta{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new kt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nie extends no{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function pg(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function rie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function iie(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function V3(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,a=0;a!==r;++s){const o=n[s]*e;for(let c=0;c!==e;++c)i[a++]=t[o+c]}return i}function c5(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),n.push.apply(n,a)),s=t[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),n.push(a)),s=t[i++];while(s!==void 0)}function FIe(t,e,n,r,i=30){const s=t.clone();s.name=e;const a=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],d=u.getValueSize(),f=[],h=[];for(let p=0;p<u.times.length;++p){const g=u.times[p]*i;if(!(g<n||g>=r)){f.push(u.times[p]);for(let v=0;v<d;++v)h.push(u.values[p*d+v])}}f.length!==0&&(u.times=pg(f,u.times.constructor),u.values=pg(h,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let c=0;c<s.tracks.length;++c)o>s.tracks[c].times[0]&&(o=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*o);return s.resetDuration(),s}function UIe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=n.tracks[a],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;const u=t.tracks.find(function(x){return x.name===o.name&&x.ValueTypeName===c});if(u===void 0)continue;let d=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let h=0;const p=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);const g=o.times.length-1;let v;if(s<=o.times[0]){const x=d,_=f-d;v=o.values.slice(x,_)}else if(s>=o.times[g]){const x=g*f+d,_=x+f-d;v=o.values.slice(x,_)}else{const x=o.createInterpolant(),_=d,S=f-d;x.evaluate(s),v=x.resultBuffer.slice(_,S)}c==="quaternion"&&new Mo().fromArray(v).normalize().conjugate().toArray(v);const w=u.times.length;for(let x=0;x<w;++x){const _=x*p+h;if(c==="quaternion")Mo.multiplyQuaternionsFlat(u.values,_,v,0,u.values,_);else{const S=p-h*2;for(let A=0;A<S;++A)u.values[_+A]-=v[A]}}}return t.blendMode=VB,t}const BIe={convertArray:pg,isTypedArray:rie,getKeyframeOrder:iie,sortedArray:V3,flattenJSON:c5,subclip:FIe,makeClipAdditive:UIe};class $E{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(r=2,s=o);for(let c=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===c)break;if(i=s,s=n[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<n[o]?a=o:r=o+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)n[a]=r[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class sie extends $E{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:dg,endingEnd:dg}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],c=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case fg:s=e,o=2*n-r;break;case hS:s=i.length-2,o=n+i[s]-i[s+1];break;default:s=e,o=r}if(c===void 0)switch(this.getSettings_().endingEnd){case fg:a=e,c=2*r-n;break;case hS:a=1,c=r+i[1]-i[0];break;default:a=e-1,c=n}const u=(r-n)*.5,d=this.valueSize;this._weightPrev=u/(n-o),this._weightNext=u/(c-r),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,d=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,p=this._weightNext,g=(r-n)/(i-n),v=g*g,w=v*g,x=-h*w+2*h*v-h*g,_=(1+h)*w+(-1.5-2*h)*v+(-.5+h)*g+1,S=(-1-p)*w+(1.5+p)*v+.5*g,A=p*w-p*v;for(let C=0;C!==o;++C)s[C]=x*a[d+C]+_*a[u+C]+S*a[c+C]+A*a[f+C];return s}}class u5 extends $E{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,d=(r-n)/(i-n),f=1-d;for(let h=0;h!==o;++h)s[h]=a[u+h]*f+a[c+h]*d;return s}}class aie extends $E{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class su{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=pg(n,this.TimeBufferType),this.values=pg(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:pg(e.times,Array),values:pg(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new aie(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new u5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new sie(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case fS:n=this.InterpolantFactoryMethodDiscrete;break;case pP:n=this.InterpolantFactoryMethodLinear;break;case NC:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return fS;case this.InterpolantFactoryMethodLinear:return pP;case this.InterpolantFactoryMethodSmooth:return NC}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>n;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const c=r[o];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(a!==null&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,a),e=!1;break}a=c}if(i!==void 0&&rie(i))for(let o=0,c=i.length;o!==c;++o){const u=i[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===NC,s=e.length-1;let a=1;for(let o=1;o<s;++o){let c=!1;const u=e[o],d=e[o+1];if(u!==d&&(o!==1||u!==e[0]))if(i)c=!0;else{const f=o*r,h=f-r,p=f+r;for(let g=0;g!==r;++g){const v=n[f+g];if(v!==n[h+g]||v!==n[p+g]){c=!0;break}}}if(c){if(o!==a){e[a]=e[o];const f=o*r,h=a*r;for(let p=0;p!==r;++p)n[h+p]=n[f+p]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,c=a*r,u=0;u!==r;++u)n[c+u]=n[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}su.prototype.TimeBufferType=Float32Array;su.prototype.ValueBufferType=Float32Array;su.prototype.DefaultInterpolation=pP;class Sy extends su{constructor(e,n,r){super(e,n,r)}}Sy.prototype.ValueTypeName="bool";Sy.prototype.ValueBufferType=Array;Sy.prototype.DefaultInterpolation=fS;Sy.prototype.InterpolantFactoryMethodLinear=void 0;Sy.prototype.InterpolantFactoryMethodSmooth=void 0;class d5 extends su{}d5.prototype.ValueTypeName="color";class ES extends su{}ES.prototype.ValueTypeName="number";class oie extends $E{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=(r-n)/(i-n);let u=e*o;for(let d=u+o;u!==d;u+=4)Mo.slerpFlat(s,0,a,u-o,a,u,c);return s}}class VE extends su{InterpolantFactoryMethodLinear(e){return new oie(this.times,this.values,this.getValueSize(),e)}}VE.prototype.ValueTypeName="quaternion";VE.prototype.InterpolantFactoryMethodSmooth=void 0;class Ey extends su{constructor(e,n,r){super(e,n,r)}}Ey.prototype.ValueTypeName="string";Ey.prototype.ValueBufferType=Array;Ey.prototype.DefaultInterpolation=fS;Ey.prototype.InterpolantFactoryMethodLinear=void 0;Ey.prototype.InterpolantFactoryMethodSmooth=void 0;class AS extends su{}AS.prototype.ValueTypeName="vector";class TS{constructor(e="",n=-1,r=[],i=Tj){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=fl(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)n.push($Ie(r[a]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=r.length;s!==a;++s)n.push(su.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,a=[];for(let o=0;o<s;o++){let c=[],u=[];c.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const d=iie(c);c=V3(c,1,d),u=V3(u,1,d),!i&&c[0]===0&&(c.push(s),u.push(u[0])),a.push(new ES(".morphTargetInfluences["+n[o].name+"]",c,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,c=e.length;o<c;o++){const u=e[o],d=u.name.match(s);if(d&&d.length>1){const f=d[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,p,g,v){if(p.length!==0){const w=[],x=[];c5(p,w,x,g),w.length!==0&&v.push(new f(h,w,x))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const p={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let v=0;v<h[g].morphTargets.length;v++)p[h[g].morphTargets[v]]=-1;for(const v in p){const w=[],x=[];for(let _=0;_!==h[g].morphTargets.length;++_){const S=h[g];w.push(S.time),x.push(S.morphTarget===v?1:0)}i.push(new ES(".morphTargetInfluence["+v+"]",w,x))}c=p.length*a}else{const p=".bones["+n[f].name+"]";r(AS,p+".position",h,"pos",i),r(VE,p+".quaternion",h,"rot",i),r(AS,p+".scale",h,"scl",i)}}return i.length===0?null:new this(s,c,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function zIe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ES;case"vector":case"vector2":case"vector3":case"vector4":return AS;case"color":return d5;case"quaternion":return VE;case"bool":case"boolean":return Sy;case"string":return Ey}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function $Ie(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=zIe(t.type);if(t.times===void 0){const n=[],r=[];c5(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Gd={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class f5{constructor(e,n,r){const i=this;let s=!1,a=0,o=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(d){o++,s===!1&&i.onStart!==void 0&&i.onStart(d,a,o),s=!0},this.itemEnd=function(d){a++,i.onProgress!==void 0&&i.onProgress(d,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,f){return u.push(d,f),this},this.removeHandler=function(d){const f=u.indexOf(d);return f!==-1&&u.splice(f,2),this},this.getHandler=function(d){for(let f=0,h=u.length;f<h;f+=2){const p=u[f],g=u[f+1];if(p.global&&(p.lastIndex=0),p.test(d))return g}return null}}}const lie=new f5;class jo{constructor(e){this.manager=e!==void 0?e:lie,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}jo.DEFAULT_MATERIAL_NAME="__DEFAULT";const kd={};class VIe extends Error{constructor(e,n){super(e),this.response=n}}class yf extends jo{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Gd.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(kd[e]!==void 0){kd[e].push({onLoad:n,onProgress:r,onError:i});return}kd[e]=[],kd[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,c=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=kd[e],f=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),p=h?parseInt(h):0,g=p!==0;let v=0;const w=new ReadableStream({start(x){_();function _(){f.read().then(({done:S,value:A})=>{if(S)x.close();else{v+=A.byteLength;const C=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:p});for(let T=0,N=d.length;T<N;T++){const O=d[T];O.onProgress&&O.onProgress(C)}x.enqueue(A),_()}},S=>{x.error(S)})}}});return new Response(w)}else throw new VIe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,o));case"json":return u.json();default:if(o===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),h=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(h);return u.arrayBuffer().then(g=>p.decode(g))}}}).then(u=>{Gd.add(e,u);const d=kd[e];delete kd[e];for(let f=0,h=d.length;f<h;f++){const p=d[f];p.onLoad&&p.onLoad(u)}}).catch(u=>{const d=kd[e];if(d===void 0)throw this.manager.itemError(e),u;delete kd[e];for(let f=0,h=d.length;f<h;f++){const p=d[f];p.onError&&p.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class HIe extends jo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new yf(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=TS.parse(e[r]);n.push(i)}return n}}class WIe extends jo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=[],o=new Ij,c=new yf(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let u=0;function d(f){c.load(e[f],function(h){const p=s.parse(h,!0);a[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},u+=1,u===6&&(p.mipmapCount===1&&(o.minFilter=ls),o.image=a,o.format=p.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)d(f);else c.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const p=h.mipmaps.length/h.mipmapCount;for(let g=0;g<p;g++){a[g]={mipmaps:[]};for(let v=0;v<h.mipmapCount;v++)a[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+v]),a[g].format=h.format,a[g].width=h.width,a[g].height=h.height}o.image=a}else o.image.width=h.width,o.image.height=h.height,o.mipmaps=h.mipmaps;h.mipmapCount===1&&(o.minFilter=ls),o.format=h.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}class MS extends jo{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Gd.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const o=xS("img");function c(){d(),Gd.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){d(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){o.removeEventListener("load",c,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",c,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class GIe extends jo{constructor(e){super(e)}load(e,n,r,i){const s=new LE;s.colorSpace=Gl;const a=new MS(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function c(u){a.load(e[u],function(d){s.images[u]=d,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)c(u);return s}}class qIe extends jo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new Xu,o=new yf(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(c){let u;try{u=s.parse(c)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Ql,a.wrapT=u.wrapT!==void 0?u.wrapT:Ql,a.magFilter=u.magFilter!==void 0?u.magFilter:ls,a.minFilter=u.minFilter!==void 0?u.minFilter:ls,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=Uu),u.mipmapCount===1&&(a.minFilter=ls),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u)},r,i),a}}class XIe extends jo{constructor(e){super(e)}load(e,n,r,i){const s=new Ui,a=new MS(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Ip extends gr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new kt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class cie extends Ip{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(gr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new kt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const wI=new on,UW=new se,BW=new se;class h5{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new tt(512,512),this.map=null,this.mapPass=null,this.matrix=new on,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new DE,this._frameExtents=new tt(1,1),this._viewportCount=1,this._viewports=[new pr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;UW.setFromMatrixPosition(e.matrixWorld),n.position.copy(UW),BW.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(BW),n.updateMatrixWorld(),wI.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wI),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(wI)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class KIe extends h5{constructor(){super(new Gs(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=P0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class uie extends Ip{constructor(e,n,r=0,i=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(gr.DEFAULT_UP),this.updateMatrix(),this.target=new gr,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new KIe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const zW=new on,p_=new se,_I=new se;class YIe extends h5{constructor(){super(new Gs(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new tt(4,2),this._viewportCount=6,this._viewports=[new pr(2,1,1,1),new pr(0,1,1,1),new pr(3,1,1,1),new pr(1,1,1,1),new pr(3,0,1,1),new pr(1,0,1,1)],this._cubeDirections=[new se(1,0,0),new se(-1,0,0),new se(0,0,1),new se(0,0,-1),new se(0,1,0),new se(0,-1,0)],this._cubeUps=[new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,0,1),new se(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),p_.setFromMatrixPosition(e.matrixWorld),r.position.copy(p_),_I.copy(r.position),_I.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(_I),r.updateMatrixWorld(),i.makeTranslation(-p_.x,-p_.y,-p_.z),zW.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zW)}}class die extends Ip{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new YIe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ZIe extends h5{constructor(){super(new FE(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class fie extends Ip{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(gr.DEFAULT_UP),this.updateMatrix(),this.target=new gr,this.shadow=new ZIe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class hie extends Ip{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class pie extends Ip{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class mie{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new se)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(r*s)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*r*s),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class gie extends Ip{constructor(e=new mie,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Yj extends jo{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,a=new yf(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new kt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new kt().setHex(a.value);break;case"v2":i.uniforms[s].value=new tt().fromArray(a.value);break;case"v3":i.uniforms[s].value=new se().fromArray(a.value);break;case"v4":i.uniforms[s].value=new pr().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Dn().fromArray(a.value);break;case"m4":i.uniforms[s].value=new on().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new tt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new tt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Yj.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:Xre,SpriteMaterial:e5,RawShaderMaterial:Kre,ShaderMaterial:tu,PointsMaterial:Rj,MeshPhysicalMaterial:Yre,MeshStandardMaterial:l5,MeshPhongMaterial:Zre,MeshToonMaterial:Qre,MeshNormalMaterial:Jre,MeshLambertMaterial:eie,MeshDepthMaterial:ZB,MeshDistanceMaterial:QB,MeshBasicMaterial:Op,MeshMatcapMaterial:tie,LineDashedMaterial:nie,LineBasicMaterial:no,Material:Ta};return new n[e]}}class H3{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class yie extends Zn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class vie extends jo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new yf(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(p,g){if(n[g]!==void 0)return n[g];const w=p.interleavedBuffers[g],x=s(p,w.buffer),_=Ax(w.type,x),S=new kj(_,w.stride);return S.uuid=w.uuid,n[g]=S,S}function s(p,g){if(r[g]!==void 0)return r[g];const w=p.arrayBuffers[g],x=new Uint32Array(w).buffer;return r[g]=x,x}const a=e.isInstancedBufferGeometry?new yie:new Zn,o=e.data.index;if(o!==void 0){const p=Ax(o.type,o.array);a.setIndex(new Ur(p,1))}const c=e.data.attributes;for(const p in c){const g=c[p];let v;if(g.isInterleavedBufferAttribute){const w=i(e.data,g.data);v=new ly(w,g.itemSize,g.offset,g.normalized)}else{const w=Ax(g.type,g.array),x=g.isInstancedBufferAttribute?k0:Ur;v=new x(w,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),a.setAttribute(p,v)}const u=e.data.morphAttributes;if(u)for(const p in u){const g=u[p],v=[];for(let w=0,x=g.length;w<x;w++){const _=g[w];let S;if(_.isInterleavedBufferAttribute){const A=i(e.data,_.data);S=new ly(A,_.itemSize,_.offset,_.normalized)}else{const A=Ax(_.type,_.array);S=new Ur(A,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),v.push(S)}a.morphAttributes[p]=v}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let p=0,g=f.length;p!==g;++p){const v=f[p];a.addGroup(v.start,v.count,v.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const p=new se;h.center!==void 0&&p.fromArray(h.center),a.boundingSphere=new Ea(p,h.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class QIe extends jo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=this.path===""?H3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new yf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){let u=null;try{u=JSON.parse(c)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?H3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new yf(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),o=JSON.parse(a),c=o.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(u)}),o=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,c,o,r),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),n!==void 0){let f=!1;for(const h in a)if(a[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,i,o,a,n),u=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,u),this.bindLightTargets(c),c}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Ug().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new Oj().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new vie;for(let s=0,a=e.length;s<a;s++){let o;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(c);break;default:c.type in FW?o=FW[c.type].fromJSON(c,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),c.userData!==void 0&&(o.userData=c.userData),r[c.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new Yj;s.setTextures(n);for(let a=0,o=e.length;a<o;a++){const c=e[a];r[c.uuid]===void 0&&(r[c.uuid]=s.parse(c)),i[c.uuid]=r[c.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=TS.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function a(c){return r.manager.itemStart(c),s.load(c,function(){r.manager.itemEnd(c)},void 0,function(){r.manager.itemError(c),r.manager.itemEnd(c)})}function o(c){if(typeof c=="string"){const u=c,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(d)}else return c.data?{data:Ax(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new f5(n);s=new MS(c),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const p=[];for(let g=0,v=h.length;g<v;g++){const w=h[g],x=o(w);x!==null&&(x instanceof HTMLImageElement?p.push(x):p.push(new Xu(x.data,x.width,x.height)))}i[f.uuid]=new hg(p)}else{const p=o(f.url);i[f.uuid]=new hg(p)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(c)}else return a.data?{data:Ax(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new MS(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const c=e[a],u=c.url;if(Array.isArray(u)){const d=[];for(let f=0,h=u.length;f<h;f++){const p=u[f],g=await s(p);g!==null&&(g instanceof HTMLImageElement?d.push(g):d.push(new Xu(g.data,g.width,g.height)))}r[c.uuid]=new hg(d)}else{const d=await s(c.url);r[c.uuid]=new hg(d)}}}return r}parseTextures(e,n){function r(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const c=n[o.image],u=c.data;let d;Array.isArray(u)?(d=new LE,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new Xu:d=new Ui,u&&(d.needsUpdate=!0)),d.source=c,d.uuid=o.uuid,o.name!==void 0&&(d.name=o.name),o.mapping!==void 0&&(d.mapping=r(o.mapping,JIe)),o.channel!==void 0&&(d.channel=o.channel),o.offset!==void 0&&d.offset.fromArray(o.offset),o.repeat!==void 0&&d.repeat.fromArray(o.repeat),o.center!==void 0&&d.center.fromArray(o.center),o.rotation!==void 0&&(d.rotation=o.rotation),o.wrap!==void 0&&(d.wrapS=r(o.wrap[0],$W),d.wrapT=r(o.wrap[1],$W)),o.format!==void 0&&(d.format=o.format),o.internalFormat!==void 0&&(d.internalFormat=o.internalFormat),o.type!==void 0&&(d.type=o.type),o.colorSpace!==void 0&&(d.colorSpace=o.colorSpace),o.minFilter!==void 0&&(d.minFilter=r(o.minFilter,VW)),o.magFilter!==void 0&&(d.magFilter=r(o.magFilter,VW)),o.anisotropy!==void 0&&(d.anisotropy=o.anisotropy),o.flipY!==void 0&&(d.flipY=o.flipY),o.generateMipmaps!==void 0&&(d.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(d.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(d.compareFunction=o.compareFunction),o.userData!==void 0&&(d.userData=o.userData),i[o.uuid]=d}return i}parseObject(e,n,r,i,s){let a;function o(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function c(h){if(h!==void 0){if(Array.isArray(h)){const p=[];for(let g=0,v=h.length;g<v;g++){const w=h[g];r[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),p.push(r[w])}return p}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let d,f;switch(e.type){case"Scene":a=new JB,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new kt(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new jj(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new Pj(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Gs(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new FE(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new hie(e.color,e.intensity);break;case"DirectionalLight":a=new fie(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new die(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new pie(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new uie(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new cie(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new gie().fromJSON(e);break;case"SkinnedMesh":d=o(e.geometry),f=c(e.material),a=new Ore(d,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":d=o(e.geometry),f=c(e.material),a=new cs(d,f);break;case"InstancedMesh":d=o(e.geometry),f=c(e.material);const h=e.count,p=e.instanceMatrix,g=e.instanceColor;a=new Rre(d,f,h),a.instanceMatrix=new k0(new Float32Array(p.array),16),g!==void 0&&(a.instanceColor=new k0(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":d=o(e.geometry),f=c(e.material),a=new Ire(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=d,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(v=>{const w=new Ya;w.min.fromArray(v.boxMin),w.max.fromArray(v.boxMax);const x=new Ea;return x.radius=v.sphereRadius,x.center.fromArray(v.sphereCenter),{boxInitialized:v.boxInitialized,box:w,sphereInitialized:v.sphereInitialized,sphere:x}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":a=new kre;break;case"Line":a=new bp(o(e.geometry),c(e.material));break;case"LineLoop":a=new Lre(o(e.geometry),c(e.material));break;case"LineSegments":a=new ad(o(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new Dre(o(e.geometry),c(e.material));break;case"Sprite":a=new jre(c(e.material));break;case"Group":a=new Mx;break;case"Bone":a=new t5;break;default:a=new gr}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let p=0;p<h.length;p++)a.add(this.parseObject(h[p],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let p=0;p<h.length;p++){const g=h[p];a.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const h=e.levels;for(let p=0;p<h.length;p++){const g=h[p],v=a.getObjectByProperty("uuid",g.object);v!==void 0&&a.addLevel(v,g.distance,g.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new gr}})}}const JIe={UVMapping:xj,CubeReflectionMapping:mf,CubeRefractionMapping:xp,EquirectangularReflectionMapping:lS,EquirectangularRefractionMapping:cS,CubeUVReflectionMapping:Eb},$W={RepeatWrapping:uS,ClampToEdgeWrapping:Ql,MirroredRepeatWrapping:dS},VW={NearestFilter:qs,NearestMipmapNearestFilter:OB,NearestMipmapLinearFilter:Ex,LinearFilter:ls,LinearMipmapNearestFilter:o1,LinearMipmapLinearFilter:Uu};class eLe extends jo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Gd.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{n&&n(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const c=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Gd.add(e,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Gd.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Gd.add(e,c),s.manager.itemStart(e)}}let RM;class p5{static getContext(){return RM===void 0&&(RM=new(window.AudioContext||window.webkitAudioContext)),RM}static setContext(e){RM=e}}class tLe extends jo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new yf(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){try{const u=c.slice(0);p5.getContext().decodeAudioData(u,function(f){n(f)}).catch(o)}catch(u){o(u)}},r,i);function o(c){i?i(c):console.error(c),s.manager.itemError(e)}}}const HW=new on,WW=new on,Rm=new on;class nLe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Gs,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Gs,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Rm.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,a=n.near*Math.tan(Dg*n.fov*.5)/n.zoom;let o,c;WW.elements[12]=-i,HW.elements[12]=i,o=-a*n.aspect+s,c=a*n.aspect+s,Rm.elements[0]=2*n.near/(c-o),Rm.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(Rm),o=-a*n.aspect-s,c=a*n.aspect-s,Rm.elements[0]=2*n.near/(c-o),Rm.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(Rm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(WW),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(HW)}}class m5{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=GW(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=GW();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function GW(){return performance.now()}const Im=new se,qW=new Mo,rLe=new se,Lm=new se;class iLe extends gr{constructor(){super(),this.type="AudioListener",this.context=p5.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new m5}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Im,qW,rLe),Lm.set(0,0,-1).applyQuaternion(qW),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Im.x,i),n.positionY.linearRampToValueAtTime(Im.y,i),n.positionZ.linearRampToValueAtTime(Im.z,i),n.forwardX.linearRampToValueAtTime(Lm.x,i),n.forwardY.linearRampToValueAtTime(Lm.y,i),n.forwardZ.linearRampToValueAtTime(Lm.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Im.x,Im.y,Im.z),n.setOrientation(Lm.x,Lm.y,Lm.z,r.x,r.y,r.z)}}class xie extends gr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Dm=new se,XW=new Mo,sLe=new se,Fm=new se;class aLe extends xie{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Dm,XW,sLe),Fm.set(0,0,1).applyQuaternion(XW);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Dm.x,r),n.positionY.linearRampToValueAtTime(Dm.y,r),n.positionZ.linearRampToValueAtTime(Dm.z,r),n.orientationX.linearRampToValueAtTime(Fm.x,r),n.orientationY.linearRampToValueAtTime(Fm.y,r),n.orientationZ.linearRampToValueAtTime(Fm.z,r)}else n.setPosition(Dm.x,Dm.y,Dm.z),n.setOrientation(Fm.x,Fm.y,Fm.z)}}class oLe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class bie{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,a;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=n*this._origIndex;this._mixBufferRegion(r,i,c,1-s,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let c=n,u=n+n;c!==u;++c)if(r[c]!==r[c+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,a=i;s!==a;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){Mo.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const a=this._workIndex*s;Mo.multiplyQuaternionsFlat(e,a,e,n,e,r),Mo.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const c=n+o;e[c]=e[c]*a+e[r+o]*i}}_lerpAdditive(e,n,r,i,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[r+a]*i}}}const g5="\\[\\]\\.:\\/",lLe=new RegExp("["+g5+"]","g"),y5="[^"+g5+"]",cLe="[^"+g5.replace("\\.","")+"]",uLe=/((?:WC+[\/:])*)/.source.replace("WC",y5),dLe=/(WCOD+)?/.source.replace("WCOD",cLe),fLe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",y5),hLe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",y5),pLe=new RegExp("^"+uLe+dLe+fLe+hLe+"$"),mLe=["material","materials","bones","map"];class gLe{constructor(e,n,r){const i=r||hr.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class hr{constructor(e,n,r){this.path=n,this.parsedPath=r||hr.parseTrackName(n),this.node=hr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new hr.Composite(e,n,r):new hr(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(lLe,"")}static parseTrackName(e){const n=pLe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);mLe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const c=r(o.children);if(c)return c}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=hr.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}hr.Composite=gLe;hr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};hr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};hr.prototype.GetterByBindingType=[hr.prototype._getValue_direct,hr.prototype._getValue_array,hr.prototype._getValue_arrayElement,hr.prototype._getValue_toArray];hr.prototype.SetterByBindingTypeAndVersioning=[[hr.prototype._setValue_direct,hr.prototype._setValue_direct_setNeedsUpdate,hr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[hr.prototype._setValue_array,hr.prototype._setValue_array_setNeedsUpdate,hr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[hr.prototype._setValue_arrayElement,hr.prototype._setValue_arrayElement_setNeedsUpdate,hr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[hr.prototype._setValue_fromArray,hr.prototype._setValue_fromArray_setNeedsUpdate,hr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class yLe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=fl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,c=e.length,u=this.nCachedObjects_;for(let d=0,f=arguments.length;d!==f;++d){const h=arguments[d],p=h.uuid;let g=n[p];if(g===void 0){g=c++,n[p]=g,e.push(h);for(let v=0,w=a;v!==w;++v)s[v].push(new hr(h,r[v],i[v]))}else if(g<u){o=e[g];const v=--u,w=e[v];n[w.uuid]=g,e[g]=w,n[p]=v,e[v]=h;for(let x=0,_=a;x!==_;++x){const S=s[x],A=S[v];let C=S[g];S[g]=A,C===void 0&&(C=new hr(h,r[x],i[x])),S[v]=C}}else e[g]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0&&d>=s){const f=s++,h=e[f];n[h.uuid]=d,e[d]=h,n[u]=f,e[f]=c;for(let p=0,g=i;p!==g;++p){const v=r[p],w=v[f],x=v[d];v[d]=w,v[f]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,c=arguments.length;o!==c;++o){const u=arguments[o],d=u.uuid,f=n[d];if(f!==void 0)if(delete n[d],f<s){const h=--s,p=e[h],g=--a,v=e[g];n[p.uuid]=f,e[f]=p,n[v.uuid]=h,e[h]=v,e.pop();for(let w=0,x=i;w!==x;++w){const _=r[w],S=_[h],A=_[g];_[f]=S,_[h]=A,_.pop()}}else{const h=--a,p=e[h];h>0&&(n[p.uuid]=f),e[f]=p,e.pop();for(let g=0,v=i;g!==v;++g){const w=r[g];w[f]=w[h],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,c=this._objects,u=c.length,d=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,a.push(e),o.push(n),s.push(f);for(let h=d,p=c.length;h!==p;++h){const g=c[h];f[h]=new hr(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,c=a[o],u=e[o];n[u]=r,a[r]=c,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class wie{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,a=s.length,o=new Array(a),c={endingStart:dg,endingEnd:dg};for(let u=0;u!==a;++u){const d=s[u].createInterpolant(null);o[u]=d,d.settings=c}this._interpolantSettings=c,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=tre,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const c=o.parameterPositions,u=o.sampleValues;return c[0]=s,c[1]=s+r,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*r;c<0||r===0?n=0:(this._startTime=null,n=r*c)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case VB:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(a),u[d].accumulateAdditive(o);break;case Tj:default:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(a),u[d].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===nre;if(e===0)return s===-1?i:a&&(s&1)===1?n-i:i;if(r===ere){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,s+=Math.abs(o);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=fg,i.endingEnd=fg):(e?i.endingStart=this.zeroSlopeAtStart?fg:dg:i.endingStart=hS,n?i.endingEnd=this.zeroSlopeAtEnd?fg:dg:i.endingEnd=hS)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,c=a.sampleValues;return o[0]=s,c[0]=n,o[1]=s+e,c[1]=r,this}}const vLe=new Float32Array(1);class xLe extends sd{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,c=r.uuid,u=this._bindingsByRootAndName;let d=u[c];d===void 0&&(d={},u[c]=d);for(let f=0;f!==s;++f){const h=i[f],p=h.name;let g=d[p];if(g!==void 0)++g.referenceCount,a[f]=g;else{if(g=a[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,c,p));continue}const v=n&&n._propertyBindings[f].binding.parsedPath;g=new bie(hr.create(r,p,v),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,c,p),a[f]=g}o[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],c=o.knownActions,u=c[c.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,c[d]=u,c.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],c.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],c=n[n.length-1],u=e._cacheIndex;c._cacheIndex=u,n[u]=c,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new u5(new Float32Array(2),new Float32Array(2),1,vLe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let a=typeof e=="string"?TS.findByName(i,e):e;const o=a!==null?a.uuid:e,c=this._actionsByClip[o];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=Tj),c!==void 0){const f=c.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=c.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const d=new wie(this,a,n,r);return this._bindAction(d,u),this._addInactiveAction(d,o,s),d}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?TS.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,a);const o=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,c=a.length;o!==c;++o){const u=a[o];this._deactivateAction(u);const d=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=d,n[d]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,c=o[n];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class v5{constructor(e){this.value=e}clone(){return new v5(this.value.clone===void 0?this.value:this.value.clone())}}let bLe=0;class wLe extends sd{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:bLe++}),this.name="",this.usage=yS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class _Le extends kj{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class SLe{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const KW=new on;class _ie{constructor(e,n,r=0,i=1/0){this.ray=new Tb(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Fg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return KW.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(KW),this}intersectObject(e,n=!0,r=[]){return W3(e,this,r,n),r.sort(YW),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)W3(e[i],this,r,n);return r.sort(YW),r}}function YW(t,e){return t.distance-e.distance}function W3(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let a=0,o=s.length;a<o;a++)W3(s[a],e,n,!0)}}class ELe{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Fi(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ALe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class x5{constructor(e,n,r,i){x5.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const ZW=new tt;class TLe{constructor(e=new tt(1/0,1/0),n=new tt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ZW.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ZW).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const QW=new se,IM=new se;class MLe{constructor(e=new se,n=new se){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){QW.subVectors(e,this.start),IM.subVectors(this.end,this.start);const r=IM.dot(IM);let s=IM.dot(QW)/r;return n&&(s=Fi(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const JW=new se;class CLe extends gr{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Zn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,c=32;a<c;a++,o++){const u=a/c*Math.PI*2,d=o/c*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new qt(i,3));const s=new no({fog:!1,toneMapped:!1});this.cone=new ad(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),JW.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(JW),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const bh=new se,LM=new on,SI=new on;class NLe extends ad{constructor(e){const n=Sie(e),r=new Zn,i=[],s=[],a=new kt(0,0,1),o=new kt(0,1,0);for(let u=0;u<n.length;u++){const d=n[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}r.setAttribute("position",new qt(i,3)),r.setAttribute("color",new qt(s,3));const c=new no({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");SI.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(LM.multiplyMatrices(SI,o.matrixWorld),bh.setFromMatrixPosition(LM),i.setXYZ(a,bh.x,bh.y,bh.z),LM.multiplyMatrices(SI,o.parent.matrixWorld),bh.setFromMatrixPosition(LM),i.setXYZ(a+1,bh.x,bh.y,bh.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Sie(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Sie(t.children[n]));return e}class PLe extends cs{constructor(e,n,r){const i=new zE(n,4,2),s=new Op({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const jLe=new se,e9=new kt,t9=new kt;class kLe extends gr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new BE(n);i.rotateY(Math.PI*.5),this.material=new Op({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new Ur(a,3)),this.add(new cs(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");e9.copy(this.light.color),t9.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?e9:t9;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(jLe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class OLe extends ad{constructor(e=10,n=10,r=4473924,i=8947848){r=new kt(r),i=new kt(i);const s=n/2,a=e/n,o=e/2,c=[],u=[];for(let h=0,p=0,g=-o;h<=n;h++,g+=a){c.push(-o,0,g,o,0,g),c.push(g,0,-o,g,0,o);const v=h===s?r:i;v.toArray(u,p),p+=3,v.toArray(u,p),p+=3,v.toArray(u,p),p+=3,v.toArray(u,p),p+=3}const d=new Zn;d.setAttribute("position",new qt(c,3)),d.setAttribute("color",new qt(u,3));const f=new no({vertexColors:!0,toneMapped:!1});super(d,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class RLe extends ad{constructor(e=10,n=16,r=8,i=64,s=4473924,a=8947848){s=new kt(s),a=new kt(a);const o=[],c=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),p=Math.sin(h)*e,g=Math.cos(h)*e;o.push(0,0,0),o.push(p,0,g);const v=f&1?s:a;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const h=f&1?s:a,p=e-e/r*f;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),w=Math.sin(v)*p,x=Math.cos(v)*p;o.push(w,0,x),c.push(h.r,h.g,h.b),v=(g+1)/i*(Math.PI*2),w=Math.sin(v)*p,x=Math.cos(v)*p,o.push(w,0,x),c.push(h.r,h.g,h.b)}}const u=new Zn;u.setAttribute("position",new qt(o,3)),u.setAttribute("color",new qt(c,3));const d=new no({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const n9=new se,DM=new se,r9=new se;class ILe extends gr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Zn;i.setAttribute("position",new qt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new no({fog:!1,toneMapped:!1});this.lightPlane=new bp(i,s),this.add(this.lightPlane),i=new Zn,i.setAttribute("position",new qt([0,0,0,0,0,1],3)),this.targetLine=new bp(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),n9.setFromMatrixPosition(this.light.matrixWorld),DM.setFromMatrixPosition(this.light.target.matrixWorld),r9.subVectors(DM,n9),this.lightPlane.lookAt(DM),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(DM),this.targetLine.scale.z=r9.length()}}const FM=new se,Ri=new IE;class LLe extends ad{constructor(e){const n=new Zn,r=new no({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(g,v){c(g),c(v)}function c(g){i.push(0,0,0),s.push(0,0,0),a[g]===void 0&&(a[g]=[]),a[g].push(i.length/3-1)}n.setAttribute("position",new qt(i,3)),n.setAttribute("color",new qt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new kt(16755200),d=new kt(16711680),f=new kt(43775),h=new kt(16777215),p=new kt(3355443);this.setColors(u,d,f,h,p)}setColors(e,n,r,i,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Ri.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Gi("c",n,e,Ri,0,0,-1),Gi("t",n,e,Ri,0,0,1),Gi("n1",n,e,Ri,-r,-i,-1),Gi("n2",n,e,Ri,r,-i,-1),Gi("n3",n,e,Ri,-r,i,-1),Gi("n4",n,e,Ri,r,i,-1),Gi("f1",n,e,Ri,-r,-i,1),Gi("f2",n,e,Ri,r,-i,1),Gi("f3",n,e,Ri,-r,i,1),Gi("f4",n,e,Ri,r,i,1),Gi("u1",n,e,Ri,r*.7,i*1.1,-1),Gi("u2",n,e,Ri,-r*.7,i*1.1,-1),Gi("u3",n,e,Ri,0,i*2,-1),Gi("cf1",n,e,Ri,-r,0,1),Gi("cf2",n,e,Ri,r,0,1),Gi("cf3",n,e,Ri,0,-i,1),Gi("cf4",n,e,Ri,0,i,1),Gi("cn1",n,e,Ri,-r,0,-1),Gi("cn2",n,e,Ri,r,0,-1),Gi("cn3",n,e,Ri,0,-i,-1),Gi("cn4",n,e,Ri,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Gi(t,e,n,r,i,s,a){FM.set(i,s,a).unproject(r);const o=e[t];if(o!==void 0){const c=n.getAttribute("position");for(let u=0,d=o.length;u<d;u++)c.setXYZ(o[u],FM.x,FM.y,FM.z)}}const UM=new Ya;class DLe extends ad{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Zn;s.setIndex(new Ur(r,1)),s.setAttribute("position",new Ur(i,3)),super(s,new no({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&UM.setFromObject(this.object),UM.isEmpty())return;const n=UM.min,r=UM.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class FLe extends ad{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Zn;s.setIndex(new Ur(r,1)),s.setAttribute("position",new qt(i,3)),super(s,new no({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ULe extends bp{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Zn;a.setAttribute("position",new qt(s,3)),a.computeBoundingSphere(),super(a,new no({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new Zn;c.setAttribute("position",new qt(o,3)),c.computeBoundingSphere(),this.add(new cs(c,new Op({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const i9=new se;let BM,EI;class BLe extends gr{constructor(e=new se(0,0,1),n=new se(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",BM===void 0&&(BM=new Zn,BM.setAttribute("position",new qt([0,0,0,0,1,0],3)),EI=new Nb(0,.5,1,5,1),EI.translate(0,-.5,0)),this.position.copy(n),this.line=new bp(BM,new no({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new cs(EI,new Op({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{i9.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(i9,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class zLe extends ad{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Zn;i.setAttribute("position",new qt(n,3)),i.setAttribute("color",new qt(r,3));const s=new no({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new kt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $Le{constructor(){this.type="ShapePath",this.color=new kt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new bS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,a){return this.currentPath.bezierCurveTo(e,n,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(x){const _=[];for(let S=0,A=x.length;S<A;S++){const C=x[S],T=new Ug;T.curves=C.curves,_.push(T)}return _}function r(x,_){const S=_.length;let A=!1;for(let C=S-1,T=0;T<S;C=T++){let N=_[C],O=_[T],U=O.x-N.x,R=O.y-N.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(N=_[T],U=-U,O=_[C],R=-R),x.y<N.y||x.y>O.y)continue;if(x.y===N.y){if(x.x===N.x)return!0}else{const I=R*(x.x-N.x)-U*(x.y-N.y);if(I===0)return!0;if(I<0)continue;A=!A}}else{if(x.y!==N.y)continue;if(O.x<=x.x&&x.x<=N.x||N.x<=x.x&&x.x<=O.x)return!0}}return A}const i=Ku.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,c;const u=[];if(s.length===1)return o=s[0],c=new Ug,c.curves=o.curves,u.push(c),u;let d=!i(s[0].getPoints());d=e?!d:d;const f=[],h=[];let p=[],g=0,v;h[g]=void 0,p[g]=[];for(let x=0,_=s.length;x<_;x++)o=s[x],v=o.getPoints(),a=i(v),a=e?!a:a,a?(!d&&h[g]&&g++,h[g]={s:new Ug,p:v},h[g].s.curves=o.curves,d&&g++,p[g]=[]):p[g].push({h:o,p:v[0]});if(!h[0])return n(s);if(h.length>1){let x=!1,_=0;for(let S=0,A=h.length;S<A;S++)f[S]=[];for(let S=0,A=h.length;S<A;S++){const C=p[S];for(let T=0;T<C.length;T++){const N=C[T];let O=!0;for(let U=0;U<h.length;U++)r(N.p,h[U].p)&&(S!==U&&_++,O?(O=!1,f[U].push(N)):x=!0);O&&f[S].push(N)}}_>0&&x===!1&&(p=f)}let w;for(let x=0,_=h.length;x<_;x++){c=h[x].s,u.push(c),w=p[x];for(let S=0,A=w.length;S<A;S++)c.holes.push(w[S].h)}return u}}class VLe extends sd{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class HLe extends eu{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:jE}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=jE);const WLe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:kB,AddEquation:Ih,AddOperation:Gne,AdditiveAnimationBlendMode:VB,AdditiveBlending:j3,AgXToneMapping:Zne,AlphaFormat:DB,AlwaysCompare:fre,AlwaysDepth:LN,AlwaysStencilFunc:I3,AmbientLight:hie,AnimationAction:wie,AnimationClip:TS,AnimationLoader:HIe,AnimationMixer:xLe,AnimationObjectGroup:yLe,AnimationUtils:BIe,ArcCurve:Fre,ArrayCamera:Cre,ArrowHelper:BLe,AttachedBindMode:R3,Audio:xie,AudioAnalyser:oLe,AudioContext:p5,AudioListener:iLe,AudioLoader:tLe,AxesHelper:zLe,BackSide:Ka,BasicDepthPacking:rre,BasicShadowMap:Tne,BatchedMesh:Ire,Bone:t5,BooleanKeyframeTrack:Sy,Box2:TLe,Box3:Ya,Box3Helper:FLe,BoxGeometry:_y,BoxHelper:DLe,BufferAttribute:Ur,BufferGeometry:Zn,BufferGeometryLoader:vie,ByteType:RB,Cache:Gd,Camera:IE,CameraHelper:LLe,CanvasTexture:uIe,CapsuleGeometry:Dj,CatmullRomCurve3:Ure,CineonToneMapping:Kne,CircleGeometry:Fj,ClampToEdgeWrapping:Ql,Clock:m5,Color:kt,ColorKeyframeTrack:d5,ColorManagement:vr,CompressedArrayTexture:lIe,CompressedCubeTexture:cIe,CompressedTexture:Ij,CompressedTextureLoader:WIe,ConeGeometry:Uj,ConstantAlphaFactor:Vne,ConstantColorFactor:zne,Controls:VLe,CubeCamera:bre,CubeReflectionMapping:mf,CubeRefractionMapping:xp,CubeTexture:LE,CubeTextureLoader:GIe,CubeUVReflectionMapping:Eb,CubicBezierCurve:r5,CubicBezierCurve3:Bre,CubicInterpolant:sie,CullFaceBack:P3,CullFaceFront:Ane,CullFaceFrontBack:DNe,CullFaceNone:Ene,Curve:iu,CurvePath:$re,CustomBlending:Mne,CustomToneMapping:Yne,CylinderGeometry:Nb,Cylindrical:ALe,Data3DTexture:GB,DataArrayTexture:Cj,DataTexture:Xu,DataTextureLoader:qIe,DataUtils:ZPe,DecrementStencilOp:ZNe,DecrementWrapStencilOp:JNe,DefaultLoadingManager:lie,DepthFormat:Ig,DepthStencilFormat:oy,DepthTexture:YB,DetachedBindMode:Jne,DirectionalLight:fie,DirectionalLightHelper:ILe,DiscreteInterpolant:aie,DisplayP3ColorSpace:Mj,DodecahedronGeometry:Bj,DoubleSide:Iu,DstAlphaFactor:Lne,DstColorFactor:Fne,DynamicCopyUsage:hPe,DynamicDrawUsage:Lg,DynamicReadUsage:uPe,EdgesGeometry:Vre,EllipseCurve:Lj,EqualCompare:lre,EqualDepth:FN,EqualStencilFunc:rPe,EquirectangularReflectionMapping:lS,EquirectangularRefractionMapping:cS,Euler:ml,EventDispatcher:sd,ExtrudeGeometry:$j,FileLoader:yf,Float16BufferAttribute:r2e,Float32BufferAttribute:qt,FloatType:_o,Fog:jj,FogExp2:Pj,FramebufferTexture:oIe,FrontSide:pf,Frustum:DE,GLBufferAttribute:SLe,GLSL1:mPe,GLSL3:L3,GreaterCompare:cre,GreaterDepth:BN,GreaterEqualCompare:dre,GreaterEqualDepth:UN,GreaterEqualStencilFunc:oPe,GreaterStencilFunc:sPe,GridHelper:OLe,Group:Mx,HalfFloatType:Ab,HemisphereLight:cie,HemisphereLightHelper:kLe,IcosahedronGeometry:Vj,ImageBitmapLoader:eLe,ImageLoader:MS,ImageUtils:mre,IncrementStencilOp:YNe,IncrementWrapStencilOp:QNe,InstancedBufferAttribute:k0,InstancedBufferGeometry:yie,InstancedInterleavedBuffer:_Le,InstancedMesh:Rre,Int16BufferAttribute:t2e,Int32BufferAttribute:n2e,Int8BufferAttribute:QPe,IntType:bj,InterleavedBuffer:kj,InterleavedBufferAttribute:ly,Interpolant:$E,InterpolateDiscrete:fS,InterpolateLinear:pP,InterpolateSmooth:NC,InvertStencilOp:ePe,KeepStencilOp:Wm,KeyframeTrack:su,LOD:kre,LatheGeometry:UE,Layers:Fg,LessCompare:ore,LessDepth:DN,LessEqualCompare:HB,LessEqualDepth:sy,LessEqualStencilFunc:iPe,LessStencilFunc:nPe,Light:Ip,LightProbe:gie,Line:bp,Line3:MLe,LineBasicMaterial:no,LineCurve:i5,LineCurve3:zre,LineDashedMaterial:nie,LineLoop:Lre,LineSegments:ad,LinearDisplayP3ColorSpace:RE,LinearFilter:ls,LinearInterpolant:u5,LinearMipMapLinearFilter:zNe,LinearMipMapNearestFilter:BNe,LinearMipmapLinearFilter:Uu,LinearMipmapNearestFilter:o1,LinearSRGBColorSpace:Sf,LinearToneMapping:qne,LinearTransfer:pS,Loader:jo,LoaderUtils:H3,LoadingManager:f5,LoopOnce:ere,LoopPingPong:nre,LoopRepeat:tre,LuminanceAlphaFormat:BB,LuminanceFormat:UB,MOUSE:INe,Material:Ta,MaterialLoader:Yj,MathUtils:kPe,Matrix2:x5,Matrix3:Dn,Matrix4:on,MaxEquation:jne,Mesh:cs,MeshBasicMaterial:Op,MeshDepthMaterial:ZB,MeshDistanceMaterial:QB,MeshLambertMaterial:eie,MeshMatcapMaterial:tie,MeshNormalMaterial:Jre,MeshPhongMaterial:Zre,MeshPhysicalMaterial:Yre,MeshStandardMaterial:l5,MeshToonMaterial:Qre,MinEquation:Pne,MirroredRepeatWrapping:dS,MixOperation:Wne,MultiplyBlending:O3,MultiplyOperation:kE,NearestFilter:qs,NearestMipMapLinearFilter:UNe,NearestMipMapNearestFilter:FNe,NearestMipmapLinearFilter:Ex,NearestMipmapNearestFilter:OB,NeutralToneMapping:Qne,NeverCompare:are,NeverDepth:IN,NeverStencilFunc:tPe,NoBlending:Qd,NoColorSpace:$d,NoToneMapping:qu,NormalAnimationBlendMode:Tj,NormalBlending:Rg,NotEqualCompare:ure,NotEqualDepth:zN,NotEqualStencilFunc:aPe,NumberKeyframeTrack:ES,Object3D:gr,ObjectLoader:QIe,ObjectSpaceNormalMap:sre,OctahedronGeometry:BE,OneFactor:One,OneMinusConstantAlphaFactor:Hne,OneMinusConstantColorFactor:$ne,OneMinusDstAlphaFactor:Dne,OneMinusDstColorFactor:Une,OneMinusSrcAlphaFactor:RN,OneMinusSrcColorFactor:Ine,OrthographicCamera:FE,P3Primaries:gS,PCFShadowMap:vj,PCFSoftShadowMap:a1,PMREMGenerator:D3,Path:bS,PerspectiveCamera:Gs,Plane:Nh,PlaneGeometry:Mb,PlaneHelper:ULe,PointLight:die,PointLightHelper:PLe,Points:Dre,PointsMaterial:Rj,PolarGridHelper:RLe,PolyhedronGeometry:Rp,PositionalAudio:aLe,PropertyBinding:hr,PropertyMixer:bie,QuadraticBezierCurve:s5,QuadraticBezierCurve3:a5,Quaternion:Mo,QuaternionKeyframeTrack:VE,QuaternionLinearInterpolant:oie,RED_GREEN_RGTC2_Format:fP,RED_RGTC1_Format:$B,REVISION:jE,RGBADepthPacking:ire,RGBAFormat:_a,RGBAIntegerFormat:Aj,RGBA_ASTC_10x10_Format:aP,RGBA_ASTC_10x5_Format:rP,RGBA_ASTC_10x6_Format:iP,RGBA_ASTC_10x8_Format:sP,RGBA_ASTC_12x10_Format:oP,RGBA_ASTC_12x12_Format:lP,RGBA_ASTC_4x4_Format:KN,RGBA_ASTC_5x4_Format:YN,RGBA_ASTC_5x5_Format:ZN,RGBA_ASTC_6x5_Format:QN,RGBA_ASTC_6x6_Format:JN,RGBA_ASTC_8x5_Format:eP,RGBA_ASTC_8x6_Format:tP,RGBA_ASTC_8x8_Format:nP,RGBA_BPTC_Format:f1,RGBA_ETC2_EAC_Format:XN,RGBA_PVRTC_2BPPV1_Format:WN,RGBA_PVRTC_4BPPV1_Format:HN,RGBA_S3TC_DXT1_Format:c1,RGBA_S3TC_DXT3_Format:u1,RGBA_S3TC_DXT5_Format:d1,RGBDepthPacking:GNe,RGBFormat:FB,RGBIntegerFormat:$Ne,RGB_BPTC_SIGNED_Format:cP,RGB_BPTC_UNSIGNED_Format:uP,RGB_ETC1_Format:GN,RGB_ETC2_Format:qN,RGB_PVRTC_2BPPV1_Format:VN,RGB_PVRTC_4BPPV1_Format:$N,RGB_S3TC_DXT1_Format:l1,RGDepthPacking:qNe,RGFormat:zB,RGIntegerFormat:Ej,RawShaderMaterial:Kre,Ray:Tb,Raycaster:_ie,Rec709Primaries:mS,RectAreaLight:pie,RedFormat:Sj,RedIntegerFormat:OE,ReinhardToneMapping:Xne,RenderTarget:gre,RepeatWrapping:uS,ReplaceStencilOp:KNe,ReverseSubtractEquation:Nne,RingGeometry:Hj,SIGNED_RED_GREEN_RGTC2_Format:hP,SIGNED_RED_RGTC1_Format:dP,SRGBColorSpace:Gl,SRGBTransfer:Jr,Scene:JB,ShaderChunk:Hn,ShaderLib:$c,ShaderMaterial:tu,ShadowMaterial:Xre,Shape:Ug,ShapeGeometry:Wj,ShapePath:$Le,ShapeUtils:Ku,ShortType:IB,Skeleton:Oj,SkeletonHelper:NLe,SkinnedMesh:Ore,Source:hg,Sphere:Ea,SphereGeometry:zE,Spherical:ELe,SphericalHarmonics3:mie,SplineCurve:o5,SpotLight:uie,SpotLightHelper:CLe,Sprite:jre,SpriteMaterial:e5,SrcAlphaFactor:ON,SrcAlphaSaturateFactor:Bne,SrcColorFactor:Rne,StaticCopyUsage:fPe,StaticDrawUsage:yS,StaticReadUsage:cPe,StereoCamera:nLe,StreamCopyUsage:pPe,StreamDrawUsage:lPe,StreamReadUsage:dPe,StringKeyframeTrack:Ey,SubtractEquation:Cne,SubtractiveBlending:k3,TOUCH:LNe,TangentSpaceNormalMap:kp,TetrahedronGeometry:Gj,Texture:Ui,TextureLoader:XIe,TextureUtils:BRe,TorusGeometry:qj,TorusKnotGeometry:Xj,Triangle:bo,TriangleFanDrawMode:WNe,TriangleStripDrawMode:HNe,TrianglesDrawMode:VNe,TubeGeometry:Kj,UVMapping:xj,Uint16BufferAttribute:qB,Uint32BufferAttribute:XB,Uint8BufferAttribute:JPe,Uint8ClampedBufferAttribute:e2e,Uniform:v5,UniformsGroup:wLe,UniformsLib:bt,UniformsUtils:xre,UnsignedByteType:Jc,UnsignedInt248Type:ay,UnsignedInt5999Type:LB,UnsignedIntType:gf,UnsignedShort4444Type:wj,UnsignedShort5551Type:_j,UnsignedShortType:N0,VSMShadowMap:Rc,Vector2:tt,Vector3:se,Vector4:pr,VectorKeyframeTrack:AS,VideoTexture:aIe,WebGL3DRenderTarget:zPe,WebGLArrayRenderTarget:BPe,WebGLCoordinateSystem:Bu,WebGLCubeRenderTarget:wre,WebGLMultipleRenderTargets:HLe,WebGLRenderTarget:eu,WebGLRenderer:Nre,WebGLUtils:Mre,WebGPUCoordinateSystem:vS,WireframeGeometry:qre,WrapAroundEnding:hS,ZeroCurvatureEnding:dg,ZeroFactor:kne,ZeroSlopeEnding:fg,ZeroStencilOp:XNe,createCanvasElement:pre},Symbol.toStringTag,{value:"Module"}));var Eie={exports:{}},Ay={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ay.ConcurrentRoot=1;Ay.ContinuousEventPriority=4;Ay.DefaultEventPriority=16;Ay.DiscreteEventPriority=1;Ay.IdleEventPriority=536870912;Ay.LegacyRoot=0;Eie.exports=Ay;var Nx=Eie.exports;function GLe(t){let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=d?f:Object.assign({},e,f),n.forEach(p=>p(e,h))}},i=()=>e,s=(u,d=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=d(e);function p(){const g=d(e);if(!f(h,g)){const v=h;u(h=g,v)}}return n.add(p),()=>n.delete(p)},c={setState:r,getState:i,subscribe:(u,d,f)=>d||f?s(u,d,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,c),c}const qLe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),s9=qLe?j.useEffect:j.useLayoutEffect;function XLe(t){const e=typeof t=="function"?GLe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=j.useReducer(w=>w+1,0),a=e.getState(),o=j.useRef(a),c=j.useRef(r),u=j.useRef(i),d=j.useRef(!1),f=j.useRef();f.current===void 0&&(f.current=r(a));let h,p=!1;(o.current!==a||c.current!==r||u.current!==i||d.current)&&(h=r(a),p=!i(f.current,h)),s9(()=>{p&&(f.current=h),o.current=a,c.current=r,u.current=i,d.current=!1});const g=j.useRef(a);s9(()=>{const w=()=>{try{const _=e.getState(),S=c.current(_);u.current(f.current,S)||(o.current=_,f.current=S,s())}catch{d.current=!0,s()}},x=e.subscribe(w);return e.getState()!==g.current&&w(),x},[]);const v=p?h:f.current;return j.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var Aie={exports:{}},AI={exports:{}},TI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a9;function KLe(){return a9||(a9=1,function(t){function e(V,X){var z=V.length;V.push(X);e:for(;0<z;){var oe=z-1>>>1,de=V[oe];if(0<i(de,X))V[oe]=X,V[z]=de,z=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var X=V[0],z=V.pop();if(z!==X){V[0]=z;e:for(var oe=0,de=V.length,Y=de>>>1;oe<Y;){var he=2*(oe+1)-1,Ce=V[he],Ie=he+1,Ee=V[Ie];if(0>i(Ce,z))Ie<de&&0>i(Ee,Ce)?(V[oe]=Ee,V[Ie]=z,oe=Ie):(V[oe]=Ce,V[he]=z,oe=he);else if(Ie<de&&0>i(Ee,z))V[oe]=Ee,V[Ie]=z,oe=Ie;else break e}}return X}function i(V,X){var z=V.sortIndex-X.sortIndex;return z!==0?z:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=V)r(u),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(u)}}function A(V){if(v=!1,S(V),!g)if(n(c)!==null)g=!0,q(C);else{var X=n(u);X!==null&&ie(A,X.startTime-V)}}function C(V,X){g=!1,v&&(v=!1,x(O),O=-1),p=!0;var z=h;try{for(S(X),f=n(c);f!==null&&(!(f.expirationTime>X)||V&&!I());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var de=oe(f.expirationTime<=X);X=t.unstable_now(),typeof de=="function"?f.callback=de:f===n(c)&&r(c),S(X)}else r(c);f=n(c)}if(f!==null)var Y=!0;else{var he=n(u);he!==null&&ie(A,he.startTime-X),Y=!1}return Y}finally{f=null,h=z,p=!1}}var T=!1,N=null,O=-1,U=5,R=-1;function I(){return!(t.unstable_now()-R<U)}function B(){if(N!==null){var V=t.unstable_now();R=V;var X=!0;try{X=N(!0,V)}finally{X?G():(T=!1,N=null)}}else T=!1}var G;if(typeof _=="function")G=function(){_(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Q=K.port2;K.port1.onmessage=B,G=function(){Q.postMessage(null)}}else G=function(){w(B,0)};function q(V){N=V,T||(T=!0,G())}function ie(V,X){O=w(function(){V(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,q(C))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var z=h;h=X;try{return V()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var z=h;h=V;try{return X()}finally{h=z}},t.unstable_scheduleCallback=function(V,X,z){var oe=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?oe+z:oe):z=oe,V){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=z+de,V={id:d++,callback:X,priorityLevel:V,startTime:z,expirationTime:de,sortIndex:-1},z>oe?(V.sortIndex=z,e(u,V),n(c)===null&&V===n(u)&&(v?(x(O),O=-1):v=!0,ie(A,z-oe))):(V.sortIndex=de,e(c,V),g||p||(g=!0,q(C))),V},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(V){var X=h;return function(){var z=h;h=X;try{return V.apply(this,arguments)}finally{h=z}}}}(TI)),TI}var o9;function YLe(){return o9||(o9=1,AI.exports=KLe()),AI.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZLe=function(e){var n={},r=j,i=YLe(),s=Object.assign;function a(y){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+y,M=1;M<arguments.length;M++)b+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),C=Symbol.iterator;function T(y){return y===null||typeof y!="object"?null:(y=C&&y[C]||y["@@iterator"],typeof y=="function"?y:null)}function N(y){if(y==null)return null;if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case d:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case g:return(y.displayName||"Context")+".Consumer";case p:return(y._context.displayName||"Context")+".Provider";case v:var b=y.render;return y=y.displayName,y||(y=b.displayName||b.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case _:return b=y.displayName||null,b!==null?b:N(y.type)||"Memo";case S:b=y._payload,y=y._init;try{return N(y(b))}catch{}}return null}function O(y){var b=y.type;switch(y.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return y=b.render,y=y.displayName||y.name||"",b.displayName||(y!==""?"ForwardRef("+y+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(b);case 8:return b===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b}return null}function U(y){var b=y,M=y;if(y.alternate)for(;b.return;)b=b.return;else{y=b;do b=y,b.flags&4098&&(M=b.return),y=b.return;while(y)}return b.tag===3?M:null}function R(y){if(U(y)!==y)throw Error(a(188))}function I(y){var b=y.alternate;if(!b){if(b=U(y),b===null)throw Error(a(188));return b!==y?null:y}for(var M=y,k=b;;){var L=M.return;if(L===null)break;var H=L.alternate;if(H===null){if(k=L.return,k!==null){M=k;continue}break}if(L.child===H.child){for(H=L.child;H;){if(H===M)return R(L),y;if(H===k)return R(L),b;H=H.sibling}throw Error(a(188))}if(M.return!==k.return)M=L,k=H;else{for(var ae=!1,we=L.child;we;){if(we===M){ae=!0,M=L,k=H;break}if(we===k){ae=!0,k=L,M=H;break}we=we.sibling}if(!ae){for(we=H.child;we;){if(we===M){ae=!0,M=H,k=L;break}if(we===k){ae=!0,k=H,M=L;break}we=we.sibling}if(!ae)throw Error(a(189))}}if(M.alternate!==k)throw Error(a(190))}if(M.tag!==3)throw Error(a(188));return M.stateNode.current===M?y:b}function B(y){return y=I(y),y!==null?G(y):null}function G(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){var b=G(y);if(b!==null)return b;y=y.sibling}return null}function K(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){if(y.tag!==4){var b=K(y);if(b!==null)return b}y=y.sibling}return null}var Q=Array.isArray,q=e.getPublicInstance,ie=e.getRootHostContext,V=e.getChildHostContext,X=e.prepareForCommit,z=e.resetAfterCommit,oe=e.createInstance,de=e.appendInitialChild,Y=e.finalizeInitialChildren,he=e.prepareUpdate,Ce=e.shouldSetTextContent,Ie=e.createTextInstance,Ee=e.scheduleTimeout,Je=e.cancelTimeout,Ne=e.noTimeout,Ue=e.isPrimaryRenderer,Fe=e.supportsMutation,le=e.supportsPersistence,J=e.supportsHydration,Le=e.getInstanceFromNode,qe=e.preparePortalMount,We=e.getCurrentEventPriority,Ke=e.detachDeletedInstance,yt=e.supportsMicrotasks,ct=e.scheduleMicrotask,$=e.supportsTestSelectors,F=e.findFiberRoot,re=e.getBoundingRect,ye=e.getTextContent,be=e.isHiddenSubtree,pe=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,xe=e.setupIntersectionObserver,ke=e.appendChild,ut=e.appendChildToContainer,$e=e.commitTextUpdate,st=e.commitMount,Ut=e.commitUpdate,Pt=e.insertBefore,mt=e.insertInContainerBefore,ln=e.removeChild,Tt=e.removeChildFromContainer,Cn=e.resetTextContent,ve=e.hideInstance,_t=e.hideTextInstance,Be=e.unhideInstance,et=e.unhideTextInstance,vt=e.clearContainer,gt=e.cloneInstance,qn=e.createContainerChildSet,jt=e.appendChildToContainerChildSet,yn=e.finalizeContainerChildren,zt=e.replaceContainerChildren,_r=e.cloneHiddenInstance,Kr=e.cloneHiddenTextInstance,Ca=e.canHydrateInstance,ca=e.canHydrateTextInstance,vi=e.canHydrateSuspenseInstance,fs=e.isSuspenseInstancePending,Pf=e.isSuspenseInstanceFallback,Ry=e.registerSuspenseInstanceRetry,Sl=e.getNextHydratableSibling,Iy=e.getFirstHydratableChild,jf=e.getFirstHydratableChildWithinContainer,Ly=e.getFirstHydratableChildWithinSuspenseInstance,Dy=e.hydrateInstance,Xb=e.hydrateTextInstance,Fy=e.hydrateSuspenseInstance,Kb=e.getNextHydratableInstanceAfterSuspenseInstance,ee=e.commitHydratedContainer,_e=e.commitHydratedSuspenseInstance,je=e.clearSuspenseBoundary,Oe=e.clearSuspenseBoundaryFromContainer,Te=e.shouldDeleteUnhydratedTailInstances,dt=e.didNotMatchHydratedContainerTextInstance,Et=e.didNotMatchHydratedTextInstance,Ct;function Ot(y){if(Ct===void 0)try{throw Error()}catch(M){var b=M.stack.trim().match(/\n( *(at )?)/);Ct=b&&b[1]||""}return`
`+Ct+y}var tn=!1;function sn(y,b){if(!y||tn)return"";tn=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(ot){var k=ot}Reflect.construct(y,[],b)}else{try{b.call()}catch(ot){k=ot}y.call(b.prototype)}else{try{throw Error()}catch(ot){k=ot}y()}}catch(ot){if(ot&&k&&typeof ot.stack=="string"){for(var L=ot.stack.split(`
`),H=k.stack.split(`
`),ae=L.length-1,we=H.length-1;1<=ae&&0<=we&&L[ae]!==H[we];)we--;for(;1<=ae&&0<=we;ae--,we--)if(L[ae]!==H[we]){if(ae!==1||we!==1)do if(ae--,we--,0>we||L[ae]!==H[we]){var ze=`
`+L[ae].replace(" at new "," at ");return y.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",y.displayName)),ze}while(1<=ae&&0<=we);break}}}finally{tn=!1,Error.prepareStackTrace=M}return(y=y?y.displayName||y.name:"")?Ot(y):""}var Vt=Object.prototype.hasOwnProperty,ir=[],ar=-1;function dr(y){return{current:y}}function Bn(y){0>ar||(y.current=ir[ar],ir[ar]=null,ar--)}function Yt(y,b){ar++,ir[ar]=y.current,y.current=b}var It={},er=dr(It),mn=dr(!1),Ci=It;function Zs(y,b){var M=y.type.contextTypes;if(!M)return It;var k=y.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===b)return k.__reactInternalMemoizedMaskedChildContext;var L={},H;for(H in M)L[H]=b[H];return k&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=b,y.__reactInternalMemoizedMaskedChildContext=L),L}function Er(y){return y=y.childContextTypes,y!=null}function dc(){Bn(mn),Bn(er)}function kr(y,b,M){if(er.current!==It)throw Error(a(168));Yt(er,b),Yt(mn,M)}function ro(y,b,M){var k=y.stateNode;if(b=b.childContextTypes,typeof k.getChildContext!="function")return M;k=k.getChildContext();for(var L in k)if(!(L in b))throw Error(a(108,O(y)||"Unknown",L));return s({},M,k)}function ou(y){return y=(y=y.stateNode)&&y.__reactInternalMemoizedMergedChildContext||It,Ci=er.current,Yt(er,y),Yt(mn,mn.current),!0}function Ns(y,b,M){var k=y.stateNode;if(!k)throw Error(a(169));M?(y=ro(y,b,Ci),k.__reactInternalMemoizedMergedChildContext=y,Bn(mn),Bn(er),Yt(er,y)):Bn(mn),Yt(mn,M)}var Ps=Math.clz32?Math.clz32:aA,Hp=Math.log,Uy=Math.LN2;function aA(y){return y>>>=0,y===0?32:31-(Hp(y)/Uy|0)|0}var kf=64,Of=4194304;function El(y){switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return y&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return y}}function Wp(y,b){var M=y.pendingLanes;if(M===0)return 0;var k=0,L=y.suspendedLanes,H=y.pingedLanes,ae=M&268435455;if(ae!==0){var we=ae&~L;we!==0?k=El(we):(H&=ae,H!==0&&(k=El(H)))}else ae=M&~L,ae!==0?k=El(ae):H!==0&&(k=El(H));if(k===0)return 0;if(b!==0&&b!==k&&!(b&L)&&(L=k&-k,H=b&-b,L>=H||L===16&&(H&4194240)!==0))return b;if(k&4&&(k|=M&16),b=y.entangledLanes,b!==0)for(y=y.entanglements,b&=k;0<b;)M=31-Ps(b),L=1<<M,k|=y[M],b&=~L;return k}function oA(y,b){switch(y){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wk(y,b){for(var M=y.suspendedLanes,k=y.pingedLanes,L=y.expirationTimes,H=y.pendingLanes;0<H;){var ae=31-Ps(H),we=1<<ae,ze=L[ae];ze===-1?(!(we&M)||we&k)&&(L[ae]=oA(we,b)):ze<=b&&(y.expiredLanes|=we),H&=~we}}function By(y){return y=y.pendingLanes&-1073741825,y!==0?y:y&1073741824?1073741824:0}function zy(y){for(var b=[],M=0;31>M;M++)b.push(y);return b}function Rf(y,b,M){y.pendingLanes|=b,b!==536870912&&(y.suspendedLanes=0,y.pingedLanes=0),y=y.eventTimes,b=31-Ps(b),y[b]=M}function lA(y,b){var M=y.pendingLanes&~b;y.pendingLanes=b,y.suspendedLanes=0,y.pingedLanes=0,y.expiredLanes&=b,y.mutableReadLanes&=b,y.entangledLanes&=b,b=y.entanglements;var k=y.eventTimes;for(y=y.expirationTimes;0<M;){var L=31-Ps(M),H=1<<L;b[L]=0,k[L]=-1,y[L]=-1,M&=~H}}function Yb(y,b){var M=y.entangledLanes|=b;for(y=y.entanglements;M;){var k=31-Ps(M),L=1<<k;L&b|y[k]&b&&(y[k]|=b),M&=~L}}var ur=0;function cA(y){return y&=-y,1<y?4<y?y&268435455?16:536870912:4:1}var $y=i.unstable_scheduleCallback,uA=i.unstable_cancelCallback,Gk=i.unstable_shouldYield,qk=i.unstable_requestPaint,Zi=i.unstable_now,Gp=i.unstable_ImmediatePriority,Xk=i.unstable_UserBlockingPriority,Zb=i.unstable_NormalPriority,Kk=i.unstable_IdlePriority,Vy=null,Al=null;function Br(y){if(Al&&typeof Al.onCommitFiberRoot=="function")try{Al.onCommitFiberRoot(Vy,y,void 0,(y.current.flags&128)===128)}catch{}}function Dr(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var Tl=typeof Object.is=="function"?Object.is:Dr,fc=null,Hy=!1,Qb=!1;function dA(y){fc===null?fc=[y]:fc.push(y)}function Yk(y){Hy=!0,dA(y)}function Ro(){if(!Qb&&fc!==null){Qb=!0;var y=0,b=ur;try{var M=fc;for(ur=1;y<M.length;y++){var k=M[y];do k=k(!0);while(k!==null)}fc=null,Hy=!1}catch(L){throw fc!==null&&(fc=fc.slice(y+1)),$y(Gp,Ro),L}finally{ur=b,Qb=!1}}return null}var Zk=o.ReactCurrentBatchConfig;function Ni(y,b){if(Tl(y,b))return!0;if(typeof y!="object"||y===null||typeof b!="object"||b===null)return!1;var M=Object.keys(y),k=Object.keys(b);if(M.length!==k.length)return!1;for(k=0;k<M.length;k++){var L=M[k];if(!Vt.call(b,L)||!Tl(y[L],b[L]))return!1}return!0}function Jb(y){switch(y.tag){case 5:return Ot(y.type);case 16:return Ot("Lazy");case 13:return Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 2:case 15:return y=sn(y.type,!1),y;case 11:return y=sn(y.type.render,!1),y;case 1:return y=sn(y.type,!0),y;default:return""}}function hs(y,b){if(y&&y.defaultProps){b=s({},b),y=y.defaultProps;for(var M in y)b[M]===void 0&&(b[M]=y[M]);return b}return b}var qp=dr(null),If=null,ps=null,Wy=null;function Gy(){Wy=ps=If=null}function ew(y,b,M){Ue?(Yt(qp,b._currentValue),b._currentValue=M):(Yt(qp,b._currentValue2),b._currentValue2=M)}function qy(y){var b=qp.current;Bn(qp),Ue?y._currentValue=b:y._currentValue2=b}function Xy(y,b,M){for(;y!==null;){var k=y.alternate;if((y.childLanes&b)!==b?(y.childLanes|=b,k!==null&&(k.childLanes|=b)):k!==null&&(k.childLanes&b)!==b&&(k.childLanes|=b),y===M)break;y=y.return}}function cd(y,b){If=y,Wy=ps=null,y=y.dependencies,y!==null&&y.firstContext!==null&&(y.lanes&b&&(Pa=!0),y.firstContext=null)}function Yr(y){var b=Ue?y._currentValue:y._currentValue2;if(Wy!==y)if(y={context:y,memoizedValue:b,next:null},ps===null){if(If===null)throw Error(a(308));ps=y,If.dependencies={lanes:0,firstContext:y}}else ps=ps.next=y;return b}var Ml=null,Bi=!1;function tw(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nw(y,b){y=y.updateQueue,b.updateQueue===y&&(b.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,effects:y.effects})}function js(y,b){return{eventTime:y,lane:b,tag:0,payload:null,callback:null,next:null}}function Io(y,b){var M=y.updateQueue;M!==null&&(M=M.shared,Pi!==null&&y.mode&1&&!(Rn&2)?(y=M.interleaved,y===null?(b.next=b,Ml===null?Ml=[M]:Ml.push(M)):(b.next=y.next,y.next=b),M.interleaved=b):(y=M.pending,y===null?b.next=b:(b.next=y.next,y.next=b),M.pending=b))}function Lf(y,b,M){if(b=b.updateQueue,b!==null&&(b=b.shared,(M&4194240)!==0)){var k=b.lanes;k&=y.pendingLanes,M|=k,b.lanes=M,Yb(y,M)}}function zr(y,b){var M=y.updateQueue,k=y.alternate;if(k!==null&&(k=k.updateQueue,M===k)){var L=null,H=null;if(M=M.firstBaseUpdate,M!==null){do{var ae={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};H===null?L=H=ae:H=H.next=ae,M=M.next}while(M!==null);H===null?L=H=b:H=H.next=b}else L=H=b;M={baseState:k.baseState,firstBaseUpdate:L,lastBaseUpdate:H,shared:k.shared,effects:k.effects},y.updateQueue=M;return}y=M.lastBaseUpdate,y===null?M.firstBaseUpdate=b:y.next=b,M.lastBaseUpdate=b}function Lo(y,b,M,k){var L=y.updateQueue;Bi=!1;var H=L.firstBaseUpdate,ae=L.lastBaseUpdate,we=L.shared.pending;if(we!==null){L.shared.pending=null;var ze=we,ot=ze.next;ze.next=null,ae===null?H=ot:ae.next=ot,ae=ze;var Rt=y.alternate;Rt!==null&&(Rt=Rt.updateQueue,we=Rt.lastBaseUpdate,we!==ae&&(we===null?Rt.firstBaseUpdate=ot:we.next=ot,Rt.lastBaseUpdate=ze))}if(H!==null){var xn=L.baseState;ae=0,Rt=ot=ze=null,we=H;do{var Zt=we.lane,Ar=we.eventTime;if((k&Zt)===Zt){Rt!==null&&(Rt=Rt.next={eventTime:Ar,lane:0,tag:we.tag,payload:we.payload,callback:we.callback,next:null});e:{var Ht=y,Us=we;switch(Zt=b,Ar=M,Us.tag){case 1:if(Ht=Us.payload,typeof Ht=="function"){xn=Ht.call(Ar,xn,Zt);break e}xn=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Us.payload,Zt=typeof Ht=="function"?Ht.call(Ar,xn,Zt):Ht,Zt==null)break e;xn=s({},xn,Zt);break e;case 2:Bi=!0}}we.callback!==null&&we.lane!==0&&(y.flags|=64,Zt=L.effects,Zt===null?L.effects=[we]:Zt.push(we))}else Ar={eventTime:Ar,lane:Zt,tag:we.tag,payload:we.payload,callback:we.callback,next:null},Rt===null?(ot=Rt=Ar,ze=xn):Rt=Rt.next=Ar,ae|=Zt;if(we=we.next,we===null){if(we=L.shared.pending,we===null)break;Zt=we,we=Zt.next,Zt.next=null,L.lastBaseUpdate=Zt,L.shared.pending=null}}while(!0);if(Rt===null&&(ze=xn),L.baseState=ze,L.firstBaseUpdate=ot,L.lastBaseUpdate=Rt,b=L.shared.interleaved,b!==null){L=b;do ae|=L.lane,L=L.next;while(L!==b)}else H===null&&(L.shared.lanes=0);rh|=ae,y.lanes=ae,y.memoizedState=xn}}function Ky(y,b,M){if(y=b.effects,b.effects=null,y!==null)for(b=0;b<y.length;b++){var k=y[b],L=k.callback;if(L!==null){if(k.callback=null,k=M,typeof L!="function")throw Error(a(191,L));L.call(k)}}}var fA=new r.Component().refs;function Xp(y,b,M,k){b=y.memoizedState,M=M(k,b),M=M==null?b:s({},b,M),y.memoizedState=M,y.lanes===0&&(y.updateQueue.baseState=M)}var Yy={isMounted:function(y){return(y=y._reactInternals)?U(y)===y:!1},enqueueSetState:function(y,b,M){y=y._reactInternals;var k=Is(),L=Rl(y),H=js(k,L);H.payload=b,M!=null&&(H.callback=M),Io(y,H),b=so(y,L,k),b!==null&&Lf(b,y,L)},enqueueReplaceState:function(y,b,M){y=y._reactInternals;var k=Is(),L=Rl(y),H=js(k,L);H.tag=1,H.payload=b,M!=null&&(H.callback=M),Io(y,H),b=so(y,L,k),b!==null&&Lf(b,y,L)},enqueueForceUpdate:function(y,b){y=y._reactInternals;var M=Is(),k=Rl(y),L=js(M,k);L.tag=2,b!=null&&(L.callback=b),Io(y,L),b=so(y,k,M),b!==null&&Lf(b,y,k)}};function hA(y,b,M,k,L,H,ae){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(k,H,ae):b.prototype&&b.prototype.isPureReactComponent?!Ni(M,k)||!Ni(L,H):!0}function pA(y,b,M){var k=!1,L=It,H=b.contextType;return typeof H=="object"&&H!==null?H=Yr(H):(L=Er(b)?Ci:er.current,k=b.contextTypes,H=(k=k!=null)?Zs(y,L):It),b=new b(M,H),y.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Yy,y.stateNode=b,b._reactInternals=y,k&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=L,y.__reactInternalMemoizedMaskedChildContext=H),b}function rw(y,b,M,k){y=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(M,k),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(M,k),b.state!==y&&Yy.enqueueReplaceState(b,b.state,null)}function Df(y,b,M,k){var L=y.stateNode;L.props=M,L.state=y.memoizedState,L.refs=fA,tw(y);var H=b.contextType;typeof H=="object"&&H!==null?L.context=Yr(H):(H=Er(b)?Ci:er.current,L.context=Zs(y,H)),L.state=y.memoizedState,H=b.getDerivedStateFromProps,typeof H=="function"&&(Xp(y,b,H,M),L.state=y.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(b=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),b!==L.state&&Yy.enqueueReplaceState(L,L.state,null),Lo(y,M,L,k),L.state=y.memoizedState),typeof L.componentDidMount=="function"&&(y.flags|=4194308)}var Do=[],Ff=0,Kp=null,Yp=0,ua=[],da=0,lu=null,hc=1,Fo="";function pc(y,b){Do[Ff++]=Yp,Do[Ff++]=Kp,Kp=y,Yp=b}function mA(y,b,M){ua[da++]=hc,ua[da++]=Fo,ua[da++]=lu,lu=y;var k=hc;y=Fo;var L=32-Ps(k)-1;k&=~(1<<L),M+=1;var H=32-Ps(b)+L;if(30<H){var ae=L-L%5;H=(k&(1<<ae)-1).toString(32),k>>=ae,L-=ae,hc=1<<32-Ps(b)+L|M<<L|k,Fo=H+y}else hc=1<<H|M<<L|k,Fo=y}function Zy(y){y.return!==null&&(pc(y,1),mA(y,1,0))}function Qs(y){for(;y===Kp;)Kp=Do[--Ff],Do[Ff]=null,Yp=Do[--Ff],Do[Ff]=null;for(;y===lu;)lu=ua[--da],ua[da]=null,Fo=ua[--da],ua[da]=null,hc=ua[--da],ua[da]=null}var Js=null,ms=null,$r=!1,Uf=!1,Uo=null;function gA(y,b){var M=ao(5,null,null,0);M.elementType="DELETED",M.stateNode=b,M.return=y,b=y.deletions,b===null?(y.deletions=[M],y.flags|=16):b.push(M)}function yA(y,b){switch(y.tag){case 5:return b=Ca(b,y.type,y.pendingProps),b!==null?(y.stateNode=b,Js=y,ms=Iy(b),!0):!1;case 6:return b=ca(b,y.pendingProps),b!==null?(y.stateNode=b,Js=y,ms=null,!0):!1;case 13:if(b=vi(b),b!==null){var M=lu!==null?{id:hc,overflow:Fo}:null;return y.memoizedState={dehydrated:b,treeContext:M,retryLane:1073741824},M=ao(18,null,null,0),M.stateNode=b,M.return=y,y.child=M,Js=y,ms=null,!0}return!1;default:return!1}}function iw(y){return(y.mode&1)!==0&&(y.flags&128)===0}function sw(y){if($r){var b=ms;if(b){var M=b;if(!yA(y,b)){if(iw(y))throw Error(a(418));b=Sl(M);var k=Js;b&&yA(y,b)?gA(k,M):(y.flags=y.flags&-4097|2,$r=!1,Js=y)}}else{if(iw(y))throw Error(a(418));y.flags=y.flags&-4097|2,$r=!1,Js=y}}}function ud(y){for(y=y.return;y!==null&&y.tag!==5&&y.tag!==3&&y.tag!==13;)y=y.return;Js=y}function Zp(y){if(!J||y!==Js)return!1;if(!$r)return ud(y),$r=!0,!1;if(y.tag!==3&&(y.tag!==5||Te(y.type)&&!Ce(y.type,y.memoizedProps))){var b=ms;if(b){if(iw(y)){for(y=ms;y;)y=Sl(y);throw Error(a(418))}for(;b;)gA(y,b),b=Sl(b)}}if(ud(y),y.tag===13){if(!J)throw Error(a(316));if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));ms=Kb(y)}else ms=Js?Sl(y.stateNode):null;return!0}function Bf(){J&&(ms=Js=null,Uf=$r=!1)}function Qp(y){Uo===null?Uo=[y]:Uo.push(y)}function zf(y,b,M){if(y=M.ref,y!==null&&typeof y!="function"&&typeof y!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(a(309));var k=M.stateNode}if(!k)throw Error(a(147,y));var L=k,H=""+y;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===H?b.ref:(b=function(ae){var we=L.refs;we===fA&&(we=L.refs={}),ae===null?delete we[H]:we[H]=ae},b._stringRef=H,b)}if(typeof y!="string")throw Error(a(284));if(!M._owner)throw Error(a(290,y))}return y}function Bo(y,b){throw y=Object.prototype.toString.call(b),Error(a(31,y==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":y))}function Jp(y){var b=y._init;return b(y._payload)}function vA(y){function b(Pe,Se){if(y){var De=Pe.deletions;De===null?(Pe.deletions=[Se],Pe.flags|=16):De.push(Se)}}function M(Pe,Se){if(!y)return null;for(;Se!==null;)b(Pe,Se),Se=Se.sibling;return null}function k(Pe,Se){for(Pe=new Map;Se!==null;)Se.key!==null?Pe.set(Se.key,Se):Pe.set(Se.index,Se),Se=Se.sibling;return Pe}function L(Pe,Se){return Pe=xc(Pe,Se),Pe.index=0,Pe.sibling=null,Pe}function H(Pe,Se,De){return Pe.index=De,y?(De=Pe.alternate,De!==null?(De=De.index,De<Se?(Pe.flags|=2,Se):De):(Pe.flags|=2,Se)):(Pe.flags|=1048576,Se)}function ae(Pe){return y&&Pe.alternate===null&&(Pe.flags|=2),Pe}function we(Pe,Se,De,St){return Se===null||Se.tag!==6?(Se=Fs(De,Pe.mode,St),Se.return=Pe,Se):(Se=L(Se,De),Se.return=Pe,Se)}function ze(Pe,Se,De,St){var Wt=De.type;return Wt===d?Rt(Pe,Se,De.props.children,St,De.key):Se!==null&&(Se.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===S&&Jp(Wt)===Se.type)?(St=L(Se,De.props),St.ref=zf(Pe,Se,De),St.return=Pe,St):(St=yv(De.type,De.key,De.props,null,Pe.mode,St),St.ref=zf(Pe,Se,De),St.return=Pe,St)}function ot(Pe,Se,De,St){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==De.containerInfo||Se.stateNode.implementation!==De.implementation?(Se=oo(De,Pe.mode,St),Se.return=Pe,Se):(Se=L(Se,De.children||[]),Se.return=Pe,Se)}function Rt(Pe,Se,De,St,Wt){return Se===null||Se.tag!==7?(Se=_u(De,Pe.mode,St,Wt),Se.return=Pe,Se):(Se=L(Se,De),Se.return=Pe,Se)}function xn(Pe,Se,De){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=Fs(""+Se,Pe.mode,De),Se.return=Pe,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case c:return De=yv(Se.type,Se.key,Se.props,null,Pe.mode,De),De.ref=zf(Pe,null,Se),De.return=Pe,De;case u:return Se=oo(Se,Pe.mode,De),Se.return=Pe,Se;case S:var St=Se._init;return xn(Pe,St(Se._payload),De)}if(Q(Se)||T(Se))return Se=_u(Se,Pe.mode,De,null),Se.return=Pe,Se;Bo(Pe,Se)}return null}function Zt(Pe,Se,De,St){var Wt=Se!==null?Se.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Wt!==null?null:we(Pe,Se,""+De,St);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case c:return De.key===Wt?ze(Pe,Se,De,St):null;case u:return De.key===Wt?ot(Pe,Se,De,St):null;case S:return Wt=De._init,Zt(Pe,Se,Wt(De._payload),St)}if(Q(De)||T(De))return Wt!==null?null:Rt(Pe,Se,De,St,null);Bo(Pe,De)}return null}function Ar(Pe,Se,De,St,Wt){if(typeof St=="string"&&St!==""||typeof St=="number")return Pe=Pe.get(De)||null,we(Se,Pe,""+St,Wt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case c:return Pe=Pe.get(St.key===null?De:St.key)||null,ze(Se,Pe,St,Wt);case u:return Pe=Pe.get(St.key===null?De:St.key)||null,ot(Se,Pe,St,Wt);case S:var In=St._init;return Ar(Pe,Se,De,In(St._payload),Wt)}if(Q(St)||T(St))return Pe=Pe.get(De)||null,Rt(Se,Pe,St,Wt,null);Bo(Se,St)}return null}function Ht(Pe,Se,De,St){for(var Wt=null,In=null,En=Se,Ln=Se=0,ki=null;En!==null&&Ln<De.length;Ln++){En.index>Ln?(ki=En,En=null):ki=En.sibling;var sr=Zt(Pe,En,De[Ln],St);if(sr===null){En===null&&(En=ki);break}y&&En&&sr.alternate===null&&b(Pe,En),Se=H(sr,Se,Ln),In===null?Wt=sr:In.sibling=sr,In=sr,En=ki}if(Ln===De.length)return M(Pe,En),$r&&pc(Pe,Ln),Wt;if(En===null){for(;Ln<De.length;Ln++)En=xn(Pe,De[Ln],St),En!==null&&(Se=H(En,Se,Ln),In===null?Wt=En:In.sibling=En,In=En);return $r&&pc(Pe,Ln),Wt}for(En=k(Pe,En);Ln<De.length;Ln++)ki=Ar(En,Pe,Ln,De[Ln],St),ki!==null&&(y&&ki.alternate!==null&&En.delete(ki.key===null?Ln:ki.key),Se=H(ki,Se,Ln),In===null?Wt=ki:In.sibling=ki,In=ki);return y&&En.forEach(function(Ll){return b(Pe,Ll)}),$r&&pc(Pe,Ln),Wt}function Us(Pe,Se,De,St){var Wt=T(De);if(typeof Wt!="function")throw Error(a(150));if(De=Wt.call(De),De==null)throw Error(a(151));for(var In=Wt=null,En=Se,Ln=Se=0,ki=null,sr=De.next();En!==null&&!sr.done;Ln++,sr=De.next()){En.index>Ln?(ki=En,En=null):ki=En.sibling;var Ll=Zt(Pe,En,sr.value,St);if(Ll===null){En===null&&(En=ki);break}y&&En&&Ll.alternate===null&&b(Pe,En),Se=H(Ll,Se,Ln),In===null?Wt=Ll:In.sibling=Ll,In=Ll,En=ki}if(sr.done)return M(Pe,En),$r&&pc(Pe,Ln),Wt;if(En===null){for(;!sr.done;Ln++,sr=De.next())sr=xn(Pe,sr.value,St),sr!==null&&(Se=H(sr,Se,Ln),In===null?Wt=sr:In.sibling=sr,In=sr);return $r&&pc(Pe,Ln),Wt}for(En=k(Pe,En);!sr.done;Ln++,sr=De.next())sr=Ar(En,Pe,Ln,sr.value,St),sr!==null&&(y&&sr.alternate!==null&&En.delete(sr.key===null?Ln:sr.key),Se=H(sr,Se,Ln),In===null?Wt=sr:In.sibling=sr,In=sr);return y&&En.forEach(function(xv){return b(Pe,xv)}),$r&&pc(Pe,Ln),Wt}function Ia(Pe,Se,De,St){if(typeof De=="object"&&De!==null&&De.type===d&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case c:e:{for(var Wt=De.key,In=Se;In!==null;){if(In.key===Wt){if(Wt=De.type,Wt===d){if(In.tag===7){M(Pe,In.sibling),Se=L(In,De.props.children),Se.return=Pe,Pe=Se;break e}}else if(In.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===S&&Jp(Wt)===In.type){M(Pe,In.sibling),Se=L(In,De.props),Se.ref=zf(Pe,In,De),Se.return=Pe,Pe=Se;break e}M(Pe,In);break}else b(Pe,In);In=In.sibling}De.type===d?(Se=_u(De.props.children,Pe.mode,St,De.key),Se.return=Pe,Pe=Se):(St=yv(De.type,De.key,De.props,null,Pe.mode,St),St.ref=zf(Pe,Se,De),St.return=Pe,Pe=St)}return ae(Pe);case u:e:{for(In=De.key;Se!==null;){if(Se.key===In)if(Se.tag===4&&Se.stateNode.containerInfo===De.containerInfo&&Se.stateNode.implementation===De.implementation){M(Pe,Se.sibling),Se=L(Se,De.children||[]),Se.return=Pe,Pe=Se;break e}else{M(Pe,Se);break}else b(Pe,Se);Se=Se.sibling}Se=oo(De,Pe.mode,St),Se.return=Pe,Pe=Se}return ae(Pe);case S:return In=De._init,Ia(Pe,Se,In(De._payload),St)}if(Q(De))return Ht(Pe,Se,De,St);if(T(De))return Us(Pe,Se,De,St);Bo(Pe,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,Se!==null&&Se.tag===6?(M(Pe,Se.sibling),Se=L(Se,De),Se.return=Pe,Pe=Se):(M(Pe,Se),Se=Fs(De,Pe.mode,St),Se.return=Pe,Pe=Se),ae(Pe)):M(Pe,Se)}return Ia}var $f=vA(!0),xA=vA(!1),Cl={},hi=dr(Cl),Vf=dr(Cl),Hf=dr(Cl);function Nl(y){if(y===Cl)throw Error(a(174));return y}function aw(y,b){Yt(Hf,b),Yt(Vf,y),Yt(hi,Cl),y=ie(b),Bn(hi),Yt(hi,y)}function Wf(){Bn(hi),Bn(Vf),Bn(Hf)}function bA(y){var b=Nl(Hf.current),M=Nl(hi.current);b=V(M,y.type,b),M!==b&&(Yt(Vf,y),Yt(hi,b))}function cu(y){Vf.current===y&&(Bn(hi),Bn(Vf))}var ge=dr(0);function He(y){for(var b=y;b!==null;){if(b.tag===13){var M=b.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||fs(M)||Pf(M)))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if(b.flags&128)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===y)break;for(;b.sibling===null;){if(b.return===null||b.return===y)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var Re=[];function Mt(){for(var y=0;y<Re.length;y++){var b=Re[y];Ue?b._workInProgressVersionPrimary=null:b._workInProgressVersionSecondary=null}Re.length=0}var pn=o.ReactCurrentDispatcher,Nn=o.ReactCurrentBatchConfig,Zr=0,un=null,Qi=null,Ji=null,ea=!1,uu=!1,em=0,Gf=0;function zi(){throw Error(a(321))}function qf(y,b){if(b===null)return!1;for(var M=0;M<b.length&&M<y.length;M++)if(!Tl(y[M],b[M]))return!1;return!0}function fr(y,b,M,k,L,H){if(Zr=H,un=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,pn.current=y===null||y.memoizedState===null?lm:hw,y=M(k,L),uu){H=0;do{if(uu=!1,em=0,25<=H)throw Error(a(301));H+=1,Ji=Qi=null,b.updateQueue=null,pn.current=Yf,y=M(k,L)}while(uu)}if(pn.current=Kf,b=Qi!==null&&Qi.next!==null,Zr=0,Ji=Qi=un=null,ea=!1,b)throw Error(a(300));return y}function ow(){var y=em!==0;return em=0,y}function Pl(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ji===null?un.memoizedState=Ji=y:Ji=Ji.next=y,Ji}function Na(){if(Qi===null){var y=un.alternate;y=y!==null?y.memoizedState:null}else y=Qi.next;var b=Ji===null?un.memoizedState:Ji.next;if(b!==null)Ji=b,Qi=y;else{if(y===null)throw Error(a(310));Qi=y,y={memoizedState:Qi.memoizedState,baseState:Qi.baseState,baseQueue:Qi.baseQueue,queue:Qi.queue,next:null},Ji===null?un.memoizedState=Ji=y:Ji=Ji.next=y}return Ji}function dd(y,b){return typeof b=="function"?b(y):b}function Qy(y){var b=Na(),M=b.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=y;var k=Qi,L=k.baseQueue,H=M.pending;if(H!==null){if(L!==null){var ae=L.next;L.next=H.next,H.next=ae}k.baseQueue=L=H,M.pending=null}if(L!==null){H=L.next,k=k.baseState;var we=ae=null,ze=null,ot=H;do{var Rt=ot.lane;if((Zr&Rt)===Rt)ze!==null&&(ze=ze.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),k=ot.hasEagerState?ot.eagerState:y(k,ot.action);else{var xn={lane:Rt,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};ze===null?(we=ze=xn,ae=k):ze=ze.next=xn,un.lanes|=Rt,rh|=Rt}ot=ot.next}while(ot!==null&&ot!==H);ze===null?ae=k:ze.next=we,Tl(k,b.memoizedState)||(Pa=!0),b.memoizedState=k,b.baseState=ae,b.baseQueue=ze,M.lastRenderedState=k}if(y=M.interleaved,y!==null){L=y;do H=L.lane,un.lanes|=H,rh|=H,L=L.next;while(L!==y)}else L===null&&(M.lanes=0);return[b.memoizedState,M.dispatch]}function Jy(y){var b=Na(),M=b.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=y;var k=M.dispatch,L=M.pending,H=b.memoizedState;if(L!==null){M.pending=null;var ae=L=L.next;do H=y(H,ae.action),ae=ae.next;while(ae!==L);Tl(H,b.memoizedState)||(Pa=!0),b.memoizedState=H,b.baseQueue===null&&(b.baseState=H),M.lastRenderedState=H}return[H,k]}function tm(){}function mc(y,b){var M=un,k=Na(),L=b(),H=!Tl(k.memoizedState,L);if(H&&(k.memoizedState=L,Pa=!0),k=k.queue,im(rm.bind(null,M,k,y),[y]),k.getSnapshot!==b||H||Ji!==null&&Ji.memoizedState.tag&1){if(M.flags|=2048,du(9,lw.bind(null,M,k,L,b),void 0,null),Pi===null)throw Error(a(349));Zr&30||nm(M,b,L)}return L}function nm(y,b,M){y.flags|=16384,y={getSnapshot:b,value:M},b=un.updateQueue,b===null?(b={lastEffect:null,stores:null},un.updateQueue=b,b.stores=[y]):(M=b.stores,M===null?b.stores=[y]:M.push(y))}function lw(y,b,M,k){b.value=M,b.getSnapshot=k,cw(b)&&so(y,1,-1)}function rm(y,b,M){return M(function(){cw(b)&&so(y,1,-1)})}function cw(y){var b=y.getSnapshot;y=y.value;try{var M=b();return!Tl(y,M)}catch{return!0}}function ev(y){var b=Pl();return typeof y=="function"&&(y=y()),b.memoizedState=b.baseState=y,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:y},b.queue=y,y=y.dispatch=ks.bind(null,un,y),[b.memoizedState,y]}function du(y,b,M,k){return y={tag:y,create:b,destroy:M,deps:k,next:null},b=un.updateQueue,b===null?(b={lastEffect:null,stores:null},un.updateQueue=b,b.lastEffect=y.next=y):(M=b.lastEffect,M===null?b.lastEffect=y.next=y:(k=M.next,M.next=y,y.next=k,b.lastEffect=y)),y}function uw(){return Na().memoizedState}function fu(y,b,M,k){var L=Pl();un.flags|=y,L.memoizedState=du(1|b,M,void 0,k===void 0?null:k)}function jl(y,b,M,k){var L=Na();k=k===void 0?null:k;var H=void 0;if(Qi!==null){var ae=Qi.memoizedState;if(H=ae.destroy,k!==null&&qf(k,ae.deps)){L.memoizedState=du(b,M,H,k);return}}un.flags|=y,L.memoizedState=du(1|b,M,H,k)}function Xf(y,b){return fu(8390656,8,y,b)}function im(y,b){return jl(2048,8,y,b)}function wA(y,b){return jl(4,2,y,b)}function _A(y,b){return jl(4,4,y,b)}function sm(y,b){if(typeof b=="function")return y=y(),b(y),function(){b(null)};if(b!=null)return y=y(),b.current=y,function(){b.current=null}}function am(y,b,M){return M=M!=null?M.concat([y]):null,jl(4,4,sm.bind(null,b,y),M)}function om(){}function SA(y,b){var M=Na();b=b===void 0?null:b;var k=M.memoizedState;return k!==null&&b!==null&&qf(b,k[1])?k[0]:(M.memoizedState=[y,b],y)}function dw(y,b){var M=Na();b=b===void 0?null:b;var k=M.memoizedState;return k!==null&&b!==null&&qf(b,k[1])?k[0]:(y=y(),M.memoizedState=[y,b],y)}function Qk(y,b){var M=ur;ur=M!==0&&4>M?M:4,y(!0);var k=Nn.transition;Nn.transition={};try{y(!1),b()}finally{ur=M,Nn.transition=k}}function EA(){return Na().memoizedState}function $i(y,b,M){var k=Rl(y);M={lane:k,action:M,hasEagerState:!1,eagerState:null,next:null},AA(y)?TA(b,M):(fw(y,b,M),M=Is(),y=so(y,k,M),y!==null&&MA(y,b,k))}function ks(y,b,M){var k=Rl(y),L={lane:k,action:M,hasEagerState:!1,eagerState:null,next:null};if(AA(y))TA(b,L);else{fw(y,b,L);var H=y.alternate;if(y.lanes===0&&(H===null||H.lanes===0)&&(H=b.lastRenderedReducer,H!==null))try{var ae=b.lastRenderedState,we=H(ae,M);if(L.hasEagerState=!0,L.eagerState=we,Tl(we,ae))return}catch{}finally{}M=Is(),y=so(y,k,M),y!==null&&MA(y,b,k)}}function AA(y){var b=y.alternate;return y===un||b!==null&&b===un}function TA(y,b){uu=ea=!0;var M=y.pending;M===null?b.next=b:(b.next=M.next,M.next=b),y.pending=b}function fw(y,b,M){Pi!==null&&y.mode&1&&!(Rn&2)?(y=b.interleaved,y===null?(M.next=M,Ml===null?Ml=[b]:Ml.push(b)):(M.next=y.next,y.next=M),b.interleaved=M):(y=b.pending,y===null?M.next=M:(M.next=y.next,y.next=M),b.pending=M)}function MA(y,b,M){if(M&4194240){var k=b.lanes;k&=y.pendingLanes,M|=k,b.lanes=M,Yb(y,M)}}var Kf={readContext:Yr,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useInsertionEffect:zi,useLayoutEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useDeferredValue:zi,useTransition:zi,useMutableSource:zi,useSyncExternalStore:zi,useId:zi,unstable_isNewReconciler:!1},lm={readContext:Yr,useCallback:function(y,b){return Pl().memoizedState=[y,b===void 0?null:b],y},useContext:Yr,useEffect:Xf,useImperativeHandle:function(y,b,M){return M=M!=null?M.concat([y]):null,fu(4194308,4,sm.bind(null,b,y),M)},useLayoutEffect:function(y,b){return fu(4194308,4,y,b)},useInsertionEffect:function(y,b){return fu(4,2,y,b)},useMemo:function(y,b){var M=Pl();return b=b===void 0?null:b,y=y(),M.memoizedState=[y,b],y},useReducer:function(y,b,M){var k=Pl();return b=M!==void 0?M(b):b,k.memoizedState=k.baseState=b,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:b},k.queue=y,y=y.dispatch=$i.bind(null,un,y),[k.memoizedState,y]},useRef:function(y){var b=Pl();return y={current:y},b.memoizedState=y},useState:ev,useDebugValue:om,useDeferredValue:function(y){var b=ev(y),M=b[0],k=b[1];return Xf(function(){var L=Nn.transition;Nn.transition={};try{k(y)}finally{Nn.transition=L}},[y]),M},useTransition:function(){var y=ev(!1),b=y[0];return y=Qk.bind(null,y[1]),Pl().memoizedState=y,[b,y]},useMutableSource:function(){},useSyncExternalStore:function(y,b,M){var k=un,L=Pl();if($r){if(M===void 0)throw Error(a(407));M=M()}else{if(M=b(),Pi===null)throw Error(a(349));Zr&30||nm(k,b,M)}L.memoizedState=M;var H={value:M,getSnapshot:b};return L.queue=H,Xf(rm.bind(null,k,H,y),[y]),k.flags|=2048,du(9,lw.bind(null,k,H,M,b),void 0,null),M},useId:function(){var y=Pl(),b=Pi.identifierPrefix;if($r){var M=Fo,k=hc;M=(k&~(1<<32-Ps(k)-1)).toString(32)+M,b=":"+b+"R"+M,M=em++,0<M&&(b+="H"+M.toString(32)),b+=":"}else M=Gf++,b=":"+b+"r"+M.toString(32)+":";return y.memoizedState=b},unstable_isNewReconciler:!1},hw={readContext:Yr,useCallback:SA,useContext:Yr,useEffect:im,useImperativeHandle:am,useInsertionEffect:wA,useLayoutEffect:_A,useMemo:dw,useReducer:Qy,useRef:uw,useState:function(){return Qy(dd)},useDebugValue:om,useDeferredValue:function(y){var b=Qy(dd),M=b[0],k=b[1];return im(function(){var L=Nn.transition;Nn.transition={};try{k(y)}finally{Nn.transition=L}},[y]),M},useTransition:function(){var y=Qy(dd)[0],b=Na().memoizedState;return[y,b]},useMutableSource:tm,useSyncExternalStore:mc,useId:EA,unstable_isNewReconciler:!1},Yf={readContext:Yr,useCallback:SA,useContext:Yr,useEffect:im,useImperativeHandle:am,useInsertionEffect:wA,useLayoutEffect:_A,useMemo:dw,useReducer:Jy,useRef:uw,useState:function(){return Jy(dd)},useDebugValue:om,useDeferredValue:function(y){var b=Jy(dd),M=b[0],k=b[1];return im(function(){var L=Nn.transition;Nn.transition={};try{k(y)}finally{Nn.transition=L}},[y]),M},useTransition:function(){var y=Jy(dd)[0],b=Na().memoizedState;return[y,b]},useMutableSource:tm,useSyncExternalStore:mc,useId:EA,unstable_isNewReconciler:!1};function fd(y,b){try{var M="",k=b;do M+=Jb(k),k=k.return;while(k);var L=M}catch(H){L=`
Error generating stack: `+H.message+`
`+H.stack}return{value:y,source:b,stack:L}}function hd(y,b){try{console.error(b.value)}catch(M){setTimeout(function(){throw M})}}var tv=typeof WeakMap=="function"?WeakMap:Map;function pd(y,b,M){M=js(-1,M),M.tag=3,M.payload={element:null};var k=b.value;return M.callback=function(){gm||(gm=!0,cv=k),hd(y,b)},M}function CA(y,b,M){M=js(-1,M),M.tag=3;var k=y.type.getDerivedStateFromError;if(typeof k=="function"){var L=b.value;M.payload=function(){return k(L)},M.callback=function(){hd(y,b)}}var H=y.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(M.callback=function(){hd(y,b),typeof k!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var ae=b.stack;this.componentDidCatch(b.value,{componentStack:ae!==null?ae:""})}),M}function NA(y,b,M){var k=y.pingCache;if(k===null){k=y.pingCache=new tv;var L=new Set;k.set(b,L)}else L=k.get(b),L===void 0&&(L=new Set,k.set(b,L));L.has(M)||(L.add(M),y=bu.bind(null,y,b,M),b.then(y,y))}function PA(y){do{var b;if((b=y.tag===13)&&(b=y.memoizedState,b=b!==null?b.dehydrated!==null:!0),b)return y;y=y.return}while(y!==null);return null}function jA(y,b,M,k,L){return y.mode&1?(y.flags|=65536,y.lanes=L,y):(y===b?y.flags|=65536:(y.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(b=js(-1,1),b.tag=2,Io(M,b))),M.lanes|=1),y)}function kl(y){y.flags|=4}function cm(y,b){if(y!==null&&y.child===b.child)return!0;if(b.flags&16)return!1;for(y=b.child;y!==null;){if(y.flags&12854||y.subtreeFlags&12854)return!1;y=y.sibling}return!0}var gc,Zf,Z,yc;if(Fe)gc=function(y,b){for(var M=b.child;M!==null;){if(M.tag===5||M.tag===6)de(y,M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===b)break;for(;M.sibling===null;){if(M.return===null||M.return===b)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},Zf=function(){},Z=function(y,b,M,k,L){if(y=y.memoizedProps,y!==k){var H=b.stateNode,ae=Nl(hi.current);M=he(H,M,y,k,L,ae),(b.updateQueue=M)&&kl(b)}},yc=function(y,b,M,k){M!==k&&kl(b)};else if(le){gc=function(y,b,M,k){for(var L=b.child;L!==null;){if(L.tag===5){var H=L.stateNode;M&&k&&(H=_r(H,L.type,L.memoizedProps,L)),de(y,H)}else if(L.tag===6)H=L.stateNode,M&&k&&(H=Kr(H,L.memoizedProps,L)),de(y,H);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)H=L.child,H!==null&&(H.return=L),gc(y,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===b)break;for(;L.sibling===null;){if(L.return===null||L.return===b)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};var um=function(y,b,M,k){for(var L=b.child;L!==null;){if(L.tag===5){var H=L.stateNode;M&&k&&(H=_r(H,L.type,L.memoizedProps,L)),jt(y,H)}else if(L.tag===6)H=L.stateNode,M&&k&&(H=Kr(H,L.memoizedProps,L)),jt(y,H);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)H=L.child,H!==null&&(H.return=L),um(y,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===b)break;for(;L.sibling===null;){if(L.return===null||L.return===b)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};Zf=function(y,b){var M=b.stateNode;if(!cm(y,b)){y=M.containerInfo;var k=qn(y);um(k,b,!1,!1),M.pendingChildren=k,kl(b),yn(y,k)}},Z=function(y,b,M,k,L){var H=y.stateNode,ae=y.memoizedProps;if((y=cm(y,b))&&ae===k)b.stateNode=H;else{var we=b.stateNode,ze=Nl(hi.current),ot=null;ae!==k&&(ot=he(we,M,ae,k,L,ze)),y&&ot===null?b.stateNode=H:(H=gt(H,ot,M,ae,k,b,y,we),Y(H,M,k,L,ze)&&kl(b),b.stateNode=H,y?kl(b):gc(H,b,!1,!1))}},yc=function(y,b,M,k){M!==k?(y=Nl(Hf.current),M=Nl(hi.current),b.stateNode=Ie(k,y,M,b),kl(b)):b.stateNode=y.stateNode}}else Zf=function(){},Z=function(){},yc=function(){};function Os(y,b){if(!$r)switch(y.tailMode){case"hidden":b=y.tail;for(var M=null;b!==null;)b.alternate!==null&&(M=b),b=b.sibling;M===null?y.tail=null:M.sibling=null;break;case"collapsed":M=y.tail;for(var k=null;M!==null;)M.alternate!==null&&(k=M),M=M.sibling;k===null?b||y.tail===null?y.tail=null:y.tail.sibling=null:k.sibling=null}}function nn(y){var b=y.alternate!==null&&y.alternate.child===y.child,M=0,k=0;if(b)for(var L=y.child;L!==null;)M|=L.lanes|L.childLanes,k|=L.subtreeFlags&14680064,k|=L.flags&14680064,L.return=y,L=L.sibling;else for(L=y.child;L!==null;)M|=L.lanes|L.childLanes,k|=L.subtreeFlags,k|=L.flags,L.return=y,L=L.sibling;return y.subtreeFlags|=k,y.childLanes=M,b}function Jk(y,b,M){var k=b.pendingProps;switch(Qs(b),b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(b),null;case 1:return Er(b.type)&&dc(),nn(b),null;case 3:return k=b.stateNode,Wf(),Bn(mn),Bn(er),Mt(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(y===null||y.child===null)&&(Zp(b)?kl(b):y===null||y.memoizedState.isDehydrated&&!(b.flags&256)||(b.flags|=1024,Uo!==null&&(xd(Uo),Uo=null))),Zf(y,b),nn(b),null;case 5:cu(b),M=Nl(Hf.current);var L=b.type;if(y!==null&&b.stateNode!=null)Z(y,b,L,k,M),y.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!k){if(b.stateNode===null)throw Error(a(166));return nn(b),null}if(y=Nl(hi.current),Zp(b)){if(!J)throw Error(a(175));y=Dy(b.stateNode,b.type,b.memoizedProps,M,y,b,!Uf),b.updateQueue=y,y!==null&&kl(b)}else{var H=oe(L,k,M,y,b);gc(H,b,!1,!1),b.stateNode=H,Y(H,L,k,M,y)&&kl(b)}b.ref!==null&&(b.flags|=512,b.flags|=2097152)}return nn(b),null;case 6:if(y&&b.stateNode!=null)yc(y,b,y.memoizedProps,k);else{if(typeof k!="string"&&b.stateNode===null)throw Error(a(166));if(y=Nl(Hf.current),M=Nl(hi.current),Zp(b)){if(!J)throw Error(a(176));if(y=b.stateNode,k=b.memoizedProps,(M=Xb(y,k,b,!Uf))&&(L=Js,L!==null))switch(H=(L.mode&1)!==0,L.tag){case 3:dt(L.stateNode.containerInfo,y,k,H);break;case 5:Et(L.type,L.memoizedProps,L.stateNode,y,k,H)}M&&kl(b)}else b.stateNode=Ie(k,y,M,b)}return nn(b),null;case 13:if(Bn(ge),k=b.memoizedState,$r&&ms!==null&&b.mode&1&&!(b.flags&128)){for(y=ms;y;)y=Sl(y);return Bf(),b.flags|=98560,b}if(k!==null&&k.dehydrated!==null){if(k=Zp(b),y===null){if(!k)throw Error(a(318));if(!J)throw Error(a(344));if(y=b.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));Fy(y,b)}else Bf(),!(b.flags&128)&&(b.memoizedState=null),b.flags|=4;return nn(b),null}return Uo!==null&&(xd(Uo),Uo=null),b.flags&128?(b.lanes=M,b):(k=k!==null,M=!1,y===null?Zp(b):M=y.memoizedState!==null,k&&!M&&(b.child.flags|=8192,b.mode&1&&(y===null||ge.current&1?wi===0&&(wi=3):pv())),b.updateQueue!==null&&(b.flags|=4),nn(b),null);case 4:return Wf(),Zf(y,b),y===null&&qe(b.stateNode.containerInfo),nn(b),null;case 10:return qy(b.type._context),nn(b),null;case 17:return Er(b.type)&&dc(),nn(b),null;case 19:if(Bn(ge),L=b.memoizedState,L===null)return nn(b),null;if(k=(b.flags&128)!==0,H=L.rendering,H===null)if(k)Os(L,!1);else{if(wi!==0||y!==null&&y.flags&128)for(y=b.child;y!==null;){if(H=He(y),H!==null){for(b.flags|=128,Os(L,!1),y=H.updateQueue,y!==null&&(b.updateQueue=y,b.flags|=4),b.subtreeFlags=0,y=M,k=b.child;k!==null;)M=k,L=y,M.flags&=14680066,H=M.alternate,H===null?(M.childLanes=0,M.lanes=L,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=H.childLanes,M.lanes=H.lanes,M.child=H.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=H.memoizedProps,M.memoizedState=H.memoizedState,M.updateQueue=H.updateQueue,M.type=H.type,L=H.dependencies,M.dependencies=L===null?null:{lanes:L.lanes,firstContext:L.firstContext}),k=k.sibling;return Yt(ge,ge.current&1|2),b.child}y=y.sibling}L.tail!==null&&Zi()>mm&&(b.flags|=128,k=!0,Os(L,!1),b.lanes=4194304)}else{if(!k)if(y=He(H),y!==null){if(b.flags|=128,k=!0,y=y.updateQueue,y!==null&&(b.updateQueue=y,b.flags|=4),Os(L,!0),L.tail===null&&L.tailMode==="hidden"&&!H.alternate&&!$r)return nn(b),null}else 2*Zi()-L.renderingStartTime>mm&&M!==1073741824&&(b.flags|=128,k=!0,Os(L,!1),b.lanes=4194304);L.isBackwards?(H.sibling=b.child,b.child=H):(y=L.last,y!==null?y.sibling=H:b.child=H,L.last=H)}return L.tail!==null?(b=L.tail,L.rendering=b,L.tail=b.sibling,L.renderingStartTime=Zi(),b.sibling=null,y=ge.current,Yt(ge,k?y&1|2:y&1),b):(nn(b),null);case 22:case 23:return Nw(),k=b.memoizedState!==null,y!==null&&y.memoizedState!==null!==k&&(b.flags|=8192),k&&b.mode&1?Oa&1073741824&&(nn(b),Fe&&b.subtreeFlags&6&&(b.flags|=8192)):nn(b),null;case 24:return null;case 25:return null}throw Error(a(156,b.tag))}var eO=o.ReactCurrentOwner,Pa=!1;function xi(y,b,M,k){b.child=y===null?xA(b,null,M,k):$f(b,y.child,M,k)}function kA(y,b,M,k,L){M=M.render;var H=b.ref;return cd(b,L),k=fr(y,b,M,k,H,L),M=ow(),y!==null&&!Pa?(b.updateQueue=y.updateQueue,b.flags&=-2053,y.lanes&=~L,Vi(y,b,L)):($r&&M&&Zy(b),b.flags|=1,xi(y,b,k,L),b.child)}function OA(y,b,M,k,L){if(y===null){var H=M.type;return typeof H=="function"&&!Iw(H)&&H.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(b.tag=15,b.type=H,RA(y,b,H,k,L)):(y=yv(M.type,null,k,b,b.mode,L),y.ref=b.ref,y.return=b,b.child=y)}if(H=y.child,!(y.lanes&L)){var ae=H.memoizedProps;if(M=M.compare,M=M!==null?M:Ni,M(ae,k)&&y.ref===b.ref)return Vi(y,b,L)}return b.flags|=1,y=xc(H,k),y.ref=b.ref,y.return=b,b.child=y}function RA(y,b,M,k,L){if(y!==null&&Ni(y.memoizedProps,k)&&y.ref===b.ref)if(Pa=!1,(y.lanes&L)!==0)y.flags&131072&&(Pa=!0);else return b.lanes=y.lanes,Vi(y,b,L);return zo(y,b,M,k,L)}function IA(y,b,M){var k=b.pendingProps,L=k.children,H=y!==null?y.memoizedState:null;if(k.mode==="hidden")if(!(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null},Yt(th,Oa),Oa|=M;else if(M&1073741824)b.memoizedState={baseLanes:0,cachePool:null},k=H!==null?H.baseLanes:M,Yt(th,Oa),Oa|=k;else return y=H!==null?H.baseLanes|M:M,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:y,cachePool:null},b.updateQueue=null,Yt(th,Oa),Oa|=y,null;else H!==null?(k=H.baseLanes|M,b.memoizedState=null):k=M,Yt(th,Oa),Oa|=k;return xi(y,b,L,M),b.child}function LA(y,b){var M=b.ref;(y===null&&M!==null||y!==null&&y.ref!==M)&&(b.flags|=512,b.flags|=2097152)}function zo(y,b,M,k,L){var H=Er(M)?Ci:er.current;return H=Zs(b,H),cd(b,L),M=fr(y,b,M,k,H,L),k=ow(),y!==null&&!Pa?(b.updateQueue=y.updateQueue,b.flags&=-2053,y.lanes&=~L,Vi(y,b,L)):($r&&k&&Zy(b),b.flags|=1,xi(y,b,M,L),b.child)}function DA(y,b,M,k,L){if(Er(M)){var H=!0;ou(b)}else H=!1;if(cd(b,L),b.stateNode===null)y!==null&&(y.alternate=null,b.alternate=null,b.flags|=2),pA(b,M,k),Df(b,M,k,L),k=!0;else if(y===null){var ae=b.stateNode,we=b.memoizedProps;ae.props=we;var ze=ae.context,ot=M.contextType;typeof ot=="object"&&ot!==null?ot=Yr(ot):(ot=Er(M)?Ci:er.current,ot=Zs(b,ot));var Rt=M.getDerivedStateFromProps,xn=typeof Rt=="function"||typeof ae.getSnapshotBeforeUpdate=="function";xn||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(we!==k||ze!==ot)&&rw(b,ae,k,ot),Bi=!1;var Zt=b.memoizedState;ae.state=Zt,Lo(b,k,ae,L),ze=b.memoizedState,we!==k||Zt!==ze||mn.current||Bi?(typeof Rt=="function"&&(Xp(b,M,Rt,k),ze=b.memoizedState),(we=Bi||hA(b,M,we,k,Zt,ze,ot))?(xn||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(b.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=k,b.memoizedState=ze),ae.props=k,ae.state=ze,ae.context=ot,k=we):(typeof ae.componentDidMount=="function"&&(b.flags|=4194308),k=!1)}else{ae=b.stateNode,nw(y,b),we=b.memoizedProps,ot=b.type===b.elementType?we:hs(b.type,we),ae.props=ot,xn=b.pendingProps,Zt=ae.context,ze=M.contextType,typeof ze=="object"&&ze!==null?ze=Yr(ze):(ze=Er(M)?Ci:er.current,ze=Zs(b,ze));var Ar=M.getDerivedStateFromProps;(Rt=typeof Ar=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(we!==xn||Zt!==ze)&&rw(b,ae,k,ze),Bi=!1,Zt=b.memoizedState,ae.state=Zt,Lo(b,k,ae,L);var Ht=b.memoizedState;we!==xn||Zt!==Ht||mn.current||Bi?(typeof Ar=="function"&&(Xp(b,M,Ar,k),Ht=b.memoizedState),(ot=Bi||hA(b,M,ot,k,Zt,Ht,ze)||!1)?(Rt||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(k,Ht,ze),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(k,Ht,ze)),typeof ae.componentDidUpdate=="function"&&(b.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof ae.componentDidUpdate!="function"||we===y.memoizedProps&&Zt===y.memoizedState||(b.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||we===y.memoizedProps&&Zt===y.memoizedState||(b.flags|=1024),b.memoizedProps=k,b.memoizedState=Ht),ae.props=k,ae.state=Ht,ae.context=ze,k=ot):(typeof ae.componentDidUpdate!="function"||we===y.memoizedProps&&Zt===y.memoizedState||(b.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||we===y.memoizedProps&&Zt===y.memoizedState||(b.flags|=1024),k=!1)}return pw(y,b,M,k,H,L)}function pw(y,b,M,k,L,H){LA(y,b);var ae=(b.flags&128)!==0;if(!k&&!ae)return L&&Ns(b,M,!1),Vi(y,b,H);k=b.stateNode,eO.current=b;var we=ae&&typeof M.getDerivedStateFromError!="function"?null:k.render();return b.flags|=1,y!==null&&ae?(b.child=$f(b,y.child,null,H),b.child=$f(b,null,we,H)):xi(y,b,we,H),b.memoizedState=k.state,L&&Ns(b,M,!0),b.child}function FA(y){var b=y.stateNode;b.pendingContext?kr(y,b.pendingContext,b.pendingContext!==b.context):b.context&&kr(y,b.context,!1),aw(y,b.containerInfo)}function UA(y,b,M,k,L){return Bf(),Qp(L),b.flags|=256,xi(y,b,M,k),b.child}var nv={dehydrated:null,treeContext:null,retryLane:0};function io(y){return{baseLanes:y,cachePool:null}}function BA(y,b,M){var k=b.pendingProps,L=ge.current,H=!1,ae=(b.flags&128)!==0,we;if((we=ae)||(we=y!==null&&y.memoizedState===null?!1:(L&2)!==0),we?(H=!0,b.flags&=-129):(y===null||y.memoizedState!==null)&&(L|=1),Yt(ge,L&1),y===null)return sw(b),y=b.memoizedState,y!==null&&(y=y.dehydrated,y!==null)?(b.mode&1?Pf(y)?b.lanes=8:b.lanes=1073741824:b.lanes=1,null):(L=k.children,y=k.fallback,H?(k=b.mode,H=b.child,L={mode:"hidden",children:L},!(k&1)&&H!==null?(H.childLanes=0,H.pendingProps=L):H=bm(L,k,0,null),y=_u(y,k,M,null),H.return=b,y.return=b,H.sibling=y,b.child=H,b.child.memoizedState=io(M),b.memoizedState=nv,y):mw(b,L));if(L=y.memoizedState,L!==null){if(we=L.dehydrated,we!==null){if(ae)return b.flags&256?(b.flags&=-257,rv(y,b,M,Error(a(422)))):b.memoizedState!==null?(b.child=y.child,b.flags|=128,null):(H=k.fallback,L=b.mode,k=bm({mode:"visible",children:k.children},L,0,null),H=_u(H,L,M,null),H.flags|=2,k.return=b,H.return=b,k.sibling=H,b.child=k,b.mode&1&&$f(b,y.child,null,M),b.child.memoizedState=io(M),b.memoizedState=nv,H);if(!(b.mode&1))b=rv(y,b,M,null);else if(Pf(we))b=rv(y,b,M,Error(a(419)));else if(k=(M&y.childLanes)!==0,Pa||k){if(k=Pi,k!==null){switch(M&-M){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}k=H&(k.suspendedLanes|M)?0:H,k!==0&&k!==L.retryLane&&(L.retryLane=k,so(y,k,-1))}pv(),b=rv(y,b,M,Error(a(421)))}else fs(we)?(b.flags|=128,b.child=y.child,b=wu.bind(null,y),Ry(we,b),b=null):(M=L.treeContext,J&&(ms=Ly(we),Js=b,$r=!0,Uo=null,Uf=!1,M!==null&&(ua[da++]=hc,ua[da++]=Fo,ua[da++]=lu,hc=M.id,Fo=M.overflow,lu=b)),b=mw(b,b.pendingProps.children),b.flags|=4096);return b}return H?(k=$A(y,b,k.children,k.fallback,M),H=b.child,L=y.child.memoizedState,H.memoizedState=L===null?io(M):{baseLanes:L.baseLanes|M,cachePool:null},H.childLanes=y.childLanes&~M,b.memoizedState=nv,k):(M=zA(y,b,k.children,M),b.memoizedState=null,M)}return H?(k=$A(y,b,k.children,k.fallback,M),H=b.child,L=y.child.memoizedState,H.memoizedState=L===null?io(M):{baseLanes:L.baseLanes|M,cachePool:null},H.childLanes=y.childLanes&~M,b.memoizedState=nv,k):(M=zA(y,b,k.children,M),b.memoizedState=null,M)}function mw(y,b){return b=bm({mode:"visible",children:b},y.mode,0,null),b.return=y,y.child=b}function zA(y,b,M,k){var L=y.child;return y=L.sibling,M=xc(L,{mode:"visible",children:M}),!(b.mode&1)&&(M.lanes=k),M.return=b,M.sibling=null,y!==null&&(k=b.deletions,k===null?(b.deletions=[y],b.flags|=16):k.push(y)),b.child=M}function $A(y,b,M,k,L){var H=b.mode;y=y.child;var ae=y.sibling,we={mode:"hidden",children:M};return!(H&1)&&b.child!==y?(M=b.child,M.childLanes=0,M.pendingProps=we,b.deletions=null):(M=xc(y,we),M.subtreeFlags=y.subtreeFlags&14680064),ae!==null?k=xc(ae,k):(k=_u(k,H,L,null),k.flags|=2),k.return=b,M.return=b,M.sibling=k,b.child=M,k}function rv(y,b,M,k){return k!==null&&Qp(k),$f(b,y.child,null,M),y=mw(b,b.pendingProps.children),y.flags|=2,b.memoizedState=null,y}function hu(y,b,M){y.lanes|=b;var k=y.alternate;k!==null&&(k.lanes|=b),Xy(y.return,b,M)}function gw(y,b,M,k,L){var H=y.memoizedState;H===null?y.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:k,tail:M,tailMode:L}:(H.isBackwards=b,H.rendering=null,H.renderingStartTime=0,H.last=k,H.tail=M,H.tailMode=L)}function VA(y,b,M){var k=b.pendingProps,L=k.revealOrder,H=k.tail;if(xi(y,b,k.children,M),k=ge.current,k&2)k=k&1|2,b.flags|=128;else{if(y!==null&&y.flags&128)e:for(y=b.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&hu(y,M,b);else if(y.tag===19)hu(y,M,b);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===b)break e;for(;y.sibling===null;){if(y.return===null||y.return===b)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}k&=1}if(Yt(ge,k),!(b.mode&1))b.memoizedState=null;else switch(L){case"forwards":for(M=b.child,L=null;M!==null;)y=M.alternate,y!==null&&He(y)===null&&(L=M),M=M.sibling;M=L,M===null?(L=b.child,b.child=null):(L=M.sibling,M.sibling=null),gw(b,!1,L,M,H);break;case"backwards":for(M=null,L=b.child,b.child=null;L!==null;){if(y=L.alternate,y!==null&&He(y)===null){b.child=L;break}y=L.sibling,L.sibling=M,M=L,L=y}gw(b,!0,M,null,H);break;case"together":gw(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function Vi(y,b,M){if(y!==null&&(b.dependencies=y.dependencies),rh|=b.lanes,!(M&b.childLanes))return null;if(y!==null&&b.child!==y.child)throw Error(a(153));if(b.child!==null){for(y=b.child,M=xc(y,y.pendingProps),b.child=M,M.return=b;y.sibling!==null;)y=y.sibling,M=M.sibling=xc(y,y.pendingProps),M.return=b;M.sibling=null}return b.child}function tO(y,b,M){switch(b.tag){case 3:FA(b),Bf();break;case 5:bA(b);break;case 1:Er(b.type)&&ou(b);break;case 4:aw(b,b.stateNode.containerInfo);break;case 10:ew(b,b.type._context,b.memoizedProps.value);break;case 13:var k=b.memoizedState;if(k!==null)return k.dehydrated!==null?(Yt(ge,ge.current&1),b.flags|=128,null):M&b.child.childLanes?BA(y,b,M):(Yt(ge,ge.current&1),y=Vi(y,b,M),y!==null?y.sibling:null);Yt(ge,ge.current&1);break;case 19:if(k=(M&b.childLanes)!==0,y.flags&128){if(k)return VA(y,b,M);b.flags|=128}var L=b.memoizedState;if(L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Yt(ge,ge.current),k)break;return null;case 22:case 23:return b.lanes=0,IA(y,b,M)}return Vi(y,b,M)}function nO(y,b){switch(Qs(b),b.tag){case 1:return Er(b.type)&&dc(),y=b.flags,y&65536?(b.flags=y&-65537|128,b):null;case 3:return Wf(),Bn(mn),Bn(er),Mt(),y=b.flags,y&65536&&!(y&128)?(b.flags=y&-65537|128,b):null;case 5:return cu(b),null;case 13:if(Bn(ge),y=b.memoizedState,y!==null&&y.dehydrated!==null){if(b.alternate===null)throw Error(a(340));Bf()}return y=b.flags,y&65536?(b.flags=y&-65537|128,b):null;case 19:return Bn(ge),null;case 4:return Wf(),null;case 10:return qy(b.type._context),null;case 22:case 23:return Nw(),null;case 24:return null;default:return null}}var iv=!1,md=!1,rO=typeof WeakSet=="function"?WeakSet:Set,xt=null;function dm(y,b){var M=y.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(k){Ds(y,b,k)}else M.current=null}function yw(y,b,M){try{M()}catch(k){Ds(y,b,k)}}var HA=!1;function vw(y,b){for(X(y.containerInfo),xt=b;xt!==null;)if(y=xt,b=y.child,(y.subtreeFlags&1028)!==0&&b!==null)b.return=y,xt=b;else for(;xt!==null;){y=xt;try{var M=y.alternate;if(y.flags&1024)switch(y.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var k=M.memoizedProps,L=M.memoizedState,H=y.stateNode,ae=H.getSnapshotBeforeUpdate(y.elementType===y.type?k:hs(y.type,k),L);H.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:Fe&&vt(y.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(we){Ds(y,y.return,we)}if(b=y.sibling,b!==null){b.return=y.return,xt=b;break}xt=y.return}return M=HA,HA=!1,M}function $o(y,b,M){var k=b.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var L=k=k.next;do{if((L.tag&y)===y){var H=L.destroy;L.destroy=void 0,H!==void 0&&yw(b,M,H)}L=L.next}while(L!==k)}}function pu(y,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var M=b=b.next;do{if((M.tag&y)===y){var k=M.create;M.destroy=k()}M=M.next}while(M!==b)}}function xw(y){var b=y.ref;if(b!==null){var M=y.stateNode;switch(y.tag){case 5:y=q(M);break;default:y=M}typeof b=="function"?b(y):b.current=y}}function bw(y,b,M){if(Al&&typeof Al.onCommitFiberUnmount=="function")try{Al.onCommitFiberUnmount(Vy,b)}catch{}switch(b.tag){case 0:case 11:case 14:case 15:if(y=b.updateQueue,y!==null&&(y=y.lastEffect,y!==null)){var k=y=y.next;do{var L=k,H=L.destroy;L=L.tag,H!==void 0&&(L&2||L&4)&&yw(b,M,H),k=k.next}while(k!==y)}break;case 1:if(dm(b,M),y=b.stateNode,typeof y.componentWillUnmount=="function")try{y.props=b.memoizedProps,y.state=b.memoizedState,y.componentWillUnmount()}catch(ae){Ds(b,M,ae)}break;case 5:dm(b,M);break;case 4:Fe?_w(y,b,M):le&&le&&(b=b.stateNode.containerInfo,M=qn(b),zt(b,M))}}function WA(y,b,M){for(var k=b;;)if(bw(y,k,M),k.child===null||Fe&&k.tag===4){if(k===b)break;for(;k.sibling===null;){if(k.return===null||k.return===b)return;k=k.return}k.sibling.return=k.return,k=k.sibling}else k.child.return=k,k=k.child}function Ol(y){var b=y.alternate;b!==null&&(y.alternate=null,Ol(b)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(b=y.stateNode,b!==null&&Ke(b)),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}function sv(y){return y.tag===5||y.tag===3||y.tag===4}function mu(y){e:for(;;){for(;y.sibling===null;){if(y.return===null||sv(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&y.tag!==18;){if(y.flags&2||y.child===null||y.tag===4)continue e;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function ja(y){if(Fe){e:{for(var b=y.return;b!==null;){if(sv(b))break e;b=b.return}throw Error(a(160))}var M=b;switch(M.tag){case 5:b=M.stateNode,M.flags&32&&(Cn(b),M.flags&=-33),M=mu(y),av(y,M,b);break;case 3:case 4:b=M.stateNode.containerInfo,M=mu(y),ww(y,M,b);break;default:throw Error(a(161))}}}function ww(y,b,M){var k=y.tag;if(k===5||k===6)y=y.stateNode,b?mt(M,y,b):ut(M,y);else if(k!==4&&(y=y.child,y!==null))for(ww(y,b,M),y=y.sibling;y!==null;)ww(y,b,M),y=y.sibling}function av(y,b,M){var k=y.tag;if(k===5||k===6)y=y.stateNode,b?Pt(M,y,b):ke(M,y);else if(k!==4&&(y=y.child,y!==null))for(av(y,b,M),y=y.sibling;y!==null;)av(y,b,M),y=y.sibling}function _w(y,b,M){for(var k=b,L=!1,H,ae;;){if(!L){L=k.return;e:for(;;){if(L===null)throw Error(a(160));switch(H=L.stateNode,L.tag){case 5:ae=!1;break e;case 3:H=H.containerInfo,ae=!0;break e;case 4:H=H.containerInfo,ae=!0;break e}L=L.return}L=!0}if(k.tag===5||k.tag===6)WA(y,k,M),ae?Tt(H,k.stateNode):ln(H,k.stateNode);else if(k.tag===18)ae?Oe(H,k.stateNode):je(H,k.stateNode);else if(k.tag===4){if(k.child!==null){H=k.stateNode.containerInfo,ae=!0,k.child.return=k,k=k.child;continue}}else if(bw(y,k,M),k.child!==null){k.child.return=k,k=k.child;continue}if(k===b)break;for(;k.sibling===null;){if(k.return===null||k.return===b)return;k=k.return,k.tag===4&&(L=!1)}k.sibling.return=k.return,k=k.sibling}}function gd(y,b){if(Fe){switch(b.tag){case 0:case 11:case 14:case 15:$o(3,b,b.return),pu(3,b),$o(5,b,b.return);return;case 1:return;case 5:var M=b.stateNode;if(M!=null){var k=b.memoizedProps;y=y!==null?y.memoizedProps:k;var L=b.type,H=b.updateQueue;b.updateQueue=null,H!==null&&Ut(M,H,L,y,k,b)}return;case 6:if(b.stateNode===null)throw Error(a(162));M=b.memoizedProps,$e(b.stateNode,y!==null?y.memoizedProps:M,M);return;case 3:J&&y!==null&&y.memoizedState.isDehydrated&&ee(b.stateNode.containerInfo);return;case 12:return;case 13:Vo(b);return;case 19:Vo(b);return;case 17:return}throw Error(a(163))}switch(b.tag){case 0:case 11:case 14:case 15:$o(3,b,b.return),pu(3,b),$o(5,b,b.return);return;case 12:return;case 13:Vo(b);return;case 19:Vo(b);return;case 3:J&&y!==null&&y.memoizedState.isDehydrated&&ee(b.stateNode.containerInfo);break;case 22:case 23:return}e:if(le){switch(b.tag){case 1:case 5:case 6:break e;case 3:case 4:b=b.stateNode,zt(b.containerInfo,b.pendingChildren);break e}throw Error(a(163))}}function Vo(y){var b=y.updateQueue;if(b!==null){y.updateQueue=null;var M=y.stateNode;M===null&&(M=y.stateNode=new rO),b.forEach(function(k){var L=JA.bind(null,y,k);M.has(k)||(M.add(k),k.then(L,L))})}}function GA(y,b){for(xt=b;xt!==null;){b=xt;var M=b.deletions;if(M!==null)for(var k=0;k<M.length;k++){var L=M[k];try{var H=y;Fe?_w(H,L,b):WA(H,L,b);var ae=L.alternate;ae!==null&&(ae.return=null),L.return=null}catch(Wt){Ds(L,b,Wt)}}if(M=b.child,b.subtreeFlags&12854&&M!==null)M.return=b,xt=M;else for(;xt!==null;){b=xt;try{var we=b.flags;if(we&32&&Fe&&Cn(b.stateNode),we&512){var ze=b.alternate;if(ze!==null){var ot=ze.ref;ot!==null&&(typeof ot=="function"?ot(null):ot.current=null)}}if(we&8192)switch(b.tag){case 13:if(b.memoizedState!==null){var Rt=b.alternate;(Rt===null||Rt.memoizedState===null)&&(Mw=Zi())}break;case 22:var xn=b.memoizedState!==null,Zt=b.alternate,Ar=Zt!==null&&Zt.memoizedState!==null;if(M=b,Fe){e:if(k=M,L=xn,H=null,Fe)for(var Ht=k;;){if(Ht.tag===5){if(H===null){H=Ht;var Us=Ht.stateNode;L?ve(Us):Be(Ht.stateNode,Ht.memoizedProps)}}else if(Ht.tag===6){if(H===null){var Ia=Ht.stateNode;L?_t(Ia):et(Ia,Ht.memoizedProps)}}else if((Ht.tag!==22&&Ht.tag!==23||Ht.memoizedState===null||Ht===k)&&Ht.child!==null){Ht.child.return=Ht,Ht=Ht.child;continue}if(Ht===k)break;for(;Ht.sibling===null;){if(Ht.return===null||Ht.return===k)break e;H===Ht&&(H=null),Ht=Ht.return}H===Ht&&(H=null),Ht.sibling.return=Ht.return,Ht=Ht.sibling}}if(xn&&!Ar&&M.mode&1){xt=M;for(var Pe=M.child;Pe!==null;){for(M=xt=Pe;xt!==null;){k=xt;var Se=k.child;switch(k.tag){case 0:case 11:case 14:case 15:$o(4,k,k.return);break;case 1:dm(k,k.return);var De=k.stateNode;if(typeof De.componentWillUnmount=="function"){var St=k.return;try{De.props=k.memoizedProps,De.state=k.memoizedState,De.componentWillUnmount()}catch(Wt){Ds(k,St,Wt)}}break;case 5:dm(k,k.return);break;case 22:if(k.memoizedState!==null){Sw(M);continue}}Se!==null?(Se.return=k,xt=Se):Sw(M)}Pe=Pe.sibling}}}switch(we&4102){case 2:ja(b),b.flags&=-3;break;case 6:ja(b),b.flags&=-3,gd(b.alternate,b);break;case 4096:b.flags&=-4097;break;case 4100:b.flags&=-4097,gd(b.alternate,b);break;case 4:gd(b.alternate,b)}}catch(Wt){Ds(b,b.return,Wt)}if(M=b.sibling,M!==null){M.return=b.return,xt=M;break}xt=b.return}}}function iO(y,b,M){xt=y,fm(y)}function fm(y,b,M){for(var k=(y.mode&1)!==0;xt!==null;){var L=xt,H=L.child;if(L.tag===22&&k){var ae=L.memoizedState!==null||iv;if(!ae){var we=L.alternate,ze=we!==null&&we.memoizedState!==null||md;we=iv;var ot=md;if(iv=ae,(md=ze)&&!ot)for(xt=L;xt!==null;)ae=xt,ze=ae.child,ae.tag===22&&ae.memoizedState!==null?es(L):ze!==null?(ze.return=ae,xt=ze):es(L);for(;H!==null;)xt=H,fm(H),H=H.sibling;xt=L,iv=we,md=ot}qA(y)}else L.subtreeFlags&8772&&H!==null?(H.return=L,xt=H):qA(y)}}function qA(y){for(;xt!==null;){var b=xt;if(b.flags&8772){var M=b.alternate;try{if(b.flags&8772)switch(b.tag){case 0:case 11:case 15:md||pu(5,b);break;case 1:var k=b.stateNode;if(b.flags&4&&!md)if(M===null)k.componentDidMount();else{var L=b.elementType===b.type?M.memoizedProps:hs(b.type,M.memoizedProps);k.componentDidUpdate(L,M.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var H=b.updateQueue;H!==null&&Ky(b,H,k);break;case 3:var ae=b.updateQueue;if(ae!==null){if(M=null,b.child!==null)switch(b.child.tag){case 5:M=q(b.child.stateNode);break;case 1:M=b.child.stateNode}Ky(b,ae,M)}break;case 5:var we=b.stateNode;M===null&&b.flags&4&&st(we,b.type,b.memoizedProps,b);break;case 6:break;case 4:break;case 12:break;case 13:if(J&&b.memoizedState===null){var ze=b.alternate;if(ze!==null){var ot=ze.memoizedState;if(ot!==null){var Rt=ot.dehydrated;Rt!==null&&_e(Rt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}md||b.flags&512&&xw(b)}catch(xn){Ds(b,b.return,xn)}}if(b===y){xt=null;break}if(M=b.sibling,M!==null){M.return=b.return,xt=M;break}xt=b.return}}function Sw(y){for(;xt!==null;){var b=xt;if(b===y){xt=null;break}var M=b.sibling;if(M!==null){M.return=b.return,xt=M;break}xt=b.return}}function es(y){for(;xt!==null;){var b=xt;try{switch(b.tag){case 0:case 11:case 15:var M=b.return;try{pu(4,b)}catch(ze){Ds(b,M,ze)}break;case 1:var k=b.stateNode;if(typeof k.componentDidMount=="function"){var L=b.return;try{k.componentDidMount()}catch(ze){Ds(b,L,ze)}}var H=b.return;try{xw(b)}catch(ze){Ds(b,H,ze)}break;case 5:var ae=b.return;try{xw(b)}catch(ze){Ds(b,ae,ze)}}}catch(ze){Ds(b,b.return,ze)}if(b===y){xt=null;break}var we=b.sibling;if(we!==null){we.return=b.return,xt=we;break}xt=b.return}}var Qf=0,hm=1,ka=2,Jf=3,yd=4;if(typeof Symbol=="function"&&Symbol.for){var Ho=Symbol.for;Qf=Ho("selector.component"),hm=Ho("selector.has_pseudo_class"),ka=Ho("selector.role"),Jf=Ho("selector.test_id"),yd=Ho("selector.text")}function ov(y){var b=Le(y);if(b!=null){if(typeof b.memoizedProps["data-testname"]!="string")throw Error(a(364));return b}if(y=F(y),y===null)throw Error(a(362));return y.stateNode.current}function gs(y,b){switch(b.$$typeof){case Qf:if(y.type===b.value)return!0;break;case hm:e:{b=b.value,y=[y,0];for(var M=0;M<y.length;){var k=y[M++],L=y[M++],H=b[L];if(k.tag!==5||!be(k)){for(;H!=null&&gs(k,H);)L++,H=b[L];if(L===b.length){b=!0;break e}else for(k=k.child;k!==null;)y.push(k,L),k=k.sibling}}b=!1}return b;case ka:if(y.tag===5&&pe(y.stateNode,b.value))return!0;break;case yd:if((y.tag===5||y.tag===6)&&(y=ye(y),y!==null&&0<=y.indexOf(b.value)))return!0;break;case Jf:if(y.tag===5&&(y=y.memoizedProps["data-testname"],typeof y=="string"&&y.toLowerCase()===b.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function pm(y){switch(y.$$typeof){case Qf:return"<"+(N(y.value)||"Unknown")+">";case hm:return":has("+(pm(y)||"")+")";case ka:return'[role="'+y.value+'"]';case yd:return'"'+y.value+'"';case Jf:return'[data-testname="'+y.value+'"]';default:throw Error(a(365))}}function XA(y,b){var M=[];y=[y,0];for(var k=0;k<y.length;){var L=y[k++],H=y[k++],ae=b[H];if(L.tag!==5||!be(L)){for(;ae!=null&&gs(L,ae);)H++,ae=b[H];if(H===b.length)M.push(L);else for(L=L.child;L!==null;)y.push(L,H),L=L.sibling}}return M}function Ew(y,b){if(!$)throw Error(a(363));y=ov(y),y=XA(y,b),b=[],y=Array.from(y);for(var M=0;M<y.length;){var k=y[M++];if(k.tag===5)be(k)||b.push(k.stateNode);else for(k=k.child;k!==null;)y.push(k),k=k.sibling}return b}var sO=Math.ceil,eh=o.ReactCurrentDispatcher,Aw=o.ReactCurrentOwner,Vr=o.ReactCurrentBatchConfig,Rn=0,Pi=null,ji=null,bi=0,Oa=0,th=dr(0),wi=0,nh=null,rh=0,lv=0,Tw=0,ih=null,Rs=null,Mw=0,mm=1/0;function vd(){mm=Zi()+500}var gm=!1,cv=null,Wo=null,uv=!1,vc=null,ym=0,vm=0,dv=null,fv=-1,sh=0;function Is(){return Rn&6?Zi():fv!==-1?fv:fv=Zi()}function Rl(y){return y.mode&1?Rn&2&&bi!==0?bi&-bi:Zk.transition!==null?(sh===0&&(y=kf,kf<<=1,!(kf&4194240)&&(kf=64),sh=y),sh):(y=ur,y!==0?y:We()):1}function so(y,b,M){if(50<vm)throw vm=0,dv=null,Error(a(185));var k=ah(y,b);return k===null?null:(Rf(k,b,M),(!(Rn&2)||k!==Pi)&&(k===Pi&&(!(Rn&2)&&(lv|=b),wi===4&&gu(k,bi)),en(k,M),b===1&&Rn===0&&!(y.mode&1)&&(vd(),Hy&&Ro())),k)}function ah(y,b){y.lanes|=b;var M=y.alternate;for(M!==null&&(M.lanes|=b),M=y,y=y.return;y!==null;)y.childLanes|=b,M=y.alternate,M!==null&&(M.childLanes|=b),M=y,y=y.return;return M.tag===3?M.stateNode:null}function en(y,b){var M=y.callbackNode;Wk(y,b);var k=Wp(y,y===Pi?bi:0);if(k===0)M!==null&&uA(M),y.callbackNode=null,y.callbackPriority=0;else if(b=k&-k,y.callbackPriority!==b){if(M!=null&&uA(M),b===1)y.tag===0?Yk(ZA.bind(null,y)):dA(ZA.bind(null,y)),yt?ct(function(){Rn===0&&Ro()}):$y(Gp,Ro),M=null;else{switch(cA(k)){case 1:M=Gp;break;case 4:M=Xk;break;case 16:M=Zb;break;case 536870912:M=Kk;break;default:M=Zb}M=gv(M,KA.bind(null,y))}y.callbackPriority=b,y.callbackNode=M}}function KA(y,b){if(fv=-1,sh=0,Rn&6)throw Error(a(327));var M=y.callbackNode;if(xu()&&y.callbackNode!==M)return null;var k=Wp(y,y===Pi?bi:0);if(k===0)return null;if(k&30||k&y.expiredLanes||b)b=Ls(y,k);else{b=k;var L=Rn;Rn|=2;var H=Pw();(Pi!==y||bi!==b)&&(vd(),Il(y,b));do try{jw();break}catch(we){hv(y,we)}while(!0);Gy(),eh.current=H,Rn=L,ji!==null?b=0:(Pi=null,bi=0,b=wi)}if(b!==0){if(b===2&&(L=By(y),L!==0&&(k=L,b=Cw(y,L))),b===1)throw M=nh,Il(y,0),gu(y,k),en(y,Zi()),M;if(b===6)gu(y,k);else{if(L=y.current.alternate,!(k&30)&&!YA(L)&&(b=Ls(y,k),b===2&&(H=By(y),H!==0&&(k=H,b=Cw(y,H))),b===1))throw M=nh,Il(y,0),gu(y,k),en(y,Zi()),M;switch(y.finishedWork=L,y.finishedLanes=k,b){case 0:case 1:throw Error(a(345));case 2:vu(y,Rs);break;case 3:if(gu(y,k),(k&130023424)===k&&(b=Mw+500-Zi(),10<b)){if(Wp(y,0)!==0)break;if(L=y.suspendedLanes,(L&k)!==k){Is(),y.pingedLanes|=y.suspendedLanes&L;break}y.timeoutHandle=Ee(vu.bind(null,y,Rs),b);break}vu(y,Rs);break;case 4:if(gu(y,k),(k&4194240)===k)break;for(b=y.eventTimes,L=-1;0<k;){var ae=31-Ps(k);H=1<<ae,ae=b[ae],ae>L&&(L=ae),k&=~H}if(k=L,k=Zi()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*sO(k/1960))-k,10<k){y.timeoutHandle=Ee(vu.bind(null,y,Rs),k);break}vu(y,Rs);break;case 5:vu(y,Rs);break;default:throw Error(a(329))}}}return en(y,Zi()),y.callbackNode===M?KA.bind(null,y):null}function Cw(y,b){var M=ih;return y.current.memoizedState.isDehydrated&&(Il(y,b).flags|=256),y=Ls(y,b),y!==2&&(b=Rs,Rs=M,b!==null&&xd(b)),y}function xd(y){Rs===null?Rs=y:Rs.push.apply(Rs,y)}function YA(y){for(var b=y;;){if(b.flags&16384){var M=b.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var k=0;k<M.length;k++){var L=M[k],H=L.getSnapshot;L=L.value;try{if(!Tl(H(),L))return!1}catch{return!1}}}if(M=b.child,b.subtreeFlags&16384&&M!==null)M.return=b,b=M;else{if(b===y)break;for(;b.sibling===null;){if(b.return===null||b.return===y)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function gu(y,b){for(b&=~Tw,b&=~lv,y.suspendedLanes|=b,y.pingedLanes&=~b,y=y.expirationTimes;0<b;){var M=31-Ps(b),k=1<<M;y[M]=-1,b&=~k}}function ZA(y){if(Rn&6)throw Error(a(327));xu();var b=Wp(y,0);if(!(b&1))return en(y,Zi()),null;var M=Ls(y,b);if(y.tag!==0&&M===2){var k=By(y);k!==0&&(b=k,M=Cw(y,k))}if(M===1)throw M=nh,Il(y,0),gu(y,b),en(y,Zi()),M;if(M===6)throw Error(a(345));return y.finishedWork=y.current.alternate,y.finishedLanes=b,vu(y,Rs),en(y,Zi()),null}function Ra(y){vc!==null&&vc.tag===0&&!(Rn&6)&&xu();var b=Rn;Rn|=1;var M=Vr.transition,k=ur;try{if(Vr.transition=null,ur=1,y)return y()}finally{ur=k,Vr.transition=M,Rn=b,!(Rn&6)&&Ro()}}function Nw(){Oa=th.current,Bn(th)}function Il(y,b){y.finishedWork=null,y.finishedLanes=0;var M=y.timeoutHandle;if(M!==Ne&&(y.timeoutHandle=Ne,Je(M)),ji!==null)for(M=ji.return;M!==null;){var k=M;switch(Qs(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&dc();break;case 3:Wf(),Bn(mn),Bn(er),Mt();break;case 5:cu(k);break;case 4:Wf();break;case 13:Bn(ge);break;case 19:Bn(ge);break;case 10:qy(k.type._context);break;case 22:case 23:Nw()}M=M.return}if(Pi=y,ji=y=xc(y.current,null),bi=Oa=b,wi=0,nh=null,Tw=lv=rh=0,Rs=ih=null,Ml!==null){for(b=0;b<Ml.length;b++)if(M=Ml[b],k=M.interleaved,k!==null){M.interleaved=null;var L=k.next,H=M.pending;if(H!==null){var ae=H.next;H.next=L,k.next=ae}M.pending=k}Ml=null}return y}function hv(y,b){do{var M=ji;try{if(Gy(),pn.current=Kf,ea){for(var k=un.memoizedState;k!==null;){var L=k.queue;L!==null&&(L.pending=null),k=k.next}ea=!1}if(Zr=0,Ji=Qi=un=null,uu=!1,em=0,Aw.current=null,M===null||M.return===null){wi=1,nh=b,ji=null;break}e:{var H=y,ae=M.return,we=M,ze=b;if(b=bi,we.flags|=32768,ze!==null&&typeof ze=="object"&&typeof ze.then=="function"){var ot=ze,Rt=we,xn=Rt.tag;if(!(Rt.mode&1)&&(xn===0||xn===11||xn===15)){var Zt=Rt.alternate;Zt?(Rt.updateQueue=Zt.updateQueue,Rt.memoizedState=Zt.memoizedState,Rt.lanes=Zt.lanes):(Rt.updateQueue=null,Rt.memoizedState=null)}var Ar=PA(ae);if(Ar!==null){Ar.flags&=-257,jA(Ar,ae,we,H,b),Ar.mode&1&&NA(H,ot,b),b=Ar,ze=ot;var Ht=b.updateQueue;if(Ht===null){var Us=new Set;Us.add(ze),b.updateQueue=Us}else Ht.add(ze);break e}else{if(!(b&1)){NA(H,ot,b),pv();break e}ze=Error(a(426))}}else if($r&&we.mode&1){var Ia=PA(ae);if(Ia!==null){!(Ia.flags&65536)&&(Ia.flags|=256),jA(Ia,ae,we,H,b),Qp(ze);break e}}H=ze,wi!==4&&(wi=2),ih===null?ih=[H]:ih.push(H),ze=fd(ze,we),we=ae;do{switch(we.tag){case 3:we.flags|=65536,b&=-b,we.lanes|=b;var Pe=pd(we,ze,b);zr(we,Pe);break e;case 1:H=ze;var Se=we.type,De=we.stateNode;if(!(we.flags&128)&&(typeof Se.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Wo===null||!Wo.has(De)))){we.flags|=65536,b&=-b,we.lanes|=b;var St=CA(we,H,b);zr(we,St);break e}}we=we.return}while(we!==null)}xm(M)}catch(Wt){b=Wt,ji===M&&M!==null&&(ji=M=M.return);continue}break}while(!0)}function Pw(){var y=eh.current;return eh.current=Kf,y===null?Kf:y}function pv(){(wi===0||wi===3||wi===2)&&(wi=4),Pi===null||!(rh&268435455)&&!(lv&268435455)||gu(Pi,bi)}function Ls(y,b){var M=Rn;Rn|=2;var k=Pw();Pi===y&&bi===b||Il(y,b);do try{yu();break}catch(L){hv(y,L)}while(!0);if(Gy(),Rn=M,eh.current=k,ji!==null)throw Error(a(261));return Pi=null,bi=0,wi}function yu(){for(;ji!==null;)kw(ji)}function jw(){for(;ji!==null&&!Gk();)kw(ji)}function kw(y){var b=Rw(y.alternate,y,Oa);y.memoizedProps=y.pendingProps,b===null?xm(y):ji=b,Aw.current=null}function xm(y){var b=y;do{var M=b.alternate;if(y=b.return,b.flags&32768){if(M=nO(M,b),M!==null){M.flags&=32767,ji=M;return}if(y!==null)y.flags|=32768,y.subtreeFlags=0,y.deletions=null;else{wi=6,ji=null;return}}else if(M=Jk(M,b,Oa),M!==null){ji=M;return}if(b=b.sibling,b!==null){ji=b;return}ji=b=y}while(b!==null);wi===0&&(wi=5)}function vu(y,b){var M=ur,k=Vr.transition;try{Vr.transition=null,ur=1,Ow(y,b,M)}finally{Vr.transition=k,ur=M}return null}function Ow(y,b,M){do xu();while(vc!==null);if(Rn&6)throw Error(a(327));var k=y.finishedWork,L=y.finishedLanes;if(k===null)return null;if(y.finishedWork=null,y.finishedLanes=0,k===y.current)throw Error(a(177));y.callbackNode=null,y.callbackPriority=0;var H=k.lanes|k.childLanes;if(lA(y,H),y===Pi&&(ji=Pi=null,bi=0),!(k.subtreeFlags&2064)&&!(k.flags&2064)||uv||(uv=!0,gv(Zb,function(){return xu(),null})),H=(k.flags&15990)!==0,k.subtreeFlags&15990||H){H=Vr.transition,Vr.transition=null;var ae=ur;ur=1;var we=Rn;Rn|=4,Aw.current=null,vw(y,k),GA(y,k),z(y.containerInfo),y.current=k,iO(k),qk(),Rn=we,ur=ae,Vr.transition=H}else y.current=k;if(uv&&(uv=!1,vc=y,ym=L),H=y.pendingLanes,H===0&&(Wo=null),Br(k.stateNode),en(y,Zi()),b!==null)for(M=y.onRecoverableError,k=0;k<b.length;k++)M(b[k]);if(gm)throw gm=!1,y=cv,cv=null,y;return ym&1&&y.tag!==0&&xu(),H=y.pendingLanes,H&1?y===dv?vm++:(vm=0,dv=y):vm=0,Ro(),null}function xu(){if(vc!==null){var y=cA(ym),b=Vr.transition,M=ur;try{if(Vr.transition=null,ur=16>y?16:y,vc===null)var k=!1;else{if(y=vc,vc=null,ym=0,Rn&6)throw Error(a(331));var L=Rn;for(Rn|=4,xt=y.current;xt!==null;){var H=xt,ae=H.child;if(xt.flags&16){var we=H.deletions;if(we!==null){for(var ze=0;ze<we.length;ze++){var ot=we[ze];for(xt=ot;xt!==null;){var Rt=xt;switch(Rt.tag){case 0:case 11:case 15:$o(8,Rt,H)}var xn=Rt.child;if(xn!==null)xn.return=Rt,xt=xn;else for(;xt!==null;){Rt=xt;var Zt=Rt.sibling,Ar=Rt.return;if(Ol(Rt),Rt===ot){xt=null;break}if(Zt!==null){Zt.return=Ar,xt=Zt;break}xt=Ar}}}var Ht=H.alternate;if(Ht!==null){var Us=Ht.child;if(Us!==null){Ht.child=null;do{var Ia=Us.sibling;Us.sibling=null,Us=Ia}while(Us!==null)}}xt=H}}if(H.subtreeFlags&2064&&ae!==null)ae.return=H,xt=ae;else e:for(;xt!==null;){if(H=xt,H.flags&2048)switch(H.tag){case 0:case 11:case 15:$o(9,H,H.return)}var Pe=H.sibling;if(Pe!==null){Pe.return=H.return,xt=Pe;break e}xt=H.return}}var Se=y.current;for(xt=Se;xt!==null;){ae=xt;var De=ae.child;if(ae.subtreeFlags&2064&&De!==null)De.return=ae,xt=De;else e:for(ae=Se;xt!==null;){if(we=xt,we.flags&2048)try{switch(we.tag){case 0:case 11:case 15:pu(9,we)}}catch(Wt){Ds(we,we.return,Wt)}if(we===ae){xt=null;break e}var St=we.sibling;if(St!==null){St.return=we.return,xt=St;break e}xt=we.return}}if(Rn=L,Ro(),Al&&typeof Al.onPostCommitFiberRoot=="function")try{Al.onPostCommitFiberRoot(Vy,y)}catch{}k=!0}return k}finally{ur=M,Vr.transition=b}}return!1}function mv(y,b,M){b=fd(M,b),b=pd(y,b,1),Io(y,b),b=Is(),y=ah(y,1),y!==null&&(Rf(y,1,b),en(y,b))}function Ds(y,b,M){if(y.tag===3)mv(y,y,M);else for(;b!==null;){if(b.tag===3){mv(b,y,M);break}else if(b.tag===1){var k=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(Wo===null||!Wo.has(k))){y=fd(M,y),y=CA(b,y,1),Io(b,y),y=Is(),b=ah(b,1),b!==null&&(Rf(b,1,y),en(b,y));break}}b=b.return}}function bu(y,b,M){var k=y.pingCache;k!==null&&k.delete(b),b=Is(),y.pingedLanes|=y.suspendedLanes&M,Pi===y&&(bi&M)===M&&(wi===4||wi===3&&(bi&130023424)===bi&&500>Zi()-Mw?Il(y,0):Tw|=M),en(y,b)}function QA(y,b){b===0&&(y.mode&1?(b=Of,Of<<=1,!(Of&130023424)&&(Of=4194304)):b=1);var M=Is();y=ah(y,b),y!==null&&(Rf(y,b,M),en(y,M))}function wu(y){var b=y.memoizedState,M=0;b!==null&&(M=b.retryLane),QA(y,M)}function JA(y,b){var M=0;switch(y.tag){case 13:var k=y.stateNode,L=y.memoizedState;L!==null&&(M=L.retryLane);break;case 19:k=y.stateNode;break;default:throw Error(a(314))}k!==null&&k.delete(b),QA(y,M)}var Rw;Rw=function(y,b,M){if(y!==null)if(y.memoizedProps!==b.pendingProps||mn.current)Pa=!0;else{if(!(y.lanes&M)&&!(b.flags&128))return Pa=!1,tO(y,b,M);Pa=!!(y.flags&131072)}else Pa=!1,$r&&b.flags&1048576&&mA(b,Yp,b.index);switch(b.lanes=0,b.tag){case 2:var k=b.type;y!==null&&(y.alternate=null,b.alternate=null,b.flags|=2),y=b.pendingProps;var L=Zs(b,er.current);cd(b,M),L=fr(null,b,k,y,L,M);var H=ow();return b.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(b.tag=1,b.memoizedState=null,b.updateQueue=null,Er(k)?(H=!0,ou(b)):H=!1,b.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,tw(b),L.updater=Yy,b.stateNode=L,L._reactInternals=b,Df(b,k,y,M),b=pw(null,b,k,!0,H,M)):(b.tag=0,$r&&H&&Zy(b),xi(null,b,L,M),b=b.child),b;case 16:k=b.elementType;e:{switch(y!==null&&(y.alternate=null,b.alternate=null,b.flags|=2),y=b.pendingProps,L=k._init,k=L(k._payload),b.type=k,L=b.tag=eT(k),y=hs(k,y),L){case 0:b=zo(null,b,k,y,M);break e;case 1:b=DA(null,b,k,y,M);break e;case 11:b=kA(null,b,k,y,M);break e;case 14:b=OA(null,b,k,hs(k.type,y),M);break e}throw Error(a(306,k,""))}return b;case 0:return k=b.type,L=b.pendingProps,L=b.elementType===k?L:hs(k,L),zo(y,b,k,L,M);case 1:return k=b.type,L=b.pendingProps,L=b.elementType===k?L:hs(k,L),DA(y,b,k,L,M);case 3:e:{if(FA(b),y===null)throw Error(a(387));k=b.pendingProps,H=b.memoizedState,L=H.element,nw(y,b),Lo(b,k,null,M);var ae=b.memoizedState;if(k=ae.element,J&&H.isDehydrated)if(H={element:k,isDehydrated:!1,cache:ae.cache,transitions:ae.transitions},b.updateQueue.baseState=H,b.memoizedState=H,b.flags&256){L=Error(a(423)),b=UA(y,b,k,M,L);break e}else if(k!==L){L=Error(a(424)),b=UA(y,b,k,M,L);break e}else for(J&&(ms=jf(b.stateNode.containerInfo),Js=b,$r=!0,Uo=null,Uf=!1),M=xA(b,null,k,M),b.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(Bf(),k===L){b=Vi(y,b,M);break e}xi(y,b,k,M)}b=b.child}return b;case 5:return bA(b),y===null&&sw(b),k=b.type,L=b.pendingProps,H=y!==null?y.memoizedProps:null,ae=L.children,Ce(k,L)?ae=null:H!==null&&Ce(k,H)&&(b.flags|=32),LA(y,b),xi(y,b,ae,M),b.child;case 6:return y===null&&sw(b),null;case 13:return BA(y,b,M);case 4:return aw(b,b.stateNode.containerInfo),k=b.pendingProps,y===null?b.child=$f(b,null,k,M):xi(y,b,k,M),b.child;case 11:return k=b.type,L=b.pendingProps,L=b.elementType===k?L:hs(k,L),kA(y,b,k,L,M);case 7:return xi(y,b,b.pendingProps,M),b.child;case 8:return xi(y,b,b.pendingProps.children,M),b.child;case 12:return xi(y,b,b.pendingProps.children,M),b.child;case 10:e:{if(k=b.type._context,L=b.pendingProps,H=b.memoizedProps,ae=L.value,ew(b,k,ae),H!==null)if(Tl(H.value,ae)){if(H.children===L.children&&!mn.current){b=Vi(y,b,M);break e}}else for(H=b.child,H!==null&&(H.return=b);H!==null;){var we=H.dependencies;if(we!==null){ae=H.child;for(var ze=we.firstContext;ze!==null;){if(ze.context===k){if(H.tag===1){ze=js(-1,M&-M),ze.tag=2;var ot=H.updateQueue;if(ot!==null){ot=ot.shared;var Rt=ot.pending;Rt===null?ze.next=ze:(ze.next=Rt.next,Rt.next=ze),ot.pending=ze}}H.lanes|=M,ze=H.alternate,ze!==null&&(ze.lanes|=M),Xy(H.return,M,b),we.lanes|=M;break}ze=ze.next}}else if(H.tag===10)ae=H.type===b.type?null:H.child;else if(H.tag===18){if(ae=H.return,ae===null)throw Error(a(341));ae.lanes|=M,we=ae.alternate,we!==null&&(we.lanes|=M),Xy(ae,M,b),ae=H.sibling}else ae=H.child;if(ae!==null)ae.return=H;else for(ae=H;ae!==null;){if(ae===b){ae=null;break}if(H=ae.sibling,H!==null){H.return=ae.return,ae=H;break}ae=ae.return}H=ae}xi(y,b,L.children,M),b=b.child}return b;case 9:return L=b.type,k=b.pendingProps.children,cd(b,M),L=Yr(L),k=k(L),b.flags|=1,xi(y,b,k,M),b.child;case 14:return k=b.type,L=hs(k,b.pendingProps),L=hs(k.type,L),OA(y,b,k,L,M);case 15:return RA(y,b,b.type,b.pendingProps,M);case 17:return k=b.type,L=b.pendingProps,L=b.elementType===k?L:hs(k,L),y!==null&&(y.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Er(k)?(y=!0,ou(b)):y=!1,cd(b,M),pA(b,k,L),Df(b,k,L,M),pw(null,b,k,!0,y,M);case 19:return VA(y,b,M);case 22:return IA(y,b,M)}throw Error(a(156,b.tag))};function gv(y,b){return $y(y,b)}function aO(y,b,M,k){this.tag=y,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ao(y,b,M,k){return new aO(y,b,M,k)}function Iw(y){return y=y.prototype,!(!y||!y.isReactComponent)}function eT(y){if(typeof y=="function")return Iw(y)?1:0;if(y!=null){if(y=y.$$typeof,y===v)return 11;if(y===_)return 14}return 2}function xc(y,b){var M=y.alternate;return M===null?(M=ao(y.tag,b,y.key,y.mode),M.elementType=y.elementType,M.type=y.type,M.stateNode=y.stateNode,M.alternate=y,y.alternate=M):(M.pendingProps=b,M.type=y.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=y.flags&14680064,M.childLanes=y.childLanes,M.lanes=y.lanes,M.child=y.child,M.memoizedProps=y.memoizedProps,M.memoizedState=y.memoizedState,M.updateQueue=y.updateQueue,b=y.dependencies,M.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},M.sibling=y.sibling,M.index=y.index,M.ref=y.ref,M}function yv(y,b,M,k,L,H){var ae=2;if(k=y,typeof y=="function")Iw(y)&&(ae=1);else if(typeof y=="string")ae=5;else e:switch(y){case d:return _u(M.children,L,H,b);case f:ae=8,L|=8;break;case h:return y=ao(12,M,b,L|2),y.elementType=h,y.lanes=H,y;case w:return y=ao(13,M,b,L),y.elementType=w,y.lanes=H,y;case x:return y=ao(19,M,b,L),y.elementType=x,y.lanes=H,y;case A:return bm(M,L,H,b);default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case p:ae=10;break e;case g:ae=9;break e;case v:ae=11;break e;case _:ae=14;break e;case S:ae=16,k=null;break e}throw Error(a(130,y==null?y:typeof y,""))}return b=ao(ae,M,b,L),b.elementType=y,b.type=k,b.lanes=H,b}function _u(y,b,M,k){return y=ao(7,y,k,b),y.lanes=M,y}function bm(y,b,M,k){return y=ao(22,y,k,b),y.elementType=A,y.lanes=M,y.stateNode={},y}function Fs(y,b,M){return y=ao(6,y,null,b),y.lanes=M,y}function oo(y,b,M){return b=ao(4,y.children!==null?y.children:[],y.key,b),b.lanes=M,b.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},b}function oO(y,b,M,k,L){this.tag=b,this.containerInfo=y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ne,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zy(0),this.expirationTimes=zy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zy(0),this.identifierPrefix=k,this.onRecoverableError=L,J&&(this.mutableSourceEagerHydrationData=null)}function tT(y,b,M,k,L,H,ae,we,ze){return y=new oO(y,b,M,we,ze),b===1?(b=1,H===!0&&(b|=8)):b=0,H=ao(3,null,null,b),y.current=H,H.stateNode=y,H.memoizedState={element:k,isDehydrated:M,cache:null,transitions:null},tw(H),y}function wm(y){if(!y)return It;y=y._reactInternals;e:{if(U(y)!==y||y.tag!==1)throw Error(a(170));var b=y;do{switch(b.tag){case 3:b=b.stateNode.context;break e;case 1:if(Er(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break e}}b=b.return}while(b!==null);throw Error(a(171))}if(y.tag===1){var M=y.type;if(Er(M))return ro(y,M,b)}return b}function bd(y){var b=y._reactInternals;if(b===void 0)throw typeof y.render=="function"?Error(a(188)):(y=Object.keys(y).join(","),Error(a(268,y)));return y=B(b),y===null?null:y.stateNode}function Lw(y,b){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var M=y.retryLane;y.retryLane=M!==0&&M<b?M:b}}function vv(y,b){Lw(y,b),(y=y.alternate)&&Lw(y,b)}function lO(y){return y=B(y),y===null?null:y.stateNode}function nT(){return null}return n.attemptContinuousHydration=function(y){if(y.tag===13){var b=Is();so(y,134217728,b),vv(y,134217728)}},n.attemptHydrationAtCurrentPriority=function(y){if(y.tag===13){var b=Is(),M=Rl(y);so(y,M,b),vv(y,M)}},n.attemptSynchronousHydration=function(y){switch(y.tag){case 3:var b=y.stateNode;if(b.current.memoizedState.isDehydrated){var M=El(b.pendingLanes);M!==0&&(Yb(b,M|1),en(b,Zi()),!(Rn&6)&&(vd(),Ro()))}break;case 13:var k=Is();Ra(function(){return so(y,1,k)}),vv(y,1)}},n.batchedUpdates=function(y,b){var M=Rn;Rn|=1;try{return y(b)}finally{Rn=M,Rn===0&&(vd(),Hy&&Ro())}},n.createComponentSelector=function(y){return{$$typeof:Qf,value:y}},n.createContainer=function(y,b,M,k,L,H,ae){return tT(y,b,!1,null,M,k,L,H,ae)},n.createHasPseudoClassSelector=function(y){return{$$typeof:hm,value:y}},n.createHydrationContainer=function(y,b,M,k,L,H,ae,we,ze){return y=tT(M,k,!0,y,L,H,ae,we,ze),y.context=wm(null),M=y.current,k=Is(),L=Rl(M),H=js(k,L),H.callback=b??null,Io(M,H),y.current.lanes=L,Rf(y,L,k),en(y,k),y},n.createPortal=function(y,b,M){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:k==null?null:""+k,children:y,containerInfo:b,implementation:M}},n.createRoleSelector=function(y){return{$$typeof:ka,value:y}},n.createTestNameSelector=function(y){return{$$typeof:Jf,value:y}},n.createTextSelector=function(y){return{$$typeof:yd,value:y}},n.deferredUpdates=function(y){var b=ur,M=Vr.transition;try{return Vr.transition=null,ur=16,y()}finally{ur=b,Vr.transition=M}},n.discreteUpdates=function(y,b,M,k,L){var H=ur,ae=Vr.transition;try{return Vr.transition=null,ur=1,y(b,M,k,L)}finally{ur=H,Vr.transition=ae,Rn===0&&vd()}},n.findAllNodes=Ew,n.findBoundingRects=function(y,b){if(!$)throw Error(a(363));b=Ew(y,b),y=[];for(var M=0;M<b.length;M++)y.push(re(b[M]));for(b=y.length-1;0<b;b--){M=y[b];for(var k=M.x,L=k+M.width,H=M.y,ae=H+M.height,we=b-1;0<=we;we--)if(b!==we){var ze=y[we],ot=ze.x,Rt=ot+ze.width,xn=ze.y,Zt=xn+ze.height;if(k>=ot&&H>=xn&&L<=Rt&&ae<=Zt){y.splice(b,1);break}else if(k!==ot||M.width!==ze.width||Zt<H||xn>ae){if(!(H!==xn||M.height!==ze.height||Rt<k||ot>L)){ot>k&&(ze.width+=ot-k,ze.x=k),Rt<L&&(ze.width=L-ot),y.splice(b,1);break}}else{xn>H&&(ze.height+=xn-H,ze.y=H),Zt<ae&&(ze.height=ae-xn),y.splice(b,1);break}}}return y},n.findHostInstance=bd,n.findHostInstanceWithNoPortals=function(y){return y=I(y),y=y!==null?K(y):null,y===null?null:y.stateNode},n.findHostInstanceWithWarning=function(y){return bd(y)},n.flushControlled=function(y){var b=Rn;Rn|=1;var M=Vr.transition,k=ur;try{Vr.transition=null,ur=1,y()}finally{ur=k,Vr.transition=M,Rn=b,Rn===0&&(vd(),Ro())}},n.flushPassiveEffects=xu,n.flushSync=Ra,n.focusWithin=function(y,b){if(!$)throw Error(a(363));for(y=ov(y),b=XA(y,b),b=Array.from(b),y=0;y<b.length;){var M=b[y++];if(!be(M)){if(M.tag===5&&ce(M.stateNode))return!0;for(M=M.child;M!==null;)b.push(M),M=M.sibling}}return!1},n.getCurrentUpdatePriority=function(){return ur},n.getFindAllNodesFailureDescription=function(y,b){if(!$)throw Error(a(363));var M=0,k=[];y=[ov(y),0];for(var L=0;L<y.length;){var H=y[L++],ae=y[L++],we=b[ae];if((H.tag!==5||!be(H))&&(gs(H,we)&&(k.push(pm(we)),ae++,ae>M&&(M=ae)),ae<b.length))for(H=H.child;H!==null;)y.push(H,ae),H=H.sibling}if(M<b.length){for(y=[];M<b.length;M++)y.push(pm(b[M]));return`findAllNodes was able to match part of the selector:
  `+(k.join(" > ")+`

No matching component was found for:
  `)+y.join(" > ")}return null},n.getPublicRootInstance=function(y){if(y=y.current,!y.child)return null;switch(y.child.tag){case 5:return q(y.child.stateNode);default:return y.child.stateNode}},n.injectIntoDevTools=function(y){if(y={bundleType:y.bundleType,version:y.version,rendererPackageName:y.rendererPackageName,rendererConfig:y.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:lO,findFiberByHostInstance:y.findFiberByHostInstance||nT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")y=!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)y=!0;else{try{Vy=b.inject(y),Al=b}catch{}y=!!b.checkDCE}}return y},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(y,b,M,k){if(!$)throw Error(a(363));y=Ew(y,b);var L=xe(y,M,k).disconnect;return{disconnect:function(){L()}}},n.registerMutableSourceForHydration=function(y,b){var M=b._getVersion;M=M(b._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[b,M]:y.mutableSourceEagerHydrationData.push(b,M)},n.runWithPriority=function(y,b){var M=ur;try{return ur=y,b()}finally{ur=M}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(y,b,M,k){var L=b.current,H=Is(),ae=Rl(L);return M=wm(M),b.context===null?b.context=M:b.pendingContext=M,b=js(H,ae),b.payload={element:y},k=k===void 0?null:k,k!==null&&(b.callback=k),Io(L,b),y=so(L,ae,H),y!==null&&Lf(y,L,ae),ae},n};Aie.exports=ZLe;var QLe=Aie.exports;const JLe=cr(QLe);var Tie={exports:{}},Mie={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,X){var z=V.length;V.push(X);e:for(;0<z;){var oe=z-1>>>1,de=V[oe];if(0<i(de,X))V[oe]=X,V[z]=de,z=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var X=V[0],z=V.pop();if(z!==X){V[0]=z;e:for(var oe=0,de=V.length,Y=de>>>1;oe<Y;){var he=2*(oe+1)-1,Ce=V[he],Ie=he+1,Ee=V[Ie];if(0>i(Ce,z))Ie<de&&0>i(Ee,Ce)?(V[oe]=Ee,V[Ie]=z,oe=Ie):(V[oe]=Ce,V[he]=z,oe=he);else if(Ie<de&&0>i(Ee,z))V[oe]=Ee,V[Ie]=z,oe=Ie;else break e}}return X}function i(V,X){var z=V.sortIndex-X.sortIndex;return z!==0?z:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=V)r(u),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(u)}}function A(V){if(v=!1,S(V),!g)if(n(c)!==null)g=!0,q(C);else{var X=n(u);X!==null&&ie(A,X.startTime-V)}}function C(V,X){g=!1,v&&(v=!1,x(O),O=-1),p=!0;var z=h;try{for(S(X),f=n(c);f!==null&&(!(f.expirationTime>X)||V&&!I());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var de=oe(f.expirationTime<=X);X=t.unstable_now(),typeof de=="function"?f.callback=de:f===n(c)&&r(c),S(X)}else r(c);f=n(c)}if(f!==null)var Y=!0;else{var he=n(u);he!==null&&ie(A,he.startTime-X),Y=!1}return Y}finally{f=null,h=z,p=!1}}var T=!1,N=null,O=-1,U=5,R=-1;function I(){return!(t.unstable_now()-R<U)}function B(){if(N!==null){var V=t.unstable_now();R=V;var X=!0;try{X=N(!0,V)}finally{X?G():(T=!1,N=null)}}else T=!1}var G;if(typeof _=="function")G=function(){_(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Q=K.port2;K.port1.onmessage=B,G=function(){Q.postMessage(null)}}else G=function(){w(B,0)};function q(V){N=V,T||(T=!0,G())}function ie(V,X){O=w(function(){V(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,q(C))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var z=h;h=X;try{return V()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var z=h;h=V;try{return X()}finally{h=z}},t.unstable_scheduleCallback=function(V,X,z){var oe=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?oe+z:oe):z=oe,V){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=z+de,V={id:d++,callback:X,priorityLevel:V,startTime:z,expirationTime:de,sortIndex:-1},z>oe?(V.sortIndex=z,e(u,V),n(c)===null&&V===n(u)&&(v?(x(O),O=-1):v=!0,ie(A,z-oe))):(V.sortIndex=de,e(c,V),g||p||(g=!0,q(C))),V},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(V){var X=h;return function(){var z=h;h=X;try{return V.apply(this,arguments)}finally{h=z}}}})(Mie);Tie.exports=Mie;var l9=Tie.exports;const b5={},eDe=t=>void Object.assign(b5,t);function tDe(t,e){function n(d,{args:f=[],attach:h,...p},g){let v=`${d[0].toUpperCase()}${d.slice(1)}`,w;if(d==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=p.object;w=ux(x,{type:d,root:g,attach:h,primitive:!0})}else{const x=b5[v];if(!x)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");w=ux(new x(...f),{type:d,root:g,attach:h,memoizedProps:{args:f}})}return w.__r3f.attach===void 0&&(w.isBufferGeometry?w.__r3f.attach="geometry":w.isMaterial&&(w.__r3f.attach="material")),v!=="inject"&&NI(w,p),w}function r(d,f){let h=!1;if(f){var p,g;(p=f.__r3f)!=null&&p.attach?CI(d,f,f.__r3f.attach):f.isObject3D&&d.isObject3D&&(d.add(f),h=!0),h||(g=d.__r3f)==null||g.objects.push(f),f.__r3f||ux(f,{}),f.__r3f.parent=d,q3(f),dx(f)}}function i(d,f,h){let p=!1;if(f){var g,v;if((g=f.__r3f)!=null&&g.attach)CI(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){f.parent=d,f.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:f});const w=d.children.filter(_=>_!==f),x=w.indexOf(h);d.children=[...w.slice(0,x),f,...w.slice(x)],p=!0}p||(v=d.__r3f)==null||v.objects.push(f),f.__r3f||ux(f,{}),f.__r3f.parent=d,q3(f),dx(f)}}function s(d,f,h=!1){d&&[...d].forEach(p=>a(f,p,h))}function a(d,f,h){if(f){var p,g,v;if(f.__r3f&&(f.__r3f.parent=null),(p=d.__r3f)!=null&&p.objects&&(d.__r3f.objects=d.__r3f.objects.filter(A=>A!==f)),(g=f.__r3f)!=null&&g.attach)h9(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){var w;d.remove(f),(w=f.__r3f)!=null&&w.root&&lDe(kC(f),f)}const _=(v=f.__r3f)==null?void 0:v.primitive,S=!_&&(h===void 0?f.dispose!==null:h);if(!_){var x;s((x=f.__r3f)==null?void 0:x.objects,f,S),s(f.children,f,S)}if(delete f.__r3f,S&&f.dispose&&f.type!=="Scene"){const A=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?l9.unstable_scheduleCallback(l9.unstable_IdlePriority,A):A()}dx(d)}}function o(d,f,h,p){var g;const v=(g=d.__r3f)==null?void 0:g.parent;if(!v)return;const w=n(f,h,d.__r3f.root);if(d.children){for(const x of d.children)x.__r3f&&r(w,x);d.children=d.children.filter(x=>!x.__r3f)}d.__r3f.objects.forEach(x=>r(w,x)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||a(v,d),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),r(v,w),w.raycast&&w.__r3f.eventCount&&kC(w).getState().internal.interaction.push(w),[p,p.alternate].forEach(x=>{x!==null&&(x.stateNode=w,x.ref&&(typeof x.ref=="function"?x.ref(w):x.ref.current=w))})}const c=()=>{};return{reconciler:JLe({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,f)=>{if(!f)return;const h=d.getState().scene;h.__r3f&&(h.__r3f.root=d,r(h,f))},removeChildFromContainer:(d,f)=>{f&&a(d.getState().scene,f)},insertInContainerBefore:(d,f,h)=>{if(!f||!h)return;const p=d.getState().scene;p.__r3f&&i(p,f,h)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var f;return!!((f=d==null?void 0:d.__r3f)!=null?f:{}).handlers},prepareUpdate(d,f,h,p){var g;if(((g=d==null?void 0:d.__r3f)!=null?g:{}).primitive&&p.object&&p.object!==d)return[!0];{const{args:w=[],children:x,..._}=p,{args:S=[],children:A,...C}=h;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((N,O)=>N!==S[O]))return[!0];const T=Rie(d,_,C,!0);return T.changes.length?[!1,T]:null}},commitUpdate(d,[f,h],p,g,v,w){f?o(d,p,v,w):NI(d,h)},commitMount(d,f,h,p){var g;const v=(g=d.__r3f)!=null?g:{};d.raycast&&v.handlers&&v.eventCount&&kC(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>ux(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var f;const{attach:h,parent:p}=(f=d.__r3f)!=null?f:{};h&&p&&h9(p,d,h),d.isObject3D&&(d.visible=!1),dx(d)},unhideInstance(d,f){var h;const{attach:p,parent:g}=(h=d.__r3f)!=null?h:{};p&&g&&CI(g,d,p),(d.isObject3D&&f.visible==null||f.visible)&&(d.visible=!0),dx(d)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():Nx.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ci.fun(performance.now)?performance.now:ci.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ci.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ci.fun(clearTimeout)?clearTimeout:void 0}),applyProps:NI}}var c9,u9;const MI=t=>"colorSpace"in t||"outputColorSpace"in t,Cie=()=>{var t;return(t=b5.ColorManagement)!=null?t:null},Nie=t=>t&&t.isOrthographicCamera,nDe=t=>t&&t.hasOwnProperty("current"),HE=typeof window<"u"&&((c9=window.document)!=null&&c9.createElement||((u9=window.navigator)==null?void 0:u9.product)==="ReactNative")?j.useLayoutEffect:j.useEffect;function Pie(t){const e=j.useRef(t);return HE(()=>void(e.current=t),[t]),e}function rDe({set:t}){return HE(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}let jie=class extends j.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};jie.getDerivedStateFromError=()=>({error:!0});const kie="__default",d9=new Map,iDe=t=>t&&!!t.memoized&&!!t.changes;function Oie(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const m_=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function kC(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ci={obj:t=>t===Object(t)&&!ci.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(ci.str(t)||ci.num(t)||ci.boo(t))return t===e;const s=ci.obj(t);if(s&&r==="reference")return t===e;const a=ci.arr(t);if(a&&n==="reference")return t===e;if((a||s)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!ci.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(ci.und(o)){if(a&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function sDe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function ux(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function G3(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,a)=>s[a],t),{target:n,key:i}}else return{target:n,key:e}}const f9=/-\d+$/;function CI(t,e,n){if(ci.str(n)){if(f9.test(n)){const s=n.replace(f9,""),{target:a,key:o}=G3(t,s);Array.isArray(a[o])||(a[o]=[])}const{target:r,key:i}=G3(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function h9(t,e,n){var r,i;if(ci.str(n)){const{target:s,key:a}=G3(t,n),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Rie(t,{children:e,key:n,ref:r,...i},{children:s,key:a,ref:o,...c}={},u=!1){const d=t.__r3f,f=Object.entries(i),h=[];if(u){const g=Object.keys(c);for(let v=0;v<g.length;v++)i.hasOwnProperty(g[v])||f.unshift([g[v],kie+"remove"])}f.forEach(([g,v])=>{var w;if((w=t.__r3f)!=null&&w.primitive&&g==="object"||ci.equ(v,c[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return h.push([g,v,!0,[]]);let x=[];g.includes("-")&&(x=g.split("-")),h.push([g,v,!1,x]);for(const _ in i){const S=i[_];_.startsWith(`${g}-`)&&h.push([_,S,!1,_.split("-")])}});const p={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(p.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(p.attach=d.memoizedProps.attach),{memoized:p,changes:h}}function NI(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:o}=iDe(e)?e:Rie(t,e),c=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let h=0;h<o.length;h++){let[p,g,v,w]=o[h];if(MI(t)){const A="srgb",C="srgb-linear";p==="encoding"?(p="colorSpace",g=g===3001?A:C):p==="outputEncoding"&&(p="outputColorSpace",g=g===3001?A:C)}let x=t,_=x[p];if(w.length&&(_=w.reduce((S,A)=>S[A],t),!(_&&_.set))){const[S,...A]=w.reverse();x=A.reverse().reduce((C,T)=>C[T],t),p=S}if(g===kie+"remove")if(x.constructor){let S=d9.get(x.constructor);S||(S=new x.constructor,d9.set(x.constructor,S)),g=S[p]}else g=0;if(v&&r)g?r.handlers[p]=g:delete r.handlers[p],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Fg)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&_.constructor===g.constructor)_.copy(g);else if(g!==void 0){var u;const S=(u=_)==null?void 0:u.isColor;!S&&_.setScalar?_.setScalar(g):_ instanceof Fg&&g instanceof Fg?_.mask=g.mask:_.set(g),!Cie()&&s&&!s.linear&&S&&_.convertSRGBToLinear()}}else{var d;if(x[p]=g,(d=x[p])!=null&&d.isTexture&&x[p].format===_a&&x[p].type===Jc&&s){const S=x[p];MI(S)&&MI(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}}dx(t)}if(r&&r.parent&&t.raycast&&c!==r.eventCount){const h=kC(t).getState().internal,p=h.interaction.indexOf(t);p>-1&&h.interaction.splice(p,1),r.eventCount&&h.interaction.push(t)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(n=t.__r3f)!=null&&n.parent&&q3(t),t}function dx(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function q3(t){t.onUpdate==null||t.onUpdate(t)}function aDe(t,e){t.manual||(Nie(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function zM(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function oDe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Nx.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Nx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Nx.ContinuousEventPriority;default:return Nx.DefaultEventPriority}}function Iie(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function lDe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Iie(n.capturedMap,e,r,i)})}function cDe(t){function e(c){const{internal:u}=t.getState(),d=c.offsetX-u.initialClick[0],f=c.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+f*f))}function n(c){return c.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+d]}))}function r(c,u){const d=t.getState(),f=new Set,h=[],p=u?u(d.internal.interaction):d.internal.interaction;for(let x=0;x<p.length;x++){const _=m_(p[x]);_&&(_.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(c,d);function g(x){const _=m_(x);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(c,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(x,!0):[]}let v=p.flatMap(g).sort((x,_)=>{const S=m_(x.object),A=m_(_.object);return!S||!A?x.distance-_.distance:A.events.priority-S.events.priority||x.distance-_.distance}).filter(x=>{const _=zM(x);return f.has(_)?!1:(f.add(_),!0)});d.events.filter&&(v=d.events.filter(v,d));for(const x of v){let _=x.object;for(;_;){var w;(w=_.__r3f)!=null&&w.eventCount&&h.push({...x,eventObject:_}),_=_.parent}}if("pointerId"in c&&d.internal.capturedMap.has(c.pointerId))for(let x of d.internal.capturedMap.get(c.pointerId).values())f.has(zM(x.intersection))||h.push(x.intersection);return h}function i(c,u,d,f){const h=t.getState();if(c.length){const p={stopped:!1};for(const g of c){const v=m_(g.object)||h,{raycaster:w,pointer:x,camera:_,internal:S}=v,A=new se(x.x,x.y,0).unproject(_),C=R=>{var I,B;return(I=(B=S.capturedMap.get(R))==null?void 0:B.has(g.eventObject))!=null?I:!1},T=R=>{const I={intersection:g,target:u.target};S.capturedMap.has(R)?S.capturedMap.get(R).set(g.eventObject,I):S.capturedMap.set(R,new Map([[g.eventObject,I]])),u.target.setPointerCapture(R)},N=R=>{const I=S.capturedMap.get(R);I&&Iie(S.capturedMap,g.eventObject,I,R)};let O={};for(let R in u){let I=u[R];typeof I!="function"&&(O[R]=I)}let U={...g,...O,pointer:x,intersections:c,stopped:p.stopped,delta:d,unprojectedPoint:A,ray:w.ray,camera:_,stopPropagation(){const R="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!R||R.has(g.eventObject))&&(U.stopped=p.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(I=>I.eventObject===g.eventObject))){const I=c.slice(0,c.indexOf(g));s([...I,g])}},target:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:N},currentTarget:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:N},nativeEvent:u};if(f(U),p.stopped===!0)break}}return c}function s(c){const{internal:u}=t.getState();for(const d of u.hovered.values())if(!c.length||!c.find(f=>f.object===d.object&&f.index===d.index&&f.instanceId===d.instanceId)){const h=d.eventObject.__r3f,p=h==null?void 0:h.handlers;if(u.hovered.delete(zM(d)),h!=null&&h.eventCount){const g={...d,intersections:c};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function a(c,u){for(let d=0;d<u.length;d++){const f=u[d].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(c)}}function o(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=t.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=d;const p=c==="onPointerMove",g=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",w=r(d,p?n:void 0),x=g?e(d):0;c==="onPointerDown"&&(h.initialClick=[d.offsetX,d.offsetY],h.initialHits=w.map(S=>S.eventObject)),g&&!w.length&&x<=2&&(a(d,h.interaction),f&&f(d)),p&&s(w);function _(S){const A=S.eventObject,C=A.__r3f,T=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(p){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const N=zM(S),O=h.hovered.get(N);O?O.stopped&&S.stopPropagation():(h.hovered.set(N,S),T.onPointerOver==null||T.onPointerOver(S),T.onPointerEnter==null||T.onPointerEnter(S))}T.onPointerMove==null||T.onPointerMove(S)}else{const N=T[c];N?(!g||h.initialHits.includes(A))&&(a(d,h.interaction.filter(O=>!h.initialHits.includes(O))),N(S)):g&&h.initialHits.includes(A)&&a(d,h.interaction.filter(O=>!h.initialHits.includes(O)))}}i(w,d,x,_)}}return{handlePointer:o}}const Lie=t=>!!(t!=null&&t.render),Die=j.createContext(null),uDe=(t,e)=>{const n=XLe((o,c)=>{const u=new se,d=new se,f=new se;function h(x=c().camera,_=d,S=c().size){const{width:A,height:C,top:T,left:N}=S,O=A/C;_.isVector3?f.copy(_):f.set(..._);const U=x.getWorldPosition(u).distanceTo(f);if(Nie(x))return{width:A/x.zoom,height:C/x.zoom,top:T,left:N,factor:1,distance:U,aspect:O};{const R=x.fov*Math.PI/180,I=2*Math.tan(R/2)*U,B=I*(A/C);return{width:B,height:I,top:T,left:N,factor:A/B,distance:U,aspect:O}}}let p;const g=x=>o(_=>({performance:{..._.performance,current:x}})),v=new tt;return{set:o,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>t(c(),x),advance:(x,_)=>e(x,_,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new m5,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=c();p&&clearTimeout(p),x.performance.current!==x.performance.min&&g(x.performance.min),p=setTimeout(()=>g(c().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:x=>o(_=>({..._,events:{..._.events,...x}})),setSize:(x,_,S,A,C)=>{const T=c().camera,N={width:x,height:_,top:A||0,left:C||0,updateStyle:S};o(O=>({size:N,viewport:{...O.viewport,...h(T,d,N)}}))},setDpr:x=>o(_=>{const S=Oie(x);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(x="always")=>{const _=c().clock;_.stop(),_.elapsedTime=0,x!=="never"&&(_.start(),_.elapsedTime=0),o(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:j.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,_,S)=>{const A=c().internal;return A.priority=A.priority+(_>0?1:0),A.subscribers.push({ref:x,priority:_,store:S}),A.subscribers=A.subscribers.sort((C,T)=>C.priority-T.priority),()=>{const C=c().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(_>0?1:0),C.subscribers=C.subscribers.filter(T=>T.ref!==x))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:o,size:c,viewport:u,gl:d,set:f}=n.getState();if(c.width!==i.width||c.height!==i.height||u.dpr!==s){var h;i=c,s=u.dpr,aDe(o,c),d.setPixelRatio(u.dpr);const p=(h=c.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(c.width,c.height,p)}o!==a&&(a=o,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};let $M,dDe=new Set,fDe=new Set,hDe=new Set;function PI(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function g_(t,e){switch(t){case"before":return PI(dDe,e);case"after":return PI(fDe,e);case"tail":return PI(hDe,e)}}let jI,kI;function OI(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),jI=e.internal.subscribers,$M=0;$M<jI.length;$M++)kI=jI[$M],kI.ref.current(kI.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function pDe(t){let e=!1,n=!1,r,i,s;function a(u){i=requestAnimationFrame(a),e=!0,r=0,g_("before",u),n=!0;for(const f of t.values()){var d;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=OI(u,s))}if(n=!1,g_("after",u),r===0)return g_("tail",u),e=!1,cancelAnimationFrame(i)}function o(u,d=1){var f;if(!u)return t.forEach(h=>o(h.store.getState(),d));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(d>1?u.internal.frames=Math.min(60,u.internal.frames+d):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function c(u,d=!0,f,h){if(d&&g_("before",u),f)OI(u,f,h);else for(const p of t.values())OI(u,p.store.getState());d&&g_("after",u)}return{loop:a,invalidate:o,advance:c}}function mDe(){const t=j.useContext(Die);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function WE(t,e=0){const n=mDe(),r=n.getState().internal.subscribe,i=Pie(t);return HE(()=>r(i,e,n),[e,r,n]),null}const O0=new Map,{invalidate:p9,advance:m9}=pDe(O0),{reconciler:vP,applyProps:Jv}=tDe(O0,oDe),ex={objects:"shallow",strict:!1},gDe=(t,e)=>{const n=typeof t=="function"?t(e):t;return Lie(n)?n:new Nre({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function yDe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:o=n}=e;return{width:r,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function vDe(t){const e=O0.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||uDe(p9,m9),a=n||vP.createContainer(s,Nx.ConcurrentRoot,null,!1,null,"",i,null);e||O0.set(t,{fiber:a,store:s});let o,c=!1,u;return{configure(d={}){let{gl:f,size:h,scene:p,events:g,onCreated:v,shadows:w=!1,linear:x=!1,flat:_=!1,legacy:S=!1,orthographic:A=!1,frameloop:C="always",dpr:T=[1,2],performance:N,raycaster:O,camera:U,onPointerMissed:R}=d,I=s.getState(),B=I.gl;I.gl||I.set({gl:B=gDe(f,t)});let G=I.raycaster;G||I.set({raycaster:G=new _ie});const{params:K,...Q}=O||{};if(ci.equ(Q,G,ex)||Jv(G,{...Q}),ci.equ(K,G.params,ex)||Jv(G,{params:{...G.params,...K}}),!I.camera||I.camera===u&&!ci.equ(u,U,ex)){u=U;const z=U instanceof IE,oe=z?U:A?new FE(0,0,0,0,.1,1e3):new Gs(75,0,.1,1e3);z||(oe.position.z=5,U&&(Jv(oe,U),("aspect"in U||"left"in U||"right"in U||"bottom"in U||"top"in U)&&(oe.manual=!0,oe.updateProjectionMatrix())),!I.camera&&!(U!=null&&U.rotation)&&oe.lookAt(0,0,0)),I.set({camera:oe}),G.camera=oe}if(!I.scene){let z;p!=null&&p.isScene?z=p:(z=new JB,p&&Jv(z,p)),I.set({scene:ux(z)})}if(!I.xr){var q;const z=(Y,he)=>{const Ce=s.getState();Ce.frameloop!=="never"&&m9(Y,!0,Ce,he)},oe=()=>{const Y=s.getState();Y.gl.xr.enabled=Y.gl.xr.isPresenting,Y.gl.xr.setAnimationLoop(Y.gl.xr.isPresenting?z:null),Y.gl.xr.isPresenting||p9(Y)},de={connect(){const Y=s.getState().gl;Y.xr.addEventListener("sessionstart",oe),Y.xr.addEventListener("sessionend",oe)},disconnect(){const Y=s.getState().gl;Y.xr.removeEventListener("sessionstart",oe),Y.xr.removeEventListener("sessionend",oe)}};typeof((q=B.xr)==null?void 0:q.addEventListener)=="function"&&de.connect(),I.set({xr:de})}if(B.shadowMap){const z=B.shadowMap.enabled,oe=B.shadowMap.type;if(B.shadowMap.enabled=!!w,ci.boo(w))B.shadowMap.type=a1;else if(ci.str(w)){var ie;const de={basic:Tne,percentage:vj,soft:a1,variance:Rc};B.shadowMap.type=(ie=de[w])!=null?ie:a1}else ci.obj(w)&&Object.assign(B.shadowMap,w);(z!==B.shadowMap.enabled||oe!==B.shadowMap.type)&&(B.shadowMap.needsUpdate=!0)}const V=Cie();V&&("enabled"in V?V.enabled=!S:"legacyMode"in V&&(V.legacyMode=S)),c||Jv(B,{outputEncoding:x?3e3:3001,toneMapping:_?qu:kB}),I.legacy!==S&&I.set(()=>({legacy:S})),I.linear!==x&&I.set(()=>({linear:x})),I.flat!==_&&I.set(()=>({flat:_})),f&&!ci.fun(f)&&!Lie(f)&&!ci.equ(f,B,ex)&&Jv(B,f),g&&!I.events.handlers&&I.set({events:g(s)});const X=yDe(t,h);return ci.equ(X,I.size,ex)||I.setSize(X.width,X.height,X.updateStyle,X.top,X.left),T&&I.viewport.dpr!==Oie(T)&&I.setDpr(T),I.frameloop!==C&&I.setFrameloop(C),I.onPointerMissed||I.set({onPointerMissed:R}),N&&!ci.equ(N,I.performance,ex)&&I.set(z=>({performance:{...z.performance,...N}})),o=v,c=!0,this},render(d){return c||this.configure(),vP.updateContainer(l.jsx(xDe,{store:s,children:d,onCreated:o,rootElement:t}),a,null,()=>{}),s},unmount(){Fie(t)}}}function xDe({store:t,children:e,onCreated:n,rootElement:r}){return HE(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),l.jsx(Die.Provider,{value:t,children:e})}function Fie(t,e){const n=O0.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),vP.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,c;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(c=i.gl)!=null&&c.xr&&i.xr.disconnect(),sDe(i),O0.delete(t)}catch{}},500)})}}vP.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:j.version});const RI={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function bDe(t){const{handlePointer:e}=cDe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(RI).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,o])=>{const[c,u]=RI[a];n.addEventListener(c,o,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[o]=RI[s];r.connected.removeEventListener(o,a)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function g9(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function wDe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=j.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=j.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,d=j.useRef(!1);j.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,h,p]=j.useMemo(()=>{const x=()=>{if(!o.current.element)return;const{left:_,top:S,width:A,height:C,bottom:T,right:N,x:O,y:U}=o.current.element.getBoundingClientRect(),R={left:_,top:S,width:A,height:C,bottom:T,right:N,x:O,y:U};o.current.element instanceof HTMLElement&&r&&(R.height=o.current.element.offsetHeight,R.width=o.current.element.offsetWidth),Object.freeze(R),d.current&&!ADe(o.current.lastBounds,R)&&a(o.current.lastBounds=R)};return[x,u?g9(x,u):x,c?g9(x,c):x]},[a,r,c,u]);function g(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",p,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function v(){o.current.element&&(o.current.resizeObserver=new i(p),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(x=>x.addEventListener("scroll",p,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const w=x=>{!x||x===o.current.element||(g(),o.current.element=x,o.current.scrollContainers=Uie(x),v())};return SDe(p,!!e),_De(h),j.useEffect(()=>{g(),v()},[e,p,h]),j.useEffect(()=>g,[]),[w,s,f]}function _De(t){j.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function SDe(t,e){j.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Uie(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...Uie(t.parentElement)]}const EDe=["x","y","top","bottom","left","right","width","height"],ADe=(t,e)=>EDe.every(n=>t[n]===e[n]);var TDe=Object.defineProperty,MDe=Object.defineProperties,CDe=Object.getOwnPropertyDescriptors,y9=Object.getOwnPropertySymbols,NDe=Object.prototype.hasOwnProperty,PDe=Object.prototype.propertyIsEnumerable,v9=(t,e,n)=>e in t?TDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x9=(t,e)=>{for(var n in e||(e={}))NDe.call(e,n)&&v9(t,n,e[n]);if(y9)for(var n of y9(e))PDe.call(e,n)&&v9(t,n,e[n]);return t},jDe=(t,e)=>MDe(t,CDe(e)),b9,w9;typeof window<"u"&&((b9=window.document)!=null&&b9.createElement||((w9=window.navigator)==null?void 0:w9.product)==="ReactNative")?j.useLayoutEffect:j.useEffect;function Bie(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=Bie(r,e,n);if(i)return i;r=r.sibling}}function zie(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const _9=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=_9;return}return _9.apply(this,arguments)};const w5=zie(j.createContext(null));class $ie extends j.Component{render(){return j.createElement(w5.Provider,{value:this._reactInternals},this.props.children)}}function kDe(){const t=j.useContext(w5);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=j.useId();return j.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=Bie(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function ODe(){const t=kDe(),[e]=j.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==w5&&!e.has(i)&&e.set(i,j.useContext(zie(i)))}n=n.return}return e}function RDe(){const t=ODe();return j.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>j.createElement(e,null,j.createElement(n.Provider,jDe(x9({},r),{value:t.get(n)}))),e=>j.createElement($ie,x9({},e))),[t])}const IDe=j.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:a=bDe,eventSource:o,eventPrefix:c,shadows:u,linear:d,flat:f,legacy:h,orthographic:p,frameloop:g,dpr:v,performance:w,raycaster:x,camera:_,scene:S,onPointerMissed:A,onCreated:C,...T},N){j.useMemo(()=>eDe(WLe),[]);const O=RDe(),[U,R]=wDe({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=j.useRef(null),B=j.useRef(null);j.useImperativeHandle(N,()=>I.current);const G=Pie(A),[K,Q]=j.useState(!1),[q,ie]=j.useState(!1);if(K)throw K;if(q)throw q;const V=j.useRef(null);HE(()=>{const z=I.current;R.width>0&&R.height>0&&z&&(V.current||(V.current=vDe(z)),V.current.configure({gl:s,events:a,shadows:u,linear:d,flat:f,legacy:h,orthographic:p,frameloop:g,dpr:v,performance:w,raycaster:x,camera:_,scene:S,size:R,onPointerMissed:(...oe)=>G.current==null?void 0:G.current(...oe),onCreated:oe=>{oe.events.connect==null||oe.events.connect(o?nDe(o)?o.current:o:B.current),c&&oe.setEvents({compute:(de,Y)=>{const he=de[c+"X"],Ce=de[c+"Y"];Y.pointer.set(he/Y.size.width*2-1,-(Ce/Y.size.height)*2+1),Y.raycaster.setFromCamera(Y.pointer,Y.camera)}}),C==null||C(oe)}}),V.current.render(l.jsx(O,{children:l.jsx(jie,{set:ie,children:l.jsx(j.Suspense,{fallback:l.jsx(rDe,{set:Q}),children:e??null})})})))}),j.useEffect(()=>{const z=I.current;if(z)return()=>Fie(z)},[]);const X=o?"none":"auto";return l.jsx("div",{ref:B,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...i},...T,children:l.jsx("div",{ref:U,style:{width:"100%",height:"100%"},children:l.jsx("canvas",{ref:I,style:{display:"block"},children:n})})})}),_5=j.forwardRef(function(e,n){return l.jsx($ie,{children:l.jsx(IDe,{...e,ref:n})})});function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(null,arguments)}const LDe=()=>parseInt(jE.replace(/\D+/g,"")),Vie=LDe();var Hie={exports:{}},DDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FDe=DDe,UDe=FDe;function Wie(){}function Gie(){}Gie.resetWarningCache=Wie;var BDe=function(){function t(r,i,s,a,o,c){if(c!==UDe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Gie,resetWarningCache:Wie};return n.PropTypes=n,n};Hie.exports=BDe();var zDe=Hie.exports;const Mr=cr(zDe),II=Vie>=154?"opaque_fragment":"output_fragment";class $De extends Rj{constructor(e){super(e),this.onBeforeCompile=(n,r)=>{const{isWebGL2:i}=r.capabilities;n.fragmentShader=n.fragmentShader.replace(`#include <${II}>`,`
        ${i?`#include <${II}>`:`#extension GL_OES_standard_derivatives : enable
#include <${II}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${Vie>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const VDe=j.forwardRef((t,e)=>{const[n]=j.useState(()=>new $De(null));return j.createElement("primitive",uy({},t,{object:n,ref:e,attach:"material"}))});let Um,y_;const HDe=j.createContext(null),S9=new on,E9=new se,WDe=j.forwardRef(({children:t,range:e,limit:n=1e3,...r},i)=>{const s=j.useRef(null);j.useImperativeHandle(i,()=>s.current,[]);const[a,o]=j.useState([]),[[c,u,d]]=j.useState(()=>[new Float32Array(n*3),Float32Array.from({length:n*3},()=>1),Float32Array.from({length:n},()=>1)]);j.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),WE(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),S9.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(n,e!==void 0?e:n,a.length),Um=0;Um<a.length;Um++)y_=a[Um].current,y_.getWorldPosition(E9).applyMatrix4(S9),E9.toArray(c,Um*3),s.current.geometry.attributes.position.needsUpdate=!0,y_.matrixWorldNeedsUpdate=!0,y_.color.toArray(u,Um*3),s.current.geometry.attributes.color.needsUpdate=!0,d.set([y_.size],Um),s.current.geometry.attributes.size.needsUpdate=!0});const f=j.useMemo(()=>({getParent:()=>s,subscribe:h=>(o(p=>[...p,h]),()=>o(p=>p.filter(g=>g.current!==h.current)))}),[]);return j.createElement("points",uy({userData:{instances:a},matrixAutoUpdate:!1,ref:s,raycast:()=>null},r),j.createElement("bufferGeometry",null,j.createElement("bufferAttribute",{attach:"attributes-position",count:c.length/3,array:c,itemSize:3,usage:Lg}),j.createElement("bufferAttribute",{attach:"attributes-color",count:u.length/3,array:u,itemSize:3,usage:Lg}),j.createElement("bufferAttribute",{attach:"attributes-size",count:d.length,array:d,itemSize:1,usage:Lg})),j.createElement(HDe.Provider,{value:f},t))}),GDe=j.forwardRef(({children:t,positions:e,colors:n,sizes:r,stride:i=3,...s},a)=>{const o=j.useRef(null);return j.useImperativeHandle(a,()=>o.current,[]),WE(()=>{const c=o.current.geometry.attributes;c.position.needsUpdate=!0,n&&(c.color.needsUpdate=!0),r&&(c.size.needsUpdate=!0)}),j.createElement("points",uy({ref:o},s),j.createElement("bufferGeometry",null,j.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/i,array:e,itemSize:i,usage:Lg}),n&&j.createElement("bufferAttribute",{attach:"attributes-color",count:n.length/i,array:n,itemSize:3,usage:Lg}),r&&j.createElement("bufferAttribute",{attach:"attributes-size",count:r.length/i,array:r,itemSize:1,usage:Lg})),t)}),qDe=j.forwardRef((t,e)=>t.positions instanceof Float32Array?j.createElement(GDe,uy({},t,{ref:e})):j.createElement(WDe,uy({},t,{ref:e})));function XDe({count:t,color:e}){const n=j.useRef(null),r=j.useMemo(()=>{const i=new Float32Array(t*3);for(let s=0;s<t;s++){const a=(Math.random()-.5)*10,o=(Math.random()-.5)*10,c=(Math.random()-.5)*10;i.set([a,o,c],s*3)}return i},[t]);return WE(i=>{n.current&&(n.current.rotation.x=i.clock.getElapsedTime()*.05,n.current.rotation.y=i.clock.getElapsedTime()*.075)}),l.jsx(qDe,{ref:n,positions:r,stride:3,frustumCulled:!1,children:l.jsx(VDe,{transparent:!0,color:e,size:.02,sizeAttenuation:!0,depthWrite:!1})})}function KDe({variant:t,color:e="#2563eb"}){return l.jsx("div",{className:"fixed inset-0 -z-10 opacity-30",children:l.jsxs(_5,{camera:{position:[0,0,5],fov:75},children:[l.jsx("ambientLight",{intensity:.5}),t==="particles"&&l.jsx(XDe,{count:3e3,color:e})]})})}function YDe({color1:t,color2:e}){const n=j.useRef(null);return WE(r=>{n.current&&(n.current.rotation.x=r.clock.getElapsedTime()*.2,n.current.rotation.y=r.clock.getElapsedTime()*.3)}),l.jsxs("mesh",{ref:n,scale:3,children:[l.jsx("icosahedronGeometry",{args:[1,4]}),l.jsx("meshStandardMaterial",{color:t,emissive:e,emissiveIntensity:.3,roughness:.3,metalness:.8})]})}function ZDe({color1:t="#6366f1",color2:e="#8b5cf6"}){return l.jsx("div",{className:"fixed inset-0 -z-10 opacity-20",children:l.jsxs(_5,{camera:{position:[0,0,5],fov:75},children:[l.jsx("ambientLight",{intensity:.5}),l.jsx("pointLight",{position:[10,10,10],intensity:1}),l.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:e}),l.jsx(YDe,{color1:t,color2:e})]})})}function QDe({position:t,color:e}){const n=j.useRef(null);return WE(r=>{n.current&&(n.current.position.y=t[1]+Math.sin(r.clock.getElapsedTime()+t[0])*.5,n.current.rotation.x=r.clock.getElapsedTime()*.2,n.current.rotation.y=r.clock.getElapsedTime()*.3)}),l.jsxs("mesh",{ref:n,position:t,children:[l.jsx("boxGeometry",{args:[.5,.5,.5]}),l.jsx("meshStandardMaterial",{color:e,transparent:!0,opacity:.6})]})}function JDe({color:t="#f59e0b"}){const e=[[-2,0,-2],[2,0,-2],[-2,0,2],[2,0,2],[0,1,0]];return l.jsx("div",{className:"fixed inset-0 -z-10 opacity-25",children:l.jsxs(_5,{camera:{position:[0,0,8],fov:75},children:[l.jsx("ambientLight",{intensity:.5}),l.jsx("pointLight",{position:[10,10,10],intensity:1}),e.map((n,r)=>l.jsx(QDe,{position:n,color:t},r))]})})}function e3e(){var T;const{slug:t}=IU(),[e,n]=j.useState(null),[r,i]=j.useState(null),{data:s,isLoading:a,error:o}=ONe(t||"");if(jNe((T=s==null?void 0:s.profile)==null?void 0:T.id,t||""),j.useEffect(()=>{var N;if((N=s==null?void 0:s.profile)!=null&&N.theme)try{if(typeof s.profile.theme=="string")if(s.profile.theme.trim().startsWith("{")||s.profile.theme.trim().startsWith("[")){const O=JSON.parse(s.profile.theme);i(O),s1(s.profile.theme)}else console.log("[Theme] Using theme preset:",s.profile.theme);else i(s.profile.theme),s1(JSON.stringify(s.profile.theme))}catch(O){console.error("Failed to apply profile theme:",O)}},[s]),a)return l.jsx(TTe,{text:"Loading profile..."});if(o||!s)return l.jsx(Sne,{});const{profile:c,listings:u,testimonials:d,links:f,settings:h}=s,p=u.filter(N=>N.status==="active"),g=u.filter(N=>N.status==="sold"),v=g.reduce((N,O)=>N+cg(O.price),0),w=d.length>0?d.reduce((N,O)=>N+(O.rating||0),0)/d.length:0,x=c.seo_title||`${c.full_name||c.username} - Real Estate Agent`,_=c.seo_description||c.bio||`Browse properties and connect with ${c.full_name||c.username}, a trusted real estate professional.`,S=`${window.location.origin}/${t}`,A={"@context":"https://schema.org","@type":"RealEstateAgent",name:c.full_name||c.username,description:c.bio,telephone:c.phone,email:c.email_display,image:c.avatar_url,address:{"@type":"PostalAddress",addressRegion:c.license_state},jobTitle:c.title,aggregateRating:d.length>0?{"@type":"AggregateRating",ratingValue:w,reviewCount:d.length}:void 0},C=()=>{var U,R;if(!(r!=null&&r.has3D)||!(r!=null&&r.threeDEffect))return null;const N=((U=r.colors)==null?void 0:U.primary)||"#2563eb",O=((R=r.colors)==null?void 0:R.secondary)||"#10b981";switch(r.threeDEffect){case"3d-particles":return l.jsx(KDe,{variant:"particles",color:N});case"3d-mesh":return l.jsx(ZDe,{color1:N,color2:O});case"3d-floating":return l.jsx(JDe,{color:N});default:return null}};return l.jsxs(l.Fragment,{children:[l.jsx(JU,{title:x,description:_,ogImage:c.og_image||c.avatar_url,canonicalUrl:S,keywords:[c.full_name||c.username,"real estate agent",c.license_state||"",...c.specialties||[],...c.service_cities||[]].filter(Boolean),schema:A}),C(),l.jsxs("div",{className:"min-h-screen relative",style:{backgroundColor:"hsl(var(--theme-background, 217 33% 97%))",color:"hsl(var(--theme-text, 222 47% 11%))"},children:[l.jsx("div",{className:"container mx-auto px-4 py-8 max-w-5xl relative z-10",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(MTe,{profile:c}),(h==null?void 0:h.show_contact_buttons)!==!1&&l.jsx(CTe,{profile:c,onContactClick:N=>console.log("Contact clicked:",N)}),(h==null?void 0:h.show_social_proof)!==!1&&l.jsx("div",{className:"pt-4",children:l.jsx(MNe,{stats:{propertiesSold:g.length,totalVolume:v,averageRating:w,reviewCount:d.length,yearsExperience:c.years_experience}})}),(h==null?void 0:h.show_listings)!==!1&&p.length>0&&l.jsx("div",{className:"pt-4",children:l.jsx(YMe,{listings:p,title:"Featured Properties",onListingClick:N=>n(N)})}),l.jsx("div",{className:"pt-8",children:l.jsx(bNe,{agentId:c.id,agentName:c.full_name||c.username})}),(h==null?void 0:h.show_sold_properties)!==!1&&l.jsx("div",{className:"pt-4",children:l.jsx(ZMe,{listings:u,onListingClick:N=>n(N)})}),(h==null?void 0:h.show_testimonials)!==!1&&d.length>0&&l.jsx("div",{className:"pt-8",children:l.jsx(TNe,{testimonials:d})}),f.length>0&&l.jsx(PNe,{links:f,onLinkClick:async N=>{kNe(N.id.toString()),await Xe.rpc("increment_link_clicks",{link_id:N.id})}}),l.jsx(PTe,{profile:c}),l.jsx("footer",{className:"mt-12 pt-8 pb-6 border-t border-gray-200 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-3",children:l.jsxs("svg",{className:"h-10 w-10 text-blue-600",viewBox:"0 0 100 100",fill:"currentColor",role:"img","aria-label":"Equal Housing Opportunity",children:[l.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"3",fill:"none"}),l.jsx("rect",{x:"30",y:"20",width:"40",height:"60",fill:"none",stroke:"currentColor",strokeWidth:"3"}),l.jsx("line",{x1:"35",y1:"45",x2:"65",y2:"45",stroke:"currentColor",strokeWidth:"3"}),l.jsx("line",{x1:"35",y1:"55",x2:"65",y2:"55",stroke:"currentColor",strokeWidth:"3"})]})}),l.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Equal Housing Opportunity"}),l.jsx("p",{className:"text-xs text-gray-600 mb-4 max-w-2xl mx-auto leading-relaxed px-4",children:"We are pledged to the letter and spirit of U.S. policy for the achievement of equal housing opportunity throughout the Nation."}),c.license_number&&l.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-300",children:[l.jsxs("p",{className:"text-xs text-gray-700 font-medium",children:[c.display_name,c.title&&` | ${c.title}`]}),l.jsxs("p",{className:"text-xs text-gray-600",children:[c.brokerage_name&&`${c.brokerage_name} | `,"License #",c.license_number," (",c.license_state,")"]})]}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-xs text-gray-500 mb-3",children:[l.jsx("a",{href:"/terms",className:"hover:text-blue-600 hover:underline",children:"Terms of Service"}),l.jsx("span",{children:""}),l.jsx("a",{href:"/privacy",className:"hover:text-blue-600 hover:underline",children:"Privacy Policy"})]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," ",c.display_name,". All rights reserved."]}),l.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Powered by"," ",l.jsx("a",{href:"https://agentbio.net",className:"hover:text-blue-600 hover:underline",target:"_blank",rel:"noopener",children:"AgentBio.net"})]})]})})]})}),e&&l.jsx(CNe,{listing:e,isOpen:!!e,onClose:()=>n(null)})]})]})}function t3e(){return l.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),l.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[l.jsxs("p",{className:"text-muted-foreground mb-6",children:["Last updated: ",new Date().toLocaleDateString()]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Information We Collect"}),l.jsx("p",{className:"mb-4",children:"We collect information you provide directly to us, including:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[l.jsx("li",{children:"Account information (name, email, username, password)"}),l.jsx("li",{children:"Profile information (bio, avatar, contact details)"}),l.jsx("li",{children:"Property listings and related content"}),l.jsx("li",{children:"Communication preferences"}),l.jsx("li",{children:"Payment information (processed securely through Stripe)"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. How We Use Your Information"}),l.jsx("p",{className:"mb-4",children:"We use the information we collect to:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[l.jsx("li",{children:"Provide, maintain, and improve our services"}),l.jsx("li",{children:"Process your transactions and manage subscriptions"}),l.jsx("li",{children:"Send you technical notices and support messages"}),l.jsx("li",{children:"Respond to your comments and questions"}),l.jsx("li",{children:"Analyze usage patterns to improve user experience"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Information Sharing"}),l.jsx("p",{className:"mb-4",children:"We do not sell your personal information. We may share your information only in the following circumstances:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[l.jsx("li",{children:"With your consent"}),l.jsx("li",{children:"With service providers who help us operate our platform"}),l.jsx("li",{children:"To comply with legal obligations"}),l.jsx("li",{children:"To protect our rights and prevent fraud"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Data Security"}),l.jsx("p",{className:"mb-4",children:"We implement appropriate security measures to protect your personal information. However, no method of transmission over the Internet is 100% secure."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Your Rights"}),l.jsx("p",{className:"mb-4",children:"You have the right to:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[l.jsx("li",{children:"Access your personal information"}),l.jsx("li",{children:"Correct inaccurate information"}),l.jsx("li",{children:"Request deletion of your information"}),l.jsx("li",{children:"Object to processing of your information"}),l.jsx("li",{children:"Export your data"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Cookies and Tracking"}),l.jsx("p",{className:"mb-4",children:"We use cookies and similar tracking technologies to track activity on our service and hold certain information. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Contact Us"}),l.jsx("p",{className:"mb-4",children:"If you have questions about this Privacy Policy, please contact us at privacy@example.com"})]})]})]})})}function n3e(){return l.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),l.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[l.jsxs("p",{className:"text-muted-foreground mb-6",children:["Last updated: ",new Date().toLocaleDateString()]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),l.jsx("p",{className:"mb-4",children:"By accessing and using this service, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use this service."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Use License"}),l.jsx("p",{className:"mb-4",children:"Permission is granted to temporarily access the materials on our platform for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title."}),l.jsx("p",{className:"mb-4",children:"Under this license you may not:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[l.jsx("li",{children:"Modify or copy the materials"}),l.jsx("li",{children:"Use the materials for any commercial purpose"}),l.jsx("li",{children:"Attempt to decompile or reverse engineer any software"}),l.jsx("li",{children:"Remove any copyright or proprietary notations"}),l.jsx("li",{children:"Transfer the materials to another person"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts"}),l.jsx("p",{className:"mb-4",children:"When you create an account with us, you must provide accurate, complete, and current information. Failure to do so constitutes a breach of the Terms, which may result in immediate termination of your account."}),l.jsx("p",{className:"mb-4",children:"You are responsible for safeguarding the password and for all activities that occur under your account."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Subscription and Billing"}),l.jsx("p",{className:"mb-4",children:"Some parts of the Service are billed on a subscription basis. You will be billed in advance on a recurring and periodic basis. Billing cycles are set on a monthly or annual basis."}),l.jsx("p",{className:"mb-4",children:"A valid payment method is required to process the payment for your subscription. You must provide accurate and complete billing information."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Refund Policy"}),l.jsx("p",{className:"mb-4",children:"We offer refunds within 14 days of purchase for monthly subscriptions. Annual subscriptions are non-refundable after 14 days."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Content Ownership"}),l.jsx("p",{className:"mb-4",children:"You retain all rights to the content you upload to our platform. By uploading content, you grant us a license to use, store, and display that content as necessary to provide our services."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Prohibited Uses"}),l.jsx("p",{className:"mb-4",children:"You may not use our service:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4 space-y-2",children:[l.jsx("li",{children:"For any unlawful purpose or to solicit others to perform unlawful acts"}),l.jsx("li",{children:"To violate any international, federal, or local regulations"}),l.jsx("li",{children:"To infringe upon the rights of others"}),l.jsx("li",{children:"To harass, abuse, or harm another person"}),l.jsx("li",{children:"To transmit spam or malicious code"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Termination"}),l.jsx("p",{className:"mb-4",children:"We may terminate or suspend your account immediately, without prior notice, for any breach of these Terms."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Limitation of Liability"}),l.jsx("p",{className:"mb-4",children:"In no event shall we be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Contact"}),l.jsx("p",{className:"mb-4",children:"Questions about the Terms of Service should be sent to us at legal@example.com"})]})]})]})})}var Zj="Switch",[r3e]=ac(Zj),[i3e,s3e]=r3e(Zj),qie=j.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=t,[h,p]=j.useState(null),g=jr(e,S=>p(S)),v=j.useRef(!1),w=h?d||!!h.closest("form"):!0,[x,_]=gp({prop:i,defaultProp:s??!1,onChange:u,caller:Zj});return l.jsxs(i3e,{scope:n,checked:x,disabled:o,children:[l.jsx(Sn.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":Zie(x),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:g,onClick:On(t.onClick,S=>{_(A=>!A),w&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),w&&l.jsx(Yie,{control:h,bubbles:!v.current,name:r,value:c,checked:x,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});qie.displayName=Zj;var Xie="SwitchThumb",Kie=j.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=s3e(Xie,n);return l.jsx(Sn.span,{"data-state":Zie(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Kie.displayName=Xie;var a3e="SwitchBubbleInput",Yie=j.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=j.useRef(null),o=jr(a,s),c=pB(n),u=uB(e);return j.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const g=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(g)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Yie.displayName=a3e;function Zie(t){return t?"checked":"unchecked"}var Qie=qie,o3e=Kie;const wp=j.forwardRef(({className:t,...e},n)=>l.jsx(Qie,{className:at("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(o3e,{className:at("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wp.displayName=Qie.displayName;const l3e=()=>{var a,o;const{data:t}=Ir({queryKey:["session"],queryFn:async()=>{const{data:c}=await Xe.auth.getSession();return c.session}}),{data:e,isLoading:n}=Ir({queryKey:["user-subscription",(a=t==null?void 0:t.user)==null?void 0:a.id],queryFn:async()=>{var d;if(!((d=t==null?void 0:t.user)!=null&&d.id))return null;const{data:c,error:u}=await Xe.rpc("get_user_plan",{_user_id:t.user.id});if(u)throw u;return c},enabled:!!((o=t==null?void 0:t.user)!=null&&o.id)}),{data:r}=Ir({queryKey:["subscription-plans"],queryFn:async()=>{const{data:c,error:u}=await Xe.from("subscription_plans").select("*").eq("is_active",!0).order("sort_order");if(u)throw u;return c}});return{subscription:e,plans:r,isLoading:n,checkLimit:(c,u)=>{if(!(e!=null&&e.limits))return u<3;const d=e.limits[c];return d===-1?!0:d===void 0?!1:u<d},hasFeature:c=>e!=null&&e.features?e.features[c]===!0:!1,isPro:(e==null?void 0:e.plan_name)==="professional"||(e==null?void 0:e.plan_name)==="team"||(e==null?void 0:e.plan_name)==="enterprise",isTeam:(e==null?void 0:e.plan_name)==="team"||(e==null?void 0:e.plan_name)==="enterprise"}},c3e=1,u3e=1e6;let LI=0;function d3e(){return LI=(LI+1)%Number.MAX_VALUE,LI.toString()}const DI=new Map,A9=t=>{if(DI.has(t))return;const e=setTimeout(()=>{DI.delete(t),g1({type:"REMOVE_TOAST",toastId:t})},u3e);DI.set(t,e)},f3e=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,c3e)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?A9(n):t.toasts.forEach(r=>{A9(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},OC=[];let RC={toasts:[]};function g1(t){RC=f3e(RC,t),OC.forEach(e=>{e(RC)})}function h3e({...t}){const e=d3e(),n=i=>g1({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>g1({type:"DISMISS_TOAST",toastId:e});return g1({type:"ADD_TOAST",toast:{...t,id:e}}),{id:e,dismiss:r,update:n}}function Ef(){const[t,e]=j.useState(RC);return j.useEffect(()=>(OC.push(e),()=>{const n=OC.indexOf(e);n>-1&&OC.splice(n,1)}),[t]),{...t,toast:h3e,dismiss:n=>g1({type:"DISMISS_TOAST",toastId:n})}}function p3e(){const[t,e]=j.useState(!1),{plans:n,subscription:r}=l3e(),{toast:i}=Ef(),s={"@context":"https://schema.org","@type":"ProductGroup",name:"AgentBio Subscription Plans",description:"Choose the perfect plan for your real estate business"},a=async d=>{try{const{data:{session:f}}=await Xe.auth.getSession();if(!f){i({title:"Authentication required",description:"Please sign in to subscribe",variant:"destructive"});return}const{data:h,error:p}=await Xe.functions.invoke("create-checkout-session",{body:{priceId:t?d.replace("monthly","yearly"):d,successUrl:`${window.location.origin}/dashboard?subscription=success`,cancelUrl:`${window.location.origin}/pricing`}});if(p)throw p;h.url&&(window.location.href=h.url)}catch{i({title:"Error",description:"Failed to create checkout session",variant:"destructive"})}},o=d=>{const f=t?d.price_yearly:d.price_monthly;return f===0?"Free":`$${f}`},c=()=>t?"/year":"/month",u=d=>(r==null?void 0:r.plan_name)===d;return l.jsxs(l.Fragment,{children:[l.jsx(JU,{title:"Pricing - AgentBio Professional Plans",description:"Choose the perfect plan for your real estate business. Start free and scale as you grow with AgentBio.",keywords:["real estate pricing","agent subscriptions","link in bio plans"],canonicalUrl:`${window.location.origin}/pricing`,schema:s}),l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx(hj,{}),l.jsx("div",{className:"bg-gradient-to-br from-background via-background to-primary/5 py-20 px-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Choose Your Plan"}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Start free and scale as you grow"}),l.jsxs("div",{className:"flex items-center justify-center gap-4",children:[l.jsx("span",{className:t?"text-muted-foreground":"font-semibold",children:"Monthly"}),l.jsx(wp,{checked:t,onCheckedChange:e}),l.jsxs("span",{className:t?"font-semibold":"text-muted-foreground",children:["Yearly ",l.jsx("span",{className:"text-primary text-sm",children:"(Save 17%)"})]})]})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:n==null?void 0:n.map(d=>l.jsxs(an,{className:`relative ${d.name==="professional"?"border-primary shadow-lg shadow-primary/20 scale-105":""}`,children:[d.name==="professional"&&l.jsxs("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground px-4 py-1 rounded-full text-sm font-semibold flex items-center gap-2",children:[l.jsx(Q1,{className:"w-4 h-4"}),"Most Popular"]}),l.jsxs(Cr,{children:[l.jsx(Nr,{className:"text-2xl capitalize",children:d.name}),l.jsxs(Gr,{children:[l.jsx("span",{className:"text-4xl font-bold text-foreground",children:o(d)}),d.price_monthly>0&&l.jsx("span",{className:"text-muted-foreground",children:c()}),d.name==="team"&&l.jsx("div",{className:"text-sm mt-2",children:"per agent (5 minimum)"})]})]}),l.jsx(bn,{children:l.jsxs("ul",{className:"space-y-3",children:[d.limits.listings!==void 0&&l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(Ou,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),l.jsxs("span",{className:"text-sm",children:[d.limits.listings===-1?"Unlimited":d.limits.listings," active listings"]})]}),d.limits.links!==void 0&&l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(Ou,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),l.jsxs("span",{className:"text-sm",children:[d.limits.links===-1?"Unlimited":d.limits.links," custom links"]})]}),d.limits.testimonials!==void 0&&d.limits.testimonials>0&&l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(Ou,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),l.jsxs("span",{className:"text-sm",children:[d.limits.testimonials===-1?"Unlimited":d.limits.testimonials," testimonials"]})]}),d.limits.analytics_days&&l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(Ou,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),l.jsxs("span",{className:"text-sm",children:[d.limits.analytics_days===-1?"Unlimited":`${d.limits.analytics_days}-day`," analytics"]})]}),Object.entries(d.features).map(([f,h])=>h&&l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(Ou,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),l.jsx("span",{className:"text-sm capitalize",children:f.replace(/_/g," ")})]},f))]})}),l.jsx(J2,{children:l.jsx(Ve,{className:"w-full",variant:d.name==="professional"?"default":"outline",disabled:u(d.name)||d.name==="enterprise"||!d.stripe_price_id,onClick:()=>d.stripe_price_id&&a(d.stripe_price_id),asChild:d.name==="free",children:d.name==="free"?l.jsx(An,{to:"/register",children:"Get Started"}):u(d.name)?"Current Plan":d.name==="enterprise"?"Contact Sales":d.stripe_price_id?"Subscribe":"Coming Soon"})})]},d.id))}),l.jsxs("div",{className:"mt-16 text-center",children:[l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Add-Ons Available"}),l.jsxs("div",{className:"grid md:grid-cols-4 gap-4 max-w-4xl mx-auto",children:[l.jsxs(an,{className:"p-4",children:[l.jsx("p",{className:"font-semibold",children:"Premium Themes"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"$15 one-time"})]}),l.jsxs(an,{className:"p-4",children:[l.jsx("p",{className:"font-semibold",children:"MLS Integration"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"$25/month"})]}),l.jsxs(an,{className:"p-4",children:[l.jsx("p",{className:"font-semibold",children:"CRM Connectors"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"$20/month each"})]}),l.jsxs(an,{className:"p-4",children:[l.jsx("p",{className:"font-semibold",children:"SMS Notifications"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"$15/month"})]})]})]})]})}),l.jsx(pj,{})]})]})}function m3e({totalArticles:t,latestArticleDate:e}){const n="Plain Page Link",r=window.location.origin,i=`${r}/blog`,s="Real Estate Blog - Tips, Guides & Market Insights",a="Discover expert real estate advice, market insights, buying and selling guides, investment tips, and neighborhood information. Stay informed with our comprehensive blog for agents, buyers, and sellers.",o={"@context":"https://schema.org","@type":"Blog","@id":i,name:s,description:a,url:i,publisher:{"@type":"Organization",name:n,logo:{"@type":"ImageObject",url:`${r}/Cover.png`}},inLanguage:"en-US",...e&&{dateModified:e}},c={"@context":"https://schema.org","@type":"Organization",name:n,url:r,logo:{"@type":"ImageObject",url:`${r}/Cover.png`},sameAs:[]},u={"@context":"https://schema.org","@type":"WebSite","@id":r,name:n,url:r,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${i}?search={search_term_string}`},"query-input":"required name=search_term_string"}},d={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:r},{"@type":"ListItem",position:2,name:"Blog",item:i}]};return l.jsxs(z2,{children:[l.jsx("title",{children:s}),l.jsx("meta",{name:"description",content:a}),l.jsx("meta",{name:"keywords",content:"real estate blog, real estate tips, home buying guide, selling guide, market insights, investment tips, neighborhood guides, real estate agents, property advice"}),l.jsx("link",{rel:"canonical",href:i}),l.jsx("meta",{property:"og:type",content:"website"}),l.jsx("meta",{property:"og:url",content:i}),l.jsx("meta",{property:"og:title",content:s}),l.jsx("meta",{property:"og:description",content:a}),l.jsx("meta",{property:"og:image",content:`${r}/Cover.png`}),l.jsx("meta",{property:"og:image:width",content:"1200"}),l.jsx("meta",{property:"og:image:height",content:"630"}),l.jsx("meta",{property:"og:site_name",content:n}),l.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),l.jsx("meta",{name:"twitter:url",content:i}),l.jsx("meta",{name:"twitter:title",content:s}),l.jsx("meta",{name:"twitter:description",content:a}),l.jsx("meta",{name:"twitter:image",content:`${r}/Cover.png`}),l.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),l.jsx("meta",{name:"googlebot",content:"index, follow"}),l.jsx("meta",{name:"bingbot",content:"index, follow"}),l.jsx("meta",{property:"article:publisher",content:n}),l.jsx("meta",{property:"article:section",content:"Real Estate"}),l.jsx("meta",{name:"author",content:n}),l.jsx("meta",{name:"language",content:"English"}),l.jsx("meta",{httpEquiv:"content-language",content:"en-US"}),l.jsx("script",{type:"application/ld+json",children:JSON.stringify(o)}),l.jsx("script",{type:"application/ld+json",children:JSON.stringify(c)}),l.jsx("script",{type:"application/ld+json",children:JSON.stringify(u)}),l.jsx("script",{type:"application/ld+json",children:JSON.stringify(d)})]})}function g3e(){const[t,e]=j.useState(""),[n,r]=j.useState("all"),{data:i=[],isLoading:s}=Ir({queryKey:["published-articles"],queryFn:async()=>{const{data:u,error:d}=await Xe.from("articles").select("*").eq("status","published").order("published_at",{ascending:!1});if(d)throw d;return u}}),a=["all","Real Estate Tips","Market Insights","Buying Guide","Selling Guide","Investment","Neighborhood Guides","Home Improvement","General"],o=i.filter(u=>{var h;const d=!t||u.title.toLowerCase().includes(t.toLowerCase())||((h=u.excerpt)==null?void 0:h.toLowerCase().includes(t.toLowerCase())),f=n==="all"||u.category===n;return d&&f}),c=j.useMemo(()=>{var u;if(i.length!==0)return(u=i[0])==null?void 0:u.published_at},[i]);return l.jsxs(l.Fragment,{children:[l.jsx(m3e,{totalArticles:i.length,latestArticleDate:c}),l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(hj,{}),l.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-b",children:l.jsx("div",{className:"container mx-auto px-4 py-12",children:l.jsxs("div",{className:"max-w-3xl",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Real Estate Blog"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Expert tips, market insights, and comprehensive guides for homebuyers, sellers, and real estate professionals"})]})})}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ME,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ft,{placeholder:"Search articles...",value:t,onChange:u=>e(u.target.value),className:"pl-10"})]}),l.jsxs(Tn,{value:n,onValueChange:r,children:[l.jsx(wn,{className:"w-full sm:w-[200px]",children:l.jsx(Mn,{})}),l.jsx(_n,{children:a.map(u=>l.jsx(Ae,{value:u,children:u==="all"?"All Categories":u},u))})]})]}),s?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"Loading articles..."})}):o.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"No articles found"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(u=>{var d;return l.jsx(An,{to:`/blog/${u.slug}`,children:l.jsxs(an,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[u.featured_image_url&&l.jsx("img",{src:u.featured_image_url,alt:u.title,className:"w-full h-48 object-cover rounded-t-lg"}),l.jsxs(Cr,{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(rn,{variant:"secondary",children:u.category}),(d=u.tags)==null?void 0:d.slice(0,2).map(f=>l.jsx(rn,{variant:"outline",className:"text-xs",children:f},f))]}),l.jsx(Nr,{className:"line-clamp-2",children:u.title}),l.jsx(Gr,{className:"line-clamp-3",children:u.excerpt})]}),l.jsxs(J2,{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(to,{className:"h-4 w-4"}),new Date(u.published_at).toLocaleDateString()]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Za,{className:"h-4 w-4"}),u.view_count," views"]})]})]})},u.id)})})]}),l.jsx(pj,{})]})]})}var y3e="Separator",T9="horizontal",v3e=["horizontal","vertical"],Jie=j.forwardRef((t,e)=>{const{decorative:n,orientation:r=T9,...i}=t,s=x3e(r)?r:T9,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return l.jsx(Sn.div,{"data-orientation":s,...o,...i,ref:e})});Jie.displayName=y3e;function x3e(t){return v3e.includes(t)}var ese=Jie;const tse=j.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>l.jsx(ese,{ref:i,decorative:n,orientation:e,className:at("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));tse.displayName=ese.displayName;function b3e({title:t,description:e,url:n,imageUrl:r,publishedTime:i,modifiedTime:s,author:a="Real Estate Expert",tags:o=[],category:c="Real Estate",wordCount:u,readingTime:d}){const f="Plain Page Link",h=window.location.origin,p=`${h}${n}`,g=r||`${h}/Cover.png`,v={"@context":"https://schema.org","@type":"BlogPosting",headline:t,description:e,image:{"@type":"ImageObject",url:g,width:1200,height:630},datePublished:i,dateModified:s||i,author:{"@type":"Person",name:a,url:h},publisher:{"@type":"Organization",name:f,logo:{"@type":"ImageObject",url:`${h}/Cover.png`},url:h},mainEntityOfPage:{"@type":"WebPage","@id":p},articleSection:c,keywords:o.join(", "),...u&&{wordCount:u},inLanguage:"en-US",isAccessibleForFree:!0,backstory:e},w={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:h},{"@type":"ListItem",position:2,name:"Blog",item:`${h}/blog`},{"@type":"ListItem",position:3,name:t,item:p}]},x={"@context":"https://schema.org","@type":"WebPage","@id":p,url:p,name:t,description:e,isPartOf:{"@type":"WebSite","@id":h,name:f,url:h},primaryImageOfPage:{"@type":"ImageObject",url:g},inLanguage:"en-US",potentialAction:{"@type":"ReadAction",target:[p]}};return l.jsxs(z2,{children:[l.jsxs("title",{children:[t," | ",f]}),l.jsx("meta",{name:"description",content:e}),l.jsx("meta",{name:"keywords",content:o.join(", ")}),l.jsx("link",{rel:"canonical",href:p}),l.jsx("meta",{property:"og:type",content:"article"}),l.jsx("meta",{property:"og:url",content:p}),l.jsx("meta",{property:"og:title",content:t}),l.jsx("meta",{property:"og:description",content:e}),l.jsx("meta",{property:"og:image",content:g}),l.jsx("meta",{property:"og:image:width",content:"1200"}),l.jsx("meta",{property:"og:image:height",content:"630"}),l.jsx("meta",{property:"og:site_name",content:f}),i&&l.jsx("meta",{property:"article:published_time",content:i}),s&&l.jsx("meta",{property:"article:modified_time",content:s}),c&&l.jsx("meta",{property:"article:section",content:c}),o.map(_=>l.jsx("meta",{property:"article:tag",content:_},_)),l.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),l.jsx("meta",{name:"twitter:url",content:p}),l.jsx("meta",{name:"twitter:title",content:t}),l.jsx("meta",{name:"twitter:description",content:e}),l.jsx("meta",{name:"twitter:image",content:g}),l.jsx("meta",{name:"twitter:creator",content:a}),l.jsx("meta",{name:"twitter:label1",content:"Reading time"}),d&&l.jsx("meta",{name:"twitter:data1",content:d}),l.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),l.jsx("meta",{name:"googlebot",content:"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"}),l.jsx("meta",{name:"bingbot",content:"index, follow"}),l.jsx("meta",{name:"googlebot-news",content:"snippet"}),l.jsx("meta",{property:"article:author",content:a}),l.jsx("meta",{name:"author",content:a}),l.jsx("meta",{name:"article:content_tier",content:"free"}),l.jsx("meta",{name:"language",content:"English"}),l.jsx("meta",{httpEquiv:"content-language",content:"en-US"}),l.jsx("meta",{name:"citation_title",content:t}),l.jsx("meta",{name:"citation_author",content:a}),i&&l.jsx("meta",{name:"citation_publication_date",content:i}),l.jsx("meta",{name:"citation_language",content:"en"}),l.jsx("meta",{property:"og:locale",content:"en_US"}),l.jsx("meta",{property:"og:site_name",content:f}),l.jsx("script",{type:"application/ld+json",children:JSON.stringify(v)}),l.jsx("script",{type:"application/ld+json",children:JSON.stringify(w)}),l.jsx("script",{type:"application/ld+json",children:JSON.stringify(x)})]})}function w3e({currentArticleId:t,category:e,tags:n=[],limit:r=3}){const{data:i=[]}=Ir({queryKey:["similar-articles",t,e],queryFn:async()=>{let s=Xe.from("articles").select("*").eq("status","published").neq("id",t);n.length>0?s=s.overlaps("tags",n):s=s.eq("category",e);const{data:a,error:o}=await s.limit(r).order("published_at",{ascending:!1});if(o)throw o;if(!a||a.length<r){const{data:c,error:u}=await Xe.from("articles").select("*").eq("status","published").eq("category",e).neq("id",t).limit(r-((a==null?void 0:a.length)||0)).order("published_at",{ascending:!1});if(u)throw u;const d=[...a||[],...c||[]];return Array.from(new Map(d.map(h=>[h.id,h])).values()).slice(0,r)}return a}});return i.length===0?null:l.jsxs("div",{className:"mt-12 pt-8 border-t",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Similar Articles"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map(s=>l.jsx(An,{to:`/blog/${s.slug}`,children:l.jsxs(an,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[s.featured_image_url&&l.jsx("img",{src:s.featured_image_url,alt:s.title,className:"w-full h-32 object-cover rounded-t-lg"}),l.jsxs(Cr,{children:[l.jsx(rn,{variant:"secondary",className:"w-fit mb-2",children:s.category}),l.jsx(Nr,{className:"text-lg line-clamp-2",children:s.title}),l.jsx(Gr,{className:"line-clamp-2",children:s.excerpt})]}),l.jsx(bn,{children:l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(to,{className:"h-3 w-3"}),new Date(s.published_at).toLocaleDateString()]})})]})},s.id))})]})}function _3e({items:t}){return l.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",itemScope:!0,itemType:"https://schema.org/BreadcrumbList",children:[l.jsxs(An,{to:"/",className:"flex items-center gap-1 hover:text-foreground transition-colors",itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/ListItem",children:[l.jsx(gi,{className:"h-4 w-4"}),l.jsx("span",{itemProp:"name",children:"Home"}),l.jsx("meta",{itemProp:"position",content:"1"}),l.jsx("link",{itemProp:"item",href:window.location.origin})]}),t.map((e,n)=>{const r=n+2,i=n===t.length-1;return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(w0,{className:"h-4 w-4"}),e.href&&!i?l.jsxs(An,{to:e.href,className:"hover:text-foreground transition-colors",itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/ListItem",children:[l.jsx("span",{itemProp:"name",children:e.label}),l.jsx("meta",{itemProp:"position",content:r.toString()}),l.jsx("link",{itemProp:"item",href:`${window.location.origin}${e.href}`})]}):l.jsxs("span",{className:i?"font-medium text-foreground":"",itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/ListItem",children:[l.jsx("span",{itemProp:"name",children:e.label}),l.jsx("meta",{itemProp:"position",content:r.toString()}),e.href&&l.jsx("link",{itemProp:"item",href:`${window.location.origin}${e.href}`})]})]},n)})]})}function S3e(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const E3e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,A3e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,T3e={};function M9(t,e){return(T3e.jsx?A3e:E3e).test(t)}const M3e=/[ \t\n\f\r]/g;function C3e(t){return typeof t=="object"?t.type==="text"?C9(t.value):!1:C9(t)}function C9(t){return t.replace(M3e,"")===""}class GE{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}GE.prototype.normal={};GE.prototype.property={};GE.prototype.space=void 0;function nse(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new GE(n,r,e)}function X3(t){return t.toLowerCase()}class ko{constructor(e,n){this.attribute=n,this.property=e}}ko.prototype.attribute="";ko.prototype.booleanish=!1;ko.prototype.boolean=!1;ko.prototype.commaOrSpaceSeparated=!1;ko.prototype.commaSeparated=!1;ko.prototype.defined=!1;ko.prototype.mustUseProperty=!1;ko.prototype.number=!1;ko.prototype.overloadedBoolean=!1;ko.prototype.property="";ko.prototype.spaceSeparated=!1;ko.prototype.space=void 0;let N3e=0;const Vn=Ty(),rs=Ty(),K3=Ty(),ft=Ty(),ei=Ty(),Gx=Ty(),Zo=Ty();function Ty(){return 2**++N3e}const Y3=Object.freeze(Object.defineProperty({__proto__:null,boolean:Vn,booleanish:rs,commaOrSpaceSeparated:Zo,commaSeparated:Gx,number:ft,overloadedBoolean:K3,spaceSeparated:ei},Symbol.toStringTag,{value:"Module"})),FI=Object.keys(Y3);class S5 extends ko{constructor(e,n,r,i){let s=-1;if(super(e,n),N9(this,"space",i),typeof r=="number")for(;++s<FI.length;){const a=FI[s];N9(this,FI[s],(r&Y3[a])===Y3[a])}}}S5.prototype.defined=!0;function N9(t,e,n){n&&(t[e]=n)}function Pb(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new S5(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[X3(r)]=r,n[X3(s.attribute)]=r}return new GE(e,n,t.space)}const rse=Pb({properties:{ariaActiveDescendant:null,ariaAtomic:rs,ariaAutoComplete:null,ariaBusy:rs,ariaChecked:rs,ariaColCount:ft,ariaColIndex:ft,ariaColSpan:ft,ariaControls:ei,ariaCurrent:null,ariaDescribedBy:ei,ariaDetails:null,ariaDisabled:rs,ariaDropEffect:ei,ariaErrorMessage:null,ariaExpanded:rs,ariaFlowTo:ei,ariaGrabbed:rs,ariaHasPopup:null,ariaHidden:rs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ei,ariaLevel:ft,ariaLive:null,ariaModal:rs,ariaMultiLine:rs,ariaMultiSelectable:rs,ariaOrientation:null,ariaOwns:ei,ariaPlaceholder:null,ariaPosInSet:ft,ariaPressed:rs,ariaReadOnly:rs,ariaRelevant:null,ariaRequired:rs,ariaRoleDescription:ei,ariaRowCount:ft,ariaRowIndex:ft,ariaRowSpan:ft,ariaSelected:rs,ariaSetSize:ft,ariaSort:null,ariaValueMax:ft,ariaValueMin:ft,ariaValueNow:ft,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function ise(t,e){return e in t?t[e]:e}function sse(t,e){return ise(t,e.toLowerCase())}const P3e=Pb({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Gx,acceptCharset:ei,accessKey:ei,action:null,allow:null,allowFullScreen:Vn,allowPaymentRequest:Vn,allowUserMedia:Vn,alt:null,as:null,async:Vn,autoCapitalize:null,autoComplete:ei,autoFocus:Vn,autoPlay:Vn,blocking:ei,capture:null,charSet:null,checked:Vn,cite:null,className:ei,cols:ft,colSpan:null,content:null,contentEditable:rs,controls:Vn,controlsList:ei,coords:ft|Gx,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Vn,defer:Vn,dir:null,dirName:null,disabled:Vn,download:K3,draggable:rs,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Vn,formTarget:null,headers:ei,height:ft,hidden:K3,high:ft,href:null,hrefLang:null,htmlFor:ei,httpEquiv:ei,id:null,imageSizes:null,imageSrcSet:null,inert:Vn,inputMode:null,integrity:null,is:null,isMap:Vn,itemId:null,itemProp:ei,itemRef:ei,itemScope:Vn,itemType:ei,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Vn,low:ft,manifest:null,max:null,maxLength:ft,media:null,method:null,min:null,minLength:ft,multiple:Vn,muted:Vn,name:null,nonce:null,noModule:Vn,noValidate:Vn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Vn,optimum:ft,pattern:null,ping:ei,placeholder:null,playsInline:Vn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Vn,referrerPolicy:null,rel:ei,required:Vn,reversed:Vn,rows:ft,rowSpan:ft,sandbox:ei,scope:null,scoped:Vn,seamless:Vn,selected:Vn,shadowRootClonable:Vn,shadowRootDelegatesFocus:Vn,shadowRootMode:null,shape:null,size:ft,sizes:null,slot:null,span:ft,spellCheck:rs,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ft,step:null,style:null,tabIndex:ft,target:null,title:null,translate:null,type:null,typeMustMatch:Vn,useMap:null,value:rs,width:ft,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ei,axis:null,background:null,bgColor:null,border:ft,borderColor:null,bottomMargin:ft,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Vn,declare:Vn,event:null,face:null,frame:null,frameBorder:null,hSpace:ft,leftMargin:ft,link:null,longDesc:null,lowSrc:null,marginHeight:ft,marginWidth:ft,noResize:Vn,noHref:Vn,noShade:Vn,noWrap:Vn,object:null,profile:null,prompt:null,rev:null,rightMargin:ft,rules:null,scheme:null,scrolling:rs,standby:null,summary:null,text:null,topMargin:ft,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ft,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Vn,disableRemotePlayback:Vn,prefix:null,property:null,results:ft,security:null,unselectable:null},space:"html",transform:sse}),j3e=Pb({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Zo,accentHeight:ft,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ft,amplitude:ft,arabicForm:null,ascent:ft,attributeName:null,attributeType:null,azimuth:ft,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ft,by:null,calcMode:null,capHeight:ft,className:ei,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ft,diffuseConstant:ft,direction:null,display:null,dur:null,divisor:ft,dominantBaseline:null,download:Vn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ft,enableBackground:null,end:null,event:null,exponent:ft,externalResourcesRequired:null,fill:null,fillOpacity:ft,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Gx,g2:Gx,glyphName:Gx,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ft,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ft,horizOriginX:ft,horizOriginY:ft,id:null,ideographic:ft,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ft,k:ft,k1:ft,k2:ft,k3:ft,k4:ft,kernelMatrix:Zo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ft,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ft,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ft,overlineThickness:ft,paintOrder:null,panose1:null,path:null,pathLength:ft,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ei,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ft,pointsAtY:ft,pointsAtZ:ft,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zo,rev:Zo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zo,requiredFeatures:Zo,requiredFonts:Zo,requiredFormats:Zo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ft,specularExponent:ft,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ft,strikethroughThickness:ft,string:null,stroke:null,strokeDashArray:Zo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ft,strokeOpacity:ft,strokeWidth:null,style:null,surfaceScale:ft,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zo,tabIndex:ft,tableValues:null,target:null,targetX:ft,targetY:ft,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ft,underlineThickness:ft,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ft,values:null,vAlphabetic:ft,vMathematical:ft,vectorEffect:null,vHanging:ft,vIdeographic:ft,version:null,vertAdvY:ft,vertOriginX:ft,vertOriginY:ft,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ft,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ise}),ase=Pb({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),ose=Pb({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:sse}),lse=Pb({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),k3e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},O3e=/[A-Z]/g,P9=/-[a-z]/g,R3e=/^data[-\w.:]+$/i;function I3e(t,e){const n=X3(e);let r=e,i=ko;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&R3e.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(P9,D3e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!P9.test(s)){let a=s.replace(O3e,L3e);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=S5}return new i(r,e)}function L3e(t){return"-"+t.toLowerCase()}function D3e(t){return t.charAt(1).toUpperCase()}const F3e=nse([rse,P3e,ase,ose,lse],"html"),E5=nse([rse,j3e,ase,ose,lse],"svg");function U3e(t){return t.join(" ").trim()}var A5={},j9=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,B3e=/\n/g,z3e=/^\s*/,$3e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,V3e=/^:\s*/,H3e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,W3e=/^[;\s]*/,G3e=/^\s+|\s+$/g,q3e=`
`,k9="/",O9="*",tg="",X3e="comment",K3e="declaration",Y3e=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(g){var v=g.match(B3e);v&&(n+=v.length);var w=g.lastIndexOf(q3e);r=~w?g.length-w:r+g.length}function s(){var g={line:n,column:r};return function(v){return v.position=new a(g),u(),v}}function a(g){this.start=g,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function o(g){var v=new Error(e.source+":"+n+":"+r+": "+g);if(v.reason=g,v.filename=e.source,v.line=n,v.column=r,v.source=t,!e.silent)throw v}function c(g){var v=g.exec(t);if(v){var w=v[0];return i(w),t=t.slice(w.length),v}}function u(){c(z3e)}function d(g){var v;for(g=g||[];v=f();)v!==!1&&g.push(v);return g}function f(){var g=s();if(!(k9!=t.charAt(0)||O9!=t.charAt(1))){for(var v=2;tg!=t.charAt(v)&&(O9!=t.charAt(v)||k9!=t.charAt(v+1));)++v;if(v+=2,tg===t.charAt(v-1))return o("End of comment missing");var w=t.slice(2,v-2);return r+=2,i(w),t=t.slice(v),r+=2,g({type:X3e,comment:w})}}function h(){var g=s(),v=c($3e);if(v){if(f(),!c(V3e))return o("property missing ':'");var w=c(H3e),x=g({type:K3e,property:R9(v[0].replace(j9,tg)),value:w?R9(w[0].replace(j9,tg)):tg});return c(W3e),x}}function p(){var g=[];d(g);for(var v;v=h();)v!==!1&&(g.push(v),d(g));return g}return u(),p()};function R9(t){return t?t.replace(G3e,tg):tg}var Z3e=rl&&rl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(A5,"__esModule",{value:!0});A5.default=J3e;const Q3e=Z3e(Y3e);function J3e(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,Q3e.default)(t),i=typeof e=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:a,value:o}=s;i?e(a,o,s):o&&(n=n||{},n[a]=o)}),n}var Qj={};Object.defineProperty(Qj,"__esModule",{value:!0});Qj.camelCase=void 0;var e4e=/^--[a-zA-Z0-9_-]+$/,t4e=/-([a-z])/g,n4e=/^[^-]+$/,r4e=/^-(webkit|moz|ms|o|khtml)-/,i4e=/^-(ms)-/,s4e=function(t){return!t||n4e.test(t)||e4e.test(t)},a4e=function(t,e){return e.toUpperCase()},I9=function(t,e){return"".concat(e,"-")},o4e=function(t,e){return e===void 0&&(e={}),s4e(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(i4e,I9):t=t.replace(r4e,I9),t.replace(t4e,a4e))};Qj.camelCase=o4e;var l4e=rl&&rl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},c4e=l4e(A5),u4e=Qj;function Z3(t,e){var n={};return!t||typeof t!="string"||(0,c4e.default)(t,function(r,i){r&&i&&(n[(0,u4e.camelCase)(r,e)]=i)}),n}Z3.default=Z3;var d4e=Z3;const f4e=cr(d4e),cse=use("end"),T5=use("start");function use(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function h4e(t){const e=T5(t),n=cse(t);if(e&&n)return{start:e,end:n}}function y1(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?L9(t.position):"start"in t||"end"in t?L9(t):"line"in t||"column"in t?Q3(t):""}function Q3(t){return D9(t&&t.line)+":"+D9(t&&t.column)}function L9(t){return Q3(t&&t.start)+"-"+Q3(t&&t.end)}function D9(t){return t&&typeof t=="number"?t:1}class Ma extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=y1(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ma.prototype.file="";Ma.prototype.name="";Ma.prototype.reason="";Ma.prototype.message="";Ma.prototype.stack="";Ma.prototype.column=void 0;Ma.prototype.line=void 0;Ma.prototype.ancestors=void 0;Ma.prototype.cause=void 0;Ma.prototype.fatal=void 0;Ma.prototype.place=void 0;Ma.prototype.ruleId=void 0;Ma.prototype.source=void 0;const M5={}.hasOwnProperty,p4e=new Map,m4e=/[A-Z]/g,g4e=new Set(["table","tbody","thead","tfoot","tr"]),y4e=new Set(["td","th"]),dse="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function v4e(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=T4e(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=A4e(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?E5:F3e,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=fse(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function fse(t,e,n){if(e.type==="element")return x4e(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return b4e(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return _4e(t,e,n);if(e.type==="mdxjsEsm")return w4e(t,e);if(e.type==="root")return S4e(t,e,n);if(e.type==="text")return E4e(t,e)}function x4e(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=E5,t.schema=i),t.ancestors.push(e);const s=pse(t,e.tagName,!1),a=M4e(t,e);let o=N5(t,e);return g4e.has(e.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!C3e(c):!0})),hse(t,a,s,e),C5(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function b4e(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}CS(t,e.position)}function w4e(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);CS(t,e.position)}function _4e(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=E5,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:pse(t,e.name,!0),a=C4e(t,e),o=N5(t,e);return hse(t,a,s,e),C5(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function S4e(t,e,n){const r={};return C5(r,N5(t,e)),t.create(e,t.Fragment,r,n)}function E4e(t,e){return e.value}function hse(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function C5(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function A4e(t,e,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:e;return o?u(s,a,o):u(s,a)}}function T4e(t,e){return n;function n(r,i,s,a){const o=Array.isArray(s.children),c=T5(r);return e(i,s,a,o,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function M4e(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&M5.call(e.properties,i)){const s=N4e(t,i,e.properties[i]);if(s){const[a,o]=s;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&y4e.has(e.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function C4e(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else CS(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else CS(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function N5(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:p4e;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const o=fse(t,s,a);o!==void 0&&n.push(o)}return n}function N4e(t,e,n){const r=I3e(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?S3e(n):U3e(n)),r.property==="style"){let i=typeof n=="object"?n:P4e(t,String(n));return t.stylePropertyNameCase==="css"&&(i=j4e(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?k3e[r.property]||r.property:r.attribute,n]}}function P4e(t,e){try{return f4e(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Ma("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=dse+"#cannot-parse-style-attribute",i}}function pse(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=M9(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=M9(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return M5.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);CS(t)}function CS(t,e){const n=new Ma("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=dse+"#cannot-handle-mdx-estrees-without-createevaluater",n}function j4e(t){const e={};let n;for(n in t)M5.call(t,n)&&(e[k4e(n)]=t[n]);return e}function k4e(t){let e=t.replace(m4e,O4e);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function O4e(t){return"-"+t.toLowerCase()}const UI={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},R4e={};function I4e(t,e){const n=R4e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return mse(t,r,i)}function mse(t,e,n){if(L4e(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return F9(t.children,e,n)}return Array.isArray(t)?F9(t,e,n):""}function F9(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=mse(t[i],e,n);return r.join("")}function L4e(t){return!!(t&&typeof t=="object")}const U9=document.createElement("i");function P5(t){const e="&"+t+";";U9.innerHTML=e;const n=U9.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ed(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Kl(t,e){return t.length>0?(ed(t,t.length,0,e),t):e}const B9={}.hasOwnProperty;function D4e(t){const e={};let n=-1;for(;++n<t.length;)F4e(e,t[n]);return e}function F4e(t,e){let n;for(n in e){const i=(B9.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){B9.call(i,a)||(i[a]=[]);const o=s[a];U4e(i[a],Array.isArray(o)?o:o?[o]:[])}}}function U4e(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ed(t,0,0,r)}function gse(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function qx(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Lu=Lp(/[A-Za-z]/),cl=Lp(/[\dA-Za-z]/),B4e=Lp(/[#-'*+\--9=?A-Z^-~]/);function J3(t){return t!==null&&(t<32||t===127)}const e4=Lp(/\d/),z4e=Lp(/[\dA-Fa-f]/),$4e=Lp(/[!-/:-@[-`{-~]/);function vn(t){return t!==null&&t<-2}function Co(t){return t!==null&&(t<0||t===32)}function Sr(t){return t===-2||t===-1||t===32}const V4e=Lp(new RegExp("\\p{P}|\\p{S}","u")),H4e=Lp(/\s/);function Lp(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function jb(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&cl(t.charCodeAt(n+1))&&cl(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function ii(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return Sr(c)?(t.enter(n),o(c)):e(c)}function o(c){return Sr(c)&&s++<i?(t.consume(c),o):(t.exit(n),e(c))}}const W4e={tokenize:G4e};function G4e(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),ii(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return vn(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const q4e={tokenize:X4e},z9={tokenize:K4e};function X4e(t){const e=this,n=[];let r=0,i,s,a;return o;function o(S){if(r<n.length){const A=n[r];return e.containerState=A[1],t.attempt(A[0].continuation,c,u)(S)}return u(S)}function c(S){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const A=e.events.length;let C=A,T;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){T=e.events[C][1].end;break}x(r);let N=A;for(;N<e.events.length;)e.events[N][1].end={...T},N++;return ed(e.events,C+1,0,e.events.slice(A)),e.events.length=N,u(S)}return o(S)}function u(S){if(r===n.length){if(!i)return h(S);if(i.currentConstruct&&i.currentConstruct.concrete)return g(S);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(z9,d,f)(S)}function d(S){return i&&_(),x(r),h(S)}function f(S){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,g(S)}function h(S){return e.containerState={},t.attempt(z9,p,g)(S)}function p(S){return r++,n.push([e.currentConstruct,e.containerState]),h(S)}function g(S){if(S===null){i&&_(),x(0),t.consume(S);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),v(S)}function v(S){if(S===null){w(t.exit("chunkFlow"),!0),x(0),t.consume(S);return}return vn(S)?(t.consume(S),w(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(S),v)}function w(S,A){const C=e.sliceStream(S);if(A&&C.push(null),S.previous=s,s&&(s.next=S),s=S,i.defineSkip(S.start),i.write(C),e.parser.lazy[S.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<a&&(!i.events[T][1].end||i.events[T][1].end.offset>a))return;const N=e.events.length;let O=N,U,R;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){if(U){R=e.events[O][1].end;break}U=!0}for(x(r),T=N;T<e.events.length;)e.events[T][1].end={...R},T++;ed(e.events,O+1,0,e.events.slice(N)),e.events.length=T}}function x(S){let A=n.length;for(;A-- >S;){const C=n[A];e.containerState=C[1],C[0].exit.call(e,t)}n.length=S}function _(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function K4e(t,e,n){return ii(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function $9(t){if(t===null||Co(t)||H4e(t))return 1;if(V4e(t))return 2}function j5(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const t4={name:"attention",resolveAll:Y4e,tokenize:Z4e};function Y4e(t,e){let n=-1,r,i,s,a,o,c,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},h={...t[n][1].start};V9(f,-c),V9(h,c),a={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},s={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},t[r][1].end={...a.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Kl(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Kl(u,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),u=Kl(u,j5(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Kl(u,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=Kl(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,ed(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Z4e(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=$9(r);let s;return a;function a(c){return s=c,t.enter("attentionSequence"),o(c)}function o(c){if(c===s)return t.consume(c),o;const u=t.exit("attentionSequence"),d=$9(c),f=!d||d===2&&i||n.includes(c),h=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(i||!h)),u._close=!!(s===42?h:h&&(d||!f)),e(c)}}function V9(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Q4e={name:"autolink",tokenize:J4e};function J4e(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return Lu(p)?(t.consume(p),a):p===64?n(p):u(p)}function a(p){return p===43||p===45||p===46||cl(p)?(r=1,o(p)):u(p)}function o(p){return p===58?(t.consume(p),r=0,c):(p===43||p===45||p===46||cl(p))&&r++<32?(t.consume(p),o):(r=0,u(p))}function c(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||J3(p)?n(p):(t.consume(p),c)}function u(p){return p===64?(t.consume(p),d):B4e(p)?(t.consume(p),u):n(p)}function d(p){return cl(p)?f(p):n(p)}function f(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||cl(p))&&r++<63){const g=p===45?h:f;return t.consume(p),g}return n(p)}}const Jj={partial:!0,tokenize:eFe};function eFe(t,e,n){return r;function r(s){return Sr(s)?ii(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||vn(s)?e(s):n(s)}}const yse={continuation:{tokenize:nFe},exit:rFe,name:"blockQuote",tokenize:tFe};function tFe(t,e,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Sr(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function nFe(t,e,n){const r=this;return i;function i(a){return Sr(a)?ii(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(yse,e,n)(a)}}function rFe(t){t.exit("blockQuote")}const vse={name:"characterEscape",tokenize:iFe};function iFe(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return $4e(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const xse={name:"characterReference",tokenize:sFe};function sFe(t,e,n){const r=this;let i=0,s,a;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),c}function c(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,a=cl,d(f))}function u(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=z4e,d):(t.enter("characterReferenceValue"),s=7,a=e4,d(f))}function d(f){if(f===59&&i){const h=t.exit("characterReferenceValue");return a===cl&&!P5(r.sliceSerialize(h))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(f)&&i++<s?(t.consume(f),d):n(f)}}const H9={partial:!0,tokenize:oFe},W9={concrete:!0,name:"codeFenced",tokenize:aFe};function aFe(t,e,n){const r=this,i={partial:!0,tokenize:C};let s=0,a=0,o;return c;function c(T){return u(T)}function u(T){const N=r.events[r.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,o=T,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(T)}function d(T){return T===o?(a++,t.consume(T),d):a<3?n(T):(t.exit("codeFencedFenceSequence"),Sr(T)?ii(t,f,"whitespace")(T):f(T))}function f(T){return T===null||vn(T)?(t.exit("codeFencedFence"),r.interrupt?e(T):t.check(H9,v,A)(T)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(T))}function h(T){return T===null||vn(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(T)):Sr(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ii(t,p,"whitespace")(T)):T===96&&T===o?n(T):(t.consume(T),h)}function p(T){return T===null||vn(T)?f(T):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(T))}function g(T){return T===null||vn(T)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(T)):T===96&&T===o?n(T):(t.consume(T),g)}function v(T){return t.attempt(i,A,w)(T)}function w(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),x}function x(T){return s>0&&Sr(T)?ii(t,_,"linePrefix",s+1)(T):_(T)}function _(T){return T===null||vn(T)?t.check(H9,v,A)(T):(t.enter("codeFlowValue"),S(T))}function S(T){return T===null||vn(T)?(t.exit("codeFlowValue"),_(T)):(t.consume(T),S)}function A(T){return t.exit("codeFenced"),e(T)}function C(T,N,O){let U=0;return R;function R(Q){return T.enter("lineEnding"),T.consume(Q),T.exit("lineEnding"),I}function I(Q){return T.enter("codeFencedFence"),Sr(Q)?ii(T,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):B(Q)}function B(Q){return Q===o?(T.enter("codeFencedFenceSequence"),G(Q)):O(Q)}function G(Q){return Q===o?(U++,T.consume(Q),G):U>=a?(T.exit("codeFencedFenceSequence"),Sr(Q)?ii(T,K,"whitespace")(Q):K(Q)):O(Q)}function K(Q){return Q===null||vn(Q)?(T.exit("codeFencedFence"),N(Q)):O(Q)}}}function oFe(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const BI={name:"codeIndented",tokenize:cFe},lFe={partial:!0,tokenize:uFe};function cFe(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),ii(t,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):vn(u)?t.attempt(lFe,a,c)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||vn(u)?(t.exit("codeFlowValue"),a(u)):(t.consume(u),o)}function c(u){return t.exit("codeIndented"),e(u)}}function uFe(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):vn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):ii(t,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):vn(a)?i(a):n(a)}}const dFe={name:"codeText",previous:hFe,resolve:fFe,tokenize:pFe};function fFe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function hFe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function pFe(t,e,n){let r=0,i,s;return a;function a(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),c):f===96?(s=t.enter("codeTextSequence"),i=0,d(f)):vn(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),c):(t.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||vn(f)?(t.exit("codeTextData"),c(f)):(t.consume(f),u)}function d(f){return f===96?(t.consume(f),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",u(f))}}class mFe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&v_(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),v_(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),v_(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);v_(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);v_(this.left,n.reverse())}}}function v_(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function bse(t){const e={};let n=-1,r,i,s,a,o,c,u;const d=new mFe(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,gFe(d,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return ed(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function gFe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],u={};let d,f,h=-1,p=n,g=0,v=0;const w=[v];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(v=h+1,w.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),h=w.length;h--;){const x=o.slice(w[h],w[h+1]),_=s.pop();c.push([_,_+x.length-1]),t.splice(_,2,x)}for(c.reverse(),h=-1;++h<c.length;)u[g+c[h][0]]=g+c[h][1],g+=c[h][1]-c[h][0]-1;return u}const yFe={resolve:xFe,tokenize:bFe},vFe={partial:!0,tokenize:wFe};function xFe(t){return bse(t),t}function bFe(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):vn(o)?t.check(vFe,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function wFe(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),ii(t,s,"linePrefix")}function s(a){if(a===null||vn(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function wse(t,e,n,r,i,s,a,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(x),t.exit(s),h):x===null||x===32||x===41||J3(x)?n(x):(t.enter(r),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),v(x))}function h(x){return x===62?(t.enter(s),t.consume(x),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===62?(t.exit("chunkString"),t.exit(o),h(x)):x===null||x===60||vn(x)?n(x):(t.consume(x),x===92?g:p)}function g(x){return x===60||x===62||x===92?(t.consume(x),p):p(x)}function v(x){return!d&&(x===null||x===41||Co(x))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(r),e(x)):d<u&&x===40?(t.consume(x),d++,v):x===41?(t.consume(x),d--,v):x===null||x===32||x===40||J3(x)?n(x):(t.consume(x),x===92?w:v)}function w(x){return x===40||x===41||x===92?(t.consume(x),v):v(x)}}function _se(t,e,n,r,i,s){const a=this;let o=0,c;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!c||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):vn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||vn(p)||o++>999?(t.exit("chunkString"),d(p)):(t.consume(p),c||(c=!Sr(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(t.consume(p),o++,f):f(p)}}function Sse(t,e,n,r,i,s){let a;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),a=h===40?41:h,c):n(h)}function c(h){return h===a?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(s),u(h))}function u(h){return h===a?(t.exit(s),c(a)):h===null?n(h):vn(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),ii(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||vn(h)?(t.exit("chunkString"),u(h)):(t.consume(h),h===92?f:d)}function f(h){return h===a||h===92?(t.consume(h),d):d(h)}}function v1(t,e){let n;return r;function r(i){return vn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Sr(i)?ii(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const _Fe={name:"definition",tokenize:EFe},SFe={partial:!0,tokenize:AFe};function EFe(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),a(p)}function a(p){return _se.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=qx(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),c):n(p)}function c(p){return Co(p)?v1(t,u)(p):u(p)}function u(p){return wse(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(SFe,f,f)(p)}function f(p){return Sr(p)?ii(t,h,"whitespace")(p):h(p)}function h(p){return p===null||vn(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function AFe(t,e,n){return r;function r(o){return Co(o)?v1(t,i)(o):n(o)}function i(o){return Sse(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Sr(o)?ii(t,a,"whitespace")(o):a(o)}function a(o){return o===null||vn(o)?e(o):n(o)}}const TFe={name:"hardBreakEscape",tokenize:MFe};function MFe(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return vn(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const CFe={name:"headingAtx",resolve:NFe,tokenize:PFe};function NFe(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ed(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function PFe(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(t.consume(d),a):d===null||Co(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),c(d)):d===null||vn(d)?(t.exit("atxHeading"),e(d)):Sr(d)?ii(t,o,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function c(d){return d===35?(t.consume(d),c):(t.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Co(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),u)}}const jFe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],G9=["pre","script","style","textarea"],kFe={concrete:!0,name:"htmlFlow",resolveTo:IFe,tokenize:LFe},OFe={partial:!0,tokenize:FFe},RFe={partial:!0,tokenize:DFe};function IFe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function LFe(t,e,n){const r=this;let i,s,a,o,c;return u;function u(Y){return d(Y)}function d(Y){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(Y),f}function f(Y){return Y===33?(t.consume(Y),h):Y===47?(t.consume(Y),s=!0,v):Y===63?(t.consume(Y),i=3,r.interrupt?e:z):Lu(Y)?(t.consume(Y),a=String.fromCharCode(Y),w):n(Y)}function h(Y){return Y===45?(t.consume(Y),i=2,p):Y===91?(t.consume(Y),i=5,o=0,g):Lu(Y)?(t.consume(Y),i=4,r.interrupt?e:z):n(Y)}function p(Y){return Y===45?(t.consume(Y),r.interrupt?e:z):n(Y)}function g(Y){const he="CDATA[";return Y===he.charCodeAt(o++)?(t.consume(Y),o===he.length?r.interrupt?e:B:g):n(Y)}function v(Y){return Lu(Y)?(t.consume(Y),a=String.fromCharCode(Y),w):n(Y)}function w(Y){if(Y===null||Y===47||Y===62||Co(Y)){const he=Y===47,Ce=a.toLowerCase();return!he&&!s&&G9.includes(Ce)?(i=1,r.interrupt?e(Y):B(Y)):jFe.includes(a.toLowerCase())?(i=6,he?(t.consume(Y),x):r.interrupt?e(Y):B(Y)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(Y):s?_(Y):S(Y))}return Y===45||cl(Y)?(t.consume(Y),a+=String.fromCharCode(Y),w):n(Y)}function x(Y){return Y===62?(t.consume(Y),r.interrupt?e:B):n(Y)}function _(Y){return Sr(Y)?(t.consume(Y),_):R(Y)}function S(Y){return Y===47?(t.consume(Y),R):Y===58||Y===95||Lu(Y)?(t.consume(Y),A):Sr(Y)?(t.consume(Y),S):R(Y)}function A(Y){return Y===45||Y===46||Y===58||Y===95||cl(Y)?(t.consume(Y),A):C(Y)}function C(Y){return Y===61?(t.consume(Y),T):Sr(Y)?(t.consume(Y),C):S(Y)}function T(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?n(Y):Y===34||Y===39?(t.consume(Y),c=Y,N):Sr(Y)?(t.consume(Y),T):O(Y)}function N(Y){return Y===c?(t.consume(Y),c=null,U):Y===null||vn(Y)?n(Y):(t.consume(Y),N)}function O(Y){return Y===null||Y===34||Y===39||Y===47||Y===60||Y===61||Y===62||Y===96||Co(Y)?C(Y):(t.consume(Y),O)}function U(Y){return Y===47||Y===62||Sr(Y)?S(Y):n(Y)}function R(Y){return Y===62?(t.consume(Y),I):n(Y)}function I(Y){return Y===null||vn(Y)?B(Y):Sr(Y)?(t.consume(Y),I):n(Y)}function B(Y){return Y===45&&i===2?(t.consume(Y),q):Y===60&&i===1?(t.consume(Y),ie):Y===62&&i===4?(t.consume(Y),oe):Y===63&&i===3?(t.consume(Y),z):Y===93&&i===5?(t.consume(Y),X):vn(Y)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(OFe,de,G)(Y)):Y===null||vn(Y)?(t.exit("htmlFlowData"),G(Y)):(t.consume(Y),B)}function G(Y){return t.check(RFe,K,de)(Y)}function K(Y){return t.enter("lineEnding"),t.consume(Y),t.exit("lineEnding"),Q}function Q(Y){return Y===null||vn(Y)?G(Y):(t.enter("htmlFlowData"),B(Y))}function q(Y){return Y===45?(t.consume(Y),z):B(Y)}function ie(Y){return Y===47?(t.consume(Y),a="",V):B(Y)}function V(Y){if(Y===62){const he=a.toLowerCase();return G9.includes(he)?(t.consume(Y),oe):B(Y)}return Lu(Y)&&a.length<8?(t.consume(Y),a+=String.fromCharCode(Y),V):B(Y)}function X(Y){return Y===93?(t.consume(Y),z):B(Y)}function z(Y){return Y===62?(t.consume(Y),oe):Y===45&&i===2?(t.consume(Y),z):B(Y)}function oe(Y){return Y===null||vn(Y)?(t.exit("htmlFlowData"),de(Y)):(t.consume(Y),oe)}function de(Y){return t.exit("htmlFlow"),e(Y)}}function DFe(t,e,n){const r=this;return i;function i(a){return vn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function FFe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Jj,e,n)}}const UFe={name:"htmlText",tokenize:BFe};function BFe(t,e,n){const r=this;let i,s,a;return o;function o(z){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(z),c}function c(z){return z===33?(t.consume(z),u):z===47?(t.consume(z),C):z===63?(t.consume(z),S):Lu(z)?(t.consume(z),O):n(z)}function u(z){return z===45?(t.consume(z),d):z===91?(t.consume(z),s=0,g):Lu(z)?(t.consume(z),_):n(z)}function d(z){return z===45?(t.consume(z),p):n(z)}function f(z){return z===null?n(z):z===45?(t.consume(z),h):vn(z)?(a=f,ie(z)):(t.consume(z),f)}function h(z){return z===45?(t.consume(z),p):f(z)}function p(z){return z===62?q(z):z===45?h(z):f(z)}function g(z){const oe="CDATA[";return z===oe.charCodeAt(s++)?(t.consume(z),s===oe.length?v:g):n(z)}function v(z){return z===null?n(z):z===93?(t.consume(z),w):vn(z)?(a=v,ie(z)):(t.consume(z),v)}function w(z){return z===93?(t.consume(z),x):v(z)}function x(z){return z===62?q(z):z===93?(t.consume(z),x):v(z)}function _(z){return z===null||z===62?q(z):vn(z)?(a=_,ie(z)):(t.consume(z),_)}function S(z){return z===null?n(z):z===63?(t.consume(z),A):vn(z)?(a=S,ie(z)):(t.consume(z),S)}function A(z){return z===62?q(z):S(z)}function C(z){return Lu(z)?(t.consume(z),T):n(z)}function T(z){return z===45||cl(z)?(t.consume(z),T):N(z)}function N(z){return vn(z)?(a=N,ie(z)):Sr(z)?(t.consume(z),N):q(z)}function O(z){return z===45||cl(z)?(t.consume(z),O):z===47||z===62||Co(z)?U(z):n(z)}function U(z){return z===47?(t.consume(z),q):z===58||z===95||Lu(z)?(t.consume(z),R):vn(z)?(a=U,ie(z)):Sr(z)?(t.consume(z),U):q(z)}function R(z){return z===45||z===46||z===58||z===95||cl(z)?(t.consume(z),R):I(z)}function I(z){return z===61?(t.consume(z),B):vn(z)?(a=I,ie(z)):Sr(z)?(t.consume(z),I):U(z)}function B(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),i=z,G):vn(z)?(a=B,ie(z)):Sr(z)?(t.consume(z),B):(t.consume(z),K)}function G(z){return z===i?(t.consume(z),i=void 0,Q):z===null?n(z):vn(z)?(a=G,ie(z)):(t.consume(z),G)}function K(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||Co(z)?U(z):(t.consume(z),K)}function Q(z){return z===47||z===62||Co(z)?U(z):n(z)}function q(z){return z===62?(t.consume(z),t.exit("htmlTextData"),t.exit("htmlText"),e):n(z)}function ie(z){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),V}function V(z){return Sr(z)?ii(t,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):X(z)}function X(z){return t.enter("htmlTextData"),a(z)}}const k5={name:"labelEnd",resolveAll:HFe,resolveTo:WFe,tokenize:GFe},zFe={tokenize:qFe},$Fe={tokenize:XFe},VFe={tokenize:KFe};function HFe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ed(t,0,t.length,n),t}function WFe(t,e){let n=t.length,r=0,i,s,a,o;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},d={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return o=[["enter",c,e],["enter",u,e]],o=Kl(o,t.slice(s+1,s+r+3)),o=Kl(o,[["enter",d,e]]),o=Kl(o,j5(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),o=Kl(o,[["exit",d,e],t[a-2],t[a-1],["exit",u,e]]),o=Kl(o,t.slice(a+1)),o=Kl(o,[["exit",c,e]]),ed(t,s,t.length,o),t}function GFe(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(h){return s?s._inactive?f(h):(a=r.parser.defined.includes(qx(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),c):n(h)}function c(h){return h===40?t.attempt(zFe,d,a?d:f)(h):h===91?t.attempt($Fe,d,a?u:f)(h):a?d(h):f(h)}function u(h){return t.attempt(VFe,d,f)(h)}function d(h){return e(h)}function f(h){return s._balanced=!0,n(h)}}function qFe(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Co(f)?v1(t,s)(f):s(f)}function s(f){return f===41?d(f):wse(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Co(f)?v1(t,c)(f):d(f)}function o(f){return n(f)}function c(f){return f===34||f===39||f===40?Sse(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Co(f)?v1(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function XFe(t,e,n){const r=this;return i;function i(o){return _se.call(r,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(qx(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function a(o){return n(o)}}function KFe(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const YFe={name:"labelStartImage",resolveAll:k5.resolveAll,tokenize:ZFe};function ZFe(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const QFe={name:"labelStartLink",resolveAll:k5.resolveAll,tokenize:JFe};function JFe(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const zI={name:"lineEnding",tokenize:eUe};function eUe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ii(t,e,"linePrefix")}}const IC={name:"thematicBreak",tokenize:tUe};function tUe(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||vn(u))?(t.exit("thematicBreak"),e(u)):n(u)}function c(u){return u===i?(t.consume(u),r++,c):(t.exit("thematicBreakSequence"),Sr(u)?ii(t,o,"whitespace")(u):o(u))}}const ho={continuation:{tokenize:sUe},exit:oUe,name:"list",tokenize:iUe},nUe={partial:!0,tokenize:lUe},rUe={partial:!0,tokenize:aUe};function iUe(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:e4(p)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(IC,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(p)}return n(p)}function c(p){return e4(p)&&++a<10?(t.consume(p),c):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Jj,r.interrupt?n:d,t.attempt(nUe,h,f))}function d(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function f(p){return Sr(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function sUe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Jj,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ii(t,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Sr(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(rUe,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,ii(t,t.attempt(ho,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function aUe(t,e,n){const r=this;return ii(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function oUe(t){t.exit(this.containerState.type)}function lUe(t,e,n){const r=this;return ii(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Sr(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const q9={name:"setextUnderline",resolveTo:cUe,tokenize:uUe};function cUe(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function uUe(t,e,n){const r=this;let i;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),Sr(u)?ii(t,c,"lineSuffix")(u):c(u))}function c(u){return u===null||vn(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const dUe={tokenize:fUe};function fUe(t){const e=this,n=t.attempt(Jj,r,t.attempt(this.parser.constructs.flowInitial,i,ii(t,t.attempt(this.parser.constructs.flow,i,t.attempt(yFe,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const hUe={resolveAll:Ase()},pUe=Ese("string"),mUe=Ese("text");function Ese(t){return{resolveAll:Ase(t==="text"?gUe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,o);return a;function a(d){return u(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function Ase(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function gUe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)c=!0,o++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const yUe={42:ho,43:ho,45:ho,48:ho,49:ho,50:ho,51:ho,52:ho,53:ho,54:ho,55:ho,56:ho,57:ho,62:yse},vUe={91:_Fe},xUe={[-2]:BI,[-1]:BI,32:BI},bUe={35:CFe,42:IC,45:[q9,IC],60:kFe,61:q9,95:IC,96:W9,126:W9},wUe={38:xse,92:vse},_Ue={[-5]:zI,[-4]:zI,[-3]:zI,33:YFe,38:xse,42:t4,60:[Q4e,UFe],91:QFe,92:[TFe,vse],93:k5,95:t4,96:dFe},SUe={null:[t4,hUe]},EUe={null:[42,95]},AUe={null:[]},TUe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:EUe,contentInitial:vUe,disable:AUe,document:yUe,flow:bUe,flowInitial:xUe,insideSpan:SUe,string:wUe,text:_Ue},Symbol.toStringTag,{value:"Module"}));function MUe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const c={attempt:N(C),check:N(T),consume:_,enter:S,exit:A,interrupt:N(T,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:g,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=e.tokenize.call(u,c);return e.resolveAll&&s.push(e),u;function f(I){return a=Kl(a,I),w(),a[a.length-1]!==null?[]:(O(e,0),u.events=j5(s,u.events,u),u.events)}function h(I,B){return NUe(p(I),B)}function p(I){return CUe(a,I)}function g(){const{_bufferIndex:I,_index:B,line:G,column:K,offset:Q}=r;return{_bufferIndex:I,_index:B,line:G,column:K,offset:Q}}function v(I){i[I.line]=I.column,R()}function w(){let I;for(;r._index<a.length;){const B=a[r._index];if(typeof B=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<B.length;)x(B.charCodeAt(r._bufferIndex));else x(B)}}function x(I){d=d(I)}function _(I){vn(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,R()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function S(I,B){const G=B||{};return G.type=I,G.start=g(),u.events.push(["enter",G,u]),o.push(G),G}function A(I){const B=o.pop();return B.end=g(),u.events.push(["exit",B,u]),B}function C(I,B){O(I,B.from)}function T(I,B){B.restore()}function N(I,B){return G;function G(K,Q,q){let ie,V,X,z;return Array.isArray(K)?de(K):"tokenize"in K?de([K]):oe(K);function oe(Ie){return Ee;function Ee(Je){const Ne=Je!==null&&Ie[Je],Ue=Je!==null&&Ie.null,Fe=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return de(Fe)(Je)}}function de(Ie){return ie=Ie,V=0,Ie.length===0?q:Y(Ie[V])}function Y(Ie){return Ee;function Ee(Je){return z=U(),X=Ie,Ie.partial||(u.currentConstruct=Ie),Ie.name&&u.parser.constructs.disable.null.includes(Ie.name)?Ce():Ie.tokenize.call(B?Object.assign(Object.create(u),B):u,c,he,Ce)(Je)}}function he(Ie){return I(X,z),Q}function Ce(Ie){return z.restore(),++V<ie.length?Y(ie[V]):q}}}function O(I,B){I.resolveAll&&!s.includes(I)&&s.push(I),I.resolve&&ed(u.events,B,u.events.length-B,I.resolve(u.events.slice(B),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function U(){const I=g(),B=u.previous,G=u.currentConstruct,K=u.events.length,Q=Array.from(o);return{from:K,restore:q};function q(){r=I,u.previous=B,u.currentConstruct=G,u.events.length=K,o=Q,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function CUe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function NUe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function PUe(t){const r={constructs:D4e([TUe,...(t||{}).extensions||[]]),content:i(W4e),defined:[],document:i(q4e),flow:i(dUe),lazy:{},string:i(pUe),text:i(mUe)};return r;function i(s){return a;function a(o){return MUe(r,s,o)}}}function jUe(t){for(;!bse(t););return t}const X9=/[\0\t\n\r]/g;function kUe(){let t=1,e="",n=!0,r;return i;function i(s,a,o){const c=[];let u,d,f,h,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(X9.lastIndex=f,u=X9.exec(s),h=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(h),!u){e=s.slice(f);break}if(p===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(s.slice(f,h)),t+=h-f),p){case 0:{c.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,c.push(-2);t++<d;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}f=h+1}return o&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const OUe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function RUe(t){return t.replace(OUe,IUe)}function IUe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return gse(n.slice(s?2:1),s?16:10)}return P5(n)||t}const Tse={}.hasOwnProperty;function LUe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),DUe(n)(jUe(PUe(n).document().write(kUe()(t,e,!0))))}function DUe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ct),autolinkProtocol:U,autolinkEmail:U,atxHeading:s(qe),blockQuote:s(Ue),characterEscape:U,characterReference:U,codeFenced:s(Fe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Fe,a),codeText:s(le,a),codeTextData:U,data:U,codeFlowValue:U,definition:s(J),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Le),hardBreakEscape:s(We),hardBreakTrailing:s(We),htmlFlow:s(Ke,a),htmlFlowData:U,htmlText:s(Ke,a),htmlTextData:U,image:s(yt),label:a,link:s(ct),listItem:s(F),listItemValue:h,listOrdered:s($,f),listUnordered:s($),paragraph:s(re),reference:Y,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(qe),strong:s(ye),thematicBreak:s(pe)},exit:{atxHeading:c(),atxHeadingSequence:C,autolink:c(),autolinkEmail:Ne,autolinkProtocol:Je,blockQuote:c(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:Ie,characterReference:Ee,codeFenced:c(w),codeFencedFence:v,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:R,codeIndented:c(x),codeText:c(Q),codeTextData:R,data:R,definition:c(),definitionDestinationString:A,definitionLabelString:_,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(B),hardBreakTrailing:c(B),htmlFlow:c(G),htmlFlowData:R,htmlText:c(K),htmlTextData:R,image:c(ie),label:X,labelText:V,lineEnding:I,link:c(q),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:he,resourceDestinationString:z,resourceTitleString:oe,resource:de,setextHeading:c(O),setextHeadingLineSequence:N,setextHeadingText:T,strong:c(),thematicBreak:c()}};Mse(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ce){let xe={type:"root",children:[]};const ke={stack:[xe],tokenStack:[],config:e,enter:o,exit:u,buffer:a,resume:d,data:n},ut=[];let $e=-1;for(;++$e<ce.length;)if(ce[$e][1].type==="listOrdered"||ce[$e][1].type==="listUnordered")if(ce[$e][0]==="enter")ut.push($e);else{const st=ut.pop();$e=i(ce,st,$e)}for($e=-1;++$e<ce.length;){const st=e[ce[$e][0]];Tse.call(st,ce[$e][1].type)&&st[ce[$e][1].type].call(Object.assign({sliceSerialize:ce[$e][2].sliceSerialize},ke),ce[$e][1])}if(ke.tokenStack.length>0){const st=ke.tokenStack[ke.tokenStack.length-1];(st[1]||K9).call(ke,void 0,st[0])}for(xe.position={start:wh(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:wh(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<e.transforms.length;)xe=e.transforms[$e](xe)||xe;return xe}function i(ce,xe,ke){let ut=xe-1,$e=-1,st=!1,Ut,Pt,mt,ln;for(;++ut<=ke;){const Tt=ce[ut];switch(Tt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Tt[0]==="enter"?$e++:$e--,ln=void 0;break}case"lineEndingBlank":{Tt[0]==="enter"&&(Ut&&!ln&&!$e&&!mt&&(mt=ut),ln=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ln=void 0}if(!$e&&Tt[0]==="enter"&&Tt[1].type==="listItemPrefix"||$e===-1&&Tt[0]==="exit"&&(Tt[1].type==="listUnordered"||Tt[1].type==="listOrdered")){if(Ut){let Cn=ut;for(Pt=void 0;Cn--;){const ve=ce[Cn];if(ve[1].type==="lineEnding"||ve[1].type==="lineEndingBlank"){if(ve[0]==="exit")continue;Pt&&(ce[Pt][1].type="lineEndingBlank",st=!0),ve[1].type="lineEnding",Pt=Cn}else if(!(ve[1].type==="linePrefix"||ve[1].type==="blockQuotePrefix"||ve[1].type==="blockQuotePrefixWhitespace"||ve[1].type==="blockQuoteMarker"||ve[1].type==="listItemIndent"))break}mt&&(!Pt||mt<Pt)&&(Ut._spread=!0),Ut.end=Object.assign({},Pt?ce[Pt][1].start:Tt[1].end),ce.splice(Pt||ut,0,["exit",Ut,Tt[2]]),ut++,ke++}if(Tt[1].type==="listItemPrefix"){const Cn={type:"listItem",_spread:!1,start:Object.assign({},Tt[1].start),end:void 0};Ut=Cn,ce.splice(ut,0,["enter",Cn,Tt[2]]),ut++,ke++,mt=void 0,ln=!0}}}return ce[xe][1]._spread=st,ke}function s(ce,xe){return ke;function ke(ut){o.call(this,ce(ut),ut),xe&&xe.call(this,ut)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(ce,xe,ke){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([xe,ke||void 0]),ce.position={start:wh(xe.start),end:void 0}}function c(ce){return xe;function xe(ke){ce&&ce.call(this,ke),u.call(this,ke)}}function u(ce,xe){const ke=this.stack.pop(),ut=this.tokenStack.pop();if(ut)ut[0].type!==ce.type&&(xe?xe.call(this,ce,ut[0]):(ut[1]||K9).call(this,ce,ut[0]));else throw new Error("Cannot close `"+ce.type+"` ("+y1({start:ce.start,end:ce.end})+"): its not open");ke.position.end=wh(ce.end)}function d(){return I4e(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(ce){if(this.data.expectingFirstListItemValue){const xe=this.stack[this.stack.length-2];xe.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.lang=ce}function g(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.meta=ce}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ce.replace(/(\r?\n|\r)$/g,"")}function _(ce){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.label=xe,ke.identifier=qx(this.sliceSerialize(ce)).toLowerCase()}function S(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.title=ce}function A(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.url=ce}function C(ce){const xe=this.stack[this.stack.length-1];if(!xe.depth){const ke=this.sliceSerialize(ce).length;xe.depth=ke}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function N(ce){const xe=this.stack[this.stack.length-1];xe.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function U(ce){const ke=this.stack[this.stack.length-1].children;let ut=ke[ke.length-1];(!ut||ut.type!=="text")&&(ut=be(),ut.position={start:wh(ce.start),end:void 0},ke.push(ut)),this.stack.push(ut)}function R(ce){const xe=this.stack.pop();xe.value+=this.sliceSerialize(ce),xe.position.end=wh(ce.end)}function I(ce){const xe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ke=xe.children[xe.children.length-1];ke.position.end=wh(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(xe.type)&&(U.call(this,ce),R.call(this,ce))}function B(){this.data.atHardBreak=!0}function G(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ce}function K(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ce}function Q(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ce}function q(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=xe,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function ie(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=xe,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function V(ce){const xe=this.sliceSerialize(ce),ke=this.stack[this.stack.length-2];ke.label=RUe(xe),ke.identifier=qx(xe).toLowerCase()}function X(){const ce=this.stack[this.stack.length-1],xe=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){const ut=ce.children;ke.children=ut}else ke.alt=xe}function z(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.url=ce}function oe(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.title=ce}function de(){this.data.inReference=void 0}function Y(){this.data.referenceType="collapsed"}function he(ce){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.label=xe,ke.identifier=qx(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function Ce(ce){this.data.characterReferenceType=ce.type}function Ie(ce){const xe=this.sliceSerialize(ce),ke=this.data.characterReferenceType;let ut;ke?(ut=gse(xe,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ut=P5(xe);const $e=this.stack[this.stack.length-1];$e.value+=ut}function Ee(ce){const xe=this.stack.pop();xe.position.end=wh(ce.end)}function Je(ce){R.call(this,ce);const xe=this.stack[this.stack.length-1];xe.url=this.sliceSerialize(ce)}function Ne(ce){R.call(this,ce);const xe=this.stack[this.stack.length-1];xe.url="mailto:"+this.sliceSerialize(ce)}function Ue(){return{type:"blockquote",children:[]}}function Fe(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function J(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Le(){return{type:"emphasis",children:[]}}function qe(){return{type:"heading",depth:0,children:[]}}function We(){return{type:"break"}}function Ke(){return{type:"html",value:""}}function yt(){return{type:"image",title:null,url:"",alt:null}}function ct(){return{type:"link",title:null,url:"",children:[]}}function $(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function F(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function re(){return{type:"paragraph",children:[]}}function ye(){return{type:"strong",children:[]}}function be(){return{type:"text",value:""}}function pe(){return{type:"thematicBreak"}}}function wh(t){return{line:t.line,column:t.column,offset:t.offset}}function Mse(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Mse(t,r):FUe(t,r)}}function FUe(t,e){let n;for(n in e)if(Tse.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function K9(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+y1({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+y1({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+y1({start:e.start,end:e.end})+") is still open")}function UUe(t){const e=this;e.parser=n;function n(r){return LUe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function BUe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function zUe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function $Ue(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function VUe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function HUe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function WUe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=jb(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,u),t.applyData(e,u)}function GUe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function qUe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Cse(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function XUe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Cse(t,e);const i={src:jb(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function KUe(t,e){const n={src:jb(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function YUe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function ZUe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Cse(t,e);const i={href:jb(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function QUe(t,e){const n={href:jb(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function JUe(t,e,n){const r=t.all(e),i=n?eBe(n):Nse(e),s={},a=[];if(typeof e.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,u),t.applyData(e,u)}function eBe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Nse(n[r])}return e}function Nse(t){const e=t.spread;return e??t.children.length>1}function tBe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function nBe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rBe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function iBe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function sBe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=T5(e.children[1]),c=cse(e.children[e.children.length-1]);o&&c&&(a.position={start:o,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function aBe(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:e.children.length;let c=-1;const u=[];for(;++c<o;){const f=e.children[c],h={},p=a?a[c]:void 0;p&&(h.align=p);let g={type:"element",tagName:s,properties:h,children:[]};f&&(g.children=t.all(f),t.patch(f,g),g=t.applyData(f,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function oBe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Y9=9,Z9=32;function lBe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(Q9(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(Q9(e.slice(i),i>0,!1)),s.join("")}function Q9(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===Y9||s===Z9;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===Y9||s===Z9;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function cBe(t,e){const n={type:"text",value:lBe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function uBe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const dBe={blockquote:BUe,break:zUe,code:$Ue,delete:VUe,emphasis:HUe,footnoteReference:WUe,heading:GUe,html:qUe,imageReference:XUe,image:KUe,inlineCode:YUe,linkReference:ZUe,link:QUe,listItem:JUe,list:tBe,paragraph:nBe,root:rBe,strong:iBe,table:sBe,tableCell:oBe,tableRow:aBe,text:cBe,thematicBreak:uBe,toml:VM,yaml:VM,definition:VM,footnoteDefinition:VM};function VM(){}const Pse=-1,ek=0,x1=1,xP=2,O5=3,R5=4,I5=5,L5=6,jse=7,kse=8,J9=typeof self=="object"?self:globalThis,fBe=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case ek:case Pse:return n(a,i);case x1:{const o=n([],i);for(const c of a)o.push(r(c));return o}case xP:{const o=n({},i);for(const[c,u]of a)o[r(c)]=r(u);return o}case O5:return n(new Date(a),i);case R5:{const{source:o,flags:c}=a;return n(new RegExp(o,c),i)}case I5:{const o=n(new Map,i);for(const[c,u]of a)o.set(r(c),r(u));return o}case L5:{const o=n(new Set,i);for(const c of a)o.add(r(c));return o}case jse:{const{name:o,message:c}=a;return n(new J9[o](c),i)}case kse:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new J9[s](a),i)};return r},eG=t=>fBe(new Map,t)(0),tx="",{toString:hBe}={},{keys:pBe}=Object,x_=t=>{const e=typeof t;if(e!=="object"||!t)return[ek,e];const n=hBe.call(t).slice(8,-1);switch(n){case"Array":return[x1,tx];case"Object":return[xP,tx];case"Date":return[O5,tx];case"RegExp":return[R5,tx];case"Map":return[I5,tx];case"Set":return[L5,tx];case"DataView":return[x1,n]}return n.includes("Array")?[x1,n]:n.includes("Error")?[jse,n]:[xP,n]},HM=([t,e])=>t===ek&&(e==="function"||e==="symbol"),mBe=(t,e,n,r)=>{const i=(a,o)=>{const c=r.push(a)-1;return n.set(o,c),c},s=a=>{if(n.has(a))return n.get(a);let[o,c]=x_(a);switch(o){case ek:{let d=a;switch(c){case"bigint":o=kse,d=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([Pse],a)}return i([o,d],a)}case x1:{if(c){let h=a;return c==="DataView"?h=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(a)),i([c,[...h]],a)}const d=[],f=i([o,d],a);for(const h of a)d.push(s(h));return f}case xP:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const d=[],f=i([o,d],a);for(const h of pBe(a))(t||!HM(x_(a[h])))&&d.push([s(h),s(a[h])]);return f}case O5:return i([o,a.toISOString()],a);case R5:{const{source:d,flags:f}=a;return i([o,{source:d,flags:f}],a)}case I5:{const d=[],f=i([o,d],a);for(const[h,p]of a)(t||!(HM(x_(h))||HM(x_(p))))&&d.push([s(h),s(p)]);return f}case L5:{const d=[],f=i([o,d],a);for(const h of a)(t||!HM(x_(h)))&&d.push(s(h));return f}}const{message:u}=a;return i([o,{name:c,message:u}],a)};return s},tG=(t,{json:e,lossy:n}={})=>{const r=[];return mBe(!(e||n),!!e,new Map,r)(t),r},bP=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?eG(tG(t,e)):structuredClone(t):(t,e)=>eG(tG(t,e));function gBe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function yBe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function vBe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||gBe,r=t.options.footnoteBackLabel||yBe,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[c]);if(!u)continue;const d=t.all(u),f=String(u.identifier).toUpperCase(),h=jb(f.toLowerCase());let p=0;const g=[],v=t.footnoteCounts.get(f);for(;v!==void 0&&++p<=v;){g.length>0&&g.push({type:"text",value:" "});let _=typeof n=="string"?n:n(c,p);typeof _=="string"&&(_={type:"text",value:_}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const _=w.children[w.children.length-1];_&&_.type==="text"?_.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else d.push(...g);const x={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(d,!0)};t.patch(u,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...bP(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const Ose=function(t){if(t==null)return _Be;if(typeof t=="function")return tk(t);if(typeof t=="object")return Array.isArray(t)?xBe(t):bBe(t);if(typeof t=="string")return wBe(t);throw new Error("Expected function, string, or object as test")};function xBe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Ose(t[n]);return tk(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function bBe(t){const e=t;return tk(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function wBe(t){return tk(e);function e(n){return n&&n.type===t}}function tk(t){return e;function e(n,r,i){return!!(SBe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function _Be(){return!0}function SBe(t){return t!==null&&typeof t=="object"&&"type"in t}const Rse=[],EBe=!0,nG=!1,ABe="skip";function TBe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=Ose(i),a=r?-1:1;o(t,void 0,[])();function o(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=Rse,g,v,w;if((!e||s(c,u,d[d.length-1]||void 0))&&(p=MBe(n(c,d)),p[0]===nG))return p;if("children"in c&&c.children){const x=c;if(x.children&&p[0]!==ABe)for(v=(r?x.children.length:-1)+a,w=d.concat(x);v>-1&&v<x.children.length;){const _=x.children[v];if(g=o(_,v,w)(),g[0]===nG)return g;v=typeof g[1]=="number"?g[1]:v+a}}return p}}}function MBe(t){return Array.isArray(t)?t:typeof t=="number"?[EBe,t]:t==null?Rse:[t]}function Ise(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),TBe(t,s,o,i);function o(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return a(c,f,d)}}const n4={}.hasOwnProperty,CBe={};function NBe(t,e){const n=e||CBe,r=new Map,i=new Map,s=new Map,a={...dBe,...n.handlers},o={all:u,applyData:jBe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:PBe,wrap:OBe};return Ise(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function c(d,f){const h=d.type,p=o.handlers[h];if(n4.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:v,...w}=d,x=bP(w);return x.children=o.all(d),x}return bP(d)}return(o.options.unknownHandler||kBe)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const g=o.one(h[p],d);if(g){if(p&&h[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=rG(g.value)),!Array.isArray(g)&&g.type==="element")){const v=g.children[0];v&&v.type==="text"&&(v.value=rG(v.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function PBe(t,e){t.position&&(e.position=h4e(t))}function jBe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,bP(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function kBe(t,e){const n=e.data||{},r="value"in e&&!(n4.call(n,"hProperties")||n4.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function OBe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function rG(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function iG(t,e){const n=NBe(t,e),r=n.one(t,void 0),i=vBe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function RBe(t,e){return t&&"run"in t?async function(n,r){const i=iG(n,{file:r,...e});await t.run(i,r)}:function(n,r){return iG(n,{file:r,...t||e})}}function sG(t){if(t)throw t}var LC=Object.prototype.hasOwnProperty,Lse=Object.prototype.toString,aG=Object.defineProperty,oG=Object.getOwnPropertyDescriptor,lG=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Lse.call(e)==="[object Array]"},cG=function(e){if(!e||Lse.call(e)!=="[object Object]")return!1;var n=LC.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&LC.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||LC.call(e,i)},uG=function(e,n){aG&&n.name==="__proto__"?aG(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},dG=function(e,n){if(n==="__proto__")if(LC.call(e,n)){if(oG)return oG(e,n).value}else return;return e[n]},IBe=function t(){var e,n,r,i,s,a,o=arguments[0],c=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(e=arguments[c],e!=null)for(n in e)r=dG(o,n),i=dG(e,n),o!==i&&(d&&i&&(cG(i)||(s=lG(i)))?(s?(s=!1,a=r&&lG(r)?r:[]):a=r&&cG(r)?r:{},uG(o,{name:n,newValue:t(d,a,i)})):typeof i<"u"&&uG(o,{name:n,newValue:i}));return o};const $I=cr(IBe);function r4(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function LBe(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(c,...u){const d=t[++s];let f=-1;if(c){a(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?DBe(d,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function DBe(t,e){let n;return r;function r(...a){const o=t.length>a.length;let c;o&&a.push(i);try{c=t.apply(this,a)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...o){n||(n=!0,e(a,...o))}function s(a){i(null,a)}}const Tu={basename:FBe,dirname:UBe,extname:BBe,join:zBe,sep:"/"};function FBe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');qE(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function UBe(t){if(qE(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function BBe(t){qE(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function zBe(...t){let e=-1,n;for(;++e<t.length;)qE(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":$Be(n)}function $Be(t){qE(t);const e=t.codePointAt(0)===47;let n=VBe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function VBe(t,e){let n="",r=0,i=-1,s=0,a=-1,o,c;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function qE(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const HBe={cwd:WBe};function WBe(){return"/"}function i4(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function GBe(t){if(typeof t=="string")t=new URL(t);else if(!i4(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return qBe(t)}function qBe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const VI=["history","path","basename","stem","extname","dirname"];class Dse{constructor(e){let n;e?i4(e)?n={path:e}:typeof e=="string"||XBe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":HBe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<VI.length;){const s=VI[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)VI.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Tu.basename(this.path):void 0}set basename(e){WI(e,"basename"),HI(e,"basename"),this.path=Tu.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Tu.dirname(this.path):void 0}set dirname(e){fG(this.basename,"dirname"),this.path=Tu.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Tu.extname(this.path):void 0}set extname(e){if(HI(e,"extname"),fG(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Tu.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){i4(e)&&(e=GBe(e)),WI(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Tu.basename(this.path,this.extname):void 0}set stem(e){WI(e,"stem"),HI(e,"stem"),this.path=Tu.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ma(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function HI(t,e){if(t&&t.includes(Tu.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Tu.sep+"`")}function WI(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function fG(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function XBe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const KBe=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},YBe={}.hasOwnProperty;class D5 extends KBe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=LBe()}copy(){const e=new D5;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data($I(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(XI("data",this.frozen),this.namespace[e]=n,this):YBe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(XI("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=WM(e),r=this.parser||this.Parser;return GI("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),GI("process",this.parser||this.Parser),qI("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=WM(e),c=r.parse(o);r.run(c,o,function(d,f,h){if(d||!f||!h)return u(d);const p=f,g=r.stringify(p,h);JBe(g)?h.value=g:h.result=g,u(d,h)});function u(d,f){d||!f?a(d):s?s(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),GI("processSync",this.parser||this.Parser),qI("processSync",this.compiler||this.Compiler),this.process(e,i),pG("processSync","process",n),r;function i(s,a){n=!0,sG(s),r=a}}run(e,n,r){hG(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const c=WM(n);i.run(e,c,u);function u(d,f,h){const p=f||e;d?o(d):a?a(p):r(void 0,p,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),pG("runSync","run",r),i;function s(a,o){sG(a),i=o,r=!0}}stringify(e,n){this.freeze();const r=WM(n),i=this.compiler||this.Compiler;return qI("stringify",i),hG(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(XI("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=$I(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...g]=d;const v=r[h][1];r4(v)&&r4(p)&&(p=$I(!0,v,p)),r[h]=[u,p,...g]}}}}const ZBe=new D5().freeze();function GI(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function qI(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function XI(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function hG(t){if(!r4(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function pG(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function WM(t){return QBe(t)?t:new Dse(t)}function QBe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function JBe(t){return typeof t=="string"||e5e(t)}function e5e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const t5e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",mG=[],gG={allowDangerousHtml:!0},n5e=/^(https?|ircs?|mailto|xmpp)$/i,r5e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function i5e(t){const e=s5e(t),n=a5e(t);return o5e(e.runSync(e.parse(n),n),t)}function s5e(t){const e=t.rehypePlugins||mG,n=t.remarkPlugins||mG,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...gG}:gG;return ZBe().use(UUe).use(n).use(RBe,r).use(e)}function a5e(t){const e=t.children||"",n=new Dse;return typeof e=="string"&&(n.value=e),n}function o5e(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,c=e.urlTransform||l5e;for(const d of r5e)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+t5e+d.id,void 0);return Ise(t,u),v4e(t,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return a?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in UI)if(Object.hasOwn(UI,p)&&Object.hasOwn(d.properties,p)){const g=d.properties[p],v=UI[p];(v===null||v.includes(d.tagName))&&(d.properties[p]=c(String(g||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function l5e(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||n5e.test(t.slice(0,e))?t:""}function c5e(){var s;const{slug:t}=IU(),{data:e,isLoading:n}=Ir({queryKey:["article",t],queryFn:async()=>{if(!t)throw new Error("No slug provided");const{data:a,error:o}=await Xe.from("articles").select("*").eq("slug",t).eq("status","published").single();if(o)throw o;return a},enabled:!!t}),{wordCount:r,readingTime:i}=j.useMemo(()=>{if(!(e!=null&&e.content))return{wordCount:0,readingTime:"1 min read"};const a=e.content.trim().split(/\s+/).length,o=Math.ceil(a/200);return{wordCount:a,readingTime:`${o} min read`}},[e==null?void 0:e.content]);return j.useEffect(()=>{e!=null&&e.id&&Xe.from("articles").update({view_count:(e.view_count||0)+1}).eq("id",e.id).then(()=>{console.log("View count incremented")})},[e==null?void 0:e.id]),n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Loading article..."})}):e?l.jsxs(l.Fragment,{children:[l.jsx(b3e,{title:e.seo_title||e.title,description:e.seo_description||e.excerpt||"",url:`/blog/${e.slug}`,imageUrl:e.featured_image_url,publishedTime:e.published_at,modifiedTime:e.updated_at,tags:e.tags||[],category:e.category,wordCount:r,readingTime:i}),l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(hj,{}),l.jsx("div",{className:"bg-gray-50 border-b",children:l.jsx("div",{className:"container mx-auto px-4 py-3",children:l.jsx(An,{to:"/blog",children:l.jsxs(Ve,{variant:"ghost",size:"sm",className:"gap-2",children:[l.jsx(qU,{className:"h-4 w-4"}),"Back to Blog"]})})})}),l.jsxs("article",{className:"container mx-auto px-4 py-12 max-w-4xl",itemScope:!0,itemType:"https://schema.org/BlogPosting",children:[l.jsx(_3e,{items:[{label:"Blog",href:"/blog"},{label:e.title}]}),e.featured_image_url&&l.jsxs("figure",{className:"mb-8",itemProp:"image",itemScope:!0,itemType:"https://schema.org/ImageObject",children:[l.jsx("img",{src:e.featured_image_url,alt:e.title,className:"w-full h-96 object-cover rounded-lg shadow-lg",itemProp:"url"}),l.jsx("meta",{itemProp:"width",content:"1200"}),l.jsx("meta",{itemProp:"height",content:"630"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[l.jsx(rn,{variant:"secondary",itemProp:"articleSection",children:e.category}),(s=e.tags)==null?void 0:s.map(a=>l.jsx(rn,{variant:"outline",itemProp:"keywords",children:a},a))]}),l.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 leading-tight",itemProp:"headline",children:e.title}),l.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-muted-foreground mb-8",children:[l.jsxs("div",{className:"flex items-center gap-2",itemProp:"author",itemScope:!0,itemType:"https://schema.org/Person",children:[l.jsx(Qg,{className:"h-4 w-4"}),l.jsx("span",{itemProp:"name",children:"Real Estate Expert"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(to,{className:"h-4 w-4"}),l.jsx("time",{dateTime:e.published_at,itemProp:"datePublished",children:new Date(e.published_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pb,{className:"h-4 w-4"}),l.jsx("span",{children:i})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Za,{className:"h-4 w-4"}),l.jsxs("span",{children:[e.view_count," views"]})]})]}),l.jsx("meta",{itemProp:"dateModified",content:e.updated_at}),l.jsx("meta",{itemProp:"wordCount",content:r.toString()}),l.jsx("meta",{itemProp:"description",content:e.excerpt||""}),l.jsx(tse,{className:"mb-8"}),l.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none prose-headings:scroll-mt-20",itemProp:"articleBody",children:l.jsx(i5e,{components:{h2:({children:a,...o})=>{const c=String(a).toLowerCase().replace(/\s+/g,"-");return l.jsx("h2",{...o,id:c,className:"text-3xl font-bold mt-12 mb-4 scroll-mt-20",children:a})},h3:({children:a,...o})=>{const c=String(a).toLowerCase().replace(/\s+/g,"-");return l.jsx("h3",{...o,id:c,className:"text-2xl font-semibold mt-8 mb-3 scroll-mt-20",children:a})},p:({children:a,...o})=>l.jsx("p",{...o,className:"mb-6 leading-relaxed text-lg",children:a}),ul:({children:a,...o})=>l.jsx("ul",{...o,className:"space-y-2 my-6",children:a}),ol:({children:a,...o})=>l.jsx("ol",{...o,className:"space-y-2 my-6",children:a}),li:({children:a,...o})=>l.jsx("li",{...o,className:"leading-relaxed",children:a}),blockquote:({children:a,...o})=>l.jsx("blockquote",{...o,className:"border-l-4 border-primary pl-6 py-2 my-6 italic bg-muted/50 rounded-r",children:a}),a:({href:a,children:o,...c})=>(a==null?void 0:a.startsWith("/"))?l.jsx(An,{to:a,className:"text-primary hover:underline font-medium",children:o}):l.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",...c,children:o}),code:({children:a,...o})=>l.jsx("code",{...o,className:"bg-muted px-1.5 py-0.5 rounded text-sm font-mono",children:a}),pre:({children:a,...o})=>l.jsx("pre",{...o,className:"bg-muted p-4 rounded-lg overflow-x-auto my-6",children:a})},children:e.content})}),l.jsx(w3e,{currentArticleId:e.id,category:e.category,tags:e.tags||[]})]}),l.jsx(pj,{})]})]}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Article Not Found"}),l.jsx(An,{to:"/blog",children:l.jsx(Ve,{children:"Back to Blog"})})]})})}const u5e=Sb({email:Wn().email("Please enter a valid email address"),password:Wn().min(6,"Password must be at least 6 characters"),remember:dne().optional()});function d5e(){const t=bE(),{signIn:e,isLoading:n,error:r,clearError:i,user:s}=la(),{register:a,handleSubmit:o,formState:{errors:c}}=wb({resolver:_b(u5e)});j.useEffect(()=>{s&&t("/dashboard")},[s,t]),j.useEffect(()=>()=>{i()},[i]);const u=async d=>{try{await e(d.email,d.password)}catch(f){console.error("Login failed:",f)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[l.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:l.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[l.jsxs(An,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-gray-900 hover:text-blue-600 transition-colors",children:[l.jsx(gi,{className:"h-6 w-6 text-blue-600"}),"AgentBio.net"]}),l.jsxs("nav",{className:"flex items-center gap-4 text-sm",children:[l.jsx(An,{to:"/blog",className:"text-gray-600 hover:text-gray-900",children:"Blog"}),l.jsx(An,{to:"/pricing",className:"text-gray-600 hover:text-gray-900",children:"Pricing"}),l.jsx(An,{to:"/auth/register",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Sign Up"})]})]})}),l.jsx("div",{className:"flex items-center justify-center px-4 py-12",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-600",children:"Log in to manage your profile"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[r&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[l.jsx(G2,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-red-800",children:"Login Failed"}),l.jsx("p",{className:"text-sm text-red-600 mt-1",children:r})]})]}),l.jsxs("form",{onSubmit:o(u),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{...a("email"),type:"email",placeholder:"you@example.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.email?"border-red-300":"border-gray-300"}`})]}),c.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(mN,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{...a("password"),type:"password",placeholder:"",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.password?"border-red-300":"border-gray-300"}`})]}),c.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password.message})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsx("input",{...a("remember"),type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),l.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})]}),l.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"h-5 w-5 animate-spin"}),"Logging in..."]}):"Log In"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",l.jsx(An,{to:"/auth/register",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Sign up"})]})})]})]})})]})}const f5e=Sb({username:Wn().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_-]+$/,"Username can only contain letters, numbers, underscores, and hyphens"),name:Wn().min(2,"Name must be at least 2 characters"),email:Wn().email("Please enter a valid email address"),password:Wn().min(6,"Password must be at least 6 characters"),confirmPassword:Wn(),terms:dne().refine(t=>t===!0,{message:"You must agree to the terms and conditions"})}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function h5e(){const t=bE(),{signUp:e,isLoading:n,error:r,clearError:i,user:s}=la(),{register:a,handleSubmit:o,formState:{errors:c}}=wb({resolver:_b(f5e)});j.useEffect(()=>{s&&t("/dashboard")},[s,t]),j.useEffect(()=>()=>{i()},[i]);const u=async d=>{try{await e(d.email,d.password,d.username,d.name)}catch(f){console.error("Registration failed:",f)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[l.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:l.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[l.jsxs(An,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-gray-900 hover:text-blue-600 transition-colors",children:[l.jsx(gi,{className:"h-6 w-6 text-blue-600"}),"AgentBio.net"]}),l.jsxs("nav",{className:"flex items-center gap-4 text-sm",children:[l.jsx(An,{to:"/blog",className:"text-gray-600 hover:text-gray-900",children:"Blog"}),l.jsx(An,{to:"/pricing",className:"text-gray-600 hover:text-gray-900",children:"Pricing"}),l.jsx(An,{to:"/auth/login",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Log In"})]})]})}),l.jsx("div",{className:"flex items-center justify-center px-4 py-12",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Account"}),l.jsx("p",{className:"text-gray-600",children:"Start building your real estate profile"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[r&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[l.jsx(G2,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-red-800",children:"Registration Failed"}),l.jsx("p",{className:"text-sm text-red-600 mt-1",children:r})]})]}),l.jsxs("form",{onSubmit:o(u),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),l.jsxs("div",{className:"relative",children:[l.jsx(Qg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{...a("username"),type:"text",placeholder:"johndoe",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.username?"border-red-300":"border-gray-300"}`})]}),c.username&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.username.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(Qg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{...a("name"),type:"text",placeholder:"John Doe",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.name?"border-red-300":"border-gray-300"}`})]}),c.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{...a("email"),type:"email",placeholder:"you@example.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.email?"border-red-300":"border-gray-300"}`})]}),c.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(mN,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{...a("password"),type:"password",placeholder:"",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.password?"border-red-300":"border-gray-300"}`})]}),c.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(mN,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{...a("confirmPassword"),type:"password",placeholder:"",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.confirmPassword?"border-red-300":"border-gray-300"}`})]}),c.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.confirmPassword.message})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-start cursor-pointer",children:[l.jsx("input",{...a("terms"),type:"checkbox",className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",l.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700",children:"Terms of Service"})," ","and"," ",l.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700",children:"Privacy Policy"})]})]}),c.terms&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.terms.message})]}),l.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"h-5 w-5 animate-spin"}),"Creating account..."]}):"Create Account"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",l.jsx(An,{to:"/auth/login",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Log in"})]})})]})]})})]})}function p5e(){const t=xy(),e=[{label:"Home",icon:gi,href:"/dashboard"},{label:"Listings",icon:Q_e,href:"/listings"},{label:"Leads",icon:cf,href:"/leads"},{label:"Analytics",icon:K1,href:"/analytics"},{label:"More",icon:t1e,href:"/settings"}];return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden safe-area-inset-bottom",children:l.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:e.map(n=>{const r=t.pathname.startsWith(n.href),i=n.icon;return l.jsxs(An,{to:n.href,className:at("flex flex-col items-center justify-center flex-1 h-full relative","transition-colors duration-200","min-w-[44px] min-h-[44px]",r?"text-primary":"text-gray-600 hover:text-gray-900"),"aria-label":n.label,"aria-current":r?"page":void 0,children:[l.jsxs("div",{className:"relative",children:[l.jsx(i,{className:"w-6 h-6"}),n.badge&&n.badge>0&&l.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-semibold",children:n.badge>99?"99+":n.badge})]}),l.jsx("span",{className:"text-xs mt-1 font-medium",children:n.label})]},n.href)})})})}function m5e(){const t=xy(),e=bE(),{profile:n,signOut:r,role:i}=la(),s=c=>t.pathname===c,a=async()=>{await r(),e("/auth/login")},o=c=>c?c.split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2):"U";return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("aside",{className:"hidden md:fixed md:block left-0 top-0 h-full w-64 bg-white border-r border-gray-200 z-40",children:[l.jsx("div",{className:"p-6",children:l.jsxs(An,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-gray-900",children:[l.jsx(gi,{className:"h-6 w-6 text-blue-600"}),"AgentBio.net"]})}),l.jsxs("nav",{className:"px-3 space-y-1",children:[l.jsx(Mc,{to:"/dashboard",icon:l.jsx(Y_e,{className:"h-5 w-5"}),label:"Dashboard",active:s("/dashboard")}),l.jsx(Mc,{to:"/dashboard/listings",icon:l.jsx(LJ,{className:"h-5 w-5"}),label:"Listings",active:s("/dashboard/listings")}),l.jsx(Mc,{to:"/dashboard/leads",icon:l.jsx(cf,{className:"h-5 w-5"}),label:"Leads",active:s("/dashboard/leads")}),l.jsx(Mc,{to:"/dashboard/testimonials",icon:l.jsx(Yg,{className:"h-5 w-5"}),label:"Testimonials",active:s("/dashboard/testimonials")}),l.jsx(Mc,{to:"/dashboard/links",icon:l.jsx(Z1,{className:"h-5 w-5"}),label:"Custom Links",active:s("/dashboard/links")}),l.jsx(Mc,{to:"/dashboard/analytics",icon:l.jsx(K1,{className:"h-5 w-5"}),label:"Analytics",active:s("/dashboard/analytics")}),l.jsx(Mc,{to:"/blog",icon:l.jsx(U_e,{className:"h-5 w-5"}),label:"Blog",active:s("/blog")}),l.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200",children:[i==="admin"&&l.jsx(Mc,{to:"/admin",icon:l.jsx(VJ,{className:"h-5 w-5"}),label:l.jsxs("div",{className:"flex items-center gap-2",children:["Admin",l.jsx(rn,{variant:"secondary",className:"text-xs",children:"ROOT"})]}),active:s("/admin")}),l.jsx(Mc,{to:"/dashboard/profile",icon:l.jsx(Qg,{className:"h-5 w-5"}),label:"Profile",active:s("/dashboard/profile")}),l.jsx(Mc,{to:"/dashboard/theme",icon:l.jsx(zJ,{className:"h-5 w-5"}),label:"Theme",active:s("/dashboard/theme")}),l.jsx(Mc,{to:"/dashboard/settings",icon:l.jsx(gN,{className:"h-5 w-5"}),label:"Settings",active:s("/dashboard/settings")})]})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:l.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 w-full px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx(J_e,{className:"h-5 w-5"}),l.jsx("span",{children:"Log Out"})]})})]}),l.jsxs("div",{className:"md:ml-64 min-h-screen",children:[l.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-30",children:l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(An,{to:`/${(n==null?void 0:n.username)||""}`,target:"_blank",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View Profile "}),l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-blue-600 font-semibold",children:o(n==null?void 0:n.full_name)})})]})]})}),l.jsx("main",{className:"p-4 md:p-6 pb-20 md:pb-6",children:l.jsx(gxe,{})})]}),l.jsx(p5e,{})]})}function Mc({to:t,icon:e,label:n,active:r}){return l.jsxs(An,{to:t,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${r?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e,l.jsx("span",{children:n})]})}function Fse(){const{user:t}=la(),{data:e=[],isLoading:n}=Ir({queryKey:["analytics-views",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:d,error:f}=await Xe.from("analytics_views").select("*").eq("user_id",t.id).order("viewed_at",{ascending:!1});if(f)throw f;return d},enabled:!!(t!=null&&t.id)}),{data:r=[],isLoading:i}=Ir({queryKey:["analytics-leads",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:d,error:f}=await Xe.from("leads").select("*").eq("user_id",t.id);if(f)throw f;return d},enabled:!!(t!=null&&t.id)}),s={totalViews:e.length,uniqueVisitors:new Set(e.map(d=>d.visitor_id)).size,totalLeads:r.length,conversionRate:e.length>0?(r.length/e.length*100).toFixed(2):"0.00"},a=e.reduce((d,f)=>{const h=new Date(f.viewed_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});return d[h]||(d[h]={name:h,views:0,visitors:new Set}),d[h].views++,f.visitor_id&&d[h].visitors.add(f.visitor_id),d},{}),o=Object.values(a).map(d=>({name:d.name,views:d.views,visitors:d.visitors.size})),c=r.reduce((d,f)=>{const h=f.lead_type||"contact";return d[h]=(d[h]||0)+1,d},{}),u=Object.entries(c).map(([d,f])=>({name:d.charAt(0).toUpperCase()+d.slice(1),value:f}));return{stats:s,viewsData:o,leadsData:u,recentLeads:r.slice(0,10),isLoading:n||i}}function Use(){const{user:t}=la(),e=vl(),{data:n=[],isLoading:r}=Ir({queryKey:["links",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:c,error:u}=await Xe.from("links").select("*").eq("user_id",t.id).order("position",{ascending:!0});if(u)throw u;return c},enabled:!!(t!=null&&t.id)}),i=Yn({mutationFn:async c=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const u=n.length>0?Math.max(...n.map(h=>h.position)):-1,{data:d,error:f}=await Xe.from("links").insert({user_id:t.id,title:c.title,url:c.url,icon:c.icon,position:u+1,is_active:c.active}).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["links",t==null?void 0:t.id]})}}),s=Yn({mutationFn:async({id:c,...u})=>{const{data:d,error:f}=await Xe.from("links").update(u).eq("id",c).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["links",t==null?void 0:t.id]})}}),a=Yn({mutationFn:async c=>{const{error:u}=await Xe.from("links").delete().eq("id",c);if(u)throw u},onSuccess:()=>{e.invalidateQueries({queryKey:["links",t==null?void 0:t.id]})}}),o=Yn({mutationFn:async({id:c,is_active:u})=>{const{error:d}=await Xe.from("links").update({is_active:u}).eq("id",c);if(d)throw d},onSuccess:()=>{e.invalidateQueries({queryKey:["links",t==null?void 0:t.id]})}});return{links:n,isLoading:r,addLink:i,updateLink:s,deleteLink:a,toggleActive:o}}function g5e(){const{stats:t,recentLeads:e,isLoading:n}=Fse(),{links:r}=Use(),i=r.reduce((s,a)=>s+(a.click_count||0),0);return n?l.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back!"}),l.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your profile"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(GM,{icon:l.jsx(Za,{className:"h-6 w-6 text-blue-600"}),label:"Profile Views",value:t.totalViews.toLocaleString()}),l.jsx(GM,{icon:l.jsx(cf,{className:"h-6 w-6 text-green-600"}),label:"New Leads",value:t.totalLeads.toString()}),l.jsx(GM,{icon:l.jsx(u8,{className:"h-6 w-6 text-purple-600"}),label:"Link Clicks",value:i.toLocaleString()}),l.jsx(GM,{icon:l.jsx(fi,{className:"h-6 w-6 text-orange-600"}),label:"Conversion Rate",value:`${t.conversionRate}%`})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs(an,{children:[l.jsx(Cr,{children:l.jsx(Nr,{children:"Recent Leads"})}),l.jsx(bn,{children:e.length>0?l.jsx("div",{className:"space-y-3",children:e.slice(0,5).map(s=>l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:s.name}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.email})]}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.status==="new"?"bg-blue-100 text-blue-700":s.status==="contacted"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:s.status})]},s.id))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No leads yet"})})]}),l.jsxs(an,{children:[l.jsx(Cr,{children:l.jsx(Nr,{children:"Top Links"})}),l.jsx(bn,{children:r.length>0?l.jsx("div",{className:"space-y-3",children:r.sort((s,a)=>(a.click_count||0)-(s.click_count||0)).slice(0,5).map(s=>l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:s.title}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.url})]}),l.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[l.jsx(u8,{className:"h-3 w-3"}),l.jsx("span",{children:s.click_count||0})]})]},s.id))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No links added yet"})})]})]})]})}function GM({icon:t,label:e,value:n}){return l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("div",{className:"flex items-center mb-4",children:l.jsx("div",{className:"p-2 bg-gray-50 rounded-lg",children:t})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n})]})]})}function y5e({open:t,onOpenChange:e,onSave:n}){const[r,i]=j.useState({address:"",city:"",state:"",zipCode:"",price:"",beds:3,baths:2,sqft:"",lotSize:"",propertyType:"single-family",status:"active",description:"",mlsNumber:"",yearBuilt:"",images:[]}),[s,a]=j.useState([]),o=h=>{const{name:p,value:g}=h.target;i(v=>({...v,[p]:g}))},c=(h,p)=>{const g=parseInt(p)||0;i(v=>({...v,[h]:g}))},u=h=>{const p=Array.from(h.target.files||[]);i(g=>({...g,images:[...g.images,...p]})),p.forEach(g=>{const v=new FileReader;v.onloadend=()=>{a(w=>[...w,v.result])},v.readAsDataURL(g)})},d=h=>{i(p=>({...p,images:p.images.filter((g,v)=>v!==h)})),a(p=>p.filter((g,v)=>v!==h))},f=h=>{h.preventDefault(),n==null||n(r),e(!1),i({address:"",city:"",state:"",zipCode:"",price:"",beds:3,baths:2,sqft:"",lotSize:"",propertyType:"single-family",status:"active",description:"",mlsNumber:"",yearBuilt:"",images:[]}),a([])};return l.jsx(bl,{open:t,onOpenChange:e,children:l.jsxs(Po,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(wl,{children:[l.jsx(_l,{children:"Add New Property Listing"}),l.jsx(ru,{children:"Fill in the details for your property listing"})]}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold text-sm",children:"Property Address"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx(Ye,{htmlFor:"address",children:"Street Address *"}),l.jsx(Ft,{id:"address",name:"address",value:r.address,onChange:o,placeholder:"123 Main Street",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"city",children:"City *"}),l.jsx(Ft,{id:"city",name:"city",value:r.city,onChange:o,required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"state",children:"State *"}),l.jsx(Ft,{id:"state",name:"state",value:r.state,onChange:o,maxLength:2,placeholder:"CA",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"zipCode",children:"Zip *"}),l.jsx(Ft,{id:"zipCode",name:"zipCode",value:r.zipCode,onChange:o,placeholder:"94102",required:!0})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold text-sm",children:"Property Details"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"price",children:"Price *"}),l.jsx(Ft,{id:"price",name:"price",value:r.price,onChange:o,placeholder:"1,250,000",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"propertyType",children:"Property Type *"}),l.jsxs(Tn,{value:r.propertyType,onValueChange:h=>i(p=>({...p,propertyType:h})),children:[l.jsx(wn,{children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"single-family",children:"Single Family"}),l.jsx(Ae,{value:"condo",children:"Condo"}),l.jsx(Ae,{value:"townhouse",children:"Townhouse"}),l.jsx(Ae,{value:"multi-family",children:"Multi-Family"}),l.jsx(Ae,{value:"land",children:"Land"}),l.jsx(Ae,{value:"commercial",children:"Commercial"})]})]})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"beds",children:"Bedrooms *"}),l.jsx(Ft,{id:"beds",type:"number",value:r.beds,onChange:h=>c("beds",h.target.value),min:0,required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"baths",children:"Bathrooms *"}),l.jsx(Ft,{id:"baths",type:"number",value:r.baths,onChange:h=>c("baths",h.target.value),min:0,step:.5,required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"sqft",children:"Square Feet *"}),l.jsx(Ft,{id:"sqft",name:"sqft",value:r.sqft,onChange:o,placeholder:"2,400",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"lotSize",children:"Lot Size"}),l.jsx(Ft,{id:"lotSize",name:"lotSize",value:r.lotSize,onChange:o,placeholder:"0.25 acres"})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"status",children:"Status *"}),l.jsxs(Tn,{value:r.status,onValueChange:h=>i(p=>({...p,status:h})),children:[l.jsx(wn,{children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"active",children:"Active"}),l.jsx(Ae,{value:"pending",children:"Pending"}),l.jsx(Ae,{value:"sold",children:"Sold"}),l.jsx(Ae,{value:"off-market",children:"Off Market"})]})]})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"yearBuilt",children:"Year Built"}),l.jsx(Ft,{id:"yearBuilt",name:"yearBuilt",value:r.yearBuilt,onChange:o,placeholder:"2015"})]})]})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"description",children:"Description"}),l.jsx(lc,{id:"description",name:"description",value:r.description,onChange:o,rows:4,placeholder:"Beautiful property with stunning views..."})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"mlsNumber",children:"MLS Number"}),l.jsx(Ft,{id:"mlsNumber",name:"mlsNumber",value:r.mlsNumber,onChange:o,placeholder:"ML81234567"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ye,{children:"Property Photos"}),l.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:bg-accent/50 transition-colors cursor-pointer",children:[l.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:u,className:"hidden",id:"image-upload"}),l.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[l.jsx(yN,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload or drag and drop"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG up to 5MB (max 25 images)"})]})]}),s.length>0&&l.jsx("div",{className:"grid grid-cols-4 gap-3",children:s.map((h,p)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:h,alt:`Preview ${p+1}`,className:"w-full h-24 object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>d(p),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(xl,{className:"h-3 w-3"})})]},p))})]}),l.jsxs(bb,{children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),l.jsx(Ve,{type:"submit",children:"Add Listing"})]})]})]})})}function v5e({isOpen:t,onClose:e,onSubmit:n,initialData:r}){const[i,s]=j.useState(r);if(j.useEffect(()=>{s(r)},[r]),!t)return null;const a=o=>{o.preventDefault(),n(i)};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-card border border-border rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-card border-b border-border p-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Edit Property Listing"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-accent rounded-lg transition-colors",children:l.jsx(xl,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx(Ye,{htmlFor:"address",children:"Street Address *"}),l.jsx(Ft,{id:"address",value:i.address,onChange:o=>s({...i,address:o.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"city",children:"City *"}),l.jsx(Ft,{id:"city",value:i.city,onChange:o=>s({...i,city:o.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"price",children:"Price *"}),l.jsx(Ft,{id:"price",value:i.price,onChange:o=>s({...i,price:o.target.value}),placeholder:"$450,000",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"beds",children:"Bedrooms *"}),l.jsx(Ft,{id:"beds",type:"number",value:i.beds,onChange:o=>s({...i,beds:parseInt(o.target.value)}),required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"baths",children:"Bathrooms *"}),l.jsx(Ft,{id:"baths",type:"number",value:i.baths,onChange:o=>s({...i,baths:parseInt(o.target.value)}),required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"sqft",children:"Square Feet"}),l.jsx(Ft,{id:"sqft",type:"number",value:i.sqft||"",onChange:o=>s({...i,sqft:parseInt(o.target.value)||void 0})})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"status",children:"Status *"}),l.jsxs(Tn,{value:i.status,onValueChange:o=>s({...i,status:o}),children:[l.jsx(wn,{children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"active",children:"Active"}),l.jsx(Ae,{value:"pending",children:"Pending"}),l.jsx(Ae,{value:"under_contract",children:"Under Contract"}),l.jsx(Ae,{value:"sold",children:"Sold"})]})]})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"property_type",children:"Property Type"}),l.jsxs(Tn,{value:i.property_type||"",onValueChange:o=>s({...i,property_type:o}),children:[l.jsx(wn,{children:l.jsx(Mn,{placeholder:"Select type"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"single_family",children:"Single Family"}),l.jsx(Ae,{value:"condo",children:"Condo"}),l.jsx(Ae,{value:"townhouse",children:"Townhouse"}),l.jsx(Ae,{value:"multi_family",children:"Multi-Family"}),l.jsx(Ae,{value:"land",children:"Land"})]})]})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"mls_number",children:"MLS Number"}),l.jsx(Ft,{id:"mls_number",value:i.mls_number||"",onChange:o=>s({...i,mls_number:o.target.value})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx(Ye,{htmlFor:"description",children:"Description"}),l.jsx(lc,{id:"description",value:i.description||"",onChange:o=>s({...i,description:o.target.value}),rows:4,placeholder:"Describe the property features..."})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx(Ye,{htmlFor:"image",children:"Image URL"}),l.jsx(Ft,{id:"image",type:"url",value:i.image||"",onChange:o=>s({...i,image:o.target.value}),placeholder:"https://example.com/image.jpg"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),l.jsx(Ve,{type:"submit",className:"flex-1",children:"Save Changes"})]})]})]})})}function x5e(){const{user:t}=la(),e=vl(),{data:n=[],isLoading:r}=Ir({queryKey:["listings",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:o,error:c}=await Xe.from("listings").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(c)throw c;return o},enabled:!!(t!=null&&t.id)}),i=Yn({mutationFn:async o=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{data:c,error:u}=await Xe.from("listings").insert({user_id:t.id,...o}).select().single();if(u)throw u;return c},onSuccess:()=>{e.invalidateQueries({queryKey:["listings",t==null?void 0:t.id]})}}),s=Yn({mutationFn:async({id:o,...c})=>{const{data:u,error:d}=await Xe.from("listings").update(c).eq("id",o).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["listings",t==null?void 0:t.id]})}}),a=Yn({mutationFn:async o=>{const{error:c}=await Xe.from("listings").delete().eq("id",o);if(c)throw c},onSuccess:()=>{e.invalidateQueries({queryKey:["listings",t==null?void 0:t.id]})}});return{listings:n,isLoading:r,addListing:i,updateListing:s,deleteListing:a}}function XE(){const{user:t}=la(),{data:e,isLoading:n}=Ir({queryKey:["subscription",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{data:d,error:f}=await Xe.from("subscriptions").select("*").eq("user_id",t.id).single();if(f)throw f;return d},enabled:!!(t!=null&&t.id)}),{data:r,isLoading:i}=Ir({queryKey:["usage",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return{listings:0,links:0,testimonials:0};const[d,f,h]=await Promise.all([Xe.from("listings").select("id",{count:"exact"}).eq("user_id",t.id),Xe.from("links").select("id",{count:"exact"}).eq("user_id",t.id),Xe.from("testimonials").select("id",{count:"exact"}).eq("user_id",t.id)]);return{listings:d.count||0,links:f.count||0,testimonials:h.count||0}},enabled:!!(t!=null&&t.id)}),s=d=>{if(!e||!r)return!1;const f=e[`max_${d}`],h=r[d];return f===-1?!0:h<f},a=d=>(e==null?void 0:e[d])||!1,o=d=>{if(!e)return 0;const f=e[`max_${d}`];return f===-1?1/0:f},c=d=>(r==null?void 0:r[d])||0;return{subscription:e,usage:r,isLoading:n||i,canAdd:s,hasFeature:a,getLimit:o,getUsage:c,getRemainingCount:d=>{const f=o(d),h=c(d);return f===1/0?1/0:Math.max(0,f-h)}}}const b5e={listings:{plan:"Starter",icon:fi},testimonials:{plan:"Starter",icon:yR},links:{plan:"Starter",icon:fi},custom_domain:{plan:"Professional",icon:yR},lead_export:{plan:"Starter",icon:fi},analytics:{plan:"Professional",icon:fi},premium_themes:{plan:"Professional",icon:yR}};function KE({open:t,onOpenChange:e,feature:n,currentPlan:r="Free",requiredPlan:i}){const s=b5e[n]||{plan:"Professional",icon:Q1},a=s.icon,o=i||s.plan;return l.jsx(bl,{open:t,onOpenChange:e,children:l.jsxs(Po,{className:"sm:max-w-md",children:[l.jsxs(wl,{children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mx-auto mb-4",children:l.jsx(a,{className:"w-6 h-6 text-primary"})}),l.jsxs(_l,{className:"text-center text-2xl",children:["Upgrade to unlock ",n.replace(/_/g," ")]}),l.jsxs(ru,{className:"text-center pt-2",children:["You've reached the limit of your ",l.jsx(rn,{variant:"secondary",children:r})," plan. Upgrade to ",l.jsx(rn,{variant:"default",children:o})," to unlock this feature."]})]}),l.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 my-4",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"What you'll get:"}),l.jsxs("ul",{className:"space-y-2 text-sm",children:[n==="listings"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{className:"flex items-center gap-2",children:" Up to 20 active listings (Starter)"}),l.jsx("li",{className:"flex items-center gap-2",children:" Featured property showcase"}),l.jsx("li",{className:"flex items-center gap-2",children:" Sold properties tracking"})]}),n==="testimonials"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{className:"flex items-center gap-2",children:" Up to 10 testimonials (Starter)"}),l.jsx("li",{className:"flex items-center gap-2",children:" Client reviews showcase"}),l.jsx("li",{className:"flex items-center gap-2",children:" Rating display"})]}),n==="links"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{className:"flex items-center gap-2",children:" Up to 15 custom links (Starter)"}),l.jsx("li",{className:"flex items-center gap-2",children:" Link analytics"}),l.jsx("li",{className:"flex items-center gap-2",children:" Custom icons"})]}),n==="lead_export"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{className:"flex items-center gap-2",children:" Export all leads to CSV"}),l.jsx("li",{className:"flex items-center gap-2",children:" CRM integration ready"}),l.jsx("li",{className:"flex items-center gap-2",children:" Lead management tools"})]}),n==="custom_domain"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{className:"flex items-center gap-2",children:" Connect your own domain"}),l.jsx("li",{className:"flex items-center gap-2",children:" Professional branding"}),l.jsx("li",{className:"flex items-center gap-2",children:" SSL certificate included"})]}),n==="premium_themes"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{className:"flex items-center gap-2",children:" 10+ premium themes"}),l.jsx("li",{className:"flex items-center gap-2",children:" 3D animated backgrounds"}),l.jsx("li",{className:"flex items-center gap-2",children:" Advanced customization"})]})]})]}),l.jsxs(bb,{className:"gap-2 sm:gap-0",children:[l.jsx(Ve,{variant:"outline",onClick:()=>e(!1),children:"Maybe Later"}),l.jsx(An,{to:"/pricing",children:l.jsxs(Ve,{className:"w-full sm:w-auto",children:[l.jsx(Q1,{className:"w-4 h-4 mr-2"}),"View Plans"]})})]})]})})}const w5e=Q2("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),F5=j.forwardRef(({className:t,variant:e,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:at(w5e({variant:e}),t),...n}));F5.displayName="Alert";const _5e=j.forwardRef(({className:t,...e},n)=>l.jsx("h5",{ref:n,className:at("mb-1 font-medium leading-none tracking-tight",t),...e}));_5e.displayName="AlertTitle";const U5=j.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:at("text-sm [&_p]:leading-relaxed",t),...e}));U5.displayName="AlertDescription";var B5="Progress",z5=100,[S5e]=ac(B5),[E5e,A5e]=S5e(B5),Bse=j.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=T5e,...a}=t;(i||i===0)&&!yG(i)&&console.error(M5e(`${i}`,"Progress"));const o=yG(i)?i:z5;r!==null&&!vG(r,o)&&console.error(C5e(`${r}`,"Progress"));const c=vG(r,o)?r:null,u=wP(c)?s(c,o):void 0;return l.jsx(E5e,{scope:n,value:c,max:o,children:l.jsx(Sn.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":wP(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Vse(c,o),"data-value":c??void 0,"data-max":o,...a,ref:e})})});Bse.displayName=B5;var zse="ProgressIndicator",$se=j.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=A5e(zse,n);return l.jsx(Sn.div,{"data-state":Vse(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});$se.displayName=zse;function T5e(t,e){return`${Math.round(t/e*100)}%`}function Vse(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function wP(t){return typeof t=="number"}function yG(t){return wP(t)&&!isNaN(t)&&t>0}function vG(t,e){return wP(t)&&!isNaN(t)&&t<=e&&t>=0}function M5e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${z5}\`.`}function C5e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${z5} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Hse=Bse,N5e=$se;const Wse=j.forwardRef(({className:t,value:e,...n},r)=>l.jsx(Hse,{ref:r,className:at("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(N5e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Wse.displayName=Hse.displayName;function $5({feature:t,current:e,limit:n,className:r}){const i=e/n*100,s=e>=n;return!(i>=80)&&!s?null:l.jsxs(F5,{className:r,variant:s?"destructive":"default",children:[l.jsx(K2,{className:"h-4 w-4"}),l.jsxs(U5,{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold mb-2",children:s?`You've reached your ${t} limit`:`You're running out of ${t}`}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("span",{children:[e," of ",n," used"]}),l.jsxs("span",{className:"text-muted-foreground",children:[Math.round(i),"%"]})]}),l.jsx(Wse,{value:i,className:"h-2"})]})]}),l.jsx(An,{to:"/pricing",children:l.jsxs(Ve,{size:"sm",variant:s?"secondary":"outline",children:[l.jsx(fi,{className:"w-4 h-4 mr-2"}),"Upgrade"]})})]})]})}function P5e(){const[t,e]=j.useState(""),[n,r]=j.useState(!1),[i,s]=j.useState(null),[a,o]=j.useState(!1),{toast:c}=Ef(),{listings:u,addListing:d,deleteListing:f}=x5e(),{subscription:h,canAdd:p,getLimit:g,getUsage:v}=XE(),w=()=>{if(!p("listings")){o(!0);return}r(!0)},x=async A=>{try{await d.mutateAsync(A),c({title:"Listing added!",description:"Your property listing has been created successfully."}),r(!1)}catch{c({title:"Error",description:"Failed to add listing. Please try again.",variant:"destructive"})}},_=async A=>{if(confirm("Are you sure you want to delete this listing?"))try{await f.mutateAsync(A),c({title:"Listing deleted",description:"Property listing has been removed."})}catch{c({title:"Error",description:"Failed to delete listing.",variant:"destructive"})}},S=async A=>{if(i)try{const{data:{user:C}}=await Xe.auth.getUser();if(!C)throw new Error("Not authenticated");const{error:T}=await Xe.from("listings").update({address:A.address,city:A.city,price:A.price,beds:A.beds,baths:A.baths,sqft:A.sqft,status:A.status,image:A.image,description:A.description,mls_number:A.mls_number,property_type:A.property_type,updated_at:new Date().toISOString()}).eq("id",i.id).eq("user_id",C.id);if(T)throw T;c({title:"Listing updated!",description:"Your property listing has been updated successfully."}),s(null),window.location.reload()}catch{c({title:"Error",description:"Failed to update listing. Please try again.",variant:"destructive"})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Property Listings"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your active and sold properties"})]}),l.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[l.jsx(Sa,{className:"h-4 w-4"}),"Add Property"]})]}),h&&g("listings")!==1/0&&l.jsx($5,{feature:"listings",current:v("listings"),limit:g("listings")}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ME,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx("input",{type:"text",placeholder:"Search properties...",value:t,onChange:A=>e(A.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),l.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors",children:[l.jsx(G_e,{className:"h-4 w-4"}),"Filters"]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold text-foreground",children:u.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Listings"})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.filter(A=>A.status==="active").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Active"})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:u.filter(A=>A.status==="pending").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(A=>l.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden hover:shadow-lg transition-shadow group",children:[l.jsxs("div",{className:"relative h-48 overflow-hidden",children:[l.jsx("img",{src:A.image,alt:A.address,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l.jsx("div",{className:"absolute top-3 left-3",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${A.status==="active"?"bg-green-500 text-white":"bg-yellow-500 text-white"}`,children:A.status})}),l.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[l.jsx("button",{onClick:()=>s(A),className:"p-2 bg-white/90 backdrop-blur-sm rounded-full hover:bg-white transition-colors",title:"Edit listing",children:l.jsx(mb,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>_(A.id),className:"p-2 bg-white/90 backdrop-blur-sm rounded-full hover:bg-white transition-colors text-red-600",title:"Delete listing",children:l.jsx(Zg,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:A.price}),l.jsx("div",{className:"font-medium text-foreground",children:A.address}),l.jsx("div",{className:"text-sm text-muted-foreground",children:A.city})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[l.jsxs("span",{children:[A.beds," beds"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[A.baths," baths"]}),A.sqft&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{children:[A.sqft.toLocaleString()," sqft"]})]})]}),l.jsx("div",{className:"flex items-center justify-between pt-3 border-t border-border",children:l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Listed ",new Date(A.created_at).toLocaleDateString()]})})]})]},A.id))}),u.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-accent rounded-full mb-4",children:l.jsx(Sa,{className:"h-8 w-8 text-muted-foreground"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No properties yet"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Start by adding your first property listing"}),l.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[l.jsx(Sa,{className:"h-5 w-5"}),"Add Your First Property"]})]}),l.jsx(y5e,{isOpen:n,onClose:()=>r(!1),onSubmit:x}),i&&l.jsx(v5e,{isOpen:!!i,onClose:()=>s(null),onSubmit:S,initialData:{address:i.address,city:i.city,price:i.price,beds:i.beds,baths:i.baths,sqft:i.sqft,status:i.status,image:i.image,description:i.description,mls_number:i.mls_number,property_type:i.property_type}}),l.jsx(KE,{open:a,onOpenChange:o,feature:"listings",currentPlan:(h==null?void 0:h.plan_name)||"Free",requiredPlan:"Starter"})]})}function j5e(){const[t,e]=j.useState(""),[n,r]=j.useState(!1),{user:i}=la(),{toast:s}=Ef(),{subscription:a}=XE(),{data:o,isLoading:c}=Ir({queryKey:["leads",i==null?void 0:i.id],queryFn:async()=>{if(!(i!=null&&i.id))return[];const{data:p,error:g}=await Xe.from("leads").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});if(g)throw g;return p},enabled:!!(i!=null&&i.id)}),u=()=>{if((a==null?void 0:a.plan_name)==="free"){r(!0);return}if(!o||o.length===0){s({title:"No leads to export",description:"You don't have any leads yet.",variant:"destructive"});return}const g=[["Name","Email","Phone","Type","Message","Status","Created At"].join(","),...o.map(_=>[_.name,_.email,_.phone||"",_.lead_type,`"${(_.message||"").replace(/"/g,'""')}"`,_.status,new Date(_.created_at).toLocaleDateString()].join(","))].join(`
`),v=new Blob([g],{type:"text/csv"}),w=URL.createObjectURL(v),x=document.createElement("a");x.href=w,x.download=`leads-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(w),s({title:"Leads exported",description:`Successfully exported ${o.length} leads to CSV`})},d=p=>{const v={new:{variant:"default",label:"New"},contacted:{variant:"secondary",label:"Contacted"},qualified:{variant:"outline",label:"Qualified"},converted:{variant:"default",label:"Converted"}}[p]||{variant:"outline",label:p};return l.jsx(rn,{variant:v.variant,children:v.label})},f=p=>{switch(p){case"buyer":return l.jsx(Qg,{className:"h-4 w-4"});case"seller":return l.jsx(No,{className:"h-4 w-4"});case"valuation":return l.jsx(yi,{className:"h-4 w-4"});default:return l.jsx(hp,{className:"h-4 w-4"})}},h=o==null?void 0:o.filter(p=>t?p.name.toLowerCase().includes(t.toLowerCase())||p.email.toLowerCase().includes(t.toLowerCase()):!0);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Lead Management"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and follow up with your inquiries"})]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs(Ve,{onClick:u,variant:"outline",disabled:!o||o.length===0,children:[l.jsx(_E,{className:"h-4 w-4 mr-2"}),"Export CSV",(a==null?void 0:a.plan_name)==="free"&&l.jsx(rn,{variant:"secondary",className:"ml-2",children:"Pro"})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[l.jsx(an,{children:l.jsxs(bn,{className:"pt-6",children:[l.jsx("div",{className:"text-2xl font-bold text-foreground",children:(o==null?void 0:o.length)||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Leads"})]})}),l.jsx(an,{children:l.jsxs(bn,{className:"pt-6",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:(o==null?void 0:o.filter(p=>p.status==="new").length)||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"New"})]})}),l.jsx(an,{children:l.jsxs(bn,{className:"pt-6",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(o==null?void 0:o.filter(p=>p.status==="contacted").length)||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Contacted"})]})}),l.jsx(an,{children:l.jsxs(bn,{className:"pt-6",children:[l.jsx("div",{className:"text-2xl font-bold text-primary",children:(o==null?void 0:o.filter(p=>p.status==="converted").length)||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Converted"})]})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(ME,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx("input",{type:"text",placeholder:"Search leads by name or email...",value:t,onChange:p=>e(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),l.jsx("div",{className:"space-y-3",children:c?l.jsx(an,{children:l.jsx(bn,{className:"p-8 text-center text-muted-foreground",children:"Loading leads..."})}):h&&h.length>0?h.map(p=>l.jsx(an,{className:"hover:shadow-md transition-shadow",children:l.jsx(bn,{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:f(p.lead_type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[l.jsx("h3",{className:"font-semibold text-foreground",children:p.name}),d(p.status),l.jsx(rn,{variant:"outline",className:"capitalize",children:p.lead_type})]}),l.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yi,{className:"h-3 w-3"}),l.jsx("a",{href:`mailto:${p.email}`,className:"hover:text-primary",children:p.email})]}),p.phone&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(No,{className:"h-3 w-3"}),l.jsx("a",{href:`tel:${p.phone}`,className:"hover:text-primary",children:p.phone})]}),p.message&&l.jsx("p",{className:"mt-2 text-foreground line-clamp-2",children:p.message})]})]})]}),l.jsx("div",{className:"text-right flex-shrink-0",children:l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(to,{className:"h-3 w-3"}),new Date(p.created_at).toLocaleDateString()]})})]})})},p.id)):l.jsx(an,{children:l.jsxs(bn,{className:"p-12 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-accent rounded-full mb-4",children:l.jsx(hp,{className:"h-8 w-8 text-muted-foreground"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No leads yet"}),l.jsx("p",{className:"text-muted-foreground",children:"Leads will appear here when visitors contact you through your profile"})]})})}),l.jsx(KE,{open:n,onOpenChange:r,feature:"lead_export",currentPlan:(a==null?void 0:a.plan_name)||"Free",requiredPlan:"Starter"})]})}function k5e(){const{user:t}=la(),e=vl(),{data:n,isLoading:r}=Ir({queryKey:["profile",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{data:s,error:a}=await Xe.from("profiles").select("*").eq("id",t.id).single();if(a)throw a;return s},enabled:!!(t!=null&&t.id)}),i=Yn({mutationFn:async s=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{data:a,error:o}=await Xe.from("profiles").update(s).eq("id",t.id).select().single();if(o)throw o;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["profile",t==null?void 0:t.id]})}});return{profile:n,isLoading:r,updateProfile:i}}const xG=5*1024*1024,bG=["image/jpeg","image/jpg","image/png","image/webp"];function O5e(){const{user:t}=la(),{toast:e}=Ef(),[n,r]=j.useState(!1),i=a=>bG.includes(a.type)?a.size>xG?"File size must be less than 5MB":null:"Please upload a JPG, PNG, or WEBP image";return{uploadAvatar:async a=>{if(!(t!=null&&t.id))return e({title:"Error",description:"You must be logged in to upload an avatar",variant:"destructive"}),null;const o=i(a);if(o)return e({title:"Invalid file",description:o,variant:"destructive"}),null;r(!0);try{const c=a.name.split(".").pop(),u=`${t.id}/avatar.${c}`,{data:d}=await Xe.storage.from("avatars").list(t.id);d&&d.length>0&&await Xe.storage.from("avatars").remove(d.map(g=>`${t.id}/${g.name}`));const{error:f}=await Xe.storage.from("avatars").upload(u,a,{cacheControl:"3600",upsert:!0});if(f)throw f;const{data:{publicUrl:h}}=Xe.storage.from("avatars").getPublicUrl(u),{error:p}=await Xe.from("profiles").update({avatar_url:h}).eq("id",t.id);if(p)throw p;return e({title:"Success",description:"Profile picture updated successfully"}),h}catch(c){return console.error("Error uploading avatar:",c),e({title:"Error",description:"Failed to upload profile picture. Please try again.",variant:"destructive"}),null}finally{r(!1)}},uploading:n,acceptedTypes:bG.join(", "),maxSize:xG}}function R5e(){var h,p,g;const{profile:t,isLoading:e,updateProfile:n}=k5e(),{uploadAvatar:r,uploading:i}=O5e(),{toast:s}=Ef(),a=j.useRef(null),[o,c]=j.useState({full_name:"",username:"",bio:"",avatar_url:""});j.useEffect(()=>{t&&c({full_name:t.full_name||"",username:t.username||"",bio:t.bio||"",avatar_url:t.avatar_url||""})},[t]);const u=v=>{c({...o,[v.target.name]:v.target.value})},d=async v=>{var _;const w=(_=v.target.files)==null?void 0:_[0];if(!w)return;const x=await r(w);x&&c({...o,avatar_url:x})},f=async v=>{v.preventDefault();try{await n.mutateAsync(o),s({title:"Profile updated!",description:"Your profile has been saved successfully."})}catch{s({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"})}};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Edit Profile"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Update your agent information and contact details"})]}),l.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[l.jsx(_0,{className:"h-4 w-4"}),"Save Changes"]})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Profile Photo"}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"relative",children:[o.avatar_url?l.jsx("img",{src:o.avatar_url,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):l.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center text-3xl font-bold text-primary",children:((h=o.full_name)==null?void 0:h.split(" ").map(v=>v[0]).join(""))||((g=(p=o.username)==null?void 0:p[0])==null?void 0:g.toUpperCase())||"?"}),l.jsx("button",{type:"button",onClick:()=>{var v;return(v=a.current)==null?void 0:v.click()},disabled:i,className:"absolute bottom-0 right-0 p-2 bg-primary text-primary-foreground rounded-full hover:bg-primary/90 transition-colors disabled:opacity-50",children:l.jsx($_e,{className:"h-4 w-4"})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-foreground mb-1",children:"Upload Photo"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"JPG, PNG or WEBP. Max size 5MB."}),l.jsx("button",{type:"button",onClick:()=>{var v;return(v=a.current)==null?void 0:v.click()},disabled:i,className:"px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors text-sm font-medium disabled:opacity-50",children:i?"Uploading...":"Choose File"}),l.jsx("input",{ref:a,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:d,className:"hidden"})]})]})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Basic Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Full Name"}),l.jsx("input",{type:"text",name:"full_name",value:o.full_name,onChange:u,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Username *"}),l.jsx("input",{type:"text",name:"username",value:o.username,onChange:u,required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Professional Bio"}),l.jsx("textarea",{name:"bio",value:o.bio,onChange:u,rows:6,maxLength:500,placeholder:"Tell potential clients about your experience, specialties, and what makes you unique...",className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none"}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[o.bio.length,"/500 characters"]})]})]})}function wG({theme:t,isSelected:e,onSelect:n,onPreview:r}){return l.jsxs(an,{className:at("relative cursor-pointer transition-all hover:shadow-lg",e&&"ring-2 ring-primary"),onClick:()=>n(t),children:[e&&l.jsx("div",{className:"absolute top-2 right-2 z-10 w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:l.jsx(Ou,{className:"w-4 h-4 text-white"})}),l.jsxs(bn,{className:"p-0",children:[l.jsxs("div",{className:"h-32 p-4 rounded-t-lg relative overflow-hidden",style:{backgroundColor:t.colors.background},children:[t.has3D&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 via-transparent to-pink-500/10 animate-pulse"}),l.jsxs("div",{className:"flex items-start gap-2 mb-3 relative z-10",children:[l.jsx("div",{className:"w-16 h-16 rounded-full",style:{backgroundColor:t.colors.primary}}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-3 rounded",style:{backgroundColor:t.colors.foreground,opacity:.8,width:"70%"}}),l.jsx("div",{className:"h-2 rounded",style:{backgroundColor:t.colors.muted,width:"90%"}})]})]}),l.jsxs("div",{className:"flex gap-2 relative z-10",children:[l.jsx("div",{className:"w-8 h-8 rounded",style:{backgroundColor:t.colors.primary},title:"Primary"}),l.jsx("div",{className:"w-8 h-8 rounded",style:{backgroundColor:t.colors.secondary},title:"Secondary"}),l.jsx("div",{className:"w-8 h-8 rounded",style:{backgroundColor:t.colors.accent},title:"Accent"})]})]}),l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold truncate",children:t.name}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:t.description})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[t.isPremium&&l.jsx(rn,{variant:"secondary",className:"text-xs",children:"Pro"}),t.has3D&&l.jsx(rn,{variant:"outline",className:"text-xs bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0",children:"3D"})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Fonts:"})," ",t.fonts.heading,t.fonts.heading!==t.fonts.body&&` / ${t.fonts.body}`]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ve,{variant:e?"default":"outline",size:"sm",className:"flex-1",onClick:i=>{i.stopPropagation(),n(t)},children:e?"Selected":"Apply"}),r&&l.jsx(Ve,{variant:"ghost",size:"sm",onClick:i=>{i.stopPropagation(),r(t)},children:"Preview"})]})]})]})]})}var nk="Popover",[Gse]=ac(nk,[aj]),YE=aj(),[I5e,Dp]=Gse(nk),qse=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,o=YE(e),c=j.useRef(null),[u,d]=j.useState(!1),[f,h]=gp({prop:r,defaultProp:i??!1,onChange:s,caller:nk});return l.jsx(Cee,{...o,children:l.jsx(I5e,{scope:e,contentId:Zd(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>d(!0),[]),onCustomAnchorRemove:j.useCallback(()=>d(!1),[]),modal:a,children:n})})};qse.displayName=nk;var Xse="PopoverAnchor",L5e=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Dp(Xse,n),s=YE(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return j.useEffect(()=>(a(),()=>o()),[a,o]),l.jsx(hB,{...s,...r,ref:e})});L5e.displayName=Xse;var Kse="PopoverTrigger",Yse=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Dp(Kse,n),s=YE(n),a=jr(e,i.triggerRef),o=l.jsx(Sn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":tae(i.open),...r,ref:a,onClick:On(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx(hB,{asChild:!0,...s,children:o})});Yse.displayName=Kse;var V5="PopoverPortal",[D5e,F5e]=Gse(V5,{forceMount:void 0}),Zse=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Dp(V5,e);return l.jsx(D5e,{scope:e,forceMount:n,children:l.jsx(jp,{present:n||s.open,children:l.jsx(oj,{asChild:!0,container:i,children:r})})})};Zse.displayName=V5;var R0="PopoverContent",Qse=j.forwardRef((t,e)=>{const n=F5e(R0,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Dp(R0,t.__scopePopover);return l.jsx(jp,{present:r||s.open,children:s.modal?l.jsx(B5e,{...i,ref:e}):l.jsx(z5e,{...i,ref:e})})});Qse.displayName=R0;var U5e=Jg("PopoverContent.RemoveScroll"),B5e=j.forwardRef((t,e)=>{const n=Dp(R0,t.__scopePopover),r=j.useRef(null),i=jr(e,r),s=j.useRef(!1);return j.useEffect(()=>{const a=r.current;if(a)return mB(a)},[]),l.jsx(cj,{as:U5e,allowPinchZoom:!0,children:l.jsx(Jse,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:On(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),s.current||(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:On(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:On(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),z5e=j.forwardRef((t,e)=>{const n=Dp(R0,t.__scopePopover),r=j.useRef(!1),i=j.useRef(!1);return l.jsx(Jse,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Jse=j.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,h=Dp(R0,n),p=YE(n);return rB(),l.jsx(tj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(ej,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(Nee,{"data-state":tae(h.open),role:"dialog",id:h.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),eae="PopoverClose",$5e=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Dp(eae,n);return l.jsx(Sn.button,{type:"button",...r,ref:e,onClick:On(t.onClick,()=>i.onOpenChange(!1))})});$5e.displayName=eae;var V5e="PopoverArrow",H5e=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=YE(n);return l.jsx(Pee,{...i,...r,ref:e})});H5e.displayName=V5e;function tae(t){return t?"open":"closed"}var W5e=qse,G5e=Yse,q5e=Zse,nae=Qse;const X5e=W5e,K5e=G5e,rae=j.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>l.jsx(q5e,{children:l.jsx(nae,{ref:i,align:e,sideOffset:n,className:at("z-50 w-72 rounded-md border border-gray-200 bg-white p-4 text-gray-900 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));rae.displayName=nae.displayName;const Y5e=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#F97316","#1F2937","#6B7280"];function b_({label:t,value:e,onChange:n,description:r}){const[i,s]=j.useState(!1),a=o=>{n(o)};return l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:t,children:t}),r&&l.jsx("p",{className:"text-xs text-muted-foreground",children:r}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(X5e,{open:i,onOpenChange:s,children:[l.jsx(K5e,{asChild:!0,children:l.jsx(Ve,{variant:"outline",className:"w-12 h-10 p-0 border-2",style:{backgroundColor:e},"aria-label":`Pick ${t}`})}),l.jsx(rae,{className:"w-64 p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Preset Colors"}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:Y5e.map(o=>l.jsx("button",{className:"w-10 h-10 rounded border-2 hover:scale-110 transition-transform",style:{backgroundColor:o},onClick:()=>{a(o),s(!1)},"aria-label":`Select ${o}`},o))})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Custom Color"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"color",value:e,onChange:o=>a(o.target.value),className:"w-12 h-10 rounded border cursor-pointer"}),l.jsx(Ft,{type:"text",value:e,onChange:o=>a(o.target.value),placeholder:"#000000",className:"flex-1 font-mono text-sm"})]})]})]})})]}),l.jsx(Ft,{type:"text",value:e,onChange:o=>a(o.target.value),placeholder:"#000000",className:"flex-1 font-mono"})]})]})}var KI="rovingFocusGroup.onEntryFocus",Z5e={bubbles:!1,cancelable:!0},ZE="RovingFocusGroup",[s4,iae,Q5e]=ree(ZE),[J5e,sae]=ac(ZE,[Q5e]),[eze,tze]=J5e(ZE),aae=j.forwardRef((t,e)=>l.jsx(s4.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(s4.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(nze,{...t,ref:e})})}));aae.displayName=ZE;var nze=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=j.useRef(null),p=jr(e,h),g=nB(s),[v,w]=gp({prop:a,defaultProp:o??null,onChange:c,caller:ZE}),[x,_]=j.useState(!1),S=uf(u),A=iae(n),C=j.useRef(!1),[T,N]=j.useState(0);return j.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(KI,S),()=>O.removeEventListener(KI,S)},[S]),l.jsx(eze,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:v,onItemFocus:j.useCallback(O=>w(O),[w]),onItemShiftTab:j.useCallback(()=>_(!0),[]),onFocusableItemAdd:j.useCallback(()=>N(O=>O+1),[]),onFocusableItemRemove:j.useCallback(()=>N(O=>O-1),[]),children:l.jsx(Sn.div,{tabIndex:x||T===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:On(t.onMouseDown,()=>{C.current=!0}),onFocus:On(t.onFocus,O=>{const U=!C.current;if(O.target===O.currentTarget&&U&&!x){const R=new CustomEvent(KI,Z5e);if(O.currentTarget.dispatchEvent(R),!R.defaultPrevented){const I=A().filter(q=>q.focusable),B=I.find(q=>q.active),G=I.find(q=>q.id===v),Q=[B,G,...I].filter(Boolean).map(q=>q.ref.current);cae(Q,d)}}C.current=!1}),onBlur:On(t.onBlur,()=>_(!1))})})}),oae="RovingFocusGroupItem",lae=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,c=Zd(),u=s||c,d=tze(oae,n),f=d.currentTabStopId===u,h=iae(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:v}=d;return j.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),l.jsx(s4.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:l.jsx(Sn.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:On(t.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:On(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:On(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=sze(w,d.orientation,d.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=h().filter(A=>A.focusable).map(A=>A.ref.current);if(x==="last")S.reverse();else if(x==="prev"||x==="next"){x==="prev"&&S.reverse();const A=S.indexOf(w.currentTarget);S=d.loop?aze(S,A+1):S.slice(A+1)}setTimeout(()=>cae(S))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});lae.displayName=oae;var rze={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ize(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function sze(t,e,n){const r=ize(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rze[r]}function cae(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function aze(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var oze=aae,lze=lae,rk="Tabs",[cze]=ac(rk,[sae]),uae=sae(),[uze,H5]=cze(rk),dae=j.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=t,d=nB(o),[f,h]=gp({prop:r,onChange:i,defaultProp:s??"",caller:rk});return l.jsx(uze,{scope:n,baseId:Zd(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:l.jsx(Sn.div,{dir:d,"data-orientation":a,...u,ref:e})})});dae.displayName=rk;var fae="TabsList",hae=j.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=H5(fae,n),a=uae(n);return l.jsx(oze,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(Sn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});hae.displayName=fae;var pae="TabsTrigger",mae=j.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=H5(pae,n),o=uae(n),c=vae(a.baseId,r),u=xae(a.baseId,r),d=r===a.value;return l.jsx(lze,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(Sn.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:On(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:On(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:On(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});mae.displayName=pae;var gae="TabsContent",yae=j.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=H5(gae,n),c=vae(o.baseId,r),u=xae(o.baseId,r),d=r===o.value,f=j.useRef(d);return j.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(jp,{present:i||d,children:({present:h})=>l.jsx(Sn.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});yae.displayName=gae;function vae(t,e){return`${t}-trigger-${e}`}function xae(t,e){return`${t}-content-${e}`}var dze=dae,bae=hae,wae=mae,_ae=yae;const Af=dze,od=j.forwardRef(({className:t,...e},n)=>l.jsx(bae,{ref:n,className:at("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",t),...e}));od.displayName=bae.displayName;const qr=j.forwardRef(({className:t,...e},n)=>l.jsx(wae,{ref:n,className:at("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm",t),...e}));qr.displayName=wae.displayName;const Ki=j.forwardRef(({className:t,...e},n)=>l.jsx(_ae,{ref:n,className:at("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",t),...e}));Ki.displayName=_ae.displayName;const _G=["Inter","Roboto","Open Sans","Lato","Montserrat","Poppins","Playfair Display","Merriweather","Bebas Neue","Source Sans Pro"];function fze(){const{toast:t}=Ef(),{user:e}=la(),[n,r]=j.useState(RNe()),[i,s]=j.useState(n.colors),[a,o]=j.useState(n.fonts),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),{subscription:g}=XE();j.useEffect(()=>{v()},[e]);const v=async()=>{if(e)try{const{data:O,error:U}=await Xe.from("profiles").select("theme").eq("id",e.id).single();if(U)throw U;if(O!=null&&O.theme){let R;typeof O.theme=="string"?O.theme.startsWith("{")?R=JSON.parse(O.theme):R=Jm.find(B=>B.id===O.theme)||Jm[0]:R=O.theme,r(R),s(R.colors),o(R.fonts),s1(R)}}catch(O){console.error("Failed to load saved theme:",O);const U=Jm[0];r(U),s(U.colors),o(U.fonts)}},w=async O=>{if(O.isPremium&&(g==null?void 0:g.plan_name)==="free"){p(!0);return}r(O),s(O.colors),o(O.fonts),u(!1),s1(O)},x=async()=>{if(!e){t({title:"Error",description:"You must be logged in to save themes",variant:"destructive"});return}f(!0);try{const O={...n,colors:i,fonts:a},{error:U}=await Xe.from("profiles").update({theme:JSON.stringify(O)}).eq("id",e.id);if(U)throw U;s1(O),t({title:"Theme saved!",description:"Your profile theme has been updated successfully."}),u(!1)}catch(O){console.error("Failed to save theme:",O),t({title:"Error",description:"Failed to save theme. Please try again.",variant:"destructive"})}finally{f(!1)}},_=async()=>{if(!e){t({title:"Error",description:"You must be logged in to preview",variant:"destructive"});return}try{const{data:O,error:U}=await Xe.from("profiles").select("username").eq("id",e.id).single();if(U)throw U;O!=null&&O.username&&window.open(`/${O.username}`,"_blank")}catch{t({title:"Error",description:"Failed to open preview",variant:"destructive"})}},S=()=>{s(n.colors),o(n.fonts),u(!1),t({title:"Reset to default",description:"Theme has been reset to its default settings."})},A=(O,U)=>{s(R=>({...R,[O]:U})),u(!0)},C=(O,U)=>{o(R=>({...R,[O]:U})),u(!0)},T=Jm.filter(O=>!O.isPremium),N=Jm.filter(O=>O.isPremium);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Theme Customization"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Customize your profile's look and feel"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Ve,{variant:"outline",size:"sm",onClick:_,title:"Open your public profile in a new tab to see your theme",children:[l.jsx(Za,{className:"w-4 h-4 mr-2"}),"Preview Live"]}),c&&l.jsxs(Ve,{variant:"outline",size:"sm",onClick:S,children:[l.jsx(a1e,{className:"w-4 h-4 mr-2"}),"Reset"]}),l.jsxs(Ve,{size:"sm",onClick:x,disabled:d,children:[d?l.jsx(_te,{size:"sm",className:"mr-2"}):l.jsx(_0,{className:"w-4 h-4 mr-2"}),"Save Theme"]})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 border border-blue-200 dark:border-blue-900 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"How to see your theme changes:"}),l.jsxs("ol",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:["Select a theme below and click ",l.jsx("strong",{children:'"Save Theme"'})]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:'"Preview Live"'})," button above to open your public profile in a new tab"]}),l.jsx("li",{children:"Premium themes with 3D effects will show animated backgrounds on your public page!"})]}),l.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-2",children:[" Note: Theme effects only appear on your ",l.jsx("strong",{children:"public profile page"}),", not in this dashboard."]})]})]})}),l.jsxs(Af,{defaultValue:"presets",className:"space-y-6",children:[l.jsxs(od,{children:[l.jsxs(qr,{value:"presets",children:[l.jsx(zJ,{className:"w-4 h-4 mr-2"}),"Theme Presets"]}),l.jsxs(qr,{value:"customize",children:[l.jsx(Za,{className:"w-4 h-4 mr-2"}),"Customize"]})]}),l.jsxs(Ki,{value:"presets",className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Free Themes"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(O=>l.jsx(wG,{theme:O,isSelected:n.id===O.id,onSelect:w},O.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Premium Themes"}),l.jsx(rn,{children:"Pro"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(O=>l.jsx(wG,{theme:O,isSelected:n.id===O.id,onSelect:w},O.id))})]})]}),l.jsxs(Ki,{value:"customize",className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsx(Nr,{children:"Colors"}),l.jsx(Gr,{children:"Customize the color scheme of your profile"})]}),l.jsxs(bn,{className:"space-y-4",children:[l.jsx(b_,{label:"Primary Color",value:i.primary,onChange:O=>A("primary",O),description:"Main brand color (buttons, links)"}),l.jsx(b_,{label:"Secondary Color",value:i.secondary,onChange:O=>A("secondary",O),description:"Secondary accent color"}),l.jsx(b_,{label:"Accent Color",value:i.accent,onChange:O=>A("accent",O),description:"Highlights and CTAs"}),l.jsx(b_,{label:"Background Color",value:i.background,onChange:O=>A("background",O),description:"Page background"}),l.jsx(b_,{label:"Text Color",value:i.foreground,onChange:O=>A("foreground",O),description:"Primary text color"})]})]}),l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsx(Nr,{children:"Typography"}),l.jsx(Gr,{children:"Select fonts for headings and body text"})]}),l.jsxs(bn,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"heading-font",children:"Heading Font"}),l.jsxs(Tn,{value:a.heading,onValueChange:O=>C("heading",O),children:[l.jsx(wn,{id:"heading-font",children:l.jsx(Mn,{})}),l.jsx(_n,{children:_G.map(O=>l.jsx(Ae,{value:O,children:l.jsx("span",{style:{fontFamily:O},children:O})},O))})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Font used for titles and headings"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"body-font",children:"Body Font"}),l.jsxs(Tn,{value:a.body,onValueChange:O=>C("body",O),children:[l.jsx(wn,{id:"body-font",children:l.jsx(Mn,{})}),l.jsx(_n,{children:_G.map(O=>l.jsx(Ae,{value:O,children:l.jsx("span",{style:{fontFamily:O},children:O})},O))})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Font used for paragraphs and text"})]}),l.jsxs("div",{className:"mt-6 p-4 border rounded-lg space-y-2",children:[l.jsx("h4",{className:"text-sm font-semibold text-muted-foreground",children:"Preview"}),l.jsx("h3",{className:"text-2xl font-bold",style:{fontFamily:a.heading,color:i.primary},children:"Your Profile Heading"}),l.jsx("p",{className:"text-sm",style:{fontFamily:a.body,color:i.foreground},children:"This is how your body text will appear on your profile. It should be readable and professional."})]})]})]})]}),l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsx(Nr,{children:"Live Preview"}),l.jsx(Gr,{children:"See how your theme will look on your profile"})]}),l.jsx(bn,{children:l.jsxs("div",{className:"rounded-lg p-8 space-y-4",style:{backgroundColor:i.background},children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-20 h-20 rounded-full",style:{backgroundColor:i.primary}}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("h3",{className:"text-2xl font-bold",style:{fontFamily:a.heading,color:i.foreground},children:"Agent Name"}),l.jsx("p",{className:"text-sm",style:{fontFamily:a.body,color:i.mutedForeground},children:"Realtor | Luxury Home Specialist"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"px-4 py-2 rounded-lg text-white text-sm font-medium",style:{backgroundColor:i.primary},children:"Primary Button"}),l.jsx("button",{className:"px-4 py-2 rounded-lg text-sm font-medium",style:{backgroundColor:i.secondary,color:"white"},children:"Secondary Button"}),l.jsx("button",{className:"px-4 py-2 rounded-lg text-sm font-medium",style:{backgroundColor:i.accent,color:"white"},children:"Accent Button"})]}),l.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:i.card},children:[l.jsx("h4",{className:"font-semibold mb-2",style:{fontFamily:a.heading,color:i.cardForeground},children:"Property Card"}),l.jsx("p",{className:"text-sm",style:{fontFamily:a.body,color:i.mutedForeground},children:"This is how property cards will appear with your selected theme."})]})]})})]})]})]}),l.jsx(KE,{open:h,onOpenChange:p,feature:"premium_themes",currentPlan:(g==null?void 0:g.plan_name)||"Free",requiredPlan:"Professional"})]})}const SG=[{value:"instagram",label:"Instagram",icon:AE},{value:"facebook",label:"Facebook",icon:SE},{value:"linkedin",label:"LinkedIn",icon:TE},{value:"tiktok",label:"TikTok",icon:X2},{value:"youtube",label:"YouTube",icon:Y2},{value:"zillow",label:"Zillow",icon:gi},{value:"realtor",label:"Realtor.com",icon:Cp},{value:"calendar",label:"Calendar",icon:to},{value:"website",label:"Website",icon:q2},{value:"email",label:"Email",icon:yi},{value:"phone",label:"Phone",icon:No},{value:"whatsapp",label:"WhatsApp",icon:ZU},{value:"document",label:"Document",icon:EE},{value:"link",label:"Link",icon:Z1}];function hze({open:t,onOpenChange:e,onSave:n}){const[r,i]=j.useState({title:"",url:"",icon:"link",active:!0}),s=o=>{const{name:c,value:u}=o.target;i(d=>({...d,[c]:u}))},a=o=>{o.preventDefault(),n==null||n(r),e(!1),i({title:"",url:"",icon:"link",active:!0})};return l.jsx(bl,{open:t,onOpenChange:e,children:l.jsxs(Po,{className:"max-w-md",children:[l.jsxs(wl,{children:[l.jsx(_l,{children:"Add Custom Link"}),l.jsx(ru,{children:"Add a social media profile or custom link to your bio"})]}),l.jsxs("form",{onSubmit:a,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"title",children:"Link Title *"}),l.jsx(Ft,{id:"title",name:"title",value:r.title,onChange:s,placeholder:"Schedule a Consultation",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"url",children:"URL *"}),l.jsx(Ft,{id:"url",name:"url",type:"url",value:r.url,onChange:s,placeholder:"https://example.com",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"icon",children:"Icon"}),l.jsxs(Tn,{value:r.icon,onValueChange:o=>i(c=>({...c,icon:o})),children:[l.jsx(wn,{children:l.jsx(Mn,{children:(()=>{const o=SG.find(u=>u.value===r.icon),c=(o==null?void 0:o.icon)||Z1;return l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(c,{className:"h-4 w-4"}),l.jsx("span",{children:(o==null?void 0:o.label)||"Custom"})]})})()})}),l.jsx(_n,{children:SG.map(o=>{const c=o.icon;return l.jsx(Ae,{value:o.value,children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(c,{className:"h-4 w-4"}),l.jsx("span",{children:o.label})]})},o.value)})})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"active",checked:r.active,onChange:o=>i(c=>({...c,active:o.target.checked})),className:"rounded border-border"}),l.jsx(Ye,{htmlFor:"active",className:"cursor-pointer",children:"Active (visible on profile)"})]}),l.jsxs(bb,{children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),l.jsx(Ve,{type:"submit",children:"Add Link"})]})]})]})})}function pze({isOpen:t,onClose:e,onSubmit:n,initialData:r}){const[i,s]=j.useState(r);if(j.useEffect(()=>{s(r)},[r]),!t)return null;const a=o=>{o.preventDefault(),n(i)};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-card border border-border rounded-lg w-full max-w-md",children:[l.jsxs("div",{className:"border-b border-border p-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Edit Link"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-accent rounded-lg transition-colors",children:l.jsx(xl,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"title",children:"Link Title *"}),l.jsx(Ft,{id:"title",value:i.title,onChange:o=>s({...i,title:o.target.value}),placeholder:"e.g., My Website",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"url",children:"URL *"}),l.jsx(Ft,{id:"url",type:"url",value:i.url,onChange:o=>s({...i,url:o.target.value}),placeholder:"https://example.com",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"icon",children:"Icon (optional)"}),l.jsx(Ft,{id:"icon",value:i.icon||"",onChange:o=>s({...i,icon:o.target.value}),placeholder:"e.g., link, globe, home"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Icon name from Lucide icons"})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),l.jsx(Ve,{type:"submit",className:"flex-1",children:"Save Changes"})]})]})]})})}var Sae="AlertDialog",[mze]=ac(Sae,[Ote]),Tf=Ote(),Eae=t=>{const{__scopeAlertDialog:e,...n}=t,r=Tf(e);return l.jsx(Kte,{...r,...n,modal:!0})};Eae.displayName=Sae;var gze="AlertDialogTrigger",yze=j.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Tf(n);return l.jsx(Yte,{...i,...r,ref:e})});yze.displayName=gze;var vze="AlertDialogPortal",Aae=t=>{const{__scopeAlertDialog:e,...n}=t,r=Tf(e);return l.jsx(Zte,{...r,...n})};Aae.displayName=vze;var xze="AlertDialogOverlay",Tae=j.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Tf(n);return l.jsx(bB,{...i,...r,ref:e})});Tae.displayName=xze;var Xx="AlertDialogContent",[bze,wze]=mze(Xx),_ze=I1e("AlertDialogContent"),Mae=j.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=Tf(n),a=j.useRef(null),o=jr(e,a),c=j.useRef(null);return l.jsx(oCe,{contentName:Xx,titleName:Cae,docsSlug:"alert-dialog",children:l.jsx(bze,{scope:n,cancelRef:c,children:l.jsxs(wB,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:On(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(_ze,{children:r}),l.jsx(Eze,{contentRef:a})]})})})});Mae.displayName=Xx;var Cae="AlertDialogTitle",Nae=j.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Tf(n);return l.jsx(_B,{...i,...r,ref:e})});Nae.displayName=Cae;var Pae="AlertDialogDescription",jae=j.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Tf(n);return l.jsx(SB,{...i,...r,ref:e})});jae.displayName=Pae;var Sze="AlertDialogAction",kae=j.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Tf(n);return l.jsx(EB,{...i,...r,ref:e})});kae.displayName=Sze;var Oae="AlertDialogCancel",Rae=j.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=wze(Oae,n),s=Tf(n),a=jr(e,i);return l.jsx(EB,{...s,...r,ref:a})});Rae.displayName=Oae;var Eze=({contentRef:t})=>{const e=`\`${Xx}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xx}\` by passing a \`${Pae}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xx}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Aze=Eae,Tze=Aae,Iae=Tae,Lae=Mae,Dae=kae,Fae=Rae,Uae=Nae,Bae=jae;const Mze=Aze,Cze=Tze,zae=j.forwardRef(({className:t,...e},n)=>l.jsx(Iae,{className:at("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));zae.displayName=Iae.displayName;const $ae=j.forwardRef(({className:t,...e},n)=>l.jsxs(Cze,{children:[l.jsx(zae,{}),l.jsx(Lae,{ref:n,className:at("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));$ae.displayName=Lae.displayName;const Vae=({className:t,...e})=>l.jsx("div",{className:at("flex flex-col space-y-2 text-center sm:text-left",t),...e});Vae.displayName="AlertDialogHeader";const Hae=({className:t,...e})=>l.jsx("div",{className:at("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Hae.displayName="AlertDialogFooter";const Wae=j.forwardRef(({className:t,...e},n)=>l.jsx(Uae,{ref:n,className:at("text-lg font-semibold",t),...e}));Wae.displayName=Uae.displayName;const Gae=j.forwardRef(({className:t,...e},n)=>l.jsx(Bae,{ref:n,className:at("text-sm text-muted-foreground",t),...e}));Gae.displayName=Bae.displayName;const qae=j.forwardRef(({className:t,...e},n)=>l.jsx(Dae,{ref:n,className:at(tB(),t),...e}));qae.displayName=Dae.displayName;const Xae=j.forwardRef(({className:t,...e},n)=>l.jsx(Fae,{ref:n,className:at(tB({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Xae.displayName=Fae.displayName;const Nze=t=>({calendar:to,instagram:AE,facebook:SE,zillow:gi,link:Z1,linkedin:TE,tiktok:X2,youtube:Y2,realtor:Cp,website:q2,email:yi,phone:No,whatsapp:ZU,document:EE})[t]||Z1;function Pze(){const[t,e]=j.useState(!1),[n,r]=j.useState(!1),[i,s]=j.useState(null),[a,o]=j.useState(!1),[c,u]=j.useState(null),[d,f]=j.useState(!1),{toast:h}=Ef(),{links:p,isLoading:g,addLink:v,updateLink:w,deleteLink:x}=Use(),{subscription:_,canAdd:S,getLimit:A,getUsage:C}=XE(),T=()=>{if(!S("links")){f(!0);return}e(!0)},N=async B=>{try{await v.mutateAsync(B),h({title:"Link added!",description:"Your custom link has been created successfully."})}catch{h({title:"Error",description:"Failed to add link. Please try again.",variant:"destructive"})}},O=B=>{s(B),r(!0)},U=async(B,G)=>{try{await w.mutateAsync({id:B,...G}),h({title:"Link updated!",description:"Your link has been updated successfully."})}catch{h({title:"Error",description:"Failed to update link. Please try again.",variant:"destructive"})}},R=B=>{u(B),o(!0)},I=async()=>{if(c)try{await x.mutateAsync(c),h({title:"Link deleted",description:"Your link has been removed successfully."})}catch{h({title:"Error",description:"Failed to delete link. Please try again.",variant:"destructive"})}finally{o(!1),u(null)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Custom Links"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your social and custom links"})]}),l.jsxs("button",{onClick:T,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[l.jsx(Sa,{className:"h-4 w-4"}),"Add Link"]})]}),_&&A("links")!==1/0&&l.jsx($5,{feature:"links",current:C("links"),limit:A("links")}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Links"})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.filter(B=>B.is_active).length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Active"})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold text-primary",children:p.reduce((B,G)=>B+G.click_count,0)}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Clicks"})]})]}),l.jsx("div",{className:"bg-card border border-border rounded-lg divide-y divide-border",children:g?l.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Loading links..."}):p.length===0?l.jsx("div",{className:"p-8 text-center text-muted-foreground",children:'No links yet. Click "Add Link" to create your first link.'}):p.map(B=>l.jsxs("div",{className:"p-4 flex items-center gap-4 hover:bg-accent/50 transition-colors",children:[l.jsx("button",{className:"cursor-grab active:cursor-grabbing p-1 hover:bg-accent rounded",children:l.jsx(BJ,{className:"h-5 w-5 text-muted-foreground"})}),l.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-accent rounded-lg",children:(()=>{const G=Nze(B.icon);return l.jsx(G,{className:"h-6 w-6 text-foreground"})})()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-medium text-foreground truncate",children:B.title}),B.is_active?l.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full font-medium",children:"Active"}):l.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded-full font-medium",children:"Inactive"})]}),l.jsxs("a",{href:B.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-primary flex items-center gap-1 truncate",children:[B.url,l.jsx(kg,{className:"h-3 w-3"})]})]}),l.jsxs("div",{className:"text-right hidden sm:block",children:[l.jsx("div",{className:"text-lg font-semibold text-foreground",children:B.click_count}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"clicks"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>O(B),className:"p-2 hover:bg-accent rounded-lg transition-colors",children:l.jsx(mb,{className:"h-4 w-4 text-muted-foreground"})}),l.jsx("button",{onClick:()=>R(B.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:l.jsx(Zg,{className:"h-4 w-4 text-red-500"})})]})]},B.id))}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",l.jsx("strong",{children:"Tip:"})," Drag and drop links to reorder them. The order here will reflect on your public profile page."]})}),l.jsx(hze,{open:t,onOpenChange:e,onSave:N}),l.jsx(pze,{open:n,onOpenChange:r,link:i,onSave:U}),l.jsx(Mze,{open:a,onOpenChange:o,children:l.jsxs($ae,{children:[l.jsxs(Vae,{children:[l.jsx(Wae,{children:"Are you sure?"}),l.jsx(Gae,{children:"This will permanently delete this link. This action cannot be undone."})]}),l.jsxs(Hae,{children:[l.jsx(Xae,{children:"Cancel"}),l.jsx(qae,{onClick:I,children:"Delete"})]})]})}),l.jsx(KE,{open:d,onOpenChange:f,feature:"links",currentPlan:(_==null?void 0:_.plan_name)||"Free",requiredPlan:"Starter"})]})}function jze({open:t,onOpenChange:e,onSave:n}){const[r,i]=j.useState({clientName:"",rating:5,review:"",propertyType:"",featured:!1}),[s,a]=j.useState(null),o=f=>{const{name:h,value:p}=f.target;i(g=>({...g,[h]:p}))},c=f=>{var p;const h=(p=f.target.files)==null?void 0:p[0];if(h){i(v=>({...v,clientPhoto:h}));const g=new FileReader;g.onloadend=()=>{a(g.result)},g.readAsDataURL(h)}},u=()=>{i(f=>({...f,clientPhoto:void 0})),a(null)},d=f=>{f.preventDefault(),n==null||n(r),e(!1),i({clientName:"",rating:5,review:"",propertyType:"",featured:!1}),a(null)};return l.jsx(bl,{open:t,onOpenChange:e,children:l.jsxs(Po,{className:"max-w-2xl",children:[l.jsxs(wl,{children:[l.jsx(_l,{children:"Add Client Testimonial"}),l.jsx(ru,{children:"Share feedback from satisfied clients to build credibility"})]}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"clientName",children:"Client Name *"}),l.jsx(Ft,{id:"clientName",name:"clientName",value:r.clientName,onChange:o,placeholder:"John Smith",required:!0}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'You can use initials for privacy (e.g., "John S.")'})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"propertyType",children:"Property Type *"}),l.jsx(Ft,{id:"propertyType",name:"propertyType",value:r.propertyType,onChange:o,placeholder:"Single Family Home, Condo, etc.",required:!0})]})]}),l.jsxs("div",{children:[l.jsx(Ye,{children:"Rating *"}),l.jsx("div",{className:"flex gap-2 mt-2",children:[1,2,3,4,5].map(f=>l.jsx("button",{type:"button",onClick:()=>i(h=>({...h,rating:f})),className:"focus:outline-none",children:l.jsx(Yg,{className:`h-8 w-8 transition-colors ${f<=r.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},f))})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"review",children:"Testimonial Text *"}),l.jsx(lc,{id:"review",name:"review",value:r.review,onChange:o,rows:6,maxLength:500,placeholder:"Share what the client said about working with you...",required:!0}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.review.length,"/500 characters"]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ye,{children:"Client Photo (Optional)"}),s?l.jsxs("div",{className:"relative inline-block",children:[l.jsx("img",{src:s,alt:"Client preview",className:"w-24 h-24 rounded-full object-cover"}),l.jsx("button",{type:"button",onClick:u,className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full",children:l.jsx(xl,{className:"h-3 w-3"})})]}):l.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:bg-accent/50 transition-colors cursor-pointer",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden",id:"photo-upload"}),l.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:[l.jsx(yN,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload client photo"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG up to 2MB"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"featured",checked:r.featured,onChange:f=>i(h=>({...h,featured:f.target.checked})),className:"rounded border-border"}),l.jsx(Ye,{htmlFor:"featured",className:"cursor-pointer",children:"Feature this testimonial on my profile"})]}),l.jsxs(bb,{children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),l.jsx(Ve,{type:"submit",children:"Add Testimonial"})]})]})]})})}function kze({isOpen:t,onClose:e,onSubmit:n,initialData:r}){const[i,s]=j.useState(r);if(j.useEffect(()=>{s(r)},[r]),!t)return null;const a=o=>{o.preventDefault(),n(i)};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-card border border-border rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-card border-b border-border p-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Edit Testimonial"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-accent rounded-lg transition-colors",children:l.jsx(xl,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"client_name",children:"Client Name *"}),l.jsx(Ft,{id:"client_name",value:i.client_name,onChange:o=>s({...i,client_name:o.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"client_title",children:"Client Title"}),l.jsx(Ft,{id:"client_title",value:i.client_title||"",onChange:o=>s({...i,client_title:o.target.value}),placeholder:"e.g., First-Time Homebuyer"})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"rating",children:"Rating *"}),l.jsx(Ft,{id:"rating",type:"number",min:"1",max:"5",value:i.rating,onChange:o=>s({...i,rating:parseInt(o.target.value)}),required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"review",children:"Review *"}),l.jsx(lc,{id:"review",value:i.review,onChange:o=>s({...i,review:o.target.value}),rows:6,required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"property_type",children:"Property Type"}),l.jsx(Ft,{id:"property_type",value:i.property_type||"",onChange:o=>s({...i,property_type:o.target.value}),placeholder:"e.g., Single Family Home"})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"transaction_type",children:"Transaction Type"}),l.jsxs("select",{id:"transaction_type",value:i.transaction_type||"",onChange:o=>s({...i,transaction_type:o.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[l.jsx("option",{value:"",children:"Select type"}),l.jsx("option",{value:"buyer",children:"Buyer"}),l.jsx("option",{value:"seller",children:"Seller"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),l.jsx(Ve,{type:"submit",className:"flex-1",children:"Save Changes"})]})]})]})})}function Oze(){const{user:t}=la(),e=vl(),{data:n=[],isLoading:r}=Ir({queryKey:["testimonials",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:o,error:c}=await Xe.from("testimonials").select("*").eq("user_id",t.id).order("date",{ascending:!1});if(c)throw c;return o},enabled:!!(t!=null&&t.id)}),i=Yn({mutationFn:async o=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{data:c,error:u}=await Xe.from("testimonials").insert({user_id:t.id,...o}).select().single();if(u)throw u;return c},onSuccess:()=>{e.invalidateQueries({queryKey:["testimonials",t==null?void 0:t.id]})}}),s=Yn({mutationFn:async({id:o,...c})=>{const{data:u,error:d}=await Xe.from("testimonials").update(c).eq("id",o).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["testimonials",t==null?void 0:t.id]})}}),a=Yn({mutationFn:async o=>{const{error:c}=await Xe.from("testimonials").delete().eq("id",o);if(c)throw c},onSuccess:()=>{e.invalidateQueries({queryKey:["testimonials",t==null?void 0:t.id]})}});return{testimonials:n,isLoading:r,addTestimonial:i,updateTestimonial:s,deleteTestimonial:a}}function Rze(){const[t,e]=j.useState(!1),[n,r]=j.useState(null),[i,s]=j.useState(!1),{toast:a}=Ef(),{testimonials:o,addTestimonial:c,deleteTestimonial:u}=Oze(),{subscription:d,canAdd:f,getLimit:h,getUsage:p}=XE(),g=()=>{if(!f("testimonials")){s(!0);return}e(!0)},v=async A=>{try{await c.mutateAsync(A),a({title:"Testimonial added!",description:"Client review has been added successfully."}),e(!1)}catch{a({title:"Error",description:"Failed to add testimonial. Please try again.",variant:"destructive"})}},w=async A=>{if(confirm("Are you sure you want to delete this testimonial?"))try{await u.mutateAsync(A),a({title:"Testimonial deleted",description:"Client review has been removed."})}catch{a({title:"Error",description:"Failed to delete testimonial.",variant:"destructive"})}},x=async A=>{if(n)try{const{data:{user:C}}=await Xe.auth.getUser();if(!C)throw new Error("Not authenticated");const{error:T}=await Xe.from("testimonials").update({client_name:A.client_name,client_title:A.client_title,rating:A.rating,review:A.review,property_type:A.property_type,transaction_type:A.transaction_type,updated_at:new Date().toISOString()}).eq("id",n.id).eq("user_id",C.id);if(T)throw T;a({title:"Testimonial updated!",description:"Client review has been updated successfully."}),r(null),window.location.reload()}catch{a({title:"Error",description:"Failed to update testimonial. Please try again.",variant:"destructive"})}},_=o.length>0?(o.reduce((A,C)=>A+C.rating,0)/o.length).toFixed(1):"0.0",S=A=>l.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((C,T)=>l.jsx(Yg,{className:`h-4 w-4 ${T<A?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},T))});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Testimonials"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Showcase client reviews and success stories"})]}),l.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[l.jsx(Sa,{className:"h-4 w-4"}),"Add Testimonial"]})]}),d&&h("testimonials")!==1/0&&l.jsx($5,{feature:"testimonials",current:p("testimonials"),limit:h("testimonials")}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold text-foreground",children:o.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Reviews"})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-2xl font-bold text-foreground",children:_}),l.jsx("div",{className:"flex",children:S(Math.round(parseFloat(_)))})]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Rating"})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold text-primary",children:o.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Reviews"})]})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map(A=>l.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 hover:shadow-lg transition-shadow relative",children:[l.jsx("div",{className:"mb-4",children:l.jsx(t3,{className:"h-8 w-8 text-primary opacity-20"})}),l.jsxs("p",{className:"text-foreground mb-6 leading-relaxed",children:['"',A.review,'"']}),l.jsx("div",{className:"mb-4",children:S(A.rating)}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold",children:A.client_name.split(" ").map(C=>C[0]).join("")}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:A.client_name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:A.property_type||"Client"})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>r(A),className:"p-2 hover:bg-accent rounded-lg transition-colors",children:l.jsx(mb,{className:"h-4 w-4 text-muted-foreground"})}),l.jsx("button",{onClick:()=>w(A.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:l.jsx(Zg,{className:"h-4 w-4 text-red-500"})})]})]})]},A.id))}),o.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-accent rounded-full mb-4",children:l.jsx(Yg,{className:"h-8 w-8 text-muted-foreground"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No testimonials yet"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Start building social proof by adding client reviews"}),l.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[l.jsx(Sa,{className:"h-5 w-5"}),"Add Your First Testimonial"]})]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",l.jsx("strong",{children:"Tip:"})," Featured testimonials will be prominently displayed on your public profile. Ask satisfied clients for reviews after successful transactions!"]})}),l.jsx(jze,{open:t,onOpenChange:e,onSave:v}),n&&l.jsx(kze,{isOpen:!!n,onClose:()=>r(null),onSubmit:x,initialData:{client_name:n.client_name,review:n.review,rating:n.rating,client_title:n.client_title,property_type:n.property_type,transaction_type:n.transaction_type}}),l.jsx(KE,{open:i,onOpenChange:s,feature:"testimonials",currentPlan:(d==null?void 0:d.plan_name)||"Free",requiredPlan:"Starter"})]})}function qM({title:t,value:e,change:n,changeLabel:r="vs last period",icon:i,iconColor:s="text-blue-600",iconBgColor:a="bg-blue-100",trend:o="neutral"}){const c=o==="up"?"text-green-600":o==="down"?"text-red-600":"text-gray-600",u=o==="up"?"":o==="down"?"":"";return l.jsxs(an,{children:[l.jsxs(Cr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Nr,{className:"text-sm font-medium text-muted-foreground",children:t}),l.jsx("div",{className:at("rounded-full p-2",a),children:l.jsx(i,{className:at("h-4 w-4",s)})})]}),l.jsxs(bn,{children:[l.jsx("div",{className:"text-2xl font-bold",children:e}),n!==void 0&&l.jsxs("p",{className:at("text-xs font-medium mt-1",c),children:[u," ",Math.abs(n),"% ",r]})]})]})}var Ize=Array.isArray,Oo=Ize,Lze=typeof rl=="object"&&rl&&rl.Object===Object&&rl,Kae=Lze,Dze=Kae,Fze=typeof self=="object"&&self&&self.Object===Object&&self,Uze=Dze||Fze||Function("return this")(),ld=Uze,Bze=ld,zze=Bze.Symbol,QE=zze,EG=QE,Yae=Object.prototype,$ze=Yae.hasOwnProperty,Vze=Yae.toString,w_=EG?EG.toStringTag:void 0;function Hze(t){var e=$ze.call(t,w_),n=t[w_];try{t[w_]=void 0;var r=!0}catch{}var i=Vze.call(t);return r&&(e?t[w_]=n:delete t[w_]),i}var Wze=Hze,Gze=Object.prototype,qze=Gze.toString;function Xze(t){return qze.call(t)}var Kze=Xze,AG=QE,Yze=Wze,Zze=Kze,Qze="[object Null]",Jze="[object Undefined]",TG=AG?AG.toStringTag:void 0;function e$e(t){return t==null?t===void 0?Jze:Qze:TG&&TG in Object(t)?Yze(t):Zze(t)}var Mf=e$e;function t$e(t){return t!=null&&typeof t=="object"}var Cf=t$e,n$e=Mf,r$e=Cf,i$e="[object Symbol]";function s$e(t){return typeof t=="symbol"||r$e(t)&&n$e(t)==i$e}var kb=s$e,a$e=Oo,o$e=kb,l$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c$e=/^\w*$/;function u$e(t,e){if(a$e(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||o$e(t)?!0:c$e.test(t)||!l$e.test(t)||e!=null&&t in Object(e)}var W5=u$e;function d$e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Fp=d$e;const Ob=cr(Fp);var f$e=Mf,h$e=Fp,p$e="[object AsyncFunction]",m$e="[object Function]",g$e="[object GeneratorFunction]",y$e="[object Proxy]";function v$e(t){if(!h$e(t))return!1;var e=f$e(t);return e==m$e||e==g$e||e==p$e||e==y$e}var G5=v$e;const Un=cr(G5);var x$e=ld,b$e=x$e["__core-js_shared__"],w$e=b$e,YI=w$e,MG=function(){var t=/[^.]+$/.exec(YI&&YI.keys&&YI.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _$e(t){return!!MG&&MG in t}var S$e=_$e,E$e=Function.prototype,A$e=E$e.toString;function T$e(t){if(t!=null){try{return A$e.call(t)}catch{}try{return t+""}catch{}}return""}var Zae=T$e,M$e=G5,C$e=S$e,N$e=Fp,P$e=Zae,j$e=/[\\^$.*+?()[\]{}|]/g,k$e=/^\[object .+?Constructor\]$/,O$e=Function.prototype,R$e=Object.prototype,I$e=O$e.toString,L$e=R$e.hasOwnProperty,D$e=RegExp("^"+I$e.call(L$e).replace(j$e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function F$e(t){if(!N$e(t)||C$e(t))return!1;var e=M$e(t)?D$e:k$e;return e.test(P$e(t))}var U$e=F$e;function B$e(t,e){return t==null?void 0:t[e]}var z$e=B$e,$$e=U$e,V$e=z$e;function H$e(t,e){var n=V$e(t,e);return $$e(n)?n:void 0}var My=H$e,W$e=My,G$e=W$e(Object,"create"),ik=G$e,CG=ik;function q$e(){this.__data__=CG?CG(null):{},this.size=0}var X$e=q$e;function K$e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Y$e=K$e,Z$e=ik,Q$e="__lodash_hash_undefined__",J$e=Object.prototype,e6e=J$e.hasOwnProperty;function t6e(t){var e=this.__data__;if(Z$e){var n=e[t];return n===Q$e?void 0:n}return e6e.call(e,t)?e[t]:void 0}var n6e=t6e,r6e=ik,i6e=Object.prototype,s6e=i6e.hasOwnProperty;function a6e(t){var e=this.__data__;return r6e?e[t]!==void 0:s6e.call(e,t)}var o6e=a6e,l6e=ik,c6e="__lodash_hash_undefined__";function u6e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=l6e&&e===void 0?c6e:e,this}var d6e=u6e,f6e=X$e,h6e=Y$e,p6e=n6e,m6e=o6e,g6e=d6e;function Rb(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rb.prototype.clear=f6e;Rb.prototype.delete=h6e;Rb.prototype.get=p6e;Rb.prototype.has=m6e;Rb.prototype.set=g6e;var y6e=Rb;function v6e(){this.__data__=[],this.size=0}var x6e=v6e;function b6e(t,e){return t===e||t!==t&&e!==e}var q5=b6e,w6e=q5;function _6e(t,e){for(var n=t.length;n--;)if(w6e(t[n][0],e))return n;return-1}var sk=_6e,S6e=sk,E6e=Array.prototype,A6e=E6e.splice;function T6e(t){var e=this.__data__,n=S6e(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():A6e.call(e,n,1),--this.size,!0}var M6e=T6e,C6e=sk;function N6e(t){var e=this.__data__,n=C6e(e,t);return n<0?void 0:e[n][1]}var P6e=N6e,j6e=sk;function k6e(t){return j6e(this.__data__,t)>-1}var O6e=k6e,R6e=sk;function I6e(t,e){var n=this.__data__,r=R6e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var L6e=I6e,D6e=x6e,F6e=M6e,U6e=P6e,B6e=O6e,z6e=L6e;function Ib(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ib.prototype.clear=D6e;Ib.prototype.delete=F6e;Ib.prototype.get=U6e;Ib.prototype.has=B6e;Ib.prototype.set=z6e;var ak=Ib,$6e=My,V6e=ld,H6e=$6e(V6e,"Map"),X5=H6e,NG=y6e,W6e=ak,G6e=X5;function q6e(){this.size=0,this.__data__={hash:new NG,map:new(G6e||W6e),string:new NG}}var X6e=q6e;function K6e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Y6e=K6e,Z6e=Y6e;function Q6e(t,e){var n=t.__data__;return Z6e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ok=Q6e,J6e=ok;function eVe(t){var e=J6e(this,t).delete(t);return this.size-=e?1:0,e}var tVe=eVe,nVe=ok;function rVe(t){return nVe(this,t).get(t)}var iVe=rVe,sVe=ok;function aVe(t){return sVe(this,t).has(t)}var oVe=aVe,lVe=ok;function cVe(t,e){var n=lVe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var uVe=cVe,dVe=X6e,fVe=tVe,hVe=iVe,pVe=oVe,mVe=uVe;function Lb(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lb.prototype.clear=dVe;Lb.prototype.delete=fVe;Lb.prototype.get=hVe;Lb.prototype.has=pVe;Lb.prototype.set=mVe;var K5=Lb,Qae=K5,gVe="Expected a function";function Y5(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(gVe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(Y5.Cache||Qae),n}Y5.Cache=Qae;var Jae=Y5;const yVe=cr(Jae);var vVe=Jae,xVe=500;function bVe(t){var e=vVe(t,function(r){return n.size===xVe&&n.clear(),r}),n=e.cache;return e}var wVe=bVe,_Ve=wVe,SVe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,EVe=/\\(\\)?/g,AVe=_Ve(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(SVe,function(n,r,i,s){e.push(i?s.replace(EVe,"$1"):r||n)}),e}),TVe=AVe;function MVe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Z5=MVe,PG=QE,CVe=Z5,NVe=Oo,PVe=kb,jG=PG?PG.prototype:void 0,kG=jG?jG.toString:void 0;function eoe(t){if(typeof t=="string")return t;if(NVe(t))return CVe(t,eoe)+"";if(PVe(t))return kG?kG.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var jVe=eoe,kVe=jVe;function OVe(t){return t==null?"":kVe(t)}var toe=OVe,RVe=Oo,IVe=W5,LVe=TVe,DVe=toe;function FVe(t,e){return RVe(t)?t:IVe(t,e)?[t]:LVe(DVe(t))}var noe=FVe,UVe=kb;function BVe(t){if(typeof t=="string"||UVe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var lk=BVe,zVe=noe,$Ve=lk;function VVe(t,e){e=zVe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[$Ve(e[n++])];return n&&n==r?t:void 0}var Q5=VVe,HVe=Q5;function WVe(t,e,n){var r=t==null?void 0:HVe(t,e);return r===void 0?n:r}var roe=WVe;const tc=cr(roe);function GVe(t){return t==null}var qVe=GVe;const Qn=cr(qVe);var XVe=Mf,KVe=Oo,YVe=Cf,ZVe="[object String]";function QVe(t){return typeof t=="string"||!KVe(t)&&YVe(t)&&XVe(t)==ZVe}var JVe=QVe;const dy=cr(JVe);var ioe={exports:{}},Lr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5=Symbol.for("react.element"),ez=Symbol.for("react.portal"),ck=Symbol.for("react.fragment"),uk=Symbol.for("react.strict_mode"),dk=Symbol.for("react.profiler"),fk=Symbol.for("react.provider"),hk=Symbol.for("react.context"),e8e=Symbol.for("react.server_context"),pk=Symbol.for("react.forward_ref"),mk=Symbol.for("react.suspense"),gk=Symbol.for("react.suspense_list"),yk=Symbol.for("react.memo"),vk=Symbol.for("react.lazy"),t8e=Symbol.for("react.offscreen"),soe;soe=Symbol.for("react.module.reference");function cc(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case J5:switch(t=t.type,t){case ck:case dk:case uk:case mk:case gk:return t;default:switch(t=t&&t.$$typeof,t){case e8e:case hk:case pk:case vk:case yk:case fk:return t;default:return e}}case ez:return e}}}Lr.ContextConsumer=hk;Lr.ContextProvider=fk;Lr.Element=J5;Lr.ForwardRef=pk;Lr.Fragment=ck;Lr.Lazy=vk;Lr.Memo=yk;Lr.Portal=ez;Lr.Profiler=dk;Lr.StrictMode=uk;Lr.Suspense=mk;Lr.SuspenseList=gk;Lr.isAsyncMode=function(){return!1};Lr.isConcurrentMode=function(){return!1};Lr.isContextConsumer=function(t){return cc(t)===hk};Lr.isContextProvider=function(t){return cc(t)===fk};Lr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===J5};Lr.isForwardRef=function(t){return cc(t)===pk};Lr.isFragment=function(t){return cc(t)===ck};Lr.isLazy=function(t){return cc(t)===vk};Lr.isMemo=function(t){return cc(t)===yk};Lr.isPortal=function(t){return cc(t)===ez};Lr.isProfiler=function(t){return cc(t)===dk};Lr.isStrictMode=function(t){return cc(t)===uk};Lr.isSuspense=function(t){return cc(t)===mk};Lr.isSuspenseList=function(t){return cc(t)===gk};Lr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ck||t===dk||t===uk||t===mk||t===gk||t===t8e||typeof t=="object"&&t!==null&&(t.$$typeof===vk||t.$$typeof===yk||t.$$typeof===fk||t.$$typeof===hk||t.$$typeof===pk||t.$$typeof===soe||t.getModuleId!==void 0)};Lr.typeOf=cc;ioe.exports=Lr;var n8e=ioe.exports,r8e=Mf,i8e=Cf,s8e="[object Number]";function a8e(t){return typeof t=="number"||i8e(t)&&r8e(t)==s8e}var aoe=a8e;const o8e=cr(aoe);var l8e=aoe;function c8e(t){return l8e(t)&&t!=+t}var u8e=c8e;const Db=cr(u8e);var qc=function(e){return e===0?0:e>0?1:-1},mg=function(e){return dy(e)&&e.indexOf("%")===e.length-1},pt=function(e){return o8e(e)&&!Db(e)},d8e=function(e){return Qn(e)},Es=function(e){return pt(e)||dy(e)},f8e=0,Fb=function(e){var n=++f8e;return"".concat(e||"").concat(n)},fy=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pt(e)&&!dy(e))return r;var s;if(mg(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Db(s)&&(s=r),i&&s>n&&(s=n),s},Lh=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},h8e=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ia=function(e,n){return pt(e)&&pt(n)?function(r){return e+r*(n-e)}:function(){return n}};function _P(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):tc(r,e))===n})}var p8e=function(e,n){return pt(e)&&pt(n)?e-n:dy(e)&&dy(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Kx(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function a4(t){"@babel/helpers - typeof";return a4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a4(t)}var m8e=["viewBox","children"],g8e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OG=["points","pathLength"],ZI={svg:m8e,polygon:OG,polyline:OG},tz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],SP=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!Ob(r))return null;var i={};return Object.keys(r).forEach(function(s){tz.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},y8e=function(e,n,r){return function(i){return e(n,r,i),null}},EP=function(e,n,r){if(!Ob(e)||a4(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];tz.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=y8e(a,n,r))}),i},v8e=["children"],x8e=["children"];function RG(t,e){if(t==null)return{};var n=b8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function o4(t){"@babel/helpers - typeof";return o4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o4(t)}var IG={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jd=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},LG=null,QI=null,nz=function t(e){if(e===LG&&Array.isArray(QI))return QI;var n=[];return j.Children.forEach(e,function(r){Qn(r)||(n8e.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),QI=n,LG=e,n};function nc(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Jd(i)}):r=[Jd(e)],nz(t).forEach(function(i){var s=tc(i,"type.displayName")||tc(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function tl(t,e){var n=nc(t,e);return n&&n[0]}var DG=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!pt(r)||r<=0||!pt(i)||i<=0)},w8e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_8e=function(e){return e&&e.type&&dy(e.type)&&w8e.indexOf(e.type)>=0},ooe=function(e){return e&&o4(e)==="object"&&"clipDot"in e},S8e=function(e,n,r,i){var s,a=(s=ZI==null?void 0:ZI[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Un(e)&&(i&&a.includes(n)||g8e.includes(n))||r&&tz.includes(n)},Gn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!Ob(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;S8e((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},l4=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return FG(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!FG(s,a))return!1}return!0},FG=function(e,n){if(Qn(e)&&Qn(n))return!0;if(!Qn(e)&&!Qn(n)){var r=e.props||{},i=r.children,s=RG(r,v8e),a=n.props||{},o=a.children,c=RG(a,x8e);return i&&o?Kx(s,c)&&l4(i,o):!i&&!o?Kx(s,c):!1}return!1},UG=function(e,n){var r=[],i={};return nz(e).forEach(function(s,a){if(_8e(s))r.push(s);else if(s){var o=Jd(s.type),c=n[o]||{},u=c.handler,d=c.once;if(u&&(!d||!i[o])){var f=u(s,o,a);r.push(f),i[o]=!0}}}),r},E8e=function(e){var n=e&&e.type;return n&&IG[n]?IG[n]:null},A8e=function(e,n){return nz(n).indexOf(e)},T8e=["children","width","height","viewBox","className","style","title","desc"];function c4(){return c4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c4.apply(this,arguments)}function M8e(t,e){if(t==null)return{};var n=C8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u4(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,c=t.desc,u=M8e(t,T8e),d=i||{width:n,height:r,x:0,y:0},f=nr("recharts-surface",s);return ne.createElement("svg",c4({},Gn(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ne.createElement("title",null,o),ne.createElement("desc",null,c),e)}var N8e=["children","className"];function d4(){return d4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d4.apply(this,arguments)}function P8e(t,e){if(t==null)return{};var n=j8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var si=ne.forwardRef(function(t,e){var n=t.children,r=t.className,i=P8e(t,N8e),s=nr("recharts-layer",r);return ne.createElement("g",d4({className:s},Gn(i,!0),{ref:e}),n)}),ef=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function k8e(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var O8e=k8e,R8e=O8e;function I8e(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:R8e(t,e,n)}var L8e=I8e,D8e="\\ud800-\\udfff",F8e="\\u0300-\\u036f",U8e="\\ufe20-\\ufe2f",B8e="\\u20d0-\\u20ff",z8e=F8e+U8e+B8e,$8e="\\ufe0e\\ufe0f",V8e="\\u200d",H8e=RegExp("["+V8e+D8e+z8e+$8e+"]");function W8e(t){return H8e.test(t)}var loe=W8e;function G8e(t){return t.split("")}var q8e=G8e,coe="\\ud800-\\udfff",X8e="\\u0300-\\u036f",K8e="\\ufe20-\\ufe2f",Y8e="\\u20d0-\\u20ff",Z8e=X8e+K8e+Y8e,Q8e="\\ufe0e\\ufe0f",J8e="["+coe+"]",f4="["+Z8e+"]",h4="\\ud83c[\\udffb-\\udfff]",eHe="(?:"+f4+"|"+h4+")",uoe="[^"+coe+"]",doe="(?:\\ud83c[\\udde6-\\uddff]){2}",foe="[\\ud800-\\udbff][\\udc00-\\udfff]",tHe="\\u200d",hoe=eHe+"?",poe="["+Q8e+"]?",nHe="(?:"+tHe+"(?:"+[uoe,doe,foe].join("|")+")"+poe+hoe+")*",rHe=poe+hoe+nHe,iHe="(?:"+[uoe+f4+"?",f4,doe,foe,J8e].join("|")+")",sHe=RegExp(h4+"(?="+h4+")|"+iHe+rHe,"g");function aHe(t){return t.match(sHe)||[]}var oHe=aHe,lHe=q8e,cHe=loe,uHe=oHe;function dHe(t){return cHe(t)?uHe(t):lHe(t)}var fHe=dHe,hHe=L8e,pHe=loe,mHe=fHe,gHe=toe;function yHe(t){return function(e){e=gHe(e);var n=pHe(e)?mHe(e):void 0,r=n?n[0]:e.charAt(0),i=n?hHe(n,1).join(""):e.slice(1);return r[t]()+i}}var vHe=yHe,xHe=vHe,bHe=xHe("toUpperCase"),wHe=bHe;const xk=cr(wHe);function ti(t){return function(){return t}}const moe=Math.cos,AP=Math.sin,au=Math.sqrt,TP=Math.PI,bk=2*TP,p4=Math.PI,m4=2*p4,qm=1e-6,_He=m4-qm;function goe(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function SHe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return goe;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class EHe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?goe:SHe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,c=r-e,u=i-n,d=a-e,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>qm)if(!(Math.abs(f*c-u*d)>qm)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-o,v=c*c+u*u,w=p*p+g*g,x=Math.sqrt(v),_=Math.sqrt(h),S=s*Math.tan((p4-Math.acos((v+h-w)/(2*x*_)))/2),A=S/_,C=S/x;Math.abs(A-1)>qm&&this._append`L${e+A*d},${n+A*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=e+C*c},${this._y1=n+C*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),c=r*Math.sin(i),u=e+o,d=n+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>qm||Math.abs(this._y1-d)>qm)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%m4+m4),h>_He?this._append`A${r},${r},0,1,${f},${e-o},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>qm&&this._append`A${r},${r},0,${+(h>=p4)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function rz(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new EHe(e)}function iz(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yoe(t){this._context=t}yoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function wk(t){return new yoe(t)}function voe(t){return t[0]}function xoe(t){return t[1]}function boe(t,e){var n=ti(!0),r=null,i=wk,s=null,a=rz(o);t=typeof t=="function"?t:t===void 0?voe:ti(t),e=typeof e=="function"?e:e===void 0?xoe:ti(e);function o(c){var u,d=(c=iz(c)).length,f,h=!1,p;for(r==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(p)return s=null,p+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:ti(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:ti(+c),o):e},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ti(!!c),o):n},o.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),o):i},o.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),o):r},o}function XM(t,e,n){var r=null,i=ti(!0),s=null,a=wk,o=null,c=rz(u);t=typeof t=="function"?t:t===void 0?voe:ti(+t),e=typeof e=="function"?e:ti(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?xoe:ti(+n);function u(f){var h,p,g,v=(f=iz(f)).length,w,x=!1,_,S=new Array(v),A=new Array(v);for(s==null&&(o=a(_=c())),h=0;h<=v;++h){if(!(h<v&&i(w=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(S[g],A[g]);o.lineEnd(),o.areaEnd()}x&&(S[h]=+t(w,h,f),A[h]=+e(w,h,f),o.point(r?+r(w,h,f):S[h],n?+n(w,h,f):A[h]))}if(_)return o=null,_+""||null}function d(){return boe().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ti(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ti(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ti(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ti(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ti(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ti(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ti(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),u):s},u}class woe{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function AHe(t){return new woe(t,!0)}function THe(t){return new woe(t,!1)}const sz={draw(t,e){const n=au(e/TP);t.moveTo(n,0),t.arc(0,0,n,0,bk)}},MHe={draw(t,e){const n=au(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},_oe=au(1/3),CHe=_oe*2,NHe={draw(t,e){const n=au(e/CHe),r=n*_oe;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},PHe={draw(t,e){const n=au(e),r=-n/2;t.rect(r,r,n,n)}},jHe=.8908130915292852,Soe=AP(TP/10)/AP(7*TP/10),kHe=AP(bk/10)*Soe,OHe=-moe(bk/10)*Soe,RHe={draw(t,e){const n=au(e*jHe),r=kHe*n,i=OHe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=bk*s/5,o=moe(a),c=AP(a);t.lineTo(c*n,-o*n),t.lineTo(o*r-c*i,c*r+o*i)}t.closePath()}},JI=au(3),IHe={draw(t,e){const n=-au(e/(JI*3));t.moveTo(0,n*2),t.lineTo(-JI*n,-n),t.lineTo(JI*n,-n),t.closePath()}},Bl=-.5,zl=au(3)/2,g4=1/au(12),LHe=(g4/2+1)*3,DHe={draw(t,e){const n=au(e/LHe),r=n/2,i=n*g4,s=r,a=n*g4+n,o=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,c),t.lineTo(Bl*r-zl*i,zl*r+Bl*i),t.lineTo(Bl*s-zl*a,zl*s+Bl*a),t.lineTo(Bl*o-zl*c,zl*o+Bl*c),t.lineTo(Bl*r+zl*i,Bl*i-zl*r),t.lineTo(Bl*s+zl*a,Bl*a-zl*s),t.lineTo(Bl*o+zl*c,Bl*c-zl*o),t.closePath()}};function FHe(t,e){let n=null,r=rz(i);t=typeof t=="function"?t:ti(t||sz),e=typeof e=="function"?e:ti(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ti(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ti(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function MP(){}function CP(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Eoe(t){this._context=t}Eoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:CP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:CP(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UHe(t){return new Eoe(t)}function Aoe(t){this._context=t}Aoe.prototype={areaStart:MP,areaEnd:MP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:CP(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BHe(t){return new Aoe(t)}function Toe(t){this._context=t}Toe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:CP(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zHe(t){return new Toe(t)}function Moe(t){this._context=t}Moe.prototype={areaStart:MP,areaEnd:MP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $He(t){return new Moe(t)}function BG(t){return t<0?-1:1}function zG(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(BG(s)+BG(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function $G(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function eL(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function NP(t){this._context=t}NP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eL(this,this._t0,$G(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,eL(this,$G(this,n=zG(this,t,e)),n);break;default:eL(this,this._t0,n=zG(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Coe(t){this._context=new Noe(t)}(Coe.prototype=Object.create(NP.prototype)).point=function(t,e){NP.prototype.point.call(this,e,t)};function Noe(t){this._context=t}Noe.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function VHe(t){return new NP(t)}function HHe(t){return new Coe(t)}function Poe(t){this._context=t}Poe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=VG(t),i=VG(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function VG(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function WHe(t){return new Poe(t)}function _k(t,e){this._context=t,this._t=e}_k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function GHe(t){return new _k(t,.5)}function qHe(t){return new _k(t,0)}function XHe(t){return new _k(t,1)}function I0(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function y4(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function KHe(t,e){return t[e]}function YHe(t){const e=[];return e.key=t,e}function ZHe(){var t=ti([]),e=y4,n=I0,r=KHe;function i(s){var a=Array.from(t.apply(this,arguments),YHe),o,c=a.length,u=-1,d;for(const f of s)for(o=0,++u;o<c;++o)(a[o][u]=[0,+r(f,a[o].key,u,s)]).data=f;for(o=0,d=iz(e(a));o<c;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ti(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:ti(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?y4:typeof s=="function"?s:ti(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??I0,i):n},i}function QHe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}I0(t,e)}}function JHe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}I0(t,e)}}function eWe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,c=0,u=0;o<a;++o){for(var d=t[e[o]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var v=t[e[g]],w=v[r][1]||0,x=v[r-1][1]||0;p+=w-x}c+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,I0(t,e)}}function NS(t){"@babel/helpers - typeof";return NS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NS(t)}var tWe=["type","size","sizeType"];function v4(){return v4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v4.apply(this,arguments)}function HG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HG(Object(n),!0).forEach(function(r){nWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nWe(t,e,n){return e=rWe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rWe(t){var e=iWe(t,"string");return NS(e)=="symbol"?e:e+""}function iWe(t,e){if(NS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(NS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sWe(t,e){if(t==null)return{};var n=aWe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var joe={symbolCircle:sz,symbolCross:MHe,symbolDiamond:NHe,symbolSquare:PHe,symbolStar:RHe,symbolTriangle:IHe,symbolWye:DHe},oWe=Math.PI/180,lWe=function(e){var n="symbol".concat(xk(e));return joe[n]||sz},cWe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*oWe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},uWe=function(e,n){joe["symbol".concat(xk(e))]=n},az=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,c=sWe(e,tWe),u=WG(WG({},c),{},{type:r,size:s,sizeType:o}),d=function(){var w=lWe(r),x=FHe().type(w).size(cWe(s,o,r));return x()},f=u.className,h=u.cx,p=u.cy,g=Gn(u,!0);return h===+h&&p===+p&&s===+s?ne.createElement("path",v4({},g,{className:nr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};az.registerSymbol=uWe;function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function x4(){return x4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x4.apply(this,arguments)}function GG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dWe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GG(Object(n),!0).forEach(function(r){PS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ooe(r.key),r)}}function pWe(t,e,n){return e&&hWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mWe(t,e,n){return e=PP(e),gWe(t,koe()?Reflect.construct(e,n||[],PP(t).constructor):e.apply(t,n))}function gWe(t,e){if(e&&(L0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yWe(t)}function yWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function koe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(koe=function(){return!!t})()}function PP(t){return PP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PP(t)}function vWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b4(t,e)}function b4(t,e){return b4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b4(t,e)}function PS(t,e,n){return e=Ooe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ooe(t){var e=xWe(t,"string");return L0(e)=="symbol"?e:e+""}function xWe(t,e){if(L0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $l=32,oz=function(t){function e(){return fWe(this,e),mWe(this,e,arguments)}return vWe(e,t),pWe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=$l/2,a=$l/6,o=$l/3,c=r.inactive?i:r.color;if(r.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:$l,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat($l,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return ne.createElement("path",{stroke:"none",fill:c,d:"M0,".concat($l/8,"h").concat($l,"v").concat($l*3/4,"h").concat(-$l,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(r.legendIcon)){var u=dWe({},r);return delete u.legendIcon,ne.cloneElement(r.legendIcon,u)}return ne.createElement(az,{fill:c,cx:s,cy:s,size:$l,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:$l,height:$l},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var v=p.formatter||c,w=nr(PS(PS({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Un(p.value)?null:p.value;ef(!Un(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return ne.createElement("li",x4({className:w,style:f,key:"legend-item-".concat(g)},EP(r.props,p,g)),ne.createElement(u4,{width:a,height:a,viewBox:d,style:h},r.renderIcon(p)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(x,p,g):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(j.PureComponent);PS(oz,"displayName","Legend");PS(oz,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bWe=ak;function wWe(){this.__data__=new bWe,this.size=0}var _We=wWe;function SWe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var EWe=SWe;function AWe(t){return this.__data__.get(t)}var TWe=AWe;function MWe(t){return this.__data__.has(t)}var CWe=MWe,NWe=ak,PWe=X5,jWe=K5,kWe=200;function OWe(t,e){var n=this.__data__;if(n instanceof NWe){var r=n.__data__;if(!PWe||r.length<kWe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jWe(r)}return n.set(t,e),this.size=n.size,this}var RWe=OWe,IWe=ak,LWe=_We,DWe=EWe,FWe=TWe,UWe=CWe,BWe=RWe;function Ub(t){var e=this.__data__=new IWe(t);this.size=e.size}Ub.prototype.clear=LWe;Ub.prototype.delete=DWe;Ub.prototype.get=FWe;Ub.prototype.has=UWe;Ub.prototype.set=BWe;var Roe=Ub,zWe="__lodash_hash_undefined__";function $We(t){return this.__data__.set(t,zWe),this}var VWe=$We;function HWe(t){return this.__data__.has(t)}var WWe=HWe,GWe=K5,qWe=VWe,XWe=WWe;function jP(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new GWe;++e<n;)this.add(t[e])}jP.prototype.add=jP.prototype.push=qWe;jP.prototype.has=XWe;var Ioe=jP;function KWe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Loe=KWe;function YWe(t,e){return t.has(e)}var Doe=YWe,ZWe=Ioe,QWe=Loe,JWe=Doe,e9e=1,t9e=2;function n9e(t,e,n,r,i,s){var a=n&e9e,o=t.length,c=e.length;if(o!=c&&!(a&&c>o))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=n&t9e?new ZWe:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var g=t[f],v=e[f];if(r)var w=a?r(v,g,f,e,t,s):r(g,v,f,t,e,s);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!QWe(e,function(x,_){if(!JWe(p,_)&&(g===x||i(g,x,n,r,s)))return p.push(_)})){h=!1;break}}else if(!(g===v||i(g,v,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var Foe=n9e,r9e=ld,i9e=r9e.Uint8Array,s9e=i9e;function a9e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var o9e=a9e;function l9e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var lz=l9e,qG=QE,XG=s9e,c9e=q5,u9e=Foe,d9e=o9e,f9e=lz,h9e=1,p9e=2,m9e="[object Boolean]",g9e="[object Date]",y9e="[object Error]",v9e="[object Map]",x9e="[object Number]",b9e="[object RegExp]",w9e="[object Set]",_9e="[object String]",S9e="[object Symbol]",E9e="[object ArrayBuffer]",A9e="[object DataView]",KG=qG?qG.prototype:void 0,tL=KG?KG.valueOf:void 0;function T9e(t,e,n,r,i,s,a){switch(n){case A9e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E9e:return!(t.byteLength!=e.byteLength||!s(new XG(t),new XG(e)));case m9e:case g9e:case x9e:return c9e(+t,+e);case y9e:return t.name==e.name&&t.message==e.message;case b9e:case _9e:return t==e+"";case v9e:var o=d9e;case w9e:var c=r&h9e;if(o||(o=f9e),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;r|=p9e,a.set(t,e);var d=u9e(o(t),o(e),r,i,s,a);return a.delete(t),d;case S9e:if(tL)return tL.call(t)==tL.call(e)}return!1}var M9e=T9e;function C9e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Uoe=C9e,N9e=Uoe,P9e=Oo;function j9e(t,e,n){var r=e(t);return P9e(t)?r:N9e(r,n(t))}var k9e=j9e;function O9e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var R9e=O9e;function I9e(){return[]}var L9e=I9e,D9e=R9e,F9e=L9e,U9e=Object.prototype,B9e=U9e.propertyIsEnumerable,YG=Object.getOwnPropertySymbols,z9e=YG?function(t){return t==null?[]:(t=Object(t),D9e(YG(t),function(e){return B9e.call(t,e)}))}:F9e,$9e=z9e;function V9e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var H9e=V9e,W9e=Mf,G9e=Cf,q9e="[object Arguments]";function X9e(t){return G9e(t)&&W9e(t)==q9e}var K9e=X9e,ZG=K9e,Y9e=Cf,Boe=Object.prototype,Z9e=Boe.hasOwnProperty,Q9e=Boe.propertyIsEnumerable,J9e=ZG(function(){return arguments}())?ZG:function(t){return Y9e(t)&&Z9e.call(t,"callee")&&!Q9e.call(t,"callee")},cz=J9e,kP={exports:{}};function eGe(){return!1}var tGe=eGe;kP.exports;(function(t,e){var n=ld,r=tGe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||r;t.exports=u})(kP,kP.exports);var zoe=kP.exports,nGe=9007199254740991,rGe=/^(?:0|[1-9]\d*)$/;function iGe(t,e){var n=typeof t;return e=e??nGe,!!e&&(n=="number"||n!="symbol"&&rGe.test(t))&&t>-1&&t%1==0&&t<e}var uz=iGe,sGe=9007199254740991;function aGe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sGe}var dz=aGe,oGe=Mf,lGe=dz,cGe=Cf,uGe="[object Arguments]",dGe="[object Array]",fGe="[object Boolean]",hGe="[object Date]",pGe="[object Error]",mGe="[object Function]",gGe="[object Map]",yGe="[object Number]",vGe="[object Object]",xGe="[object RegExp]",bGe="[object Set]",wGe="[object String]",_Ge="[object WeakMap]",SGe="[object ArrayBuffer]",EGe="[object DataView]",AGe="[object Float32Array]",TGe="[object Float64Array]",MGe="[object Int8Array]",CGe="[object Int16Array]",NGe="[object Int32Array]",PGe="[object Uint8Array]",jGe="[object Uint8ClampedArray]",kGe="[object Uint16Array]",OGe="[object Uint32Array]",li={};li[AGe]=li[TGe]=li[MGe]=li[CGe]=li[NGe]=li[PGe]=li[jGe]=li[kGe]=li[OGe]=!0;li[uGe]=li[dGe]=li[SGe]=li[fGe]=li[EGe]=li[hGe]=li[pGe]=li[mGe]=li[gGe]=li[yGe]=li[vGe]=li[xGe]=li[bGe]=li[wGe]=li[_Ge]=!1;function RGe(t){return cGe(t)&&lGe(t.length)&&!!li[oGe(t)]}var IGe=RGe;function LGe(t){return function(e){return t(e)}}var $oe=LGe,OP={exports:{}};OP.exports;(function(t,e){var n=Kae,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(OP,OP.exports);var DGe=OP.exports,FGe=IGe,UGe=$oe,QG=DGe,JG=QG&&QG.isTypedArray,BGe=JG?UGe(JG):FGe,Voe=BGe,zGe=H9e,$Ge=cz,VGe=Oo,HGe=zoe,WGe=uz,GGe=Voe,qGe=Object.prototype,XGe=qGe.hasOwnProperty;function KGe(t,e){var n=VGe(t),r=!n&&$Ge(t),i=!n&&!r&&HGe(t),s=!n&&!r&&!i&&GGe(t),a=n||r||i||s,o=a?zGe(t.length,String):[],c=o.length;for(var u in t)(e||XGe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||WGe(u,c)))&&o.push(u);return o}var YGe=KGe,ZGe=Object.prototype;function QGe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ZGe;return t===n}var JGe=QGe;function e7e(t,e){return function(n){return t(e(n))}}var Hoe=e7e,t7e=Hoe,n7e=t7e(Object.keys,Object),r7e=n7e,i7e=JGe,s7e=r7e,a7e=Object.prototype,o7e=a7e.hasOwnProperty;function l7e(t){if(!i7e(t))return s7e(t);var e=[];for(var n in Object(t))o7e.call(t,n)&&n!="constructor"&&e.push(n);return e}var c7e=l7e,u7e=G5,d7e=dz;function f7e(t){return t!=null&&d7e(t.length)&&!u7e(t)}var JE=f7e,h7e=YGe,p7e=c7e,m7e=JE;function g7e(t){return m7e(t)?h7e(t):p7e(t)}var Sk=g7e,y7e=k9e,v7e=$9e,x7e=Sk;function b7e(t){return y7e(t,x7e,v7e)}var w7e=b7e,e7=w7e,_7e=1,S7e=Object.prototype,E7e=S7e.hasOwnProperty;function A7e(t,e,n,r,i,s){var a=n&_7e,o=e7(t),c=o.length,u=e7(e),d=u.length;if(c!=d&&!a)return!1;for(var f=c;f--;){var h=o[f];if(!(a?h in e:E7e.call(e,h)))return!1}var p=s.get(t),g=s.get(e);if(p&&g)return p==e&&g==t;var v=!0;s.set(t,e),s.set(e,t);for(var w=a;++f<c;){h=o[f];var x=t[h],_=e[h];if(r)var S=a?r(_,x,h,e,t,s):r(x,_,h,t,e,s);if(!(S===void 0?x===_||i(x,_,n,r,s):S)){v=!1;break}w||(w=h=="constructor")}if(v&&!w){var A=t.constructor,C=e.constructor;A!=C&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof C=="function"&&C instanceof C)&&(v=!1)}return s.delete(t),s.delete(e),v}var T7e=A7e,M7e=My,C7e=ld,N7e=M7e(C7e,"DataView"),P7e=N7e,j7e=My,k7e=ld,O7e=j7e(k7e,"Promise"),R7e=O7e,I7e=My,L7e=ld,D7e=I7e(L7e,"Set"),Woe=D7e,F7e=My,U7e=ld,B7e=F7e(U7e,"WeakMap"),z7e=B7e,w4=P7e,_4=X5,S4=R7e,E4=Woe,A4=z7e,Goe=Mf,Bb=Zae,t7="[object Map]",$7e="[object Object]",n7="[object Promise]",r7="[object Set]",i7="[object WeakMap]",s7="[object DataView]",V7e=Bb(w4),H7e=Bb(_4),W7e=Bb(S4),G7e=Bb(E4),q7e=Bb(A4),Xm=Goe;(w4&&Xm(new w4(new ArrayBuffer(1)))!=s7||_4&&Xm(new _4)!=t7||S4&&Xm(S4.resolve())!=n7||E4&&Xm(new E4)!=r7||A4&&Xm(new A4)!=i7)&&(Xm=function(t){var e=Goe(t),n=e==$7e?t.constructor:void 0,r=n?Bb(n):"";if(r)switch(r){case V7e:return s7;case H7e:return t7;case W7e:return n7;case G7e:return r7;case q7e:return i7}return e});var X7e=Xm,nL=Roe,K7e=Foe,Y7e=M9e,Z7e=T7e,a7=X7e,o7=Oo,l7=zoe,Q7e=Voe,J7e=1,c7="[object Arguments]",u7="[object Array]",KM="[object Object]",eqe=Object.prototype,d7=eqe.hasOwnProperty;function tqe(t,e,n,r,i,s){var a=o7(t),o=o7(e),c=a?u7:a7(t),u=o?u7:a7(e);c=c==c7?KM:c,u=u==c7?KM:u;var d=c==KM,f=u==KM,h=c==u;if(h&&l7(t)){if(!l7(e))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new nL),a||Q7e(t)?K7e(t,e,n,r,i,s):Y7e(t,e,c,n,r,i,s);if(!(n&J7e)){var p=d&&d7.call(t,"__wrapped__"),g=f&&d7.call(e,"__wrapped__");if(p||g){var v=p?t.value():t,w=g?e.value():e;return s||(s=new nL),i(v,w,n,r,s)}}return h?(s||(s=new nL),Z7e(t,e,n,r,i,s)):!1}var nqe=tqe,rqe=nqe,f7=Cf;function qoe(t,e,n,r,i){return t===e?!0:t==null||e==null||!f7(t)&&!f7(e)?t!==t&&e!==e:rqe(t,e,n,r,qoe,i)}var fz=qoe,iqe=Roe,sqe=fz,aqe=1,oqe=2;function lqe(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var c=o[0],u=t[c],d=o[1];if(a&&o[2]){if(u===void 0&&!(c in t))return!1}else{var f=new iqe;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?sqe(d,u,aqe|oqe,r,f):h))return!1}}return!0}var cqe=lqe,uqe=Fp;function dqe(t){return t===t&&!uqe(t)}var Xoe=dqe,fqe=Xoe,hqe=Sk;function pqe(t){for(var e=hqe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,fqe(i)]}return e}var mqe=pqe;function gqe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Koe=gqe,yqe=cqe,vqe=mqe,xqe=Koe;function bqe(t){var e=vqe(t);return e.length==1&&e[0][2]?xqe(e[0][0],e[0][1]):function(n){return n===t||yqe(n,t,e)}}var wqe=bqe;function _qe(t,e){return t!=null&&e in Object(t)}var Sqe=_qe,Eqe=noe,Aqe=cz,Tqe=Oo,Mqe=uz,Cqe=dz,Nqe=lk;function Pqe(t,e,n){e=Eqe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=Nqe(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Cqe(i)&&Mqe(a,i)&&(Tqe(t)||Aqe(t)))}var jqe=Pqe,kqe=Sqe,Oqe=jqe;function Rqe(t,e){return t!=null&&Oqe(t,e,kqe)}var Iqe=Rqe,Lqe=fz,Dqe=roe,Fqe=Iqe,Uqe=W5,Bqe=Xoe,zqe=Koe,$qe=lk,Vqe=1,Hqe=2;function Wqe(t,e){return Uqe(t)&&Bqe(e)?zqe($qe(t),e):function(n){var r=Dqe(n,t);return r===void 0&&r===e?Fqe(n,t):Lqe(e,r,Vqe|Hqe)}}var Gqe=Wqe;function qqe(t){return t}var zb=qqe;function Xqe(t){return function(e){return e==null?void 0:e[t]}}var Kqe=Xqe,Yqe=Q5;function Zqe(t){return function(e){return Yqe(e,t)}}var Qqe=Zqe,Jqe=Kqe,eXe=Qqe,tXe=W5,nXe=lk;function rXe(t){return tXe(t)?Jqe(nXe(t)):eXe(t)}var iXe=rXe,sXe=wqe,aXe=Gqe,oXe=zb,lXe=Oo,cXe=iXe;function uXe(t){return typeof t=="function"?t:t==null?oXe:typeof t=="object"?lXe(t)?aXe(t[0],t[1]):sXe(t):cXe(t)}var Up=uXe;function dXe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var Yoe=dXe;function fXe(t){return t!==t}var hXe=fXe;function pXe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var mXe=pXe,gXe=Yoe,yXe=hXe,vXe=mXe;function xXe(t,e,n){return e===e?vXe(t,e,n):gXe(t,yXe,n)}var bXe=xXe,wXe=bXe;function _Xe(t,e){var n=t==null?0:t.length;return!!n&&wXe(t,e,0)>-1}var SXe=_Xe;function EXe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var AXe=EXe;function TXe(){}var MXe=TXe,rL=Woe,CXe=MXe,NXe=lz,PXe=1/0,jXe=rL&&1/NXe(new rL([,-0]))[1]==PXe?function(t){return new rL(t)}:CXe,kXe=jXe,OXe=Ioe,RXe=SXe,IXe=AXe,LXe=Doe,DXe=kXe,FXe=lz,UXe=200;function BXe(t,e,n){var r=-1,i=RXe,s=t.length,a=!0,o=[],c=o;if(n)a=!1,i=IXe;else if(s>=UXe){var u=e?null:DXe(t);if(u)return FXe(u);a=!1,i=LXe,c=new OXe}else c=e?[]:o;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),o.push(d)}else i(c,f,n)||(c!==o&&c.push(f),o.push(d))}return o}var zXe=BXe,$Xe=Up,VXe=zXe;function HXe(t,e){return t&&t.length?VXe(t,$Xe(e)):[]}var WXe=HXe;const h7=cr(WXe);function Zoe(t,e,n){return e===!0?h7(t,n):Un(e)?h7(t,e):t}function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}var GXe=["ref"];function p7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Od(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p7(Object(n),!0).forEach(function(r){Ek(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Joe(r.key),r)}}function XXe(t,e,n){return e&&m7(t.prototype,e),n&&m7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KXe(t,e,n){return e=RP(e),YXe(t,Qoe()?Reflect.construct(e,n||[],RP(t).constructor):e.apply(t,n))}function YXe(t,e){if(e&&(D0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZXe(t)}function ZXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qoe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qoe=function(){return!!t})()}function RP(t){return RP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RP(t)}function QXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T4(t,e)}function T4(t,e){return T4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T4(t,e)}function Ek(t,e,n){return e=Joe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=JXe(t,"string");return D0(e)=="symbol"?e:e+""}function JXe(t,e){if(D0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eKe(t,e){if(t==null)return{};var n=tKe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tKe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nKe(t){return t.value}function rKe(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var n=eKe(e,GXe);return ne.createElement(oz,n)}var g7=1,Bg=function(t){function e(){var n;qXe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=KXe(this,e,[].concat(i)),Ek(n,"lastBoundingBox",{width:-1,height:-1}),n}return QXe(e,t),XXe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>g7||Math.abs(i.height-this.lastBoundingBox.height)>g7)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Od({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Od(Od({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Od(Od({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return ne.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},rKe(s,Od(Od({},this.props),{},{payload:Zoe(d,u,nKe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Od(Od({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&pt(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);Ek(Bg,"displayName","Legend");Ek(Bg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var y7=QE,iKe=cz,sKe=Oo,v7=y7?y7.isConcatSpreadable:void 0;function aKe(t){return sKe(t)||iKe(t)||!!(v7&&t&&t[v7])}var oKe=aKe,lKe=Uoe,cKe=oKe;function ele(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=cKe),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?ele(o,e-1,n,r,i):lKe(i,o):r||(i[i.length]=o)}return i}var tle=ele;function uKe(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var c=a[t?o:++i];if(n(s[c],c,s)===!1)break}return e}}var dKe=uKe,fKe=dKe,hKe=fKe(),pKe=hKe,mKe=pKe,gKe=Sk;function yKe(t,e){return t&&mKe(t,e,gKe)}var nle=yKe,vKe=JE;function xKe(t,e){return function(n,r){if(n==null)return n;if(!vKe(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var bKe=xKe,wKe=nle,_Ke=bKe,SKe=_Ke(wKe),hz=SKe,EKe=hz,AKe=JE;function TKe(t,e){var n=-1,r=AKe(t)?Array(t.length):[];return EKe(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var rle=TKe;function MKe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var CKe=MKe,x7=kb;function NKe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=x7(t),a=e!==void 0,o=e===null,c=e===e,u=x7(e);if(!o&&!u&&!s&&t>e||s&&a&&c&&!o&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!c)return-1}return 0}var PKe=NKe,jKe=PKe;function kKe(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var c=jKe(i[r],s[r]);if(c){if(r>=o)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var OKe=kKe,iL=Z5,RKe=Q5,IKe=Up,LKe=rle,DKe=CKe,FKe=$oe,UKe=OKe,BKe=zb,zKe=Oo;function $Ke(t,e,n){e.length?e=iL(e,function(s){return zKe(s)?function(a){return RKe(a,s.length===1?s[0]:s)}:s}):e=[BKe];var r=-1;e=iL(e,FKe(IKe));var i=LKe(t,function(s,a,o){var c=iL(e,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return DKe(i,function(s,a){return UKe(s,a,n)})}var VKe=$Ke;function HKe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var WKe=HKe,GKe=WKe,b7=Math.max;function qKe(t,e,n){return e=b7(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=b7(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),GKe(t,this,o)}}var XKe=qKe;function KKe(t){return function(){return t}}var YKe=KKe,ZKe=My,QKe=function(){try{var t=ZKe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ile=QKe,JKe=YKe,w7=ile,eYe=zb,tYe=w7?function(t,e){return w7(t,"toString",{configurable:!0,enumerable:!1,value:JKe(e),writable:!0})}:eYe,nYe=tYe,rYe=800,iYe=16,sYe=Date.now;function aYe(t){var e=0,n=0;return function(){var r=sYe(),i=iYe-(r-n);if(n=r,i>0){if(++e>=rYe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var oYe=aYe,lYe=nYe,cYe=oYe,uYe=cYe(lYe),dYe=uYe,fYe=zb,hYe=XKe,pYe=dYe;function mYe(t,e){return pYe(hYe(t,e,fYe),t+"")}var gYe=mYe,yYe=q5,vYe=JE,xYe=uz,bYe=Fp;function wYe(t,e,n){if(!bYe(n))return!1;var r=typeof e;return(r=="number"?vYe(n)&&xYe(e,n.length):r=="string"&&e in n)?yYe(n[e],t):!1}var Ak=wYe,_Ye=tle,SYe=VKe,EYe=gYe,_7=Ak,AYe=EYe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&_7(t,e[0],e[1])?e=[]:n>2&&_7(e[0],e[1],e[2])&&(e=[e[0]]),SYe(t,_Ye(e,1),[])}),TYe=AYe;const pz=cr(TYe);function jS(t){"@babel/helpers - typeof";return jS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jS(t)}function M4(){return M4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M4.apply(this,arguments)}function MYe(t,e){return jYe(t)||PYe(t,e)||NYe(t,e)||CYe()}function CYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NYe(t,e){if(t){if(typeof t=="string")return S7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S7(t,e)}}function S7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PYe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function jYe(t){if(Array.isArray(t))return t}function E7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E7(Object(n),!0).forEach(function(r){kYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kYe(t,e,n){return e=OYe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OYe(t){var e=RYe(t,"string");return jS(e)=="symbol"?e:e+""}function RYe(t,e){if(jS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IYe(t){return Array.isArray(t)&&Es(t[0])&&Es(t[1])?t.join(" ~ "):t}var LYe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,v=e.label,w=e.labelFormatter,x=e.accessibilityLayer,_=x===void 0?!1:x,S=function(){if(d&&d.length){var B={padding:0,margin:0},G=(h?pz(d,h):d).map(function(K,Q){if(K.type==="none")return null;var q=sL({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},o),ie=K.formatter||f||IYe,V=K.value,X=K.name,z=V,oe=X;if(ie&&z!=null&&oe!=null){var de=ie(V,X,K,Q,d);if(Array.isArray(de)){var Y=MYe(de,2);z=Y[0],oe=Y[1]}else z=de}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:q},Es(oe)?ne.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,Es(oe)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},z),ne.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:B},G)}return null},A=sL({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=sL({margin:0},u),T=!Qn(v),N=T?v:"",O=nr("recharts-default-tooltip",p),U=nr("recharts-tooltip-label",g);T&&w&&d!==void 0&&d!==null&&(N=w(v,d));var R=_?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",M4({className:O,style:A},R),ne.createElement("p",{className:U,style:C},ne.isValidElement(N)?N:"".concat(N)),S())};function kS(t){"@babel/helpers - typeof";return kS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kS(t)}function YM(t,e,n){return e=DYe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DYe(t){var e=FYe(t,"string");return kS(e)=="symbol"?e:e+""}function FYe(t,e){if(kS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var __="recharts-tooltip-wrapper",UYe={visibility:"hidden"};function BYe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return nr(__,YM(YM(YM(YM({},"".concat(__,"-right"),pt(n)&&e&&pt(e.x)&&n>=e.x),"".concat(__,"-left"),pt(n)&&e&&pt(e.x)&&n<e.x),"".concat(__,"-bottom"),pt(r)&&e&&pt(e.y)&&r>=e.y),"".concat(__,"-top"),pt(r)&&e&&pt(e.y)&&r<e.y))}function A7(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&pt(s[r]))return s[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,p=c[r];return h<p?Math.max(f,c[r]):Math.max(d,c[r])}var g=f+o,v=c[r]+u;return g>v?Math.max(d,c[r]):Math.max(f,c[r])}function zYe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function $Ye(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=A7({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=A7({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=zYe({translateX:d,translateY:f,useTranslate3d:o})):u=UYe,{cssProperties:u,cssClasses:BYe({translateX:d,translateY:f,coordinate:n})}}function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}function T7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T7(Object(n),!0).forEach(function(r){N4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ale(r.key),r)}}function WYe(t,e,n){return e&&HYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GYe(t,e,n){return e=IP(e),qYe(t,sle()?Reflect.construct(e,n||[],IP(t).constructor):e.apply(t,n))}function qYe(t,e){if(e&&(F0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XYe(t)}function XYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sle=function(){return!!t})()}function IP(t){return IP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IP(t)}function KYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C4(t,e)}function C4(t,e){return C4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C4(t,e)}function N4(t,e,n){return e=ale(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ale(t){var e=YYe(t,"string");return F0(e)=="symbol"?e:e+""}function YYe(t,e){if(F0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C7=1,ZYe=function(t){function e(){var n;VYe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=GYe(this,e,[].concat(i)),N4(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),N4(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return KYe(e,t),WYe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>C7||Math.abs(r.height-this.state.lastBoundingBox.height)>C7)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,v=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,S=$Ye({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:x}),A=S.cssClasses,C=S.cssProperties,T=M7(M7({transition:h&&s?"transform ".concat(o,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return ne.createElement("div",{tabIndex:-1,className:A,style:T,ref:function(O){r.wrapperNode=O}},u)}}])}(j.PureComponent),QYe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cy={isSsr:QYe()};function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function N7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(n),!0).forEach(function(r){mz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eZe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lle(r.key),r)}}function tZe(t,e,n){return e&&eZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nZe(t,e,n){return e=LP(e),rZe(t,ole()?Reflect.construct(e,n||[],LP(t).constructor):e.apply(t,n))}function rZe(t,e){if(e&&(U0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iZe(t)}function iZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ole(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ole=function(){return!!t})()}function LP(t){return LP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LP(t)}function sZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P4(t,e)}function P4(t,e){return P4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P4(t,e)}function mz(t,e,n){return e=lle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lle(t){var e=aZe(t,"string");return U0(e)=="symbol"?e:e+""}function aZe(t,e){if(U0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(U0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oZe(t){return t.dataKey}function lZe(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(LYe,e)}var Cu=function(t){function e(){return JYe(this,e),nZe(this,e,arguments)}return sZe(e,t),tZe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,v=i.payloadUniqBy,w=i.position,x=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,A=i.wrapperStyle,C=g??[];f&&C.length&&(C=Zoe(g.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),v,oZe));var T=C.length>0;return ne.createElement(ZYe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:T,offset:p,position:w,reverseDirection:x,useTranslate3d:_,viewBox:S,wrapperStyle:A},lZe(u,P7(P7({},this.props),{},{payload:C})))}}])}(j.PureComponent);mz(Cu,"displayName","Tooltip");mz(Cu,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cy.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cZe=ld,uZe=function(){return cZe.Date.now()},dZe=uZe,fZe=/\s/;function hZe(t){for(var e=t.length;e--&&fZe.test(t.charAt(e)););return e}var pZe=hZe,mZe=pZe,gZe=/^\s+/;function yZe(t){return t&&t.slice(0,mZe(t)+1).replace(gZe,"")}var vZe=yZe,xZe=vZe,j7=Fp,bZe=kb,k7=NaN,wZe=/^[-+]0x[0-9a-f]+$/i,_Ze=/^0b[01]+$/i,SZe=/^0o[0-7]+$/i,EZe=parseInt;function AZe(t){if(typeof t=="number")return t;if(bZe(t))return k7;if(j7(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=j7(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xZe(t);var n=_Ze.test(t);return n||SZe.test(t)?EZe(t.slice(2),n?2:8):wZe.test(t)?k7:+t}var cle=AZe,TZe=Fp,aL=dZe,O7=cle,MZe="Expected a function",CZe=Math.max,NZe=Math.min;function PZe(t,e,n){var r,i,s,a,o,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(MZe);e=O7(e)||0,TZe(n)&&(d=!!n.leading,f="maxWait"in n,s=f?CZe(O7(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function p(T){var N=r,O=i;return r=i=void 0,u=T,a=t.apply(O,N),a}function g(T){return u=T,o=setTimeout(x,e),d?p(T):a}function v(T){var N=T-c,O=T-u,U=e-N;return f?NZe(U,s-O):U}function w(T){var N=T-c,O=T-u;return c===void 0||N>=e||N<0||f&&O>=s}function x(){var T=aL();if(w(T))return _(T);o=setTimeout(x,v(T))}function _(T){return o=void 0,h&&r?p(T):(r=i=void 0,a)}function S(){o!==void 0&&clearTimeout(o),u=0,r=c=i=o=void 0}function A(){return o===void 0?a:_(aL())}function C(){var T=aL(),N=w(T);if(r=arguments,i=this,c=T,N){if(o===void 0)return g(c);if(f)return clearTimeout(o),o=setTimeout(x,e),p(c)}return o===void 0&&(o=setTimeout(x,e)),a}return C.cancel=S,C.flush=A,C}var jZe=PZe,kZe=jZe,OZe=Fp,RZe="Expected a function";function IZe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(RZe);return OZe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),kZe(t,e,{leading:r,maxWait:e,trailing:i})}var LZe=IZe;const ule=cr(LZe);function OS(t){"@babel/helpers - typeof";return OS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OS(t)}function R7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R7(Object(n),!0).forEach(function(r){DZe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DZe(t,e,n){return e=FZe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FZe(t){var e=UZe(t,"string");return OS(e)=="symbol"?e:e+""}function UZe(t,e){if(OS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(OS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BZe(t,e){return HZe(t)||VZe(t,e)||$Ze(t,e)||zZe()}function zZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ze(t,e){if(t){if(typeof t=="string")return I7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I7(t,e)}}function I7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VZe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function HZe(t){if(Array.isArray(t))return t}var WZe=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,c=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,v=g===void 0?0:g,w=t.id,x=t.className,_=t.onResize,S=t.style,A=S===void 0?{}:S,C=j.useRef(null),T=j.useRef();T.current=_,j.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var N=j.useState({containerWidth:i.width,containerHeight:i.height}),O=BZe(N,2),U=O[0],R=O[1],I=j.useCallback(function(G,K){R(function(Q){var q=Math.round(G),ie=Math.round(K);return Q.containerWidth===q&&Q.containerHeight===ie?Q:{containerWidth:q,containerHeight:ie}})},[]);j.useEffect(function(){var G=function(X){var z,oe=X[0].contentRect,de=oe.width,Y=oe.height;I(de,Y),(z=T.current)===null||z===void 0||z.call(T,de,Y)};v>0&&(G=ule(G,v,{trailing:!0,leading:!1}));var K=new ResizeObserver(G),Q=C.current.getBoundingClientRect(),q=Q.width,ie=Q.height;return I(q,ie),K.observe(C.current),function(){K.disconnect()}},[I,v]);var B=j.useMemo(function(){var G=U.containerWidth,K=U.containerHeight;if(G<0||K<0)return null;ef(mg(a)||mg(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),ef(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Q=mg(a)?G:a,q=mg(c)?K:c;n&&n>0&&(Q?q=Q/n:q&&(Q=q*n),h&&q>h&&(q=h)),ef(Q>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,q,a,c,d,f,n);var ie=!Array.isArray(p)&&Jd(p.type).endsWith("Chart");return ne.Children.map(p,function(V){return ne.isValidElement(V)?j.cloneElement(V,ZM({width:Q,height:q},ie?{style:ZM({height:"100%",width:"100%",maxHeight:q,maxWidth:Q},V.props.style)}:{})):V})},[n,p,c,h,f,d,U,a]);return ne.createElement("div",{id:w?"".concat(w):void 0,className:nr("recharts-responsive-container",x),style:ZM(ZM({},A),{},{width:a,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:C},B)}),dle=function(e){return null};dle.displayName="Cell";function RS(t){"@babel/helpers - typeof";return RS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RS(t)}function L7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L7(Object(n),!0).forEach(function(r){GZe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GZe(t,e,n){return e=qZe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qZe(t){var e=XZe(t,"string");return RS(e)=="symbol"?e:e+""}function XZe(t,e){if(RS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(RS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nx={widthCache:{},cacheCount:0},KZe=2e3,YZe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},D7="recharts_measurement_span";function ZZe(t){var e=j4({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var b1=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cy.isSsr)return{width:0,height:0};var r=ZZe(n),i=JSON.stringify({text:e,copyStyle:r});if(nx.widthCache[i])return nx.widthCache[i];try{var s=document.getElementById(D7);s||(s=document.createElement("span"),s.setAttribute("id",D7),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=j4(j4({},YZe),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),c={width:o.width,height:o.height};return nx.widthCache[i]=c,++nx.cacheCount>KZe&&(nx.cacheCount=0,nx.widthCache={}),c}catch{return{width:0,height:0}}},QZe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function IS(t){"@babel/helpers - typeof";return IS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IS(t)}function DP(t,e){return nQe(t)||tQe(t,e)||eQe(t,e)||JZe()}function JZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQe(t,e){if(t){if(typeof t=="string")return F7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F7(t,e)}}function F7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tQe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function nQe(t){if(Array.isArray(t))return t}function rQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sQe(r.key),r)}}function iQe(t,e,n){return e&&U7(t.prototype,e),n&&U7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sQe(t){var e=aQe(t,"string");return IS(e)=="symbol"?e:e+""}function aQe(t,e){if(IS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(IS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var B7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oQe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lQe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fle={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cQe=Object.keys(fle),Px="NaN";function uQe(t,e){return t*fle[e]}var QM=function(){function t(e,n){rQe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!oQe.test(n)&&(this.num=NaN,this.unit=""),cQe.includes(n)&&(this.num=uQe(e,n),this.unit="px")}return iQe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=lQe.exec(n))!==null&&r!==void 0?r:[],s=DP(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function hle(t){if(t.includes(Px))return Px;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=B7.exec(e))!==null&&n!==void 0?n:[],i=DP(r,4),s=i[1],a=i[2],o=i[3],c=QM.parse(s??""),u=QM.parse(o??""),d=a==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Px;e=e.replace(B7,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=z7.exec(e))!==null&&f!==void 0?f:[],p=DP(h,4),g=p[1],v=p[2],w=p[3],x=QM.parse(g??""),_=QM.parse(w??""),S=v==="+"?x.add(_):x.subtract(_);if(S.isNaN())return Px;e=e.replace(z7,S.toString())}return e}var $7=/\(([^()]*)\)/;function dQe(t){for(var e=t;e.includes("(");){var n=$7.exec(e),r=DP(n,2),i=r[1];e=e.replace($7,hle(i))}return e}function fQe(t){var e=t.replace(/\s+/g,"");return e=dQe(e),e=hle(e),e}function hQe(t){try{return fQe(t)}catch{return Px}}function oL(t){var e=hQe(t.slice(5,-1));return e===Px?"":e}var pQe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mQe=["dx","dy","angle","className","breakAll"];function k4(){return k4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k4.apply(this,arguments)}function V7(t,e){if(t==null)return{};var n=gQe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H7(t,e){return bQe(t)||xQe(t,e)||vQe(t,e)||yQe()}function yQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vQe(t,e){if(t){if(typeof t=="string")return W7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W7(t,e)}}function W7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xQe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function bQe(t){if(Array.isArray(t))return t}var ple=/[ \f\n\r\t\v\u2028\u2029]+/,mle=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Qn(n)||(r?s=n.toString().split(""):s=n.toString().split(ple));var a=s.map(function(c){return{word:c,width:b1(c,i).width}}),o=r?0:b1("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},wQe=function(e,n,r,i,s){var a=e.maxLines,o=e.children,c=e.style,u=e.breakAll,d=pt(a),f=o,h=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(q,ie){var V=ie.word,X=ie.width,z=q[q.length-1];if(z&&(i==null||s||z.width+X+r<Number(i)))z.words.push(V),z.width+=X+r;else{var oe={words:[V],width:X};q.push(oe)}return q},[])},p=h(n),g=function(Q){return Q.reduce(function(q,ie){return q.width>ie.width?q:ie})};if(!d)return p;for(var v="",w=function(Q){var q=f.slice(0,Q),ie=mle({breakAll:u,style:c,children:q+v}).wordsWithComputedWidth,V=h(ie),X=V.length>a||g(V).width>Number(i);return[X,V]},x=0,_=f.length-1,S=0,A;x<=_&&S<=f.length-1;){var C=Math.floor((x+_)/2),T=C-1,N=w(T),O=H7(N,2),U=O[0],R=O[1],I=w(C),B=H7(I,1),G=B[0];if(!U&&!G&&(x=C+1),U&&G&&(_=C-1),!U&&G){A=R;break}S++}return A||p},G7=function(e){var n=Qn(e)?[]:e.toString().split(ple);return[{words:n}]},_Qe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!Cy.isSsr){var c,u,d=mle({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return G7(i);return wQe({breakAll:a,children:i,maxLines:o,style:s},c,u,n,r)}return G7(i)},q7="#808080",FP=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,v=g===void 0?"end":g,w=e.fill,x=w===void 0?q7:w,_=V7(e,pQe),S=j.useMemo(function(){return _Qe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),A=_.dx,C=_.dy,T=_.angle,N=_.className,O=_.breakAll,U=V7(_,mQe);if(!Es(r)||!Es(s))return null;var R=r+(pt(A)?A:0),I=s+(pt(C)?C:0),B;switch(v){case"start":B=oL("calc(".concat(u,")"));break;case"middle":B=oL("calc(".concat((S.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:B=oL("calc(".concat(S.length-1," * -").concat(o,")"));break}var G=[];if(f){var K=S[0].width,Q=_.width;G.push("scale(".concat((pt(Q)?Q/K:1)/K,")"))}return T&&G.push("rotate(".concat(T,", ").concat(R,", ").concat(I,")")),G.length&&(U.transform=G.join(" ")),ne.createElement("text",k4({},Gn(U,!0),{x:R,y:I,className:nr("recharts-text",N),textAnchor:p,fill:x.includes("url")?q7:x}),S.map(function(q,ie){var V=q.words.join(O?"":" ");return ne.createElement("tspan",{x:R,dy:ie===0?B:o,key:"".concat(V,"-").concat(ie)},V)}))};function cp(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function SQe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gz(t){let e,n,r;t.length!==2?(e=cp,n=(o,c)=>cp(t(o),c),r=(o,c)=>t(o)-c):(e=t===cp||t===SQe?t:EQe,n=t,r=t);function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&r(o[f-1],c)>-r(o[f],c)?f-1:f}return{left:i,center:a,right:s}}function EQe(){return 0}function gle(t){return t===null?NaN:+t}function*AQe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const TQe=gz(cp),eA=TQe.right;gz(gle).center;class X7 extends Map{constructor(e,n=NQe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(K7(this,e))}has(e){return super.has(K7(this,e))}set(e,n){return super.set(MQe(this,e),n)}delete(e){return super.delete(CQe(this,e))}}function K7({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function MQe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function CQe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function NQe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function PQe(t=cp){if(t===cp)return yle;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function yle(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const jQe=Math.sqrt(50),kQe=Math.sqrt(10),OQe=Math.sqrt(2);function UP(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=jQe?10:s>=kQe?5:s>=OQe?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=n&&n<2?UP(t,e,n*2):[o,c,u]}function O4(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?UP(e,t,n):UP(t,e,n);if(!(s>=i))return[];const o=s-i+1,c=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)c[u]=(s-u)/-a;else for(let u=0;u<o;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)c[u]=(i+u)/-a;else for(let u=0;u<o;++u)c[u]=(i+u)*a;return c}function R4(t,e,n){return e=+e,t=+t,n=+n,UP(t,e,n)[2]}function I4(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?R4(e,t,n):R4(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Y7(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Z7(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function vle(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?yle:PQe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/c+h)),g=Math.min(r,Math.floor(e+(c-u)*f/c+h));vle(t,e,p,g,i)}const s=t[e];let a=n,o=r;for(S_(t,n,e),i(t[r],s)>0&&S_(t,n,r);a<o;){for(S_(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?S_(t,n,o):(++o,S_(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function S_(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function RQe(t,e,n){if(t=Float64Array.from(AQe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Z7(t);if(e>=1)return Y7(t);var r,i=(r-1)*e,s=Math.floor(i),a=Y7(vle(t,s).subarray(0,s+1)),o=Z7(t.subarray(s+1));return a+(o-a)*(i-s)}}function IQe(t,e,n=gle){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function LQe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function uc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Nf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const L4=Symbol("implicit");function yz(){var t=new X7,e=[],n=[],r=L4;function i(s){let a=t.get(s);if(a===void 0){if(r!==L4)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new X7;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return yz(e,n).unknown(r)},uc.apply(i,arguments),i}function LS(){var t=yz().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,g=p?i:r,v=p?r:i;s=(v-g)/Math.max(1,h-c+u*2),o&&(s=Math.floor(s)),g+=(v-g-s*(h-c))*d,a=s*(1-c),o&&(g=Math.round(g),a=Math.round(a));var w=LQe(h).map(function(x){return g+s*x});return n(p?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return LS(e(),[r,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},uc.apply(f(),arguments)}function xle(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xle(e())},t}function w1(){return xle(LS.apply(null,arguments).paddingInner(1))}function vz(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ble(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tA(){}var DS=.7,BP=1/DS,Yx="\\s*([+-]?\\d+)\\s*",FS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DQe=/^#([0-9a-f]{3,8})$/,FQe=new RegExp(`^rgb\\(${Yx},${Yx},${Yx}\\)$`),UQe=new RegExp(`^rgb\\(${Yu},${Yu},${Yu}\\)$`),BQe=new RegExp(`^rgba\\(${Yx},${Yx},${Yx},${FS}\\)$`),zQe=new RegExp(`^rgba\\(${Yu},${Yu},${Yu},${FS}\\)$`),$Qe=new RegExp(`^hsl\\(${FS},${Yu},${Yu}\\)$`),VQe=new RegExp(`^hsla\\(${FS},${Yu},${Yu},${FS}\\)$`),Q7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vz(tA,US,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:J7,formatHex:J7,formatHex8:HQe,formatHsl:WQe,formatRgb:eq,toString:eq});function J7(){return this.rgb().formatHex()}function HQe(){return this.rgb().formatHex8()}function WQe(){return wle(this).formatHsl()}function eq(){return this.rgb().formatRgb()}function US(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=DQe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tq(e):n===3?new So(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?JM(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?JM(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=FQe.exec(t))?new So(e[1],e[2],e[3],1):(e=UQe.exec(t))?new So(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=BQe.exec(t))?JM(e[1],e[2],e[3],e[4]):(e=zQe.exec(t))?JM(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$Qe.exec(t))?iq(e[1],e[2]/100,e[3]/100,1):(e=VQe.exec(t))?iq(e[1],e[2]/100,e[3]/100,e[4]):Q7.hasOwnProperty(t)?tq(Q7[t]):t==="transparent"?new So(NaN,NaN,NaN,0):null}function tq(t){return new So(t>>16&255,t>>8&255,t&255,1)}function JM(t,e,n,r){return r<=0&&(t=e=n=NaN),new So(t,e,n,r)}function GQe(t){return t instanceof tA||(t=US(t)),t?(t=t.rgb(),new So(t.r,t.g,t.b,t.opacity)):new So}function D4(t,e,n,r){return arguments.length===1?GQe(t):new So(t,e,n,r??1)}function So(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vz(So,D4,ble(tA,{brighter(t){return t=t==null?BP:Math.pow(BP,t),new So(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?DS:Math.pow(DS,t),new So(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new So(zg(this.r),zg(this.g),zg(this.b),zP(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nq,formatHex:nq,formatHex8:qQe,formatRgb:rq,toString:rq}));function nq(){return`#${gg(this.r)}${gg(this.g)}${gg(this.b)}`}function qQe(){return`#${gg(this.r)}${gg(this.g)}${gg(this.b)}${gg((isNaN(this.opacity)?1:this.opacity)*255)}`}function rq(){const t=zP(this.opacity);return`${t===1?"rgb(":"rgba("}${zg(this.r)}, ${zg(this.g)}, ${zg(this.b)}${t===1?")":`, ${t})`}`}function zP(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zg(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gg(t){return t=zg(t),(t<16?"0":"")+t.toString(16)}function iq(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wc(t,e,n,r)}function wle(t){if(t instanceof Wc)return new Wc(t.h,t.s,t.l,t.opacity);if(t instanceof tA||(t=US(t)),!t)return new Wc;if(t instanceof Wc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,c=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new Wc(a,o,c,t.opacity)}function XQe(t,e,n,r){return arguments.length===1?wle(t):new Wc(t,e,n,r??1)}function Wc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vz(Wc,XQe,ble(tA,{brighter(t){return t=t==null?BP:Math.pow(BP,t),new Wc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?DS:Math.pow(DS,t),new Wc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new So(lL(t>=240?t-240:t+120,i,r),lL(t,i,r),lL(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wc(sq(this.h),eC(this.s),eC(this.l),zP(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zP(this.opacity);return`${t===1?"hsl(":"hsla("}${sq(this.h)}, ${eC(this.s)*100}%, ${eC(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sq(t){return t=(t||0)%360,t<0?t+360:t}function eC(t){return Math.max(0,Math.min(1,t||0))}function lL(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xz=t=>()=>t;function KQe(t,e){return function(n){return t+n*e}}function YQe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ZQe(t){return(t=+t)==1?_le:function(e,n){return n-e?YQe(e,n,t):xz(isNaN(e)?n:e)}}function _le(t,e){var n=e-t;return n?KQe(t,n):xz(isNaN(t)?e:t)}const aq=function t(e){var n=ZQe(e);function r(i,s){var a=n((i=D4(i)).r,(s=D4(s)).r),o=n(i.g,s.g),c=n(i.b,s.b),u=_le(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function QQe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function JQe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eJe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=$b(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function tJe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $P(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function nJe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=$b(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var F4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cL=new RegExp(F4.source,"g");function rJe(t){return function(){return t}}function iJe(t){return function(e){return t(e)+""}}function sJe(t,e){var n=F4.lastIndex=cL.lastIndex=0,r,i,s,a=-1,o=[],c=[];for(t=t+"",e=e+"";(r=F4.exec(t))&&(i=cL.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,c.push({i:a,x:$P(r,i)})),n=cL.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?iJe(c[0].x):rJe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function $b(t,e){var n=typeof e,r;return e==null||n==="boolean"?xz(e):(n==="number"?$P:n==="string"?(r=US(e))?(e=r,aq):sJe:e instanceof US?aq:e instanceof Date?tJe:JQe(e)?QQe:Array.isArray(e)?eJe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nJe:$P)(t,e)}function bz(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function aJe(t,e){e===void 0&&(e=t,t=$b);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function oJe(t){return function(){return t}}function VP(t){return+t}var oq=[0,1];function qa(t){return t}function U4(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:oJe(isNaN(e)?NaN:.5)}function lJe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function cJe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=U4(i,r),s=n(a,s)):(r=U4(r,i),s=n(s,a)),function(o){return s(r(o))}}function uJe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=U4(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var c=eA(t,o,1,r)-1;return s[c](i[c](o))}}function nA(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tk(){var t=oq,e=oq,n=$b,r,i,s,a=qa,o,c,u;function d(){var h=Math.min(t.length,e.length);return a!==qa&&(a=lJe(t[0],t[h-1])),o=h>2?uJe:cJe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=o(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=o(e,t.map(r),$P)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,VP),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=bz,d()},f.clamp=function(h){return arguments.length?(a=h?!0:qa,d()):a!==qa},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return r=h,i=p,d()}}function wz(){return Tk()(qa,qa)}function dJe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function HP(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function B0(t){return t=HP(Math.abs(t)),t?t[1]:NaN}function fJe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),s.push(n.substring(i-=o,i+o)),!((c+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function hJe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var pJe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function BS(t){if(!(e=pJe.exec(t)))throw new Error("invalid format: "+t);var e;return new _z({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}BS.prototype=_z.prototype;function _z(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_z.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mJe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Sle;function gJe(t,e){var n=HP(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Sle=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+HP(t,Math.max(0,e+s-1))[0]}function lq(t,e){var n=HP(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cq={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dJe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lq(t*100,e),r:lq,s:gJe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uq(t){return t}var dq=Array.prototype.map,fq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yJe(t){var e=t.grouping===void 0||t.thousands===void 0?uq:fJe(dq.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?uq:hJe(dq.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=BS(f);var h=f.fill,p=f.align,g=f.sign,v=f.symbol,w=f.zero,x=f.width,_=f.comma,S=f.precision,A=f.trim,C=f.type;C==="n"?(_=!0,C="g"):cq[C]||(S===void 0&&(S=12),A=!0,C="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var T=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",N=v==="$"?r:/[%p]/.test(C)?a:"",O=cq[C],U=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function R(I){var B=T,G=N,K,Q,q;if(C==="c")G=O(I)+G,I="";else{I=+I;var ie=I<0||1/I<0;if(I=isNaN(I)?c:O(Math.abs(I),S),A&&(I=mJe(I)),ie&&+I==0&&g!=="+"&&(ie=!1),B=(ie?g==="("?g:o:g==="-"||g==="("?"":g)+B,G=(C==="s"?fq[8+Sle/3]:"")+G+(ie&&g==="("?")":""),U){for(K=-1,Q=I.length;++K<Q;)if(q=I.charCodeAt(K),48>q||q>57){G=(q===46?i+I.slice(K+1):I.slice(K))+G,I=I.slice(0,K);break}}}_&&!w&&(I=e(I,1/0));var V=B.length+I.length+G.length,X=V<x?new Array(x-V+1).join(h):"";switch(_&&w&&(I=e(X+I,X.length?x-G.length:1/0),X=""),p){case"<":I=B+I+G+X;break;case"=":I=B+X+I+G;break;case"^":I=X.slice(0,V=X.length>>1)+B+I+G+X.slice(V);break;default:I=X+B+I+G;break}return s(I)}return R.toString=function(){return f+""},R}function d(f,h){var p=u((f=BS(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(B0(h)/3)))*3,v=Math.pow(10,-g),w=fq[8+g/3];return function(x){return p(v*x)+w}}return{format:u,formatPrefix:d}}var tC,Sz,Ele;vJe({thousands:",",grouping:[3],currency:["$",""]});function vJe(t){return tC=yJe(t),Sz=tC.format,Ele=tC.formatPrefix,tC}function xJe(t){return Math.max(0,-B0(Math.abs(t)))}function bJe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(B0(e)/3)))*3-B0(Math.abs(t)))}function wJe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,B0(e)-B0(t))+1}function Ale(t,e,n,r){var i=I4(t,e,n),s;switch(r=BS(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=bJe(i,a))&&(r.precision=s),Ele(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=wJe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=xJe(i))&&(r.precision=s-(r.type==="%")*2);break}}return Sz(r)}function Bp(t){var e=t.domain;return t.ticks=function(n){var r=e();return O4(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Ale(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],c,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=R4(a,o,n),u===c)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function WP(){var t=wz();return t.copy=function(){return nA(t,WP())},uc.apply(t,arguments),Bp(t)}function Tle(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,VP),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Tle(t).unknown(e)},t=arguments.length?Array.from(t,VP):[0,1],Bp(n)}function Mle(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function hq(t){return Math.log(t)}function pq(t){return Math.exp(t)}function _Je(t){return-Math.log(-t)}function SJe(t){return-Math.exp(-t)}function EJe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function AJe(t){return t===10?EJe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function TJe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mq(t){return(e,n)=>-t(-e,n)}function Ez(t){const e=t(hq,pq),n=e.domain;let r=10,i,s;function a(){return i=TJe(r),s=AJe(r),n()[0]<0?(i=mq(i),s=mq(s),t(_Je,SJe)):t(hq,pq),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),g,v;const w=o==null?10:+o;let x=[];if(!(r%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(v=h<0?g/s(-h):g*s(h),!(v<u)){if(v>d)break;x.push(v)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(v=h>0?g/s(-h):g*s(h),!(v<u)){if(v>d)break;x.push(v)}x.length*2<w&&(x=O4(u,d,w))}else x=O4(h,p,Math.min(p-h,w)).map(s);return f?x.reverse():x},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=BS(c)).precision==null&&(c.trim=!0),c=Sz(c)),o===1/0)return c;const u=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(Mle(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function Cle(){const t=Ez(Tk()).domain([1,10]);return t.copy=()=>nA(t,Cle()).base(t.base()),uc.apply(t,arguments),t}function gq(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yq(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Az(t){var e=1,n=t(gq(e),yq(e));return n.constant=function(r){return arguments.length?t(gq(e=+r),yq(e)):e},Bp(n)}function Nle(){var t=Az(Tk());return t.copy=function(){return nA(t,Nle()).constant(t.constant())},uc.apply(t,arguments)}function vq(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function MJe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function CJe(t){return t<0?-t*t:t*t}function Tz(t){var e=t(qa,qa),n=1;function r(){return n===1?t(qa,qa):n===.5?t(MJe,CJe):t(vq(n),vq(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Bp(e)}function Mz(){var t=Tz(Tk());return t.copy=function(){return nA(t,Mz()).exponent(t.exponent())},uc.apply(t,arguments),t}function NJe(){return Mz.apply(null,arguments).exponent(.5)}function xq(t){return Math.sign(t)*t*t}function PJe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ple(){var t=wz(),e=[0,1],n=!1,r;function i(s){var a=PJe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(xq(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,VP)).map(xq)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Ple(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},uc.apply(i,arguments),Bp(i)}function jle(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=IQe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[eA(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(cp),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return jle().domain(t).range(e).unknown(r)},uc.apply(s,arguments)}function kle(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[eA(r,c,0,n)]:s}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,o()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return kle().domain([t,e]).range(i).unknown(s)},uc.apply(Bp(a),arguments)}function Ole(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[eA(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Ole().domain(t).range(e).unknown(n)},uc.apply(i,arguments)}const uL=new Date,dL=new Date;function Cs(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const c=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return c;let u;do c.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return c},i.filter=s=>Cs(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(uL.setTime(+s),dL.setTime(+a),t(uL),t(dL),Math.floor(n(uL,dL))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const GP=Cs(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);GP.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Cs(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):GP);GP.range;const qd=1e3,Jl=qd*60,Xd=Jl*60,vf=Xd*24,Cz=vf*7,bq=vf*30,fL=vf*365,yg=Cs(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*qd)},(t,e)=>(e-t)/qd,t=>t.getUTCSeconds());yg.range;const Nz=Cs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qd)},(t,e)=>{t.setTime(+t+e*Jl)},(t,e)=>(e-t)/Jl,t=>t.getMinutes());Nz.range;const Pz=Cs(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Jl)},(t,e)=>(e-t)/Jl,t=>t.getUTCMinutes());Pz.range;const jz=Cs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qd-t.getMinutes()*Jl)},(t,e)=>{t.setTime(+t+e*Xd)},(t,e)=>(e-t)/Xd,t=>t.getHours());jz.range;const kz=Cs(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xd)},(t,e)=>(e-t)/Xd,t=>t.getUTCHours());kz.range;const rA=Cs(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jl)/vf,t=>t.getDate()-1);rA.range;const Mk=Cs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vf,t=>t.getUTCDate()-1);Mk.range;const Rle=Cs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vf,t=>Math.floor(t/vf));Rle.range;function Ny(t){return Cs(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Jl)/Cz)}const Ck=Ny(0),qP=Ny(1),jJe=Ny(2),kJe=Ny(3),z0=Ny(4),OJe=Ny(5),RJe=Ny(6);Ck.range;qP.range;jJe.range;kJe.range;z0.range;OJe.range;RJe.range;function Py(t){return Cs(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Cz)}const Nk=Py(0),XP=Py(1),IJe=Py(2),LJe=Py(3),$0=Py(4),DJe=Py(5),FJe=Py(6);Nk.range;XP.range;IJe.range;LJe.range;$0.range;DJe.range;FJe.range;const Oz=Cs(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Oz.range;const Rz=Cs(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Rz.range;const xf=Cs(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());xf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cs(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});xf.range;const bf=Cs(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());bf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cs(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});bf.range;function Ile(t,e,n,r,i,s){const a=[[yg,1,qd],[yg,5,5*qd],[yg,15,15*qd],[yg,30,30*qd],[s,1,Jl],[s,5,5*Jl],[s,15,15*Jl],[s,30,30*Jl],[i,1,Xd],[i,3,3*Xd],[i,6,6*Xd],[i,12,12*Xd],[r,1,vf],[r,2,2*vf],[n,1,Cz],[e,1,bq],[e,3,3*bq],[t,1,fL]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=gz(([,,w])=>w).right(a,h);if(p===a.length)return t.every(I4(u/fL,d/fL,f));if(p===0)return GP.every(Math.max(I4(u,d,f),1));const[g,v]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return g.every(v)}return[o,c]}const[UJe,BJe]=Ile(bf,Rz,Nk,Rle,kz,Pz),[zJe,$Je]=Ile(xf,Oz,Ck,rA,jz,Nz);function hL(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pL(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function E_(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function VJe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,c=t.shortMonths,u=A_(i),d=T_(i),f=A_(s),h=T_(s),p=A_(a),g=T_(a),v=A_(o),w=T_(o),x=A_(c),_=T_(c),S={a:ie,A:V,b:X,B:z,c:null,d:Tq,e:Tq,f:het,g:Eet,G:Tet,H:uet,I:det,j:fet,L:Lle,m:pet,M:met,p:oe,q:de,Q:Nq,s:Pq,S:get,u:yet,U:vet,V:xet,w:bet,W:wet,x:null,X:null,y:_et,Y:Aet,Z:Met,"%":Cq},A={a:Y,A:he,b:Ce,B:Ie,c:null,d:Mq,e:Mq,f:jet,g:zet,G:Vet,H:Cet,I:Net,j:Pet,L:Fle,m:ket,M:Oet,p:Ee,q:Je,Q:Nq,s:Pq,S:Ret,u:Iet,U:Let,V:Det,w:Fet,W:Uet,x:null,X:null,y:Bet,Y:$et,Z:Het,"%":Cq},C={a:R,A:I,b:B,B:G,c:K,d:Eq,e:Eq,f:set,g:Sq,G:_q,H:Aq,I:Aq,j:tet,L:iet,m:eet,M:net,p:U,q:JJe,Q:oet,s:cet,S:ret,u:XJe,U:KJe,V:YJe,w:qJe,W:ZJe,x:Q,X:q,y:Sq,Y:_q,Z:QJe,"%":aet};S.x=T(n,S),S.X=T(r,S),S.c=T(e,S),A.x=T(n,A),A.X=T(r,A),A.c=T(e,A);function T(Ne,Ue){return function(Fe){var le=[],J=-1,Le=0,qe=Ne.length,We,Ke,yt;for(Fe instanceof Date||(Fe=new Date(+Fe));++J<qe;)Ne.charCodeAt(J)===37&&(le.push(Ne.slice(Le,J)),(Ke=wq[We=Ne.charAt(++J)])!=null?We=Ne.charAt(++J):Ke=We==="e"?" ":"0",(yt=Ue[We])&&(We=yt(Fe,Ke)),le.push(We),Le=J+1);return le.push(Ne.slice(Le,J)),le.join("")}}function N(Ne,Ue){return function(Fe){var le=E_(1900,void 0,1),J=O(le,Ne,Fe+="",0),Le,qe;if(J!=Fe.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Ue&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Le=pL(E_(le.y,0,1)),qe=Le.getUTCDay(),Le=qe>4||qe===0?XP.ceil(Le):XP(Le),Le=Mk.offset(Le,(le.V-1)*7),le.y=Le.getUTCFullYear(),le.m=Le.getUTCMonth(),le.d=Le.getUTCDate()+(le.w+6)%7):(Le=hL(E_(le.y,0,1)),qe=Le.getDay(),Le=qe>4||qe===0?qP.ceil(Le):qP(Le),Le=rA.offset(Le,(le.V-1)*7),le.y=Le.getFullYear(),le.m=Le.getMonth(),le.d=Le.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),qe="Z"in le?pL(E_(le.y,0,1)).getUTCDay():hL(E_(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(qe+5)%7:le.w+le.U*7-(qe+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,pL(le)):hL(le)}}function O(Ne,Ue,Fe,le){for(var J=0,Le=Ue.length,qe=Fe.length,We,Ke;J<Le;){if(le>=qe)return-1;if(We=Ue.charCodeAt(J++),We===37){if(We=Ue.charAt(J++),Ke=C[We in wq?Ue.charAt(J++):We],!Ke||(le=Ke(Ne,Fe,le))<0)return-1}else if(We!=Fe.charCodeAt(le++))return-1}return le}function U(Ne,Ue,Fe){var le=u.exec(Ue.slice(Fe));return le?(Ne.p=d.get(le[0].toLowerCase()),Fe+le[0].length):-1}function R(Ne,Ue,Fe){var le=p.exec(Ue.slice(Fe));return le?(Ne.w=g.get(le[0].toLowerCase()),Fe+le[0].length):-1}function I(Ne,Ue,Fe){var le=f.exec(Ue.slice(Fe));return le?(Ne.w=h.get(le[0].toLowerCase()),Fe+le[0].length):-1}function B(Ne,Ue,Fe){var le=x.exec(Ue.slice(Fe));return le?(Ne.m=_.get(le[0].toLowerCase()),Fe+le[0].length):-1}function G(Ne,Ue,Fe){var le=v.exec(Ue.slice(Fe));return le?(Ne.m=w.get(le[0].toLowerCase()),Fe+le[0].length):-1}function K(Ne,Ue,Fe){return O(Ne,e,Ue,Fe)}function Q(Ne,Ue,Fe){return O(Ne,n,Ue,Fe)}function q(Ne,Ue,Fe){return O(Ne,r,Ue,Fe)}function ie(Ne){return a[Ne.getDay()]}function V(Ne){return s[Ne.getDay()]}function X(Ne){return c[Ne.getMonth()]}function z(Ne){return o[Ne.getMonth()]}function oe(Ne){return i[+(Ne.getHours()>=12)]}function de(Ne){return 1+~~(Ne.getMonth()/3)}function Y(Ne){return a[Ne.getUTCDay()]}function he(Ne){return s[Ne.getUTCDay()]}function Ce(Ne){return c[Ne.getUTCMonth()]}function Ie(Ne){return o[Ne.getUTCMonth()]}function Ee(Ne){return i[+(Ne.getUTCHours()>=12)]}function Je(Ne){return 1+~~(Ne.getUTCMonth()/3)}return{format:function(Ne){var Ue=T(Ne+="",S);return Ue.toString=function(){return Ne},Ue},parse:function(Ne){var Ue=N(Ne+="",!1);return Ue.toString=function(){return Ne},Ue},utcFormat:function(Ne){var Ue=T(Ne+="",A);return Ue.toString=function(){return Ne},Ue},utcParse:function(Ne){var Ue=N(Ne+="",!0);return Ue.toString=function(){return Ne},Ue}}}var wq={"-":"",_:" ",0:"0"},Ys=/^\s*\d+/,HJe=/^%/,WJe=/[\\^$*+?|[\]().{}]/g;function wr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function GJe(t){return t.replace(WJe,"\\$&")}function A_(t){return new RegExp("^(?:"+t.map(GJe).join("|")+")","i")}function T_(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function qJe(t,e,n){var r=Ys.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function XJe(t,e,n){var r=Ys.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function KJe(t,e,n){var r=Ys.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function YJe(t,e,n){var r=Ys.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ZJe(t,e,n){var r=Ys.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _q(t,e,n){var r=Ys.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Sq(t,e,n){var r=Ys.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function QJe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function JJe(t,e,n){var r=Ys.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function eet(t,e,n){var r=Ys.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Eq(t,e,n){var r=Ys.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tet(t,e,n){var r=Ys.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Aq(t,e,n){var r=Ys.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function net(t,e,n){var r=Ys.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ret(t,e,n){var r=Ys.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function iet(t,e,n){var r=Ys.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function set(t,e,n){var r=Ys.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function aet(t,e,n){var r=HJe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function oet(t,e,n){var r=Ys.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function cet(t,e,n){var r=Ys.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Tq(t,e){return wr(t.getDate(),e,2)}function uet(t,e){return wr(t.getHours(),e,2)}function det(t,e){return wr(t.getHours()%12||12,e,2)}function fet(t,e){return wr(1+rA.count(xf(t),t),e,3)}function Lle(t,e){return wr(t.getMilliseconds(),e,3)}function het(t,e){return Lle(t,e)+"000"}function pet(t,e){return wr(t.getMonth()+1,e,2)}function met(t,e){return wr(t.getMinutes(),e,2)}function get(t,e){return wr(t.getSeconds(),e,2)}function yet(t){var e=t.getDay();return e===0?7:e}function vet(t,e){return wr(Ck.count(xf(t)-1,t),e,2)}function Dle(t){var e=t.getDay();return e>=4||e===0?z0(t):z0.ceil(t)}function xet(t,e){return t=Dle(t),wr(z0.count(xf(t),t)+(xf(t).getDay()===4),e,2)}function bet(t){return t.getDay()}function wet(t,e){return wr(qP.count(xf(t)-1,t),e,2)}function _et(t,e){return wr(t.getFullYear()%100,e,2)}function Eet(t,e){return t=Dle(t),wr(t.getFullYear()%100,e,2)}function Aet(t,e){return wr(t.getFullYear()%1e4,e,4)}function Tet(t,e){var n=t.getDay();return t=n>=4||n===0?z0(t):z0.ceil(t),wr(t.getFullYear()%1e4,e,4)}function Met(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+wr(e/60|0,"0",2)+wr(e%60,"0",2)}function Mq(t,e){return wr(t.getUTCDate(),e,2)}function Cet(t,e){return wr(t.getUTCHours(),e,2)}function Net(t,e){return wr(t.getUTCHours()%12||12,e,2)}function Pet(t,e){return wr(1+Mk.count(bf(t),t),e,3)}function Fle(t,e){return wr(t.getUTCMilliseconds(),e,3)}function jet(t,e){return Fle(t,e)+"000"}function ket(t,e){return wr(t.getUTCMonth()+1,e,2)}function Oet(t,e){return wr(t.getUTCMinutes(),e,2)}function Ret(t,e){return wr(t.getUTCSeconds(),e,2)}function Iet(t){var e=t.getUTCDay();return e===0?7:e}function Let(t,e){return wr(Nk.count(bf(t)-1,t),e,2)}function Ule(t){var e=t.getUTCDay();return e>=4||e===0?$0(t):$0.ceil(t)}function Det(t,e){return t=Ule(t),wr($0.count(bf(t),t)+(bf(t).getUTCDay()===4),e,2)}function Fet(t){return t.getUTCDay()}function Uet(t,e){return wr(XP.count(bf(t)-1,t),e,2)}function Bet(t,e){return wr(t.getUTCFullYear()%100,e,2)}function zet(t,e){return t=Ule(t),wr(t.getUTCFullYear()%100,e,2)}function $et(t,e){return wr(t.getUTCFullYear()%1e4,e,4)}function Vet(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$0(t):$0.ceil(t),wr(t.getUTCFullYear()%1e4,e,4)}function Het(){return"+0000"}function Cq(){return"%"}function Nq(t){return+t}function Pq(t){return Math.floor(+t/1e3)}var rx,Ble,zle;Wet({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wet(t){return rx=VJe(t),Ble=rx.format,rx.parse,zle=rx.utcFormat,rx.utcParse,rx}function Get(t){return new Date(t)}function qet(t){return t instanceof Date?+t:+new Date(+t)}function Iz(t,e,n,r,i,s,a,o,c,u){var d=wz(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),v=u("%I:%M"),w=u("%I %p"),x=u("%a %d"),_=u("%b %d"),S=u("%B"),A=u("%Y");function C(T){return(c(T)<T?p:o(T)<T?g:a(T)<T?v:s(T)<T?w:r(T)<T?i(T)<T?x:_:n(T)<T?S:A)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?h(Array.from(T,qet)):h().map(Get)},d.ticks=function(T){var N=h();return t(N[0],N[N.length-1],T??10)},d.tickFormat=function(T,N){return N==null?C:u(N)},d.nice=function(T){var N=h();return(!T||typeof T.range!="function")&&(T=e(N[0],N[N.length-1],T??10)),T?h(Mle(N,T)):d},d.copy=function(){return nA(d,Iz(t,e,n,r,i,s,a,o,c,u))},d}function Xet(){return uc.apply(Iz(zJe,$Je,xf,Oz,Ck,rA,jz,Nz,yg,Ble).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ket(){return uc.apply(Iz(UJe,BJe,bf,Rz,Nk,Mk,kz,Pz,yg,zle).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pk(){var t=0,e=1,n,r,i,s,a=qa,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,a=f(p,g),u):[a(0),a(1)]}}return u.range=d($b),u.rangeRound=d(bz),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function zp(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $le(){var t=Bp(Pk()(qa));return t.copy=function(){return zp(t,$le())},Nf.apply(t,arguments)}function Vle(){var t=Ez(Pk()).domain([1,10]);return t.copy=function(){return zp(t,Vle()).base(t.base())},Nf.apply(t,arguments)}function Hle(){var t=Az(Pk());return t.copy=function(){return zp(t,Hle()).constant(t.constant())},Nf.apply(t,arguments)}function Lz(){var t=Tz(Pk());return t.copy=function(){return zp(t,Lz()).exponent(t.exponent())},Nf.apply(t,arguments)}function Yet(){return Lz.apply(null,arguments).exponent(.5)}function Wle(){var t=[],e=qa;function n(r){if(r!=null&&!isNaN(r=+r))return e((eA(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(cp),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>RQe(t,s/r))},n.copy=function(){return Wle(e).domain(t)},Nf.apply(n,arguments)}function jk(){var t=0,e=.5,n=1,r=1,i,s,a,o,c,u=qa,d,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-s)*(r*v<r*s?o:c),u(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),s=d(e=+e),a=d(n=+n),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(u=v,p):u};function g(v){return function(w){var x,_,S;return arguments.length?([x,_,S]=w,u=aJe(v,[x,_,S]),p):[u(0),u(.5),u(1)]}}return p.range=g($b),p.rangeRound=g(bz),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return d=v,i=v(t),s=v(e),a=v(n),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function Gle(){var t=Bp(jk()(qa));return t.copy=function(){return zp(t,Gle())},Nf.apply(t,arguments)}function qle(){var t=Ez(jk()).domain([.1,1,10]);return t.copy=function(){return zp(t,qle()).base(t.base())},Nf.apply(t,arguments)}function Xle(){var t=Az(jk());return t.copy=function(){return zp(t,Xle()).constant(t.constant())},Nf.apply(t,arguments)}function Dz(){var t=Tz(jk());return t.copy=function(){return zp(t,Dz()).exponent(t.exponent())},Nf.apply(t,arguments)}function Zet(){return Dz.apply(null,arguments).exponent(.5)}const jq=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:LS,scaleDiverging:Gle,scaleDivergingLog:qle,scaleDivergingPow:Dz,scaleDivergingSqrt:Zet,scaleDivergingSymlog:Xle,scaleIdentity:Tle,scaleImplicit:L4,scaleLinear:WP,scaleLog:Cle,scaleOrdinal:yz,scalePoint:w1,scalePow:Mz,scaleQuantile:jle,scaleQuantize:kle,scaleRadial:Ple,scaleSequential:$le,scaleSequentialLog:Vle,scaleSequentialPow:Lz,scaleSequentialQuantile:Wle,scaleSequentialSqrt:Yet,scaleSequentialSymlog:Hle,scaleSqrt:NJe,scaleSymlog:Nle,scaleThreshold:Ole,scaleTime:Xet,scaleUtc:Ket,tickFormat:Ale},Symbol.toStringTag,{value:"Module"}));var Qet=kb;function Jet(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!Qet(a):n(a,o)))var o=a,c=s}return c}var Kle=Jet;function ett(t,e){return t>e}var ttt=ett,ntt=Kle,rtt=ttt,itt=zb;function stt(t){return t&&t.length?ntt(t,itt,rtt):void 0}var att=stt;const Yh=cr(att);function ott(t,e){return t<e}var ltt=ott,ctt=Kle,utt=ltt,dtt=zb;function ftt(t){return t&&t.length?ctt(t,dtt,utt):void 0}var htt=ftt;const kk=cr(htt);var ptt=Z5,mtt=Up,gtt=rle,ytt=Oo;function vtt(t,e){var n=ytt(t)?ptt:gtt;return n(t,mtt(e))}var xtt=vtt,btt=tle,wtt=xtt;function _tt(t,e){return btt(wtt(t,e),1)}var Stt=_tt;const Ett=cr(Stt);var Att=fz;function Ttt(t,e){return Att(t,e)}var Mtt=Ttt;const V0=cr(Mtt);var Vb=1e9,Ctt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Uz,mi=!0,sc="[DecimalError] ",$g=sc+"Invalid argument: ",Fz=sc+"Exponent out of range: ",Hb=Math.floor,Km=Math.pow,Ntt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ol,Hs=1e7,ui=7,Yle=9007199254740991,KP=Hb(Yle/ui),Dt={};Dt.absoluteValue=Dt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Dt.comparedTo=Dt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Dt.decimalPlaces=Dt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ui;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Dt.dividedBy=Dt.div=function(t){return tf(this,new this.constructor(t))};Dt.dividedToIntegerBy=Dt.idiv=function(t){var e=this,n=e.constructor;return Xr(tf(e,new n(t),0,1),n.precision)};Dt.equals=Dt.eq=function(t){return!this.cmp(t)};Dt.exponent=function(){return ds(this)};Dt.greaterThan=Dt.gt=function(t){return this.cmp(t)>0};Dt.greaterThanOrEqualTo=Dt.gte=function(t){return this.cmp(t)>=0};Dt.isInteger=Dt.isint=function(){return this.e>this.d.length-2};Dt.isNegative=Dt.isneg=function(){return this.s<0};Dt.isPositive=Dt.ispos=function(){return this.s>0};Dt.isZero=function(){return this.s===0};Dt.lessThan=Dt.lt=function(t){return this.cmp(t)<0};Dt.lessThanOrEqualTo=Dt.lte=function(t){return this.cmp(t)<1};Dt.logarithm=Dt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ol))throw Error(sc+"NaN");if(n.s<1)throw Error(sc+(n.s?"NaN":"-Infinity"));return n.eq(ol)?new r(0):(mi=!1,e=tf(zS(n,s),zS(t,s),s),mi=!0,Xr(e,i))};Dt.minus=Dt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jle(e,t):Zle(e,(t.s=-t.s,t))};Dt.modulo=Dt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(sc+"NaN");return n.s?(mi=!1,e=tf(n,t,0,1).times(t),mi=!0,n.minus(e)):Xr(new r(n),i)};Dt.naturalExponential=Dt.exp=function(){return Qle(this)};Dt.naturalLogarithm=Dt.ln=function(){return zS(this)};Dt.negated=Dt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Dt.plus=Dt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Zle(e,t):Jle(e,(t.s=-t.s,t))};Dt.precision=Dt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($g+t);if(e=ds(i)+1,r=i.d.length-1,n=r*ui+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Dt.squareRoot=Dt.sqrt=function(){var t,e,n,r,i,s,a,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(sc+"NaN")}for(t=ds(o),mi=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=zu(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Hb((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(tf(o,s,a+2)).times(.5),zu(s.d).slice(0,a)===(e=zu(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Xr(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return mi=!0,Xr(r,n)};Dt.times=Dt.mul=function(t){var e,n,r,i,s,a,o,c,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,a=c,c=u,u=a),s=[],a=c+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)o=s[i]+p[r]*h[i-r-1]+e,s[i--]=o%Hs|0,e=o/Hs|0;s[i]=(s[i]+e)%Hs|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,mi?Xr(t,f.precision):t};Dt.toDecimalPlaces=Dt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(td(t,0,Vb),e===void 0?e=r.rounding:td(e,0,8),Xr(n,t+ds(n)+1,e))};Dt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hy(r,!0):(td(t,0,Vb),e===void 0?e=i.rounding:td(e,0,8),r=Xr(new i(r),t+1,e),n=hy(r,!0,t+1)),n};Dt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?hy(i):(td(t,0,Vb),e===void 0?e=s.rounding:td(e,0,8),r=Xr(new s(i),t+ds(i)+1,e),n=hy(r.abs(),!1,t+ds(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Dt.toInteger=Dt.toint=function(){var t=this,e=t.constructor;return Xr(new e(t),ds(t)+1,e.rounding)};Dt.toNumber=function(){return+this};Dt.toPower=Dt.pow=function(t){var e,n,r,i,s,a,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(ol);if(o=new c(o),!o.s){if(t.s<1)throw Error(sc+"Infinity");return o}if(o.eq(ol))return o;if(r=c.precision,t.eq(ol))return Xr(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=d<0?-d:d)<=Yle){for(i=new c(ol),e=Math.ceil(r/ui+4),mi=!1;n%2&&(i=i.times(o),Oq(i.d,e)),n=Hb(n/2),n!==0;)o=o.times(o),Oq(o.d,e);return mi=!0,t.s<0?new c(ol).div(i):Xr(i,r)}}else if(s<0)throw Error(sc+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,mi=!1,i=t.times(zS(o,r+u)),mi=!0,i=Qle(i),i.s=s,i};Dt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=ds(i),r=hy(i,n<=s.toExpNeg||n>=s.toExpPos)):(td(t,1,Vb),e===void 0?e=s.rounding:td(e,0,8),i=Xr(new s(i),t,e),n=ds(i),r=hy(i,t<=n||n<=s.toExpNeg,t)),r};Dt.toSignificantDigits=Dt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(td(t,1,Vb),e===void 0?e=r.rounding:td(e,0,8)),Xr(new r(n),t,e)};Dt.toString=Dt.valueOf=Dt.val=Dt.toJSON=Dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ds(t),n=t.constructor;return hy(t,e<=n.toExpNeg||e>=n.toExpPos)};function Zle(t,e){var n,r,i,s,a,o,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),mi?Xr(e,f):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,o=u.length):(r=u,i=a,o=c.length),a=Math.ceil(f/ui),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=c.length,s=u.length,o-s<0&&(s=o,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/Hs|0,c[s]%=Hs;for(n&&(c.unshift(n),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,mi?Xr(e,f):e}function td(t,e,n){if(t!==~~t||t<e||t>n)throw Error($g+t)}function zu(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=ui-r.length,n&&(s+=Ph(n)),s+=r;a=t[e],r=a+"",n=ui-r.length,n&&(s+=Ph(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var tf=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Hs|0,a=s/Hs|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,c;if(s!=a)c=s>a?1:-1;else for(o=c=0;o<s;o++)if(r[o]!=i[o]){c=r[o]>i[o]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Hs+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,c,u,d,f,h,p,g,v,w,x,_,S,A,C,T,N,O,U=r.constructor,R=r.s==i.s?1:-1,I=r.d,B=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(sc+"Division by zero");for(c=r.e-i.e,N=B.length,C=I.length,p=new U(R),g=p.d=[],u=0;B[u]==(I[u]||0);)++u;if(B[u]>(I[u]||0)&&--c,s==null?_=s=U.precision:a?_=s+(ds(r)-ds(i))+1:_=s,_<0)return new U(0);if(_=_/ui+2|0,u=0,N==1)for(d=0,B=B[0],_++;(u<C||d)&&_--;u++)S=d*Hs+(I[u]||0),g[u]=S/B|0,d=S%B|0;else{for(d=Hs/(B[0]+1)|0,d>1&&(B=t(B,d),I=t(I,d),N=B.length,C=I.length),A=N,v=I.slice(0,N),w=v.length;w<N;)v[w++]=0;O=B.slice(),O.unshift(0),T=B[0],B[1]>=Hs/2&&++T;do d=0,o=e(B,v,N,w),o<0?(x=v[0],N!=w&&(x=x*Hs+(v[1]||0)),d=x/T|0,d>1?(d>=Hs&&(d=Hs-1),f=t(B,d),h=f.length,w=v.length,o=e(f,v,h,w),o==1&&(d--,n(f,N<h?O:B,h))):(d==0&&(o=d=1),f=B.slice()),h=f.length,h<w&&f.unshift(0),n(v,f,w),o==-1&&(w=v.length,o=e(B,v,N,w),o<1&&(d++,n(v,N<w?O:B,w))),w=v.length):o===0&&(d++,v=[0]),g[u++]=d,o&&v[0]?v[w++]=I[A]||0:(v=[I[A]],w=1);while((A++<C||v[0]!==void 0)&&_--)}return g[0]||g.shift(),p.e=c,Xr(p,a?s+ds(p)+1:s)}}();function Qle(t,e){var n,r,i,s,a,o,c=0,u=0,d=t.constructor,f=d.precision;if(ds(t)>16)throw Error(Fz+ds(t));if(!t.s)return new d(ol);for(mi=!1,o=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Km(2,u))/Math.LN10*2+5|0,o+=r,n=i=s=new d(ol),d.precision=o;;){if(i=Xr(i.times(t),o),n=n.times(++c),a=s.plus(tf(i,n,o)),zu(a.d).slice(0,o)===zu(s.d).slice(0,o)){for(;u--;)s=Xr(s.times(s),o);return d.precision=f,e==null?(mi=!0,Xr(s,f)):s}s=a}}function ds(t){for(var e=t.e*ui,n=t.d[0];n>=10;n/=10)e++;return e}function mL(t,e,n){if(e>t.LN10.sd())throw mi=!0,n&&(t.precision=n),Error(sc+"LN10 precision limit exceeded");return Xr(new t(t.LN10),e)}function Ph(t){for(var e="";t--;)e+="0";return e}function zS(t,e){var n,r,i,s,a,o,c,u,d,f=1,h=10,p=t,g=p.d,v=p.constructor,w=v.precision;if(p.s<1)throw Error(sc+(p.s?"NaN":"-Infinity"));if(p.eq(ol))return new v(0);if(e==null?(mi=!1,u=w):u=e,p.eq(10))return e==null&&(mi=!0),mL(v,u);if(u+=h,v.precision=u,n=zu(g),r=n.charAt(0),s=ds(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=zu(p.d),r=n.charAt(0),f++;s=ds(p),r>1?(p=new v("0."+n),s++):p=new v(r+"."+n.slice(1))}else return c=mL(v,u+2,w).times(s+""),p=zS(new v(r+"."+n.slice(1)),u-h).plus(c),v.precision=w,e==null?(mi=!0,Xr(p,w)):p;for(o=a=p=tf(p.minus(ol),p.plus(ol),u),d=Xr(p.times(p),u),i=3;;){if(a=Xr(a.times(d),u),c=o.plus(tf(a,new v(i),u)),zu(c.d).slice(0,u)===zu(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(mL(v,u+2,w).times(s+""))),o=tf(o,new v(f),u),v.precision=w,e==null?(mi=!0,Xr(o,w)):o;o=c,i+=2}}function kq(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Hb(n/ui),t.d=[],r=(n+1)%ui,n<0&&(r+=ui),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ui;r<i;)t.d.push(+e.slice(r,r+=ui));e=e.slice(r),r=ui-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),mi&&(t.e>KP||t.e<-KP))throw Error(Fz+n)}else t.s=0,t.e=0,t.d=[0];return t}function Xr(t,e,n){var r,i,s,a,o,c,u,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=ui,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/ui),s=f.length,d>=s)return t;for(u=s=f[d],a=1;s>=10;s/=10)a++;r%=ui,i=r-ui+a}if(n!==void 0&&(s=Km(10,a-i-1),o=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(o||c)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(r>0?i>0?u/Km(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=ds(t),f.length=1,e=e-s-1,f[0]=Km(10,(ui-e%ui)%ui),t.e=Hb(-e/ui)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=Km(10,ui-r),f[d]=i>0?(u/Km(10,a-i)%Km(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Hs&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=Hs)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(mi&&(t.e>KP||t.e<-KP))throw Error(Fz+ds(t));return t}function Jle(t,e){var n,r,i,s,a,o,c,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),mi?Xr(e,p):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,o=f.length):(n=f,r=u,o=c.length),i=Math.max(Math.ceil(p/ui),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Hs-1;--c[s],c[i]+=Hs}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,mi?Xr(e,p):e):new h(0)}function hy(t,e,n){var r,i=ds(t),s=zu(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ph(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ph(-i-1)+s,n&&(r=n-a)>0&&(s+=Ph(r))):i>=a?(s+=Ph(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Ph(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Ph(r))),t.s<0?"-"+s:s}function Oq(t,e){if(t.length>e)return t.length=e,!0}function ece(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error($g+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return kq(a,s.toString())}else if(typeof s!="string")throw Error($g+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Ntt.test(s))kq(a,s);else throw Error($g+s)}if(i.prototype=Dt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ece,i.config=i.set=Ptt,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Ptt(t){if(!t||typeof t!="object")throw Error(sc+"Object expected");var e,n,r,i=["precision",1,Vb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Hb(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error($g+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($g+n+": "+r);return this}var Uz=ece(Ctt);ol=new Uz(1);const Fr=Uz;function jtt(t){return Itt(t)||Rtt(t)||Ott(t)||ktt()}function ktt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ott(t,e){if(t){if(typeof t=="string")return B4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B4(t,e)}}function Rtt(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Itt(t){if(Array.isArray(t))return B4(t)}function B4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ltt=function(e){return e},tce={},nce=function(e){return e===tce},Rq=function(e){return function n(){return arguments.length===0||arguments.length===1&&nce(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Dtt=function t(e,n){return e===1?n:Rq(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==tce}).length;return a>=e?n.apply(void 0,i):t(e-a,Rq(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=i.map(function(f){return nce(f)?c.shift():f});return n.apply(void 0,jtt(d).concat(c))}))})},Ok=function(e){return Dtt(e.length,e)},z4=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Ftt=Ok(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Utt=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ltt;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,c){return c(o)},s.apply(void 0,arguments))}},$4=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},rce=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,c){return o===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function Btt(t){var e;return t===0?e=1:e=Math.floor(new Fr(t).abs().log(10).toNumber())+1,e}function ztt(t,e,n){for(var r=new Fr(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var $tt=Ok(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Vtt=Ok(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Htt=Ok(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Rk={rangeStep:ztt,getDigitCount:Btt,interpolateNumber:$tt,uninterpolateNumber:Vtt,uninterpolateTruncation:Htt};function V4(t){return qtt(t)||Gtt(t)||ice(t)||Wtt()}function Wtt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gtt(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qtt(t){if(Array.isArray(t))return H4(t)}function $S(t,e){return Ytt(t)||Ktt(t,e)||ice(t,e)||Xtt()}function Xtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(t,e){if(t){if(typeof t=="string")return H4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H4(t,e)}}function H4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ktt(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function Ytt(t){if(Array.isArray(t))return t}function sce(t){var e=$S(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function ace(t,e,n){if(t.lte(0))return new Fr(0);var r=Rk.getDigitCount(t.toNumber()),i=new Fr(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Fr(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=o.mul(i);return e?c:new Fr(Math.ceil(c))}function Ztt(t,e,n){var r=1,i=new Fr(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Fr(10).pow(Rk.getDigitCount(t)-1),i=new Fr(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Fr(Math.floor(t)))}else t===0?i=new Fr(Math.floor((e-1)/2)):n||(i=new Fr(Math.floor(t)));var a=Math.floor((e-1)/2),o=Utt(Ftt(function(c){return i.add(new Fr(c-a).mul(r)).toNumber()}),z4);return o(0,e)}function oce(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Fr(0),tickMin:new Fr(0),tickMax:new Fr(0)};var s=ace(new Fr(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Fr(0):(a=new Fr(t).add(e).div(2),a=a.sub(new Fr(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),c=Math.ceil(new Fr(e).sub(a).div(s).toNumber()),u=o+c+1;return u>n?oce(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,o=e>0?o:o+(n-u)),{step:s,tickMin:a.sub(new Fr(o).mul(s)),tickMax:a.add(new Fr(c).mul(s))})}function Qtt(t){var e=$S(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=sce([n,r]),c=$S(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(V4(z4(0,i-1).map(function(){return 1/0}))):[].concat(V4(z4(0,i-1).map(function(){return-1/0})),[d]);return n>r?$4(f):f}if(u===d)return Ztt(u,i,s);var h=oce(u,d,a,s),p=h.step,g=h.tickMin,v=h.tickMax,w=Rk.rangeStep(g,v.add(new Fr(.1).mul(p)),p);return n>r?$4(w):w}function Jtt(t,e){var n=$S(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=sce([r,i]),o=$S(a,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=ace(new Fr(u).sub(c).div(d-1),s,0),h=[].concat(V4(Rk.rangeStep(new Fr(c),new Fr(u).sub(new Fr(.99).mul(f)),f)),[u]);return r>i?$4(h):h}var ent=rce(Qtt),tnt=rce(Jtt),nnt="Invariant failed";function py(t,e){throw new Error(nnt)}var rnt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YP.apply(this,arguments)}function int(t,e){return lnt(t)||ont(t,e)||ant(t,e)||snt()}function snt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ant(t,e){if(t){if(typeof t=="string")return Iq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iq(t,e)}}function Iq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ont(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function lnt(t){if(Array.isArray(t))return t}function cnt(t,e){if(t==null)return{};var n=unt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function unt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uce(r.key),r)}}function hnt(t,e,n){return e&&fnt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pnt(t,e,n){return e=ZP(e),mnt(t,lce()?Reflect.construct(e,n||[],ZP(t).constructor):e.apply(t,n))}function mnt(t,e){if(e&&(H0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gnt(t)}function gnt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lce=function(){return!!t})()}function ZP(t){return ZP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZP(t)}function ynt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W4(t,e)}function W4(t,e){return W4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W4(t,e)}function cce(t,e,n){return e=uce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uce(t){var e=vnt(t,"string");return H0(e)=="symbol"?e:e+""}function vnt(t,e){if(H0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(H0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iA=function(t){function e(){return dnt(this,e),pnt(this,e,arguments)}return ynt(e,t),hnt(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=cnt(r,rnt),p=Gn(h,!1);this.props.direction==="x"&&d.type!=="number"&&py();var g=c.map(function(v){var w=u(v,o),x=w.x,_=w.y,S=w.value,A=w.errorVal;if(!A)return null;var C=[],T,N;if(Array.isArray(A)){var O=int(A,2);T=O[0],N=O[1]}else T=N=A;if(s==="vertical"){var U=d.scale,R=_+i,I=R+a,B=R-a,G=U(S-T),K=U(S+N);C.push({x1:K,y1:I,x2:K,y2:B}),C.push({x1:G,y1:R,x2:K,y2:R}),C.push({x1:G,y1:I,x2:G,y2:B})}else if(s==="horizontal"){var Q=f.scale,q=x+i,ie=q-a,V=q+a,X=Q(S-T),z=Q(S+N);C.push({x1:ie,y1:z,x2:V,y2:z}),C.push({x1:q,y1:X,x2:q,y2:z}),C.push({x1:ie,y1:X,x2:V,y2:X})}return ne.createElement(si,YP({className:"recharts-errorBar",key:"bar-".concat(C.map(function(oe){return"".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))},p),C.map(function(oe){return ne.createElement("line",YP({},oe,{key:"line-".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))}))});return ne.createElement(si,{className:"recharts-errorBars"},g)}}])}(ne.Component);cce(iA,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cce(iA,"displayName","ErrorBar");function VS(t){"@babel/helpers - typeof";return VS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VS(t)}function Lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lq(Object(n),!0).forEach(function(r){xnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xnt(t,e,n){return e=bnt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bnt(t){var e=wnt(t,"string");return VS(e)=="symbol"?e:e+""}function wnt(t,e){if(VS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(VS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dce=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=tl(n,Bg);if(!a)return null;var o=Bg.defaultProps,c=o!==void 0?Bm(Bm({},o),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(v){return{type:a.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Bm(Bm({},h),f.props):{},g=p.dataKey,v=p.name,w=p.legendType,x=p.hide;return{inactive:x,dataKey:g,type:c.iconType||w||"square",color:Bz(f),value:v||g,payload:p}}),Bm(Bm(Bm({},c),Bg.getWithHeight(a,i)),{},{payload:u,item:a})};function HS(t){"@babel/helpers - typeof";return HS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HS(t)}function Dq(t){return Ant(t)||Ent(t)||Snt(t)||_nt()}function _nt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Snt(t,e){if(t){if(typeof t=="string")return G4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G4(t,e)}}function Ent(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ant(t){if(Array.isArray(t))return G4(t)}function G4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fq(Object(n),!0).forEach(function(r){Zx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zx(t,e,n){return e=Tnt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tnt(t){var e=Mnt(t,"string");return HS(e)=="symbol"?e:e+""}function Mnt(t,e){if(HS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(HS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qa(t,e,n){return Qn(t)||Qn(e)?n:Es(e)?tc(t,e,n):Un(e)?e(t):n}function _1(t,e,n,r){var i=Ett(t,function(o){return Qa(o,e)});if(n==="number"){var s=i.filter(function(o){return pt(o)||parseFloat(o)});return s.length?[kk(s),Yh(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Qn(o)}):i;return a.map(function(o){return Es(o)||o instanceof Date?o:""})}var Cnt=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(qc(f-d)!==qc(h-f)){var g=[];if(qc(h-f)===qc(c[1]-c[0])){p=h;var v=f+c[1]-c[0];g[0]=Math.min(v,(v+d)/2),g[1]=Math.max(v,(v+d)/2)}else{p=d;var w=h+c[1]-c[0];g[0]=Math.min(f,(w+f)/2),g[1]=Math.max(f,(w+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var _=Math.min(d,h),S=Math.max(d,h);if(e>(_+f)/2&&e<=(S+f)/2){a=i[u].index;break}}}else for(var A=0;A<o;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){a=r[A].index;break}return a},Bz=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Di(Di({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:o;break;default:c=o;break}return c},Nnt=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),c=0,u=o.length;c<u;c++)for(var d=s[o[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],v=g.items,w=g.cateAxisId,x=v.filter(function(N){return Jd(N.type).indexOf("Bar")>=0});if(x&&x.length){var _=x[0].type.defaultProps,S=_!==void 0?Di(Di({},_),x[0].props):x[0].props,A=S.barSize,C=S[w];a[C]||(a[C]=[]);var T=Qn(A)?n:A;a[C].push({item:x[0],stackList:x.slice(1),barSize:Qn(T)?void 0:fy(T,r,0)})}}return a},Pnt=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,c=a.length;if(c<1)return null;var u=fy(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/c,g=a.reduce(function(A,C){return A+C.barSize||0},0);g+=(c-1)*u,g>=i&&(g-=(c-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=c*p);var v=(i-g)/2>>0,w={offset:v-u,size:0};d=a.reduce(function(A,C){var T={item:C.item,position:{offset:w.offset+w.size+u,size:h?p:C.barSize}},N=[].concat(Dq(A),[T]);return w=N[N.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(O){N.push({item:O,position:w})}),N},f)}else{var x=fy(r,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var _=(i-2*x-(c-1)*u)/c;_>1&&(_>>=0);var S=o===+o?Math.min(_,o):_;d=a.reduce(function(A,C,T){var N=[].concat(Dq(A),[{item:C.item,position:{offset:x+(_+u)*T+(_-S)/2,size:S}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(O){N.push({item:O,position:N[N.length-1].position})}),N},f)}return d},jnt=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,c=a-(o.left||0)-(o.right||0),u=dce({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&p!=="center"&&pt(e[p]))return Di(Di({},e),{},Zx({},p,e[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&g!=="middle"&&pt(e[g]))return Di(Di({},e),{},Zx({},g,e[g]+(h||0)))}return e},knt=function(e,n,r){return Qn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},fce=function(e,n,r,i,s){var a=n.props.children,o=nc(a,iA).filter(function(u){return knt(i,s,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Qa(d,r);if(Qn(f))return u;var h=Array.isArray(f)?[kk(f),Yh(f)]:[f,f],p=c.reduce(function(g,v){var w=Qa(d,v,0),x=h[0]-Math.abs(Array.isArray(w)?w[0]:w),_=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(x,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Ont=function(e,n,r,i,s){var a=n.map(function(o){return fce(e,o,r,s,i)}).filter(function(o){return!Qn(o)});return a&&a.length?a.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},hce=function(e,n,r,i,s){var a=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&fce(e,c,u,i)||_1(e,u,r,s)});if(r==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return a.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},pce=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},mce=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,a,o=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(a=!0),c.coordinate});return s||o.push(n),a||o.push(r),o},Kd=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?qc(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Db(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},gL=new WeakMap,nC=function(e,n){if(typeof n!="function")return e;gL.has(e)||gL.set(e,new WeakMap);var r=gL.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Rnt=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:LS(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:WP(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:w1(),realScaleType:"point"}:s==="category"?{scale:LS(),realScaleType:"band"}:{scale:WP(),realScaleType:"linear"};if(dy(i)){var c="scale".concat(xk(i));return{scale:(jq[c]||w1)(),realScaleType:jq[c]?c:"point"}}return Un(i)?{scale:i}:{scale:w1(),realScaleType:"point"}},Uq=1e-4,Int=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-Uq,a=Math.max(i[0],i[1])+Uq,o=e(n[0]),c=e(n[r-1]);(o<s||o>a||c<s||c>a)&&e.domain([n[0],n[r-1]])}},Lnt=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Dnt=function(e,n){if(!n||n.length!==2||!pt(n[0])||!pt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!pt(e[0])||e[0]<r)&&(s[0]=r),(!pt(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},Fnt=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var c=Db(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=s,e[o][r][1]=s+c,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+c,a=e[o][r][1])}},Unt=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=Db(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Bnt={sign:Fnt,expand:QHe,none:I0,silhouette:JHe,wiggle:eWe,positive:Unt},znt=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=Bnt[r],a=ZHe().keys(i).value(function(o,c){return+Qa(o,c,0)}).order(y4).offset(s);return a(e)},$nt=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,c={},u=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Di(Di({},h.type.defaultProps),h.props):h.props,v=g.stackId,w=g.hide;if(w)return f;var x=g[r],_=f[x]||{hasStack:!1,stackGroups:{}};if(Es(v)){var S=_.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),_.hasStack=!0,_.stackGroups[v]=S}else _.stackGroups[Fb("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Di(Di({},f),{},Zx({},x,_))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,w){var x=p.stackGroups[w];return Di(Di({},v),{},Zx({},w,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:znt(e,x.items,s)}))},g)}return Di(Di({},f),{},Zx({},h,p))},d)},Vnt=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=ent(u,s,o);return e.domain([kk(d),Yh(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=tnt(f,s,o);return{niceTicks:h}}return null};function QP(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qn(i[e.dataKey])){var o=_P(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Qa(i,Qn(a)?e.dataKey:a);return Qn(c)?null:e.scale(c)}var Bq=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var c=Qa(a,n.dataKey,n.domain[o]);return Qn(c)?null:n.scale(c)-s/2+i},Hnt=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},Wnt=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Di(Di({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Es(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},Gnt=function(e){return e.reduce(function(n,r){return[kk(r.concat([n[0]]).filter(pt)),Yh(r.concat([n[1]]).filter(pt))]},[1/0,-1/0])},gce=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,c=o.reduce(function(u,d){var f=Gnt(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},zq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$q=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q4=function(e,n,r){if(Un(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(pt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(zq.test(e[0])){var s=+zq.exec(e[0])[1];i[0]=n[0]-s}else Un(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(pt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if($q.test(e[1])){var a=+$q.exec(e[1])[1];i[1]=n[1]+a}else Un(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},JP=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=pz(n,function(f){return f.coordinate}),a=1/0,o=1,c=s.length;o<c;o++){var u=s[o],d=s[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},Vq=function(e,n,r){return!e||!e.length||V0(e,tc(r,"type.defaultProps.domain"))?n:e},yce=function(e,n){var r=e.type.defaultProps?Di(Di({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Di(Di({},Gn(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:Bz(e),value:Qa(n,i),type:c,payload:n,chartType:u,hide:d})};function WS(t){"@babel/helpers - typeof";return WS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WS(t)}function Hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hq(Object(n),!0).forEach(function(r){qnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qnt(t,e,n){return e=Xnt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xnt(t){var e=Knt(t,"string");return WS(e)=="symbol"?e:e+""}function Knt(t,e){if(WS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(WS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e2=Math.PI/180,Ynt=function(e){return e*180/Math.PI},sa=function(e,n,r,i){return{x:e+Math.cos(-e2*i)*r,y:n+Math.sin(-e2*i)*r}},Znt=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},Qnt=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=Znt({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var c=(r-s)/o,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:o,angle:Ynt(u),angleInRadian:u}},Jnt=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},ert=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},Gq=function(e,n){var r=e.x,i=e.y,s=Qnt({x:r,y:i},n),a=s.radius,o=s.angle,c=n.innerRadius,u=n.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var d=Jnt(n),f=d.startAngle,h=d.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Wq(Wq({},n),{},{radius:a,angle:ert(p,n)}):null};function GS(t){"@babel/helpers - typeof";return GS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GS(t)}var trt=["offset"];function nrt(t){return art(t)||srt(t)||irt(t)||rrt()}function rrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function irt(t,e){if(t){if(typeof t=="string")return X4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X4(t,e)}}function srt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function art(t){if(Array.isArray(t))return X4(t)}function X4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ort(t,e){if(t==null)return{};var n=lrt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lrt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qq(Object(n),!0).forEach(function(r){crt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function crt(t,e,n){return e=urt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function urt(t){var e=drt(t,"string");return GS(e)=="symbol"?e:e+""}function drt(t,e){if(GS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(GS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qS.apply(this,arguments)}var frt=function(e){var n=e.value,r=e.formatter,i=Qn(e.children)?n:e.children;return Un(r)?r(i):i},hrt=function(e,n){var r=qc(n-e),i=Math.min(Math.abs(n-e),360);return r*i},prt=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,v=c.clockWise,w=(f+h)/2,x=hrt(p,g),_=x>=0?1:-1,S,A;i==="insideStart"?(S=p+_*a,A=v):i==="insideEnd"?(S=g-_*a,A=!v):i==="end"&&(S=g+_*a,A=v),A=x<=0?A:!A;var C=sa(u,d,w,S),T=sa(u,d,w,S+(A?1:-1)*359),N="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(A?0:1,`,
    `).concat(T.x,",").concat(T.y),O=Qn(e.id)?Fb("recharts-radial-line-"):e.id;return ne.createElement("text",qS({},r,{dominantBaseline:"central",className:nr("recharts-radial-bar-label",o)}),ne.createElement("defs",null,ne.createElement("path",{id:O,d:N})),ne.createElement("textPath",{xlinkHref:"#".concat(O)},n))},mrt=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var p=sa(a,o,u+r,h),g=p.x,v=p.y;return{x:g,y:v,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,x=sa(a,o,w,h),_=x.x,S=x.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},grt=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,c=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",v=u>=0?1:-1,w=v*i,x=v>0?"end":"start",_=v>0?"start":"end";if(s==="top"){var S={x:o+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return xs(xs({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var A={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return xs(xs({},A),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var C={x:o-w,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return xs(xs({},C),r?{width:Math.max(C.x-r.x,0),height:d}:{})}if(s==="right"){var T={x:o+u+w,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return xs(xs({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:d}:{})}var N=r?{width:u,height:d}:{};return s==="insideLeft"?xs({x:o+w,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},N):s==="insideRight"?xs({x:o+u-w,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},N):s==="insideTop"?xs({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):s==="insideBottom"?xs({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},N):s==="insideTopLeft"?xs({x:o+w,y:c+h,textAnchor:_,verticalAnchor:g},N):s==="insideTopRight"?xs({x:o+u-w,y:c+h,textAnchor:x,verticalAnchor:g},N):s==="insideBottomLeft"?xs({x:o+w,y:c+d-h,textAnchor:_,verticalAnchor:p},N):s==="insideBottomRight"?xs({x:o+u-w,y:c+d-h,textAnchor:x,verticalAnchor:p},N):Ob(s)&&(pt(s.x)||mg(s.x))&&(pt(s.y)||mg(s.y))?xs({x:o+fy(s.x,u),y:c+fy(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):xs({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},yrt=function(e){return"cx"in e&&pt(e.cx)};function ba(t){var e=t.offset,n=e===void 0?5:e,r=ort(t,trt),i=xs({offset:n},r),s=i.viewBox,a=i.position,o=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||Qn(o)&&Qn(c)&&!j.isValidElement(u)&&!Un(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(Un(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=frt(i);var g=yrt(s),v=Gn(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return prt(i,p,v);var w=g?mrt(i):grt(i);return ne.createElement(FP,qS({className:nr("recharts-label",f)},v,w,{breakAll:h}),p)}ba.displayName="Label";var vce=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,v=e.width,w=e.height,x=e.clockWise,_=e.labelViewBox;if(_)return _;if(pt(v)&&pt(w)){if(pt(f)&&pt(h))return{x:f,y:h,width:v,height:w};if(pt(p)&&pt(g))return{x:p,y:g,width:v,height:w}}return pt(f)&&pt(h)?{x:f,y:h,width:0,height:0}:pt(n)&&pt(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},vrt=function(e,n){return e?e===!0?ne.createElement(ba,{key:"label-implicit",viewBox:n}):Es(e)?ne.createElement(ba,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===ba?j.cloneElement(e,{key:"label-implicit",viewBox:n}):ne.createElement(ba,{key:"label-implicit",content:e,viewBox:n}):Un(e)?ne.createElement(ba,{key:"label-implicit",content:e,viewBox:n}):Ob(e)?ne.createElement(ba,qS({viewBox:n},e,{key:"label-implicit"})):null:null},xrt=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=vce(e),a=nc(i,ba).map(function(c,u){return j.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return a;var o=vrt(e.label,n||s);return[o].concat(nrt(a))};ba.parseViewBox=vce;ba.renderCallByParent=xrt;function brt(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var wrt=brt;const _rt=cr(wrt);function XS(t){"@babel/helpers - typeof";return XS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XS(t)}var Srt=["valueAccessor"],Ert=["data","dataKey","clockWise","id","textBreakAll"];function Art(t){return Nrt(t)||Crt(t)||Mrt(t)||Trt()}function Trt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mrt(t,e){if(t){if(typeof t=="string")return K4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K4(t,e)}}function Crt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nrt(t){if(Array.isArray(t))return K4(t)}function K4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t2(){return t2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t2.apply(this,arguments)}function Xq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xq(Object(n),!0).forEach(function(r){Prt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Prt(t,e,n){return e=jrt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jrt(t){var e=krt(t,"string");return XS(e)=="symbol"?e:e+""}function krt(t,e){if(XS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(XS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yq(t,e){if(t==null)return{};var n=Ort(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ort(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rrt=function(e){return Array.isArray(e.value)?_rt(e.value):e.value};function nf(t){var e=t.valueAccessor,n=e===void 0?Rrt:e,r=Yq(t,Srt),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,c=r.textBreakAll,u=Yq(r,Ert);return!i||!i.length?null:ne.createElement(si,{className:"recharts-label-list"},i.map(function(d,f){var h=Qn(s)?n(d,f):Qa(d&&d.payload,s),p=Qn(o)?{}:{id:"".concat(o,"-").concat(f)};return ne.createElement(ba,t2({},Gn(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:ba.parseViewBox(Qn(a)?d:Kq(Kq({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}nf.displayName="LabelList";function Irt(t,e){return t?t===!0?ne.createElement(nf,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||Un(t)?ne.createElement(nf,{key:"labelList-implicit",data:e,content:t}):Ob(t)?ne.createElement(nf,t2({data:e},t,{key:"labelList-implicit"})):null:null}function Lrt(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=nc(r,nf).map(function(a,o){return j.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=Irt(t.label,e);return[s].concat(Art(i))}nf.renderCallByParent=Lrt;function KS(t){"@babel/helpers - typeof";return KS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KS(t)}function Y4(){return Y4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y4.apply(this,arguments)}function Zq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zq(Object(n),!0).forEach(function(r){Drt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Drt(t,e,n){return e=Frt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Frt(t){var e=Urt(t,"string");return KS(e)=="symbol"?e:e+""}function Urt(t,e){if(KS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(KS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Brt=function(e,n){var r=qc(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},rC=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(o?1:-1)+i,f=Math.asin(c/d)/e2,h=u?s:s+a*f,p=sa(n,r,d,h),g=sa(n,r,i,h),v=u?s-a*f:s,w=sa(n,r,d*Math.cos(f*e2),v);return{center:p,circleTangency:g,lineTangency:w,theta:f}},xce=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,c=Brt(a,o),u=a+c,d=sa(n,r,s,a),f=sa(n,r,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=sa(n,r,i,a),g=sa(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},zrt=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=qc(d-u),h=rC({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:a,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,v=h.theta,w=rC({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:c}),x=w.circleTangency,_=w.lineTangency,S=w.theta,A=c?Math.abs(u-d):Math.abs(u-d)-v-S;if(A<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):xce({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var T=rC({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),N=T.circleTangency,O=T.lineTangency,U=T.theta,R=rC({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),I=R.circleTangency,B=R.lineTangency,G=R.theta,K=c?Math.abs(u-d):Math.abs(u-d)-U-G;if(K<0&&a===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(B.x,",").concat(B.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(K>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},$rt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bce=function(e){var n=Qq(Qq({},$rt),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<s||d===f)return null;var p=nr("recharts-sector",h),g=a-s,v=fy(o,g,0,!0),w;return v>0&&Math.abs(d-f)<360?w=zrt({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(v,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):w=xce({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),ne.createElement("path",Y4({},Gn(n,!0),{className:p,d:w,role:"img"}))};function YS(t){"@babel/helpers - typeof";return YS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YS(t)}function Z4(){return Z4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z4.apply(this,arguments)}function Jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jq(Object(n),!0).forEach(function(r){Vrt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vrt(t,e,n){return e=Hrt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hrt(t){var e=Wrt(t,"string");return YS(e)=="symbol"?e:e+""}function Wrt(t,e){if(YS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(YS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tX={curveBasisClosed:BHe,curveBasisOpen:zHe,curveBasis:UHe,curveBumpX:AHe,curveBumpY:THe,curveLinearClosed:$He,curveLinear:wk,curveMonotoneX:VHe,curveMonotoneY:HHe,curveNatural:WHe,curveStep:GHe,curveStepAfter:XHe,curveStepBefore:qHe},iC=function(e){return e.x===+e.x&&e.y===+e.y},M_=function(e){return e.x},C_=function(e){return e.y},Grt=function(e,n){if(Un(e))return e;var r="curve".concat(xk(e));return(r==="curveMonotone"||r==="curveBump")&&n?tX["".concat(r).concat(n==="vertical"?"Y":"X")]:tX[r]||wk},qrt=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Grt(r,o),f=u?s.filter(function(v){return iC(v)}):s,h;if(Array.isArray(a)){var p=u?a.filter(function(v){return iC(v)}):a,g=f.map(function(v,w){return eX(eX({},v),{},{base:p[w]})});return o==="vertical"?h=XM().y(C_).x1(M_).x0(function(v){return v.base.x}):h=XM().x(M_).y1(C_).y0(function(v){return v.base.y}),h.defined(iC).curve(d),h(g)}return o==="vertical"&&pt(a)?h=XM().y(C_).x1(M_).x0(a):pt(a)?h=XM().x(M_).y1(C_).y0(a):h=boe().x(M_).y(C_),h.defined(iC).curve(d),h(f)},Qx=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?qrt(e):i;return j.createElement("path",Z4({},Gn(e,!1),SP(e),{className:nr("recharts-curve",n),d:a,ref:s}))},Xrt=Object.getOwnPropertyNames,Krt=Object.getOwnPropertySymbols,Yrt=Object.prototype.hasOwnProperty;function nX(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function sC(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function Zrt(t){return t!=null?t[Symbol.toStringTag]:void 0}function rX(t){return Xrt(t).concat(Krt(t))}var Qrt=Object.hasOwn||function(t,e){return Yrt.call(t,e)};function jy(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Jrt="__v",eit="__o",tit="_owner",iX=Object.getOwnPropertyDescriptor,sX=Object.keys;function nit(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function rit(t,e){return jy(t.getTime(),e.getTime())}function iit(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function sit(t,e){return t===e}function aX(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,c=0;(a=s.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=a.value,p=o.value;if(n.equals(h[0],p[0],c,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var ait=jy;function oit(t,e,n){var r=sX(t),i=r.length;if(sX(e).length!==i)return!1;for(;i-- >0;)if(!wce(t,e,n,r[i]))return!1;return!0}function N_(t,e,n){var r=rX(t),i=r.length;if(rX(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!wce(t,e,n,s)||(a=iX(t,s),o=iX(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function lit(t,e){return jy(t.valueOf(),e.valueOf())}function cit(t,e){return t.source===e.source&&t.flags===e.flags}function oX(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var c=e.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!i[d]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function uit(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function dit(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function wce(t,e,n,r){return(r===tit||r===eit||r===Jrt)&&(t.$$typeof||e.$$typeof)?!0:Qrt(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var fit="[object Arguments]",hit="[object Boolean]",pit="[object Date]",mit="[object Error]",git="[object Map]",yit="[object Number]",vit="[object Object]",xit="[object RegExp]",bit="[object Set]",wit="[object String]",_it="[object URL]",Sit=Array.isArray,lX=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,cX=Object.assign,Eit=Object.prototype.toString.call.bind(Object.prototype.toString);function Ait(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,p=t.unknownTagComparators;return function(v,w,x){if(v===w)return!0;if(v==null||w==null)return!1;var _=typeof v;if(_!==typeof w)return!1;if(_!=="object")return _==="number"?a(v,w,x):_==="function"?i(v,w,x):!1;var S=v.constructor;if(S!==w.constructor)return!1;if(S===Object)return o(v,w,x);if(Sit(v))return e(v,w,x);if(lX!=null&&lX(v))return f(v,w,x);if(S===Date)return n(v,w,x);if(S===RegExp)return u(v,w,x);if(S===Map)return s(v,w,x);if(S===Set)return d(v,w,x);var A=Eit(v);if(A===pit)return n(v,w,x);if(A===xit)return u(v,w,x);if(A===git)return s(v,w,x);if(A===bit)return d(v,w,x);if(A===vit)return typeof v.then!="function"&&typeof w.then!="function"&&o(v,w,x);if(A===_it)return h(v,w,x);if(A===mit)return r(v,w,x);if(A===fit)return o(v,w,x);if(A===hit||A===yit||A===wit)return c(v,w,x);if(p){var C=p[A];if(!C){var T=Zrt(v);T&&(C=p[T])}if(C)return C(v,w,x)}return!1}}function Tit(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?N_:nit,areDatesEqual:rit,areErrorsEqual:iit,areFunctionsEqual:sit,areMapsEqual:r?nX(aX,N_):aX,areNumbersEqual:ait,areObjectsEqual:r?N_:oit,arePrimitiveWrappersEqual:lit,areRegExpsEqual:cit,areSetsEqual:r?nX(oX,N_):oX,areTypedArraysEqual:r?N_:uit,areUrlsEqual:dit,unknownTagComparators:void 0};if(n&&(i=cX({},i,n(i))),e){var s=sC(i.areArraysEqual),a=sC(i.areMapsEqual),o=sC(i.areObjectsEqual),c=sC(i.areSetsEqual);i=cX({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:c})}return i}function Mit(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function Cit(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(c,u,{cache:h,equals:i,meta:p,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,a)}}var Nit=$p();$p({strict:!0});$p({circular:!0});$p({circular:!0,strict:!0});$p({createInternalComparator:function(){return jy}});$p({strict:!0,createInternalComparator:function(){return jy}});$p({circular:!0,createInternalComparator:function(){return jy}});$p({circular:!0,createInternalComparator:function(){return jy},strict:!0});function $p(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=Tit(t),c=Ait(o),u=r?r(c):Mit(c);return Cit({circular:n,comparator:c,createState:i,equals:u,strict:a})}function Pit(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function uX(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):Pit(i)};requestAnimationFrame(r)}function Q4(t){"@babel/helpers - typeof";return Q4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q4(t)}function jit(t){return Iit(t)||Rit(t)||Oit(t)||kit()}function kit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oit(t,e){if(t){if(typeof t=="string")return dX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dX(t,e)}}function dX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rit(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iit(t){if(Array.isArray(t))return t}function Lit(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=jit(a),c=o[0],u=o.slice(1);if(typeof c=="number"){uX(i.bind(null,u),c);return}i(c),uX(i.bind(null,u));return}Q4(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function ZS(t){"@babel/helpers - typeof";return ZS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZS(t)}function fX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fX(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return e=Dit(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dit(t){var e=Fit(t,"string");return ZS(e)==="symbol"?e:String(e)}function Fit(t,e){if(ZS(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ZS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uit=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Bit=function(e){return e},zit=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},S1=function(e,n){return Object.keys(n).reduce(function(r,i){return hX(hX({},r),{},_ce({},i,e(i,n[i])))},{})},pX=function(e,n,r){return e.map(function(i){return"".concat(zit(i)," ").concat(n,"ms ").concat(r)}).join(",")};function $it(t,e){return Wit(t)||Hit(t,e)||Sce(t,e)||Vit()}function Vit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Wit(t){if(Array.isArray(t))return t}function Git(t){return Kit(t)||Xit(t)||Sce(t)||qit()}function qit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sce(t,e){if(t){if(typeof t=="string")return J4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J4(t,e)}}function Xit(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kit(t){if(Array.isArray(t))return J4(t)}function J4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var n2=1e-4,Ece=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Ace=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},mX=function(e,n){return function(r){var i=Ece(e,n);return Ace(i,r)}},Yit=function(e,n){return function(r){var i=Ece(e,n),s=[].concat(Git(i.map(function(a,o){return a*o}).slice(1)),[0]);return Ace(s,r)}},gX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=$it(u,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var f=mX(i,a),h=mX(s,o),p=Yit(i,a),g=function(x){return x>1?1:x<0?0:x},v=function(x){for(var _=x>1?1:x,S=_,A=0;A<8;++A){var C=f(S)-_,T=p(S);if(Math.abs(C-_)<n2||T<n2)return h(S);S=g(S-C/T)}return h(S)};return v.isStepper=!1,v},Zit=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,c=function(d,f,h){var p=-(d-f)*r,g=h*s,v=h+(p-g)*o/1e3,w=h*o/1e3+d;return Math.abs(w-f)<n2&&Math.abs(v)<n2?[f,0]:[w,v]};return c.isStepper=!0,c.dt=o,c},Qit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gX(i);case"spring":return Zit();default:if(i.split("(")[0]==="cubic-bezier")return gX(i)}return typeof i=="function"?i:null};function QS(t){"@babel/helpers - typeof";return QS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QS(t)}function yX(t){return tst(t)||est(t)||Tce(t)||Jit()}function Jit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function est(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tst(t){if(Array.isArray(t))return tF(t)}function vX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vX(Object(n),!0).forEach(function(r){eF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eF(t,e,n){return e=nst(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nst(t){var e=rst(t,"string");return QS(e)==="symbol"?e:String(e)}function rst(t,e){if(QS(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(QS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ist(t,e){return ost(t)||ast(t,e)||Tce(t,e)||sst()}function sst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tce(t,e){if(t){if(typeof t=="string")return tF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tF(t,e)}}function tF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ast(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function ost(t){if(Array.isArray(t))return t}var r2=function(e,n,r){return e+(n-e)*r},nF=function(e){var n=e.from,r=e.to;return n!==r},lst=function t(e,n,r){var i=S1(function(s,a){if(nF(a)){var o=e(a.from,a.to,a.velocity),c=ist(o,2),u=c[0],d=c[1];return ta(ta({},a),{},{from:u,velocity:d})}return a},n);return r<1?S1(function(s,a){return nF(a)?ta(ta({},a),{},{velocity:r2(a.velocity,i[s].velocity,r),from:r2(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const cst=function(t,e,n,r,i){var s=Uit(t,e),a=s.reduce(function(w,x){return ta(ta({},w),{},eF({},x,[t[x],e[x]]))},{}),o=s.reduce(function(w,x){return ta(ta({},w),{},eF({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return S1(function(x,_){return _.from},o)},p=function(){return!Object.values(o).filter(nF).length},g=function(x){u||(u=x);var _=x-u,S=_/n.dt;o=lst(n,o,S),i(ta(ta(ta({},t),e),h())),u=x,p()||(c=requestAnimationFrame(f))},v=function(x){d||(d=x);var _=(x-d)/r,S=S1(function(C,T){return r2.apply(void 0,yX(T).concat([n(_)]))},a);if(i(ta(ta(ta({},t),e),S)),_<1)c=requestAnimationFrame(f);else{var A=S1(function(C,T){return r2.apply(void 0,yX(T).concat([n(1)]))},a);i(ta(ta(ta({},t),e),A))}};return f=n.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}var ust=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dst(t,e){if(t==null)return{};var n=fst(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fst(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yL(t){return gst(t)||mst(t)||pst(t)||hst()}function hst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pst(t,e){if(t){if(typeof t=="string")return rF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rF(t,e)}}function mst(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gst(t){if(Array.isArray(t))return rF(t)}function rF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xX(Object(n),!0).forEach(function(r){V_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V_(t,e,n){return e=Mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vst(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mce(r.key),r)}}function xst(t,e,n){return e&&vst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mce(t){var e=bst(t,"string");return W0(e)==="symbol"?e:String(e)}function bst(t,e){if(W0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(W0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iF(t,e)}function iF(t,e){return iF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iF(t,e)}function _st(t){var e=Sst();return function(){var r=i2(t),i;if(e){var s=i2(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return sF(this,i)}}function sF(t,e){if(e&&(W0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aF(t)}function aF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sst(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i2(t){return i2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i2(t)}var nd=function(t){wst(n,t);var e=_st(n);function n(r,i){var s;yst(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,c=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(aF(s)),s.changeStyle=s.changeStyle.bind(aF(s)),!o||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),sF(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},sF(s);s.state={style:c?V_({},c,u):u}}else s.state={style:{}};return s}return xst(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(o){if(!a){var p={style:c?V_({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(Nit(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?f:i.to;if(this.state&&h){var w={style:c?V_({},c,v):v};(c&&h[c]!==v||!c&&h!==v)&&this.setState(w)}this.runAnimation(Cc(Cc({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=cst(a,o,Qit(u),c,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,c=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(v,w,x){if(x===0)return v;var _=w.duration,S=w.easing,A=S===void 0?"ease":S,C=w.style,T=w.properties,N=w.onAnimationEnd,O=x>0?a[x-1]:w,U=T||Object.keys(C);if(typeof A=="function"||A==="spring")return[].concat(yL(v),[s.runJSAnimation.bind(s,{from:O.style,to:C,duration:_,easing:A}),_]);var R=pX(U,_,A),I=Cc(Cc(Cc({},O.style),C),{},{transition:R});return[].concat(yL(v),[I,_,N]).filter(Bit)};return this.manager.start([c].concat(yL(a.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Lit());var s=i.begin,a=i.duration,o=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=o?V_({},o,c):c,w=pX(Object.keys(v),a,u);g.start([d,s,Cc(Cc({},v),{},{transition:w}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=dst(i,ust),u=j.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||u===0||a<=0)return s;var f=function(p){var g=p.props,v=g.style,w=v===void 0?{}:v,x=g.className,_=j.cloneElement(p,Cc(Cc({},c),{},{style:Cc(Cc({},w),d),className:x}));return _};return u===1?f(j.Children.only(s)):ne.createElement("div",null,j.Children.map(s,function(h){return f(h)}))}}]),n}(j.PureComponent);nd.displayName="Animate";nd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};nd.propTypes={from:Mr.oneOfType([Mr.object,Mr.string]),to:Mr.oneOfType([Mr.object,Mr.string]),attributeName:Mr.string,duration:Mr.number,begin:Mr.number,easing:Mr.oneOfType([Mr.string,Mr.func]),steps:Mr.arrayOf(Mr.shape({duration:Mr.number.isRequired,style:Mr.object.isRequired,easing:Mr.oneOfType([Mr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Mr.func]),properties:Mr.arrayOf("string"),onAnimationEnd:Mr.func})),children:Mr.oneOfType([Mr.node,Mr.func]),isActive:Mr.bool,canBegin:Mr.bool,onAnimationEnd:Mr.func,shouldReAnimate:Mr.bool,onAnimationStart:Mr.func,onAnimationReStart:Mr.func};function JS(t){"@babel/helpers - typeof";return JS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JS(t)}function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s2.apply(this,arguments)}function Est(t,e){return Cst(t)||Mst(t,e)||Tst(t,e)||Ast()}function Ast(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tst(t,e){if(t){if(typeof t=="string")return bX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bX(t,e)}}function bX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mst(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Cst(t){if(Array.isArray(t))return t}function wX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wX(Object(n),!0).forEach(function(r){Nst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nst(t,e,n){return e=Pst(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pst(t){var e=jst(t,"string");return JS(e)=="symbol"?e:e+""}function jst(t,e){if(JS(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(JS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SX=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>a?a:s[h];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);d="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(n,`
            L `).concat(e+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-c*g,",").concat(n+i,`
            L `).concat(e+c*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*g," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},kst=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,c=n.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(s,s+o),d=Math.max(s,s+o),f=Math.min(a,a+c),h=Math.max(a,a+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},Ost={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zz=function(e){var n=_X(_X({},Ost),e),r=j.useRef(),i=j.useState(-1),s=Est(i,2),a=s[0],o=s[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&o(A)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,g=n.animationEasing,v=n.animationDuration,w=n.animationBegin,x=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=nr("recharts-rectangle",p);return _?ne.createElement(nd,{canBegin:a>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:g,isActive:_},function(A){var C=A.width,T=A.height,N=A.x,O=A.y;return ne.createElement(nd,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,isActive:x,easing:g},ne.createElement("path",s2({},Gn(n,!0),{className:S,d:SX(N,O,C,T,h),ref:r})))}):ne.createElement("path",s2({},Gn(n,!0),{className:S,d:SX(c,u,d,f,h)}))};function oF(){return oF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oF.apply(this,arguments)}var Ik=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=nr("recharts-dot",s);return n===+n&&r===+r&&i===+i?j.createElement("circle",oF({},Gn(e,!1),SP(e),{className:a,cx:n,cy:r,r:i})):null};function eE(t){"@babel/helpers - typeof";return eE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eE(t)}var Rst=["x","y","top","left","width","height","className"];function lF(){return lF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lF.apply(this,arguments)}function EX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ist(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EX(Object(n),!0).forEach(function(r){Lst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lst(t,e,n){return e=Dst(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dst(t){var e=Fst(t,"string");return eE(e)=="symbol"?e:e+""}function Fst(t,e){if(eE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ust(t,e){if(t==null)return{};var n=Bst(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bst(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zst=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},$st=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,g=e.className,v=Ust(e,Rst),w=Ist({x:r,y:s,top:o,left:u,width:f,height:p},v);return!pt(r)||!pt(s)||!pt(f)||!pt(p)||!pt(o)||!pt(u)?null:ne.createElement("path",lF({},Gn(w,!0),{className:nr("recharts-cross",g),d:zst(r,s,f,p,o,u)}))},Vst=Hoe,Hst=Vst(Object.getPrototypeOf,Object),Wst=Hst,Gst=Mf,qst=Wst,Xst=Cf,Kst="[object Object]",Yst=Function.prototype,Zst=Object.prototype,Cce=Yst.toString,Qst=Zst.hasOwnProperty,Jst=Cce.call(Object);function eat(t){if(!Xst(t)||Gst(t)!=Kst)return!1;var e=qst(t);if(e===null)return!0;var n=Qst.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Cce.call(n)==Jst}var tat=eat;const nat=cr(tat);var rat=Mf,iat=Cf,sat="[object Boolean]";function aat(t){return t===!0||t===!1||iat(t)&&rat(t)==sat}var oat=aat;const lat=cr(oat);function tE(t){"@babel/helpers - typeof";return tE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tE(t)}function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a2.apply(this,arguments)}function cat(t,e){return hat(t)||fat(t,e)||dat(t,e)||uat()}function uat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dat(t,e){if(t){if(typeof t=="string")return AX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AX(t,e)}}function AX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fat(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function hat(t){if(Array.isArray(t))return t}function TX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TX(Object(n),!0).forEach(function(r){pat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pat(t,e,n){return e=mat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mat(t){var e=gat(t,"string");return tE(e)=="symbol"?e:e+""}function gat(t,e){if(tE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CX=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},yat={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vat=function(e){var n=MX(MX({},yat),e),r=j.useRef(),i=j.useState(-1),s=cat(i,2),a=s[0],o=s[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,v=n.animationDuration,w=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=nr("recharts-trapezoid",p);return x?ne.createElement(nd,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:v,animationEasing:g,isActive:x},function(S){var A=S.upperWidth,C=S.lowerWidth,T=S.height,N=S.x,O=S.y;return ne.createElement(nd,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,easing:g},ne.createElement("path",a2({},Gn(n,!0),{className:_,d:CX(N,O,A,C,T),ref:r})))}):ne.createElement("g",null,ne.createElement("path",a2({},Gn(n,!0),{className:_,d:CX(c,u,d,f,h)})))},xat=["option","shapeType","propTransformer","activeClassName","isActive"];function nE(t){"@babel/helpers - typeof";return nE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nE(t)}function bat(t,e){if(t==null)return{};var n=wat(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wat(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NX(Object(n),!0).forEach(function(r){_at(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _at(t,e,n){return e=Sat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sat(t){var e=Eat(t,"string");return nE(e)=="symbol"?e:e+""}function Eat(t,e){if(nE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aat(t,e){return o2(o2({},e),t)}function Tat(t,e){return t==="symbols"}function PX(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ne.createElement(zz,n);case"trapezoid":return ne.createElement(vat,n);case"sector":return ne.createElement(bce,n);case"symbols":if(Tat(e))return ne.createElement(az,n);break;default:return null}}function Mat(t){return j.isValidElement(t)?t.props:t}function Cat(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Aat:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,c=bat(t,xat),u;if(j.isValidElement(e))u=j.cloneElement(e,o2(o2({},c),Mat(e)));else if(Un(e))u=e(c);else if(nat(e)&&!lat(e)){var d=i(e,c);u=ne.createElement(PX,{shapeType:n,elementProps:d})}else{var f=c;u=ne.createElement(PX,{shapeType:n,elementProps:f})}return o?ne.createElement(si,{className:a},u):u}function Lk(t,e){return e!=null&&"trapezoids"in t.props}function Dk(t,e){return e!=null&&"sectors"in t.props}function rE(t,e){return e!=null&&"points"in t.props}function Nat(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Pat(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function jat(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function kat(t,e){var n;return Lk(t,e)?n=Nat:Dk(t,e)?n=Pat:rE(t,e)&&(n=jat),n}function Oat(t,e){var n;return Lk(t,e)?n="trapezoids":Dk(t,e)?n="sectors":rE(t,e)&&(n="points"),n}function Rat(t,e){if(Lk(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Dk(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return rE(t,e)?e.payload:{}}function Iat(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Oat(n,e),s=Rat(n,e),a=r.filter(function(c,u){var d=V0(s,c),f=n.props[i].filter(function(g){var v=kat(n,e);return v(g,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=r.indexOf(a[a.length-1]);return o}var Lat=Math.ceil,Dat=Math.max;function Fat(t,e,n,r){for(var i=-1,s=Dat(Lat((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var Uat=Fat,Bat=cle,jX=1/0,zat=17976931348623157e292;function $at(t){if(!t)return t===0?t:0;if(t=Bat(t),t===jX||t===-jX){var e=t<0?-1:1;return e*zat}return t===t?t:0}var Nce=$at,Vat=Uat,Hat=Ak,vL=Nce;function Wat(t){return function(e,n,r){return r&&typeof r!="number"&&Hat(e,n,r)&&(n=r=void 0),e=vL(e),n===void 0?(n=e,e=0):n=vL(n),r=r===void 0?e<n?1:-1:vL(r),Vat(e,n,r,t)}}var Gat=Wat,qat=Gat,Xat=qat(),Kat=Xat;const l2=cr(Kat);function iE(t){"@babel/helpers - typeof";return iE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iE(t)}function kX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kX(Object(n),!0).forEach(function(r){Pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pce(t,e,n){return e=Yat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yat(t){var e=Zat(t,"string");return iE(e)=="symbol"?e:e+""}function Zat(t,e){if(iE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qat=["Webkit","Moz","O","ms"],Jat=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Qat.reduce(function(s,a){return OX(OX({},s),{},Pce({},a+r,n))},{});return i[e]=n,i};function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2.apply(this,arguments)}function RX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RX(Object(n),!0).forEach(function(r){Jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kce(r.key),r)}}function tot(t,e,n){return e&&IX(t.prototype,e),n&&IX(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function not(t,e,n){return e=u2(e),rot(t,jce()?Reflect.construct(e,n||[],u2(t).constructor):e.apply(t,n))}function rot(t,e){if(e&&(G0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iot(t)}function iot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jce=function(){return!!t})()}function u2(t){return u2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u2(t)}function sot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cF(t,e)}function cF(t,e){return cF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cF(t,e)}function Jo(t,e,n){return e=kce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kce(t){var e=aot(t,"string");return G0(e)=="symbol"?e:e+""}function aot(t,e){if(G0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(G0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oot=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=w1().domain(l2(0,c)).range([s,s+a-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},LX=function(e){return e.changedTouches&&!!e.changedTouches.length},q0=function(t){function e(n){var r;return eot(this,e),r=not(this,e,[n]),Jo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Jo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Jo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),Jo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Jo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Jo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Jo(r,"handleSlideDragStart",function(i){var s=LX(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return sot(e,t),tot(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),p=e.getIndexInRange(a,f),g=e.getIndexInRange(a,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,c=Qa(s[r],o,r);return Un(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,v=r.pageX-s;v>0?v=Math.min(v,u+d-f-o,u+d-f-a):v<0&&(v=Math.max(v,u-a,u-o));var w=this.getIndex({startX:a+v,endX:o+v});(w.startIndex!==h||w.endIndex!==p)&&g&&g(w),this.setState({startX:a+v,endX:o+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=LX(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,c=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,v=d.gap,w=d.data,x={startX:this.state.startX,endX:this.state.endX},_=r.pageX-s;_>0?_=Math.min(_,f+h-p-u):_<0&&(_=Math.max(_,f-u)),x[a]=u+_;var S=this.getIndex(x),A=S.startIndex,C=S.endIndex,T=function(){var O=w.length-1;return a==="startX"&&(o>c?A%v===0:C%v===0)||o<c&&C===O||a==="endX"&&(o>c?C%v===0:A%v===0)||o>c&&C===O};this.setState(Jo(Jo({},a,u+_),"brushMoveStartX",r.pageX),function(){g&&T()&&g(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,c=a.startX,u=a.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Jo({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,c=r.fill,u=r.stroke;return ne.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,c=r.data,u=r.children,d=r.padding,f=j.Children.only(u);return f?ne.cloneElement(f,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,v=c.startIndex,w=c.endIndex,x=Math.max(r,this.props.x),_=xL(xL({},Gn(this.props,!1)),{},{x,y:u,width:d,height:f}),S=p||"Min value: ".concat((s=g[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[w])===null||a===void 0?void 0:a.name);return ne.createElement(si,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),o.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return ne.createElement(si,{className:"recharts-brush-texts"},ne.createElement(FP,c2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+o/2},g),this.getTextOfTick(i)),ne.createElement(FP,c2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:a+o/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,v=h.isTextActive,w=h.isSlideMoving,x=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!pt(o)||!pt(c)||!pt(u)||!pt(d)||u<=0||d<=0)return null;var S=nr("recharts-brush",s),A=ne.Children.count(a)===1,C=Jat("userSelect","none");return ne.createElement(si,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(v||w||x||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,c=r.stroke,u=Math.floor(s+o/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:s,width:a,height:o,fill:c,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return ne.isValidElement(r)?s=ne.cloneElement(r,i):Un(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return xL({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:a},s&&s.length?oot({data:s,width:a,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+a-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var c=Math.floor((a+o)/2);r[c]>i?o=c:a=c}return i>=r[o]?o:a}}])}(j.PureComponent);Jo(q0,"displayName","Brush");Jo(q0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lot=hz;function cot(t,e){var n;return lot(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var uot=cot,dot=Loe,fot=Up,hot=uot,pot=Oo,mot=Ak;function got(t,e,n){var r=pot(t)?dot:hot;return n&&mot(t,e,n)&&(e=void 0),r(t,fot(e))}var yot=got;const vot=cr(yot);var Zu=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},DX=ile;function xot(t,e,n){e=="__proto__"&&DX?DX(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var bot=xot,wot=bot,_ot=nle,Sot=Up;function Eot(t,e){var n={};return e=Sot(e),_ot(t,function(r,i,s){wot(n,i,e(r,i,s))}),n}var Aot=Eot;const Tot=cr(Aot);function Mot(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Cot=Mot,Not=hz;function Pot(t,e){var n=!0;return Not(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var jot=Pot,kot=Cot,Oot=jot,Rot=Up,Iot=Oo,Lot=Ak;function Dot(t,e,n){var r=Iot(t)?kot:Oot;return n&&Lot(t,e,n)&&(e=void 0),r(t,Rot(e))}var Fot=Dot;const Oce=cr(Fot);var Uot=["x","y"];function sE(t){"@babel/helpers - typeof";return sE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sE(t)}function uF(){return uF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uF.apply(this,arguments)}function FX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FX(Object(n),!0).forEach(function(r){Bot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bot(t,e,n){return e=zot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zot(t){var e=$ot(t,"string");return sE(e)=="symbol"?e:e+""}function $ot(t,e){if(sE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vot(t,e){if(t==null)return{};var n=Hot(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hot(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wot(t,e){var n=t.x,r=t.y,i=Vot(t,Uot),s="".concat(n),a=parseInt(s,10),o="".concat(r),c=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return P_(P_(P_(P_(P_({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function UX(t){return ne.createElement(Cat,uF({shapeType:"rectangle",propTransformer:Wot,activeClassName:"recharts-active-bar"},t))}var Got=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=pt(r)||d8e(r);return s?e(r,i):(s||py(),n)}},qot=["value","background"],Rce;function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}function Xot(t,e){if(t==null)return{};var n=Kot(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kot(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function d2(){return d2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d2.apply(this,arguments)}function BX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BX(Object(n),!0).forEach(function(r){Zh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lce(r.key),r)}}function Zot(t,e,n){return e&&zX(t.prototype,e),n&&zX(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qot(t,e,n){return e=f2(e),Jot(t,Ice()?Reflect.construct(e,n||[],f2(t).constructor):e.apply(t,n))}function Jot(t,e){if(e&&(X0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return elt(t)}function elt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ice(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ice=function(){return!!t})()}function f2(t){return f2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f2(t)}function tlt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dF(t,e)}function dF(t,e){return dF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dF(t,e)}function Zh(t,e,n){return e=Lce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lce(t){var e=nlt(t,"string");return X0(e)=="symbol"?e:e+""}function nlt(t,e){if(X0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(X0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ky=function(t){function e(){var n;Yot(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Qot(this,e,[].concat(i)),Zh(n,"state",{isAnimationFinished:!1}),Zh(n,"id",Fb("recharts-bar-")),Zh(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Zh(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return tlt(e,t),Zot(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Gn(this.props,!1);return r&&r.map(function(f,h){var p=h===c,g=p?u:a,v=is(is(is({},d),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(si,d2({className:"recharts-bar-rectangle"},EP(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ne.createElement(UX,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return ne.createElement(nd,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,v=s.map(function(w,x){var _=h&&h[x];if(_){var S=ia(_.x,w.x),A=ia(_.y,w.y),C=ia(_.width,w.width),T=ia(_.height,w.height);return is(is({},w),{},{x:S(g),y:A(g),width:C(g),height:T(g)})}if(a==="horizontal"){var N=ia(0,w.height),O=N(g);return is(is({},w),{},{y:w.y+w.height-O,height:O})}var U=ia(0,w.width),R=U(g);return is(is({},w),{},{width:R})});return ne.createElement(si,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!V0(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,c=Gn(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=Xot(u,qot);if(!f)return null;var p=is(is(is(is(is({},h),{},{fill:"#eee"},f),c),EP(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return ne.createElement(UX,d2({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=nc(d,iA);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(w,x){var _=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:_,errorVal:Qa(w,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(si,g,f.map(function(v){return ne.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:o,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,g=r.background,v=r.id;if(i||!s||!s.length)return null;var w=this.state.isAnimationFinished,x=nr("recharts-bar",a),_=o&&o.allowDataOverflow,S=c&&c.allowDataOverflow,A=_||S,C=Qn(v)?this.id:v;return ne.createElement(si,{className:x},_||S?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(C)},ne.createElement("rect",{x:_?u:u-f/2,y:S?d:d-h/2,width:_?f:f*2,height:S?h:h*2}))):null,ne.createElement(si,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(C,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,C),(!p||w)&&nf.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);Rce=ky;Zh(ky,"displayName","Bar");Zh(ky,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cy.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Zh(ky,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Lnt(r,n);if(!p)return null;var g=e.layout,v=n.type.defaultProps,w=v!==void 0?is(is({},v),n.props):n.props,x=w.dataKey,_=w.children,S=w.minPointSize,A=g==="horizontal"?a:s,C=u?A.scale.domain():null,T=Hnt({numericAxis:A}),N=nc(_,dle),O=f.map(function(U,R){var I,B,G,K,Q,q;u?I=Dnt(u[d+R],C):(I=Qa(U,x),Array.isArray(I)||(I=[T,I]));var ie=Got(S,Rce.defaultProps.minPointSize)(I[1],R);if(g==="horizontal"){var V,X=[a.scale(I[0]),a.scale(I[1])],z=X[0],oe=X[1];B=Bq({axis:s,ticks:o,bandSize:i,offset:p.offset,entry:U,index:R}),G=(V=oe??z)!==null&&V!==void 0?V:void 0,K=p.size;var de=z-oe;if(Q=Number.isNaN(de)?0:de,q={x:B,y:a.y,width:K,height:a.height},Math.abs(ie)>0&&Math.abs(Q)<Math.abs(ie)){var Y=qc(Q||ie)*(Math.abs(ie)-Math.abs(Q));G-=Y,Q+=Y}}else{var he=[s.scale(I[0]),s.scale(I[1])],Ce=he[0],Ie=he[1];if(B=Ce,G=Bq({axis:a,ticks:c,bandSize:i,offset:p.offset,entry:U,index:R}),K=Ie-Ce,Q=p.size,q={x:s.x,y:G,width:s.width,height:Q},Math.abs(ie)>0&&Math.abs(K)<Math.abs(ie)){var Ee=qc(K||ie)*(Math.abs(ie)-Math.abs(K));K+=Ee}}return is(is(is({},U),{},{x:B,y:G,width:K,height:Q,value:u?I:I[1],payload:U,background:q},N&&N[R]&&N[R].props),{},{tooltipPayload:[yce(n,U)],tooltipPosition:{x:B+K/2,y:G+Q/2}})});return is({data:O,layout:g},h)});function aE(t){"@babel/helpers - typeof";return aE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aE(t)}function rlt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dce(r.key),r)}}function ilt(t,e,n){return e&&$X(t.prototype,e),n&&$X(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VX(Object(n),!0).forEach(function(r){Fk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fk(t,e,n){return e=Dce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dce(t){var e=slt(t,"string");return aE(e)=="symbol"?e:e+""}function slt(t,e){if(aE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(aE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $z=function(e,n,r,i,s){var a=e.width,o=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!tl(u,ky);return d.reduce(function(p,g){var v=n[g],w=v.orientation,x=v.domain,_=v.padding,S=_===void 0?{}:_,A=v.mirror,C=v.reversed,T="".concat(w).concat(A?"Mirror":""),N,O,U,R,I;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var B=x[1]-x[0],G=1/0,K=v.categoricalDomain.sort(p8e);if(K.forEach(function(he,Ce){Ce>0&&(G=Math.min((he||0)-(K[Ce-1]||0),G))}),Number.isFinite(G)){var Q=G/B,q=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(N=Q*q/2),v.padding==="no-gap"){var ie=fy(e.barCategoryGap,Q*q),V=Q*q/2;N=V-ie-(V-ie)/q*ie}}}i==="xAxis"?O=[r.left+(S.left||0)+(N||0),r.left+r.width-(S.right||0)-(N||0)]:i==="yAxis"?O=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(N||0),r.top+r.height-(S.bottom||0)-(N||0)]:O=v.range,C&&(O=[O[1],O[0]]);var X=Rnt(v,s,h),z=X.scale,oe=X.realScaleType;z.domain(x).range(O),Int(z);var de=Vnt(z,Uc(Uc({},v),{},{realScaleType:oe}));i==="xAxis"?(I=w==="top"&&!A||w==="bottom"&&A,U=r.left,R=f[T]-I*v.height):i==="yAxis"&&(I=w==="left"&&!A||w==="right"&&A,U=f[T]-I*v.width,R=r.top);var Y=Uc(Uc(Uc({},v),de),{},{realScaleType:oe,x:U,y:R,scale:z,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return Y.bandSize=JP(Y,de),!v.hide&&i==="xAxis"?f[T]+=(I?-1:1)*Y.height:v.hide||(f[T]+=(I?-1:1)*Y.width),Uc(Uc({},p),{},Fk({},g,Y))},{})},Fce=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},alt=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return Fce({x:n,y:r},{x:i,y:s})},Uce=function(){function t(e){rlt(this,t),this.scale=e}return ilt(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Fk(Uce,"EPS",1e-4);var Vz=function(e){var n=Object.keys(e).reduce(function(r,i){return Uc(Uc({},r),{},Fk({},i,Uce.create(e[i])))},{});return Uc(Uc({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return Tot(i,function(c,u){return n[u].apply(c,{bandAware:a,position:o})})},isInRange:function(i){return Oce(i,function(s,a){return n[a].isInRange(s)})}})};function olt(t){return(t%180+180)%180}var llt=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=olt(i),a=s*Math.PI/180,o=Math.atan(r/n),c=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},clt=Up,ult=JE,dlt=Sk;function flt(t){return function(e,n,r){var i=Object(e);if(!ult(e)){var s=clt(n);e=dlt(e),n=function(o){return s(i[o],o,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var hlt=flt,plt=Nce;function mlt(t){var e=plt(t),n=e%1;return e===e?n?e-n:e:0}var glt=mlt,ylt=Yoe,vlt=Up,xlt=glt,blt=Math.max;function wlt(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:xlt(n);return i<0&&(i=blt(r+i,0)),ylt(t,vlt(e),i)}var _lt=wlt,Slt=hlt,Elt=_lt,Alt=Slt(Elt),Tlt=Alt;const Mlt=cr(Tlt);var Clt=yVe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Hz=j.createContext(void 0),Wz=j.createContext(void 0),Bce=j.createContext(void 0),zce=j.createContext({}),$ce=j.createContext(void 0),Vce=j.createContext(0),Hce=j.createContext(0),HX=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,c=e.width,u=e.height,d=Clt(s);return ne.createElement(Hz.Provider,{value:r},ne.createElement(Wz.Provider,{value:i},ne.createElement(zce.Provider,{value:s},ne.createElement(Bce.Provider,{value:d},ne.createElement($ce.Provider,{value:a},ne.createElement(Vce.Provider,{value:u},ne.createElement(Hce.Provider,{value:c},o)))))))},Nlt=function(){return j.useContext($ce)},Wce=function(e){var n=j.useContext(Hz);n==null&&py();var r=n[e];return r==null&&py(),r},Plt=function(){var e=j.useContext(Hz);return Lh(e)},jlt=function(){var e=j.useContext(Wz),n=Mlt(e,function(r){return Oce(r.domain,Number.isFinite)});return n||Lh(e)},Gce=function(e){var n=j.useContext(Wz);n==null&&py();var r=n[e];return r==null&&py(),r},klt=function(){var e=j.useContext(Bce);return e},Olt=function(){return j.useContext(zce)},Gz=function(){return j.useContext(Hce)},qz=function(){return j.useContext(Vce)};function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function Rlt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ilt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xce(r.key),r)}}function Llt(t,e,n){return e&&Ilt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dlt(t,e,n){return e=h2(e),Flt(t,qce()?Reflect.construct(e,n||[],h2(t).constructor):e.apply(t,n))}function Flt(t,e){if(e&&(K0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ult(t)}function Ult(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qce=function(){return!!t})()}function h2(t){return h2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h2(t)}function Blt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fF(t,e)}function fF(t,e){return fF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fF(t,e)}function WX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WX(Object(n),!0).forEach(function(r){Xz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xz(t,e,n){return e=Xce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xce(t){var e=zlt(t,"string");return K0(e)=="symbol"?e:e+""}function zlt(t,e){if(K0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(K0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $lt(t,e){return Glt(t)||Wlt(t,e)||Hlt(t,e)||Vlt()}function Vlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hlt(t,e){if(t){if(typeof t=="string")return qX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qX(t,e)}}function qX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wlt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Glt(t){if(Array.isArray(t))return t}function hF(){return hF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hF.apply(this,arguments)}var qlt=function(e,n){var r;return ne.isValidElement(e)?r=ne.cloneElement(e,n):Un(e)?r=e(n):r=ne.createElement("line",hF({},n,{className:"recharts-reference-line-line"})),r},Xlt=function(e,n,r,i,s,a,o,c,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(r){var g=u.y,v=e.y.apply(g,{position:a});if(Zu(u,"discard")&&!e.y.isInRange(v))return null;var w=[{x:d+h,y:v},{x:d,y:v}];return c==="left"?w.reverse():w}if(n){var x=u.x,_=e.x.apply(x,{position:a});if(Zu(u,"discard")&&!e.x.isInRange(_))return null;var S=[{x:_,y:f+p},{x:_,y:f}];return o==="top"?S.reverse():S}if(i){var A=u.segment,C=A.map(function(T){return e.apply(T,{position:a})});return Zu(u,"discard")&&vot(C,function(T){return!e.isInRange(T)})?null:C}return null};function Klt(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,c=t.alwaysShow,u=Nlt(),d=Wce(i),f=Gce(s),h=klt();if(!u||!h)return null;ef(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Vz({x:d.scale,y:f.scale}),g=Es(e),v=Es(n),w=r&&r.length===2,x=Xlt(p,g,v,w,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var _=$lt(x,2),S=_[0],A=S.x,C=S.y,T=_[1],N=T.x,O=T.y,U=Zu(t,"hidden")?"url(#".concat(u,")"):void 0,R=GX(GX({clipPath:U},Gn(t,!0)),{},{x1:A,y1:C,x2:N,y2:O});return ne.createElement(si,{className:nr("recharts-reference-line",o)},qlt(a,R),ba.renderCallByParent(t,alt({x1:A,y1:C,x2:N,y2:O})))}var Kz=function(t){function e(){return Rlt(this,e),Dlt(this,e,arguments)}return Blt(e,t),Llt(e,[{key:"render",value:function(){return ne.createElement(Klt,this.props)}}])}(ne.Component);Xz(Kz,"displayName","ReferenceLine");Xz(Kz,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function pF(){return pF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pF.apply(this,arguments)}function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}function XX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XX(Object(n),!0).forEach(function(r){Uk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ylt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zlt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yce(r.key),r)}}function Qlt(t,e,n){return e&&Zlt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jlt(t,e,n){return e=p2(e),ect(t,Kce()?Reflect.construct(e,n||[],p2(t).constructor):e.apply(t,n))}function ect(t,e){if(e&&(Y0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tct(t)}function tct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kce=function(){return!!t})()}function p2(t){return p2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p2(t)}function nct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mF(t,e)}function mF(t,e){return mF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mF(t,e)}function Uk(t,e,n){return e=Yce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yce(t){var e=rct(t,"string");return Y0(e)=="symbol"?e:e+""}function rct(t,e){if(Y0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ict=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=Vz({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return Zu(e,"discard")&&!a.isInRange(o)?null:o},Bk=function(t){function e(){return Ylt(this,e),Jlt(this,e,arguments)}return nct(e,t),Qlt(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,c=r.clipPathId,u=Es(i),d=Es(s);if(ef(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=ict(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,v=g.shape,w=g.className,x=Zu(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=KX(KX({clipPath:x},Gn(this.props,!0)),{},{cx:h,cy:p});return ne.createElement(si,{className:nr("recharts-reference-dot",w)},e.renderDot(v,_),ba.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(ne.Component);Uk(Bk,"displayName","ReferenceDot");Uk(Bk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Uk(Bk,"renderDot",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Un(t)?n=t(e):n=ne.createElement(Ik,pF({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function gF(){return gF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gF.apply(this,arguments)}function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function YX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YX(Object(n),!0).forEach(function(r){zk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function act(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qce(r.key),r)}}function oct(t,e,n){return e&&act(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lct(t,e,n){return e=m2(e),cct(t,Zce()?Reflect.construct(e,n||[],m2(t).constructor):e.apply(t,n))}function cct(t,e){if(e&&(Z0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uct(t)}function uct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zce=function(){return!!t})()}function m2(t){return m2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m2(t)}function dct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yF(t,e)}function yF(t,e){return yF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yF(t,e)}function zk(t,e,n){return e=Qce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qce(t){var e=fct(t,"string");return Z0(e)=="symbol"?e:e+""}function fct(t,e){if(Z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hct=function(e,n,r,i,s){var a=s.x1,o=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=Vz({x:d.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Zu(s,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:Fce(p,g)},$k=function(t){function e(){return sct(this,e),lct(this,e,arguments)}return dct(e,t),oct(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;ef(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Es(i),h=Es(s),p=Es(a),g=Es(o),v=this.props.shape;if(!f&&!h&&!p&&!g&&!v)return null;var w=hct(f,h,p,g,this.props);if(!w&&!v)return null;var x=Zu(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ne.createElement(si,{className:nr("recharts-reference-area",c)},e.renderRect(v,ZX(ZX({clipPath:x},Gn(this.props,!0)),w)),ba.renderCallByParent(this.props,w))}}])}(ne.Component);zk($k,"displayName","ReferenceArea");zk($k,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});zk($k,"renderRect",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Un(t)?n=t(e):n=ne.createElement(zz,gF({},e,{className:"recharts-reference-area-rect"})),n});function Jce(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function pct(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return llt(r,n)}function mct(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function g2(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function gct(t,e){return Jce(t,e+1)}function yct(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,c=0,u=1,d=a,f=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:Jce(r,u)};var v=c,w,x=function(){return w===void 0&&(w=n(g,v)),w},_=g.coordinate,S=c===0||g2(t,_,x,d,o);S||(c=0,d=a,u+=1),S&&(d=_+t*(x()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function oE(t){"@babel/helpers - typeof";return oE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oE(t)}function QX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QX(Object(n),!0).forEach(function(r){vct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vct(t,e,n){return e=xct(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xct(t){var e=bct(t,"string");return oE(e)=="symbol"?e:e+""}function bct(t,e){if(oE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wct(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,c=e.end,u=function(h){var p=s[h],g,v=function(){return g===void 0&&(g=n(p,h)),g};if(h===a-1){var w=t*(p.coordinate+t*v()/2-c);s[h]=p=va(va({},p),{},{tickCoord:w>0?p.coordinate-w*t:p.coordinate})}else s[h]=p=va(va({},p),{},{tickCoord:p.coordinate});var x=g2(t,p.tickCoord,v,o,c);x&&(c=p.tickCoord-t*(v()/2+i),s[h]=va(va({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function _ct(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,c=e.start,u=e.end;if(s){var d=r[o-1],f=n(d,o-1),h=t*(d.coordinate+t*f/2-u);a[o-1]=d=va(va({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=g2(t,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-t*(f/2+i),a[o-1]=va(va({},d),{},{isShow:!0}))}for(var g=s?o-1:o,v=function(_){var S=a[_],A,C=function(){return A===void 0&&(A=n(S,_)),A};if(_===0){var T=t*(S.coordinate-t*C()/2-c);a[_]=S=va(va({},S),{},{tickCoord:T<0?S.coordinate-T*t:S.coordinate})}else a[_]=S=va(va({},S),{},{tickCoord:S.coordinate});var N=g2(t,S.tickCoord,C,c,u);N&&(c=S.tickCoord+t*(C()/2+i),a[_]=va(va({},S),{},{isShow:!0}))},w=0;w<g;w++)v(w);return a}function Yz(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(pt(c)||Cy.isSsr)return gct(i,typeof c=="number"&&pt(c)?c:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?b1(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(S,A){var C=Un(u)?u(S.value,A):S.value;return p==="width"?pct(b1(C,{fontSize:e,letterSpacing:n}),g,f):b1(C,{fontSize:e,letterSpacing:n})[p]},w=i.length>=2?qc(i[1].coordinate-i[0].coordinate):1,x=mct(s,w,p);return c==="equidistantPreserveStart"?yct(w,x,v,i,a):(c==="preserveStart"||c==="preserveStartEnd"?h=_ct(w,x,v,i,a,c==="preserveStartEnd"):h=wct(w,x,v,i,a),h.filter(function(_){return _.isShow}))}var Sct=["viewBox"],Ect=["viewBox"],Act=["ticks"];function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function JX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JX(Object(n),!0).forEach(function(r){Zz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bL(t,e){if(t==null)return{};var n=Tct(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tct(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tue(r.key),r)}}function Cct(t,e,n){return e&&eK(t.prototype,e),n&&eK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nct(t,e,n){return e=y2(e),Pct(t,eue()?Reflect.construct(e,n||[],y2(t).constructor):e.apply(t,n))}function Pct(t,e){if(e&&(Q0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jct(t)}function jct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eue=function(){return!!t})()}function y2(t){return y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y2(t)}function kct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vF(t,e)}function vF(t,e){return vF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vF(t,e)}function Zz(t,e,n){return e=tue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tue(t){var e=Oct(t,"string");return Q0(e)=="symbol"?e:e+""}function Oct(t,e){if(Q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wb=function(t){function e(n){var r;return Mct(this,e),r=Nct(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return kct(e,t),Cct(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=bL(r,Sct),o=this.props,c=o.viewBox,u=bL(o,Ect);return!Kx(s,c)||!Kx(a,u)||!Kx(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,v,w,x,_,S=f?-1:1,A=r.tickSize||d,C=pt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=g=r.coordinate,w=a+ +!f*c,v=w-S*A,_=v-S*h,x=C;break;case"left":v=w=r.coordinate,g=s+ +!f*o,p=g-S*A,x=p-S*h,_=C;break;case"right":v=w=r.coordinate,g=s+ +f*o,p=g+S*A,x=p+S*h,_=C;break;default:p=g=r.coordinate,w=a+ +f*c,v=w+S*A,_=v+S*h,x=C;break}return{line:{x1:p,y1:v,x2:g,y2:w},tick:{x,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=vs(vs(vs({},Gn(this.props,!1)),Gn(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=vs(vs({},f),{},{x1:i,y1:s+h*o,x2:i+a,y2:s+h*o})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=vs(vs({},f),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+o})}return ne.createElement("line",jx({},f,{className:nr("recharts-cartesian-axis-line",tc(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=Yz(vs(vs({},this.props),{},{ticks:r}),i,s),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),w=Gn(this.props,!1),x=Gn(d,!1),_=vs(vs({},w),{},{fill:"none"},Gn(c,!1)),S=p.map(function(A,C){var T=a.getTickLineCoord(A),N=T.line,O=T.tick,U=vs(vs(vs(vs({textAnchor:g,verticalAnchor:v},w),{},{stroke:"none",fill:u},x),O),{},{index:C,payload:A,visibleTicksCount:p.length,tickFormatter:f});return ne.createElement(si,jx({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},EP(a.props,A,C)),c&&ne.createElement("line",jx({},_,N,{className:nr("recharts-cartesian-axis-tick-line",tc(c,"className"))})),d&&e.renderTickItem(d,U,"".concat(Un(f)?f(A.value,C):A.value).concat(h||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=bL(f,Act),g=h;return Un(c)&&(g=h&&h.length>0?c(this.props):c(p)),a<=0||o<=0||!g||!g.length?null:ne.createElement(si,{className:nr("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ba.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=nr(i.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(r)?a=ne.cloneElement(r,vs(vs({},i),{},{className:o})):Un(r)?a=r(vs(vs({},i),{},{className:o})):a=ne.createElement(FP,jx({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(j.Component);Zz(Wb,"displayName","CartesianAxis");Zz(Wb,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rct=["x1","y1","x2","y2","key"],Ict=["offset"];function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function tK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tK(Object(n),!0).forEach(function(r){Lct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lct(t,e,n){return e=Dct(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dct(t){var e=Fct(t,"string");return my(e)=="symbol"?e:e+""}function Fct(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function nK(t,e){if(t==null)return{};var n=Uct(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uct(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bct=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,c=e.ry;return ne.createElement("rect",{x:i,y:s,ry:c,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function nue(t,e){var n;if(ne.isValidElement(t))n=ne.cloneElement(t,e);else if(Un(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,c=nK(e,Rct),u=Gn(c,!1);u.offset;var d=nK(u,Ict);n=ne.createElement("line",vg({},d,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function zct(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,c){var u=wa(wa({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(c),index:c});return nue(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function $ct(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,c){var u=wa(wa({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(c),index:c});return nue(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Vct(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],v=g?i+a-h:d[p+1]-h;if(v<=0)return null;var w=p%e.length;return ne.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:v,width:s,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Hct(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],v=g?s+o-h:d[p+1]-h;if(v<=0)return null;var w=p%r.length;return ne.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:v,height:c,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Wct=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return mce(Yz(wa(wa(wa({},Wb.defaultProps),r),{},{ticks:Kd(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},Gct=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return mce(Yz(wa(wa(wa({},Wb.defaultProps),r),{},{ticks:Kd(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},ix={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rue(t){var e,n,r,i,s,a,o=Gz(),c=qz(),u=Olt(),d=wa(wa({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ix.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ix.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ix.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ix.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:ix.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:ix.verticalFill,x:pt(t.x)?t.x:u.left,y:pt(t.y)?t.y:u.top,width:pt(t.width)?t.width:u.width,height:pt(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,v=d.syncWithTicks,w=d.horizontalValues,x=d.verticalValues,_=Plt(),S=jlt();if(!pt(p)||p<=0||!pt(g)||g<=0||!pt(f)||f!==+f||!pt(h)||h!==+h)return null;var A=d.verticalCoordinatesGenerator||Wct,C=d.horizontalCoordinatesGenerator||Gct,T=d.horizontalPoints,N=d.verticalPoints;if((!T||!T.length)&&Un(C)){var O=w&&w.length,U=C({yAxis:S?wa(wa({},S),{},{ticks:O?w:S.ticks}):void 0,width:o,height:c,offset:u},O?!0:v);ef(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(my(U),"]")),Array.isArray(U)&&(T=U)}if((!N||!N.length)&&Un(A)){var R=x&&x.length,I=A({xAxis:_?wa(wa({},_),{},{ticks:R?x:_.ticks}):void 0,width:o,height:c,offset:u},R?!0:v);ef(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(my(I),"]")),Array.isArray(I)&&(N=I)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(Bct,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ne.createElement(zct,vg({},d,{offset:u,horizontalPoints:T,xAxis:_,yAxis:S})),ne.createElement($ct,vg({},d,{offset:u,verticalPoints:N,xAxis:_,yAxis:S})),ne.createElement(Vct,vg({},d,{horizontalPoints:T})),ne.createElement(Hct,vg({},d,{verticalPoints:N})))}rue.displayName="CartesianGrid";var qct=["type","layout","connectNulls","ref"],Xct=["key"];function J0(t){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(t)}function rK(t,e){if(t==null)return{};var n=Kct(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kct(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E1.apply(this,arguments)}function iK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iK(Object(n),!0).forEach(function(r){Bc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sx(t){return Jct(t)||Qct(t)||Zct(t)||Yct()}function Yct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zct(t,e){if(t){if(typeof t=="string")return xF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xF(t,e)}}function Qct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jct(t){if(Array.isArray(t))return xF(t)}function xF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sue(r.key),r)}}function tut(t,e,n){return e&&sK(t.prototype,e),n&&sK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nut(t,e,n){return e=v2(e),rut(t,iue()?Reflect.construct(e,n||[],v2(t).constructor):e.apply(t,n))}function rut(t,e){if(e&&(J0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iut(t)}function iut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iue=function(){return!!t})()}function v2(t){return v2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v2(t)}function sut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bF(t,e)}function bF(t,e){return bF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bF(t,e)}function Bc(t,e,n){return e=sue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=aut(t,"string");return J0(e)=="symbol"?e:e+""}function aut(t,e){if(J0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(J0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sA=function(t){function e(){var n;eut(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=nut(this,e,[].concat(i)),Bc(n,"state",{isAnimationFinished:!0,totalLength:0}),Bc(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),Bc(n,"getStrokeDasharray",function(a,o,c){var u=c.reduce(function(x,_){return x+_});if(!u)return n.generateSimpleStrokeDasharray(o,a);for(var d=Math.floor(a/u),f=a%u,h=o-a,p=[],g=0,v=0;g<c.length;v+=c[g],++g)if(v+c[g]>f){p=[].concat(sx(c.slice(0,g)),[f-v]);break}var w=p.length%2===0?[0,h]:[h];return[].concat(sx(e.repeat(c,d)),sx(p),w).map(function(x){return"".concat(x,"px")}).join(", ")}),Bc(n,"id",Fb("recharts-line-")),Bc(n,"pathRef",function(a){n.mainCurve=a}),Bc(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Bc(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return sut(e,t),tut(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=nc(d,iA);if(!f)return null;var h=function(v,w){return{x:v.x,y:v.y,value:v.value,errorVal:Qa(v.payload,w)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(si,p,f.map(function(g){return ne.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:o,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,u=o.points,d=o.dataKey,f=Gn(this.props,!1),h=Gn(c,!0),p=u.map(function(v,w){var x=Qo(Qo(Qo({key:"dot-".concat(w),r:3},f),h),{},{index:w,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return e.renderDotItem(c,x)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ne.createElement(si,E1({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,c=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=rK(o,qct),h=Qo(Qo(Qo({},Gn(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:c,layout:u,connectNulls:d});return ne.createElement(Qx,E1({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,c=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,g=a.animateNewValues,v=a.width,w=a.height,x=this.state,_=x.prevPoints,S=x.totalLength;return ne.createElement(nd,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var C=A.t;if(_){var T=_.length/o.length,N=o.map(function(B,G){var K=Math.floor(G*T);if(_[K]){var Q=_[K],q=ia(Q.x,B.x),ie=ia(Q.y,B.y);return Qo(Qo({},B),{},{x:q(C),y:ie(C)})}if(g){var V=ia(v*2,B.x),X=ia(w/2,B.y);return Qo(Qo({},B),{},{x:V(C),y:X(C)})}return Qo(Qo({},B),{},{x:B.x,y:B.y})});return s.renderCurveStatically(N,r,i)}var O=ia(0,S),U=O(C),R;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});R=s.getStrokeDasharray(U,S,I)}else R=s.generateSimpleStrokeDasharray(S,U);return s.renderCurveStatically(o,r,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return o&&a&&a.length&&(!u&&d>0||!V0(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,g=i.height,v=i.isAnimationActive,w=i.id;if(s||!o||!o.length)return null;var x=this.state.isAnimationFinished,_=o.length===1,S=nr("recharts-line",c),A=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,T=A||C,N=Qn(w)?this.id:w,O=(r=Gn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},U=O.r,R=U===void 0?3:U,I=O.strokeWidth,B=I===void 0?2:I,G=ooe(a)?a:{},K=G.clipDot,Q=K===void 0?!0:K,q=R*2+B;return ne.createElement(si,{className:S},A||C?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(N)},ne.createElement("rect",{x:A?h:h-p/2,y:C?f:f-g/2,width:A?p:p*2,height:C?g:g*2})),!Q&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(N)},ne.createElement("rect",{x:h-q/2,y:f-q/2,width:p+q,height:g+q}))):null,!_&&this.renderCurve(T,N),this.renderErrorBar(T,N),(_||a)&&this.renderDots(T,Q,N),(!v||x)&&nf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(sx(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(sx(a),sx(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(ne.isValidElement(r))s=ne.cloneElement(r,i);else if(Un(r))s=r(i);else{var a=i.key,o=rK(i,Xct),c=nr("recharts-line-dot",typeof r!="boolean"?r.className:"");s=ne.createElement(Ik,E1({key:a},o,{className:c}))}return s}}])}(j.PureComponent);Bc(sA,"displayName","Line");Bc(sA,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Cy.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Bc(sA,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,p){var g=Qa(h,a);return d==="horizontal"?{x:QP({axis:n,ticks:i,bandSize:o,entry:h,index:p}),y:Qn(g)?null:r.scale(g),value:g,payload:h}:{x:Qn(g)?null:n.scale(g),y:QP({axis:r,ticks:s,bandSize:o,entry:h,index:p}),value:g,payload:h}});return Qo({points:f,layout:d},u)});var out=["layout","type","stroke","connectNulls","isRange","ref"],lut=["key"],aue;function eb(t){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}function oue(t,e){if(t==null)return{};var n=cut(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cut(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}function aK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aK(Object(n),!0).forEach(function(r){$u(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cue(r.key),r)}}function dut(t,e,n){return e&&oK(t.prototype,e),n&&oK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fut(t,e,n){return e=x2(e),hut(t,lue()?Reflect.construct(e,n||[],x2(t).constructor):e.apply(t,n))}function hut(t,e){if(e&&(eb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return put(t)}function put(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lue=function(){return!!t})()}function x2(t){return x2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x2(t)}function mut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wF(t,e)}function wF(t,e){return wF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wF(t,e)}function $u(t,e,n){return e=cue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cue(t){var e=gut(t,"string");return eb(e)=="symbol"?e:e+""}function gut(t,e){if(eb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vp=function(t){function e(){var n;uut(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=fut(this,e,[].concat(i)),$u(n,"state",{isAnimationFinished:!0}),$u(n,"id",Fb("recharts-area-")),$u(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Un(a)&&a()}),$u(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Un(a)&&a()}),n}return mut(e,t),dut(e,[{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(a&&!o)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Gn(this.props,!1),p=Gn(u,!0),g=d.map(function(w,x){var _=Eh(Eh(Eh({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:w.x,cy:w.y,dataKey:f,value:w.value,payload:w.payload,points:d});return e.renderDotItem(u,_)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ne.createElement(si,xg({className:"recharts-area-dots"},v),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,c=a[0].x,u=a[a.length-1].x,d=r*Math.abs(c-u),f=Yh(a.map(function(h){return h.y||0}));return pt(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Yh(s.map(function(h){return h.y||0})),f)),pt(f)?ne.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,c=a[0].y,u=a[a.length-1].y,d=r*Math.abs(c-u),f=Yh(a.map(function(h){return h.x||0}));return pt(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Yh(s.map(function(h){return h.x||0})),f)),pt(f)?ne.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,a){var o=this.props,c=o.layout,u=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=oue(o,out);return ne.createElement(si,{clipPath:s?"url(#clipPath-".concat(a,")"):null},ne.createElement(Qx,xg({},Gn(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&ne.createElement(Qx,xg({},Gn(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&ne.createElement(Qx,xg({},Gn(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,c=a.baseLine,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,g=this.state,v=g.prevPoints,w=g.prevBaseLine;return ne.createElement(nd,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var _=x.t;if(v){var S=v.length/o.length,A=o.map(function(O,U){var R=Math.floor(U*S);if(v[R]){var I=v[R],B=ia(I.x,O.x),G=ia(I.y,O.y);return Eh(Eh({},O),{},{x:B(_),y:G(_)})}return O}),C;if(pt(c)&&typeof c=="number"){var T=ia(w,c);C=T(_)}else if(Qn(c)||Db(c)){var N=ia(w,0);C=N(_)}else C=c.map(function(O,U){var R=Math.floor(U*S);if(w[R]){var I=w[R],B=ia(I.x,O.x),G=ia(I.y,O.y);return Eh(Eh({},O),{},{x:B(_),y:G(_)})}return O});return s.renderAreaStatically(A,C,r,i)}return ne.createElement(si,null,ne.createElement("defs",null,ne.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(_))),ne.createElement(si,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(o,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,a=s.points,o=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&a&&a.length&&(!d&&h>0||!V0(d,a)||!V0(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,g=i.height,v=i.isAnimationActive,w=i.id;if(s||!o||!o.length)return null;var x=this.state.isAnimationFinished,_=o.length===1,S=nr("recharts-area",c),A=f&&f.allowDataOverflow,C=h&&h.allowDataOverflow,T=A||C,N=Qn(w)?this.id:w,O=(r=Gn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},U=O.r,R=U===void 0?3:U,I=O.strokeWidth,B=I===void 0?2:I,G=ooe(a)?a:{},K=G.clipDot,Q=K===void 0?!0:K,q=R*2+B;return ne.createElement(si,{className:S},A||C?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(N)},ne.createElement("rect",{x:A?d:d-p/2,y:C?u:u-g/2,width:A?p:p*2,height:C?g:g*2})),!Q&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(N)},ne.createElement("rect",{x:d-q/2,y:u-q/2,width:p+q,height:g+q}))):null,_?null:this.renderArea(T,N),(a||_)&&this.renderDots(T,Q,N),(!v||x)&&nf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(j.PureComponent);aue=Vp;$u(Vp,"displayName","Area");$u(Vp,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Cy.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$u(Vp,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,a=e.props.baseValue,o=a??s;if(pt(o)&&typeof o=="number")return o;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});$u(Vp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,g=u&&u.length,v=aue.getBaseValue(e,n,r,i),w=p==="horizontal",x=!1,_=f.map(function(A,C){var T;g?T=u[d+C]:(T=Qa(A,c),Array.isArray(T)?x=!0:T=[v,T]);var N=T[1]==null||g&&Qa(A,c)==null;return w?{x:QP({axis:r,ticks:s,bandSize:o,entry:A,index:C}),y:N?null:i.scale(T[1]),value:T,payload:A}:{x:N?null:r.scale(T[1]),y:QP({axis:i,ticks:a,bandSize:o,entry:A,index:C}),value:T,payload:A}}),S;return g||x?S=_.map(function(A){var C=Array.isArray(A.value)?A.value[0]:null;return w?{x:A.x,y:C!=null&&A.y!=null?i.scale(C):null}:{x:C!=null?r.scale(C):null,y:A.y}}):S=w?i.scale(v):r.scale(v),Eh({points:_,baseLine:S,layout:p,isRange:x},h)});$u(Vp,"renderDotItem",function(t,e){var n;if(ne.isValidElement(t))n=ne.cloneElement(t,e);else if(Un(t))n=t(e);else{var r=nr("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=oue(e,lut);n=ne.createElement(Ik,xg({},s,{key:i,className:r}))}return n});function tb(t){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(t)}function yut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fue(r.key),r)}}function xut(t,e,n){return e&&vut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function but(t,e,n){return e=b2(e),wut(t,uue()?Reflect.construct(e,n||[],b2(t).constructor):e.apply(t,n))}function wut(t,e){if(e&&(tb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ut(t)}function _ut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uue=function(){return!!t})()}function b2(t){return b2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b2(t)}function Sut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_F(t,e)}function _F(t,e){return _F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_F(t,e)}function due(t,e,n){return e=fue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fue(t){var e=Eut(t,"string");return tb(e)=="symbol"?e:e+""}function Eut(t,e){if(tb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function SF(){return SF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SF.apply(this,arguments)}function Aut(t){var e=t.xAxisId,n=Gz(),r=qz(),i=Wce(e);return i==null?null:j.createElement(Wb,SF({},i,{className:nr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Kd(a,!0)}}))}var Gb=function(t){function e(){return yut(this,e),but(this,e,arguments)}return Sut(e,t),xut(e,[{key:"render",value:function(){return j.createElement(Aut,this.props)}}])}(j.Component);due(Gb,"displayName","XAxis");due(Gb,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nb(t){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}function Tut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mue(r.key),r)}}function Cut(t,e,n){return e&&Mut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nut(t,e,n){return e=w2(e),Put(t,hue()?Reflect.construct(e,n||[],w2(t).constructor):e.apply(t,n))}function Put(t,e){if(e&&(nb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jut(t)}function jut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hue=function(){return!!t})()}function w2(t){return w2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w2(t)}function kut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EF(t,e)}function EF(t,e){return EF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EF(t,e)}function pue(t,e,n){return e=mue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=Out(t,"string");return nb(e)=="symbol"?e:e+""}function Out(t,e){if(nb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AF(){return AF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AF.apply(this,arguments)}var Rut=function(e){var n=e.yAxisId,r=Gz(),i=qz(),s=Gce(n);return s==null?null:j.createElement(Wb,AF({},s,{className:nr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Kd(o,!0)}}))},qb=function(t){function e(){return Tut(this,e),Nut(this,e,arguments)}return kut(e,t),Cut(e,[{key:"render",value:function(){return j.createElement(Rut,this.props)}}])}(j.Component);pue(qb,"displayName","YAxis");pue(qb,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function lK(t){return Fut(t)||Dut(t)||Lut(t)||Iut()}function Iut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lut(t,e){if(t){if(typeof t=="string")return TF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TF(t,e)}}function Dut(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fut(t){if(Array.isArray(t))return TF(t)}function TF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var MF=function(e,n,r,i,s){var a=nc(e,Kz),o=nc(e,Bk),c=[].concat(lK(a),lK(o)),u=nc(e,$k),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(v,w){if(w.props[d]===r&&Zu(w.props,"extendDomain")&&pt(w.props[f])){var x=w.props[f];return[Math.min(v[0],x),Math.max(v[1],x)]}return v},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(v,w){if(w.props[d]===r&&Zu(w.props,"extendDomain")&&pt(w.props[p])&&pt(w.props[g])){var x=w.props[p],_=w.props[g];return[Math.min(v[0],x,_),Math.max(v[1],x,_)]}return v},h)}return s&&s.length&&(h=s.reduce(function(v,w){return pt(w)?[Math.min(v[0],w),Math.max(v[1],w)]:v},h)),h},gue={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,g){var v=n?n+u:u;if(!this._events[v])return!1;var w=this._events[v],x=arguments.length,_,S;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,p),!0;case 6:return w.fn.call(w.context,d,f,h,p,g),!0}for(S=1,_=new Array(x-1);S<x;S++)_[S-1]=arguments[S];w.fn.apply(w.context,_)}else{var A=w.length,C;for(S=0;S<A;S++)switch(w[S].once&&this.removeListener(u,w[S].fn,void 0,!0),x){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,d);break;case 3:w[S].fn.call(w[S].context,d,f);break;case 4:w[S].fn.call(w[S].context,d,f,h);break;default:if(!_)for(C=1,_=new Array(x-1);C<x;C++)_[C-1]=arguments[C];w[S].fn.apply(w[S].context,_)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,p);else{for(var v=0,w=[],x=g.length;v<x;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&w.push(g[v]);w.length?this._events[p]=w.length===1?w[0]:w:a(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(gue);var Uut=gue.exports;const But=cr(Uut);var wL=new But,_L="recharts.syncMouseEvents";function lE(t){"@babel/helpers - typeof";return lE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lE(t)}function zut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yue(r.key),r)}}function Vut(t,e,n){return e&&$ut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SL(t,e,n){return e=yue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yue(t){var e=Hut(t,"string");return lE(e)=="symbol"?e:e+""}function Hut(t,e){if(lE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wut=function(){function t(){zut(this,t),SL(this,"activeIndex",0),SL(this,"coordinateList",[]),SL(this,"layout","horizontal")}return Vut(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,h=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Gut(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&pt(r)&&pt(i))return!0}return!1}function qut(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function vue(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=sa(e,n,r,i),o=sa(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Xut(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=sa(o,c,u,f),p=sa(o,c,d,f);r=h.x,i=h.y,s=p.x,a=p.y}else return vue(e);return[{x:r,y:i},{x:s,y:a}]}function cE(t){"@babel/helpers - typeof";return cE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cE(t)}function cK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cK(Object(n),!0).forEach(function(r){Kut(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kut(t,e,n){return e=Yut(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yut(t){var e=Zut(t,"string");return cE(e)=="symbol"?e:e+""}function Zut(t,e){if(cE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qut(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,v=Qx;if(h==="ScatterChart")g=a,v=$st;else if(h==="BarChart")g=qut(f,a,c,d),v=zz;else if(f==="radial"){var w=vue(a),x=w.cx,_=w.cy,S=w.radius,A=w.startAngle,C=w.endAngle;g={cx:x,cy:_,startAngle:A,endAngle:C,innerRadius:S,outerRadius:S},v=bce}else g={points:Xut(f,a,c)},v=Qx;var T=aC(aC(aC(aC({stroke:"#ccc",pointerEvents:"none"},c),g),Gn(p,!1)),{},{payload:o,payloadIndex:u,className:nr("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,T):j.createElement(v,T)}var Jut=["item"],edt=["children","className","width","height","style","compact","title","desc"];function rb(t){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(t)}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(this,arguments)}function uK(t,e){return rdt(t)||ndt(t,e)||bue(t,e)||tdt()}function tdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ndt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function rdt(t){if(Array.isArray(t))return t}function dK(t,e){if(t==null)return{};var n=idt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function idt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sdt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function adt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wue(r.key),r)}}function odt(t,e,n){return e&&adt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ldt(t,e,n){return e=_2(e),cdt(t,xue()?Reflect.construct(e,n||[],_2(t).constructor):e.apply(t,n))}function cdt(t,e){if(e&&(rb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return udt(t)}function udt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xue=function(){return!!t})()}function _2(t){return _2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_2(t)}function ddt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CF(t,e)}function CF(t,e){return CF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CF(t,e)}function ib(t){return pdt(t)||hdt(t)||bue(t)||fdt()}function fdt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bue(t,e){if(t){if(typeof t=="string")return NF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NF(t,e)}}function hdt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pdt(t){if(Array.isArray(t))return NF(t)}function NF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fK(Object(n),!0).forEach(function(r){hn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hn(t,e,n){return e=wue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wue(t){var e=mdt(t,"string");return rb(e)=="symbol"?e:e+""}function mdt(t,e){if(rb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gdt={xAxis:["bottom","top"],yAxis:["left","right"]},ydt={width:"100%",height:"100%"},_ue={x:0,y:0};function oC(t){return t}var vdt=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},xdt=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return Ge(Ge(Ge({},i),sa(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var c=s.coordinate,u=i.angle;return Ge(Ge(Ge({},i),sa(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return _ue},Vk=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(ib(o),ib(u)):o},[]);return a.length>0?a:e&&e.length&&pt(i)&&pt(s)?e.slice(i,s+1):[]};function Sue(t){return t==="number"?[0,"auto"]:void 0}var PF=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=Vk(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?o:f;h=_P(p,a.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(ib(c),[yce(u,h)]):c},[])},hK=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=vdt(s,r),o=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Cnt(a,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=PF(e,n,d,f),p=xdt(r,o,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},bdt=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=pce(d,s);return r.reduce(function(g,v){var w,x=v.type.defaultProps!==void 0?Ge(Ge({},v.type.defaultProps),v.props):v.props,_=x.type,S=x.dataKey,A=x.allowDataOverflow,C=x.allowDuplicatedCategory,T=x.scale,N=x.ticks,O=x.includeHidden,U=x[a];if(g[U])return g;var R=Vk(e.data,{graphicalItems:i.filter(function(de){var Y,he=a in de.props?de.props[a]:(Y=de.type.defaultProps)===null||Y===void 0?void 0:Y[a];return he===U}),dataStartIndex:c,dataEndIndex:u}),I=R.length,B,G,K;Gut(x.domain,A,_)&&(B=q4(x.domain,null,A),p&&(_==="number"||T!=="auto")&&(K=_1(R,S,"category")));var Q=Sue(_);if(!B||B.length===0){var q,ie=(q=x.domain)!==null&&q!==void 0?q:Q;if(S){if(B=_1(R,S,_),_==="category"&&p){var V=h8e(B);C&&V?(G=B,B=l2(0,I)):C||(B=Vq(ie,B,v).reduce(function(de,Y){return de.indexOf(Y)>=0?de:[].concat(ib(de),[Y])},[]))}else if(_==="category")C?B=B.filter(function(de){return de!==""&&!Qn(de)}):B=Vq(ie,B,v).reduce(function(de,Y){return de.indexOf(Y)>=0||Y===""||Qn(Y)?de:[].concat(ib(de),[Y])},[]);else if(_==="number"){var X=Ont(R,i.filter(function(de){var Y,he,Ce=a in de.props?de.props[a]:(Y=de.type.defaultProps)===null||Y===void 0?void 0:Y[a],Ie="hide"in de.props?de.props.hide:(he=de.type.defaultProps)===null||he===void 0?void 0:he.hide;return Ce===U&&(O||!Ie)}),S,s,d);X&&(B=X)}p&&(_==="number"||T!=="auto")&&(K=_1(R,S,"category"))}else p?B=l2(0,I):o&&o[U]&&o[U].hasStack&&_==="number"?B=h==="expand"?[0,1]:gce(o[U].stackGroups,c,u):B=hce(R,i.filter(function(de){var Y=a in de.props?de.props[a]:de.type.defaultProps[a],he="hide"in de.props?de.props.hide:de.type.defaultProps.hide;return Y===U&&(O||!he)}),_,d,!0);if(_==="number")B=MF(f,B,U,s,N),ie&&(B=q4(ie,B,A));else if(_==="category"&&ie){var z=ie,oe=B.every(function(de){return z.indexOf(de)>=0});oe&&(B=z)}}return Ge(Ge({},g),{},hn({},U,Ge(Ge({},x),{},{axisType:s,domain:B,categoricalDomain:K,duplicateDomain:G,originalDomain:(w=x.domain)!==null&&w!==void 0?w:Q,isCategorical:p,layout:d})))},{})},wdt=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=Vk(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=pce(d,s),v=-1;return r.reduce(function(w,x){var _=x.type.defaultProps!==void 0?Ge(Ge({},x.type.defaultProps),x.props):x.props,S=_[a],A=Sue("number");if(!w[S]){v++;var C;return g?C=l2(0,p):o&&o[S]&&o[S].hasStack?(C=gce(o[S].stackGroups,c,u),C=MF(f,C,S,s)):(C=q4(A,hce(h,r.filter(function(T){var N,O,U=a in T.props?T.props[a]:(N=T.type.defaultProps)===null||N===void 0?void 0:N[a],R="hide"in T.props?T.props.hide:(O=T.type.defaultProps)===null||O===void 0?void 0:O.hide;return U===S&&!R}),"number",d),i.defaultProps.allowDataOverflow),C=MF(f,C,S,s)),Ge(Ge({},w),{},hn({},S,Ge(Ge({axisType:s},i.defaultProps),{},{hide:!0,orientation:tc(gdt,"".concat(s,".").concat(v%2),null),domain:C,originalDomain:A,isCategorical:g,layout:d})))}return w},{})},_dt=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=nc(d,s),p={};return h&&h.length?p=bdt(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(p=wdt(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),p},Sdt=function(e){var n=Lh(e),r=Kd(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:pz(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:JP(n,r)}},pK=function(e){var n=e.children,r=e.defaultShowTooltip,i=tl(n,q0),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Edt=function(e){return!e||!e.length?!1:e.some(function(n){var r=Jd(n&&n.type);return r&&r.indexOf("Bar")>=0})},mK=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Adt=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,c=o===void 0?{}:o,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=tl(f,q0),g=tl(f,Bg),v=Object.keys(c).reduce(function(C,T){var N=c[T],O=N.orientation;return!N.mirror&&!N.hide?Ge(Ge({},C),{},hn({},O,C[O]+N.width)):C},{left:h.left||0,right:h.right||0}),w=Object.keys(a).reduce(function(C,T){var N=a[T],O=N.orientation;return!N.mirror&&!N.hide?Ge(Ge({},C),{},hn({},O,tc(C,"".concat(O))+N.height)):C},{top:h.top||0,bottom:h.bottom||0}),x=Ge(Ge({},w),v),_=x.bottom;p&&(x.bottom+=p.props.height||q0.defaultProps.height),g&&n&&(x=jnt(x,i,r,n));var S=u-x.left-x.right,A=d-x.top-x.bottom;return Ge(Ge({brushBottom:_},x),{},{width:Math.max(S,0),height:Math.max(A,0)})},Tdt=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Qz=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,_){var S=_.graphicalItems,A=_.stackGroups,C=_.offset,T=_.updateId,N=_.dataStartIndex,O=_.dataEndIndex,U=x.barSize,R=x.layout,I=x.barGap,B=x.barCategoryGap,G=x.maxBarSize,K=mK(R),Q=K.numericAxisName,q=K.cateAxisName,ie=Edt(S),V=[];return S.forEach(function(X,z){var oe=Vk(x.data,{graphicalItems:[X],dataStartIndex:N,dataEndIndex:O}),de=X.type.defaultProps!==void 0?Ge(Ge({},X.type.defaultProps),X.props):X.props,Y=de.dataKey,he=de.maxBarSize,Ce=de["".concat(Q,"Id")],Ie=de["".concat(q,"Id")],Ee={},Je=c.reduce(function(F,re){var ye=_["".concat(re.axisType,"Map")],be=de["".concat(re.axisType,"Id")];ye&&ye[be]||re.axisType==="zAxis"||py();var pe=ye[be];return Ge(Ge({},F),{},hn(hn({},re.axisType,pe),"".concat(re.axisType,"Ticks"),Kd(pe)))},Ee),Ne=Je[q],Ue=Je["".concat(q,"Ticks")],Fe=A&&A[Ce]&&A[Ce].hasStack&&Wnt(X,A[Ce].stackGroups),le=Jd(X.type).indexOf("Bar")>=0,J=JP(Ne,Ue),Le=[],qe=ie&&Nnt({barSize:U,stackGroups:A,totalSize:Tdt(Je,q)});if(le){var We,Ke,yt=Qn(he)?G:he,ct=(We=(Ke=JP(Ne,Ue,!0))!==null&&Ke!==void 0?Ke:yt)!==null&&We!==void 0?We:0;Le=Pnt({barGap:I,barCategoryGap:B,bandSize:ct!==J?ct:J,sizeList:qe[Ie],maxBarSize:yt}),ct!==J&&(Le=Le.map(function(F){return Ge(Ge({},F),{},{position:Ge(Ge({},F.position),{},{offset:F.position.offset-ct/2})})}))}var $=X&&X.type&&X.type.getComposedData;$&&V.push({props:Ge(Ge({},$(Ge(Ge({},Je),{},{displayedData:oe,props:x,dataKey:Y,item:X,bandSize:J,barPosition:Le,offset:C,stackedData:Fe,layout:R,dataStartIndex:N,dataEndIndex:O}))),{},hn(hn(hn({key:X.key||"item-".concat(z)},Q,Je[Q]),q,Je[q]),"animationId",T)),childIndex:A8e(X,x.children),item:X})}),V},p=function(x,_){var S=x.props,A=x.dataStartIndex,C=x.dataEndIndex,T=x.updateId;if(!DG({props:S}))return null;var N=S.children,O=S.layout,U=S.stackOffset,R=S.data,I=S.reverseStackOrder,B=mK(O),G=B.numericAxisName,K=B.cateAxisName,Q=nc(N,r),q=$nt(R,Q,"".concat(G,"Id"),"".concat(K,"Id"),U,I),ie=c.reduce(function(de,Y){var he="".concat(Y.axisType,"Map");return Ge(Ge({},de),{},hn({},he,_dt(S,Ge(Ge({},Y),{},{graphicalItems:Q,stackGroups:Y.axisType===G&&q,dataStartIndex:A,dataEndIndex:C}))))},{}),V=Adt(Ge(Ge({},ie),{},{props:S,graphicalItems:Q}),_==null?void 0:_.legendBBox);Object.keys(ie).forEach(function(de){ie[de]=d(S,ie[de],V,de.replace("Map",""),n)});var X=ie["".concat(K,"Map")],z=Sdt(X),oe=h(S,Ge(Ge({},ie),{},{dataStartIndex:A,dataEndIndex:C,updateId:T,graphicalItems:Q,stackGroups:q,offset:V}));return Ge(Ge({formattedGraphicalItems:oe,graphicalItems:Q,offset:V,stackGroups:q},z),ie)},g=function(w){function x(_){var S,A,C;return sdt(this,x),C=ldt(this,x,[_]),hn(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),hn(C,"accessibilityManager",new Wut),hn(C,"handleLegendBBoxUpdate",function(T){if(T){var N=C.state,O=N.dataStartIndex,U=N.dataEndIndex,R=N.updateId;C.setState(Ge({legendBBox:T},p({props:C.props,dataStartIndex:O,dataEndIndex:U,updateId:R},Ge(Ge({},C.state),{},{legendBBox:T}))))}}),hn(C,"handleReceiveSyncEvent",function(T,N,O){if(C.props.syncId===T){if(O===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(N)}}),hn(C,"handleBrushChange",function(T){var N=T.startIndex,O=T.endIndex;if(N!==C.state.dataStartIndex||O!==C.state.dataEndIndex){var U=C.state.updateId;C.setState(function(){return Ge({dataStartIndex:N,dataEndIndex:O},p({props:C.props,dataStartIndex:N,dataEndIndex:O,updateId:U},C.state))}),C.triggerSyncEvent({dataStartIndex:N,dataEndIndex:O})}}),hn(C,"handleMouseEnter",function(T){var N=C.getMouseInfo(T);if(N){var O=Ge(Ge({},N),{},{isTooltipActive:!0});C.setState(O),C.triggerSyncEvent(O);var U=C.props.onMouseEnter;Un(U)&&U(O,T)}}),hn(C,"triggeredAfterMouseMove",function(T){var N=C.getMouseInfo(T),O=N?Ge(Ge({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(O),C.triggerSyncEvent(O);var U=C.props.onMouseMove;Un(U)&&U(O,T)}),hn(C,"handleItemMouseEnter",function(T){C.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),hn(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),hn(C,"handleMouseMove",function(T){T.persist(),C.throttleTriggeredAfterMouseMove(T)}),hn(C,"handleMouseLeave",function(T){C.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};C.setState(N),C.triggerSyncEvent(N);var O=C.props.onMouseLeave;Un(O)&&O(N,T)}),hn(C,"handleOuterEvent",function(T){var N=E8e(T),O=tc(C.props,"".concat(N));if(N&&Un(O)){var U,R;/.*touch.*/i.test(N)?R=C.getMouseInfo(T.changedTouches[0]):R=C.getMouseInfo(T),O((U=R)!==null&&U!==void 0?U:{},T)}}),hn(C,"handleClick",function(T){var N=C.getMouseInfo(T);if(N){var O=Ge(Ge({},N),{},{isTooltipActive:!0});C.setState(O),C.triggerSyncEvent(O);var U=C.props.onClick;Un(U)&&U(O,T)}}),hn(C,"handleMouseDown",function(T){var N=C.props.onMouseDown;if(Un(N)){var O=C.getMouseInfo(T);N(O,T)}}),hn(C,"handleMouseUp",function(T){var N=C.props.onMouseUp;if(Un(N)){var O=C.getMouseInfo(T);N(O,T)}}),hn(C,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),hn(C,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&C.handleMouseDown(T.changedTouches[0])}),hn(C,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&C.handleMouseUp(T.changedTouches[0])}),hn(C,"handleDoubleClick",function(T){var N=C.props.onDoubleClick;if(Un(N)){var O=C.getMouseInfo(T);N(O,T)}}),hn(C,"handleContextMenu",function(T){var N=C.props.onContextMenu;if(Un(N)){var O=C.getMouseInfo(T);N(O,T)}}),hn(C,"triggerSyncEvent",function(T){C.props.syncId!==void 0&&wL.emit(_L,C.props.syncId,T,C.eventEmitterSymbol)}),hn(C,"applySyncEvent",function(T){var N=C.props,O=N.layout,U=N.syncMethod,R=C.state.updateId,I=T.dataStartIndex,B=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)C.setState(Ge({dataStartIndex:I,dataEndIndex:B},p({props:C.props,dataStartIndex:I,dataEndIndex:B,updateId:R},C.state)));else if(T.activeTooltipIndex!==void 0){var G=T.chartX,K=T.chartY,Q=T.activeTooltipIndex,q=C.state,ie=q.offset,V=q.tooltipTicks;if(!ie)return;if(typeof U=="function")Q=U(V,T);else if(U==="value"){Q=-1;for(var X=0;X<V.length;X++)if(V[X].value===T.activeLabel){Q=X;break}}var z=Ge(Ge({},ie),{},{x:ie.left,y:ie.top}),oe=Math.min(G,z.x+z.width),de=Math.min(K,z.y+z.height),Y=V[Q]&&V[Q].value,he=PF(C.state,C.props.data,Q),Ce=V[Q]?{x:O==="horizontal"?V[Q].coordinate:oe,y:O==="horizontal"?de:V[Q].coordinate}:_ue;C.setState(Ge(Ge({},T),{},{activeLabel:Y,activeCoordinate:Ce,activePayload:he,activeTooltipIndex:Q}))}else C.setState(T)}),hn(C,"renderCursor",function(T){var N,O=C.state,U=O.isTooltipActive,R=O.activeCoordinate,I=O.activePayload,B=O.offset,G=O.activeTooltipIndex,K=O.tooltipAxisBandSize,Q=C.getTooltipEventType(),q=(N=T.props.active)!==null&&N!==void 0?N:U,ie=C.props.layout,V=T.key||"_recharts-cursor";return ne.createElement(Qut,{key:V,activeCoordinate:R,activePayload:I,activeTooltipIndex:G,chartName:n,element:T,isActive:q,layout:ie,offset:B,tooltipAxisBandSize:K,tooltipEventType:Q})}),hn(C,"renderPolarAxis",function(T,N,O){var U=tc(T,"type.axisType"),R=tc(C.state,"".concat(U,"Map")),I=T.type.defaultProps,B=I!==void 0?Ge(Ge({},I),T.props):T.props,G=R&&R[B["".concat(U,"Id")]];return j.cloneElement(T,Ge(Ge({},G),{},{className:nr(U,G.className),key:T.key||"".concat(N,"-").concat(O),ticks:Kd(G,!0)}))}),hn(C,"renderPolarGrid",function(T){var N=T.props,O=N.radialLines,U=N.polarAngles,R=N.polarRadius,I=C.state,B=I.radiusAxisMap,G=I.angleAxisMap,K=Lh(B),Q=Lh(G),q=Q.cx,ie=Q.cy,V=Q.innerRadius,X=Q.outerRadius;return j.cloneElement(T,{polarAngles:Array.isArray(U)?U:Kd(Q,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(R)?R:Kd(K,!0).map(function(z){return z.coordinate}),cx:q,cy:ie,innerRadius:V,outerRadius:X,key:T.key||"polar-grid",radialLines:O})}),hn(C,"renderLegend",function(){var T=C.state.formattedGraphicalItems,N=C.props,O=N.children,U=N.width,R=N.height,I=C.props.margin||{},B=U-(I.left||0)-(I.right||0),G=dce({children:O,formattedGraphicalItems:T,legendWidth:B,legendContent:u});if(!G)return null;var K=G.item,Q=dK(G,Jut);return j.cloneElement(K,Ge(Ge({},Q),{},{chartWidth:U,chartHeight:R,margin:I,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),hn(C,"renderTooltip",function(){var T,N=C.props,O=N.children,U=N.accessibilityLayer,R=tl(O,Cu);if(!R)return null;var I=C.state,B=I.isTooltipActive,G=I.activeCoordinate,K=I.activePayload,Q=I.activeLabel,q=I.offset,ie=(T=R.props.active)!==null&&T!==void 0?T:B;return j.cloneElement(R,{viewBox:Ge(Ge({},q),{},{x:q.left,y:q.top}),active:ie,label:Q,payload:ie?K:[],coordinate:G,accessibilityLayer:U})}),hn(C,"renderBrush",function(T){var N=C.props,O=N.margin,U=N.data,R=C.state,I=R.offset,B=R.dataStartIndex,G=R.dataEndIndex,K=R.updateId;return j.cloneElement(T,{key:T.key||"_recharts-brush",onChange:nC(C.handleBrushChange,T.props.onChange),data:U,x:pt(T.props.x)?T.props.x:I.left,y:pt(T.props.y)?T.props.y:I.top+I.height+I.brushBottom-(O.bottom||0),width:pt(T.props.width)?T.props.width:I.width,startIndex:B,endIndex:G,updateId:"brush-".concat(K)})}),hn(C,"renderReferenceElement",function(T,N,O){if(!T)return null;var U=C,R=U.clipPathId,I=C.state,B=I.xAxisMap,G=I.yAxisMap,K=I.offset,Q=T.type.defaultProps||{},q=T.props,ie=q.xAxisId,V=ie===void 0?Q.xAxisId:ie,X=q.yAxisId,z=X===void 0?Q.yAxisId:X;return j.cloneElement(T,{key:T.key||"".concat(N,"-").concat(O),xAxis:B[V],yAxis:G[z],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:R})}),hn(C,"renderActivePoints",function(T){var N=T.item,O=T.activePoint,U=T.basePoint,R=T.childIndex,I=T.isRange,B=[],G=N.props.key,K=N.item.type.defaultProps!==void 0?Ge(Ge({},N.item.type.defaultProps),N.item.props):N.item.props,Q=K.activeDot,q=K.dataKey,ie=Ge(Ge({index:R,dataKey:q,cx:O.x,cy:O.y,r:4,fill:Bz(N.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Gn(Q,!1)),SP(Q));return B.push(x.renderActiveDot(Q,ie,"".concat(G,"-activePoint-").concat(R))),U?B.push(x.renderActiveDot(Q,Ge(Ge({},ie),{},{cx:U.x,cy:U.y}),"".concat(G,"-basePoint-").concat(R))):I&&B.push(null),B}),hn(C,"renderGraphicChild",function(T,N,O){var U=C.filterFormatItem(T,N,O);if(!U)return null;var R=C.getTooltipEventType(),I=C.state,B=I.isTooltipActive,G=I.tooltipAxis,K=I.activeTooltipIndex,Q=I.activeLabel,q=C.props.children,ie=tl(q,Cu),V=U.props,X=V.points,z=V.isRange,oe=V.baseLine,de=U.item.type.defaultProps!==void 0?Ge(Ge({},U.item.type.defaultProps),U.item.props):U.item.props,Y=de.activeDot,he=de.hide,Ce=de.activeBar,Ie=de.activeShape,Ee=!!(!he&&B&&ie&&(Y||Ce||Ie)),Je={};R!=="axis"&&ie&&ie.props.trigger==="click"?Je={onClick:nC(C.handleItemMouseEnter,T.props.onClick)}:R!=="axis"&&(Je={onMouseLeave:nC(C.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:nC(C.handleItemMouseEnter,T.props.onMouseEnter)});var Ne=j.cloneElement(T,Ge(Ge({},U.props),Je));function Ue(re){return typeof G.dataKey=="function"?G.dataKey(re.payload):null}if(Ee)if(K>=0){var Fe,le;if(G.dataKey&&!G.allowDuplicatedCategory){var J=typeof G.dataKey=="function"?Ue:"payload.".concat(G.dataKey.toString());Fe=_P(X,J,Q),le=z&&oe&&_P(oe,J,Q)}else Fe=X==null?void 0:X[K],le=z&&oe&&oe[K];if(Ie||Ce){var Le=T.props.activeIndex!==void 0?T.props.activeIndex:K;return[j.cloneElement(T,Ge(Ge(Ge({},U.props),Je),{},{activeIndex:Le})),null,null]}if(!Qn(Fe))return[Ne].concat(ib(C.renderActivePoints({item:U,activePoint:Fe,basePoint:le,childIndex:K,isRange:z})))}else{var qe,We=(qe=C.getItemByXY(C.state.activeCoordinate))!==null&&qe!==void 0?qe:{graphicalItem:Ne},Ke=We.graphicalItem,yt=Ke.item,ct=yt===void 0?T:yt,$=Ke.childIndex,F=Ge(Ge(Ge({},U.props),Je),{},{activeIndex:$});return[j.cloneElement(ct,F),null,null]}return z?[Ne,null,null]:[Ne,null]}),hn(C,"renderCustomized",function(T,N,O){return j.cloneElement(T,Ge(Ge({key:"recharts-customized-".concat(O)},C.props),C.state))}),hn(C,"renderMap",{CartesianGrid:{handler:oC,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:oC},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:oC},YAxis:{handler:oC},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:Fb("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=ule(C.triggeredAfterMouseMove,(A=_.throttleDelay)!==null&&A!==void 0?A:1e3/60),C.state={},C}return ddt(x,w),odt(x,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,C=S.data,T=S.height,N=S.layout,O=tl(A,Cu);if(O){var U=O.props.defaultIndex;if(!(typeof U!="number"||U<0||U>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[U]&&this.state.tooltipTicks[U].value,I=PF(this.state,C,U,R),B=this.state.tooltipTicks[U].coordinate,G=(this.state.offset.top+T)/2,K=N==="horizontal",Q=K?{x:B,y:G}:{y:B,x:G},q=this.state.formattedGraphicalItems.find(function(V){var X=V.item;return X.type.name==="Scatter"});q&&(Q=Ge(Ge({},Q),q.props.points[U].tooltipPosition),I=q.props.points[U].tooltipPayload);var ie={activeTooltipIndex:U,isTooltipActive:!0,activeLabel:R,activePayload:I,activeCoordinate:Q};this.setState(ie),this.renderCursor(O),this.accessibilityManager.setIndex(U)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var C,T;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(S){l4([tl(S.children,Cu)],[tl(this.props.children,Cu)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=tl(this.props.children,Cu);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return o.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,C=A.getBoundingClientRect(),T=QZe(C),N={chartX:Math.round(S.pageX-T.left),chartY:Math.round(S.pageY-T.top)},O=C.width/A.offsetWidth||1,U=this.inRange(N.chartX,N.chartY,O);if(!U)return null;var R=this.state,I=R.xAxisMap,B=R.yAxisMap,G=this.getTooltipEventType(),K=hK(this.state,this.props.data,this.props.layout,U);if(G!=="axis"&&I&&B){var Q=Lh(I).scale,q=Lh(B).scale,ie=Q&&Q.invert?Q.invert(N.chartX):null,V=q&&q.invert?q.invert(N.chartY):null;return Ge(Ge({},N),{},{xValue:ie,yValue:V},K)}return K?Ge(Ge({},N),K):null}},{key:"inRange",value:function(S,A){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,N=S/C,O=A/C;if(T==="horizontal"||T==="vertical"){var U=this.state.offset,R=N>=U.left&&N<=U.left+U.width&&O>=U.top&&O<=U.top+U.height;return R?{x:N,y:O}:null}var I=this.state,B=I.angleAxisMap,G=I.radiusAxisMap;if(B&&G){var K=Lh(B);return Gq({x:N,y:O},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),C=tl(S,Cu),T={};C&&A==="axis"&&(C.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=SP(this.props,this.handleOuterEvent);return Ge(Ge({},N),T)}},{key:"addListener",value:function(){wL.on(_L,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wL.removeListener(_L,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,C){for(var T=this.state.formattedGraphicalItems,N=0,O=T.length;N<O;N++){var U=T[N];if(U.item===S||U.props.key===S.key||A===Jd(U.item.type)&&C===U.childIndex)return U}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,C=A.left,T=A.top,N=A.height,O=A.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:S},ne.createElement("rect",{x:C,y:T,height:N,width:O})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,C){var T=uK(C,2),N=T[0],O=T[1];return Ge(Ge({},A),{},hn({},N,O.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,C){var T=uK(C,2),N=T[0],O=T[1];return Ge(Ge({},A),{},hn({},N,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,C=A.formattedGraphicalItems,T=A.activeItem;if(C&&C.length)for(var N=0,O=C.length;N<O;N++){var U=C[N],R=U.props,I=U.item,B=I.type.defaultProps!==void 0?Ge(Ge({},I.type.defaultProps),I.props):I.props,G=Jd(I.type);if(G==="Bar"){var K=(R.data||[]).find(function(V){return kst(S,V)});if(K)return{graphicalItem:U,payload:K}}else if(G==="RadialBar"){var Q=(R.data||[]).find(function(V){return Gq(S,V)});if(Q)return{graphicalItem:U,payload:Q}}else if(Lk(U,T)||Dk(U,T)||rE(U,T)){var q=Iat({graphicalItem:U,activeTooltipItem:T,itemData:B.data}),ie=B.activeIndex===void 0?q:B.activeIndex;return{graphicalItem:Ge(Ge({},U),{},{childIndex:ie}),payload:rE(U,T)?B.data[q]:U.props.data[q]}}}return null}},{key:"render",value:function(){var S=this;if(!DG(this))return null;var A=this.props,C=A.children,T=A.className,N=A.width,O=A.height,U=A.style,R=A.compact,I=A.title,B=A.desc,G=dK(A,edt),K=Gn(G,!1);if(R)return ne.createElement(HX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(u4,kx({},K,{width:N,height:O,title:I,desc:B}),this.renderClipPath(),UG(C,this.renderMap)));if(this.props.accessibilityLayer){var Q,q;K.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,K.role=(q=this.props.role)!==null&&q!==void 0?q:"application",K.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},K.onFocus=function(){S.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return ne.createElement(HX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",kx({className:nr("recharts-wrapper",T),style:Ge({position:"relative",cursor:"default",width:N,height:O},U)},ie,{ref:function(X){S.container=X}}),ne.createElement(u4,kx({},K,{width:N,height:O,title:I,desc:B,style:ydt}),this.renderClipPath(),UG(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);hn(g,"displayName",n),hn(g,"defaultProps",Ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),hn(g,"getDerivedStateFromProps",function(w,x){var _=w.dataKey,S=w.data,A=w.children,C=w.width,T=w.height,N=w.layout,O=w.stackOffset,U=w.margin,R=x.dataStartIndex,I=x.dataEndIndex;if(x.updateId===void 0){var B=pK(w);return Ge(Ge(Ge({},B),{},{updateId:0},p(Ge(Ge({props:w},B),{},{updateId:0}),x)),{},{prevDataKey:_,prevData:S,prevWidth:C,prevHeight:T,prevLayout:N,prevStackOffset:O,prevMargin:U,prevChildren:A})}if(_!==x.prevDataKey||S!==x.prevData||C!==x.prevWidth||T!==x.prevHeight||N!==x.prevLayout||O!==x.prevStackOffset||!Kx(U,x.prevMargin)){var G=pK(w),K={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},Q=Ge(Ge({},hK(x,S,N)),{},{updateId:x.updateId+1}),q=Ge(Ge(Ge({},G),K),Q);return Ge(Ge(Ge({},q),p(Ge({props:w},q),x)),{},{prevDataKey:_,prevData:S,prevWidth:C,prevHeight:T,prevLayout:N,prevStackOffset:O,prevMargin:U,prevChildren:A})}if(!l4(A,x.prevChildren)){var ie,V,X,z,oe=tl(A,q0),de=oe&&(ie=(V=oe.props)===null||V===void 0?void 0:V.startIndex)!==null&&ie!==void 0?ie:R,Y=oe&&(X=(z=oe.props)===null||z===void 0?void 0:z.endIndex)!==null&&X!==void 0?X:I,he=de!==R||Y!==I,Ce=!Qn(S),Ie=Ce&&!he?x.updateId:x.updateId+1;return Ge(Ge({updateId:Ie},p(Ge(Ge({props:w},x),{},{updateId:Ie,dataStartIndex:de,dataEndIndex:Y}),x)),{},{prevChildren:A,dataStartIndex:de,dataEndIndex:Y})}return null}),hn(g,"renderActiveDot",function(w,x,_){var S;return j.isValidElement(w)?S=j.cloneElement(w,x):Un(w)?S=w(x):S=ne.createElement(Ik,x),ne.createElement(si,{className:"recharts-active-dot",key:_},S)});var v=j.forwardRef(function(x,_){return ne.createElement(g,kx({},x,{ref:_}))});return v.displayName=g.displayName,v},Mdt=Qz({chartName:"LineChart",GraphicalChild:sA,axisComponents:[{axisType:"xAxis",AxisComp:Gb},{axisType:"yAxis",AxisComp:qb}],formatAxisMap:$z}),Cdt=Qz({chartName:"BarChart",GraphicalChild:ky,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Gb},{axisType:"yAxis",AxisComp:qb}],formatAxisMap:$z}),Ndt=Qz({chartName:"AreaChart",GraphicalChild:Vp,axisComponents:[{axisType:"xAxis",AxisComp:Gb},{axisType:"yAxis",AxisComp:qb}],formatAxisMap:$z});function Pdt({title:t,description:e,data:n,series:r,type:i="line",height:s=300,showLegend:a=!0,yAxisLabel:o}){const c=()=>{const u={data:n,margin:{top:5,right:20,left:0,bottom:5}},d=l.jsxs(l.Fragment,{children:[l.jsx(rue,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Gb,{dataKey:"name",tick:{fontSize:12},tickLine:!1,axisLine:!1}),l.jsx(qb,{tick:{fontSize:12},tickLine:!1,axisLine:!1,label:o?{value:o,angle:-90,position:"insideLeft"}:void 0}),l.jsx(Cu,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a&&l.jsx(Bg,{})]});switch(i){case"area":return l.jsxs(Ndt,{...u,children:[d,r.map(f=>l.jsx(Vp,{type:"monotone",dataKey:f.dataKey,name:f.name,stroke:f.color,fill:f.color,fillOpacity:.2,strokeWidth:2},f.dataKey))]});case"bar":return l.jsxs(Cdt,{...u,children:[d,r.map(f=>l.jsx(ky,{dataKey:f.dataKey,name:f.name,fill:f.color,radius:[4,4,0,0]},f.dataKey))]});case"line":default:return l.jsxs(Mdt,{...u,children:[d,r.map(f=>l.jsx(sA,{type:"monotone",dataKey:f.dataKey,name:f.name,stroke:f.color,strokeWidth:2,dot:{r:4},activeDot:{r:6}},f.dataKey))]})}};return l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsx(Nr,{children:t}),e&&l.jsx(Gr,{children:e})]}),l.jsx(bn,{children:l.jsx(WZe,{width:"100%",height:s,children:c()})})]})}const Eue=j.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:at("w-full caption-bottom text-sm",t),...e})}));Eue.displayName="Table";const Aue=j.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:at("[&_tr]:border-b",t),...e}));Aue.displayName="TableHeader";const Tue=j.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:at("[&_tr:last-child]:border-0",t),...e}));Tue.displayName="TableBody";const jdt=j.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:at("border-t bg-gray-100/50 font-medium [&>tr]:last:border-b-0",t),...e}));jdt.displayName="TableFooter";const DC=j.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:at("border-b transition-colors hover:bg-gray-100/50 data-[state=selected]:bg-gray-100",t),...e}));DC.displayName="TableRow";const Ym=j.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:at("h-12 px-4 text-left align-middle font-medium text-gray-500 [&:has([role=checkbox])]:pr-0",t),...e}));Ym.displayName="TableHead";const Ah=j.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:at("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ah.displayName="TableCell";const kdt=j.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:at("mt-4 text-sm text-gray-500",t),...e}));kdt.displayName="TableCaption";function Odt({leads:t,onLeadClick:e}){const[n,r]=j.useState("created_at"),[i,s]=j.useState("desc"),a=f=>{n===f?s(i==="asc"?"desc":"asc"):(r(f),s("desc"))},o=[...t].sort((f,h)=>{let p=0;switch(n){case"created_at":p=new Date(f.created_at).getTime()-new Date(h.created_at).getTime();break;case"name":p=f.name.localeCompare(h.name);break;case"lead_type":p=f.lead_type.localeCompare(h.lead_type);break;case"status":p=f.status.localeCompare(h.status);break}return i==="asc"?p:-p}),c=({field:f})=>n!==f?null:i==="asc"?l.jsx(FJ,{className:"inline w-4 h-4 ml-1"}):l.jsx(W2,{className:"inline w-4 h-4 ml-1"}),u=f=>{switch(f){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"qualified":return"bg-green-100 text-green-800";case"converted":return"bg-purple-100 text-purple-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=f=>{switch(f){case"buyer":return"Buyer";case"seller":return"Seller";case"valuation":return"Valuation";case"contact":return"Contact";default:return f}};return l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsx(Nr,{children:"Recent Leads"}),l.jsxs(Gr,{children:["Your latest lead submissions (",t.length," total)"]})]}),l.jsx(bn,{children:l.jsx("div",{className:"rounded-md border",children:l.jsxs(Eue,{children:[l.jsx(Aue,{children:l.jsxs(DC,{children:[l.jsx(Ym,{children:l.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>a("name"),className:"hover:bg-transparent",children:[l.jsx(Qg,{className:"w-4 h-4 mr-2"}),"Name",l.jsx(c,{field:"name"})]})}),l.jsx(Ym,{children:"Contact"}),l.jsx(Ym,{children:l.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>a("lead_type"),className:"hover:bg-transparent",children:["Type",l.jsx(c,{field:"lead_type"})]})}),l.jsx(Ym,{children:l.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>a("status"),className:"hover:bg-transparent",children:["Status",l.jsx(c,{field:"status"})]})}),l.jsx(Ym,{children:l.jsxs(Ve,{variant:"ghost",size:"sm",onClick:()=>a("created_at"),className:"hover:bg-transparent",children:["Date",l.jsx(c,{field:"created_at"})]})}),l.jsx(Ym,{className:"text-right",children:"Actions"})]})}),l.jsx(Tue,{children:o.length===0?l.jsx(DC,{children:l.jsx(Ah,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No leads yet. They'll appear here when visitors submit forms."})}):o.map(f=>l.jsxs(DC,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>e==null?void 0:e(f),children:[l.jsx(Ah,{className:"font-medium",children:f.name}),l.jsx(Ah,{children:l.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[l.jsxs("a",{href:`mailto:${f.email}`,className:"flex items-center text-blue-600 hover:underline",onClick:h=>h.stopPropagation(),children:[l.jsx(yi,{className:"w-3 h-3 mr-1"}),f.email]}),f.phone&&l.jsxs("a",{href:`tel:${f.phone}`,className:"flex items-center text-blue-600 hover:underline",onClick:h=>h.stopPropagation(),children:[l.jsx(No,{className:"w-3 h-3 mr-1"}),f.phone]})]})}),l.jsx(Ah,{children:l.jsx(rn,{variant:"outline",children:d(f.lead_type)})}),l.jsx(Ah,{children:l.jsx(rn,{className:u(f.status),children:f.status})}),l.jsx(Ah,{className:"text-sm text-muted-foreground",children:Nte(f.created_at)}),l.jsx(Ah,{className:"text-right",children:l.jsx(Ve,{variant:"ghost",size:"sm",onClick:h=>{h.stopPropagation(),e==null||e(f)},children:"View"})})]},f.id))})]})})})]})}function Rdt(){const[t,e]=j.useState("30d"),{stats:n,viewsData:r,leadsData:i,recentLeads:s,isLoading:a}=Fse();return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Analytics"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your profile performance and lead generation metrics"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Ve,{variant:"outline",size:"sm",children:[l.jsx(to,{className:"w-4 h-4 mr-2"}),t==="7d"?"Last 7 days":t==="30d"?"Last 30 days":"Last 90 days"]}),l.jsxs(Ve,{variant:"outline",size:"sm",children:[l.jsx(_E,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(qM,{title:"Total Views",value:n.totalViews.toLocaleString(),icon:Za,iconColor:"text-blue-600",iconBgColor:"bg-blue-100"}),l.jsx(qM,{title:"Unique Visitors",value:n.uniqueVisitors.toLocaleString(),icon:cf,iconColor:"text-green-600",iconBgColor:"bg-green-100"}),l.jsx(qM,{title:"Total Leads",value:n.totalLeads,icon:y1e,iconColor:"text-purple-600",iconBgColor:"bg-purple-100"}),l.jsx(qM,{title:"Conversion Rate",value:`${n.conversionRate}%`,icon:fi,iconColor:"text-orange-600",iconBgColor:"bg-orange-100"})]}),l.jsx(Pdt,{title:"Profile Views",description:"Views and unique visitors over time",data:r.length>0?r:[{name:"No data",views:0,visitors:0}],series:[{dataKey:"views",name:"Total Views",color:"#3B82F6"},{dataKey:"visitors",name:"Unique Visitors",color:"#10B981"}],type:"area",height:300}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsx(Nr,{children:"Leads by Type"}),l.jsx(Gr,{children:"Distribution of lead inquiries"})]}),l.jsx(bn,{children:i.length>0?l.jsx("div",{className:"space-y-3",children:i.map(o=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),l.jsx("span",{className:"text-sm font-medium",children:o.name})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"text-sm text-muted-foreground",children:[o.value," leads"]}),l.jsxs("span",{className:"text-sm font-semibold",children:[n.totalLeads>0?(o.value/n.totalLeads*100).toFixed(0):0,"%"]})]})]},o.name))}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No leads yet"})})]}),l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsx(Nr,{children:"Recent Activity"}),l.jsx(Gr,{children:"Latest profile interactions"})]}),l.jsx(bn,{children:l.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:n.totalViews>0?`${n.totalViews} profile views`:"No activity yet"})})]})]}),l.jsx(Odt,{leads:s,onLeadClick:o=>console.log("Lead clicked:",o)})]})}function Idt(){const{user:t}=la(),e=vl(),{data:n,isLoading:r}=Ir({queryKey:["settings",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{data:s,error:a}=await Xe.from("user_settings").select("*").eq("user_id",t.id).maybeSingle();if(a&&a.code!=="PGRST116")throw a;if(!s){const{data:o,error:c}=await Xe.from("user_settings").insert({user_id:t.id,email_leads:!0,sms_leads:!1,weekly_report:!0,marketing_emails:!1,show_listings:!0,show_sold_properties:!0,show_testimonials:!0,show_social_proof:!0,show_contact_buttons:!0}).select().single();if(c)throw c;return o}return s},enabled:!!(t!=null&&t.id)}),i=Yn({mutationFn:async s=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{data:a,error:o}=await Xe.from("user_settings").update(s).eq("user_id",t.id).select().single();if(o)throw o;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["settings",t==null?void 0:t.id]})}});return{settings:n,isLoading:r,updateSettings:i}}const Ldt=["damn","hell","crap","shit","fuck","ass","bitch","bastard","dick","cock","pussy","slut","whore","fag","nigger","chink"],Ddt=["admin","administrator","root","support","help","api","www","mail","smtp","ftp","blog","dev","test","staging","prod","dashboard","settings","profile","login","logout","signup","register","auth","pricing","about","contact","terms","privacy","agentbio","agent","bio","realtor","realestate"],Fdt=t=>{const e=t.toLowerCase();return Ldt.some(n=>e.includes(n))},Udt=t=>Ddt.includes(t.toLowerCase()),Bdt=Wn().min(3,"Username must be at least 3 characters").max(30,"Username must be less than 30 characters").regex(/^[a-zA-Z0-9_-]+$/,"Username can only contain letters, numbers, hyphens, and underscores").refine(t=>!Fdt(t),"Username contains inappropriate language").refine(t=>!Udt(t),"This username is reserved"),zdt=t=>{try{return Bdt.parse(t),{valid:!0}}catch(e){return e instanceof Ju?{valid:!1,error:e.errors[0].message}:{valid:!1,error:"Invalid username"}}};var S2={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */S2.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",o="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,h=2,p=4,g=1,v=2,w=1,x=2,_=4,S=8,A=16,C=32,T=64,N=128,O=256,U=512,R=30,I="...",B=800,G=16,K=1,Q=2,q=3,ie=1/0,V=9007199254740991,X=17976931348623157e292,z=NaN,oe=4294967295,de=oe-1,Y=oe>>>1,he=[["ary",N],["bind",w],["bindKey",x],["curry",S],["curryRight",A],["flip",U],["partial",C],["partialRight",T],["rearg",O]],Ce="[object Arguments]",Ie="[object Array]",Ee="[object AsyncFunction]",Je="[object Boolean]",Ne="[object Date]",Ue="[object DOMException]",Fe="[object Error]",le="[object Function]",J="[object GeneratorFunction]",Le="[object Map]",qe="[object Number]",We="[object Null]",Ke="[object Object]",yt="[object Promise]",ct="[object Proxy]",$="[object RegExp]",F="[object Set]",re="[object String]",ye="[object Symbol]",be="[object Undefined]",pe="[object WeakMap]",ce="[object WeakSet]",xe="[object ArrayBuffer]",ke="[object DataView]",ut="[object Float32Array]",$e="[object Float64Array]",st="[object Int8Array]",Ut="[object Int16Array]",Pt="[object Int32Array]",mt="[object Uint8Array]",ln="[object Uint8ClampedArray]",Tt="[object Uint16Array]",Cn="[object Uint32Array]",ve=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,Be=/(__e\(.*?\)|\b__t\)) \+\n'';/g,et=/&(?:amp|lt|gt|quot|#39);/g,vt=/[&<>"']/g,gt=RegExp(et.source),qn=RegExp(vt.source),jt=/<%-([\s\S]+?)%>/g,yn=/<%([\s\S]+?)%>/g,zt=/<%=([\s\S]+?)%>/g,_r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kr=/^\w*$/,Ca=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ca=/[\\^$.*+?()[\]{}|]/g,vi=RegExp(ca.source),fs=/^\s+/,Pf=/\s/,Ry=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Sl=/\{\n\/\* \[wrapped with (.+)\] \*/,Iy=/,? & /,jf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ly=/[()=,{}\[\]\/\s]/,Dy=/\\(\\)?/g,Xb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fy=/\w*$/,Kb=/^[-+]0x[0-9a-f]+$/i,ee=/^0b[01]+$/i,_e=/^\[object .+?Constructor\]$/,je=/^0o[0-7]+$/i,Oe=/^(?:0|[1-9]\d*)$/,Te=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dt=/($^)/,Et=/['\n\r\u2028\u2029\\]/g,Ct="\\ud800-\\udfff",Ot="\\u0300-\\u036f",tn="\\ufe20-\\ufe2f",sn="\\u20d0-\\u20ff",Vt=Ot+tn+sn,ir="\\u2700-\\u27bf",ar="a-z\\xdf-\\xf6\\xf8-\\xff",dr="\\xac\\xb1\\xd7\\xf7",Bn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yt="\\u2000-\\u206f",It=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",er="A-Z\\xc0-\\xd6\\xd8-\\xde",mn="\\ufe0e\\ufe0f",Ci=dr+Bn+Yt+It,Zs="[']",Er="["+Ct+"]",dc="["+Ci+"]",kr="["+Vt+"]",ro="\\d+",ou="["+ir+"]",Ns="["+ar+"]",Ps="[^"+Ct+Ci+ro+ir+ar+er+"]",Hp="\\ud83c[\\udffb-\\udfff]",Uy="(?:"+kr+"|"+Hp+")",aA="[^"+Ct+"]",kf="(?:\\ud83c[\\udde6-\\uddff]){2}",Of="[\\ud800-\\udbff][\\udc00-\\udfff]",El="["+er+"]",Wp="\\u200d",oA="(?:"+Ns+"|"+Ps+")",Wk="(?:"+El+"|"+Ps+")",By="(?:"+Zs+"(?:d|ll|m|re|s|t|ve))?",zy="(?:"+Zs+"(?:D|LL|M|RE|S|T|VE))?",Rf=Uy+"?",lA="["+mn+"]?",Yb="(?:"+Wp+"(?:"+[aA,kf,Of].join("|")+")"+lA+Rf+")*",ur="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",cA="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$y=lA+Rf+Yb,uA="(?:"+[ou,kf,Of].join("|")+")"+$y,Gk="(?:"+[aA+kr+"?",kr,kf,Of,Er].join("|")+")",qk=RegExp(Zs,"g"),Zi=RegExp(kr,"g"),Gp=RegExp(Hp+"(?="+Hp+")|"+Gk+$y,"g"),Xk=RegExp([El+"?"+Ns+"+"+By+"(?="+[dc,El,"$"].join("|")+")",Wk+"+"+zy+"(?="+[dc,El+oA,"$"].join("|")+")",El+"?"+oA+"+"+By,El+"+"+zy,cA,ur,ro,uA].join("|"),"g"),Zb=RegExp("["+Wp+Ct+Vt+mn+"]"),Kk=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Al=-1,Br={};Br[ut]=Br[$e]=Br[st]=Br[Ut]=Br[Pt]=Br[mt]=Br[ln]=Br[Tt]=Br[Cn]=!0,Br[Ce]=Br[Ie]=Br[xe]=Br[Je]=Br[ke]=Br[Ne]=Br[Fe]=Br[le]=Br[Le]=Br[qe]=Br[Ke]=Br[$]=Br[F]=Br[re]=Br[pe]=!1;var Dr={};Dr[Ce]=Dr[Ie]=Dr[xe]=Dr[ke]=Dr[Je]=Dr[Ne]=Dr[ut]=Dr[$e]=Dr[st]=Dr[Ut]=Dr[Pt]=Dr[Le]=Dr[qe]=Dr[Ke]=Dr[$]=Dr[F]=Dr[re]=Dr[ye]=Dr[mt]=Dr[ln]=Dr[Tt]=Dr[Cn]=!0,Dr[Fe]=Dr[le]=Dr[pe]=!1;var Tl={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},fc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dA=parseFloat,Yk=parseInt,Ro=typeof rl=="object"&&rl&&rl.Object===Object&&rl,Zk=typeof self=="object"&&self&&self.Object===Object&&self,Ni=Ro||Zk||Function("return this")(),Jb=e&&!e.nodeType&&e,hs=Jb&&!0&&t&&!t.nodeType&&t,qp=hs&&hs.exports===Jb,If=qp&&Ro.process,ps=function(){try{var ge=hs&&hs.require&&hs.require("util").types;return ge||If&&If.binding&&If.binding("util")}catch{}}(),Wy=ps&&ps.isArrayBuffer,Gy=ps&&ps.isDate,ew=ps&&ps.isMap,qy=ps&&ps.isRegExp,Xy=ps&&ps.isSet,cd=ps&&ps.isTypedArray;function Yr(ge,He,Re){switch(Re.length){case 0:return ge.call(He);case 1:return ge.call(He,Re[0]);case 2:return ge.call(He,Re[0],Re[1]);case 3:return ge.call(He,Re[0],Re[1],Re[2])}return ge.apply(He,Re)}function Ml(ge,He,Re,Mt){for(var pn=-1,Nn=ge==null?0:ge.length;++pn<Nn;){var Zr=ge[pn];He(Mt,Zr,Re(Zr),ge)}return Mt}function Bi(ge,He){for(var Re=-1,Mt=ge==null?0:ge.length;++Re<Mt&&He(ge[Re],Re,ge)!==!1;);return ge}function tw(ge,He){for(var Re=ge==null?0:ge.length;Re--&&He(ge[Re],Re,ge)!==!1;);return ge}function nw(ge,He){for(var Re=-1,Mt=ge==null?0:ge.length;++Re<Mt;)if(!He(ge[Re],Re,ge))return!1;return!0}function js(ge,He){for(var Re=-1,Mt=ge==null?0:ge.length,pn=0,Nn=[];++Re<Mt;){var Zr=ge[Re];He(Zr,Re,ge)&&(Nn[pn++]=Zr)}return Nn}function Io(ge,He){var Re=ge==null?0:ge.length;return!!Re&&Do(ge,He,0)>-1}function Lf(ge,He,Re){for(var Mt=-1,pn=ge==null?0:ge.length;++Mt<pn;)if(Re(He,ge[Mt]))return!0;return!1}function zr(ge,He){for(var Re=-1,Mt=ge==null?0:ge.length,pn=Array(Mt);++Re<Mt;)pn[Re]=He(ge[Re],Re,ge);return pn}function Lo(ge,He){for(var Re=-1,Mt=He.length,pn=ge.length;++Re<Mt;)ge[pn+Re]=He[Re];return ge}function Ky(ge,He,Re,Mt){var pn=-1,Nn=ge==null?0:ge.length;for(Mt&&Nn&&(Re=ge[++pn]);++pn<Nn;)Re=He(Re,ge[pn],pn,ge);return Re}function fA(ge,He,Re,Mt){var pn=ge==null?0:ge.length;for(Mt&&pn&&(Re=ge[--pn]);pn--;)Re=He(Re,ge[pn],pn,ge);return Re}function Xp(ge,He){for(var Re=-1,Mt=ge==null?0:ge.length;++Re<Mt;)if(He(ge[Re],Re,ge))return!0;return!1}var Yy=ua("length");function hA(ge){return ge.split("")}function pA(ge){return ge.match(jf)||[]}function rw(ge,He,Re){var Mt;return Re(ge,function(pn,Nn,Zr){if(He(pn,Nn,Zr))return Mt=Nn,!1}),Mt}function Df(ge,He,Re,Mt){for(var pn=ge.length,Nn=Re+(Mt?1:-1);Mt?Nn--:++Nn<pn;)if(He(ge[Nn],Nn,ge))return Nn;return-1}function Do(ge,He,Re){return He===He?$f(ge,He,Re):Df(ge,Kp,Re)}function Ff(ge,He,Re,Mt){for(var pn=Re-1,Nn=ge.length;++pn<Nn;)if(Mt(ge[pn],He))return pn;return-1}function Kp(ge){return ge!==ge}function Yp(ge,He){var Re=ge==null?0:ge.length;return Re?Fo(ge,He)/Re:z}function ua(ge){return function(He){return He==null?n:He[ge]}}function da(ge){return function(He){return ge==null?n:ge[He]}}function lu(ge,He,Re,Mt,pn){return pn(ge,function(Nn,Zr,un){Re=Mt?(Mt=!1,Nn):He(Re,Nn,Zr,un)}),Re}function hc(ge,He){var Re=ge.length;for(ge.sort(He);Re--;)ge[Re]=ge[Re].value;return ge}function Fo(ge,He){for(var Re,Mt=-1,pn=ge.length;++Mt<pn;){var Nn=He(ge[Mt]);Nn!==n&&(Re=Re===n?Nn:Re+Nn)}return Re}function pc(ge,He){for(var Re=-1,Mt=Array(ge);++Re<ge;)Mt[Re]=He(Re);return Mt}function mA(ge,He){return zr(He,function(Re){return[Re,ge[Re]]})}function Zy(ge){return ge&&ge.slice(0,Vf(ge)+1).replace(fs,"")}function Qs(ge){return function(He){return ge(He)}}function Js(ge,He){return zr(He,function(Re){return ge[Re]})}function ms(ge,He){return ge.has(He)}function $r(ge,He){for(var Re=-1,Mt=ge.length;++Re<Mt&&Do(He,ge[Re],0)>-1;);return Re}function Uf(ge,He){for(var Re=ge.length;Re--&&Do(He,ge[Re],0)>-1;);return Re}function Uo(ge,He){for(var Re=ge.length,Mt=0;Re--;)ge[Re]===He&&++Mt;return Mt}var gA=da(Tl),yA=da(fc);function iw(ge){return"\\"+Qb[ge]}function sw(ge,He){return ge==null?n:ge[He]}function ud(ge){return Zb.test(ge)}function Zp(ge){return Kk.test(ge)}function Bf(ge){for(var He,Re=[];!(He=ge.next()).done;)Re.push(He.value);return Re}function Qp(ge){var He=-1,Re=Array(ge.size);return ge.forEach(function(Mt,pn){Re[++He]=[pn,Mt]}),Re}function zf(ge,He){return function(Re){return ge(He(Re))}}function Bo(ge,He){for(var Re=-1,Mt=ge.length,pn=0,Nn=[];++Re<Mt;){var Zr=ge[Re];(Zr===He||Zr===d)&&(ge[Re]=d,Nn[pn++]=Re)}return Nn}function Jp(ge){var He=-1,Re=Array(ge.size);return ge.forEach(function(Mt){Re[++He]=Mt}),Re}function vA(ge){var He=-1,Re=Array(ge.size);return ge.forEach(function(Mt){Re[++He]=[Mt,Mt]}),Re}function $f(ge,He,Re){for(var Mt=Re-1,pn=ge.length;++Mt<pn;)if(ge[Mt]===He)return Mt;return-1}function xA(ge,He,Re){for(var Mt=Re+1;Mt--;)if(ge[Mt]===He)return Mt;return Mt}function Cl(ge){return ud(ge)?Nl(ge):Yy(ge)}function hi(ge){return ud(ge)?aw(ge):hA(ge)}function Vf(ge){for(var He=ge.length;He--&&Pf.test(ge.charAt(He)););return He}var Hf=da(Hy);function Nl(ge){for(var He=Gp.lastIndex=0;Gp.test(ge);)++He;return He}function aw(ge){return ge.match(Gp)||[]}function Wf(ge){return ge.match(Xk)||[]}var bA=function ge(He){He=He==null?Ni:cu.defaults(Ni.Object(),He,cu.pick(Ni,Vy));var Re=He.Array,Mt=He.Date,pn=He.Error,Nn=He.Function,Zr=He.Math,un=He.Object,Qi=He.RegExp,Ji=He.String,ea=He.TypeError,uu=Re.prototype,em=Nn.prototype,Gf=un.prototype,zi=He["__core-js_shared__"],qf=em.toString,fr=Gf.hasOwnProperty,ow=0,Pl=function(){var m=/[^.]+$/.exec(zi&&zi.keys&&zi.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),Na=Gf.toString,dd=qf.call(un),Qy=Ni._,Jy=Qi("^"+qf.call(fr).replace(ca,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tm=qp?He.Buffer:n,mc=He.Symbol,nm=He.Uint8Array,lw=tm?tm.allocUnsafe:n,rm=zf(un.getPrototypeOf,un),cw=un.create,ev=Gf.propertyIsEnumerable,du=uu.splice,uw=mc?mc.isConcatSpreadable:n,fu=mc?mc.iterator:n,jl=mc?mc.toStringTag:n,Xf=function(){try{var m=_m(un,"defineProperty");return m({},"",{}),m}catch{}}(),im=He.clearTimeout!==Ni.clearTimeout&&He.clearTimeout,wA=Mt&&Mt.now!==Ni.Date.now&&Mt.now,_A=He.setTimeout!==Ni.setTimeout&&He.setTimeout,sm=Zr.ceil,am=Zr.floor,om=un.getOwnPropertySymbols,SA=tm?tm.isBuffer:n,dw=He.isFinite,Qk=uu.join,EA=zf(un.keys,un),$i=Zr.max,ks=Zr.min,AA=Mt.now,TA=He.parseInt,fw=Zr.random,MA=uu.reverse,Kf=_m(He,"DataView"),lm=_m(He,"Map"),hw=_m(He,"Promise"),Yf=_m(He,"Set"),fd=_m(He,"WeakMap"),hd=_m(un,"create"),tv=fd&&new fd,pd={},CA=Sm(Kf),NA=Sm(lm),PA=Sm(hw),jA=Sm(Yf),kl=Sm(fd),cm=mc?mc.prototype:n,gc=cm?cm.valueOf:n,Zf=cm?cm.toString:n;function Z(m){if(Oi(m)&&!kn(m)&&!(m instanceof nn)){if(m instanceof Os)return m;if(fr.call(m,"__wrapped__"))return p$(m)}return new Os(m)}var yc=function(){function m(){}return function(E){if(!_i(E))return{};if(cw)return cw(E);m.prototype=E;var P=new m;return m.prototype=n,P}}();function um(){}function Os(m,E){this.__wrapped__=m,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=n}Z.templateSettings={escape:jt,evaluate:yn,interpolate:zt,variable:"",imports:{_:Z}},Z.prototype=um.prototype,Z.prototype.constructor=Z,Os.prototype=yc(um.prototype),Os.prototype.constructor=Os;function nn(m){this.__wrapped__=m,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function Jk(){var m=new nn(this.__wrapped__);return m.__actions__=Fs(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=Fs(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=Fs(this.__views__),m}function eO(){if(this.__filtered__){var m=new nn(this);m.__dir__=-1,m.__filtered__=!0}else m=this.clone(),m.__dir__*=-1;return m}function Pa(){var m=this.__wrapped__.value(),E=this.__dir__,P=kn(m),D=E<0,W=P?m.length:0,te=zue(0,W,this.__views__),ue=te.start,me=te.end,Me=me-ue,Ze=D?me:ue-1,Qe=this.__iteratees__,it=Qe.length,wt=0,Xt=ks(Me,this.__takeCount__);if(!P||!D&&W==Me&&Xt==Me)return vu(m,this.__actions__);var dn=[];e:for(;Me--&&wt<Xt;){Ze+=E;for(var Xn=-1,fn=m[Ze];++Xn<it;){var tr=Qe[Xn],or=tr.iteratee,qo=tr.type,Da=or(fn);if(qo==Q)fn=Da;else if(!Da){if(qo==K)continue e;break e}}dn[wt++]=fn}return dn}nn.prototype=yc(um.prototype),nn.prototype.constructor=nn;function xi(m){var E=-1,P=m==null?0:m.length;for(this.clear();++E<P;){var D=m[E];this.set(D[0],D[1])}}function kA(){this.__data__=hd?hd(null):{},this.size=0}function OA(m){var E=this.has(m)&&delete this.__data__[m];return this.size-=E?1:0,E}function RA(m){var E=this.__data__;if(hd){var P=E[m];return P===c?n:P}return fr.call(E,m)?E[m]:n}function IA(m){var E=this.__data__;return hd?E[m]!==n:fr.call(E,m)}function LA(m,E){var P=this.__data__;return this.size+=this.has(m)?0:1,P[m]=hd&&E===n?c:E,this}xi.prototype.clear=kA,xi.prototype.delete=OA,xi.prototype.get=RA,xi.prototype.has=IA,xi.prototype.set=LA;function zo(m){var E=-1,P=m==null?0:m.length;for(this.clear();++E<P;){var D=m[E];this.set(D[0],D[1])}}function DA(){this.__data__=[],this.size=0}function pw(m){var E=this.__data__,P=pu(E,m);if(P<0)return!1;var D=E.length-1;return P==D?E.pop():du.call(E,P,1),--this.size,!0}function FA(m){var E=this.__data__,P=pu(E,m);return P<0?n:E[P][1]}function UA(m){return pu(this.__data__,m)>-1}function nv(m,E){var P=this.__data__,D=pu(P,m);return D<0?(++this.size,P.push([m,E])):P[D][1]=E,this}zo.prototype.clear=DA,zo.prototype.delete=pw,zo.prototype.get=FA,zo.prototype.has=UA,zo.prototype.set=nv;function io(m){var E=-1,P=m==null?0:m.length;for(this.clear();++E<P;){var D=m[E];this.set(D[0],D[1])}}function BA(){this.size=0,this.__data__={hash:new xi,map:new(lm||zo),string:new xi}}function mw(m){var E=rT(this,m).delete(m);return this.size-=E?1:0,E}function zA(m){return rT(this,m).get(m)}function $A(m){return rT(this,m).has(m)}function rv(m,E){var P=rT(this,m),D=P.size;return P.set(m,E),this.size+=P.size==D?0:1,this}io.prototype.clear=BA,io.prototype.delete=mw,io.prototype.get=zA,io.prototype.has=$A,io.prototype.set=rv;function hu(m){var E=-1,P=m==null?0:m.length;for(this.__data__=new io;++E<P;)this.add(m[E])}function gw(m){return this.__data__.set(m,c),this}function VA(m){return this.__data__.has(m)}hu.prototype.add=hu.prototype.push=gw,hu.prototype.has=VA;function Vi(m){var E=this.__data__=new zo(m);this.size=E.size}function tO(){this.__data__=new zo,this.size=0}function nO(m){var E=this.__data__,P=E.delete(m);return this.size=E.size,P}function iv(m){return this.__data__.get(m)}function md(m){return this.__data__.has(m)}function rO(m,E){var P=this.__data__;if(P instanceof zo){var D=P.__data__;if(!lm||D.length<i-1)return D.push([m,E]),this.size=++P.size,this;P=this.__data__=new io(D)}return P.set(m,E),this.size=P.size,this}Vi.prototype.clear=tO,Vi.prototype.delete=nO,Vi.prototype.get=iv,Vi.prototype.has=md,Vi.prototype.set=rO;function xt(m,E){var P=kn(m),D=!P&&Em(m),W=!P&&!D&&oh(m),te=!P&&!D&&!W&&wv(m),ue=P||D||W||te,me=ue?pc(m.length,Ji):[],Me=me.length;for(var Ze in m)(E||fr.call(m,Ze))&&!(ue&&(Ze=="length"||W&&(Ze=="offset"||Ze=="parent")||te&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||wd(Ze,Me)))&&me.push(Ze);return me}function dm(m){var E=m.length;return E?m[Rl(0,E-1)]:n}function yw(m,E){return iT(Fs(m),mu(E,0,m.length))}function HA(m){return iT(Fs(m))}function vw(m,E,P){(P!==n&&!bc(m[E],P)||P===n&&!(E in m))&&Ol(m,E,P)}function $o(m,E,P){var D=m[E];(!(fr.call(m,E)&&bc(D,P))||P===n&&!(E in m))&&Ol(m,E,P)}function pu(m,E){for(var P=m.length;P--;)if(bc(m[P][0],E))return P;return-1}function xw(m,E,P,D){return Vo(m,function(W,te,ue){E(D,W,P(W),ue)}),D}function bw(m,E){return m&&oo(E,Bs(E),m)}function WA(m,E){return m&&oo(E,co(E),m)}function Ol(m,E,P){E=="__proto__"&&Xf?Xf(m,E,{configurable:!0,enumerable:!0,value:P,writable:!0}):m[E]=P}function sv(m,E){for(var P=-1,D=E.length,W=Re(D),te=m==null;++P<D;)W[P]=te?n:wO(m,E[P]);return W}function mu(m,E,P){return m===m&&(P!==n&&(m=m<=P?m:P),E!==n&&(m=m>=E?m:E)),m}function ja(m,E,P,D,W,te){var ue,me=E&f,Me=E&h,Ze=E&p;if(P&&(ue=W?P(m,D,W,te):P(m)),ue!==n)return ue;if(!_i(m))return m;var Qe=kn(m);if(Qe){if(ue=Vue(m),!me)return Fs(m,ue)}else{var it=fa(m),wt=it==le||it==J;if(oh(m))return Rw(m,me);if(it==Ke||it==Ce||wt&&!W){if(ue=Me||wt?{}:s$(m),!me)return Me?tT(m,WA(ue,m)):oO(m,bw(ue,m))}else{if(!Dr[it])return W?m:{};ue=Hue(m,it,me)}}te||(te=new Vi);var Xt=te.get(m);if(Xt)return Xt;te.set(m,ue),R$(m)?m.forEach(function(fn){ue.add(ja(fn,E,P,fn,m,te))}):k$(m)&&m.forEach(function(fn,tr){ue.set(tr,ja(fn,E,P,tr,m,te))});var dn=Ze?Me?sr:ki:Me?co:Bs,Xn=Qe?n:dn(m);return Bi(Xn||m,function(fn,tr){Xn&&(tr=fn,fn=m[tr]),$o(ue,tr,ja(fn,E,P,tr,m,te))}),ue}function ww(m){var E=Bs(m);return function(P){return av(P,m,E)}}function av(m,E,P){var D=P.length;if(m==null)return!D;for(m=un(m);D--;){var W=P[D],te=E[W],ue=m[W];if(ue===n&&!(W in m)||!te(ue))return!1}return!0}function _w(m,E,P){if(typeof m!="function")throw new ea(a);return Fw(function(){m.apply(n,P)},E)}function gd(m,E,P,D){var W=-1,te=Io,ue=!0,me=m.length,Me=[],Ze=E.length;if(!me)return Me;P&&(E=zr(E,Qs(P))),D?(te=Lf,ue=!1):E.length>=i&&(te=ms,ue=!1,E=new hu(E));e:for(;++W<me;){var Qe=m[W],it=P==null?Qe:P(Qe);if(Qe=D||Qe!==0?Qe:0,ue&&it===it){for(var wt=Ze;wt--;)if(E[wt]===it)continue e;Me.push(Qe)}else te(E,it,D)||Me.push(Qe)}return Me}var Vo=Lw(ka),GA=Lw(Jf,!0);function iO(m,E){var P=!0;return Vo(m,function(D,W,te){return P=!!E(D,W,te),P}),P}function fm(m,E,P){for(var D=-1,W=m.length;++D<W;){var te=m[D],ue=E(te);if(ue!=null&&(me===n?ue===ue&&!Go(ue):P(ue,me)))var me=ue,Me=te}return Me}function qA(m,E,P,D){var W=m.length;for(P=zn(P),P<0&&(P=-P>W?0:W+P),D=D===n||D>W?W:zn(D),D<0&&(D+=W),D=P>D?0:L$(D);P<D;)m[P++]=E;return m}function Sw(m,E){var P=[];return Vo(m,function(D,W,te){E(D,W,te)&&P.push(D)}),P}function es(m,E,P,D,W){var te=-1,ue=m.length;for(P||(P=Gue),W||(W=[]);++te<ue;){var me=m[te];E>0&&P(me)?E>1?es(me,E-1,P,D,W):Lo(W,me):D||(W[W.length]=me)}return W}var Qf=vv(),hm=vv(!0);function ka(m,E){return m&&Qf(m,E,Bs)}function Jf(m,E){return m&&hm(m,E,Bs)}function yd(m,E){return js(E,function(P){return _d(m[P])})}function Ho(m,E){E=bu(E,m);for(var P=0,D=E.length;m!=null&&P<D;)m=m[Su(E[P++])];return P&&P==D?m:n}function ov(m,E,P){var D=E(m);return kn(m)?D:Lo(D,P(m))}function gs(m){return m==null?m===n?be:We:jl&&jl in un(m)?Bue(m):Jue(m)}function pm(m,E){return m>E}function XA(m,E){return m!=null&&fr.call(m,E)}function Ew(m,E){return m!=null&&E in un(m)}function sO(m,E,P){return m>=ks(E,P)&&m<$i(E,P)}function eh(m,E,P){for(var D=P?Lf:Io,W=m[0].length,te=m.length,ue=te,me=Re(te),Me=1/0,Ze=[];ue--;){var Qe=m[ue];ue&&E&&(Qe=zr(Qe,Qs(E))),Me=ks(Qe.length,Me),me[ue]=!P&&(E||W>=120&&Qe.length>=120)?new hu(ue&&Qe):n}Qe=m[0];var it=-1,wt=me[0];e:for(;++it<W&&Ze.length<Me;){var Xt=Qe[it],dn=E?E(Xt):Xt;if(Xt=P||Xt!==0?Xt:0,!(wt?ms(wt,dn):D(Ze,dn,P))){for(ue=te;--ue;){var Xn=me[ue];if(!(Xn?ms(Xn,dn):D(m[ue],dn,P)))continue e}wt&&wt.push(dn),Ze.push(Xt)}}return Ze}function Aw(m,E,P,D){return ka(m,function(W,te,ue){E(D,P(W),te,ue)}),D}function Vr(m,E,P){E=bu(E,m),m=c$(m,E);var D=m==null?m:m[Su(Dl(E))];return D==null?n:Yr(D,m,P)}function Rn(m){return Oi(m)&&gs(m)==Ce}function Pi(m){return Oi(m)&&gs(m)==xe}function ji(m){return Oi(m)&&gs(m)==Ne}function bi(m,E,P,D,W){return m===E?!0:m==null||E==null||!Oi(m)&&!Oi(E)?m!==m&&E!==E:Oa(m,E,P,D,bi,W)}function Oa(m,E,P,D,W,te){var ue=kn(m),me=kn(E),Me=ue?Ie:fa(m),Ze=me?Ie:fa(E);Me=Me==Ce?Ke:Me,Ze=Ze==Ce?Ke:Ze;var Qe=Me==Ke,it=Ze==Ke,wt=Me==Ze;if(wt&&oh(m)){if(!oh(E))return!1;ue=!0,Qe=!1}if(wt&&!Qe)return te||(te=new Vi),ue||wv(m)?Wt(m,E,P,D,W,te):In(m,E,Me,P,D,W,te);if(!(P&g)){var Xt=Qe&&fr.call(m,"__wrapped__"),dn=it&&fr.call(E,"__wrapped__");if(Xt||dn){var Xn=Xt?m.value():m,fn=dn?E.value():E;return te||(te=new Vi),W(Xn,fn,P,D,te)}}return wt?(te||(te=new Vi),En(m,E,P,D,W,te)):!1}function th(m){return Oi(m)&&fa(m)==Le}function wi(m,E,P,D){var W=P.length,te=W,ue=!D;if(m==null)return!te;for(m=un(m);W--;){var me=P[W];if(ue&&me[2]?me[1]!==m[me[0]]:!(me[0]in m))return!1}for(;++W<te;){me=P[W];var Me=me[0],Ze=m[Me],Qe=me[1];if(ue&&me[2]){if(Ze===n&&!(Me in m))return!1}else{var it=new Vi;if(D)var wt=D(Ze,Qe,Me,m,E,it);if(!(wt===n?bi(Qe,Ze,g|v,D,it):wt))return!1}}return!0}function nh(m){if(!_i(m)||Xue(m))return!1;var E=_d(m)?Jy:_e;return E.test(Sm(m))}function rh(m){return Oi(m)&&gs(m)==$}function lv(m){return Oi(m)&&fa(m)==F}function Tw(m){return Oi(m)&&uT(m.length)&&!!Br[gs(m)]}function ih(m){return typeof m=="function"?m:m==null?uo:typeof m=="object"?kn(m)?cv(m[0],m[1]):gm(m):q$(m)}function Rs(m){if(!Dw(m))return EA(m);var E=[];for(var P in un(m))fr.call(m,P)&&P!="constructor"&&E.push(P);return E}function Mw(m){if(!_i(m))return Que(m);var E=Dw(m),P=[];for(var D in m)D=="constructor"&&(E||!fr.call(m,D))||P.push(D);return P}function mm(m,E){return m<E}function vd(m,E){var P=-1,D=lo(m)?Re(m.length):[];return Vo(m,function(W,te,ue){D[++P]=E(W,te,ue)}),D}function gm(m){var E=cO(m);return E.length==1&&E[0][2]?o$(E[0][0],E[0][1]):function(P){return P===m||wi(P,m,E)}}function cv(m,E){return dO(m)&&a$(E)?o$(Su(m),E):function(P){var D=wO(P,m);return D===n&&D===E?_O(P,m):bi(E,D,g|v)}}function Wo(m,E,P,D,W){m!==E&&Qf(E,function(te,ue){if(W||(W=new Vi),_i(te))uv(m,E,ue,P,Wo,D,W);else{var me=D?D(hO(m,ue),te,ue+"",m,E,W):n;me===n&&(me=te),vw(m,ue,me)}},co)}function uv(m,E,P,D,W,te,ue){var me=hO(m,P),Me=hO(E,P),Ze=ue.get(Me);if(Ze){vw(m,P,Ze);return}var Qe=te?te(me,Me,P+"",m,E,ue):n,it=Qe===n;if(it){var wt=kn(Me),Xt=!wt&&oh(Me),dn=!wt&&!Xt&&wv(Me);Qe=Me,wt||Xt||dn?kn(me)?Qe=me:Hi(me)?Qe=Fs(me):Xt?(it=!1,Qe=Rw(Me,!0)):dn?(it=!1,Qe=eT(Me,!0)):Qe=[]:Uw(Me)||Em(Me)?(Qe=me,Em(me)?Qe=D$(me):(!_i(me)||_d(me))&&(Qe=s$(Me))):it=!1}it&&(ue.set(Me,Qe),W(Qe,Me,D,te,ue),ue.delete(Me)),vw(m,P,Qe)}function vc(m,E){var P=m.length;if(P)return E+=E<0?P:0,wd(E,P)?m[E]:n}function ym(m,E,P){E.length?E=zr(E,function(te){return kn(te)?function(ue){return Ho(ue,te.length===1?te[0]:te)}:te}):E=[uo];var D=-1;E=zr(E,Qs(cn()));var W=vd(m,function(te,ue,me){var Me=zr(E,function(Ze){return Ze(te)});return{criteria:Me,index:++D,value:te}});return hc(W,function(te,ue){return yv(te,ue,P)})}function vm(m,E){return dv(m,E,function(P,D){return _O(m,D)})}function dv(m,E,P){for(var D=-1,W=E.length,te={};++D<W;){var ue=E[D],me=Ho(m,ue);P(me,ue)&&xd(te,bu(ue,m),me)}return te}function fv(m){return function(E){return Ho(E,m)}}function sh(m,E,P,D){var W=D?Ff:Do,te=-1,ue=E.length,me=m;for(m===E&&(E=Fs(E)),P&&(me=zr(m,Qs(P)));++te<ue;)for(var Me=0,Ze=E[te],Qe=P?P(Ze):Ze;(Me=W(me,Qe,Me,D))>-1;)me!==m&&du.call(me,Me,1),du.call(m,Me,1);return m}function Is(m,E){for(var P=m?E.length:0,D=P-1;P--;){var W=E[P];if(P==D||W!==te){var te=W;wd(W)?du.call(m,W,1):jw(m,W)}}return m}function Rl(m,E){return m+am(fw()*(E-m+1))}function so(m,E,P,D){for(var W=-1,te=$i(sm((E-m)/(P||1)),0),ue=Re(te);te--;)ue[D?te:++W]=m,m+=P;return ue}function ah(m,E){var P="";if(!m||E<1||E>V)return P;do E%2&&(P+=m),E=am(E/2),E&&(m+=m);while(E);return P}function en(m,E){return pO(l$(m,E,uo),m+"")}function KA(m){return dm(_v(m))}function Cw(m,E){var P=_v(m);return iT(P,mu(E,0,P.length))}function xd(m,E,P,D){if(!_i(m))return m;E=bu(E,m);for(var W=-1,te=E.length,ue=te-1,me=m;me!=null&&++W<te;){var Me=Su(E[W]),Ze=P;if(Me==="__proto__"||Me==="constructor"||Me==="prototype")return m;if(W!=ue){var Qe=me[Me];Ze=D?D(Qe,Me,me):n,Ze===n&&(Ze=_i(Qe)?Qe:wd(E[W+1])?[]:{})}$o(me,Me,Ze),me=me[Me]}return m}var YA=tv?function(m,E){return tv.set(m,E),m}:uo,gu=Xf?function(m,E){return Xf(m,"toString",{configurable:!0,enumerable:!1,value:EO(E),writable:!0})}:uo;function ZA(m){return iT(_v(m))}function Ra(m,E,P){var D=-1,W=m.length;E<0&&(E=-E>W?0:W+E),P=P>W?W:P,P<0&&(P+=W),W=E>P?0:P-E>>>0,E>>>=0;for(var te=Re(W);++D<W;)te[D]=m[D+E];return te}function Nw(m,E){var P;return Vo(m,function(D,W,te){return P=E(D,W,te),!P}),!!P}function Il(m,E,P){var D=0,W=m==null?D:m.length;if(typeof E=="number"&&E===E&&W<=Y){for(;D<W;){var te=D+W>>>1,ue=m[te];ue!==null&&!Go(ue)&&(P?ue<=E:ue<E)?D=te+1:W=te}return W}return hv(m,E,uo,P)}function hv(m,E,P,D){var W=0,te=m==null?0:m.length;if(te===0)return 0;E=P(E);for(var ue=E!==E,me=E===null,Me=Go(E),Ze=E===n;W<te;){var Qe=am((W+te)/2),it=P(m[Qe]),wt=it!==n,Xt=it===null,dn=it===it,Xn=Go(it);if(ue)var fn=D||dn;else Ze?fn=dn&&(D||wt):me?fn=dn&&wt&&(D||!Xt):Me?fn=dn&&wt&&!Xt&&(D||!Xn):Xt||Xn?fn=!1:fn=D?it<=E:it<E;fn?W=Qe+1:te=Qe}return ks(te,de)}function Pw(m,E){for(var P=-1,D=m.length,W=0,te=[];++P<D;){var ue=m[P],me=E?E(ue):ue;if(!P||!bc(me,Me)){var Me=me;te[W++]=ue===0?0:ue}}return te}function pv(m){return typeof m=="number"?m:Go(m)?z:+m}function Ls(m){if(typeof m=="string")return m;if(kn(m))return zr(m,Ls)+"";if(Go(m))return Zf?Zf.call(m):"";var E=m+"";return E=="0"&&1/m==-ie?"-0":E}function yu(m,E,P){var D=-1,W=Io,te=m.length,ue=!0,me=[],Me=me;if(P)ue=!1,W=Lf;else if(te>=i){var Ze=E?null:Us(m);if(Ze)return Jp(Ze);ue=!1,W=ms,Me=new hu}else Me=E?[]:me;e:for(;++D<te;){var Qe=m[D],it=E?E(Qe):Qe;if(Qe=P||Qe!==0?Qe:0,ue&&it===it){for(var wt=Me.length;wt--;)if(Me[wt]===it)continue e;E&&Me.push(it),me.push(Qe)}else W(Me,it,P)||(Me!==me&&Me.push(it),me.push(Qe))}return me}function jw(m,E){return E=bu(E,m),m=c$(m,E),m==null||delete m[Su(Dl(E))]}function kw(m,E,P,D){return xd(m,E,P(Ho(m,E)),D)}function xm(m,E,P,D){for(var W=m.length,te=D?W:-1;(D?te--:++te<W)&&E(m[te],te,m););return P?Ra(m,D?0:te,D?te+1:W):Ra(m,D?te+1:0,D?W:te)}function vu(m,E){var P=m;return P instanceof nn&&(P=P.value()),Ky(E,function(D,W){return W.func.apply(W.thisArg,Lo([D],W.args))},P)}function Ow(m,E,P){var D=m.length;if(D<2)return D?yu(m[0]):[];for(var W=-1,te=Re(D);++W<D;)for(var ue=m[W],me=-1;++me<D;)me!=W&&(te[W]=gd(te[W]||ue,m[me],E,P));return yu(es(te,1),E,P)}function xu(m,E,P){for(var D=-1,W=m.length,te=E.length,ue={};++D<W;){var me=D<te?E[D]:n;P(ue,m[D],me)}return ue}function mv(m){return Hi(m)?m:[]}function Ds(m){return typeof m=="function"?m:uo}function bu(m,E){return kn(m)?m:dO(m,E)?[m]:h$(Tr(m))}var QA=en;function wu(m,E,P){var D=m.length;return P=P===n?D:P,!E&&P>=D?m:Ra(m,E,P)}var JA=im||function(m){return Ni.clearTimeout(m)};function Rw(m,E){if(E)return m.slice();var P=m.length,D=lw?lw(P):new m.constructor(P);return m.copy(D),D}function gv(m){var E=new m.constructor(m.byteLength);return new nm(E).set(new nm(m)),E}function aO(m,E){var P=E?gv(m.buffer):m.buffer;return new m.constructor(P,m.byteOffset,m.byteLength)}function ao(m){var E=new m.constructor(m.source,Fy.exec(m));return E.lastIndex=m.lastIndex,E}function Iw(m){return gc?un(gc.call(m)):{}}function eT(m,E){var P=E?gv(m.buffer):m.buffer;return new m.constructor(P,m.byteOffset,m.length)}function xc(m,E){if(m!==E){var P=m!==n,D=m===null,W=m===m,te=Go(m),ue=E!==n,me=E===null,Me=E===E,Ze=Go(E);if(!me&&!Ze&&!te&&m>E||te&&ue&&Me&&!me&&!Ze||D&&ue&&Me||!P&&Me||!W)return 1;if(!D&&!te&&!Ze&&m<E||Ze&&P&&W&&!D&&!te||me&&P&&W||!ue&&W||!Me)return-1}return 0}function yv(m,E,P){for(var D=-1,W=m.criteria,te=E.criteria,ue=W.length,me=P.length;++D<ue;){var Me=xc(W[D],te[D]);if(Me){if(D>=me)return Me;var Ze=P[D];return Me*(Ze=="desc"?-1:1)}}return m.index-E.index}function _u(m,E,P,D){for(var W=-1,te=m.length,ue=P.length,me=-1,Me=E.length,Ze=$i(te-ue,0),Qe=Re(Me+Ze),it=!D;++me<Me;)Qe[me]=E[me];for(;++W<ue;)(it||W<te)&&(Qe[P[W]]=m[W]);for(;Ze--;)Qe[me++]=m[W++];return Qe}function bm(m,E,P,D){for(var W=-1,te=m.length,ue=-1,me=P.length,Me=-1,Ze=E.length,Qe=$i(te-me,0),it=Re(Qe+Ze),wt=!D;++W<Qe;)it[W]=m[W];for(var Xt=W;++Me<Ze;)it[Xt+Me]=E[Me];for(;++ue<me;)(wt||W<te)&&(it[Xt+P[ue]]=m[W++]);return it}function Fs(m,E){var P=-1,D=m.length;for(E||(E=Re(D));++P<D;)E[P]=m[P];return E}function oo(m,E,P,D){var W=!P;P||(P={});for(var te=-1,ue=E.length;++te<ue;){var me=E[te],Me=D?D(P[me],m[me],me,P,m):n;Me===n&&(Me=m[me]),W?Ol(P,me,Me):$o(P,me,Me)}return P}function oO(m,E){return oo(m,uO(m),E)}function tT(m,E){return oo(m,r$(m),E)}function wm(m,E){return function(P,D){var W=kn(P)?Ml:xw,te=E?E():{};return W(P,m,cn(D,2),te)}}function bd(m){return en(function(E,P){var D=-1,W=P.length,te=W>1?P[W-1]:n,ue=W>2?P[2]:n;for(te=m.length>3&&typeof te=="function"?(W--,te):n,ue&&La(P[0],P[1],ue)&&(te=W<3?n:te,W=1),E=un(E);++D<W;){var me=P[D];me&&m(E,me,D,te)}return E})}function Lw(m,E){return function(P,D){if(P==null)return P;if(!lo(P))return m(P,D);for(var W=P.length,te=E?W:-1,ue=un(P);(E?te--:++te<W)&&D(ue[te],te,ue)!==!1;);return P}}function vv(m){return function(E,P,D){for(var W=-1,te=un(E),ue=D(E),me=ue.length;me--;){var Me=ue[m?me:++W];if(P(te[Me],Me,te)===!1)break}return E}}function lO(m,E,P){var D=E&w,W=b(m);function te(){var ue=this&&this!==Ni&&this instanceof te?W:m;return ue.apply(D?P:this,arguments)}return te}function nT(m){return function(E){E=Tr(E);var P=ud(E)?hi(E):n,D=P?P[0]:E.charAt(0),W=P?wu(P,1).join(""):E.slice(1);return D[m]()+W}}function y(m){return function(E){return Ky(W$(H$(E).replace(qk,"")),m,"")}}function b(m){return function(){var E=arguments;switch(E.length){case 0:return new m;case 1:return new m(E[0]);case 2:return new m(E[0],E[1]);case 3:return new m(E[0],E[1],E[2]);case 4:return new m(E[0],E[1],E[2],E[3]);case 5:return new m(E[0],E[1],E[2],E[3],E[4]);case 6:return new m(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new m(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var P=yc(m.prototype),D=m.apply(P,E);return _i(D)?D:P}}function M(m,E,P){var D=b(m);function W(){for(var te=arguments.length,ue=Re(te),me=te,Me=bv(W);me--;)ue[me]=arguments[me];var Ze=te<3&&ue[0]!==Me&&ue[te-1]!==Me?[]:Bo(ue,Me);if(te-=Ze.length,te<P)return Ar(m,E,H,W.placeholder,n,ue,Ze,n,n,P-te);var Qe=this&&this!==Ni&&this instanceof W?D:m;return Yr(Qe,this,ue)}return W}function k(m){return function(E,P,D){var W=un(E);if(!lo(E)){var te=cn(P,3);E=Bs(E),P=function(me){return te(W[me],me,W)}}var ue=m(E,P,D);return ue>-1?W[te?E[ue]:ue]:n}}function L(m){return Ln(function(E){var P=E.length,D=P,W=Os.prototype.thru;for(m&&E.reverse();D--;){var te=E[D];if(typeof te!="function")throw new ea(a);if(W&&!ue&&xv(te)=="wrapper")var ue=new Os([],!0)}for(D=ue?D:P;++D<P;){te=E[D];var me=xv(te),Me=me=="wrapper"?Ll(te):n;Me&&fO(Me[0])&&Me[1]==(N|S|C|O)&&!Me[4].length&&Me[9]==1?ue=ue[xv(Me[0])].apply(ue,Me[3]):ue=te.length==1&&fO(te)?ue[me]():ue.thru(te)}return function(){var Ze=arguments,Qe=Ze[0];if(ue&&Ze.length==1&&kn(Qe))return ue.plant(Qe).value();for(var it=0,wt=P?E[it].apply(this,Ze):Qe;++it<P;)wt=E[it].call(this,wt);return wt}})}function H(m,E,P,D,W,te,ue,me,Me,Ze){var Qe=E&N,it=E&w,wt=E&x,Xt=E&(S|A),dn=E&U,Xn=wt?n:b(m);function fn(){for(var tr=arguments.length,or=Re(tr),qo=tr;qo--;)or[qo]=arguments[qo];if(Xt)var Da=bv(fn),Xo=Uo(or,Da);if(D&&(or=_u(or,D,W,Xt)),te&&(or=bm(or,te,ue,Xt)),tr-=Xo,Xt&&tr<Ze){var Wi=Bo(or,Da);return Ar(m,E,H,fn.placeholder,P,or,Wi,me,Me,Ze-tr)}var wc=it?P:this,Ed=wt?wc[m]:m;return tr=or.length,me?or=ede(or,me):dn&&tr>1&&or.reverse(),Qe&&Me<tr&&(or.length=Me),this&&this!==Ni&&this instanceof fn&&(Ed=Xn||b(Ed)),Ed.apply(wc,or)}return fn}function ae(m,E){return function(P,D){return Aw(P,m,E(D),{})}}function we(m,E){return function(P,D){var W;if(P===n&&D===n)return E;if(P!==n&&(W=P),D!==n){if(W===n)return D;typeof P=="string"||typeof D=="string"?(P=Ls(P),D=Ls(D)):(P=pv(P),D=pv(D)),W=m(P,D)}return W}}function ze(m){return Ln(function(E){return E=zr(E,Qs(cn())),en(function(P){var D=this;return m(E,function(W){return Yr(W,D,P)})})})}function ot(m,E){E=E===n?" ":Ls(E);var P=E.length;if(P<2)return P?ah(E,m):E;var D=ah(E,sm(m/Cl(E)));return ud(E)?wu(hi(D),0,m).join(""):D.slice(0,m)}function Rt(m,E,P,D){var W=E&w,te=b(m);function ue(){for(var me=-1,Me=arguments.length,Ze=-1,Qe=D.length,it=Re(Qe+Me),wt=this&&this!==Ni&&this instanceof ue?te:m;++Ze<Qe;)it[Ze]=D[Ze];for(;Me--;)it[Ze++]=arguments[++me];return Yr(wt,W?P:this,it)}return ue}function xn(m){return function(E,P,D){return D&&typeof D!="number"&&La(E,P,D)&&(P=D=n),E=Sd(E),P===n?(P=E,E=0):P=Sd(P),D=D===n?E<P?1:-1:Sd(D),so(E,P,D,m)}}function Zt(m){return function(E,P){return typeof E=="string"&&typeof P=="string"||(E=Fl(E),P=Fl(P)),m(E,P)}}function Ar(m,E,P,D,W,te,ue,me,Me,Ze){var Qe=E&S,it=Qe?ue:n,wt=Qe?n:ue,Xt=Qe?te:n,dn=Qe?n:te;E|=Qe?C:T,E&=~(Qe?T:C),E&_||(E&=-4);var Xn=[m,E,W,Xt,it,dn,wt,me,Me,Ze],fn=P.apply(n,Xn);return fO(m)&&u$(fn,Xn),fn.placeholder=D,d$(fn,m,E)}function Ht(m){var E=Zr[m];return function(P,D){if(P=Fl(P),D=D==null?0:ks(zn(D),292),D&&dw(P)){var W=(Tr(P)+"e").split("e"),te=E(W[0]+"e"+(+W[1]+D));return W=(Tr(te)+"e").split("e"),+(W[0]+"e"+(+W[1]-D))}return E(P)}}var Us=Yf&&1/Jp(new Yf([,-0]))[1]==ie?function(m){return new Yf(m)}:MO;function Ia(m){return function(E){var P=fa(E);return P==Le?Qp(E):P==F?vA(E):mA(E,m(E))}}function Pe(m,E,P,D,W,te,ue,me){var Me=E&x;if(!Me&&typeof m!="function")throw new ea(a);var Ze=D?D.length:0;if(Ze||(E&=-97,D=W=n),ue=ue===n?ue:$i(zn(ue),0),me=me===n?me:zn(me),Ze-=W?W.length:0,E&T){var Qe=D,it=W;D=W=n}var wt=Me?n:Ll(m),Xt=[m,E,P,D,W,Qe,it,te,ue,me];if(wt&&Zue(Xt,wt),m=Xt[0],E=Xt[1],P=Xt[2],D=Xt[3],W=Xt[4],me=Xt[9]=Xt[9]===n?Me?0:m.length:$i(Xt[9]-Ze,0),!me&&E&(S|A)&&(E&=-25),!E||E==w)var dn=lO(m,E,P);else E==S||E==A?dn=M(m,E,me):(E==C||E==(w|C))&&!W.length?dn=Rt(m,E,P,D):dn=H.apply(n,Xt);var Xn=wt?YA:u$;return d$(Xn(dn,Xt),m,E)}function Se(m,E,P,D){return m===n||bc(m,Gf[P])&&!fr.call(D,P)?E:m}function De(m,E,P,D,W,te){return _i(m)&&_i(E)&&(te.set(E,m),Wo(m,E,n,De,te),te.delete(E)),m}function St(m){return Uw(m)?n:m}function Wt(m,E,P,D,W,te){var ue=P&g,me=m.length,Me=E.length;if(me!=Me&&!(ue&&Me>me))return!1;var Ze=te.get(m),Qe=te.get(E);if(Ze&&Qe)return Ze==E&&Qe==m;var it=-1,wt=!0,Xt=P&v?new hu:n;for(te.set(m,E),te.set(E,m);++it<me;){var dn=m[it],Xn=E[it];if(D)var fn=ue?D(Xn,dn,it,E,m,te):D(dn,Xn,it,m,E,te);if(fn!==n){if(fn)continue;wt=!1;break}if(Xt){if(!Xp(E,function(tr,or){if(!ms(Xt,or)&&(dn===tr||W(dn,tr,P,D,te)))return Xt.push(or)})){wt=!1;break}}else if(!(dn===Xn||W(dn,Xn,P,D,te))){wt=!1;break}}return te.delete(m),te.delete(E),wt}function In(m,E,P,D,W,te,ue){switch(P){case ke:if(m.byteLength!=E.byteLength||m.byteOffset!=E.byteOffset)return!1;m=m.buffer,E=E.buffer;case xe:return!(m.byteLength!=E.byteLength||!te(new nm(m),new nm(E)));case Je:case Ne:case qe:return bc(+m,+E);case Fe:return m.name==E.name&&m.message==E.message;case $:case re:return m==E+"";case Le:var me=Qp;case F:var Me=D&g;if(me||(me=Jp),m.size!=E.size&&!Me)return!1;var Ze=ue.get(m);if(Ze)return Ze==E;D|=v,ue.set(m,E);var Qe=Wt(me(m),me(E),D,W,te,ue);return ue.delete(m),Qe;case ye:if(gc)return gc.call(m)==gc.call(E)}return!1}function En(m,E,P,D,W,te){var ue=P&g,me=ki(m),Me=me.length,Ze=ki(E),Qe=Ze.length;if(Me!=Qe&&!ue)return!1;for(var it=Me;it--;){var wt=me[it];if(!(ue?wt in E:fr.call(E,wt)))return!1}var Xt=te.get(m),dn=te.get(E);if(Xt&&dn)return Xt==E&&dn==m;var Xn=!0;te.set(m,E),te.set(E,m);for(var fn=ue;++it<Me;){wt=me[it];var tr=m[wt],or=E[wt];if(D)var qo=ue?D(or,tr,wt,E,m,te):D(tr,or,wt,m,E,te);if(!(qo===n?tr===or||W(tr,or,P,D,te):qo)){Xn=!1;break}fn||(fn=wt=="constructor")}if(Xn&&!fn){var Da=m.constructor,Xo=E.constructor;Da!=Xo&&"constructor"in m&&"constructor"in E&&!(typeof Da=="function"&&Da instanceof Da&&typeof Xo=="function"&&Xo instanceof Xo)&&(Xn=!1)}return te.delete(m),te.delete(E),Xn}function Ln(m){return pO(l$(m,n,y$),m+"")}function ki(m){return ov(m,Bs,uO)}function sr(m){return ov(m,co,r$)}var Ll=tv?function(m){return tv.get(m)}:MO;function xv(m){for(var E=m.name+"",P=pd[E],D=fr.call(pd,E)?P.length:0;D--;){var W=P[D],te=W.func;if(te==null||te==m)return W.name}return E}function bv(m){var E=fr.call(Z,"placeholder")?Z:m;return E.placeholder}function cn(){var m=Z.iteratee||AO;return m=m===AO?ih:m,arguments.length?m(arguments[0],arguments[1]):m}function rT(m,E){var P=m.__data__;return que(E)?P[typeof E=="string"?"string":"hash"]:P.map}function cO(m){for(var E=Bs(m),P=E.length;P--;){var D=E[P],W=m[D];E[P]=[D,W,a$(W)]}return E}function _m(m,E){var P=sw(m,E);return nh(P)?P:n}function Bue(m){var E=fr.call(m,jl),P=m[jl];try{m[jl]=n;var D=!0}catch{}var W=Na.call(m);return D&&(E?m[jl]=P:delete m[jl]),W}var uO=om?function(m){return m==null?[]:(m=un(m),js(om(m),function(E){return ev.call(m,E)}))}:CO,r$=om?function(m){for(var E=[];m;)Lo(E,uO(m)),m=rm(m);return E}:CO,fa=gs;(Kf&&fa(new Kf(new ArrayBuffer(1)))!=ke||lm&&fa(new lm)!=Le||hw&&fa(hw.resolve())!=yt||Yf&&fa(new Yf)!=F||fd&&fa(new fd)!=pe)&&(fa=function(m){var E=gs(m),P=E==Ke?m.constructor:n,D=P?Sm(P):"";if(D)switch(D){case CA:return ke;case NA:return Le;case PA:return yt;case jA:return F;case kl:return pe}return E});function zue(m,E,P){for(var D=-1,W=P.length;++D<W;){var te=P[D],ue=te.size;switch(te.type){case"drop":m+=ue;break;case"dropRight":E-=ue;break;case"take":E=ks(E,m+ue);break;case"takeRight":m=$i(m,E-ue);break}}return{start:m,end:E}}function $ue(m){var E=m.match(Sl);return E?E[1].split(Iy):[]}function i$(m,E,P){E=bu(E,m);for(var D=-1,W=E.length,te=!1;++D<W;){var ue=Su(E[D]);if(!(te=m!=null&&P(m,ue)))break;m=m[ue]}return te||++D!=W?te:(W=m==null?0:m.length,!!W&&uT(W)&&wd(ue,W)&&(kn(m)||Em(m)))}function Vue(m){var E=m.length,P=new m.constructor(E);return E&&typeof m[0]=="string"&&fr.call(m,"index")&&(P.index=m.index,P.input=m.input),P}function s$(m){return typeof m.constructor=="function"&&!Dw(m)?yc(rm(m)):{}}function Hue(m,E,P){var D=m.constructor;switch(E){case xe:return gv(m);case Je:case Ne:return new D(+m);case ke:return aO(m,P);case ut:case $e:case st:case Ut:case Pt:case mt:case ln:case Tt:case Cn:return eT(m,P);case Le:return new D;case qe:case re:return new D(m);case $:return ao(m);case F:return new D;case ye:return Iw(m)}}function Wue(m,E){var P=E.length;if(!P)return m;var D=P-1;return E[D]=(P>1?"& ":"")+E[D],E=E.join(P>2?", ":" "),m.replace(Ry,`{
/* [wrapped with `+E+`] */
`)}function Gue(m){return kn(m)||Em(m)||!!(uw&&m&&m[uw])}function wd(m,E){var P=typeof m;return E=E??V,!!E&&(P=="number"||P!="symbol"&&Oe.test(m))&&m>-1&&m%1==0&&m<E}function La(m,E,P){if(!_i(P))return!1;var D=typeof E;return(D=="number"?lo(P)&&wd(E,P.length):D=="string"&&E in P)?bc(P[E],m):!1}function dO(m,E){if(kn(m))return!1;var P=typeof m;return P=="number"||P=="symbol"||P=="boolean"||m==null||Go(m)?!0:Kr.test(m)||!_r.test(m)||E!=null&&m in un(E)}function que(m){var E=typeof m;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?m!=="__proto__":m===null}function fO(m){var E=xv(m),P=Z[E];if(typeof P!="function"||!(E in nn.prototype))return!1;if(m===P)return!0;var D=Ll(P);return!!D&&m===D[0]}function Xue(m){return!!Pl&&Pl in m}var Kue=zi?_d:NO;function Dw(m){var E=m&&m.constructor,P=typeof E=="function"&&E.prototype||Gf;return m===P}function a$(m){return m===m&&!_i(m)}function o$(m,E){return function(P){return P==null?!1:P[m]===E&&(E!==n||m in un(P))}}function Yue(m){var E=lT(m,function(D){return P.size===u&&P.clear(),D}),P=E.cache;return E}function Zue(m,E){var P=m[1],D=E[1],W=P|D,te=W<(w|x|N),ue=D==N&&P==S||D==N&&P==O&&m[7].length<=E[8]||D==(N|O)&&E[7].length<=E[8]&&P==S;if(!(te||ue))return m;D&w&&(m[2]=E[2],W|=P&w?0:_);var me=E[3];if(me){var Me=m[3];m[3]=Me?_u(Me,me,E[4]):me,m[4]=Me?Bo(m[3],d):E[4]}return me=E[5],me&&(Me=m[5],m[5]=Me?bm(Me,me,E[6]):me,m[6]=Me?Bo(m[5],d):E[6]),me=E[7],me&&(m[7]=me),D&N&&(m[8]=m[8]==null?E[8]:ks(m[8],E[8])),m[9]==null&&(m[9]=E[9]),m[0]=E[0],m[1]=W,m}function Que(m){var E=[];if(m!=null)for(var P in un(m))E.push(P);return E}function Jue(m){return Na.call(m)}function l$(m,E,P){return E=$i(E===n?m.length-1:E,0),function(){for(var D=arguments,W=-1,te=$i(D.length-E,0),ue=Re(te);++W<te;)ue[W]=D[E+W];W=-1;for(var me=Re(E+1);++W<E;)me[W]=D[W];return me[E]=P(ue),Yr(m,this,me)}}function c$(m,E){return E.length<2?m:Ho(m,Ra(E,0,-1))}function ede(m,E){for(var P=m.length,D=ks(E.length,P),W=Fs(m);D--;){var te=E[D];m[D]=wd(te,P)?W[te]:n}return m}function hO(m,E){if(!(E==="constructor"&&typeof m[E]=="function")&&E!="__proto__")return m[E]}var u$=f$(YA),Fw=_A||function(m,E){return Ni.setTimeout(m,E)},pO=f$(gu);function d$(m,E,P){var D=E+"";return pO(m,Wue(D,tde($ue(D),P)))}function f$(m){var E=0,P=0;return function(){var D=AA(),W=G-(D-P);if(P=D,W>0){if(++E>=B)return arguments[0]}else E=0;return m.apply(n,arguments)}}function iT(m,E){var P=-1,D=m.length,W=D-1;for(E=E===n?D:E;++P<E;){var te=Rl(P,W),ue=m[te];m[te]=m[P],m[P]=ue}return m.length=E,m}var h$=Yue(function(m){var E=[];return m.charCodeAt(0)===46&&E.push(""),m.replace(Ca,function(P,D,W,te){E.push(W?te.replace(Dy,"$1"):D||P)}),E});function Su(m){if(typeof m=="string"||Go(m))return m;var E=m+"";return E=="0"&&1/m==-ie?"-0":E}function Sm(m){if(m!=null){try{return qf.call(m)}catch{}try{return m+""}catch{}}return""}function tde(m,E){return Bi(he,function(P){var D="_."+P[0];E&P[1]&&!Io(m,D)&&m.push(D)}),m.sort()}function p$(m){if(m instanceof nn)return m.clone();var E=new Os(m.__wrapped__,m.__chain__);return E.__actions__=Fs(m.__actions__),E.__index__=m.__index__,E.__values__=m.__values__,E}function nde(m,E,P){(P?La(m,E,P):E===n)?E=1:E=$i(zn(E),0);var D=m==null?0:m.length;if(!D||E<1)return[];for(var W=0,te=0,ue=Re(sm(D/E));W<D;)ue[te++]=Ra(m,W,W+=E);return ue}function rde(m){for(var E=-1,P=m==null?0:m.length,D=0,W=[];++E<P;){var te=m[E];te&&(W[D++]=te)}return W}function ide(){var m=arguments.length;if(!m)return[];for(var E=Re(m-1),P=arguments[0],D=m;D--;)E[D-1]=arguments[D];return Lo(kn(P)?Fs(P):[P],es(E,1))}var sde=en(function(m,E){return Hi(m)?gd(m,es(E,1,Hi,!0)):[]}),ade=en(function(m,E){var P=Dl(E);return Hi(P)&&(P=n),Hi(m)?gd(m,es(E,1,Hi,!0),cn(P,2)):[]}),ode=en(function(m,E){var P=Dl(E);return Hi(P)&&(P=n),Hi(m)?gd(m,es(E,1,Hi,!0),n,P):[]});function lde(m,E,P){var D=m==null?0:m.length;return D?(E=P||E===n?1:zn(E),Ra(m,E<0?0:E,D)):[]}function cde(m,E,P){var D=m==null?0:m.length;return D?(E=P||E===n?1:zn(E),E=D-E,Ra(m,0,E<0?0:E)):[]}function ude(m,E){return m&&m.length?xm(m,cn(E,3),!0,!0):[]}function dde(m,E){return m&&m.length?xm(m,cn(E,3),!0):[]}function fde(m,E,P,D){var W=m==null?0:m.length;return W?(P&&typeof P!="number"&&La(m,E,P)&&(P=0,D=W),qA(m,E,P,D)):[]}function m$(m,E,P){var D=m==null?0:m.length;if(!D)return-1;var W=P==null?0:zn(P);return W<0&&(W=$i(D+W,0)),Df(m,cn(E,3),W)}function g$(m,E,P){var D=m==null?0:m.length;if(!D)return-1;var W=D-1;return P!==n&&(W=zn(P),W=P<0?$i(D+W,0):ks(W,D-1)),Df(m,cn(E,3),W,!0)}function y$(m){var E=m==null?0:m.length;return E?es(m,1):[]}function hde(m){var E=m==null?0:m.length;return E?es(m,ie):[]}function pde(m,E){var P=m==null?0:m.length;return P?(E=E===n?1:zn(E),es(m,E)):[]}function mde(m){for(var E=-1,P=m==null?0:m.length,D={};++E<P;){var W=m[E];D[W[0]]=W[1]}return D}function v$(m){return m&&m.length?m[0]:n}function gde(m,E,P){var D=m==null?0:m.length;if(!D)return-1;var W=P==null?0:zn(P);return W<0&&(W=$i(D+W,0)),Do(m,E,W)}function yde(m){var E=m==null?0:m.length;return E?Ra(m,0,-1):[]}var vde=en(function(m){var E=zr(m,mv);return E.length&&E[0]===m[0]?eh(E):[]}),xde=en(function(m){var E=Dl(m),P=zr(m,mv);return E===Dl(P)?E=n:P.pop(),P.length&&P[0]===m[0]?eh(P,cn(E,2)):[]}),bde=en(function(m){var E=Dl(m),P=zr(m,mv);return E=typeof E=="function"?E:n,E&&P.pop(),P.length&&P[0]===m[0]?eh(P,n,E):[]});function wde(m,E){return m==null?"":Qk.call(m,E)}function Dl(m){var E=m==null?0:m.length;return E?m[E-1]:n}function _de(m,E,P){var D=m==null?0:m.length;if(!D)return-1;var W=D;return P!==n&&(W=zn(P),W=W<0?$i(D+W,0):ks(W,D-1)),E===E?xA(m,E,W):Df(m,Kp,W,!0)}function Sde(m,E){return m&&m.length?vc(m,zn(E)):n}var Ede=en(x$);function x$(m,E){return m&&m.length&&E&&E.length?sh(m,E):m}function Ade(m,E,P){return m&&m.length&&E&&E.length?sh(m,E,cn(P,2)):m}function Tde(m,E,P){return m&&m.length&&E&&E.length?sh(m,E,n,P):m}var Mde=Ln(function(m,E){var P=m==null?0:m.length,D=sv(m,E);return Is(m,zr(E,function(W){return wd(W,P)?+W:W}).sort(xc)),D});function Cde(m,E){var P=[];if(!(m&&m.length))return P;var D=-1,W=[],te=m.length;for(E=cn(E,3);++D<te;){var ue=m[D];E(ue,D,m)&&(P.push(ue),W.push(D))}return Is(m,W),P}function mO(m){return m==null?m:MA.call(m)}function Nde(m,E,P){var D=m==null?0:m.length;return D?(P&&typeof P!="number"&&La(m,E,P)?(E=0,P=D):(E=E==null?0:zn(E),P=P===n?D:zn(P)),Ra(m,E,P)):[]}function Pde(m,E){return Il(m,E)}function jde(m,E,P){return hv(m,E,cn(P,2))}function kde(m,E){var P=m==null?0:m.length;if(P){var D=Il(m,E);if(D<P&&bc(m[D],E))return D}return-1}function Ode(m,E){return Il(m,E,!0)}function Rde(m,E,P){return hv(m,E,cn(P,2),!0)}function Ide(m,E){var P=m==null?0:m.length;if(P){var D=Il(m,E,!0)-1;if(bc(m[D],E))return D}return-1}function Lde(m){return m&&m.length?Pw(m):[]}function Dde(m,E){return m&&m.length?Pw(m,cn(E,2)):[]}function Fde(m){var E=m==null?0:m.length;return E?Ra(m,1,E):[]}function Ude(m,E,P){return m&&m.length?(E=P||E===n?1:zn(E),Ra(m,0,E<0?0:E)):[]}function Bde(m,E,P){var D=m==null?0:m.length;return D?(E=P||E===n?1:zn(E),E=D-E,Ra(m,E<0?0:E,D)):[]}function zde(m,E){return m&&m.length?xm(m,cn(E,3),!1,!0):[]}function $de(m,E){return m&&m.length?xm(m,cn(E,3)):[]}var Vde=en(function(m){return yu(es(m,1,Hi,!0))}),Hde=en(function(m){var E=Dl(m);return Hi(E)&&(E=n),yu(es(m,1,Hi,!0),cn(E,2))}),Wde=en(function(m){var E=Dl(m);return E=typeof E=="function"?E:n,yu(es(m,1,Hi,!0),n,E)});function Gde(m){return m&&m.length?yu(m):[]}function qde(m,E){return m&&m.length?yu(m,cn(E,2)):[]}function Xde(m,E){return E=typeof E=="function"?E:n,m&&m.length?yu(m,n,E):[]}function gO(m){if(!(m&&m.length))return[];var E=0;return m=js(m,function(P){if(Hi(P))return E=$i(P.length,E),!0}),pc(E,function(P){return zr(m,ua(P))})}function b$(m,E){if(!(m&&m.length))return[];var P=gO(m);return E==null?P:zr(P,function(D){return Yr(E,n,D)})}var Kde=en(function(m,E){return Hi(m)?gd(m,E):[]}),Yde=en(function(m){return Ow(js(m,Hi))}),Zde=en(function(m){var E=Dl(m);return Hi(E)&&(E=n),Ow(js(m,Hi),cn(E,2))}),Qde=en(function(m){var E=Dl(m);return E=typeof E=="function"?E:n,Ow(js(m,Hi),n,E)}),Jde=en(gO);function efe(m,E){return xu(m||[],E||[],$o)}function tfe(m,E){return xu(m||[],E||[],xd)}var nfe=en(function(m){var E=m.length,P=E>1?m[E-1]:n;return P=typeof P=="function"?(m.pop(),P):n,b$(m,P)});function w$(m){var E=Z(m);return E.__chain__=!0,E}function rfe(m,E){return E(m),m}function sT(m,E){return E(m)}var ife=Ln(function(m){var E=m.length,P=E?m[0]:0,D=this.__wrapped__,W=function(te){return sv(te,m)};return E>1||this.__actions__.length||!(D instanceof nn)||!wd(P)?this.thru(W):(D=D.slice(P,+P+(E?1:0)),D.__actions__.push({func:sT,args:[W],thisArg:n}),new Os(D,this.__chain__).thru(function(te){return E&&!te.length&&te.push(n),te}))});function sfe(){return w$(this)}function afe(){return new Os(this.value(),this.__chain__)}function ofe(){this.__values__===n&&(this.__values__=I$(this.value()));var m=this.__index__>=this.__values__.length,E=m?n:this.__values__[this.__index__++];return{done:m,value:E}}function lfe(){return this}function cfe(m){for(var E,P=this;P instanceof um;){var D=p$(P);D.__index__=0,D.__values__=n,E?W.__wrapped__=D:E=D;var W=D;P=P.__wrapped__}return W.__wrapped__=m,E}function ufe(){var m=this.__wrapped__;if(m instanceof nn){var E=m;return this.__actions__.length&&(E=new nn(this)),E=E.reverse(),E.__actions__.push({func:sT,args:[mO],thisArg:n}),new Os(E,this.__chain__)}return this.thru(mO)}function dfe(){return vu(this.__wrapped__,this.__actions__)}var ffe=wm(function(m,E,P){fr.call(m,P)?++m[P]:Ol(m,P,1)});function hfe(m,E,P){var D=kn(m)?nw:iO;return P&&La(m,E,P)&&(E=n),D(m,cn(E,3))}function pfe(m,E){var P=kn(m)?js:Sw;return P(m,cn(E,3))}var mfe=k(m$),gfe=k(g$);function yfe(m,E){return es(aT(m,E),1)}function vfe(m,E){return es(aT(m,E),ie)}function xfe(m,E,P){return P=P===n?1:zn(P),es(aT(m,E),P)}function _$(m,E){var P=kn(m)?Bi:Vo;return P(m,cn(E,3))}function S$(m,E){var P=kn(m)?tw:GA;return P(m,cn(E,3))}var bfe=wm(function(m,E,P){fr.call(m,P)?m[P].push(E):Ol(m,P,[E])});function wfe(m,E,P,D){m=lo(m)?m:_v(m),P=P&&!D?zn(P):0;var W=m.length;return P<0&&(P=$i(W+P,0)),dT(m)?P<=W&&m.indexOf(E,P)>-1:!!W&&Do(m,E,P)>-1}var _fe=en(function(m,E,P){var D=-1,W=typeof E=="function",te=lo(m)?Re(m.length):[];return Vo(m,function(ue){te[++D]=W?Yr(E,ue,P):Vr(ue,E,P)}),te}),Sfe=wm(function(m,E,P){Ol(m,P,E)});function aT(m,E){var P=kn(m)?zr:vd;return P(m,cn(E,3))}function Efe(m,E,P,D){return m==null?[]:(kn(E)||(E=E==null?[]:[E]),P=D?n:P,kn(P)||(P=P==null?[]:[P]),ym(m,E,P))}var Afe=wm(function(m,E,P){m[P?0:1].push(E)},function(){return[[],[]]});function Tfe(m,E,P){var D=kn(m)?Ky:lu,W=arguments.length<3;return D(m,cn(E,4),P,W,Vo)}function Mfe(m,E,P){var D=kn(m)?fA:lu,W=arguments.length<3;return D(m,cn(E,4),P,W,GA)}function Cfe(m,E){var P=kn(m)?js:Sw;return P(m,cT(cn(E,3)))}function Nfe(m){var E=kn(m)?dm:KA;return E(m)}function Pfe(m,E,P){(P?La(m,E,P):E===n)?E=1:E=zn(E);var D=kn(m)?yw:Cw;return D(m,E)}function jfe(m){var E=kn(m)?HA:ZA;return E(m)}function kfe(m){if(m==null)return 0;if(lo(m))return dT(m)?Cl(m):m.length;var E=fa(m);return E==Le||E==F?m.size:Rs(m).length}function Ofe(m,E,P){var D=kn(m)?Xp:Nw;return P&&La(m,E,P)&&(E=n),D(m,cn(E,3))}var Rfe=en(function(m,E){if(m==null)return[];var P=E.length;return P>1&&La(m,E[0],E[1])?E=[]:P>2&&La(E[0],E[1],E[2])&&(E=[E[0]]),ym(m,es(E,1),[])}),oT=wA||function(){return Ni.Date.now()};function Ife(m,E){if(typeof E!="function")throw new ea(a);return m=zn(m),function(){if(--m<1)return E.apply(this,arguments)}}function E$(m,E,P){return E=P?n:E,E=m&&E==null?m.length:E,Pe(m,N,n,n,n,n,E)}function A$(m,E){var P;if(typeof E!="function")throw new ea(a);return m=zn(m),function(){return--m>0&&(P=E.apply(this,arguments)),m<=1&&(E=n),P}}var yO=en(function(m,E,P){var D=w;if(P.length){var W=Bo(P,bv(yO));D|=C}return Pe(m,D,E,P,W)}),T$=en(function(m,E,P){var D=w|x;if(P.length){var W=Bo(P,bv(T$));D|=C}return Pe(E,D,m,P,W)});function M$(m,E,P){E=P?n:E;var D=Pe(m,S,n,n,n,n,n,E);return D.placeholder=M$.placeholder,D}function C$(m,E,P){E=P?n:E;var D=Pe(m,A,n,n,n,n,n,E);return D.placeholder=C$.placeholder,D}function N$(m,E,P){var D,W,te,ue,me,Me,Ze=0,Qe=!1,it=!1,wt=!0;if(typeof m!="function")throw new ea(a);E=Fl(E)||0,_i(P)&&(Qe=!!P.leading,it="maxWait"in P,te=it?$i(Fl(P.maxWait)||0,E):te,wt="trailing"in P?!!P.trailing:wt);function Xt(Wi){var wc=D,Ed=W;return D=W=n,Ze=Wi,ue=m.apply(Ed,wc),ue}function dn(Wi){return Ze=Wi,me=Fw(tr,E),Qe?Xt(Wi):ue}function Xn(Wi){var wc=Wi-Me,Ed=Wi-Ze,X$=E-wc;return it?ks(X$,te-Ed):X$}function fn(Wi){var wc=Wi-Me,Ed=Wi-Ze;return Me===n||wc>=E||wc<0||it&&Ed>=te}function tr(){var Wi=oT();if(fn(Wi))return or(Wi);me=Fw(tr,Xn(Wi))}function or(Wi){return me=n,wt&&D?Xt(Wi):(D=W=n,ue)}function qo(){me!==n&&JA(me),Ze=0,D=Me=W=me=n}function Da(){return me===n?ue:or(oT())}function Xo(){var Wi=oT(),wc=fn(Wi);if(D=arguments,W=this,Me=Wi,wc){if(me===n)return dn(Me);if(it)return JA(me),me=Fw(tr,E),Xt(Me)}return me===n&&(me=Fw(tr,E)),ue}return Xo.cancel=qo,Xo.flush=Da,Xo}var Lfe=en(function(m,E){return _w(m,1,E)}),Dfe=en(function(m,E,P){return _w(m,Fl(E)||0,P)});function Ffe(m){return Pe(m,U)}function lT(m,E){if(typeof m!="function"||E!=null&&typeof E!="function")throw new ea(a);var P=function(){var D=arguments,W=E?E.apply(this,D):D[0],te=P.cache;if(te.has(W))return te.get(W);var ue=m.apply(this,D);return P.cache=te.set(W,ue)||te,ue};return P.cache=new(lT.Cache||io),P}lT.Cache=io;function cT(m){if(typeof m!="function")throw new ea(a);return function(){var E=arguments;switch(E.length){case 0:return!m.call(this);case 1:return!m.call(this,E[0]);case 2:return!m.call(this,E[0],E[1]);case 3:return!m.call(this,E[0],E[1],E[2])}return!m.apply(this,E)}}function Ufe(m){return A$(2,m)}var Bfe=QA(function(m,E){E=E.length==1&&kn(E[0])?zr(E[0],Qs(cn())):zr(es(E,1),Qs(cn()));var P=E.length;return en(function(D){for(var W=-1,te=ks(D.length,P);++W<te;)D[W]=E[W].call(this,D[W]);return Yr(m,this,D)})}),vO=en(function(m,E){var P=Bo(E,bv(vO));return Pe(m,C,n,E,P)}),P$=en(function(m,E){var P=Bo(E,bv(P$));return Pe(m,T,n,E,P)}),zfe=Ln(function(m,E){return Pe(m,O,n,n,n,E)});function $fe(m,E){if(typeof m!="function")throw new ea(a);return E=E===n?E:zn(E),en(m,E)}function Vfe(m,E){if(typeof m!="function")throw new ea(a);return E=E==null?0:$i(zn(E),0),en(function(P){var D=P[E],W=wu(P,0,E);return D&&Lo(W,D),Yr(m,this,W)})}function Hfe(m,E,P){var D=!0,W=!0;if(typeof m!="function")throw new ea(a);return _i(P)&&(D="leading"in P?!!P.leading:D,W="trailing"in P?!!P.trailing:W),N$(m,E,{leading:D,maxWait:E,trailing:W})}function Wfe(m){return E$(m,1)}function Gfe(m,E){return vO(Ds(E),m)}function qfe(){if(!arguments.length)return[];var m=arguments[0];return kn(m)?m:[m]}function Xfe(m){return ja(m,p)}function Kfe(m,E){return E=typeof E=="function"?E:n,ja(m,p,E)}function Yfe(m){return ja(m,f|p)}function Zfe(m,E){return E=typeof E=="function"?E:n,ja(m,f|p,E)}function Qfe(m,E){return E==null||av(m,E,Bs(E))}function bc(m,E){return m===E||m!==m&&E!==E}var Jfe=Zt(pm),ehe=Zt(function(m,E){return m>=E}),Em=Rn(function(){return arguments}())?Rn:function(m){return Oi(m)&&fr.call(m,"callee")&&!ev.call(m,"callee")},kn=Re.isArray,the=Wy?Qs(Wy):Pi;function lo(m){return m!=null&&uT(m.length)&&!_d(m)}function Hi(m){return Oi(m)&&lo(m)}function nhe(m){return m===!0||m===!1||Oi(m)&&gs(m)==Je}var oh=SA||NO,rhe=Gy?Qs(Gy):ji;function ihe(m){return Oi(m)&&m.nodeType===1&&!Uw(m)}function she(m){if(m==null)return!0;if(lo(m)&&(kn(m)||typeof m=="string"||typeof m.splice=="function"||oh(m)||wv(m)||Em(m)))return!m.length;var E=fa(m);if(E==Le||E==F)return!m.size;if(Dw(m))return!Rs(m).length;for(var P in m)if(fr.call(m,P))return!1;return!0}function ahe(m,E){return bi(m,E)}function ohe(m,E,P){P=typeof P=="function"?P:n;var D=P?P(m,E):n;return D===n?bi(m,E,n,P):!!D}function xO(m){if(!Oi(m))return!1;var E=gs(m);return E==Fe||E==Ue||typeof m.message=="string"&&typeof m.name=="string"&&!Uw(m)}function lhe(m){return typeof m=="number"&&dw(m)}function _d(m){if(!_i(m))return!1;var E=gs(m);return E==le||E==J||E==Ee||E==ct}function j$(m){return typeof m=="number"&&m==zn(m)}function uT(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=V}function _i(m){var E=typeof m;return m!=null&&(E=="object"||E=="function")}function Oi(m){return m!=null&&typeof m=="object"}var k$=ew?Qs(ew):th;function che(m,E){return m===E||wi(m,E,cO(E))}function uhe(m,E,P){return P=typeof P=="function"?P:n,wi(m,E,cO(E),P)}function dhe(m){return O$(m)&&m!=+m}function fhe(m){if(Kue(m))throw new pn(s);return nh(m)}function hhe(m){return m===null}function phe(m){return m==null}function O$(m){return typeof m=="number"||Oi(m)&&gs(m)==qe}function Uw(m){if(!Oi(m)||gs(m)!=Ke)return!1;var E=rm(m);if(E===null)return!0;var P=fr.call(E,"constructor")&&E.constructor;return typeof P=="function"&&P instanceof P&&qf.call(P)==dd}var bO=qy?Qs(qy):rh;function mhe(m){return j$(m)&&m>=-V&&m<=V}var R$=Xy?Qs(Xy):lv;function dT(m){return typeof m=="string"||!kn(m)&&Oi(m)&&gs(m)==re}function Go(m){return typeof m=="symbol"||Oi(m)&&gs(m)==ye}var wv=cd?Qs(cd):Tw;function ghe(m){return m===n}function yhe(m){return Oi(m)&&fa(m)==pe}function vhe(m){return Oi(m)&&gs(m)==ce}var xhe=Zt(mm),bhe=Zt(function(m,E){return m<=E});function I$(m){if(!m)return[];if(lo(m))return dT(m)?hi(m):Fs(m);if(fu&&m[fu])return Bf(m[fu]());var E=fa(m),P=E==Le?Qp:E==F?Jp:_v;return P(m)}function Sd(m){if(!m)return m===0?m:0;if(m=Fl(m),m===ie||m===-ie){var E=m<0?-1:1;return E*X}return m===m?m:0}function zn(m){var E=Sd(m),P=E%1;return E===E?P?E-P:E:0}function L$(m){return m?mu(zn(m),0,oe):0}function Fl(m){if(typeof m=="number")return m;if(Go(m))return z;if(_i(m)){var E=typeof m.valueOf=="function"?m.valueOf():m;m=_i(E)?E+"":E}if(typeof m!="string")return m===0?m:+m;m=Zy(m);var P=ee.test(m);return P||je.test(m)?Yk(m.slice(2),P?2:8):Kb.test(m)?z:+m}function D$(m){return oo(m,co(m))}function whe(m){return m?mu(zn(m),-V,V):m===0?m:0}function Tr(m){return m==null?"":Ls(m)}var _he=bd(function(m,E){if(Dw(E)||lo(E)){oo(E,Bs(E),m);return}for(var P in E)fr.call(E,P)&&$o(m,P,E[P])}),F$=bd(function(m,E){oo(E,co(E),m)}),fT=bd(function(m,E,P,D){oo(E,co(E),m,D)}),She=bd(function(m,E,P,D){oo(E,Bs(E),m,D)}),Ehe=Ln(sv);function Ahe(m,E){var P=yc(m);return E==null?P:bw(P,E)}var The=en(function(m,E){m=un(m);var P=-1,D=E.length,W=D>2?E[2]:n;for(W&&La(E[0],E[1],W)&&(D=1);++P<D;)for(var te=E[P],ue=co(te),me=-1,Me=ue.length;++me<Me;){var Ze=ue[me],Qe=m[Ze];(Qe===n||bc(Qe,Gf[Ze])&&!fr.call(m,Ze))&&(m[Ze]=te[Ze])}return m}),Mhe=en(function(m){return m.push(n,De),Yr(U$,n,m)});function Che(m,E){return rw(m,cn(E,3),ka)}function Nhe(m,E){return rw(m,cn(E,3),Jf)}function Phe(m,E){return m==null?m:Qf(m,cn(E,3),co)}function jhe(m,E){return m==null?m:hm(m,cn(E,3),co)}function khe(m,E){return m&&ka(m,cn(E,3))}function Ohe(m,E){return m&&Jf(m,cn(E,3))}function Rhe(m){return m==null?[]:yd(m,Bs(m))}function Ihe(m){return m==null?[]:yd(m,co(m))}function wO(m,E,P){var D=m==null?n:Ho(m,E);return D===n?P:D}function Lhe(m,E){return m!=null&&i$(m,E,XA)}function _O(m,E){return m!=null&&i$(m,E,Ew)}var Dhe=ae(function(m,E,P){E!=null&&typeof E.toString!="function"&&(E=Na.call(E)),m[E]=P},EO(uo)),Fhe=ae(function(m,E,P){E!=null&&typeof E.toString!="function"&&(E=Na.call(E)),fr.call(m,E)?m[E].push(P):m[E]=[P]},cn),Uhe=en(Vr);function Bs(m){return lo(m)?xt(m):Rs(m)}function co(m){return lo(m)?xt(m,!0):Mw(m)}function Bhe(m,E){var P={};return E=cn(E,3),ka(m,function(D,W,te){Ol(P,E(D,W,te),D)}),P}function zhe(m,E){var P={};return E=cn(E,3),ka(m,function(D,W,te){Ol(P,W,E(D,W,te))}),P}var $he=bd(function(m,E,P){Wo(m,E,P)}),U$=bd(function(m,E,P,D){Wo(m,E,P,D)}),Vhe=Ln(function(m,E){var P={};if(m==null)return P;var D=!1;E=zr(E,function(te){return te=bu(te,m),D||(D=te.length>1),te}),oo(m,sr(m),P),D&&(P=ja(P,f|h|p,St));for(var W=E.length;W--;)jw(P,E[W]);return P});function Hhe(m,E){return B$(m,cT(cn(E)))}var Whe=Ln(function(m,E){return m==null?{}:vm(m,E)});function B$(m,E){if(m==null)return{};var P=zr(sr(m),function(D){return[D]});return E=cn(E),dv(m,P,function(D,W){return E(D,W[0])})}function Ghe(m,E,P){E=bu(E,m);var D=-1,W=E.length;for(W||(W=1,m=n);++D<W;){var te=m==null?n:m[Su(E[D])];te===n&&(D=W,te=P),m=_d(te)?te.call(m):te}return m}function qhe(m,E,P){return m==null?m:xd(m,E,P)}function Xhe(m,E,P,D){return D=typeof D=="function"?D:n,m==null?m:xd(m,E,P,D)}var z$=Ia(Bs),$$=Ia(co);function Khe(m,E,P){var D=kn(m),W=D||oh(m)||wv(m);if(E=cn(E,4),P==null){var te=m&&m.constructor;W?P=D?new te:[]:_i(m)?P=_d(te)?yc(rm(m)):{}:P={}}return(W?Bi:ka)(m,function(ue,me,Me){return E(P,ue,me,Me)}),P}function Yhe(m,E){return m==null?!0:jw(m,E)}function Zhe(m,E,P){return m==null?m:kw(m,E,Ds(P))}function Qhe(m,E,P,D){return D=typeof D=="function"?D:n,m==null?m:kw(m,E,Ds(P),D)}function _v(m){return m==null?[]:Js(m,Bs(m))}function Jhe(m){return m==null?[]:Js(m,co(m))}function epe(m,E,P){return P===n&&(P=E,E=n),P!==n&&(P=Fl(P),P=P===P?P:0),E!==n&&(E=Fl(E),E=E===E?E:0),mu(Fl(m),E,P)}function tpe(m,E,P){return E=Sd(E),P===n?(P=E,E=0):P=Sd(P),m=Fl(m),sO(m,E,P)}function npe(m,E,P){if(P&&typeof P!="boolean"&&La(m,E,P)&&(E=P=n),P===n&&(typeof E=="boolean"?(P=E,E=n):typeof m=="boolean"&&(P=m,m=n)),m===n&&E===n?(m=0,E=1):(m=Sd(m),E===n?(E=m,m=0):E=Sd(E)),m>E){var D=m;m=E,E=D}if(P||m%1||E%1){var W=fw();return ks(m+W*(E-m+dA("1e-"+((W+"").length-1))),E)}return Rl(m,E)}var rpe=y(function(m,E,P){return E=E.toLowerCase(),m+(P?V$(E):E)});function V$(m){return SO(Tr(m).toLowerCase())}function H$(m){return m=Tr(m),m&&m.replace(Te,gA).replace(Zi,"")}function ipe(m,E,P){m=Tr(m),E=Ls(E);var D=m.length;P=P===n?D:mu(zn(P),0,D);var W=P;return P-=E.length,P>=0&&m.slice(P,W)==E}function spe(m){return m=Tr(m),m&&qn.test(m)?m.replace(vt,yA):m}function ape(m){return m=Tr(m),m&&vi.test(m)?m.replace(ca,"\\$&"):m}var ope=y(function(m,E,P){return m+(P?"-":"")+E.toLowerCase()}),lpe=y(function(m,E,P){return m+(P?" ":"")+E.toLowerCase()}),cpe=nT("toLowerCase");function upe(m,E,P){m=Tr(m),E=zn(E);var D=E?Cl(m):0;if(!E||D>=E)return m;var W=(E-D)/2;return ot(am(W),P)+m+ot(sm(W),P)}function dpe(m,E,P){m=Tr(m),E=zn(E);var D=E?Cl(m):0;return E&&D<E?m+ot(E-D,P):m}function fpe(m,E,P){m=Tr(m),E=zn(E);var D=E?Cl(m):0;return E&&D<E?ot(E-D,P)+m:m}function hpe(m,E,P){return P||E==null?E=0:E&&(E=+E),TA(Tr(m).replace(fs,""),E||0)}function ppe(m,E,P){return(P?La(m,E,P):E===n)?E=1:E=zn(E),ah(Tr(m),E)}function mpe(){var m=arguments,E=Tr(m[0]);return m.length<3?E:E.replace(m[1],m[2])}var gpe=y(function(m,E,P){return m+(P?"_":"")+E.toLowerCase()});function ype(m,E,P){return P&&typeof P!="number"&&La(m,E,P)&&(E=P=n),P=P===n?oe:P>>>0,P?(m=Tr(m),m&&(typeof E=="string"||E!=null&&!bO(E))&&(E=Ls(E),!E&&ud(m))?wu(hi(m),0,P):m.split(E,P)):[]}var vpe=y(function(m,E,P){return m+(P?" ":"")+SO(E)});function xpe(m,E,P){return m=Tr(m),P=P==null?0:mu(zn(P),0,m.length),E=Ls(E),m.slice(P,P+E.length)==E}function bpe(m,E,P){var D=Z.templateSettings;P&&La(m,E,P)&&(E=n),m=Tr(m),E=fT({},E,D,Se);var W=fT({},E.imports,D.imports,Se),te=Bs(W),ue=Js(W,te),me,Me,Ze=0,Qe=E.interpolate||dt,it="__p += '",wt=Qi((E.escape||dt).source+"|"+Qe.source+"|"+(Qe===zt?Xb:dt).source+"|"+(E.evaluate||dt).source+"|$","g"),Xt="//# sourceURL="+(fr.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Al+"]")+`
`;m.replace(wt,function(fn,tr,or,qo,Da,Xo){return or||(or=qo),it+=m.slice(Ze,Xo).replace(Et,iw),tr&&(me=!0,it+=`' +
__e(`+tr+`) +
'`),Da&&(Me=!0,it+=`';
`+Da+`;
__p += '`),or&&(it+=`' +
((__t = (`+or+`)) == null ? '' : __t) +
'`),Ze=Xo+fn.length,fn}),it+=`';
`;var dn=fr.call(E,"variable")&&E.variable;if(!dn)it=`with (obj) {
`+it+`
}
`;else if(Ly.test(dn))throw new pn(o);it=(Me?it.replace(ve,""):it).replace(_t,"$1").replace(Be,"$1;"),it="function("+(dn||"obj")+`) {
`+(dn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(me?", __e = _.escape":"")+(Me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+it+`return __p
}`;var Xn=G$(function(){return Nn(te,Xt+"return "+it).apply(n,ue)});if(Xn.source=it,xO(Xn))throw Xn;return Xn}function wpe(m){return Tr(m).toLowerCase()}function _pe(m){return Tr(m).toUpperCase()}function Spe(m,E,P){if(m=Tr(m),m&&(P||E===n))return Zy(m);if(!m||!(E=Ls(E)))return m;var D=hi(m),W=hi(E),te=$r(D,W),ue=Uf(D,W)+1;return wu(D,te,ue).join("")}function Epe(m,E,P){if(m=Tr(m),m&&(P||E===n))return m.slice(0,Vf(m)+1);if(!m||!(E=Ls(E)))return m;var D=hi(m),W=Uf(D,hi(E))+1;return wu(D,0,W).join("")}function Ape(m,E,P){if(m=Tr(m),m&&(P||E===n))return m.replace(fs,"");if(!m||!(E=Ls(E)))return m;var D=hi(m),W=$r(D,hi(E));return wu(D,W).join("")}function Tpe(m,E){var P=R,D=I;if(_i(E)){var W="separator"in E?E.separator:W;P="length"in E?zn(E.length):P,D="omission"in E?Ls(E.omission):D}m=Tr(m);var te=m.length;if(ud(m)){var ue=hi(m);te=ue.length}if(P>=te)return m;var me=P-Cl(D);if(me<1)return D;var Me=ue?wu(ue,0,me).join(""):m.slice(0,me);if(W===n)return Me+D;if(ue&&(me+=Me.length-me),bO(W)){if(m.slice(me).search(W)){var Ze,Qe=Me;for(W.global||(W=Qi(W.source,Tr(Fy.exec(W))+"g")),W.lastIndex=0;Ze=W.exec(Qe);)var it=Ze.index;Me=Me.slice(0,it===n?me:it)}}else if(m.indexOf(Ls(W),me)!=me){var wt=Me.lastIndexOf(W);wt>-1&&(Me=Me.slice(0,wt))}return Me+D}function Mpe(m){return m=Tr(m),m&&gt.test(m)?m.replace(et,Hf):m}var Cpe=y(function(m,E,P){return m+(P?" ":"")+E.toUpperCase()}),SO=nT("toUpperCase");function W$(m,E,P){return m=Tr(m),E=P?n:E,E===n?Zp(m)?Wf(m):pA(m):m.match(E)||[]}var G$=en(function(m,E){try{return Yr(m,n,E)}catch(P){return xO(P)?P:new pn(P)}}),Npe=Ln(function(m,E){return Bi(E,function(P){P=Su(P),Ol(m,P,yO(m[P],m))}),m});function Ppe(m){var E=m==null?0:m.length,P=cn();return m=E?zr(m,function(D){if(typeof D[1]!="function")throw new ea(a);return[P(D[0]),D[1]]}):[],en(function(D){for(var W=-1;++W<E;){var te=m[W];if(Yr(te[0],this,D))return Yr(te[1],this,D)}})}function jpe(m){return ww(ja(m,f))}function EO(m){return function(){return m}}function kpe(m,E){return m==null||m!==m?E:m}var Ope=L(),Rpe=L(!0);function uo(m){return m}function AO(m){return ih(typeof m=="function"?m:ja(m,f))}function Ipe(m){return gm(ja(m,f))}function Lpe(m,E){return cv(m,ja(E,f))}var Dpe=en(function(m,E){return function(P){return Vr(P,m,E)}}),Fpe=en(function(m,E){return function(P){return Vr(m,P,E)}});function TO(m,E,P){var D=Bs(E),W=yd(E,D);P==null&&!(_i(E)&&(W.length||!D.length))&&(P=E,E=m,m=this,W=yd(E,Bs(E)));var te=!(_i(P)&&"chain"in P)||!!P.chain,ue=_d(m);return Bi(W,function(me){var Me=E[me];m[me]=Me,ue&&(m.prototype[me]=function(){var Ze=this.__chain__;if(te||Ze){var Qe=m(this.__wrapped__),it=Qe.__actions__=Fs(this.__actions__);return it.push({func:Me,args:arguments,thisArg:m}),Qe.__chain__=Ze,Qe}return Me.apply(m,Lo([this.value()],arguments))})}),m}function Upe(){return Ni._===this&&(Ni._=Qy),this}function MO(){}function Bpe(m){return m=zn(m),en(function(E){return vc(E,m)})}var zpe=ze(zr),$pe=ze(nw),Vpe=ze(Xp);function q$(m){return dO(m)?ua(Su(m)):fv(m)}function Hpe(m){return function(E){return m==null?n:Ho(m,E)}}var Wpe=xn(),Gpe=xn(!0);function CO(){return[]}function NO(){return!1}function qpe(){return{}}function Xpe(){return""}function Kpe(){return!0}function Ype(m,E){if(m=zn(m),m<1||m>V)return[];var P=oe,D=ks(m,oe);E=cn(E),m-=oe;for(var W=pc(D,E);++P<m;)E(P);return W}function Zpe(m){return kn(m)?zr(m,Su):Go(m)?[m]:Fs(h$(Tr(m)))}function Qpe(m){var E=++ow;return Tr(m)+E}var Jpe=we(function(m,E){return m+E},0),eme=Ht("ceil"),tme=we(function(m,E){return m/E},1),nme=Ht("floor");function rme(m){return m&&m.length?fm(m,uo,pm):n}function ime(m,E){return m&&m.length?fm(m,cn(E,2),pm):n}function sme(m){return Yp(m,uo)}function ame(m,E){return Yp(m,cn(E,2))}function ome(m){return m&&m.length?fm(m,uo,mm):n}function lme(m,E){return m&&m.length?fm(m,cn(E,2),mm):n}var cme=we(function(m,E){return m*E},1),ume=Ht("round"),dme=we(function(m,E){return m-E},0);function fme(m){return m&&m.length?Fo(m,uo):0}function hme(m,E){return m&&m.length?Fo(m,cn(E,2)):0}return Z.after=Ife,Z.ary=E$,Z.assign=_he,Z.assignIn=F$,Z.assignInWith=fT,Z.assignWith=She,Z.at=Ehe,Z.before=A$,Z.bind=yO,Z.bindAll=Npe,Z.bindKey=T$,Z.castArray=qfe,Z.chain=w$,Z.chunk=nde,Z.compact=rde,Z.concat=ide,Z.cond=Ppe,Z.conforms=jpe,Z.constant=EO,Z.countBy=ffe,Z.create=Ahe,Z.curry=M$,Z.curryRight=C$,Z.debounce=N$,Z.defaults=The,Z.defaultsDeep=Mhe,Z.defer=Lfe,Z.delay=Dfe,Z.difference=sde,Z.differenceBy=ade,Z.differenceWith=ode,Z.drop=lde,Z.dropRight=cde,Z.dropRightWhile=ude,Z.dropWhile=dde,Z.fill=fde,Z.filter=pfe,Z.flatMap=yfe,Z.flatMapDeep=vfe,Z.flatMapDepth=xfe,Z.flatten=y$,Z.flattenDeep=hde,Z.flattenDepth=pde,Z.flip=Ffe,Z.flow=Ope,Z.flowRight=Rpe,Z.fromPairs=mde,Z.functions=Rhe,Z.functionsIn=Ihe,Z.groupBy=bfe,Z.initial=yde,Z.intersection=vde,Z.intersectionBy=xde,Z.intersectionWith=bde,Z.invert=Dhe,Z.invertBy=Fhe,Z.invokeMap=_fe,Z.iteratee=AO,Z.keyBy=Sfe,Z.keys=Bs,Z.keysIn=co,Z.map=aT,Z.mapKeys=Bhe,Z.mapValues=zhe,Z.matches=Ipe,Z.matchesProperty=Lpe,Z.memoize=lT,Z.merge=$he,Z.mergeWith=U$,Z.method=Dpe,Z.methodOf=Fpe,Z.mixin=TO,Z.negate=cT,Z.nthArg=Bpe,Z.omit=Vhe,Z.omitBy=Hhe,Z.once=Ufe,Z.orderBy=Efe,Z.over=zpe,Z.overArgs=Bfe,Z.overEvery=$pe,Z.overSome=Vpe,Z.partial=vO,Z.partialRight=P$,Z.partition=Afe,Z.pick=Whe,Z.pickBy=B$,Z.property=q$,Z.propertyOf=Hpe,Z.pull=Ede,Z.pullAll=x$,Z.pullAllBy=Ade,Z.pullAllWith=Tde,Z.pullAt=Mde,Z.range=Wpe,Z.rangeRight=Gpe,Z.rearg=zfe,Z.reject=Cfe,Z.remove=Cde,Z.rest=$fe,Z.reverse=mO,Z.sampleSize=Pfe,Z.set=qhe,Z.setWith=Xhe,Z.shuffle=jfe,Z.slice=Nde,Z.sortBy=Rfe,Z.sortedUniq=Lde,Z.sortedUniqBy=Dde,Z.split=ype,Z.spread=Vfe,Z.tail=Fde,Z.take=Ude,Z.takeRight=Bde,Z.takeRightWhile=zde,Z.takeWhile=$de,Z.tap=rfe,Z.throttle=Hfe,Z.thru=sT,Z.toArray=I$,Z.toPairs=z$,Z.toPairsIn=$$,Z.toPath=Zpe,Z.toPlainObject=D$,Z.transform=Khe,Z.unary=Wfe,Z.union=Vde,Z.unionBy=Hde,Z.unionWith=Wde,Z.uniq=Gde,Z.uniqBy=qde,Z.uniqWith=Xde,Z.unset=Yhe,Z.unzip=gO,Z.unzipWith=b$,Z.update=Zhe,Z.updateWith=Qhe,Z.values=_v,Z.valuesIn=Jhe,Z.without=Kde,Z.words=W$,Z.wrap=Gfe,Z.xor=Yde,Z.xorBy=Zde,Z.xorWith=Qde,Z.zip=Jde,Z.zipObject=efe,Z.zipObjectDeep=tfe,Z.zipWith=nfe,Z.entries=z$,Z.entriesIn=$$,Z.extend=F$,Z.extendWith=fT,TO(Z,Z),Z.add=Jpe,Z.attempt=G$,Z.camelCase=rpe,Z.capitalize=V$,Z.ceil=eme,Z.clamp=epe,Z.clone=Xfe,Z.cloneDeep=Yfe,Z.cloneDeepWith=Zfe,Z.cloneWith=Kfe,Z.conformsTo=Qfe,Z.deburr=H$,Z.defaultTo=kpe,Z.divide=tme,Z.endsWith=ipe,Z.eq=bc,Z.escape=spe,Z.escapeRegExp=ape,Z.every=hfe,Z.find=mfe,Z.findIndex=m$,Z.findKey=Che,Z.findLast=gfe,Z.findLastIndex=g$,Z.findLastKey=Nhe,Z.floor=nme,Z.forEach=_$,Z.forEachRight=S$,Z.forIn=Phe,Z.forInRight=jhe,Z.forOwn=khe,Z.forOwnRight=Ohe,Z.get=wO,Z.gt=Jfe,Z.gte=ehe,Z.has=Lhe,Z.hasIn=_O,Z.head=v$,Z.identity=uo,Z.includes=wfe,Z.indexOf=gde,Z.inRange=tpe,Z.invoke=Uhe,Z.isArguments=Em,Z.isArray=kn,Z.isArrayBuffer=the,Z.isArrayLike=lo,Z.isArrayLikeObject=Hi,Z.isBoolean=nhe,Z.isBuffer=oh,Z.isDate=rhe,Z.isElement=ihe,Z.isEmpty=she,Z.isEqual=ahe,Z.isEqualWith=ohe,Z.isError=xO,Z.isFinite=lhe,Z.isFunction=_d,Z.isInteger=j$,Z.isLength=uT,Z.isMap=k$,Z.isMatch=che,Z.isMatchWith=uhe,Z.isNaN=dhe,Z.isNative=fhe,Z.isNil=phe,Z.isNull=hhe,Z.isNumber=O$,Z.isObject=_i,Z.isObjectLike=Oi,Z.isPlainObject=Uw,Z.isRegExp=bO,Z.isSafeInteger=mhe,Z.isSet=R$,Z.isString=dT,Z.isSymbol=Go,Z.isTypedArray=wv,Z.isUndefined=ghe,Z.isWeakMap=yhe,Z.isWeakSet=vhe,Z.join=wde,Z.kebabCase=ope,Z.last=Dl,Z.lastIndexOf=_de,Z.lowerCase=lpe,Z.lowerFirst=cpe,Z.lt=xhe,Z.lte=bhe,Z.max=rme,Z.maxBy=ime,Z.mean=sme,Z.meanBy=ame,Z.min=ome,Z.minBy=lme,Z.stubArray=CO,Z.stubFalse=NO,Z.stubObject=qpe,Z.stubString=Xpe,Z.stubTrue=Kpe,Z.multiply=cme,Z.nth=Sde,Z.noConflict=Upe,Z.noop=MO,Z.now=oT,Z.pad=upe,Z.padEnd=dpe,Z.padStart=fpe,Z.parseInt=hpe,Z.random=npe,Z.reduce=Tfe,Z.reduceRight=Mfe,Z.repeat=ppe,Z.replace=mpe,Z.result=Ghe,Z.round=ume,Z.runInContext=ge,Z.sample=Nfe,Z.size=kfe,Z.snakeCase=gpe,Z.some=Ofe,Z.sortedIndex=Pde,Z.sortedIndexBy=jde,Z.sortedIndexOf=kde,Z.sortedLastIndex=Ode,Z.sortedLastIndexBy=Rde,Z.sortedLastIndexOf=Ide,Z.startCase=vpe,Z.startsWith=xpe,Z.subtract=dme,Z.sum=fme,Z.sumBy=hme,Z.template=bpe,Z.times=Ype,Z.toFinite=Sd,Z.toInteger=zn,Z.toLength=L$,Z.toLower=wpe,Z.toNumber=Fl,Z.toSafeInteger=whe,Z.toString=Tr,Z.toUpper=_pe,Z.trim=Spe,Z.trimEnd=Epe,Z.trimStart=Ape,Z.truncate=Tpe,Z.unescape=Mpe,Z.uniqueId=Qpe,Z.upperCase=Cpe,Z.upperFirst=SO,Z.each=_$,Z.eachRight=S$,Z.first=v$,TO(Z,function(){var m={};return ka(Z,function(E,P){fr.call(Z.prototype,P)||(m[P]=E)}),m}(),{chain:!1}),Z.VERSION=r,Bi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(m){Z[m].placeholder=Z}),Bi(["drop","take"],function(m,E){nn.prototype[m]=function(P){P=P===n?1:$i(zn(P),0);var D=this.__filtered__&&!E?new nn(this):this.clone();return D.__filtered__?D.__takeCount__=ks(P,D.__takeCount__):D.__views__.push({size:ks(P,oe),type:m+(D.__dir__<0?"Right":"")}),D},nn.prototype[m+"Right"]=function(P){return this.reverse()[m](P).reverse()}}),Bi(["filter","map","takeWhile"],function(m,E){var P=E+1,D=P==K||P==q;nn.prototype[m]=function(W){var te=this.clone();return te.__iteratees__.push({iteratee:cn(W,3),type:P}),te.__filtered__=te.__filtered__||D,te}}),Bi(["head","last"],function(m,E){var P="take"+(E?"Right":"");nn.prototype[m]=function(){return this[P](1).value()[0]}}),Bi(["initial","tail"],function(m,E){var P="drop"+(E?"":"Right");nn.prototype[m]=function(){return this.__filtered__?new nn(this):this[P](1)}}),nn.prototype.compact=function(){return this.filter(uo)},nn.prototype.find=function(m){return this.filter(m).head()},nn.prototype.findLast=function(m){return this.reverse().find(m)},nn.prototype.invokeMap=en(function(m,E){return typeof m=="function"?new nn(this):this.map(function(P){return Vr(P,m,E)})}),nn.prototype.reject=function(m){return this.filter(cT(cn(m)))},nn.prototype.slice=function(m,E){m=zn(m);var P=this;return P.__filtered__&&(m>0||E<0)?new nn(P):(m<0?P=P.takeRight(-m):m&&(P=P.drop(m)),E!==n&&(E=zn(E),P=E<0?P.dropRight(-E):P.take(E-m)),P)},nn.prototype.takeRightWhile=function(m){return this.reverse().takeWhile(m).reverse()},nn.prototype.toArray=function(){return this.take(oe)},ka(nn.prototype,function(m,E){var P=/^(?:filter|find|map|reject)|While$/.test(E),D=/^(?:head|last)$/.test(E),W=Z[D?"take"+(E=="last"?"Right":""):E],te=D||/^find/.test(E);W&&(Z.prototype[E]=function(){var ue=this.__wrapped__,me=D?[1]:arguments,Me=ue instanceof nn,Ze=me[0],Qe=Me||kn(ue),it=function(tr){var or=W.apply(Z,Lo([tr],me));return D&&wt?or[0]:or};Qe&&P&&typeof Ze=="function"&&Ze.length!=1&&(Me=Qe=!1);var wt=this.__chain__,Xt=!!this.__actions__.length,dn=te&&!wt,Xn=Me&&!Xt;if(!te&&Qe){ue=Xn?ue:new nn(this);var fn=m.apply(ue,me);return fn.__actions__.push({func:sT,args:[it],thisArg:n}),new Os(fn,wt)}return dn&&Xn?m.apply(this,me):(fn=this.thru(it),dn?D?fn.value()[0]:fn.value():fn)})}),Bi(["pop","push","shift","sort","splice","unshift"],function(m){var E=uu[m],P=/^(?:push|sort|unshift)$/.test(m)?"tap":"thru",D=/^(?:pop|shift)$/.test(m);Z.prototype[m]=function(){var W=arguments;if(D&&!this.__chain__){var te=this.value();return E.apply(kn(te)?te:[],W)}return this[P](function(ue){return E.apply(kn(ue)?ue:[],W)})}}),ka(nn.prototype,function(m,E){var P=Z[E];if(P){var D=P.name+"";fr.call(pd,D)||(pd[D]=[]),pd[D].push({name:E,func:P})}}),pd[H(n,x).name]=[{name:"wrapper",func:n}],nn.prototype.clone=Jk,nn.prototype.reverse=eO,nn.prototype.value=Pa,Z.prototype.at=ife,Z.prototype.chain=sfe,Z.prototype.commit=afe,Z.prototype.next=ofe,Z.prototype.plant=cfe,Z.prototype.reverse=ufe,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=dfe,Z.prototype.first=Z.prototype.head,fu&&(Z.prototype[fu]=lfe),Z},cu=bA();hs?((hs.exports=cu)._=cu,Jb._=cu):Ni._=cu}).call(rl)})(S2,S2.exports);var $dt=S2.exports;const Vdt=()=>{const[t,e]=j.useState(!1),[n,r]=j.useState(null),[i,s]=j.useState(null);return{checkUsername:j.useCallback($dt.debounce(async o=>{if(!o){r(null),s(null);return}const c=zdt(o);if(!c.valid){r(c.error||"Invalid username"),s(!1),e(!1);return}e(!0),r(null);try{const{data:u,error:d}=await Xe.functions.invoke("check-username",{body:{username:o}});if(d)throw d;u.available?(s(!0),r(null)):(s(!1),r("Username is already taken"))}catch{r("Failed to check username availability"),s(!1)}finally{e(!1)}},500),[]),isChecking:t,error:n,isAvailable:i}},Hdt=({value:t,onChange:e,currentUsername:n})=>{const{checkUsername:r,isChecking:i,error:s,isAvailable:a}=Vdt(),[o,c]=j.useState(!1);j.useEffect(()=>{t&&t!==n&&(r(t),c(!0))},[t,n,r]);const u=o&&a&&!s&&!i&&t!==n,d=o&&(s||a===!1)&&!i;return l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"username",children:"Username"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ft,{id:"username",value:t,onChange:f=>e(f.target.value.toLowerCase().replace(/[^a-z0-9_-]/g,"")),placeholder:"Enter username",className:`pr-10 ${u?"border-green-500":d?"border-red-500":""}`}),l.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[i&&l.jsx(ri,{className:"h-4 w-4 animate-spin text-muted-foreground"}),u&&l.jsx(Ou,{className:"h-4 w-4 text-green-500"}),d&&l.jsx(xl,{className:"h-4 w-4 text-red-500"})]})]}),d&&l.jsx("p",{className:"text-sm text-red-500",children:s}),u&&l.jsx("p",{className:"text-sm text-green-500",children:"Username is available!"}),l.jsx(F5,{children:l.jsxs(U5,{className:"text-sm",children:["Your profile will be accessible at: ",l.jsxs("strong",{children:["agentbio.net/",t||"username"]})]})}),l.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsx("p",{children:"Username requirements:"}),l.jsxs("ul",{className:"list-disc list-inside ml-2",children:[l.jsx("li",{children:"3-30 characters"}),l.jsx("li",{children:"Letters, numbers, hyphens, and underscores only"}),l.jsx("li",{children:"No profanity or reserved words"})]})]})]})};function Wdt(){var A,C,T;const{user:t}=la(),{settings:e,updateSettings:n}=Idt(),{toast:r}=Ef(),i=vl(),[s,a]=j.useState({emailLeads:!0,smsLeads:!1,weeklyReport:!0,marketingEmails:!1}),[o,c]=j.useState({showListings:!0,showSoldProperties:!0,showTestimonials:!0,showSocialProof:!0,showContactButtons:!0}),[u,d]=j.useState({current:"",new:"",confirm:""}),{data:f,isLoading:h}=Ir({queryKey:["profile",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{data:N,error:O}=await Xe.from("profiles").select("*").eq("id",t.id).single();if(O)throw O;return N},enabled:!!(t!=null&&t.id)}),[p,g]=j.useState({username:"",full_name:"",bio:""});j.useEffect(()=>{f&&g({username:f.username||"",full_name:f.full_name||"",bio:f.bio||""})},[f]);const v=Yn({mutationFn:async N=>{if(!(t!=null&&t.id))throw new Error("Not authenticated");const{error:O}=await Xe.from("profiles").update({username:N.username,full_name:N.full_name,bio:N.bio,updated_at:new Date().toISOString()}).eq("id",t.id);if(O)throw O},onSuccess:()=>{i.invalidateQueries({queryKey:["profile"]}),r({title:"Profile updated",description:"Your profile has been updated successfully."})},onError:N=>{r({title:"Error",description:N instanceof Error?N.message:"Failed to update profile",variant:"destructive"})}});j.useEffect(()=>{e&&(a({emailLeads:e.email_leads,smsLeads:e.sms_leads,weeklyReport:e.weekly_report,marketingEmails:e.marketing_emails}),c({showListings:e.show_listings,showSoldProperties:e.show_sold_properties,showTestimonials:e.show_testimonials,showSocialProof:e.show_social_proof,showContactButtons:e.show_contact_buttons}))},[e]);const w=async(N,O)=>{a(R=>({...R,[N]:O}));const U=N==="emailLeads"?"email_leads":N==="smsLeads"?"sms_leads":N==="weeklyReport"?"weekly_report":"marketing_emails";try{await n.mutateAsync({[U]:O}),r({title:"Settings updated",description:"Your notification preferences have been saved."})}catch{r({title:"Error",description:"Failed to update settings.",variant:"destructive"})}},x=async(N,O)=>{c(R=>({...R,[N]:O}));const U=N==="showListings"?"show_listings":N==="showSoldProperties"?"show_sold_properties":N==="showTestimonials"?"show_testimonials":N==="showSocialProof"?"show_social_proof":"show_contact_buttons";try{await n.mutateAsync({[U]:O}),r({title:"Profile visibility updated",description:"Your profile display preferences have been saved."})}catch{r({title:"Error",description:"Failed to update visibility settings.",variant:"destructive"})}},_=async N=>{if(N.preventDefault(),u.new!==u.confirm){r({title:"Error",description:"New passwords don't match.",variant:"destructive"});return}if(u.new.length<6){r({title:"Error",description:"Password must be at least 6 characters.",variant:"destructive"});return}try{const{error:O}=await Xe.auth.updateUser({password:u.new});if(O)throw O;r({title:"Password updated",description:"Your password has been changed successfully."}),d({current:"",new:"",confirm:""})}catch(O){r({title:"Error",description:O.message||"Failed to update password.",variant:"destructive"})}},S=t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Unknown";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Account Settings"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and preferences"})]}),l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsx(Nr,{children:"Profile & Username"}),l.jsx(Gr,{children:"Manage your public profile and unique URL"})]}),l.jsxs(bn,{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center gap-6",children:l.jsxs(sS,{className:"w-20 h-20",children:[l.jsx(aS,{src:(f==null?void 0:f.avatar_url)||void 0}),l.jsx(oS,{className:"text-xl",children:((A=f==null?void 0:f.full_name)==null?void 0:A[0])||((C=f==null?void 0:f.username)==null?void 0:C[0])||"U"})]})}),l.jsx(Hdt,{value:p.username,onChange:N=>g({...p,username:N}),currentUsername:f==null?void 0:f.username}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"full_name",children:"Full Name"}),l.jsx(Ft,{id:"full_name",value:p.full_name,onChange:N=>g({...p,full_name:N.target.value}),placeholder:"Enter your full name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"bio",children:"Bio"}),l.jsx(lc,{id:"bio",value:p.bio,onChange:N=>g({...p,bio:N.target.value}),placeholder:"Tell us about yourself",rows:4,maxLength:500}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[((T=p.bio)==null?void 0:T.length)||0,"/500 characters"]})]}),l.jsxs("button",{onClick:()=>v.mutate(p),disabled:v.isPending,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium disabled:opacity-50",children:[l.jsx(_0,{className:"h-4 w-4"}),v.isPending?"Saving...":"Save Profile Changes"]})]})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Qg,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Account Information"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between py-3 border-b border-border",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Email Address"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:(t==null?void 0:t.email)||"Not available"})]})}),l.jsx("div",{className:"flex items-center justify-between py-3 border-b border-border",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"User ID"}),l.jsx("div",{className:"text-sm text-muted-foreground font-mono text-xs",children:(t==null?void 0:t.id)||"Not available"})]})}),l.jsx("div",{className:"flex items-center justify-between py-3",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Member Since"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:S})]})})]})]}),l.jsxs("form",{onSubmit:_,className:"bg-card border border-border rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(mN,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Change Password"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"New Password"}),l.jsx("input",{type:"password",value:u.new,onChange:N=>d({...u,new:N.target.value}),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,minLength:6})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Confirm New Password"}),l.jsx("input",{type:"password",value:u.confirm,onChange:N=>d({...u,confirm:N.target.value}),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,minLength:6})]}),l.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[l.jsx(_0,{className:"h-4 w-4"}),"Update Password"]})]})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(F_e,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Notification Preferences"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Email Notifications for New Leads"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Get notified immediately when someone submits a lead form"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:s.emailLeads,onChange:N=>w("emailLeads",N.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"SMS Notifications"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Receive text messages for urgent leads"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:s.smsLeads,onChange:N=>w("smsLeads",N.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Weekly Performance Report"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Get a summary of your profile analytics every Monday"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:s.weeklyReport,onChange:N=>w("weeklyReport",N.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Marketing Emails"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Tips, updates, and special offers from AgentBio.net"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:s.marketingEmails,onChange:N=>w("marketingEmails",N.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Za,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Profile Visibility"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Control which sections appear on your public profile page"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Show Contact Buttons"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Display email, phone, and text buttons"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.showContactButtons,onChange:N=>x("showContactButtons",N.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Show Social Proof Banner"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Display stats like properties sold and total volume"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.showSocialProof,onChange:N=>x("showSocialProof",N.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Show Active Listings"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Display your currently available properties"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.showListings,onChange:N=>x("showListings",N.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Show Sold Properties"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Display your past sales and success history"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.showSoldProperties,onChange:N=>x("showSoldProperties",N.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Show Testimonials"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Display client reviews and ratings"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.showTestimonials,onChange:N=>x("showTestimonials",N.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]})]}),l.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(H_e,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Billing & Subscription"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Current Plan"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Professional - $49/month"})]}),l.jsx("button",{className:"px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors text-sm font-medium",children:"Manage Plan"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Payment Method"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"   4242"})]}),l.jsx("button",{className:"px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors text-sm font-medium",children:"Update"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:"Next Billing Date"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"February 15, 2024"})]}),l.jsx("button",{className:"px-4 py-2 bg-background border border-border rounded-lg hover:bg-accent transition-colors text-sm font-medium",children:"View Invoices"})]})]})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(VJ,{className:"h-5 w-5 text-red-600"}),l.jsx("h2",{className:"text-lg font-semibold text-red-600",children:"Danger Zone"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:"Once you delete your account, there is no going back. Please be certain."}),l.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete Account"})]})]})]})}function Gdt({listings:t,onStatusChange:e,onRefresh:n,isLoading:r=!1}){const[i,s]=j.useState(new Set),[a,o]=j.useState(new Set),[c,u]=j.useState("all"),d=_=>Math.floor((Date.now()-new Date(_.updatedAt).getTime())/864e5)>=7&&_.status==="active",f=t.filter(_=>c==="all"?!0:c==="stale"?d(_):_.status===c),h={total:t.length,active:t.filter(_=>_.status==="active").length,pending:t.filter(_=>_.status==="pending").length,sold:t.filter(_=>_.status==="sold").length,stale:t.filter(_=>d(_)).length},p=async(_,S)=>{o(A=>new Set(A).add(_));try{await e(_,S),nt.success(`Listing updated to ${S}`)}catch(A){console.error("Failed to update status:",A),nt.error("Failed to update listing")}finally{o(A=>{const C=new Set(A);return C.delete(_),C})}},g=async _=>{if(i.size===0){nt.warning("No listings selected");return}const S=i.size;nt.info(`Updating ${S} listing(s)...`);const A=Array.from(i).map(C=>p(C,_));await Promise.all(A),s(new Set),nt.success(`${S} listing(s) updated to ${_}`)},v=_=>{s(S=>{const A=new Set(S);return A.has(_)?A.delete(_):A.add(_),A})},w=()=>{s(new Set(f.map(_=>_.id)))},x=()=>{s(new Set)};return j.useEffect(()=>{const _=S=>{if(!(S.target instanceof HTMLInputElement||S.target instanceof HTMLTextAreaElement)&&i.size!==0)switch(S.key.toLowerCase()){case"s":S.preventDefault(),g("sold");break;case"p":S.preventDefault(),g("pending");break;case"a":S.preventDefault(),g("active");break;case"escape":x();break}};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[i]),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Quick Status Updates"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Click listings to select, then use buttons or keyboard shortcuts"})]}),l.jsxs(Ve,{variant:"outline",size:"sm",onClick:n,disabled:r,className:"gap-2",children:[l.jsx(QU,{className:at("w-4 h-4",r&&"animate-spin")}),"Refresh"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[l.jsx(j_,{label:"Total",count:h.total,active:c==="all",onClick:()=>u("all")}),l.jsx(j_,{label:"Active",count:h.active,active:c==="active",onClick:()=>u("active"),color:"green"}),l.jsx(j_,{label:"Pending",count:h.pending,active:c==="pending",onClick:()=>u("pending"),color:"yellow"}),l.jsx(j_,{label:"Sold",count:h.sold,color:"blue"}),l.jsx(j_,{label:"Stale",count:h.stale,active:c==="stale",onClick:()=>u("stale"),color:"orange",alert:h.stale>0})]}),i.size>0&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"font-semibold",children:[i.size," selected"]}),l.jsx(Ve,{variant:"ghost",size:"sm",onClick:w,children:"Select All"}),l.jsx(Ve,{variant:"ghost",size:"sm",onClick:x,children:"Clear"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Ve,{size:"sm",variant:"outline",onClick:()=>g("active"),className:"gap-1",children:[l.jsx(_f,{className:"w-4 h-4"}),"Active ",l.jsx("kbd",{className:"ml-1 text-xs",children:"A"})]}),l.jsxs(Ve,{size:"sm",variant:"outline",onClick:()=>g("pending"),className:"gap-1",children:[l.jsx(pb,{className:"w-4 h-4"}),"Pending ",l.jsx("kbd",{className:"ml-1 text-xs",children:"P"})]}),l.jsxs(Ve,{size:"sm",variant:"outline",onClick:()=>g("sold"),className:"gap-1",children:[l.jsx(V_e,{className:"w-4 h-4"}),"Sold ",l.jsx("kbd",{className:"ml-1 text-xs",children:"S"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(_=>l.jsx(qdt,{listing:_,isSelected:i.has(_.id),isUpdating:a.has(_.id),onSelect:()=>v(_.id),onStatusChange:p,isStale:d(_)},_.id))}),f.length===0&&l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(gi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{className:"text-lg font-medium",children:"No listings found"}),l.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]})]})}function j_({label:t,count:e,active:n,onClick:r,color:i,alert:s}){const a={green:"text-green-600 bg-green-50 border-green-200",yellow:"text-yellow-600 bg-yellow-50 border-yellow-200",blue:"text-blue-600 bg-blue-50 border-blue-200",orange:"text-orange-600 bg-orange-50 border-orange-200"};return l.jsxs("button",{onClick:r,disabled:!r,className:at("relative p-4 rounded-lg border-2 transition-all",n?"border-primary bg-primary/5":"border-gray-200 bg-white",r&&"hover:border-primary/50 cursor-pointer",!r&&"cursor-default"),children:[s&&l.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full animate-pulse"}),l.jsx("div",{className:"text-3xl font-bold",children:e}),l.jsx("div",{className:at("text-sm font-medium",i&&a[i]),children:t})]})}function qdt({listing:t,isSelected:e,isUpdating:n,onSelect:r,onStatusChange:i,isStale:s}){const a={active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800"};return l.jsxs("div",{onClick:r,className:at("relative group p-4 rounded-lg border-2 transition-all cursor-pointer",e?"border-primary bg-primary/5 shadow-md":"border-gray-200 bg-white hover:border-gray-300",n&&"opacity-50 pointer-events-none",s&&"border-l-4 border-l-orange-500"),children:[l.jsx("div",{className:at("absolute top-2 left-2 w-5 h-5 rounded border-2 flex items-center justify-center",e?"bg-primary border-primary":"border-gray-300 group-hover:border-primary"),children:e&&l.jsx(_f,{className:"w-4 h-4 text-white"})}),s&&l.jsxs(rn,{variant:"outline",className:"absolute top-2 right-2 bg-orange-100 text-orange-800 border-orange-300",children:[l.jsx(pb,{className:"w-3 h-3 mr-1"}),"Stale"]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"font-semibold text-sm truncate mb-1",children:t.title}),l.jsxs("p",{className:"text-lg font-bold text-primary mb-2",children:["$",t.price.toLocaleString()]}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx(rn,{className:a[t.status],children:t.status.toUpperCase()}),l.jsx("span",{className:"text-xs text-gray-500",children:E0(new Date(t.updatedAt),{addSuffix:!0})})]}),(t.views!==void 0||t.leads!==void 0)&&l.jsxs("div",{className:"flex gap-3 text-xs text-gray-600 mb-3",children:[t.views!==void 0&&l.jsxs("span",{children:[" ",t.views," views"]}),t.leads!==void 0&&l.jsxs("span",{children:[" ",t.leads," leads"]})]}),l.jsxs("div",{className:"flex gap-2",children:[t.status!=="sold"&&l.jsx(Ve,{size:"sm",variant:"outline",onClick:o=>{o.stopPropagation(),i(t.id,"sold")},className:"flex-1 text-xs",children:"Mark Sold"}),t.status!=="pending"&&l.jsx(Ve,{size:"sm",variant:"outline",onClick:o=>{o.stopPropagation(),i(t.id,"pending")},className:"flex-1 text-xs",children:"Pending"})]})]}),n&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 rounded-lg",children:l.jsx(QU,{className:"w-6 h-6 animate-spin text-primary"})})]})}function Xdt({staleListings:t,onDismiss:e,onRefresh:n,onDismissAll:r,className:i}){const[s,a]=j.useState(!0),[o,c]=j.useState(new Set);j.useEffect(()=>{const g=localStorage.getItem("dismissed-stale-alerts");if(g)try{c(new Set(JSON.parse(g)))}catch(v){console.error("Failed to parse dismissed alerts:",v)}},[]),j.useEffect(()=>{localStorage.setItem("dismissed-stale-alerts",JSON.stringify(Array.from(o)))},[o]);const u=t.filter(g=>!o.has(g.id));if(u.length===0)return null;const d=g=>{c(v=>new Set(v).add(g)),e==null||e(g)},f=()=>{c(new Set(t.map(g=>g.id))),r==null||r()},h=u.filter(g=>g.daysSinceUpdate>=14).length,p=u.length-h;return l.jsxs("div",{className:at("bg-orange-50 border-2 border-orange-200 rounded-lg",i),children:[l.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>a(!s),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(K2,{className:"w-6 h-6 text-orange-600"}),l.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-600 text-white text-xs rounded-full flex items-center justify-center font-bold",children:u.length})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-orange-900",children:"Stale Listings Need Attention"}),l.jsxs("p",{className:"text-sm text-orange-700",children:[h>0&&l.jsxs("span",{className:"font-medium",children:[h," critical (14+ days)"]}),h>0&&p>0&&"  ",p>0&&l.jsxs("span",{children:[p," warning (7+ days)"]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ve,{size:"sm",variant:"ghost",onClick:g=>{g.stopPropagation(),f()},className:"text-orange-700 hover:text-orange-900",children:"Dismiss All"}),l.jsx(Ve,{size:"sm",variant:"ghost",className:"text-orange-700",onClick:g=>g.stopPropagation(),children:s?"":""})]})]}),s&&l.jsx("div",{className:"border-t border-orange-200 divide-y divide-orange-200",children:u.map(g=>l.jsx(Kdt,{listing:g,onDismiss:()=>d(g.id),onRefresh:()=>n==null?void 0:n(g.id)},g.id))}),s&&l.jsxs("div",{className:"p-4 bg-orange-100/50 border-t border-orange-200",children:[l.jsx("p",{className:"text-xs text-orange-800 mb-2 font-medium",children:" Quick Tips:"}),l.jsxs("ul",{className:"text-xs text-orange-700 space-y-1 ml-4 list-disc",children:[l.jsx("li",{children:"Update listing descriptions with recent improvements or price changes"}),l.jsx("li",{children:"Add new photos to refresh your listing's appeal"}),l.jsx("li",{children:"Verify pricing is still competitive in current market"}),l.jsx("li",{children:"Check if property status has changed"})]})]})]})}function Kdt({listing:t,onDismiss:e,onRefresh:n}){const r=t.daysSinceUpdate>=14;return l.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-orange-100/30 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:t.title}),l.jsx(rn,{variant:"outline",className:at("text-xs",r?"bg-red-100 text-red-800 border-red-300":"bg-yellow-100 text-yellow-800 border-yellow-300"),children:r?l.jsxs(l.Fragment,{children:[l.jsx(K2,{className:"w-3 h-3 mr-1"}),"CRITICAL"]}):l.jsxs(l.Fragment,{children:[l.jsx(pb,{className:"w-3 h-3 mr-1"}),"WARNING"]})})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[l.jsxs("span",{children:["Status: ",t.status]}),l.jsxs("span",{children:["Last updated:"," ",E0(new Date(t.updatedAt),{addSuffix:!0})]}),l.jsxs("span",{className:"font-medium text-orange-700",children:[t.daysSinceUpdate," days old"]})]})]}),l.jsxs("div",{className:"flex gap-2 ml-4",children:[l.jsxs(Ve,{size:"sm",variant:"outline",onClick:n,className:"gap-1 bg-white",children:[l.jsx(QU,{className:"w-3 h-3"}),"Update"]}),l.jsx(Ve,{size:"sm",variant:"ghost",onClick:e,children:l.jsx(xl,{className:"w-4 h-4"})})]})]})}function Ydt({count:t}){return t===0?null:l.jsxs(rn,{variant:"outline",className:"bg-orange-100 text-orange-800 border-orange-300 animate-pulse",children:[l.jsx(K2,{className:"w-3 h-3 mr-1"}),t," Stale"]})}function Zdt({listings:t,selectedIds:e,onToggleSelect:n,onSelectAll:r,onClearSelection:i,onBulkUpdate:s,onBulkDelete:a}){const[o,c]=j.useState(!1),[u,d]=j.useState({}),[f,h]=j.useState("increase"),[p,g]=j.useState(""),[v,w]=j.useState("percent"),x=t.filter(T=>e.includes(T.id)),_=t.length>0&&e.length===t.length,S=async()=>{if(e.length===0){nt.error("No listings selected");return}const T={...u};if(p&&(T.priceAdjustment={type:f,value:parseFloat(p),unit:v}),Object.keys(T).length===0){nt.warning("No changes to apply");return}try{await s(T),nt.success(`${e.length} listing(s) updated`),c(!1),d({}),g("")}catch(N){console.error("Bulk update failed:",N),nt.error("Failed to update listings")}},A=async()=>{if(e.length===0){nt.error("No listings selected");return}if(confirm(`Delete ${e.length} listing(s)? This cannot be undone.`))try{await a(e),nt.success(`${e.length} listing(s) deleted`),i()}catch(T){console.error("Bulk delete failed:",T),nt.error("Failed to delete listings")}},C=T=>{if(!p)return T.price;const N=parseFloat(p);if(isNaN(N))return T.price;switch(f){case"increase":return v==="percent"?T.price*(1+N/100):T.price+N;case"decrease":return v==="percent"?T.price*(1-N/100):T.price-N;case"set":return N;default:return T.price}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Ve,{variant:"outline",size:"sm",onClick:_?i:r,className:"gap-2",children:_?l.jsxs(l.Fragment,{children:[l.jsx(l1e,{className:"w-4 h-4"}),"Deselect All"]}):l.jsxs(l.Fragment,{children:[l.jsx(WJ,{className:"w-4 h-4"}),"Select All"]})}),l.jsxs("span",{className:"text-sm font-medium",children:[e.length," of ",t.length," selected"]})]}),l.jsx("div",{className:"flex gap-2",children:e.length>0&&!o&&l.jsxs(l.Fragment,{children:[l.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"gap-2",children:[l.jsx(mb,{className:"w-4 h-4"}),"Bulk Edit"]}),l.jsxs(Ve,{variant:"destructive",size:"sm",onClick:A,className:"gap-2",children:[l.jsx(Zg,{className:"w-4 h-4"}),"Delete Selected"]})]})})]}),o&&e.length>0&&l.jsxs("div",{className:"p-6 bg-white rounded-lg border-2 border-primary shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Bulk Edit ",e.length," Listings"]}),l.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:l.jsx(xl,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{children:"Update Status"}),l.jsxs(Tn,{value:u.status||"",onValueChange:T=>d({...u,status:T}),children:[l.jsx(wn,{children:l.jsx(Mn,{placeholder:"Keep current status"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"active",children:"Active"}),l.jsx(Ae,{value:"pending",children:"Pending"}),l.jsx(Ae,{value:"sold",children:"Sold"}),l.jsx(Ae,{value:"draft",children:"Draft"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{children:"Update Category"}),l.jsxs(Tn,{value:u.category||"",onValueChange:T=>d({...u,category:T}),children:[l.jsx(wn,{children:l.jsx(Mn,{placeholder:"Keep current category"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"residential",children:"Residential"}),l.jsx(Ae,{value:"commercial",children:"Commercial"}),l.jsx(Ae,{value:"land",children:"Land"}),l.jsx(Ae,{value:"rental",children:"Rental"})]})]})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx(Ye,{children:"Price Adjustment"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs(Tn,{value:f,onValueChange:T=>h(T),children:[l.jsx(wn,{children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"increase",children:"Increase"}),l.jsx(Ae,{value:"decrease",children:"Decrease"}),l.jsx(Ae,{value:"set",children:"Set to"})]})]}),l.jsx(Ft,{type:"number",placeholder:"Value",value:p,onChange:T=>g(T.target.value)}),l.jsxs(Tn,{value:v,onValueChange:T=>w(T),children:[l.jsx(wn,{children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"percent",children:"Percent"}),l.jsx(Ae,{value:"amount",children:"Amount"})]})]})]})]})]}),x.length>0&&l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-3",children:"Preview Changes"}),l.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[x.slice(0,5).map(T=>l.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-white rounded",children:[l.jsx("span",{className:"truncate flex-1",children:T.title}),p&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-gray-500 line-through",children:["$",T.price.toLocaleString()]}),l.jsxs("span",{className:"font-medium text-primary",children:["$",C(T).toLocaleString()]})]})]},T.id)),x.length>5&&l.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["... and ",x.length-5," ","more"]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx(Ve,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),l.jsxs(Ve,{onClick:S,className:"gap-2",children:[l.jsx(_0,{className:"w-4 h-4"}),"Apply Changes"]})]})]})]})}function Qdt({shortcuts:t,className:e}){const[n,r]=j.useState(!1),[i,s]=j.useState("");j.useEffect(()=>{const o=c=>{if(c.target instanceof HTMLInputElement||c.target instanceof HTMLTextAreaElement)return;if(c.key==="?"&&!c.shiftKey){c.preventDefault(),r(d=>!d);return}const u=t.find(d=>d.key.toLowerCase()===c.key.toLowerCase());u&&(c.preventDefault(),u.action(),s(u.key),setTimeout(()=>s(""),1e3))};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[t]);const a=t.reduce((o,c)=>{const u=c.category||"General";return o[u]||(o[u]=[]),o[u].push(c),o},{});return l.jsxs(l.Fragment,{children:[l.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>r(!0),className:at("fixed bottom-4 right-4 md:bottom-6 md:right-6 z-30","shadow-lg gap-2",e),children:[l.jsx(c8,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Shortcuts"}),l.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-gray-100 rounded border",children:"?"})]}),i&&l.jsx("div",{className:"fixed top-20 right-4 bg-primary text-white px-4 py-2 rounded-lg shadow-lg animate-in slide-in-from-top-5 duration-300 z-50",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("kbd",{className:"px-2 py-1 bg-white/20 rounded text-sm font-mono",children:i}),l.jsx("span",{className:"text-sm",children:"Shortcut used!"})]})}),n&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(c8,{className:"w-5 h-5"}),l.jsx("h3",{className:"font-semibold text-lg",children:"Keyboard Shortcuts"})]}),l.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:l.jsx(xl,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-80px)]",children:[Object.entries(a).map(([o,c])=>l.jsxs("div",{className:"mb-6 last:mb-0",children:[l.jsx("h4",{className:"font-semibold text-sm text-gray-600 mb-3 uppercase tracking-wide",children:o}),l.jsx("div",{className:"space-y-2",children:c.map(u=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx("span",{className:"text-sm",children:u.description}),l.jsx("kbd",{className:"px-3 py-1.5 bg-white border border-gray-300 rounded shadow-sm font-mono text-sm",children:u.key.toUpperCase()})]},u.key))})]},o)),l.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:l.jsxs("p",{className:"text-sm text-blue-900",children:[l.jsx("strong",{children:" Pro Tip:"})," Press"," ",l.jsx("kbd",{className:"px-2 py-1 bg-white rounded text-xs",children:"?"})," ","anytime to toggle this panel. Shortcuts don't work when typing in text fields."]})})]})]})})]})}function Jdt({stats:t,period:e="Last 30 days",className:n}){return l.jsxs("div",{className:at("space-y-4",n),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Quick Analytics"}),l.jsx("span",{className:"text-sm text-gray-600",children:e})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map((r,i)=>l.jsx(eft,{stat:r},i))})]})}function eft({stat:t}){const e=t.icon||gi,n=t.trend==="up",r=t.trend==="down";return l.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("div",{className:at("p-2 rounded-lg",n&&"bg-green-100",r&&"bg-red-100",!n&&!r&&"bg-gray-100"),children:l.jsx(e,{className:at("w-4 h-4",n&&"text-green-600",r&&"text-red-600",!n&&!r&&"text-gray-600")})}),t.change!==void 0&&l.jsxs("div",{className:at("flex items-center gap-1 text-xs font-medium",n&&"text-green-600",r&&"text-red-600",!n&&!r&&"text-gray-600"),children:[n&&l.jsx(D_e,{className:"w-3 h-3"}),r&&l.jsx(I_e,{className:"w-3 h-3"}),Math.abs(t.change),"%"]})]}),l.jsx("div",{className:"text-2xl font-bold mb-1",children:t.value}),l.jsx("div",{className:"text-sm text-gray-600",children:t.label}),t.changeLabel&&l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t.changeLabel})]})}const tft=t=>[{label:"Total Listings",value:t.totalListings,icon:gi,trend:"neutral"},{label:"Active Listings",value:t.activeListings,icon:fi,trend:"up"},{label:"Total Views",value:t.totalViews.toLocaleString(),change:t.viewsChange,changeLabel:t.viewsChange?"vs last period":void 0,icon:Za,trend:t.viewsChange&&t.viewsChange>0?"up":t.viewsChange&&t.viewsChange<0?"down":"neutral"},{label:"Total Leads",value:t.totalLeads,change:t.leadsChange,changeLabel:t.leadsChange?"vs last period":void 0,icon:cf,trend:t.leadsChange&&t.leadsChange>0?"up":t.leadsChange&&t.leadsChange<0?"down":"neutral"}],nft=[{id:"1",title:"Modern 3BR House in Downtown",price:45e4,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*9).toISOString(),views:156,leads:12},{id:"2",title:"Luxury Condo with Ocean View",price:85e4,status:"pending",updatedAt:new Date(Date.now()-1e3*60*60*24*2).toISOString(),views:243,leads:18},{id:"3",title:"Cozy 2BR Apartment Near Park",price:325e3,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*15).toISOString(),views:89,leads:5},{id:"4",title:"Spacious Family Home with Pool",price:675e3,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*12).toISOString(),views:198,leads:22},{id:"5",title:"Renovated Townhouse in Suburbs",price:425e3,status:"sold",updatedAt:new Date(Date.now()-1e3*60*60*24*1).toISOString(),views:312,leads:28},{id:"6",title:"Charming Cottage with Garden",price:385e3,status:"active",updatedAt:new Date(Date.now()-1e3*60*60*24*20).toISOString(),views:67,leads:3}];function rft(){const[t,e]=j.useState(nft),[n,r]=j.useState([]),[i,s]=j.useState(!1),a=t.filter(x=>Math.floor((Date.now()-new Date(x.updatedAt).getTime())/864e5)>=7&&x.status==="active").map(x=>({id:x.id,title:x.title,status:x.status,updatedAt:x.updatedAt,daysSinceUpdate:Math.floor((Date.now()-new Date(x.updatedAt).getTime())/(1e3*60*60*24))})),o=tft({totalListings:t.length,activeListings:t.filter(x=>x.status==="active").length,totalViews:t.reduce((x,_)=>x+(_.views||0),0),totalLeads:t.reduce((x,_)=>x+(_.leads||0),0),avgPrice:Math.floor(t.reduce((x,_)=>x+_.price,0)/t.length),viewsChange:12.5,leadsChange:8.3}),c=async(x,_)=>{await new Promise(S=>setTimeout(S,500)),e(S=>S.map(A=>A.id===x?{...A,status:_,updatedAt:new Date().toISOString()}:A))},u=async()=>{s(!0),await new Promise(x=>setTimeout(x,1e3)),s(!1),nt.success("Listings refreshed")},d=async x=>{const _=t.find(S=>S.id===x);_&&nt.info(`Opening editor for "${_.title}"`)},f=x=>{r(_=>_.includes(x)?_.filter(S=>S!==x):[..._,x])},h=()=>{r(t.map(x=>x.id))},p=()=>{r([])},g=async x=>{await new Promise(_=>setTimeout(_,1e3)),e(_=>_.map(S=>{if(!n.includes(S.id))return S;let A={...S,updatedAt:new Date().toISOString()};if(x.status&&(A.status=x.status),x.priceAdjustment){const{type:C,value:T,unit:N}=x.priceAdjustment;C==="increase"?A.price=N==="percent"?S.price*(1+T/100):S.price+T:C==="decrease"?A.price=N==="percent"?S.price*(1-T/100):S.price-T:C==="set"&&(A.price=T)}return A})),p()},v=async x=>{await new Promise(_=>setTimeout(_,800)),e(_=>_.filter(S=>!x.includes(S.id)))},w=[{key:"?",description:"Show keyboard shortcuts",action:()=>{},category:"General"},{key:"s",description:"Mark selected as Sold",action:()=>{n.length>0&&n.forEach(x=>c(x,"sold"))},category:"Status"},{key:"p",description:"Mark selected as Pending",action:()=>{n.length>0&&n.forEach(x=>c(x,"pending"))},category:"Status"},{key:"a",description:"Mark selected as Active",action:()=>{n.length>0&&n.forEach(x=>c(x,"active"))},category:"Status"},{key:"Escape",description:"Clear selection",action:p,category:"Selection"}];return l.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Quick Actions Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your listings efficiently with keyboard shortcuts and bulk actions"})]}),a.length>0&&l.jsx(Ydt,{count:a.length})]}),l.jsx(Jdt,{stats:o,period:"Last 30 days"}),a.length>0&&l.jsx(Xdt,{staleListings:a,onRefresh:d}),l.jsxs(Af,{defaultValue:"quick-status",className:"w-full",children:[l.jsxs(od,{className:"grid w-full grid-cols-2 max-w-md",children:[l.jsx(qr,{value:"quick-status",children:"Quick Status"}),l.jsx(qr,{value:"bulk-edit",children:"Bulk Edit"})]}),l.jsx(Ki,{value:"quick-status",className:"mt-6",children:l.jsx(Gdt,{listings:t,onStatusChange:c,onRefresh:u,isLoading:i})}),l.jsxs(Ki,{value:"bulk-edit",className:"mt-6",children:[l.jsx(Zdt,{listings:t,selectedIds:n,onToggleSelect:f,onSelectAll:h,onClearSelection:p,onBulkUpdate:g,onBulkDelete:v}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:t.map(x=>l.jsxs("div",{onClick:()=>f(x.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n.includes(x.id)?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold text-sm",children:x.title}),l.jsx("input",{type:"checkbox",checked:n.includes(x.id),onChange:()=>f(x.id),className:"mt-1"})]}),l.jsxs("p",{className:"text-lg font-bold text-primary",children:["$",x.price.toLocaleString()]}),l.jsx("p",{className:"text-sm text-gray-600 capitalize",children:x.status})]},x.id))})]})]}),l.jsx(Qdt,{shortcuts:w})]})}function ift({leads:t,onLeadClick:e,onQuickReply:n,onMarkAsRead:r,className:i}){const[s,a]=j.useState(""),[o,c]=j.useState("all"),[u,d]=j.useState("all"),[f,h]=j.useState("all"),[p,g]=j.useState("date"),v=j.useMemo(()=>{let _=t.filter(S=>{const A=s===""||S.name.toLowerCase().includes(s.toLowerCase())||S.email.toLowerCase().includes(s.toLowerCase())||S.message.toLowerCase().includes(s.toLowerCase()),C=o==="all"||S.status===o,T=u==="all"||S.priority===u,N=f==="all"||S.source===f;return A&&C&&T&&N});return _.sort((S,A)=>{switch(p){case"score":return A.score-S.score;case"priority":const C={hot:3,warm:2,cold:1};return C[A.priority]-C[S.priority];case"date":default:return new Date(A.createdAt).getTime()-new Date(S.createdAt).getTime()}}),_},[t,s,o,u,f,p]),w={total:t.length,new:t.filter(_=>_.status==="new").length,hot:t.filter(_=>_.priority==="hot").length,avgScore:Math.round(t.reduce((_,S)=>_+S.score,0)/t.length)},x=Array.from(new Set(t.map(_=>_.source)));return l.jsxs("div",{className:at("space-y-4",i),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Lead Inbox"}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[w.new," new leads  ",w.hot," hot  Avg score:"," ",w.avgScore]})]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs(Tn,{value:p,onValueChange:_=>g(_),children:[l.jsx(wn,{className:"w-32",children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"date",children:"Latest"}),l.jsx(Ae,{value:"score",children:"Score"}),l.jsx(Ae,{value:"priority",children:"Priority"})]})]})})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ME,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx(Ft,{placeholder:"Search leads...",value:s,onChange:_=>a(_.target.value),className:"pl-10"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Tn,{value:o,onValueChange:c,children:[l.jsx(wn,{className:"w-32",children:l.jsx(Mn,{placeholder:"Status"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"all",children:"All Status"}),l.jsx(Ae,{value:"new",children:"New"}),l.jsx(Ae,{value:"contacted",children:"Contacted"}),l.jsx(Ae,{value:"qualified",children:"Qualified"}),l.jsx(Ae,{value:"converted",children:"Converted"})]})]}),l.jsxs(Tn,{value:u,onValueChange:d,children:[l.jsx(wn,{className:"w-32",children:l.jsx(Mn,{placeholder:"Priority"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"all",children:"All Priority"}),l.jsx(Ae,{value:"hot",children:"Hot"}),l.jsx(Ae,{value:"warm",children:"Warm"}),l.jsx(Ae,{value:"cold",children:"Cold"})]})]}),l.jsxs(Tn,{value:f,onValueChange:h,children:[l.jsx(wn,{className:"w-32",children:l.jsx(Mn,{placeholder:"Source"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"all",children:"All Sources"}),x.map(_=>l.jsx(Ae,{value:_,children:_},_))]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[v.map(_=>l.jsx(sft,{lead:_,onClick:()=>e(_),onQuickReply:()=>n(_.id),onMarkAsRead:()=>r(_.id)},_.id)),v.length===0&&l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(yi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{className:"text-lg font-medium",children:"No leads found"}),l.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]})]})]})}function sft({lead:t,onClick:e,onQuickReply:n,onMarkAsRead:r}){const i={hot:"bg-red-100 text-red-800 border-red-300",warm:"bg-yellow-100 text-yellow-800 border-yellow-300",cold:"bg-blue-100 text-blue-800 border-blue-300"},s={new:"bg-green-100 text-green-800",contacted:"bg-blue-100 text-blue-800",qualified:"bg-purple-100 text-purple-800",unqualified:"bg-gray-100 text-gray-800",converted:"bg-emerald-100 text-emerald-800"},a=t.status==="new",o=t.priority==="hot";return l.jsx("div",{onClick:e,className:at("relative p-4 rounded-lg border-2 transition-all cursor-pointer","hover:shadow-md hover:border-gray-300",a&&"bg-blue-50 border-blue-200",!a&&"bg-white border-gray-200",o&&"border-l-4 border-l-red-500"),children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h3",{className:at("font-semibold truncate",a&&"text-primary"),children:t.name}),a&&l.jsx(rn,{variant:"outline",className:"bg-blue-100",children:"NEW"}),l.jsx(rn,{variant:"outline",className:i[t.priority],children:t.priority.toUpperCase()}),l.jsx(rn,{className:s[t.status],children:t.status})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(yi,{className:"w-3 h-3"}),t.email]}),t.phone&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(No,{className:"w-3 h-3"}),t.phone]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Cp,{className:"w-3 h-3"}),t.source]})]}),l.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-2",children:t.message}),t.listingTitle&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Interested in:"," ",l.jsx("span",{className:"font-medium",children:t.listingTitle})]}),l.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(pb,{className:"w-3 h-3"}),E0(new Date(t.createdAt),{addSuffix:!0})]}),t.lastContactedAt&&l.jsxs("span",{children:["Last contacted:"," ",E0(new Date(t.lastContactedAt),{addSuffix:!0})]})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(fi,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-lg font-bold text-primary",children:t.score})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(Ve,{size:"sm",variant:"outline",onClick:c=>{c.stopPropagation(),n()},children:l.jsx(hp,{className:"w-4 h-4"})}),l.jsx(Ve,{size:"sm",variant:"outline",onClick:c=>{c.stopPropagation(),r()},children:l.jsx(yi,{className:"w-4 h-4"})})]})]})]})})}function aft({templates:t,onSelectTemplate:e,onCreateTemplate:n,onUpdateTemplate:r,onDeleteTemplate:i,className:s}){const[a,o]=j.useState("all"),[c,u]=j.useState(""),[d,f]=j.useState(!1),h=t.filter(g=>{const v=a==="all"||g.category===a,w=c===""||g.name.toLowerCase().includes(c.toLowerCase())||g.body.toLowerCase().includes(c.toLowerCase());return v&&w}),p=[{value:"all",label:"All Templates"},{value:"initial",label:"Initial Response"},{value:"followup",label:"Follow-up"},{value:"showing",label:"Property Showing"},{value:"offer",label:"Offer Discussion"},{value:"general",label:"General"}];return l.jsxs("div",{className:at("space-y-4",s),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Quick Response Templates"}),n&&l.jsxs(bl,{open:d,onOpenChange:f,children:[l.jsx(wy,{asChild:!0,children:l.jsxs(Ve,{size:"sm",className:"gap-2",children:[l.jsx(Sa,{className:"w-4 h-4"}),"New Template"]})}),l.jsxs(Po,{children:[l.jsx(wl,{children:l.jsx(_l,{children:"Create New Template"})}),l.jsx(Mue,{onSave:g=>{n(g),f(!1),nt.success("Template created")},onCancel:()=>f(!1)})]})]})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:p.map(g=>l.jsx(Ve,{variant:a===g.value?"default":"outline",size:"sm",onClick:()=>o(g.value),children:g.label},g.value))}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:h.map(g=>l.jsx(oft,{template:g,onUse:()=>e(g),onEdit:r?v=>r(g.id,v):void 0,onDelete:i?()=>i(g.id):void 0},g.id))}),h.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(hp,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No templates found"})]})]})}function oft({template:t,onUse:e,onEdit:n,onDelete:r}){const[i,s]=j.useState(!1),[a,o]=j.useState(!1),c={initial:"bg-green-100 text-green-800",followup:"bg-blue-100 text-blue-800",showing:"bg-purple-100 text-purple-800",offer:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"},u=()=>{navigator.clipboard.writeText(t.body),o(!0),setTimeout(()=>o(!1),2e3),nt.success("Template copied to clipboard")};return l.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold mb-1",children:t.name}),l.jsx(rn,{className:c[t.category],children:t.category})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(Ve,{size:"sm",variant:"ghost",onClick:u,className:"h-8 w-8 p-0",children:a?l.jsx(Ou,{className:"w-4 h-4 text-green-600"}):l.jsx(UJ,{className:"w-4 h-4"})}),n&&l.jsx(Ve,{size:"sm",variant:"ghost",onClick:()=>s(!0),className:"h-8 w-8 p-0",children:l.jsx(r1e,{className:"w-4 h-4"})}),r&&l.jsx(Ve,{size:"sm",variant:"ghost",onClick:r,className:"h-8 w-8 p-0 text-red-600",children:l.jsx(Zg,{className:"w-4 h-4"})})]})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-1 font-medium",children:t.subject}),l.jsx("p",{className:"text-sm text-gray-700 line-clamp-3 mb-3",children:t.body}),t.variables.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:t.variables.map(d=>l.jsx(rn,{variant:"outline",className:"text-xs",children:`{${d}}`},d))}),l.jsx(Ve,{size:"sm",onClick:e,className:"w-full",children:"Use Template"}),i&&n&&l.jsx(bl,{open:i,onOpenChange:s,children:l.jsxs(Po,{children:[l.jsx(wl,{children:l.jsx(_l,{children:"Edit Template"})}),l.jsx(Mue,{initialData:t,onSave:d=>{n(d),s(!1),nt.success("Template updated")},onCancel:()=>s(!1)})]})})]})}function Mue({initialData:t,onSave:e,onCancel:n}){const[r,i]=j.useState((t==null?void 0:t.name)||""),[s,a]=j.useState((t==null?void 0:t.subject)||""),[o,c]=j.useState((t==null?void 0:t.body)||""),[u,d]=j.useState((t==null?void 0:t.category)||"general"),f=()=>{if(!r||!s||!o){nt.error("Please fill in all fields");return}const h=[...o.matchAll(/\{(\w+)\}/g)].map(p=>p[1]);e({name:r,subject:s,body:o,category:u,variables:h})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ye,{children:"Template Name"}),l.jsx(Ft,{value:r,onChange:h=>i(h.target.value),placeholder:"e.g., Initial Response - Listing Inquiry"})]}),l.jsxs("div",{children:[l.jsx(Ye,{children:"Category"}),l.jsxs("select",{value:u,onChange:h=>d(h.target.value),className:"w-full p-2 border rounded",children:[l.jsx("option",{value:"initial",children:"Initial Response"}),l.jsx("option",{value:"followup",children:"Follow-up"}),l.jsx("option",{value:"showing",children:"Property Showing"}),l.jsx("option",{value:"offer",children:"Offer Discussion"}),l.jsx("option",{value:"general",children:"General"})]})]}),l.jsxs("div",{children:[l.jsx(Ye,{children:"Subject Line"}),l.jsx(Ft,{value:s,onChange:h=>a(h.target.value),placeholder:"e.g., Re: {listingAddress}"})]}),l.jsxs("div",{children:[l.jsx(Ye,{children:"Message Body"}),l.jsx(lc,{value:o,onChange:h=>c(h.target.value),placeholder:"Use {variable} for dynamic fields like {leadName}, {listingAddress}, etc.",rows:8}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use curly braces for variables: ","{leadName}",","," ","{listingAddress}",", ","{price}"]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(Ve,{variant:"outline",onClick:n,children:"Cancel"}),l.jsx(Ve,{onClick:f,children:"Save Template"})]})]})}const lft=[{id:"1",name:"Initial Response - Listing Inquiry",subject:"Re: {listingAddress}",body:`Hi {leadName},

Thank you for your interest in {listingAddress}! I'd love to help you learn more about this property.

This {bedrooms}-bedroom, {bathrooms}-bathroom home is priced at {price} and features:
 {feature1}
 {feature2}
 {feature3}

I'm available to schedule a showing at your convenience. What days/times work best for you this week?

Best regards,
{agentName}
{agentPhone}`,category:"initial",variables:["leadName","listingAddress","bedrooms","bathrooms","price","feature1","feature2","feature3","agentName","agentPhone"]},{id:"2",name:"Follow-up - No Response",subject:"Following up on {listingAddress}",body:`Hi {leadName},

I wanted to follow up on your interest in {listingAddress}. I know finding the right home can take time, and I'm here to help.

Are you still interested in viewing this property? Or would you like me to send you similar listings that might fit your needs?

Feel free to call/text me anytime at {agentPhone}.

Best regards,
{agentName}`,category:"followup",variables:["leadName","listingAddress","agentPhone","agentName"]},{id:"3",name:"Showing Confirmation",subject:"Confirmed: Property Showing at {listingAddress}",body:`Hi {leadName},

Great news! Your showing for {listingAddress} is confirmed for {showingDate} at {showingTime}.

Property Address:
{listingAddress}

I'll meet you at the property. If you need to reschedule, please let me know as soon as possible.

Looking forward to showing you this home!

Best regards,
{agentName}
{agentPhone}`,category:"showing",variables:["leadName","listingAddress","showingDate","showingTime","agentName","agentPhone"]}];function cft({hotLeads:t,onView:e,onDismiss:n,onQuickCall:r,autoHide:i=!1,autoHideDelay:s=3e4,soundEnabled:a=!0,className:o}){const[c,u]=j.useState(new Set),[d,f]=j.useState(new Set);j.useEffect(()=>{const g=t.map(x=>x.id),v=new Set(c),w=g.filter(x=>!v.has(x)&&!d.has(x));w.length>0&&(nt.success(`${w.length} hot lead(s) just arrived!`,{icon:l.jsx(YU,{className:"w-4 h-4 text-orange-600"})}),a&&fft(),w.forEach(x=>v.add(x)),u(v),i&&setTimeout(()=>{w.forEach(x=>h(x))},s))},[t]);const h=g=>{f(v=>new Set(v).add(g)),n(g)},p=t.filter(g=>!d.has(g.id));return p.length===0?null:l.jsx("div",{className:at("space-y-2",o),children:p.map(g=>l.jsx(uft,{lead:g,onView:()=>e(g.id),onDismiss:()=>h(g.id),onQuickCall:r?()=>r(g.id):void 0},g.id))})}function uft({lead:t,onView:e,onDismiss:n,onQuickCall:r}){const[i,s]=j.useState(!0);return j.useEffect(()=>{const a=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(a)},[]),l.jsxs("div",{className:at("relative p-4 rounded-lg border-2 border-orange-500 bg-orange-50 shadow-lg","animate-in slide-in-from-top-5 duration-300",i&&"animate-pulse"),children:[l.jsx("div",{className:"absolute -top-2 -right-2",children:l.jsxs(rn,{className:"bg-orange-600 text-white gap-1 animate-bounce",children:[l.jsx(YU,{className:"w-3 h-3"}),"HOT LEAD"]})}),l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h4",{className:"font-bold text-lg",children:t.name}),l.jsxs(rn,{variant:"outline",className:"bg-red-100 text-red-800",children:["Score: ",t.score]})]}),l.jsxs("div",{className:"space-y-1 text-sm mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[l.jsx(yi,{className:"w-3 h-3"}),t.email]}),t.phone&&l.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[l.jsx(No,{className:"w-3 h-3"}),t.phone]}),l.jsxs("div",{className:"text-gray-600",children:["From: ",t.source]})]}),t.listingTitle&&l.jsxs("p",{className:"text-sm font-medium text-gray-900 mb-2",children:["Interested in: ",t.listingTitle]}),l.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-2",children:t.message}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Received"," ",E0(new Date(t.createdAt),{addSuffix:!0})]})]}),l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx(Ve,{size:"sm",onClick:n,variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(xl,{className:"w-4 h-4"})})})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[r&&t.phone&&l.jsxs(Ve,{size:"sm",onClick:r,className:"flex-1 bg-green-600 hover:bg-green-700 gap-1",children:[l.jsx(No,{className:"w-4 h-4"}),"Call Now"]}),l.jsxs(Ve,{size:"sm",onClick:e,className:"flex-1 bg-orange-600 hover:bg-orange-700 gap-1",children:[l.jsx(Za,{className:"w-4 h-4"}),"View Details",l.jsx(w0,{className:"w-4 h-4"})]})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200 rounded-b-lg overflow-hidden",children:l.jsx("div",{className:"h-full bg-orange-600 animate-pulse",style:{width:`${t.score}%`}})})]})}function dft({count:t,onClick:e}){return t===0?null:l.jsxs(Ve,{variant:"outline",size:"sm",onClick:e,className:"relative gap-2 border-orange-500 bg-orange-50 hover:bg-orange-100 text-orange-900 animate-pulse",children:[l.jsx(YU,{className:"w-4 h-4 text-orange-600"}),l.jsxs("span",{className:"font-bold",children:[t," Hot Lead",t>1?"s":""]}),l.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})}function fft(){try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.value=800,e.type="sine",n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),e.start(t.currentTime),e.stop(t.currentTime+.5)}catch(t){console.warn("Could not play notification sound:",t)}}function hft({lead:t,onClose:e,onUpdateStatus:n,onAddNote:r,onSendEmail:i,onScheduleCall:s,className:a}){const[o,c]=j.useState("overview"),[u,d]=j.useState(""),[f,h]=j.useState(!1),p={hot:"bg-red-100 text-red-800 border-red-300",warm:"bg-yellow-100 text-yellow-800 border-yellow-300",cold:"bg-blue-100 text-blue-800 border-blue-300"},g={new:"bg-green-100 text-green-800",contacted:"bg-blue-100 text-blue-800",qualified:"bg-purple-100 text-purple-800",unqualified:"bg-gray-100 text-gray-800",converted:"bg-emerald-100 text-emerald-800"},v=async()=>{if(!u.trim()){nt.error("Please enter a note");return}h(!0);try{await r(u),d(""),nt.success("Note added")}catch{nt.error("Failed to add note")}finally{h(!1)}};return l.jsx("div",{className:at("fixed inset-0 bg-black/50 z-50 overflow-y-auto",a),children:l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:[l.jsxs("div",{className:"p-6 border-b",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h2",{className:"text-2xl font-bold",children:t.name}),l.jsx(rn,{variant:"outline",className:p[t.priority],children:t.priority.toUpperCase()}),l.jsx(rn,{className:g[t.status],children:t.status})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(yi,{className:"w-4 h-4"}),t.email]}),t.phone&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(No,{className:"w-4 h-4"}),t.phone]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Cp,{className:"w-4 h-4"}),t.source]})]})]}),l.jsx(Ve,{variant:"ghost",size:"sm",onClick:e,children:l.jsx(xl,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fi,{className:"w-5 h-5 text-primary"}),l.jsx("span",{className:"font-medium",children:"Lead Score:"}),l.jsx("span",{className:"text-2xl font-bold text-primary",children:t.score}),l.jsx("span",{className:"text-sm text-gray-600",children:"/100"})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Created"," ",E0(new Date(t.createdAt),{addSuffix:!0})]})]}),l.jsxs("div",{className:"mt-4 flex gap-2",children:[l.jsxs(Ve,{className:"gap-2",onClick:()=>window.open(`mailto:${t.email}`),children:[l.jsx(yi,{className:"w-4 h-4"}),"Email"]}),t.phone&&l.jsxs(Ve,{variant:"outline",className:"gap-2",onClick:()=>window.open(`tel:${t.phone}`),children:[l.jsx(No,{className:"w-4 h-4"}),"Call"]}),s&&l.jsxs(Ve,{variant:"outline",className:"gap-2",onClick:s,children:[l.jsx(to,{className:"w-4 h-4"}),"Schedule"]}),l.jsxs(Tn,{value:t.status,onValueChange:w=>n(w),children:[l.jsx(wn,{className:"w-40",children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"new",children:"New"}),l.jsx(Ae,{value:"contacted",children:"Contacted"}),l.jsx(Ae,{value:"qualified",children:"Qualified"}),l.jsx(Ae,{value:"unqualified",children:"Unqualified"}),l.jsx(Ae,{value:"converted",children:"Converted"})]})]})]})]}),l.jsx("div",{className:"border-b",children:l.jsx("div",{className:"flex gap-4 px-6",children:["overview","timeline","notes"].map(w=>l.jsx("button",{onClick:()=>c(w),className:at("py-3 px-1 border-b-2 font-medium text-sm capitalize transition-colors",o===w?"border-primary text-primary":"border-transparent text-gray-600 hover:text-gray-900"),children:w},w))})}),l.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[o==="overview"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[l.jsx(hp,{className:"w-4 h-4"}),"Original Message"]}),l.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:l.jsx("p",{className:"text-gray-700",children:t.message})})]}),t.listingTitle&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[l.jsx(gi,{className:"w-4 h-4"}),"Interested Property"]}),l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center gap-4",children:[t.listingImage&&l.jsx("img",{src:t.listingImage,alt:t.listingTitle,className:"w-24 h-24 object-cover rounded"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:t.listingTitle}),l.jsxs(Ve,{variant:"link",size:"sm",className:"gap-1 p-0 h-auto",onClick:()=>{},children:["View Listing",l.jsx(kg,{className:"w-3 h-3"})]})]})]})]}),t.tags&&t.tags.length>0&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[l.jsx(c1e,{className:"w-4 h-4"}),"Tags"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(w=>l.jsx(rn,{variant:"outline",children:w},w))})]})]}),o==="timeline"&&l.jsx("div",{className:"space-y-4",children:t.timeline&&t.timeline.length>0?t.timeline.map(w=>l.jsx(pft,{event:w},w.id)):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(pb,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No timeline events yet"})]})}),o==="notes"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(lc,{value:u,onChange:w=>d(w.target.value),placeholder:"Add a note about this lead...",rows:3}),l.jsx(Ve,{onClick:v,disabled:f||!u.trim(),className:"w-full",children:"Add Note"})]}),t.notes&&l.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:l.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.notes})})]})]})]})})})}function pft({event:t}){const e=()=>{switch(t.type){case"email":return l.jsx(yi,{className:"w-4 h-4"});case"call":return l.jsx(No,{className:"w-4 h-4"});case"meeting":return l.jsx(to,{className:"w-4 h-4"});case"status_change":return l.jsx(fi,{className:"w-4 h-4"});case"note":default:return l.jsx(hp,{className:"w-4 h-4"})}};return l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:e()}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-700",children:t.content}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Fu(new Date(t.timestamp),"MMM d, yyyy 'at' h:mm a"),t.user&&`  ${t.user}`]})]})]})}const mft=[{id:"1",name:"Sarah Johnson",email:"sarah.j@email.com",phone:"+1 (555) 123-4567",message:"Hi, I'm very interested in the 3BR house in Downtown. I'd like to schedule a viewing this week if possible. I'm pre-approved and ready to move quickly. Can you provide more details about the HOA fees and recent renovations?",listingTitle:"Modern 3BR House in Downtown",listingId:"listing-1",source:"zillow",score:85,status:"new",priority:"hot",createdAt:new Date(Date.now()-1e3*60*15).toISOString(),tags:["pre-approved","quick-move"]},{id:"2",name:"Michael Chen",email:"mchen@email.com",phone:"+1 (555) 987-6543",message:"Looking for properties in the $400-500k range. Interested in your luxury condo listing.",listingTitle:"Luxury Condo with Ocean View",listingId:"listing-2",source:"realtor",score:72,status:"new",priority:"hot",createdAt:new Date(Date.now()-1e3*60*30).toISOString(),tags:["investor"]},{id:"3",name:"Emily Rodriguez",email:"emily.r@email.com",message:"What's the monthly HOA fee for the apartment near the park?",listingTitle:"Cozy 2BR Apartment Near Park",listingId:"listing-3",source:"facebook",score:58,status:"contacted",priority:"warm",createdAt:new Date(Date.now()-1e3*60*60*2).toISOString(),lastContactedAt:new Date(Date.now()-1e3*60*30).toISOString(),tags:["first-time-buyer"]},{id:"4",name:"David Kim",email:"dkim@email.com",phone:"+1 (555) 234-5678",message:"I saw your listing for the family home with pool. Is it still available?",listingTitle:"Spacious Family Home with Pool",listingId:"listing-4",source:"website",score:45,status:"contacted",priority:"warm",createdAt:new Date(Date.now()-1e3*60*60*5).toISOString(),lastContactedAt:new Date(Date.now()-1e3*60*60*3).toISOString()},{id:"5",name:"Lisa Anderson",email:"lisa.a@email.com",message:"Info please",listingTitle:"Renovated Townhouse in Suburbs",listingId:"listing-5",source:"instagram",score:28,status:"new",priority:"cold",createdAt:new Date(Date.now()-1e3*60*60*12).toISOString()}];function gft(){const[t,e]=j.useState(mft),[n,r]=j.useState(lft),[i,s]=j.useState(null),[a,o]=j.useState(!0),c=t.filter(N=>N.score>=70&&N.status==="new"),u={total:t.length,new:t.filter(N=>N.status==="new").length,hot:c.length,contacted:t.filter(N=>N.status==="contacted").length,avgScore:Math.round(t.reduce((N,O)=>N+O.score,0)/t.length)},d=N=>{s(N)},f=()=>{s(null)},h=N=>{const O=t.find(U=>U.id===N);O&&(s(O),nt.info("Opening quick reply for "+O.name))},p=async N=>{e(O=>O.map(U=>U.id===N?{...U,status:"contacted"}:U)),nt.success("Lead marked as contacted")},g=async N=>{i&&(e(O=>O.map(U=>U.id===i.id?{...U,status:N}:U)),s(O=>O?{...O,status:N}:null),nt.success(`Status updated to ${N}`))},v=async N=>{await new Promise(O=>setTimeout(O,500)),console.log("Adding note:",N)},w=async(N,O)=>{await new Promise(U=>setTimeout(U,500)),console.log("Sending email:",{subject:N,body:O}),nt.success("Email sent!")},x=N=>{console.log("Dismissed hot lead:",N)},_=N=>{const O=t.find(U=>U.id===N);O&&d(O)},S=N=>{if(!i){nt.info("Please select a lead first");return}let O=N.body;O=O.replace("{leadName}",i.name),O=O.replace("{listingAddress}",i.listingTitle||"the property"),O=O.replace("{agentName}","Your Name"),O=O.replace("{agentPhone}","(555) 123-4567"),nt.success("Template loaded! Ready to send."),console.log("Using template:",{subject:N.subject,body:O})},A=N=>{const O={...N,id:`custom-${Date.now()}`};r(U=>[...U,O])},C=(N,O)=>{r(U=>U.map(R=>R.id===N?{...R,...O}:R))},T=N=>{r(O=>O.filter(U=>U.id!==N)),nt.success("Template deleted")};return l.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Lead Management"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your leads efficiently with smart scoring and quick responses"})]}),l.jsx("div",{className:"flex gap-3",children:l.jsx(dft,{count:c.length,onClick:()=>o(!a)})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[l.jsx(k_,{label:"Total Leads",value:u.total,icon:l.jsx(yi,{className:"w-5 h-5"})}),l.jsx(k_,{label:"New",value:u.new,icon:l.jsx(hp,{className:"w-5 h-5"}),color:"green"}),l.jsx(k_,{label:"Hot Leads",value:u.hot,icon:l.jsx(fi,{className:"w-5 h-5"}),color:"red",pulse:u.hot>0}),l.jsx(k_,{label:"Contacted",value:u.contacted,icon:l.jsx(yi,{className:"w-5 h-5"}),color:"blue"}),l.jsx(k_,{label:"Avg Score",value:u.avgScore,icon:l.jsx(fi,{className:"w-5 h-5"})})]}),a&&c.length>0&&l.jsx(cft,{hotLeads:c,onView:_,onDismiss:x,soundEnabled:!0}),l.jsxs(Af,{defaultValue:"inbox",className:"w-full",children:[l.jsxs(od,{className:"grid w-full grid-cols-2 max-w-md",children:[l.jsxs(qr,{value:"inbox",children:["Lead Inbox",u.new>0&&l.jsx(rn,{variant:"outline",className:"ml-2 bg-green-100",children:u.new})]}),l.jsx(qr,{value:"templates",children:"Response Templates"})]}),l.jsx(Ki,{value:"inbox",className:"mt-6",children:l.jsx(ift,{leads:t,onLeadClick:d,onQuickReply:h,onMarkAsRead:p})}),l.jsx(Ki,{value:"templates",className:"mt-6",children:l.jsx(aft,{templates:n,onSelectTemplate:S,onCreateTemplate:A,onUpdateTemplate:C,onDeleteTemplate:T})})]}),i&&l.jsx(hft,{lead:i,onClose:f,onUpdateStatus:g,onAddNote:v,onSendEmail:w})]})}function k_({label:t,value:e,icon:n,color:r,pulse:i}){const s={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",red:"bg-red-100 text-red-600"};return l.jsxs("div",{className:"p-4 bg-white rounded-lg border hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:`p-2 rounded ${r?s[r]:"bg-gray-100 text-gray-600"}`,children:n}),i&&l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),l.jsx("div",{className:"text-2xl font-bold",children:e}),l.jsx("div",{className:"text-sm text-gray-600",children:t})]})}function yft({metrics:t,className:e}){return l.jsx("div",{className:at("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",e),children:t.map(n=>l.jsx(vft,{metric:n},n.name))})}function vft({metric:t}){const e=()=>{switch(t.trend){case"up":return l.jsx(fi,{className:"w-4 h-4"});case"down":return l.jsx(p1e,{className:"w-4 h-4"});case"flat":return l.jsx(n1e,{className:"w-4 h-4"})}},n=()=>{switch(t.trend){case"up":return"text-green-600 bg-green-100";case"down":return"text-red-600 bg-red-100";case"flat":return"text-gray-600 bg-gray-100"}},r=()=>t.unit==="$"?`$${t.value.toLocaleString()}`:t.unit==="%"?`${t.value.toFixed(1)}%`:t.unit==="min"?`${Math.round(t.value)} min`:t.value.toLocaleString();return l.jsxs("div",{className:"bg-white p-6 rounded-lg border hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:t.name}),l.jsx("div",{className:at("p-2 rounded-full",n()),children:e()})]}),l.jsx("div",{className:"flex items-baseline gap-2",children:l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r()})}),l.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[l.jsxs("span",{className:at("text-sm font-medium",t.trend==="up"?"text-green-600":t.trend==="down"?"text-red-600":"text-gray-600"),children:[t.change>0?"+":"",t.change.toFixed(1),"%"]}),l.jsx("span",{className:"text-sm text-gray-500",children:"vs last period"})]}),t.benchmark&&l.jsx("div",{className:"mt-2 pt-2 border-t",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["Benchmark: ",t.unit==="$"?"$":"",t.benchmark.toLocaleString(),t.unit==="%"?"%":""]})})]})}function xft({data:t,title:e,color:n="#2563eb",height:r=300,showPredictions:i=!1,className:s}){const{actualData:a,predictedData:o,maxValue:c,minValue:u}=j.useMemo(()=>{const g=t.filter(x=>!x.label),v=t.filter(x=>x.label==="predicted"),w=t.map(x=>x.value);return{actualData:g,predictedData:v,maxValue:Math.max(...w),minValue:Math.min(...w)}},[t]),d=g=>{const w=r-40,x=c-u||1;return 20+w-(g-u)/x*w},f=(g,v)=>40+g/(v-1)*720,h=(g,v=!1)=>g.length===0?"":g.map((_,S)=>({x:f(S,g.length),y:d(_.value)})).map((_,S)=>`${S===0?"M":"L"} ${_.x} ${_.y}`).join(" "),p=g=>{if(g.length===0)return"";const v=h(g),w=f(g.length-1,g.length),x=f(0,g.length),_=r-20;return`${v} L ${w} ${_} L ${x} ${_} Z`};return l.jsxs("div",{className:s,children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:e}),l.jsxs("svg",{width:"100%",height:r,viewBox:"0 0 800 300",className:"bg-white rounded-lg border",children:[l.jsx("g",{className:"grid-lines",children:[0,25,50,75,100].map(g=>{const v=20+(r-40)*(g/100);return l.jsxs("g",{children:[l.jsx("line",{x1:40,y1:v,x2:760,y2:v,stroke:"#e5e7eb",strokeWidth:1}),l.jsx("text",{x:25,y:v+4,fontSize:10,fill:"#6b7280",textAnchor:"end",children:Math.round(c-g/100*(c-u))})]},g)})}),l.jsx("path",{d:p(a),fill:n,fillOpacity:.1}),l.jsx("path",{d:h(a),fill:"none",stroke:n,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),i&&o.length>0&&l.jsx("path",{d:h(o),fill:"none",stroke:n,strokeWidth:2,strokeDasharray:"5,5",strokeOpacity:.5,strokeLinecap:"round",strokeLinejoin:"round"}),a.map((g,v)=>l.jsx("circle",{cx:f(v,a.length),cy:d(g.value),r:4,fill:"white",stroke:n,strokeWidth:2},v)),l.jsx("g",{className:"x-axis-labels",children:a.map((g,v)=>v%Math.ceil(a.length/7)===0?l.jsx("text",{x:f(v,a.length),y:r-5,fontSize:10,fill:"#6b7280",textAnchor:"middle",children:g.date},v):null)})]}),i&&o.length>0&&l.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-0.5",style:{backgroundColor:n}}),l.jsx("span",{children:"Actual"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-0.5",style:{backgroundColor:n,opacity:.5,borderTop:`2px dashed ${n}`}}),l.jsx("span",{children:"Predicted"})]})]})]})}function bft({stages:t,className:e}){var r;const n=((r=t[0])==null?void 0:r.count)||1;return l.jsxs("div",{className:at("bg-white p-6 rounded-lg border",e),children:[l.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Conversion Funnel"}),l.jsx("div",{className:"space-y-2",children:t.map((i,s)=>l.jsxs("div",{children:[l.jsx(wft,{stage:i,maxCount:n,isFirst:s===0,isLast:s===t.length-1}),!isLast&&i.dropoff!==void 0&&i.dropoff>0&&l.jsx(_ft,{count:i.dropoff,percentage:Sft(i,t[s+1])})]},i.name))}),l.jsxs("div",{className:"mt-6 pt-6 border-t grid grid-cols-3 gap-4",children:[l.jsx(EL,{label:"Overall Conversion",value:`${t[t.length-1].percentage.toFixed(1)}%`}),l.jsx(EL,{label:"Total Conversions",value:t[t.length-1].count.toLocaleString()}),l.jsx(EL,{label:"Total Dropoff",value:Eft(t).toLocaleString()})]})]})}function wft({stage:t,maxCount:e,isFirst:n,isLast:r}){const i=t.count/e*100,s=()=>t.percentage>=75?"bg-green-500":t.percentage>=50?"bg-yellow-500":t.percentage>=25?"bg-orange-500":"bg-red-500";return l.jsx("div",{className:"relative",children:l.jsx("div",{className:at("relative mx-auto rounded-lg p-4 transition-all duration-300 hover:shadow-md",s()),style:{width:`${Math.max(i,20)}%`},children:l.jsxs("div",{className:"flex items-center justify-between text-white",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:t.name}),l.jsxs("p",{className:"text-sm opacity-90",children:[t.count.toLocaleString()," leads"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold",children:[t.percentage.toFixed(1),"%"]}),!n&&l.jsx("p",{className:"text-xs opacity-90",children:"of total"})]})]})})})}function _ft({count:t,percentage:e}){return l.jsx("div",{className:"flex items-center justify-center py-2",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(W2,{className:"w-4 h-4 text-red-500"}),l.jsxs("span",{children:[l.jsx("span",{className:"font-medium text-red-600",children:t.toLocaleString()})," ","dropped off (",e.toFixed(1),"%)"]})]})})}function EL({label:t,value:e}){return l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t})]})}function Sft(t,e){return t.count===0?0:(t.count-e.count)/t.count*100}function Eft(t){return t.length<2?0:t[0].count-t[t.length-1].count}function Aft({sources:t,className:e}){const n=t.reduce((s,a)=>s+a.leads,0),r=t.reduce((s,a)=>s+a.revenue,0),i=[...t].sort((s,a)=>a.conversionRate-s.conversionRate);return l.jsxs("div",{className:at("bg-white p-6 rounded-lg border",e),children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Lead Sources"}),l.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(cf,{className:"w-4 h-4"}),n," leads"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Y1,{className:"w-4 h-4"}),"$",r.toLocaleString()]})]})]}),l.jsx("div",{className:"space-y-4",children:i.map(s=>l.jsx(Tft,{source:s,totalLeads:n},s.source))}),i.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(u1e,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No lead source data available"})]})]})}function Tft({source:t,totalLeads:e}){const n=t.leads/e*100,r=i=>i>=20?"text-green-600":i>=10?"text-yellow-600":"text-gray-600";return l.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:t.source}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:at("text-lg font-bold",r(t.conversionRate)),children:[t.conversionRate.toFixed(1),"%"]}),l.jsx("span",{className:"text-sm text-gray-500",children:"conversion"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Lead share"}),l.jsxs("span",{className:"font-medium",children:[n.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-primary rounded-full h-2 transition-all duration-500",style:{width:`${n}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Leads"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.leads})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Conversions"}),l.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.conversions})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"}),l.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",t.revenue.toLocaleString()]})]})]}),t.roi!==void 0&&l.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"ROI"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(fi,{className:"w-4 h-4 text-green-600"}),l.jsxs("span",{className:at("font-semibold",t.roi>0?"text-green-600":"text-red-600"),children:[t.roi>0?"+":"",t.roi.toFixed(1),"%"]})]})]})]})}function gK({insights:t,className:e}){return l.jsxs("div",{className:at("bg-white p-6 rounded-lg border",e),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(e3,{className:"w-5 h-5 text-yellow-500"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Key Insights"})]}),l.jsx("div",{className:"space-y-3",children:t.map((n,r)=>l.jsx(Mft,{insight:n},r))}),t.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(e3,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No insights available yet"}),l.jsx("p",{className:"text-sm mt-1",children:"Check back when you have more data"})]})]})}function Mft({insight:t}){const e=()=>t.includes("")||t.includes("")||t.includes("")?l.jsx(fi,{className:"w-5 h-5 text-green-600"}):t.includes("")||t.includes("")?l.jsx(G2,{className:"w-5 h-5 text-orange-600"}):t.includes("")||t.includes("")?l.jsx(_f,{className:"w-5 h-5 text-blue-600"}):l.jsx(e3,{className:"w-5 h-5 text-yellow-600"}),n=()=>t.includes("")||t.includes("")||t.includes("")?"bg-green-50 border-green-200":t.includes("")||t.includes("")?"bg-orange-50 border-orange-200":t.includes("")||t.includes("")?"bg-blue-50 border-blue-200":"bg-yellow-50 border-yellow-200";return l.jsx("div",{className:at("p-4 rounded-lg border",n()),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e()}),l.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t})]})})}class Oy{static calculateKPIs(e,n){return[this.createMetric("Total Page Views",e.pageViews,"",n.pageViews),this.createMetric("Unique Visitors",e.uniqueVisitors,"",n.uniqueVisitors),this.createMetric("Total Leads",e.leads,"",n.leads),this.createMetric("Conversions",e.conversions,"",n.conversions),this.createMetric("Revenue",e.revenue,"$",n.revenue),this.createMetric("Avg Response Time",e.avgResponseTime,"min",n.avgResponseTime,!0),this.createMetric("Conversion Rate",this.calculateConversionRate(e.leads,e.conversions),"%",this.calculateConversionRate(n.leads,n.conversions)),this.createMetric("Lead-to-Visitor Rate",this.calculateConversionRate(e.uniqueVisitors,e.leads),"%",this.calculateConversionRate(n.uniqueVisitors,n.leads))]}static createMetric(e,n,r,i,s=!1){const a=this.calculatePercentageChange(n,i),o=this.determineTrend(a,s);return{name:e,value:n,unit:r,change:a,trend:o}}static calculatePercentageChange(e,n){return n===0?e>0?100:0:(e-n)/n*100}static determineTrend(e,n=!1){return Math.abs(e)<2?"flat":n?e<0?"up":"down":e>0?"up":"down"}static calculateConversionRate(e,n){return e===0?0:n/e*100}static generateTimeSeries(e,n,r){return GTe({start:e,end:n}).map(s=>({date:Fu(s,"MMM d"),value:r(s)}))}static calculateFunnel(e){const{visitors:n,viewed:r,contacted:i,qualified:s,converted:a}=e;return[{name:"Visitors",count:n,percentage:100},{name:"Viewed Listing",count:r,percentage:this.calculateConversionRate(n,r),dropoff:n-r},{name:"Contacted",count:i,percentage:this.calculateConversionRate(n,i),dropoff:r-i},{name:"Qualified",count:s,percentage:this.calculateConversionRate(n,s),dropoff:i-s},{name:"Converted",count:a,percentage:this.calculateConversionRate(n,a),dropoff:s-a}]}static analyzeLeadSources(e){return e.map(n=>({source:n.source,leads:n.leads,conversions:n.conversions,conversionRate:this.calculateConversionRate(n.leads,n.conversions),revenue:n.revenue,roi:n.cost?(n.revenue-n.cost)/n.cost*100:void 0}))}static rankListings(e){return e.map(n=>({...n,conversionRate:this.calculateConversionRate(n.views,n.leads)})).sort((n,r)=>r.conversionRate-n.conversionRate)}static predictTrend(e,n=7){if(e.length<2)return[];const r=e.length,i=e.map((g,v)=>v),s=e.map(g=>g.value),a=i.reduce((g,v)=>g+v,0),o=s.reduce((g,v)=>g+v,0),c=i.reduce((g,v,w)=>g+v*s[w],0),u=i.reduce((g,v)=>g+v*v,0),d=(r*c-a*o)/(r*u-a*a),f=(o-d*a)/r,h=[],p=new Date(e[e.length-1].date);for(let g=1;g<=n;g++){const v=r+g-1,w=Math.max(0,Math.round(d*v+f)),x=new Date(p);x.setDate(x.getDate()+g),h.push({date:Fu(x,"MMM d"),value:w,label:"predicted"})}return h}static calculateEngagementScore(e){const{avgTimeOnPage:n,bounceRate:r,pagesPerSession:i,returnVisitorRate:s}=e,a=Math.min(n/180*25,25),o=Math.max((100-r)/4,0),c=Math.min(i/5*25,25),u=s/100*25;return Math.round(a+o+c+u)}static generateInsights(e,n,r){const i=[],s=this.calculatePercentageChange(e.leads,n.leads);s>20?i.push(` Lead generation is up ${Math.round(s)}% compared to last period`):s<-20&&i.push(` Lead generation is down ${Math.abs(Math.round(s))}% - consider increasing marketing efforts`);const a=this.calculateConversionRate(e.leads,e.conversions),o=this.calculateConversionRate(n.leads,n.conversions);if(a>o+5&&i.push(` Conversion rate improved to ${a.toFixed(1)}% - keep up the good work!`),e.avgResponseTime<5?i.push(" Excellent response time! You're responding in under 5 minutes"):e.avgResponseTime>60&&i.push(` Response time is high (${Math.round(e.avgResponseTime)} min) - faster responses increase conversions`),r.length>0){const u=r.reduce((d,f)=>f.conversionRate>d.conversionRate?f:d);u.conversionRate>15&&i.push(` ${u.source} is your best performing source at ${u.conversionRate.toFixed(1)}% conversion rate`)}const c=this.calculatePercentageChange(e.uniqueVisitors,n.uniqueVisitors);return c>30&&i.push(` Traffic is surging! Up ${Math.round(c)}% - great time to capture leads`),i}static exportToCSV(e,n){if(e.length===0)return;const r=Object.keys(e[0]),i=[r.join(","),...e.map(c=>r.map(u=>JSON.stringify(c[u]||"")).join(","))].join(`
`),s=new Blob([i],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),o=URL.createObjectURL(s);a.setAttribute("href",o),a.setAttribute("download",`${n}_${Date.now()}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}const Cft=Oy.calculateKPIs,Nft=Oy.generateTimeSeries,Pft=Oy.calculateFunnel,jft=Oy.analyzeLeadSources,kft=Oy.predictTrend,Oft=Oy.generateInsights,Rft=Oy.exportToCSV;function Ift({onGenerateReport:t,className:e}){const[n,r]=j.useState("leads"),[i,s]=j.useState("30d"),[a,o]=j.useState("csv"),[c,u]=j.useState(!1),d=[{value:"leads",label:"Leads Report"},{value:"listings",label:"Listings Performance"},{value:"conversions",label:"Conversion Analytics"},{value:"sources",label:"Lead Sources"},{value:"performance",label:"Overall Performance"}],f=[{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"},{value:"90d",label:"Last 90 Days"},{value:"this_month",label:"This Month"},{value:"last_month",label:"Last Month"}],h=[{value:"csv",label:"CSV"},{value:"pdf",label:"PDF (Coming Soon)",disabled:!0},{value:"excel",label:"Excel (Coming Soon)",disabled:!0}],p=()=>{const v=new Date;switch(i){case"7d":return{start:Ru(v,7),end:v};case"30d":return{start:Ru(v,30),end:v};case"90d":return{start:Ru(v,90),end:v};case"this_month":return{start:kR(v),end:b3(v)};case"last_month":const w=Ru(kR(v),1);return{start:kR(w),end:b3(w)};default:return{start:Ru(v,30),end:v}}},g=async()=>{u(!0);try{const{start:v,end:w}=p(),_=await t({reportType:n,dateRange:i,metrics:[],format:a,startDate:v,endDate:w});if(a==="csv"){const S=`${n}_report_${a(v,"yyyy-MM-dd")}_to_${a(w,"yyyy-MM-dd")}`;Rft(_,S),nt.success("Report exported successfully!")}}catch(v){console.error("Report generation error:",v),nt.error("Failed to generate report")}finally{u(!1)}};return l.jsxs("div",{className:at("bg-white p-6 rounded-lg border",e),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsx(EE,{className:"w-5 h-5 text-primary"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Custom Report Builder"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ye,{children:"Report Type"}),l.jsxs(Tn,{value:n,onValueChange:v=>r(v),children:[l.jsx(wn,{children:l.jsx(Mn,{})}),l.jsx(_n,{children:d.map(v=>l.jsx(Ae,{value:v.value,children:v.label},v.value))})]})]}),l.jsxs("div",{children:[l.jsxs(Ye,{className:"flex items-center gap-2",children:[l.jsx(to,{className:"w-4 h-4"}),"Date Range"]}),l.jsxs(Tn,{value:i,onValueChange:v=>s(v),children:[l.jsx(wn,{children:l.jsx(Mn,{})}),l.jsx(_n,{children:f.map(v=>l.jsx(Ae,{value:v.value,children:v.label},v.value))})]})]}),l.jsxs("div",{children:[l.jsx(Ye,{children:"Export Format"}),l.jsxs(Tn,{value:a,onValueChange:v=>o(v),children:[l.jsx(wn,{children:l.jsx(Mn,{})}),l.jsx(_n,{children:h.map(v=>l.jsx(Ae,{value:v.value,disabled:v.disabled,children:v.label},v.value))})]})]}),l.jsxs(Ve,{onClick:g,disabled:c,className:"w-full gap-2",children:[l.jsx(_E,{className:"w-4 h-4"}),c?"Generating...":"Generate Report"]})]}),l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Report Preview"}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[l.jsxs("p",{children:["Type: ",l.jsx("span",{className:"font-medium",children:n})]}),l.jsxs("p",{children:["Range:"," ",l.jsxs("span",{className:"font-medium",children:[a(p().start,"MMM d, yyyy")," ","-"," ",a(p().end,"MMM d, yyyy")]})]}),l.jsxs("p",{children:["Format:"," ",l.jsx("span",{className:"font-medium uppercase",children:a})]})]})]})]})}const Lft=()=>{const t=new Date;return{current:{pageViews:3542,uniqueVisitors:1876,leads:156,conversions:23,revenue:156e3,avgResponseTime:12,period:"month",startDate:Ru(t,30),endDate:t},previous:{pageViews:2890,uniqueVisitors:1520,leads:128,conversions:18,revenue:122e3,avgResponseTime:18,period:"month",startDate:Ru(t,60),endDate:Ru(t,30)}}},Dft=()=>{const t=new Date;return Nft(Ru(t,30),t,e=>{const r=Math.random()*8,i=(e.getTime()-Ru(t,30).getTime())/(1e3*60*60*24*30);return Math.round(5+r+i*5)})},Fft=()=>[{source:"zillow",leads:45,conversions:12,revenue:85e3,cost:5e3},{source:"realtor",leads:38,conversions:8,revenue:62e3,cost:4e3},{source:"facebook",leads:32,conversions:5,revenue:38e3,cost:3500},{source:"google",leads:28,conversions:4,revenue:31e3,cost:4500},{source:"website",leads:25,conversions:3,revenue:28e3,cost:1e3},{source:"referral",leads:18,conversions:4,revenue:45e3,cost:0}];function Uft(){const[t,e]=j.useState(!0),{current:n,previous:r}=j.useMemo(()=>Lft(),[]),i=j.useMemo(()=>Dft(),[]),s=j.useMemo(()=>kft(i,7),[i]),a=[...i,...t?s:[]],o=j.useMemo(()=>Cft(n,r),[n,r]),c=j.useMemo(()=>Pft({visitors:n.uniqueVisitors,viewed:Math.round(n.uniqueVisitors*.7),contacted:n.leads,qualified:Math.round(n.leads*.4),converted:n.conversions}),[n]),u=j.useMemo(()=>jft(Fft()),[]),d=j.useMemo(()=>Oft(n,r,u),[n,r,u]),f=async h=>{switch(await new Promise(p=>setTimeout(p,1e3)),h.reportType){case"leads":return Array.from({length:50},(p,g)=>({id:`L${g+1}`,name:`Lead ${g+1}`,email:`lead${g+1}@example.com`,source:u[g%u.length].source,status:["new","contacted","qualified","converted"][Math.floor(Math.random()*4)],score:Math.floor(Math.random()*100),created:new Date().toISOString()}));case"sources":return u.map(p=>({source:p.source,leads:p.leads,conversions:p.conversions,conversion_rate:`${p.conversionRate.toFixed(1)}%`,revenue:p.revenue,roi:p.roi?`${p.roi.toFixed(1)}%`:"N/A"}));default:return[{metric:"Page Views",current:n.pageViews,previous:r.pageViews,change:`${((n.pageViews-r.pageViews)/r.pageViews*100).toFixed(1)}%`},{metric:"Leads",current:n.leads,previous:r.leads,change:`${((n.leads-r.leads)/r.leads*100).toFixed(1)}%`},{metric:"Conversions",current:n.conversions,previous:r.conversions,change:`${((n.conversions-r.conversions)/r.conversions*100).toFixed(1)}%`}]}};return l.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Analytics Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Track your performance and gain insights"})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx(rn,{variant:"outline",className:"px-4 py-2",children:"Last 30 Days"})})]}),l.jsx(yft,{metrics:o}),l.jsxs(Af,{defaultValue:"overview",className:"w-full",children:[l.jsxs(od,{className:"grid w-full grid-cols-4 max-w-2xl",children:[l.jsxs(qr,{value:"overview",className:"gap-2",children:[l.jsx(K1,{className:"w-4 h-4"}),"Overview"]}),l.jsxs(qr,{value:"funnel",className:"gap-2",children:[l.jsx(fi,{className:"w-4 h-4"}),"Funnel"]}),l.jsxs(qr,{value:"sources",className:"gap-2",children:[l.jsx(cf,{className:"w-4 h-4"}),"Sources"]}),l.jsxs(qr,{value:"reports",className:"gap-2",children:[l.jsx(EE,{className:"w-4 h-4"}),"Reports"]})]}),l.jsx(Ki,{value:"overview",className:"mt-6 space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(xft,{data:a,title:"Lead Generation Trend",color:"#2563eb",showPredictions:t})}),l.jsx(gK,{insights:d})]})}),l.jsx(Ki,{value:"funnel",className:"mt-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(bft,{stages:c}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(gK,{insights:d}),l.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Optimization Tips"}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-primary",children:""}),l.jsx("span",{children:"Improve Viewed  Contacted rate with clearer CTAs"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-primary",children:""}),l.jsx("span",{children:"Reduce dropoff with faster response times"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-primary",children:""}),l.jsx("span",{children:"Qualify leads better with targeted questions"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-primary",children:""}),l.jsx("span",{children:"Nurture qualified leads with follow-ups"})]})]})]})]})]})}),l.jsx(Ki,{value:"sources",className:"mt-6",children:l.jsx(Aft,{sources:u})}),l.jsx(Ki,{value:"reports",className:"mt-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Reports"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(lC,{title:"Leads Report",description:"Detailed lead data with scores and sources",icon:l.jsx(cf,{className:"w-6 h-6"})}),l.jsx(lC,{title:"Performance Report",description:"Overall performance metrics and trends",icon:l.jsx(fi,{className:"w-6 h-6"})}),l.jsx(lC,{title:"Sources Report",description:"Lead source analysis with ROI",icon:l.jsx(K1,{className:"w-6 h-6"})}),l.jsx(lC,{title:"Conversion Report",description:"Conversion funnel and rates",icon:l.jsx(fi,{className:"w-6 h-6"})})]})]})}),l.jsx(Ift,{onGenerateReport:f})]})})]})]})}function lC({title:t,description:e,icon:n}){return l.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:n}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-1",children:t}),l.jsx("p",{className:"text-sm text-gray-600",children:e})]})]})})}class Bft{createNewPage(e,n){return{id:this.generateId(),userId:e,slug:n,title:"My Link-in-Bio Page",description:"Real Estate Professional",blocks:[],theme:this.getDefaultTheme(),seo:{title:"My Link-in-Bio Page",description:"Real Estate Professional",keywords:["real estate","agent","properties"],twitterCard:"summary_large_image"},published:!1,createdAt:new Date,updatedAt:new Date}}getDefaultTheme(){return{name:"Default",preset:"modern",colors:{primary:"#2563eb",secondary:"#10b981",background:"#ffffff",text:"#1f2937",accent:"#f59e0b"},fonts:{heading:"Inter",body:"Inter"},borderRadius:"medium",spacing:"normal"}}addBlock(e,n,r){const i=this.getBlockTemplate(n);if(!i)throw new Error(`Unknown block type: ${n}`);const s={id:this.generateId(),type:n,order:r!==void 0?r:e.blocks.length,visible:!0,config:i.defaultConfig},a=[...e.blocks];return r!==void 0?(a.splice(r,0,s),a.forEach((o,c)=>{o.order=c})):a.push(s),{...e,blocks:a,updatedAt:new Date}}removeBlock(e,n){const r=e.blocks.filter(i=>i.id!==n).map((i,s)=>({...i,order:s}));return{...e,blocks:r,updatedAt:new Date}}updateBlock(e,n,r){const i=e.blocks.map(s=>s.id===n?{...s,config:{...s.config,...r}}:s);return{...e,blocks:i,updatedAt:new Date}}reorderBlocks(e,n,r){const i=[...e.blocks],[s]=i.splice(n,1);return i.splice(r,0,s),i.forEach((a,o)=>{a.order=o}),{...e,blocks:i,updatedAt:new Date}}toggleBlockVisibility(e,n){const r=e.blocks.map(i=>i.id===n?{...i,visible:!i.visible}:i);return{...e,blocks:r,updatedAt:new Date}}duplicateBlock(e,n){const r=e.blocks.find(a=>a.id===n);if(!r)return e;const i={...r,id:this.generateId(),order:r.order+1},s=[...e.blocks];return s.splice(r.order+1,0,i),s.forEach((a,o)=>{o>r.order&&(a.order=o)}),{...e,blocks:s,updatedAt:new Date}}getBlockTemplates(){return[{type:"bio",name:"Bio Section",description:"Your profile and introduction",icon:"User",category:"content",defaultConfig:{type:"bio",title:"Your Name",subtitle:"Real Estate Professional",description:"Helping clients find their dream homes in [Your City]. Licensed agent with [X] years of experience.",showSocialLinks:!0,showContactButton:!0}},{type:"listings",name:"Property Listings",description:"Showcase your active listings",icon:"Home",category:"content",defaultConfig:{type:"listings",title:"Featured Properties",layout:"grid",filter:"active",maxItems:6,showPrices:!0,showStatus:!0}},{type:"link",name:"Link Button",description:"Add a custom link",icon:"Link",category:"content",defaultConfig:{type:"link",title:"Click Here",url:"https://example.com",style:"button",openInNewTab:!0}},{type:"contact",name:"Contact Form",description:"Let visitors reach out",icon:"Mail",category:"engagement",defaultConfig:{type:"contact",title:"Get In Touch",fields:[{id:"name",type:"text",label:"Name",placeholder:"Your name",required:!0},{id:"email",type:"email",label:"Email",placeholder:"your@email.com",required:!0},{id:"message",type:"textarea",label:"Message",placeholder:"How can I help you?",required:!0}],submitButtonText:"Send Message",successMessage:"Thank you! I'll get back to you soon."}},{type:"social",name:"Social Links",description:"Connect on social media",icon:"Share2",category:"engagement",defaultConfig:{type:"social",title:"Follow Me",links:[],layout:"horizontal",iconSize:"medium"}},{type:"video",name:"Video",description:"Embed a video",icon:"Video",category:"media",defaultConfig:{type:"video",title:"Watch My Introduction",videoUrl:"",autoplay:!1,muted:!0}},{type:"testimonial",name:"Testimonials",description:"Client reviews",icon:"MessageSquare",category:"content",defaultConfig:{type:"testimonial",title:"What Clients Say",testimonials:[],layout:"slider"}},{type:"spacer",name:"Spacer",description:"Add vertical space",icon:"MoveVertical",category:"content",defaultConfig:{type:"spacer",height:40}},{type:"image",name:"Image",description:"Add an image",icon:"Image",category:"media",defaultConfig:{type:"image",imageUrl:"",alt:"Image",size:"medium"}},{type:"text",name:"Text Block",description:"Add custom text",icon:"Type",category:"content",defaultConfig:{type:"text",content:"Your text here...",align:"left",fontSize:"medium"}}]}getBlockTemplate(e){return this.getBlockTemplates().find(n=>n.type===e)}generateId(){return`block_${Date.now()}_${Math.random().toString(36).substring(2,9)}`}validatePage(e){const n=[];(!e.slug||e.slug.trim()==="")&&n.push("Page slug is required"),(!e.title||e.title.trim()==="")&&n.push("Page title is required"),/^[a-z0-9-]+$/i.test(e.slug)||n.push("Page slug must contain only letters, numbers, and hyphens");const r=e.blocks.map(s=>s.id),i=new Set(r);return r.length!==i.size&&n.push("Duplicate block IDs detected"),{valid:n.length===0,errors:n}}}const Ks=new Bft,zft=Ks.createNewPage.bind(Ks),$ft=Ks.addBlock.bind(Ks),Vft=Ks.removeBlock.bind(Ks),Hft=Ks.updateBlock.bind(Ks),Wft=Ks.reorderBlocks.bind(Ks),Gft=Ks.toggleBlockVisibility.bind(Ks),qft=Ks.duplicateBlock.bind(Ks),Xft=Ks.getBlockTemplates.bind(Ks);Ks.validatePage.bind(Ks);const Kft=PQ((t,e)=>({page:null,selectedBlockId:null,isDragging:!1,history:[],historyIndex:-1,isPreviewMode:!1,isSaving:!1,setPage:n=>{t({page:n,history:[n],historyIndex:0,selectedBlockId:null})},selectBlock:n=>{t({selectedBlockId:n})},setIsDragging:n=>{t({isDragging:n})},addBlockToPage:(n,r)=>{var u;const{page:i,history:s,historyIndex:a}=e();if(!i)return;const o=$ft(i,n,r),c=s.slice(0,a+1);c.push(o),t({page:o,history:c,historyIndex:c.length-1,selectedBlockId:(u=o.blocks[o.blocks.length-1])==null?void 0:u.id})},removeBlockFromPage:n=>{const{page:r,history:i,historyIndex:s}=e();if(!r)return;const a=Vft(r,n),o=i.slice(0,s+1);o.push(a),t({page:a,history:o,historyIndex:o.length-1,selectedBlockId:null})},updateBlockConfig:(n,r)=>{const{page:i,history:s,historyIndex:a}=e();if(!i)return;const o=Hft(i,n,r),c=s.slice(0,a+1);c.push(o),t({page:o,history:c,historyIndex:c.length-1})},reorderPageBlocks:(n,r)=>{const{page:i,history:s,historyIndex:a}=e();if(!i)return;const o=Wft(i,n,r),c=s.slice(0,a+1);c.push(o),t({page:o,history:c,historyIndex:c.length-1})},toggleBlockVisible:n=>{const{page:r,history:i,historyIndex:s}=e();if(!r)return;const a=Gft(r,n),o=i.slice(0,s+1);o.push(a),t({page:a,history:o,historyIndex:o.length-1})},duplicatePageBlock:n=>{const{page:r,history:i,historyIndex:s}=e();if(!r)return;const a=qft(r,n),o=i.slice(0,s+1);o.push(a),t({page:a,history:o,historyIndex:o.length-1})},updatePageMeta:n=>{const{page:r,history:i,historyIndex:s}=e();if(!r)return;const a={...r,...n,updatedAt:new Date},o=i.slice(0,s+1);o.push(a),t({page:a,history:o,historyIndex:o.length-1})},undo:()=>{const{history:n,historyIndex:r}=e();r>0&&t({page:n[r-1],historyIndex:r-1})},redo:()=>{const{history:n,historyIndex:r}=e();r<n.length-1&&t({page:n[r+1],historyIndex:r+1})},canUndo:()=>{const{historyIndex:n}=e();return n>0},canRedo:()=>{const{history:n,historyIndex:r}=e();return r<n.length-1},togglePreviewMode:()=>{t(n=>({isPreviewMode:!n.isPreviewMode,selectedBlockId:null}))},savePage:async()=>{const{page:n}=e();if(n){t({isSaving:!0});try{localStorage.setItem(`page_${n.id}`,JSON.stringify(n)),await new Promise(r=>setTimeout(r,500)),console.log("Page saved successfully")}catch(r){throw console.error("Failed to save page:",r),r}finally{t({isSaving:!1})}}},publishPage:async()=>{const{page:n,updatePageMeta:r,savePage:i}=e();n&&(r({published:!0}),await i())},resetBuilder:()=>{t({page:null,selectedBlockId:null,isDragging:!1,history:[],historyIndex:-1,isPreviewMode:!1,isSaving:!1})}}));function Yft({config:t,isEditing:e=!1}){return l.jsxs("div",{className:"text-center space-y-4 p-6",children:[t.avatarUrl&&l.jsx("div",{className:"flex justify-center",children:l.jsxs(sS,{className:"w-24 h-24",children:[l.jsx(aS,{src:t.avatarUrl,alt:t.title}),l.jsx(oS,{className:"text-2xl",children:t.title.charAt(0)})]})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.title}),t.subtitle&&l.jsx("p",{className:"text-lg text-gray-600 mt-1",children:t.subtitle})]}),t.description&&l.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto whitespace-pre-wrap",children:t.description}),t.showContactButton&&!e&&l.jsxs("div",{className:"flex gap-3 justify-center pt-2",children:[l.jsxs(Ve,{className:"gap-2",children:[l.jsx(yi,{className:"w-4 h-4"}),"Contact Me"]}),l.jsxs(Ve,{variant:"outline",className:"gap-2",children:[l.jsx(No,{className:"w-4 h-4"}),"Call Now"]})]})]})}const Zft=[{id:"1",image:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800",title:"Modern Downtown Condo",price:425e3,address:"123 Main St, Seattle, WA",beds:2,baths:2,sqft:1200,status:"Active"},{id:"2",image:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800",title:"Suburban Family Home",price:675e3,address:"456 Oak Ave, Bellevue, WA",beds:4,baths:3,sqft:2400,status:"Pending"},{id:"3",image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800",title:"Luxury Waterfront Estate",price:125e4,address:"789 Lake Dr, Kirkland, WA",beds:5,baths:4,sqft:3800,status:"Active"}];function Qft({config:t,isEditing:e=!1}){const n=Zft.slice(0,t.maxItems||6),r=()=>{switch(t.layout){case"list":return"grid grid-cols-1 gap-4";case"carousel":return"flex overflow-x-auto gap-4 snap-x";case"grid":default:return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"}};return l.jsxs("div",{className:"space-y-6",children:[t.title&&l.jsx("h2",{className:"text-2xl font-bold text-center",children:t.title}),l.jsx("div",{className:r(),children:n.map(i=>l.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"relative aspect-video",children:[l.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"}),t.showStatus&&l.jsx(rn,{className:"absolute top-2 right-2",variant:i.status==="Active"?"default":"secondary",children:i.status})]}),l.jsxs("div",{className:"p-4 space-y-2",children:[t.showPrices&&l.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",i.price.toLocaleString()]}),l.jsx("h3",{className:"font-semibold text-lg",children:i.title}),l.jsxs("div",{className:"flex items-center gap-1 text-gray-600 text-sm",children:[l.jsx(Cp,{className:"w-4 h-4"}),i.address]}),l.jsxs("div",{className:"flex items-center gap-4 text-gray-700 text-sm pt-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(KU,{className:"w-4 h-4"}),i.beds," bd"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(XU,{className:"w-4 h-4"}),i.baths," ba"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(WJ,{className:"w-4 h-4"}),i.sqft.toLocaleString()," sqft"]})]})]})]},i.id))}),n.length===0&&l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx("p",{children:"No listings to display"}),e&&l.jsx("p",{className:"text-sm mt-1",children:"Add some properties to see them here"})]})]})}function Jft({config:t,isEditing:e=!1}){const n=()=>{e||(t.openInNewTab?window.open(t.url,"_blank","noopener,noreferrer"):window.location.href=t.url)},r=()=>l.jsxs(Ve,{onClick:n,disabled:e,className:"w-full gap-2 justify-between",variant:t.style==="minimal"?"ghost":"default",size:"lg",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[t.icon&&l.jsx("span",{children:t.icon}),t.title]}),t.openInNewTab?l.jsx(kg,{className:"w-4 h-4"}):l.jsx(w0,{className:"w-4 h-4"})]}),i=()=>l.jsx("div",{onClick:n,className:`
                p-4 rounded-lg border bg-white hover:shadow-md transition-all
                ${!e&&"cursor-pointer hover:border-primary"}
            `,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[t.icon&&l.jsx("div",{className:"text-2xl",children:t.icon}),l.jsx("span",{className:"font-semibold",children:t.title})]}),t.openInNewTab?l.jsx(kg,{className:"w-5 h-5 text-gray-400"}):l.jsx(w0,{className:"w-5 h-5 text-gray-400"})]})}),s=()=>l.jsx("div",{onClick:n,className:`
                py-3 px-4 text-center
                ${!e&&"cursor-pointer hover:text-primary"}
                transition-colors
            `,children:l.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.icon&&l.jsx("span",{children:t.icon}),l.jsx("span",{className:"font-medium",children:t.title}),t.openInNewTab&&l.jsx(kg,{className:"w-4 h-4"})]})});return l.jsxs("div",{className:"w-full max-w-md mx-auto",children:[t.style==="button"&&r(),t.style==="card"&&i(),t.style==="minimal"&&s()]})}var Hk="Checkbox",[eht]=ac(Hk),[tht,Jz]=eht(Hk);function nht(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[h,p]=gp({prop:n,defaultProp:i??!1,onChange:c,caller:Hk}),[g,v]=j.useState(null),[w,x]=j.useState(null),_=j.useRef(!1),S=g?!!a||!!g.closest("form"):!0,A={checked:h,disabled:s,setChecked:p,control:g,setControl:v,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:_,required:u,defaultChecked:up(i)?!1:i,isFormControl:S,bubbleInput:w,setBubbleInput:x};return l.jsx(tht,{scope:e,...A,children:rht(f)?f(A):r})}var Cue="CheckboxTrigger",Nue=j.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:a,disabled:o,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=Jz(Cue,t),v=jr(i,d),w=j.useRef(c);return j.useEffect(()=>{const x=s==null?void 0:s.form;if(x){const _=()=>f(w.current);return x.addEventListener("reset",_),()=>x.removeEventListener("reset",_)}},[s,f]),l.jsx(Sn.button,{type:"button",role:"checkbox","aria-checked":up(c)?"mixed":c,"aria-required":u,"data-state":Rue(c),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:v,onKeyDown:On(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:On(n,x=>{f(_=>up(_)?!0:!_),g&&p&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});Nue.displayName=Cue;var e$=j.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c,onCheckedChange:u,form:d,...f}=t;return l.jsx(nht,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:o,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(Nue,{...f,ref:e,__scopeCheckbox:n}),h&&l.jsx(Oue,{__scopeCheckbox:n})]})})});e$.displayName=Hk;var Pue="CheckboxIndicator",jue=j.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=Jz(Pue,n);return l.jsx(jp,{present:r||up(s.checked)||s.checked===!0,children:l.jsx(Sn.span,{"data-state":Rue(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});jue.displayName=Pue;var kue="CheckboxBubbleInput",Oue=j.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:o,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=Jz(kue,t),g=jr(n,p),v=pB(s),w=uB(r);j.useEffect(()=>{const _=h;if(!_)return;const S=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(S,"checked").set,T=!i.current;if(v!==s&&C){const N=new Event("click",{bubbles:T});_.indeterminate=up(s),C.call(_,up(s)?!1:s),_.dispatchEvent(N)}},[h,v,s,i]);const x=j.useRef(up(s)?!1:s);return l.jsx(Sn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??x.current,required:o,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:g,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Oue.displayName=kue;function rht(t){return typeof t=="function"}function up(t){return t==="indeterminate"}function Rue(t){return up(t)?"indeterminate":t?"checked":"unchecked"}const Iue=j.forwardRef(({className:t,...e},n)=>l.jsx(e$,{ref:n,className:at("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(jue,{className:at("flex items-center justify-center text-current"),children:l.jsx(Ou,{className:"h-4 w-4"})})}));Iue.displayName=e$.displayName;function iht({config:t,isEditing:e=!1}){const[n,r]=j.useState({}),[i,s]=j.useState(!1),[a,o]=j.useState(!1),c=async d=>{if(d.preventDefault(),!e){s(!0);try{await new Promise(f=>setTimeout(f,1500)),o(!0),nt.success(t.successMessage||"Message sent successfully!"),setTimeout(()=>{r({}),o(!1)},3e3)}catch{nt.error("Failed to send message. Please try again.")}finally{s(!1)}}},u=(d,f)=>{r(h=>({...h,[d]:f}))};return a?l.jsx("div",{className:"max-w-md mx-auto p-8 bg-green-50 rounded-lg border border-green-200",children:l.jsxs("div",{className:"text-center space-y-3",children:[l.jsx(_f,{className:"w-12 h-12 text-green-600 mx-auto"}),l.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Message Sent!"}),l.jsx("p",{className:"text-green-700",children:t.successMessage})]})}):l.jsxs("div",{className:"max-w-md mx-auto",children:[t.title&&l.jsx("h3",{className:"text-2xl font-bold text-center mb-6",children:t.title}),l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[t.fields.map(d=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:d.id,children:[d.label,d.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),d.type==="text"&&l.jsx(Ft,{id:d.id,type:"text",placeholder:d.placeholder,required:d.required,disabled:e||i,value:n[d.id]||"",onChange:f=>u(d.id,f.target.value)}),d.type==="email"&&l.jsx(Ft,{id:d.id,type:"email",placeholder:d.placeholder,required:d.required,disabled:e||i,value:n[d.id]||"",onChange:f=>u(d.id,f.target.value)}),d.type==="phone"&&l.jsx(Ft,{id:d.id,type:"tel",placeholder:d.placeholder,required:d.required,disabled:e||i,value:n[d.id]||"",onChange:f=>u(d.id,f.target.value)}),d.type==="textarea"&&l.jsx(lc,{id:d.id,placeholder:d.placeholder,required:d.required,disabled:e||i,value:n[d.id]||"",onChange:f=>u(d.id,f.target.value),rows:4}),d.type==="select"&&d.options&&l.jsxs(Tn,{disabled:e||i,value:n[d.id],onValueChange:f=>u(d.id,f),children:[l.jsx(wn,{children:l.jsx(Mn,{placeholder:d.placeholder})}),l.jsx(_n,{children:d.options.map(f=>l.jsx(Ae,{value:f,children:f},f))})]}),d.type==="checkbox"&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Iue,{id:d.id,disabled:e||i,checked:n[d.id]||!1,onCheckedChange:f=>u(d.id,f)}),l.jsx("label",{htmlFor:d.id,className:"text-sm cursor-pointer",children:d.label})]})]},d.id)),l.jsxs(Ve,{type:"submit",className:"w-full gap-2",disabled:e||i,children:[i&&l.jsx(ri,{className:"w-4 h-4 animate-spin"}),i?"Sending...":t.submitButtonText||"Submit"]})]})]})}function sht({config:t,isEditing:e=!1}){const n=a=>{const o=`w-${t.iconSize==="small"?"5":t.iconSize==="large"?"8":"6"} h-${t.iconSize==="small"?"5":t.iconSize==="large"?"8":"6"}`;switch(a){case"facebook":return l.jsx(SE,{className:o});case"instagram":return l.jsx(AE,{className:o});case"twitter":return l.jsx(GJ,{className:o});case"linkedin":return l.jsx(TE,{className:o});case"youtube":return l.jsx(Y2,{className:o});case"tiktok":return l.jsx(X2,{className:o});case"zillow":return l.jsx(gi,{className:o});case"realtor":return l.jsx(DJ,{className:o});default:return null}},r=a=>({facebook:"hover:bg-blue-600",instagram:"hover:bg-pink-600",twitter:"hover:bg-sky-500",linkedin:"hover:bg-blue-700",youtube:"hover:bg-red-600",tiktok:"hover:bg-black",zillow:"hover:bg-blue-800",realtor:"hover:bg-red-700"})[a]||"hover:bg-gray-700",i=a=>{e||window.open(a,"_blank","noopener,noreferrer")},s=()=>{switch(t.layout){case"vertical":return"flex-col items-center";case"grid":return"grid grid-cols-4 gap-3";case"horizontal":default:return"flex-row justify-center"}};return l.jsxs("div",{className:"space-y-4",children:[t.title&&l.jsx("h3",{className:"text-xl font-semibold text-center",children:t.title}),l.jsx("div",{className:`flex gap-3 ${s()}`,children:t.links.map(a=>l.jsx("button",{onClick:()=>i(a.url),disabled:e,className:`
                            p-3 rounded-full bg-gray-800 text-white
                            transition-all hover:scale-110
                            ${r(a.platform)}
                            ${e?"cursor-default":"cursor-pointer"}
                        `,title:a.username||a.platform,children:n(a.platform)},a.id))}),t.links.length===0&&e&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:l.jsx("p",{className:"text-sm",children:"No social links added yet"})})]})}function aht({config:t,isEditing:e=!1}){const[n,r]=j.useState(!1),i=()=>{var o,c,u;const a=t.videoUrl;if(a.includes("youtube.com")||a.includes("youtu.be")){let d="";return a.includes("youtube.com/watch?v=")?d=(o=a.split("v=")[1])==null?void 0:o.split("&")[0]:a.includes("youtu.be/")&&(d=(c=a.split("youtu.be/")[1])==null?void 0:c.split("?")[0]),`https://www.youtube.com/embed/${d}?autoplay=${t.autoplay?"1":"0"}&mute=${t.muted?"1":"0"}`}return a.includes("vimeo.com")?`https://player.vimeo.com/video/${(u=a.split("vimeo.com/")[1])==null?void 0:u.split("?")[0]}?autoplay=${t.autoplay?"1":"0"}&muted=${t.muted?"1":"0"}`:a},s=()=>{e||r(!0)};return!t.videoUrl&&e?l.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:l.jsxs("div",{className:"text-center text-gray-500",children:[l.jsx(d8,{className:"w-12 h-12 mx-auto mb-2"}),l.jsx("p",{className:"font-medium",children:"No video URL"}),l.jsx("p",{className:"text-sm",children:"Add a YouTube or Vimeo URL"})]})}):l.jsxs("div",{className:"space-y-3",children:[t.title&&l.jsx("h3",{className:"text-xl font-semibold text-center",children:t.title}),l.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-black",children:!n&&t.thumbnail?l.jsxs("div",{className:"relative w-full h-full",children:[l.jsx("img",{src:t.thumbnail,alt:t.title||"Video",className:"w-full h-full object-cover"}),l.jsx("button",{onClick:s,disabled:e,className:"absolute inset-0 flex items-center justify-center bg-black/30 hover:bg-black/40 transition-colors group",children:l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:l.jsx(d8,{className:"w-8 h-8 text-primary ml-1"})})})]}):l.jsx("iframe",{src:i(),title:t.title||"Video",className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}function oht({config:t,isEditing:e=!1}){return l.jsx("div",{style:{height:`${t.height}px`},className:e?"border-2 border-dashed border-gray-300 rounded":"",children:e&&l.jsxs("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:[t.height,"px spacer"]})})}function lht({config:t,isEditing:e=!1}){const n=()=>{switch(t.align){case"center":return"text-center";case"right":return"text-right";case"left":default:return"text-left"}},r=()=>{switch(t.fontSize){case"small":return"text-sm";case"large":return"text-lg";case"medium":default:return"text-base"}};return l.jsx("div",{className:`${n()} ${r()}`,children:t.content?l.jsx("p",{className:"whitespace-pre-wrap text-gray-700",children:t.content}):e&&l.jsx("p",{className:"text-gray-400 italic",children:"Enter your text here..."})})}function cht({config:t,isEditing:e=!1}){const n=()=>{switch(t.size){case"small":return"max-w-sm";case"medium":return"max-w-md";case"large":return"max-w-2xl";case"full":return"w-full";default:return"max-w-md"}},r=()=>{!e&&t.link&&window.open(t.link,"_blank","noopener,noreferrer")};return!t.imageUrl&&e?l.jsx("div",{className:`${n()} mx-auto`,children:l.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:l.jsxs("div",{className:"text-center text-gray-500",children:[l.jsx(K_e,{className:"w-12 h-12 mx-auto mb-2"}),l.jsx("p",{className:"font-medium",children:"No image"}),l.jsx("p",{className:"text-sm",children:"Upload an image"})]})})}):l.jsxs("div",{className:`${n()} mx-auto space-y-2`,children:[l.jsx("div",{onClick:r,className:`
                    rounded-lg overflow-hidden
                    ${t.link&&!e?"cursor-pointer hover:opacity-90 transition-opacity":""}
                `,children:l.jsx("img",{src:t.imageUrl,alt:t.alt,className:"w-full h-auto"})}),t.caption&&l.jsx("p",{className:"text-sm text-gray-600 text-center italic",children:t.caption})]})}function Lue({block:t,isEditing:e=!1,isSelected:n=!1,onSelect:r}){const i=()=>{switch(t.type){case"bio":return l.jsx(Yft,{config:t.config,isEditing:e});case"listings":return l.jsx(Qft,{config:t.config,isEditing:e});case"link":return l.jsx(Jft,{config:t.config,isEditing:e});case"contact":return l.jsx(iht,{config:t.config,isEditing:e});case"social":return l.jsx(sht,{config:t.config,isEditing:e});case"video":return l.jsx(aht,{config:t.config,isEditing:e});case"spacer":return l.jsx(oht,{config:t.config,isEditing:e});case"text":return l.jsx(lht,{config:t.config,isEditing:e});case"image":return l.jsx(cht,{config:t.config,isEditing:e});default:return l.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded text-center",children:l.jsxs("p",{className:"text-yellow-800",children:["Unknown block type: ",t.type]})})}};return e?l.jsxs("div",{onClick:r,className:`
                relative group transition-all
                ${n?"ring-2 ring-primary ring-offset-2":""}
                ${t.visible?"":"opacity-50"}
                ${r?"cursor-pointer":""}
            `,children:[i(),r&&l.jsx("div",{className:`
                        absolute inset-0 pointer-events-none
                        ${n?"":"group-hover:ring-1 group-hover:ring-gray-300"}
                    `})]}):l.jsx("div",{className:t.visible?"":"hidden",children:i()})}function uht(){const{page:t,selectedBlockId:e,isPreviewMode:n,isSaving:r,canUndo:i,canRedo:s,setPage:a,selectBlock:o,addBlockToPage:c,removeBlockFromPage:u,duplicatePageBlock:d,toggleBlockVisible:f,undo:h,redo:p,togglePreviewMode:g,savePage:v,publishPage:w,updatePageMeta:x}=Kft();j.useEffect(()=>{if(!t){const T=zft("user_123","my-link-in-bio");a(T)}},[t,a]);const _=async()=>{try{await v(),nt.success("Page saved successfully!")}catch{nt.error("Failed to save page")}},S=async()=>{try{await w(),nt.success("Page published successfully!")}catch{nt.error("Failed to publish page")}},A=t==null?void 0:t.blocks.find(T=>T.id===e),C=Xft();return t?l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[!n&&l.jsxs("div",{className:"w-64 bg-white border-r flex flex-col",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("h2",{className:"font-semibold text-lg",children:"Add Blocks"})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:C.map(T=>l.jsx("button",{onClick:()=>c(T.type),className:"w-full p-3 text-left rounded-lg border hover:border-primary hover:bg-primary/5 transition-colors group",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Sa,{className:"w-5 h-5 text-gray-400 group-hover:text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:T.name}),l.jsx("p",{className:"text-xs text-gray-500",children:T.description})]})]})},T.type))})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsxs("div",{className:"bg-white border-b p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ve,{variant:"outline",size:"sm",onClick:h,disabled:!i(),children:l.jsx(g1e,{className:"w-4 h-4"})}),l.jsx(Ve,{variant:"outline",size:"sm",onClick:p,disabled:!s(),children:l.jsx(i1e,{className:"w-4 h-4"})}),l.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),l.jsx(Ft,{type:"text",value:t.title,onChange:T=>x({title:T.target.value}),className:"w-64",placeholder:"Page Title"}),l.jsx(rn,{variant:t.published?"default":"secondary",children:t.published?"Published":"Draft"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ve,{variant:"outline",size:"sm",onClick:g,children:n?l.jsxs(l.Fragment,{children:[l.jsx(gN,{className:"w-4 h-4 mr-2"}),"Edit"]}):l.jsxs(l.Fragment,{children:[l.jsx(Za,{className:"w-4 h-4 mr-2"}),"Preview"]})}),l.jsxs(Ve,{variant:"outline",size:"sm",onClick:_,disabled:r,children:[l.jsx(_0,{className:"w-4 h-4 mr-2"}),r?"Saving...":"Save"]}),l.jsxs(Ve,{size:"sm",onClick:S,disabled:r,children:[l.jsx(q2,{className:"w-4 h-4 mr-2"}),"Publish"]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:l.jsx("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-lg min-h-full",children:l.jsx("div",{className:"p-8 space-y-6",children:t.blocks.length===0?l.jsxs("div",{className:"text-center py-20 text-gray-500",children:[l.jsx(Sa,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"font-medium",children:"Your page is empty"}),l.jsx("p",{className:"text-sm mt-1",children:"Add blocks from the left sidebar to get started"})]}):t.blocks.map(T=>l.jsxs("div",{className:"relative group",children:[!n&&l.jsxs("div",{className:"absolute -left-12 top-0 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-1",children:[l.jsx("button",{className:"p-1 bg-white border rounded hover:bg-gray-50",title:"Drag to reorder",children:l.jsx(BJ,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>d(T.id),className:"p-1 bg-white border rounded hover:bg-gray-50",title:"Duplicate",children:l.jsx(UJ,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>f(T.id),className:"p-1 bg-white border rounded hover:bg-gray-50",title:T.visible?"Hide":"Show",children:T.visible?l.jsx(Za,{className:"w-4 h-4"}):l.jsx(W_e,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>u(T.id),className:"p-1 bg-white border rounded hover:bg-red-50 text-red-600",title:"Delete",children:l.jsx(Zg,{className:"w-4 h-4"})})]}),l.jsx(Lue,{block:T,isEditing:!n,isSelected:e===T.id,onSelect:()=>o(T.id)})]},T.id))})})})]}),!n&&A&&l.jsxs("div",{className:"w-80 bg-white border-l flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b",children:[l.jsx("h2",{className:"font-semibold text-lg",children:"Block Settings"}),l.jsx("p",{className:"text-sm text-gray-600",children:A.type})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsxs(Af,{defaultValue:"content",className:"w-full",children:[l.jsxs(od,{className:"grid w-full grid-cols-2",children:[l.jsx(qr,{value:"content",children:"Content"}),l.jsx(qr,{value:"style",children:"Style"})]}),l.jsxs(Ki,{value:"content",className:"space-y-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{children:"Block Type"}),l.jsx("p",{className:"text-sm text-gray-600 capitalize",children:A.type})]}),l.jsx("div",{className:"p-4 bg-gray-50 rounded text-sm text-gray-600",children:"Block-specific settings will appear here"})]}),l.jsx(Ki,{value:"style",className:"space-y-4 mt-4",children:l.jsx("div",{className:"p-4 bg-gray-50 rounded text-sm text-gray-600",children:"Style settings coming soon"})})]})}),l.jsx("div",{className:"p-4 border-t",children:l.jsxs(Ve,{variant:"outline",className:"w-full",onClick:()=>u(A.id),children:[l.jsx(Zg,{className:"w-4 h-4 mr-2"}),"Delete Block"]})})]})]}):l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("p",{children:"Loading..."})})}function dht(){const{slug:t}=IU(),[e,n]=j.useState(null),[r,i]=j.useState(!0),[s,a]=j.useState(null);if(j.useEffect(()=>{(async()=>{if(!t){a("No page slug provided"),i(!1);return}try{const d=Object.keys(localStorage).filter(f=>f.startsWith("page_")).map(f=>{try{return JSON.parse(localStorage.getItem(f)||"")}catch{return null}}).filter(f=>f!==null).find(f=>f.slug===t);d&&d.published?n(d):a("Page not found or not published")}catch(u){console.error("Failed to fetch page:",u),a("Failed to load page")}finally{i(!1)}})()},[t]),r)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ri,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),l.jsx("p",{className:"text-gray-600",children:"Loading page..."})]})});if(s||!e)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"404"}),l.jsx("p",{className:"text-gray-600 mb-4",children:s||"Page not found"}),l.jsx("a",{href:"/",className:"text-primary hover:underline",children:"Go to homepage"})]})});const o={"--primary-color":e.theme.colors.primary,"--secondary-color":e.theme.colors.secondary,"--background-color":e.theme.colors.background,"--text-color":e.theme.colors.text,"--accent-color":e.theme.colors.accent,"--border-radius":e.theme.borderRadius==="none"?"0":e.theme.borderRadius==="small"?"0.25rem":e.theme.borderRadius==="large"?"1rem":e.theme.borderRadius==="full"?"9999px":"0.5rem"};return l.jsxs(l.Fragment,{children:[l.jsxs(z2,{children:[l.jsx("title",{children:e.seo.title||e.title}),l.jsx("meta",{name:"description",content:e.seo.description||e.description}),l.jsx("meta",{name:"keywords",content:e.seo.keywords.join(", ")}),l.jsx("meta",{property:"og:title",content:e.seo.title||e.title}),l.jsx("meta",{property:"og:description",content:e.seo.description||e.description}),l.jsx("meta",{property:"og:type",content:"website"}),e.seo.ogImage&&l.jsx("meta",{property:"og:image",content:e.seo.ogImage}),l.jsx("meta",{name:"twitter:card",content:e.seo.twitterCard}),l.jsx("meta",{name:"twitter:title",content:e.seo.title||e.title}),l.jsx("meta",{name:"twitter:description",content:e.seo.description||e.description}),e.seo.ogImage&&l.jsx("meta",{name:"twitter:image",content:e.seo.ogImage}),e.seo.structuredData&&l.jsx("script",{type:"application/ld+json",children:JSON.stringify(e.seo.structuredData)})]}),l.jsx("div",{style:o,className:"min-h-screen","data-theme":e.theme.preset||"default",children:l.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",style:{backgroundColor:e.theme.colors.background,color:e.theme.colors.text},children:[l.jsx("div",{className:`space-y-${e.theme.spacing==="compact"?"4":e.theme.spacing==="spacious"?"12":"8"}`,children:e.blocks.filter(c=>c.visible).sort((c,u)=>c.order-u.order).map(c=>l.jsx(Lue,{block:c,isEditing:!1},c.id))}),l.jsx("div",{className:"mt-16 pt-8 border-t text-center text-sm text-gray-500",children:l.jsxs("p",{children:["Powered by"," ",l.jsx("a",{href:"https://agentbio.net",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"AgentBio"})]})})]})})]})}function fht(){const t=vl(),e=Ir({queryKey:["ai-models"],queryFn:async()=>{const{data:u,error:d}=await Xe.from("ai_models").select("*").order("provider",{ascending:!0});if(d)throw d;return u}}),n=Ir({queryKey:["ai-configuration"],queryFn:async()=>{const{data:u,error:d}=await Xe.from("ai_configuration").select("*");if(d)throw d;return u}}),r=Yn({mutationFn:async({key:u,value:d})=>{var h;const{error:f}=await Xe.from("ai_configuration").update({setting_value:d,updated_at:new Date().toISOString(),updated_by:(h=(await Xe.auth.getUser()).data.user)==null?void 0:h.id}).eq("setting_key",u);if(f)throw f},onSuccess:()=>{t.invalidateQueries({queryKey:["ai-configuration"]}),nt.success("Configuration updated")},onError:u=>{nt.error("Failed to update: "+u.message)}}),i=Yn({mutationFn:async({id:u,isActive:d})=>{const{error:f}=await Xe.from("ai_models").update({is_active:d}).eq("id",u);if(f)throw f},onSuccess:()=>{t.invalidateQueries({queryKey:["ai-models"]}),nt.success("Model status updated")},onError:u=>{nt.error("Failed to update model: "+u.message)}}),s=Yn({mutationFn:async u=>{const{error:d}=await Xe.from("ai_models").insert([u]);if(d)throw d},onSuccess:()=>{t.invalidateQueries({queryKey:["ai-models"]}),nt.success("Model added successfully")},onError:u=>{nt.error("Failed to add model: "+u.message)}}),a=Yn({mutationFn:async u=>{const{data:d,error:f}=await Xe.functions.invoke("test-ai-model",{body:{model:u}});if(f)throw f;return d},onSuccess:u=>{u.success?nt.success(u.message):nt.error(u.error)},onError:u=>{nt.error("Model test failed: "+u.message)}}),o=u=>{var f;const d=(f=n.data)==null?void 0:f.find(h=>h.setting_key===u);if(!d)return"";try{return JSON.parse(d.setting_value)}catch{return d.setting_value}},c=(u,d)=>{r.mutate({key:u,value:JSON.stringify(d)})};return{models:e.data,config:n.data,isLoading:e.isLoading||n.isLoading,getConfigValue:o,handleUpdateConfig:c,toggleModel:i.mutate,addModel:s.mutate,testModel:a.mutate,isTestingModel:a.isPending,isAddingModel:s.isPending}}function hht({onAdd:t,isAdding:e}){const[n,r]=j.useState(!1),[i,s]=j.useState({provider:"",model_name:"",model_id:"",description:"",context_window:2e5,max_output_tokens:8192,supports_vision:!0,is_active:!0,auth_type:"bearer",secret_name:"",api_endpoint:""}),a=o=>{o.preventDefault(),t(i),r(!1),s({provider:"",model_name:"",model_id:"",description:"",context_window:2e5,max_output_tokens:8192,supports_vision:!0,is_active:!0,auth_type:"bearer",secret_name:"",api_endpoint:""})};return l.jsxs(bl,{open:n,onOpenChange:r,children:[l.jsx(wy,{asChild:!0,children:l.jsxs(Ve,{className:"gap-2",children:[l.jsx(Sa,{className:"h-4 w-4"}),"Add New Model"]})}),l.jsx(Po,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:l.jsxs("form",{onSubmit:a,children:[l.jsxs(wl,{children:[l.jsx(_l,{children:"Add New AI Model"}),l.jsx(ru,{children:"Configure a new AI model with authentication and endpoint details"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"provider",children:"Provider Name *"}),l.jsx(Ft,{id:"provider",placeholder:"e.g., Anthropic",value:i.provider,onChange:o=>s({...i,provider:o.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"model_name",children:"Display Name *"}),l.jsx(Ft,{id:"model_name",placeholder:"e.g., Claude Sonnet 4.5",value:i.model_name,onChange:o=>s({...i,model_name:o.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"model_id",children:"Model ID *"}),l.jsx(Ft,{id:"model_id",placeholder:"e.g., claude-sonnet-4-5-20250929",value:i.model_id,onChange:o=>s({...i,model_id:o.target.value}),required:!0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"The exact model identifier for API calls"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"description",children:"Description"}),l.jsx(Ft,{id:"description",placeholder:"Brief description of model capabilities",value:i.description,onChange:o=>s({...i,description:o.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"auth_type",children:"Authentication Type *"}),l.jsxs(Tn,{value:i.auth_type,onValueChange:o=>s({...i,auth_type:o}),children:[l.jsx(wn,{id:"auth_type",children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"bearer",children:"Bearer Token"}),l.jsx(Ae,{value:"x-api-key",children:"X-API-Key Header"})]})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"How the API key is sent (Bearer for most, X-API-Key for Anthropic)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"secret_name",children:"Supabase Secret Name *"}),l.jsx(Ft,{id:"secret_name",placeholder:"e.g., CLAUDE_API_KEY",value:i.secret_name,onChange:o=>s({...i,secret_name:o.target.value}),required:!0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Name of the secret stored in Supabase (must be added to Supabase secrets)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"api_endpoint",children:"API Endpoint *"}),l.jsx(Ft,{id:"api_endpoint",placeholder:"e.g., https://api.anthropic.com/v1/messages",value:i.api_endpoint,onChange:o=>s({...i,api_endpoint:o.target.value}),required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"context_window",children:"Context Window"}),l.jsx(Ft,{id:"context_window",type:"number",value:i.context_window,onChange:o=>s({...i,context_window:parseInt(o.target.value)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"max_output_tokens",children:"Max Output Tokens"}),l.jsx(Ft,{id:"max_output_tokens",type:"number",value:i.max_output_tokens,onChange:o=>s({...i,max_output_tokens:parseInt(o.target.value)})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ye,{htmlFor:"supports_vision",children:"Supports Vision"}),l.jsx(wp,{id:"supports_vision",checked:i.supports_vision,onCheckedChange:o=>s({...i,supports_vision:o})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ye,{htmlFor:"is_active",children:"Active"}),l.jsx(wp,{id:"is_active",checked:i.is_active,onCheckedChange:o=>s({...i,is_active:o})})]})]}),l.jsxs(bb,{children:[l.jsx(Ve,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),l.jsxs(Ve,{type:"submit",disabled:e,children:[e&&l.jsx(ri,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Model"]})]})]})})]})}function pht(){const{models:t,isLoading:e,getConfigValue:n,handleUpdateConfig:r,toggleModel:i,addModel:s,testModel:a,isTestingModel:o,isAddingModel:c}=fht();if(e)return l.jsx("div",{className:"flex items-center justify-center p-12",children:l.jsx(ri,{className:"h-8 w-8 animate-spin text-primary"})});const u=n("default_model");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsxs(Nr,{className:"flex items-center gap-2",children:[l.jsx(z_e,{className:"h-5 w-5"}),"AI Model Configuration"]}),l.jsx(Gr,{children:"Configure AI models and settings for content generation"})]}),l.jsxs(bn,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"default-model",children:"Default AI Model"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Tn,{value:u,onValueChange:d=>r("default_model",d),children:[l.jsx(wn,{id:"default-model",children:l.jsx(Mn,{placeholder:"Select a model"})}),l.jsx(_n,{children:t==null?void 0:t.map(d=>l.jsxs(Ae,{value:d.model_id,children:[d.model_name," (",d.provider,")"]},d.id))})]}),l.jsx(Ve,{variant:"outline",size:"icon",onClick:()=>a(u),disabled:o,title:"Test AI Model",children:o?l.jsx(ri,{className:"h-4 w-4 animate-spin"}):l.jsx(d1e,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"temp-precise",children:"Precise Temperature"}),l.jsx(Ft,{id:"temp-precise",type:"number",step:"0.1",min:"0",max:"1",value:n("temperature_precise"),onChange:d=>r("temperature_precise",parseFloat(d.target.value))}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"For data extraction and precise tasks"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"temp-creative",children:"Creative Temperature"}),l.jsx(Ft,{id:"temp-creative",type:"number",step:"0.1",min:"0",max:"1",value:n("temperature_creative"),onChange:d=>r("temperature_creative",parseFloat(d.target.value))}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"For content generation and creative tasks"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"tokens-standard",children:"Standard Max Tokens"}),l.jsx(Ft,{id:"tokens-standard",type:"number",step:"100",value:n("max_tokens_standard"),onChange:d=>r("max_tokens_standard",parseInt(d.target.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"tokens-large",children:"Large Content Max Tokens"}),l.jsx(Ft,{id:"tokens-large",type:"number",step:"100",value:n("max_tokens_large"),onChange:d=>r("max_tokens_large",parseInt(d.target.value))})]})]})]})]}),l.jsxs(an,{children:[l.jsx(Cr,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Nr,{children:"Available AI Models"}),l.jsx(Gr,{children:"Manage which models are available for selection"})]}),l.jsx(hht,{onAdd:s,isAdding:c})]})}),l.jsx(bn,{children:l.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(d=>l.jsxs("div",{className:"flex items-start justify-between p-4 border rounded-lg gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-semibold",children:d.model_name}),l.jsx(rn,{variant:"outline",className:"text-xs",children:d.provider})]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:d.description}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-3 text-xs text-muted-foreground",children:[l.jsxs("span",{children:["Context: ",d.context_window.toLocaleString()," tokens"]}),l.jsxs("span",{children:["Max Output: ",d.max_output_tokens.toLocaleString()," tokens"]}),d.supports_vision&&l.jsx("span",{children:" Vision"})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-xs",children:[l.jsx(rn,{variant:"secondary",children:d.auth_type==="bearer"?"Bearer Token":"X-API-Key"}),l.jsxs(rn,{variant:"secondary",children:["Secret: ",d.secret_name]})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2 font-mono truncate",children:d.api_endpoint})]}),l.jsx(wp,{checked:d.is_active,onCheckedChange:f=>i({id:d.id,isActive:f})})]},d.id))})})]})]})}function t$(){const t=vl(),e=Ir({queryKey:["social-media-posts"],queryFn:async()=>{const{data:g,error:v}=await Xe.from("social_media_posts").select("*").order("created_at",{ascending:!1});if(v)throw v;return g}}),n=Ir({queryKey:["marketing-posts"],queryFn:async()=>{const{data:g,error:v}=await Xe.from("social_media_posts").select("*").eq("content_type","marketing").order("created_at",{ascending:!1});if(v)throw v;return g}}),r=Ir({queryKey:["social-media-webhooks"],queryFn:async()=>{const{data:g,error:v}=await Xe.from("social_media_webhooks").select("*").order("name",{ascending:!0});if(v)throw v;return g}}),i=Yn({mutationFn:async g=>{const{data:v,error:w}=await Xe.functions.invoke("generate-social-post",{body:g});if(w)throw w;return v},onSuccess:g=>{g.success?nt.success("Content generated successfully!"):nt.error(g.error||"Generation failed")},onError:g=>{nt.error("Failed to generate content: "+g.message)}}),s=Yn({mutationFn:async g=>{var _;const{data:v}=await Xe.auth.getUser(),{data:w,error:x}=await Xe.from("social_media_posts").insert({...g,created_by:(_=v.user)==null?void 0:_.id}).select().single();if(x)throw x;return w},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-posts"]}),nt.success("Post created successfully")},onError:g=>{nt.error("Failed to create post: "+g.message)}}),a=Yn({mutationFn:async({id:g,updates:v})=>{const{error:w}=await Xe.from("social_media_posts").update(v).eq("id",g);if(w)throw w},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-posts"]}),nt.success("Post updated successfully")},onError:g=>{nt.error("Failed to update post: "+g.message)}}),o=Yn({mutationFn:async g=>{const{error:v}=await Xe.from("social_media_posts").delete().eq("id",g);if(v)throw v},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-posts"]}),nt.success("Post deleted successfully")},onError:g=>{nt.error("Failed to delete post: "+g.message)}}),c=Yn({mutationFn:async g=>{const{data:v,error:w}=await Xe.from("social_media_webhooks").insert(g).select().single();if(w)throw w;return v},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-webhooks"]}),nt.success("Webhook created successfully")},onError:g=>{nt.error("Failed to create webhook: "+g.message)}}),u=Yn({mutationFn:async({id:g,updates:v})=>{const{error:w}=await Xe.from("social_media_webhooks").update(v).eq("id",g);if(w)throw w},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-webhooks"]}),nt.success("Webhook updated successfully")},onError:g=>{nt.error("Failed to update webhook: "+g.message)}}),d=Yn({mutationFn:async g=>{const{error:v}=await Xe.from("social_media_webhooks").delete().eq("id",g);if(v)throw v},onSuccess:()=>{t.invalidateQueries({queryKey:["social-media-webhooks"]}),nt.success("Webhook deleted successfully")},onError:g=>{nt.error("Failed to delete webhook: "+g.message)}}),f=Yn({mutationFn:async g=>{const{data:v,error:w}=await Xe.functions.invoke("test-social-webhook",{body:{webhookId:g}});if(w)throw w;return v},onSuccess:g=>{g.success?nt.success("Test webhook sent successfully!"):nt.error("Test webhook failed: "+(g.error||"Unknown error"))},onError:g=>{nt.error("Failed to test webhook: "+g.message)}}),h=Yn({mutationFn:async g=>{const{data:v,error:w}=await Xe.functions.invoke("generate-marketing-post",{body:{webhookUrl:g}});if(w)throw w;return v},onSuccess:g=>{t.invalidateQueries({queryKey:["marketing-posts"]}),g.success?nt.success(g.message):nt.error(g.error||"Failed to generate post")},onError:g=>{nt.error("Failed to generate post: "+g.message)}}),p=Yn({mutationFn:async({postId:g,webhookUrl:v})=>{const{data:w}=await Xe.from("social_media_posts").select("post_content").eq("id",g).single();if(!w)throw new Error("Post not found");if(!(await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w.post_content)})).ok)throw new Error("Webhook delivery failed");return await Xe.from("social_media_posts").update({status:"posted",posted_at:new Date().toISOString(),webhook_urls:[v]}).eq("id",g),{success:!0}},onSuccess:()=>{t.invalidateQueries({queryKey:["marketing-posts"]}),nt.success("Post resent successfully")},onError:g=>{console.error("Failed to retry post:",g),nt.error("Failed to resend post")}});return{posts:e.data,marketingPosts:n.data,webhooks:r.data,isLoading:e.isLoading||r.isLoading||n.isLoading,generatePost:i.mutate,isGenerating:i.isPending,generatedContent:i.data,createPost:s.mutate,updatePost:a.mutate,deletePost:o.mutate,createWebhook:c.mutate,updateWebhook:u.mutate,deleteWebhook:d.mutate,testWebhook:f.mutate,isTestingWebhook:f.isPending,generateMarketingPost:h.mutate,isGeneratingMarketingPost:h.isPending,marketingPostData:h.data,retryMarketingPost:p.mutate,isRetryingPost:p.isPending}}function yK(){const[t,e]=j.useState(!1),[n,r]=j.useState("property_highlight"),[i,s]=j.useState("listing_of_the_day"),[a,o]=j.useState("combined"),[c,u]=j.useState(""),[d,f]=j.useState(""),[h,p]=j.useState(""),[g,v]=j.useState(null),{generatePost:w,isGenerating:x,createPost:_}=t$(),{data:S}=Ir({queryKey:["listings-for-social"],queryFn:async()=>{const{data:T,error:N}=await Xe.from("listings").select("id, address, price, status").eq("status","active").order("created_at",{ascending:!1}).limit(20);if(N)throw N;return T}}),A=()=>{w({contentType:n,subjectType:i,platformType:a,listingId:c||void 0,customPrompt:d||void 0},{onSuccess:T=>{T.success&&v(T.content)}})},C=()=>{g&&_({content_type:n,subject_type:i,platform_type:a,post_content:g,post_title:h||`${n} - ${new Date().toLocaleDateString()}`,listing_id:c||null,status:"draft",ai_prompt_used:d||void 0},{onSuccess:()=>{e(!1),v(null),p(""),f("")}})};return l.jsxs(bl,{open:t,onOpenChange:e,children:[l.jsx(wy,{asChild:!0,children:l.jsxs(Ve,{className:"gap-2",children:[l.jsx(Sa,{className:"h-4 w-4"}),"Create Post"]})}),l.jsxs(Po,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(wl,{children:[l.jsx(_l,{children:"Create Social Media Post"}),l.jsx(ru,{children:"Generate AI-powered social media content for your real estate business"})]}),l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"content-type",children:"Content Type"}),l.jsxs(Tn,{value:n,onValueChange:r,children:[l.jsx(wn,{id:"content-type",children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"property_highlight",children:"Property Highlight"}),l.jsx(Ae,{value:"market_update",children:"Market Update"}),l.jsx(Ae,{value:"agent_tip",children:"Agent Tip"}),l.jsx(Ae,{value:"community_spotlight",children:"Community Spotlight"}),l.jsx(Ae,{value:"success_story",children:"Success Story"}),l.jsx(Ae,{value:"general",children:"General"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"subject-type",children:"Subject Type"}),l.jsxs(Tn,{value:i,onValueChange:s,children:[l.jsx(wn,{id:"subject-type",children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"listing_of_the_day",children:"Listing of the Day"}),l.jsx(Ae,{value:"market_analysis",children:"Market Analysis"}),l.jsx(Ae,{value:"buyer_seller_tip",children:"Buyer/Seller Tip"}),l.jsx(Ae,{value:"neighborhood_feature",children:"Neighborhood Feature"}),l.jsx(Ae,{value:"testimonial_highlight",children:"Testimonial Highlight"}),l.jsx(Ae,{value:"special_announcement",children:"Special Announcement"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"platform-type",children:"Platform"}),l.jsxs(Tn,{value:a,onValueChange:o,children:[l.jsx(wn,{id:"platform-type",children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"combined",children:"All Platforms"}),l.jsx(Ae,{value:"twitter_threads",children:"Twitter/X Threads"}),l.jsx(Ae,{value:"facebook_linkedin",children:"Facebook/LinkedIn"}),l.jsx(Ae,{value:"instagram",children:"Instagram"})]})]})]}),n==="property_highlight"&&S&&S.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"listing",children:"Select Property (Optional)"}),l.jsxs(Tn,{value:c,onValueChange:u,children:[l.jsx(wn,{id:"listing",children:l.jsx(Mn,{placeholder:"Choose a listing..."})}),l.jsx(_n,{children:S.map(T=>l.jsxs(Ae,{value:T.id,children:[T.address," - ",T.price]},T.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"custom-prompt",children:"Custom Instructions (Optional)"}),l.jsx(lc,{id:"custom-prompt",placeholder:"Add any specific instructions for the AI...",value:d,onChange:T=>f(T.target.value),rows:3})]}),l.jsx(Ve,{onClick:A,disabled:x,className:"w-full gap-2",children:x?l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"h-4 w-4 animate-spin"}),"Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(HJ,{className:"h-4 w-4"}),"Generate with AI"]})}),g&&l.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"post-title",children:"Post Title"}),l.jsx(Ft,{id:"post-title",placeholder:"Enter a title for this post...",value:h,onChange:T=>p(T.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{children:"Generated Content"}),l.jsx("div",{className:"p-4 bg-background border rounded-lg whitespace-pre-wrap text-sm",children:g[a]||g.raw})]}),l.jsx(Ve,{onClick:C,className:"w-full",children:"Save as Draft"})]})]})]})]})}function mht(){const[t,e]=j.useState(!1),[n,r]=j.useState(""),[i,s]=j.useState(""),[a,o]=j.useState(""),[c,u]=j.useState(!0),{createWebhook:d}=t$(),f=h=>{if(h.preventDefault(),!n.trim()){nt.error("Please enter a webhook name");return}if(!i){nt.error("Please select a platform");return}if(!a.trim()){nt.error("Please enter a webhook URL");return}d({name:n,platform:i,webhook_url:a,is_active:c,headers:{}}),r(""),s(""),o(""),u(!0),e(!1)};return l.jsxs(bl,{open:t,onOpenChange:e,children:[l.jsx(wy,{asChild:!0,children:l.jsxs(Ve,{variant:"outline",children:[l.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Add Webhook"]})}),l.jsxs(Po,{children:[l.jsxs(wl,{children:[l.jsx(_l,{children:"Add Social Media Webhook"}),l.jsx(ru,{children:"Configure a webhook to automatically distribute posts to your platforms"})]}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"name",children:"Webhook Name"}),l.jsx(Ft,{id:"name",placeholder:"My Make.com Workflow",value:n,onChange:h=>r(h.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"platform",children:"Platform *"}),l.jsxs(Tn,{value:i,onValueChange:s,children:[l.jsx(wn,{id:"platform",children:l.jsx(Mn,{placeholder:"Select platform"})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"make",children:"Make.com"}),l.jsx(Ae,{value:"zapier",children:"Zapier"}),l.jsx(Ae,{value:"n8n",children:"n8n"}),l.jsx(Ae,{value:"custom",children:"Custom"}),l.jsx(Ae,{value:"facebook",children:"Facebook"}),l.jsx(Ae,{value:"instagram",children:"Instagram"}),l.jsx(Ae,{value:"linkedin",children:"LinkedIn"}),l.jsx(Ae,{value:"twitter",children:"Twitter/X"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"url",children:"Webhook URL"}),l.jsx(Ft,{id:"url",type:"url",placeholder:"https://hook.example.com/webhook/social",value:a,onChange:h=>o(h.target.value),required:!0})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ye,{htmlFor:"active",children:"Active"}),l.jsx(wp,{id:"active",checked:c,onCheckedChange:u})]}),l.jsx(Ve,{type:"submit",className:"w-full",children:"Create Webhook"})]})]})]})}function ght(){const[t,e]=j.useState("all"),{posts:n,marketingPosts:r,webhooks:i,isLoading:s,deletePost:a,updateWebhook:o,deleteWebhook:c,testWebhook:u,isTestingWebhook:d,generateMarketingPost:f,isGeneratingMarketingPost:h,marketingPostData:p,retryMarketingPost:g,isRetryingPost:v}=t$(),w=S=>{switch(S){case"posted":return"bg-green-500";case"scheduled":return"bg-blue-500";case"draft":return"bg-gray-500";case"archived":return"bg-orange-500";default:return"bg-gray-500"}},x=S=>S.split("_").map(A=>A.charAt(0).toUpperCase()+A.slice(1)).join(" ");if(s)return l.jsx("div",{className:"flex items-center justify-center p-12",children:l.jsx(ri,{className:"h-8 w-8 animate-spin text-primary"})});const _=t==="all"?n:n==null?void 0:n.filter(S=>S.status===t);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(an,{children:[l.jsx(Cr,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Nr,{children:"Social Media Content"}),l.jsx(Gr,{children:"Manage and generate social media posts for your real estate business"})]}),l.jsx(yK,{})]})}),l.jsx(bn,{children:l.jsxs(Af,{value:t,onValueChange:e,children:[l.jsxs(od,{children:[l.jsx(qr,{value:"all",children:"All Posts"}),l.jsx(qr,{value:"draft",children:"Drafts"}),l.jsx(qr,{value:"scheduled",children:"Scheduled"}),l.jsx(qr,{value:"posted",children:"Posted"})]}),l.jsx(Ki,{value:t,className:"space-y-4 mt-6",children:_&&_.length>0?_.map(S=>l.jsx("div",{className:"border rounded-lg p-4 hover:border-primary transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h4",{className:"font-semibold",children:S.post_title||"Untitled Post"}),l.jsx(rn,{className:`${w(S.status)} text-white`,children:S.status})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground mb-3",children:[l.jsx("span",{className:"inline-flex items-center gap-1",children:l.jsx(rn,{variant:"outline",children:x(S.content_type)})}),l.jsx("span",{className:"inline-flex items-center gap-1",children:l.jsx(rn,{variant:"outline",children:x(S.subject_type)})}),l.jsx("span",{className:"inline-flex items-center gap-1",children:l.jsx(rn,{variant:"outline",children:x(S.platform_type)})})]}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[l.jsxs("span",{children:["Created: ",Fu(new Date(S.created_at),"MMM d, yyyy h:mm a")]}),S.scheduled_for&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(to,{className:"h-3 w-3"}),"Scheduled: ",Fu(new Date(S.scheduled_for),"MMM d, yyyy h:mm a")]}),S.posted_at&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(EC,{className:"h-3 w-3"}),"Posted: ",Fu(new Date(S.posted_at),"MMM d, yyyy h:mm a")]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ve,{variant:"outline",size:"sm",children:l.jsx(Za,{className:"h-4 w-4"})}),l.jsx(Ve,{variant:"outline",size:"sm",children:l.jsx(mb,{className:"h-4 w-4"})}),l.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this post?")&&a(S.id)},children:l.jsx(n1,{className:"h-4 w-4"})})]})]})},S.id)):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No posts found"}),l.jsx(yK,{})]})})]})})]}),l.jsxs(an,{children:[l.jsx(Cr,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Nr,{children:"Webhook Configuration"}),l.jsx(Gr,{children:"Configure webhooks for automatic post distribution"})]}),l.jsx(mht,{})]})}),l.jsx(bn,{children:i&&i.length>0?l.jsx("div",{className:"space-y-3",children:i.map(S=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Z_e,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:S.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:S.platform}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate max-w-md",children:S.webhook_url})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>u(S.id),disabled:d,title:"Test webhook with sample post",children:d?l.jsx(ri,{className:"h-4 w-4 animate-spin"}):l.jsx(EC,{className:"h-4 w-4"})}),l.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>o({id:S.id,updates:{is_active:!S.is_active}}),children:S.is_active?l.jsx(h1e,{className:"h-5 w-5 text-green-600"}):l.jsx(f1e,{className:"h-5 w-5 text-gray-400"})}),l.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this webhook?")&&c(S.id)},children:l.jsx(n1,{className:"h-4 w-4"})})]})]},S.id))}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No webhooks configured yet. Add a webhook to automatically distribute posts."})})})]}),l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsx(Nr,{children:"Marketing Post Generator"}),l.jsx(Gr,{children:"Generate unique, catchy social media posts to drive agent signups"})]}),l.jsxs(bn,{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ve,{onClick:()=>f(),disabled:h,className:"flex-1",children:h?l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Generate New Post"]})}),i&&i.length>0&&l.jsx(Ve,{variant:"outline",onClick:()=>{const S=i.find(A=>A.is_active);S&&f(S.webhook_url)},disabled:h||!i.some(S=>S.is_active),children:"Generate & Send"})]}),p&&p.payload&&l.jsxs("div",{className:"space-y-4 mt-4 border-t pt-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Long Form (LinkedIn/Facebook):"}),l.jsx("div",{className:"bg-muted p-4 rounded-lg text-sm whitespace-pre-wrap",children:p.payload.longFormPost})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Short Form (Twitter/Threads):"}),l.jsx("div",{className:"bg-muted p-4 rounded-lg text-sm",children:p.payload.shortFormPost})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Hashtags:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:p.payload.hashtags.map((S,A)=>l.jsx(rn,{variant:"secondary",children:S},A))})]})]})]})]}),l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsx(Nr,{children:"Marketing Post History"}),l.jsx(Gr,{children:"View and redeploy previously generated marketing posts"})]}),l.jsx(bn,{children:r&&r.length>0?l.jsx("div",{className:"space-y-4",children:r.map(S=>{var C;const A=S.post_content;return l.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rn,{className:`${w(S.status)} text-white`,children:S.status}),l.jsx("span",{className:"text-sm text-muted-foreground",children:Fu(new Date(S.created_at),"MMM d, yyyy h:mm a")})]}),l.jsxs("div",{className:"flex gap-2",children:[i&&i.length>0&&l.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>{const T=i.find(N=>N.is_active);T&&g({postId:S.id,webhookUrl:T.webhook_url})},disabled:v||!i.some(T=>T.is_active),children:v?l.jsx(ri,{className:"h-4 w-4 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(EC,{className:"h-4 w-4 mr-2"}),"Resend"]})}),l.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this post?")&&a(S.id)},children:l.jsx(n1,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Long Form:"}),l.jsx("div",{className:"bg-muted p-3 rounded text-sm whitespace-pre-wrap",children:A.longFormPost})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Short Form:"}),l.jsx("div",{className:"bg-muted p-3 rounded text-sm",children:A.shortFormPost})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:(C=A.hashtags)==null?void 0:C.map((T,N)=>l.jsx(rn,{variant:"secondary",className:"text-xs",children:T},N))})]})]},S.id)})}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"No marketing posts generated yet. Create your first one above!"})})})]})]})}function Due(){const t=vl(),e=Ir({queryKey:["articles"],queryFn:async()=>{const{data:c,error:u}=await Xe.from("articles").select("*").order("created_at",{ascending:!1});if(u)throw u;return c}}),n=Yn({mutationFn:async c=>{const{data:u,error:d}=await Xe.functions.invoke("generate-article",{body:c});if(d)throw d;return u},onSuccess:c=>{c.success?nt.success("Article generated successfully!"):nt.error(c.error||"Generation failed")},onError:c=>{nt.error("Failed to generate article: "+c.message)}}),r=Yn({mutationFn:async c=>{var h;const{data:u}=await Xe.auth.getUser(),{data:d,error:f}=await Xe.from("articles").insert({...c,author_id:(h=u.user)==null?void 0:h.id}).select().single();if(f)throw f;return d},onSuccess:()=>{t.invalidateQueries({queryKey:["articles"]}),nt.success("Article created successfully")},onError:c=>{nt.error("Failed to create article: "+c.message)}}),i=Yn({mutationFn:async({id:c,updates:u})=>{const{error:d}=await Xe.from("articles").update(u).eq("id",c);if(d)throw d},onSuccess:()=>{t.invalidateQueries({queryKey:["articles"]}),nt.success("Article updated successfully")},onError:c=>{nt.error("Failed to update article: "+c.message)}}),s=Yn({mutationFn:async c=>{const{error:u}=await Xe.from("articles").update({status:"published",published_at:new Date().toISOString()}).eq("id",c);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["articles"]}),nt.success("Article published successfully")},onError:c=>{nt.error("Failed to publish article: "+c.message)}}),a=Yn({mutationFn:async c=>{const{data:u,error:d}=await Xe.functions.invoke("publish-article-to-social",{body:{articleId:c}});if(d)throw d;return u},onSuccess:c=>{c!=null&&c.success?nt.success("Article distributed to social platforms successfully"):nt.error((c==null?void 0:c.error)||"Failed to distribute article")},onError:c=>{nt.error("Failed to distribute article: "+c.message)}}),o=Yn({mutationFn:async c=>{const{error:u}=await Xe.from("articles").delete().eq("id",c);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["articles"]}),nt.success("Article deleted successfully")},onError:c=>{nt.error("Failed to delete article: "+c.message)}});return{articles:e.data,isLoading:e.isLoading,generateArticle:n.mutate,isGenerating:n.isPending,generatedArticle:n.data,createArticle:r.mutate,updateArticle:i.mutate,publishArticle:s.mutate,republishArticle:a.mutate,isRepublishing:a.isPending,deleteArticle:o.mutate}}function n$(){const t=vl(),{data:e=[],isLoading:n}=Ir({queryKey:["keywords"],queryFn:async()=>{const{data:o,error:c}=await Xe.from("keywords").select("*").order("usage_count",{ascending:!0}).order("keyword",{ascending:!0});if(c)throw c;return o}}),{data:r=[]}=Ir({queryKey:["keywords","unused"],queryFn:async()=>{const{data:o,error:c}=await Xe.from("keywords").select("*").eq("is_active",!0).order("usage_count",{ascending:!0}).order("last_used_at",{ascending:!0,nullsFirst:!0}).limit(50);if(c)throw c;return o}}),i=Yn({mutationFn:async o=>{const{data:{session:c}}=await Xe.auth.getSession();if(!c)throw new Error("Not authenticated");const u=await fetch(`${Xe.supabaseUrl}/functions/v1/import-keywords`,{method:"POST",headers:{Authorization:`Bearer ${c.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({keywords:o})});if(!u.ok){const d=await u.json();throw new Error(d.error||"Failed to import keywords")}return u.json()},onSuccess:o=>{t.invalidateQueries({queryKey:["keywords"]}),nt.success(o.message||"Keywords imported successfully")},onError:o=>{nt.error(o.message||"Failed to import keywords")}}),s=Yn({mutationFn:async({id:o,updates:c})=>{const{data:u,error:d}=await Xe.from("keywords").update(c).eq("id",o).select().single();if(d)throw d;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["keywords"]}),nt.success("Keyword updated successfully")},onError:o=>{nt.error(o.message||"Failed to update keyword")}}),a=Yn({mutationFn:async o=>{const{error:c}=await Xe.from("keywords").delete().eq("id",o);if(c)throw c},onSuccess:()=>{t.invalidateQueries({queryKey:["keywords"]}),nt.success("Keyword deleted successfully")},onError:o=>{nt.error(o.message||"Failed to delete keyword")}});return{keywords:e,unusedKeywords:r,isLoading:n,importKeywords:o=>i.mutate(o),isImporting:i.isPending,updateKeyword:(o,c)=>s.mutate({id:o,updates:c}),deleteKeyword:o=>a.mutate(o)}}function Fue(){const t=vl(),e=Ir({queryKey:["article-webhooks"],queryFn:async()=>{const{data:a,error:o}=await Xe.from("article_webhooks").select("*").order("created_at",{ascending:!1});if(o)throw o;return a}}),n=Yn({mutationFn:async a=>{var d;const{data:o}=await Xe.auth.getUser(),{data:c,error:u}=await Xe.from("article_webhooks").insert({...a,user_id:(d=o.user)==null?void 0:d.id}).select().single();if(u)throw u;return c},onSuccess:()=>{t.invalidateQueries({queryKey:["article-webhooks"]}),nt.success("Webhook created successfully")},onError:a=>{nt.error("Failed to create webhook: "+a.message)}}),r=Yn({mutationFn:async({id:a,updates:o})=>{const{error:c}=await Xe.from("article_webhooks").update(o).eq("id",a);if(c)throw c},onSuccess:()=>{t.invalidateQueries({queryKey:["article-webhooks"]}),nt.success("Webhook updated successfully")},onError:a=>{nt.error("Failed to update webhook: "+a.message)}}),i=Yn({mutationFn:async a=>{const{error:o}=await Xe.from("article_webhooks").delete().eq("id",a);if(o)throw o},onSuccess:()=>{t.invalidateQueries({queryKey:["article-webhooks"]}),nt.success("Webhook deleted successfully")},onError:a=>{nt.error("Failed to delete webhook: "+a.message)}}),s=Yn({mutationFn:async a=>{const{data:o,error:c}=await Xe.functions.invoke("test-article-webhook",{body:{webhookUrl:a}});if(c)throw c;return o},onSuccess:a=>{a!=null&&a.success?nt.success("Test payload sent successfully! Check your Make.com scenario."):nt.error((a==null?void 0:a.error)||"Test failed")},onError:a=>{nt.error("Failed to test webhook: "+a.message)}});return{webhooks:e.data,isLoading:e.isLoading,createWebhook:n.mutate,updateWebhook:r.mutate,deleteWebhook:i.mutate,testWebhook:s.mutate,isTesting:s.isPending,testResult:s.data}}function vK(){const[t,e]=j.useState(!1),[n,r]=j.useState("keyword"),[i,s]=j.useState(""),[a,o]=j.useState(""),[c,u]=j.useState("Real Estate Tips"),[d,f]=j.useState(""),[h,p]=j.useState(""),[g,v]=j.useState(null),{generateArticle:w,isGenerating:x,createArticle:_}=Due(),{unusedKeywords:S,isLoading:A}=n$(),C=()=>{if(n==="keyword"){const N=S.find(O=>O.id===i);w({topic:N==null?void 0:N.keyword,category:c,keywords:N?[N.keyword]:void 0,customInstructions:h||void 0,autoSelectKeyword:!i},{onSuccess:O=>{O.success&&(v(O.article),O.article.keywordId&&s(O.article.keywordId))}})}else{if(!a)return;w({topic:a,category:c,keywords:d?d.split(",").map(N=>N.trim()):void 0,customInstructions:h||void 0,autoSelectKeyword:!1},{onSuccess:N=>{N.success&&v(N.article)}})}},T=()=>{g&&_({title:g.title,slug:g.slug,content:g.content,excerpt:g.excerpt,category:g.category,tags:g.tags,seo_title:g.seoTitle,seo_description:g.seoDescription,seo_keywords:g.tags,keyword_id:n==="keyword"&&(g.keywordId||i)||null,status:"draft"},{onSuccess:()=>{e(!1),v(null),o(""),f(""),p(""),s("")}})};return l.jsxs(bl,{open:t,onOpenChange:e,children:[l.jsx(wy,{asChild:!0,children:l.jsxs(Ve,{className:"gap-2",children:[l.jsx(Sa,{className:"h-4 w-4"}),"New Article"]})}),l.jsxs(Po,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(wl,{children:[l.jsx(_l,{children:"Generate Blog Article"}),l.jsx(ru,{children:"Create SEO-optimized real estate articles with AI assistance"})]}),l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs(Af,{value:n,onValueChange:N=>r(N),children:[l.jsxs(od,{className:"grid w-full grid-cols-2",children:[l.jsx(qr,{value:"keyword",children:"From Keyword"}),l.jsx(qr,{value:"manual",children:"Manual Topic"})]}),l.jsx(Ki,{value:"keyword",className:"space-y-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"keyword-select",children:"Select Keyword (Optional - auto-selects if empty)"}),l.jsxs(Tn,{value:i,onValueChange:s,children:[l.jsx(wn,{id:"keyword-select",children:l.jsx(Mn,{placeholder:"Auto-select unused keyword..."})}),l.jsx(_n,{children:A?l.jsx(Ae,{value:"loading",disabled:!0,children:"Loading keywords..."}):S.length===0?l.jsx(Ae,{value:"none",disabled:!0,children:"No keywords available"}):S.map(N=>l.jsxs(Ae,{value:N.id,children:[N.keyword," (used ",N.usage_count," times)"]},N.id))})]})]})}),l.jsxs(Ki,{value:"manual",className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"topic",children:"Article Topic *"}),l.jsx(Ft,{id:"topic",placeholder:"e.g., First-Time Homebuyer Tips for 2025",value:a,onChange:N=>o(N.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"keywords",children:"Target Keywords (comma-separated)"}),l.jsx(Ft,{id:"keywords",placeholder:"e.g., real estate, home buying, mortgage tips",value:d,onChange:N=>f(N.target.value)})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"category",children:"Category"}),l.jsxs(Tn,{value:c,onValueChange:u,children:[l.jsx(wn,{id:"category",children:l.jsx(Mn,{})}),l.jsxs(_n,{children:[l.jsx(Ae,{value:"Real Estate Tips",children:"Real Estate Tips"}),l.jsx(Ae,{value:"Market Insights",children:"Market Insights"}),l.jsx(Ae,{value:"Buying Guide",children:"Buying Guide"}),l.jsx(Ae,{value:"Selling Guide",children:"Selling Guide"}),l.jsx(Ae,{value:"Investment",children:"Investment"}),l.jsx(Ae,{value:"Neighborhood Guides",children:"Neighborhood Guides"}),l.jsx(Ae,{value:"Home Improvement",children:"Home Improvement"}),l.jsx(Ae,{value:"General",children:"General"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"instructions",children:"Custom Instructions (Optional)"}),l.jsx(lc,{id:"instructions",placeholder:"Add specific requirements, tone, or focus areas...",value:h,onChange:N=>p(N.target.value),rows:3})]}),l.jsx(Ve,{onClick:C,disabled:x||n==="manual"&&!a,className:"w-full gap-2",children:x?l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"h-4 w-4 animate-spin"}),"Generating Article..."]}):l.jsxs(l.Fragment,{children:[l.jsx(HJ,{className:"h-4 w-4"}),n==="keyword"&&!i?"Auto-Select Keyword & Generate":"Generate Article with AI"]})}),g&&l.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg mb-2",children:g.title}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Slug: ",g.slug]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:g.excerpt})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{children:"Article Content (Markdown)"}),l.jsx("div",{className:"p-4 bg-background border rounded-lg max-h-96 overflow-y-auto",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:g.content})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"SEO Title:"}),l.jsx("p",{className:"text-muted-foreground",children:g.seoTitle})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"SEO Description:"}),l.jsx("p",{className:"text-muted-foreground",children:g.seoDescription})]})]}),l.jsx(Ve,{onClick:T,className:"w-full",children:"Save as Draft"})]})]})]})]})}function xK(){const[t,e]=j.useState(!1),[n,r]=j.useState(""),[i,s]=j.useState(""),[a,o]=j.useState(!0),{createWebhook:c}=Fue(),u=d=>{d.preventDefault(),!(!n.trim()||!i.trim())&&(c({name:n,webhook_url:i,is_active:a}),r(""),s(""),o(!0),e(!1))};return l.jsxs(bl,{open:t,onOpenChange:e,children:[l.jsx(wy,{asChild:!0,children:l.jsxs(Ve,{variant:"outline",children:[l.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Add Webhook"]})}),l.jsxs(Po,{children:[l.jsxs(wl,{children:[l.jsx(_l,{children:"Add Article Webhook"}),l.jsx(ru,{children:"Configure a webhook to receive article data when articles are published"})]}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"name",children:"Webhook Name"}),l.jsx(Ft,{id:"name",placeholder:"My Social Platform",value:n,onChange:d=>r(d.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ye,{htmlFor:"url",children:"Webhook URL"}),l.jsx(Ft,{id:"url",type:"url",placeholder:"https://api.example.com/webhooks/article",value:i,onChange:d=>s(d.target.value),required:!0})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ye,{htmlFor:"active",children:"Active"}),l.jsx(wp,{id:"active",checked:a,onCheckedChange:o})]}),l.jsx(Ve,{type:"submit",className:"w-full",children:"Create Webhook"})]})]})]})}function yht(){const[t,e]=j.useState(!1),{importKeywords:n,isImporting:r}=n$(),i=j.useRef(null),s=()=>{const o=`keyword,category,difficulty,search_volume,notes
real estate agent portfolio,Real Estate,medium,1000,Example keyword
luxury home listings,Luxury Real Estate,hard,500,High-value properties
first time home buyer tips,Real Estate,easy,2000,Educational content`,c=new Blob([o],{type:"text/csv"}),u=window.URL.createObjectURL(c),d=document.createElement("a");d.href=u,d.download="keywords-template.csv",document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(u),nt.success("Template downloaded")},a=async o=>{var u;const c=(u=o.target.files)==null?void 0:u[0];if(c)try{const f=(await c.text()).split(`
`).filter(g=>g.trim());if(f.length<2){nt.error("CSV file is empty or invalid");return}const h=f[0].split(",").map(g=>g.trim().toLowerCase()),p=f.slice(1).map(g=>{const v=g.split(",").map(x=>x.trim()),w={};return h.forEach((x,_)=>{v[_]&&(w[x]=v[_])}),w}).filter(g=>g.keyword);if(p.length===0){nt.error("No valid keywords found in CSV");return}await n(p),e(!1),i.current&&(i.current.value="")}catch(d){console.error("Error parsing CSV:",d),nt.error("Failed to parse CSV file")}};return l.jsxs(bl,{open:t,onOpenChange:e,children:[l.jsx(wy,{asChild:!0,children:l.jsxs(Ve,{variant:"outline",children:[l.jsx(yN,{className:"h-4 w-4 mr-2"}),"Import Keywords"]})}),l.jsxs(Po,{children:[l.jsxs(wl,{children:[l.jsx(_l,{children:"Import Keywords from CSV"}),l.jsx(ru,{children:"Upload a CSV file with your keywords. New keywords will be added and existing ones will be skipped."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[l.jsx("input",{ref:i,type:"file",accept:".csv",onChange:a,disabled:r,className:"hidden",id:"csv-upload"}),l.jsx("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r?l.jsx(ri,{className:"h-8 w-8 animate-spin text-primary"}):l.jsx(yN,{className:"h-8 w-8 text-muted-foreground"}),l.jsx("p",{className:"text-sm font-medium",children:r?"Importing...":"Click to upload CSV"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"CSV files only"})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"CSV Format:"}),l.jsx("div",{className:"bg-muted p-3 rounded-md text-xs font-mono",children:"keyword,category,difficulty,search_volume,notes"}),l.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 ml-4 list-disc",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"keyword"})," (required): The keyword phrase"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"category"}),": Real Estate, Luxury Real Estate, etc."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"difficulty"}),": easy, medium, or hard"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"search_volume"}),": Monthly search volume (number)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"notes"}),": Any additional notes"]})]})]}),l.jsxs(Ve,{onClick:s,variant:"secondary",className:"w-full",children:[l.jsx(_E,{className:"h-4 w-4 mr-2"}),"Download Template"]})]})]})]})}function vht(){const[t,e]=j.useState("all"),{articles:n,isLoading:r,deleteArticle:i,publishArticle:s,republishArticle:a,isRepublishing:o}=Due(),{keywords:c,isLoading:u}=n$(),{webhooks:d,isLoading:f,updateWebhook:h,deleteWebhook:p,testWebhook:g,isTesting:v}=Fue(),w=_=>{switch(_){case"published":return"bg-green-500";case"scheduled":return"bg-blue-500";case"draft":return"bg-gray-500";case"archived":return"bg-orange-500";default:return"bg-gray-500"}};if(r)return l.jsx("div",{className:"flex items-center justify-center p-12",children:l.jsx(ri,{className:"h-8 w-8 animate-spin text-primary"})});const x=t==="all"?n:n==null?void 0:n.filter(_=>_.status===t);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(an,{children:[l.jsx(Cr,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Nr,{children:"Blog Articles"}),l.jsx(Gr,{children:"Manage your real estate blog content and articles"})]}),l.jsx(vK,{})]})}),l.jsx(bn,{children:l.jsxs(Af,{value:t,onValueChange:e,children:[l.jsxs(od,{children:[l.jsx(qr,{value:"all",children:"All Articles"}),l.jsx(qr,{value:"draft",children:"Drafts"}),l.jsx(qr,{value:"scheduled",children:"Scheduled"}),l.jsx(qr,{value:"published",children:"Published"})]}),l.jsx(Ki,{value:t,className:"space-y-4 mt-6",children:x&&x.length>0?x.map(_=>{var S,A;return l.jsx("div",{className:"border rounded-lg p-4 hover:border-primary transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h4",{className:"font-semibold text-lg",children:_.title}),l.jsx(rn,{className:`${w(_.status)} text-white`,children:_.status})]}),_.excerpt&&l.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[_.excerpt.substring(0,150),"..."]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[l.jsx(rn,{variant:"outline",children:_.category}),_.keyword_id&&l.jsxs(rn,{variant:"secondary",className:"gap-1",children:[l.jsx(q_e,{className:"h-3 w-3"}),((S=c==null?void 0:c.find(C=>C.id===_.keyword_id))==null?void 0:S.keyword)||"Keyword"]}),(A=_.tags)==null?void 0:A.slice(0,2).map((C,T)=>l.jsx(rn,{variant:"secondary",children:C},T))]}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Za,{className:"h-3 w-3"}),_.view_count," views"]}),l.jsxs("span",{children:["Created: ",Fu(new Date(_.created_at),"MMM d, yyyy")]}),_.published_at&&l.jsxs("span",{children:["Published: ",Fu(new Date(_.published_at),"MMM d, yyyy")]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ve,{variant:"outline",size:"sm",title:"View",children:l.jsx(Za,{className:"h-4 w-4"})}),l.jsx(Ve,{variant:"outline",size:"sm",title:"Edit",children:l.jsx(mb,{className:"h-4 w-4"})}),_.status==="draft"&&l.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>{confirm("Publish this article?")&&s(_.id)},title:"Publish",children:l.jsx(_f,{className:"h-4 w-4"})}),_.status==="published"&&l.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>{confirm("Re-distribute this article to social platforms?")&&a(_.id)},disabled:o,title:"Re-publish to Social Media",children:o?l.jsx(ri,{className:"h-4 w-4 animate-spin"}):l.jsx(EC,{className:"h-4 w-4"})}),l.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>{confirm("Delete this article?")&&i(_.id)},title:"Delete",children:l.jsx(n1,{className:"h-4 w-4"})})]})]})},_.id)}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No articles found"}),l.jsx("div",{className:"mt-4",children:l.jsx(vK,{})})]})})]})})]}),l.jsxs(an,{children:[l.jsx(Cr,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Nr,{children:"Keyword Management"}),l.jsx(Gr,{children:"Track SEO keyword usage across articles"})]}),l.jsx(yht,{})]})}),l.jsx(bn,{children:u?l.jsx("div",{className:"flex items-center justify-center p-4",children:l.jsx(ri,{className:"h-6 w-6 animate-spin text-primary"})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Keywords"}),l.jsx("p",{className:"text-2xl font-bold",children:(c==null?void 0:c.length)||0})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Unused"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:(c==null?void 0:c.filter(_=>_.usage_count===0).length)||0})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Most Used"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Math.max(...(c==null?void 0:c.map(_=>_.usage_count))||[0])})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Keywords are automatically tracked when articles are published. Import your keywords.csv to get started."})]})})]}),l.jsxs(an,{children:[l.jsxs(Cr,{children:[l.jsx(Nr,{children:"AI Content Suggestions"}),l.jsx(Gr,{children:"Generate article ideas based on market trends and topics"})]}),l.jsxs(bn,{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"AI-powered content suggestion system coming soon"}),l.jsxs(Ve,{variant:"outline",children:[l.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Get Suggestions"]})]})]}),l.jsxs(an,{children:[l.jsx(Cr,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Nr,{children:"Article Webhooks"}),l.jsx(Gr,{children:"Configure webhooks for automatic article distribution"})]}),l.jsx(xK,{})]})}),l.jsx(bn,{children:f?l.jsx("div",{className:"flex items-center justify-center p-4",children:l.jsx(ri,{className:"h-6 w-6 animate-spin text-primary"})}):d&&d.length>0?l.jsx("div",{className:"space-y-3",children:d.map(_=>l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"font-semibold",children:_.name}),l.jsx(rn,{variant:_.is_active?"default":"secondary",children:_.is_active?"Active":"Inactive"})]}),l.jsxs("a",{href:_.webhook_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-primary flex items-center gap-1",children:[_.webhook_url,l.jsx(kg,{className:"h-3 w-3"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wp,{checked:_.is_active,onCheckedChange:S=>{h({id:_.id,updates:{is_active:S}})}}),l.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>{confirm("Delete this webhook?")&&p(_.id)},children:l.jsx(n1,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"pt-3 border-t",children:l.jsx(Ve,{variant:"secondary",size:"sm",onClick:()=>g(_.webhook_url),disabled:v,className:"w-full",children:v?l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Q1,{className:"h-4 w-4 mr-2"}),"Send Test Payload to Make.com"]})})})]},_.id))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No webhooks configured. Add one to automatically send published articles to external platforms."}),l.jsx(xK,{})]})})]})]})}function xht(){const{user:t,role:e}=la();return!t||e!=="admin"?l.jsx(gQ,{to:"/",replace:!0}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("div",{className:"border-b",children:l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(gN,{className:"h-8 w-8 text-primary"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage AI, content, and platform settings"})]})]}),l.jsx(An,{to:"/dashboard",children:l.jsxs(Ve,{variant:"outline",className:"gap-2",children:[l.jsx(qU,{className:"h-4 w-4"}),"Back to Dashboard"]})})]})})}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs(Af,{defaultValue:"ai",className:"space-y-6",children:[l.jsxs(od,{className:"grid w-full grid-cols-4 lg:w-auto",children:[l.jsxs(qr,{value:"ai",className:"gap-2",children:[l.jsx(B_e,{className:"h-4 w-4"}),"AI Settings"]}),l.jsxs(qr,{value:"social",className:"gap-2",children:[l.jsx($J,{className:"h-4 w-4"}),"Social Media"]}),l.jsxs(qr,{value:"articles",className:"gap-2",children:[l.jsx(EE,{className:"h-4 w-4"}),"Articles"]}),l.jsxs(qr,{value:"settings",className:"gap-2",children:[l.jsx(gN,{className:"h-4 w-4"}),"Platform"]})]}),l.jsx(Ki,{value:"ai",className:"space-y-6",children:l.jsx(pht,{})}),l.jsx(Ki,{value:"social",className:"space-y-6",children:l.jsx(ght,{})}),l.jsx(Ki,{value:"articles",className:"space-y-6",children:l.jsx(vht,{})}),l.jsx(Ki,{value:"settings",className:"space-y-6",children:l.jsxs("div",{className:"rounded-lg border p-6",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Platform Settings"}),l.jsx("p",{className:"text-muted-foreground",children:"Additional platform configuration coming soon..."})]})})]})})]})}function bht(){const{initialize:t,user:e}=la();return j.useEffect(()=>{t(),(async()=>{await j1e.init(),await bR.init()})()},[t]),j.useEffect(()=>{(async()=>{e&&await bR.requestPermission()&&await bR.registerToken(e.id)})()},[e]),j.useEffect(()=>{e?o8.setUser(e.id,e.email):o8.clearUser()},[e]),l.jsxs(l.Fragment,{children:[l.jsxs(vxe,{children:[l.jsx(Hr,{path:"/",element:l.jsx(ATe,{})}),l.jsx(Hr,{path:"/pricing",element:l.jsx(p3e,{})}),l.jsx(Hr,{path:"/privacy",element:l.jsx(t3e,{})}),l.jsx(Hr,{path:"/terms",element:l.jsx(n3e,{})}),l.jsx(Hr,{path:"/blog",element:l.jsx(g3e,{})}),l.jsx(Hr,{path:"/blog/:slug",element:l.jsx(c5e,{})}),l.jsx(Hr,{path:"/p/:slug",element:l.jsx(dht,{})}),l.jsx(Hr,{path:"/:slug",element:l.jsx(e3e,{})}),l.jsx(Hr,{path:"/auth/login",element:l.jsx(d5e,{})}),l.jsx(Hr,{path:"/auth/register",element:l.jsx(h5e,{})}),l.jsxs(Hr,{path:"/dashboard",element:l.jsx(v1e,{children:l.jsx(m5e,{})}),children:[l.jsx(Hr,{index:!0,element:l.jsx(g5e,{})}),l.jsx(Hr,{path:"listings",element:l.jsx(P5e,{})}),l.jsx(Hr,{path:"quick-actions",element:l.jsx(rft,{})}),l.jsx(Hr,{path:"leads",element:l.jsx(j5e,{})}),l.jsx(Hr,{path:"lead-management",element:l.jsx(gft,{})}),l.jsx(Hr,{path:"analytics-advanced",element:l.jsx(Uft,{})}),l.jsx(Hr,{path:"page-builder",element:l.jsx(uht,{})}),l.jsx(Hr,{path:"profile",element:l.jsx(R5e,{})}),l.jsx(Hr,{path:"theme",element:l.jsx(fze,{})}),l.jsx(Hr,{path:"links",element:l.jsx(Pze,{})}),l.jsx(Hr,{path:"testimonials",element:l.jsx(Rze,{})}),l.jsx(Hr,{path:"analytics",element:l.jsx(Rdt,{})}),l.jsx(Hr,{path:"settings",element:l.jsx(Wdt,{})})]}),l.jsx(Hr,{path:"/admin",element:l.jsx(xht,{})}),l.jsx(Hr,{path:"*",element:l.jsx(Sne,{})})]}),l.jsx(N0e,{position:"top-right",richColors:!0})]})}class wht extends j.Component{constructor(){super(...arguments);ys(this,"state",{hasError:!1,error:null,errorInfo:null});ys(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})})}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){console.error("Uncaught error:",n,r),this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center px-4",children:l.jsxs("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-lg p-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:l.jsx(G2,{className:"h-8 w-8 text-red-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Oops! Something went wrong"}),l.jsx("p",{className:"text-gray-600",children:"We're sorry for the inconvenience"})]})]}),!1,l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("button",{onClick:this.handleReset,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[l.jsx(s1e,{className:"h-5 w-5"}),"Try Again"]}),l.jsxs("a",{href:"/",className:"flex-1 flex items-center justify-center gap-2 border-2 border-gray-300 text-gray-700 px-4 py-3 rounded-lg font-semibold hover:border-gray-400 transition-colors",children:[l.jsx(gi,{className:"h-5 w-5"}),"Go Home"]})]})]})}):this.props.children}}const _ht=new cve({defaultOptions:{queries:{staleTime:60*1e3,retry:1,refetchOnWindowFocus:!1}}}),Uue=document.getElementById("root");Uue||console.error("Root element #root not found");var jK,kK;console.log("[Lovable] Mounting React app",{mode:(kK=(jK=import.meta)==null?void 0:jK.env)==null?void 0:kK.MODE});TL.createRoot(Uue).render(l.jsx(Axe,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsx(wht,{children:l.jsx(SQ,{children:l.jsxs(uve,{client:_ht,children:[l.jsx(bht,{}),l.jsx(Eve,{initialIsOpen:!1})]})})})}));console.log("[Lovable] React render invoked");
