import{j as a}from"./ui-vendor-DfpuNOa7.js";import{aq as ea,ar as ta,as as aa,B as ve,M as sa,$ as ra,G as na,_ as oa,at as ia,au as la,s as ca,aj as Be,K as Nt,e as ua,f as ma,I as He,T as da,x as pa,y as fa,z as ha,D as xa,F as ga,h as Ta,a6 as Ae,r as ba,av as ya,H as _a,aw as Aa,ax as Na,ac as Ea,W as Sa,ab as va}from"./index-CcQPhg_t.js";import{b as q}from"./react-vendor-ctj0ExSI.js";import{S as wa}from"./square-Dvf0YVVr.js";import{C as Ra}from"./checkbox-BcxoekEd.js";import{T as Ca}from"./twitter-DxKept5y.js";import{P as Et}from"./play-BMsh5K5b.js";import{I as La}from"./image-DuPpH1sK.js";function ja({config:t,isEditing:s=!1}){return a.jsxs("div",{className:"text-center space-y-4 p-6",style:{fontFamily:"var(--theme-font-body, inherit)"},children:[t.avatarUrl&&a.jsx("div",{className:"flex justify-center",children:a.jsxs(ea,{className:"w-24 h-24",children:[a.jsx(ta,{src:t.avatarUrl,alt:t.title}),a.jsx(aa,{className:"text-2xl",children:t.title.charAt(0)})]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--theme-text, #1f2937)",fontFamily:"var(--theme-font-heading, inherit)"},children:t.title}),t.subtitle&&a.jsx("p",{className:"text-lg text-gray-600 mt-1",children:t.subtitle})]}),t.description&&a.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto whitespace-pre-wrap",children:t.description}),t.showContactButton&&!s&&a.jsxs("div",{className:"flex gap-3 justify-center pt-2",children:[a.jsxs(ve,{className:"gap-2",style:{backgroundColor:"var(--theme-primary, #2563eb)",borderRadius:"var(--theme-border-radius, 0.5rem)"},children:[a.jsx(sa,{className:"w-4 h-4"}),"Contact Me"]}),a.jsxs(ve,{variant:"outline",className:"gap-2",style:{borderRadius:"var(--theme-border-radius, 0.5rem)",borderColor:"var(--theme-primary, #2563eb)",color:"var(--theme-primary, #2563eb)"},children:[a.jsx(ra,{className:"w-4 h-4"}),"Call Now"]})]})]})}function Oa({config:t,isEditing:s=!1,userId:i}){const[n,u]=q.useState([]),[m,x]=q.useState(!0);q.useEffect(()=>{async function h(){if(!i){x(!1);return}try{let M=ca.from("listings").select("*").eq("user_id",i).order("created_at",{ascending:!1});t.filter==="active"?M=M.eq("status","active"):t.filter==="featured"&&(M=M.eq("is_featured",!0)),t.maxItems&&(M=M.limit(t.maxItems));const{data:re,error:D}=await M;if(D)throw D;u(re||[])}catch(M){console.error("Error fetching listings:",M),u([])}finally{x(!1)}}h()},[i,t.filter,t.maxItems]);const f=()=>{switch(t.layout){case"list":return"grid grid-cols-1 gap-4";case"carousel":return"flex overflow-x-auto gap-4 snap-x";case"grid":default:return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"}},N=h=>h.photos&&Array.isArray(h.photos)&&h.photos.length>0?h.photos[0]:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800",E=h=>`${h.address}, ${h.city}, ${h.state}`;return m?a.jsxs("div",{className:"space-y-6",children:[t.title&&a.jsx("h2",{className:"text-2xl font-bold text-center",children:t.title}),a.jsx("div",{className:"text-center py-12 text-gray-500",children:a.jsx("p",{children:"Loading listings..."})})]}):a.jsxs("div",{className:"space-y-6",children:[t.title&&a.jsx("h2",{className:"text-2xl font-bold text-center",children:t.title}),a.jsx("div",{className:f(),children:n.map(h=>a.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",children:[a.jsxs("div",{className:"relative aspect-video",children:[a.jsx("img",{src:N(h),alt:E(h),className:"w-full h-full object-cover"}),t.showStatus&&a.jsx(na,{className:"absolute top-2 right-2 capitalize",variant:h.status==="active"?"default":"secondary",children:h.status})]}),a.jsxs("div",{className:"p-4 space-y-2",children:[t.showPrices&&a.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",h.price.toLocaleString()]}),a.jsxs("div",{className:"flex items-center gap-1 text-gray-600 text-sm",children:[a.jsx(oa,{className:"w-4 h-4"}),E(h)]}),(h.bedrooms||h.bathrooms||h.square_feet)&&a.jsxs("div",{className:"flex items-center gap-4 text-gray-700 text-sm pt-2",children:[h.bedrooms&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ia,{className:"w-4 h-4"}),h.bedrooms," bd"]}),h.bathrooms&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(la,{className:"w-4 h-4"}),h.bathrooms," ba"]}),h.square_feet&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(wa,{className:"w-4 h-4"}),h.square_feet.toLocaleString()," sqft"]})]})]})]},h.id))}),n.length===0&&a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("p",{children:"No listings to display"}),s&&a.jsx("p",{className:"text-sm mt-1",children:"Add some properties in the Listings dashboard to see them here"})]})]})}const{entries:It,setPrototypeOf:St,isFrozen:Da,getPrototypeOf:Ia,getOwnPropertyDescriptor:Ma}=Object;let{freeze:j,seal:P,create:Xe}=Object,{apply:Ke,construct:Ze}=typeof Reflect<"u"&&Reflect;j||(j=function(s){return s});P||(P=function(s){return s});Ke||(Ke=function(s,i){for(var n=arguments.length,u=new Array(n>2?n-2:0),m=2;m<n;m++)u[m-2]=arguments[m];return s.apply(i,u)});Ze||(Ze=function(s){for(var i=arguments.length,n=new Array(i>1?i-1:0),u=1;u<i;u++)n[u-1]=arguments[u];return new s(...n)});const Ne=O(Array.prototype.forEach),ka=O(Array.prototype.lastIndexOf),vt=O(Array.prototype.pop),le=O(Array.prototype.push),Pa=O(Array.prototype.splice),Se=O(String.prototype.toLowerCase),We=O(String.prototype.toString),Ge=O(String.prototype.match),ce=O(String.prototype.replace),Ua=O(String.prototype.indexOf),Fa=O(String.prototype.trim),U=O(Object.prototype.hasOwnProperty),L=O(RegExp.prototype.test),ue=za(TypeError);function O(t){return function(s){s instanceof RegExp&&(s.lastIndex=0);for(var i=arguments.length,n=new Array(i>1?i-1:0),u=1;u<i;u++)n[u-1]=arguments[u];return Ke(t,s,n)}}function za(t){return function(){for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return Ze(t,i)}}function d(t,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Se;St&&St(t,null);let n=s.length;for(;n--;){let u=s[n];if(typeof u=="string"){const m=i(u);m!==u&&(Da(s)||(s[n]=m),u=m)}t[u]=!0}return t}function Ba(t){for(let s=0;s<t.length;s++)U(t,s)||(t[s]=null);return t}function G(t){const s=Xe(null);for(const[i,n]of It(t))U(t,i)&&(Array.isArray(n)?s[i]=Ba(n):n&&typeof n=="object"&&n.constructor===Object?s[i]=G(n):s[i]=n);return s}function me(t,s){for(;t!==null;){const n=Ma(t,s);if(n){if(n.get)return O(n.get);if(typeof n.value=="function")return O(n.value)}t=Ia(t)}function i(){return null}return i}const wt=j(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$e=j(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),qe=j(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ha=j(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ye=j(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Wa=j(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rt=j(["#text"]),Ct=j(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ve=j(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Lt=j(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ee=j(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ga=P(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$a=P(/<%[\w\W]*|[\w\W]*%>/gm),qa=P(/\$\{[\w\W]*/gm),Ya=P(/^data-[\-\w.\u00B7-\uFFFF]+$/),Va=P(/^aria-[\-\w]+$/),Mt=P(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Xa=P(/^(?:\w+script|data):/i),Ka=P(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kt=P(/^html$/i),Za=P(/^[a-z][.\w]*(-[.\w]+)+$/i);var jt=Object.freeze({__proto__:null,ARIA_ATTR:Va,ATTR_WHITESPACE:Ka,CUSTOM_ELEMENT:Za,DATA_ATTR:Ya,DOCTYPE_NAME:kt,ERB_EXPR:$a,IS_ALLOWED_URI:Mt,IS_SCRIPT_OR_DATA:Xa,MUSTACHE_EXPR:Ga,TMPLIT_EXPR:qa});const de={element:1,text:3,progressingInstruction:7,comment:8,document:9},Ja=function(){return typeof window>"u"?null:window},Qa=function(s,i){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let n=null;const u="data-tt-policy-suffix";i&&i.hasAttribute(u)&&(n=i.getAttribute(u));const m="dompurify"+(n?"#"+n:"");try{return s.createPolicy(m,{createHTML(x){return x},createScriptURL(x){return x}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}},Ot=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Pt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ja();const s=c=>Pt(c);if(s.version="3.3.0",s.removed=[],!t||!t.document||t.document.nodeType!==de.document||!t.Element)return s.isSupported=!1,s;let{document:i}=t;const n=i,u=n.currentScript,{DocumentFragment:m,HTMLTemplateElement:x,Node:f,Element:N,NodeFilter:E,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:M,DOMParser:re,trustedTypes:D}=t,o=N.prototype,p=me(o,"cloneNode"),b=me(o,"remove"),z=me(o,"nextSibling"),fe=me(o,"childNodes"),X=me(o,"parentNode");if(typeof x=="function"){const c=i.createElement("template");c.content&&c.content.ownerDocument&&(i=c.content.ownerDocument)}let w,$="";const{implementation:k,createNodeIterator:Ut,createDocumentFragment:Ft,getElementsByTagName:zt}=i,{importNode:Bt}=n;let C=Ot();s.isSupported=typeof It=="function"&&typeof X=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:we,ERB_EXPR:Re,TMPLIT_EXPR:Ce,DATA_ATTR:Ht,ARIA_ATTR:Wt,IS_SCRIPT_OR_DATA:Gt,ATTR_WHITESPACE:Je,CUSTOM_ELEMENT:$t}=jt;let{IS_ALLOWED_URI:Qe}=jt,_=null;const et=d({},[...wt,...$e,...qe,...Ye,...Rt]);let S=null;const tt=d({},[...Ct,...Ve,...Lt,...Ee]);let T=Object.seal(Xe(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ne=null,Le=null;const K=Object.seal(Xe(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let at=!0,je=!0,st=!1,rt=!0,Z=!1,he=!0,Y=!1,Oe=!1,De=!1,J=!1,xe=!1,ge=!1,nt=!0,ot=!1;const qt="user-content-";let Ie=!0,oe=!1,Q={},ee=null;const it=d({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let lt=null;const ct=d({},["audio","video","img","source","image","track"]);let Me=null;const ut=d({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Te="http://www.w3.org/1998/Math/MathML",be="http://www.w3.org/2000/svg",B="http://www.w3.org/1999/xhtml";let te=B,ke=!1,Pe=null;const Yt=d({},[Te,be,B],We);let ye=d({},["mi","mo","mn","ms","mtext"]),_e=d({},["annotation-xml"]);const Vt=d({},["title","style","font","a","script"]);let ie=null;const Xt=["application/xhtml+xml","text/html"],Kt="text/html";let A=null,ae=null;const Zt=i.createElement("form"),mt=function(e){return e instanceof RegExp||e instanceof Function},Ue=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ae&&ae===e)){if((!e||typeof e!="object")&&(e={}),e=G(e),ie=Xt.indexOf(e.PARSER_MEDIA_TYPE)===-1?Kt:e.PARSER_MEDIA_TYPE,A=ie==="application/xhtml+xml"?We:Se,_=U(e,"ALLOWED_TAGS")?d({},e.ALLOWED_TAGS,A):et,S=U(e,"ALLOWED_ATTR")?d({},e.ALLOWED_ATTR,A):tt,Pe=U(e,"ALLOWED_NAMESPACES")?d({},e.ALLOWED_NAMESPACES,We):Yt,Me=U(e,"ADD_URI_SAFE_ATTR")?d(G(ut),e.ADD_URI_SAFE_ATTR,A):ut,lt=U(e,"ADD_DATA_URI_TAGS")?d(G(ct),e.ADD_DATA_URI_TAGS,A):ct,ee=U(e,"FORBID_CONTENTS")?d({},e.FORBID_CONTENTS,A):it,ne=U(e,"FORBID_TAGS")?d({},e.FORBID_TAGS,A):G({}),Le=U(e,"FORBID_ATTR")?d({},e.FORBID_ATTR,A):G({}),Q=U(e,"USE_PROFILES")?e.USE_PROFILES:!1,at=e.ALLOW_ARIA_ATTR!==!1,je=e.ALLOW_DATA_ATTR!==!1,st=e.ALLOW_UNKNOWN_PROTOCOLS||!1,rt=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Z=e.SAFE_FOR_TEMPLATES||!1,he=e.SAFE_FOR_XML!==!1,Y=e.WHOLE_DOCUMENT||!1,J=e.RETURN_DOM||!1,xe=e.RETURN_DOM_FRAGMENT||!1,ge=e.RETURN_TRUSTED_TYPE||!1,De=e.FORCE_BODY||!1,nt=e.SANITIZE_DOM!==!1,ot=e.SANITIZE_NAMED_PROPS||!1,Ie=e.KEEP_CONTENT!==!1,oe=e.IN_PLACE||!1,Qe=e.ALLOWED_URI_REGEXP||Mt,te=e.NAMESPACE||B,ye=e.MATHML_TEXT_INTEGRATION_POINTS||ye,_e=e.HTML_INTEGRATION_POINTS||_e,T=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&mt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(T.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&mt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(T.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(T.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&(je=!1),xe&&(J=!0),Q&&(_=d({},Rt),S=[],Q.html===!0&&(d(_,wt),d(S,Ct)),Q.svg===!0&&(d(_,$e),d(S,Ve),d(S,Ee)),Q.svgFilters===!0&&(d(_,qe),d(S,Ve),d(S,Ee)),Q.mathMl===!0&&(d(_,Ye),d(S,Lt),d(S,Ee))),e.ADD_TAGS&&(typeof e.ADD_TAGS=="function"?K.tagCheck=e.ADD_TAGS:(_===et&&(_=G(_)),d(_,e.ADD_TAGS,A))),e.ADD_ATTR&&(typeof e.ADD_ATTR=="function"?K.attributeCheck=e.ADD_ATTR:(S===tt&&(S=G(S)),d(S,e.ADD_ATTR,A))),e.ADD_URI_SAFE_ATTR&&d(Me,e.ADD_URI_SAFE_ATTR,A),e.FORBID_CONTENTS&&(ee===it&&(ee=G(ee)),d(ee,e.FORBID_CONTENTS,A)),Ie&&(_["#text"]=!0),Y&&d(_,["html","head","body"]),_.table&&(d(_,["tbody"]),delete ne.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw ue('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ue('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,$=w.createHTML("")}else w===void 0&&(w=Qa(D,u)),w!==null&&typeof $=="string"&&($=w.createHTML(""));j&&j(e),ae=e}},dt=d({},[...$e,...qe,...Ha]),pt=d({},[...Ye,...Wa]),Jt=function(e){let r=X(e);(!r||!r.tagName)&&(r={namespaceURI:te,tagName:"template"});const l=Se(e.tagName),g=Se(r.tagName);return Pe[e.namespaceURI]?e.namespaceURI===be?r.namespaceURI===B?l==="svg":r.namespaceURI===Te?l==="svg"&&(g==="annotation-xml"||ye[g]):!!dt[l]:e.namespaceURI===Te?r.namespaceURI===B?l==="math":r.namespaceURI===be?l==="math"&&_e[g]:!!pt[l]:e.namespaceURI===B?r.namespaceURI===be&&!_e[g]||r.namespaceURI===Te&&!ye[g]?!1:!pt[l]&&(Vt[l]||!dt[l]):!!(ie==="application/xhtml+xml"&&Pe[e.namespaceURI]):!1},F=function(e){le(s.removed,{element:e});try{X(e).removeChild(e)}catch{b(e)}},V=function(e,r){try{le(s.removed,{attribute:r.getAttributeNode(e),from:r})}catch{le(s.removed,{attribute:null,from:r})}if(r.removeAttribute(e),e==="is")if(J||xe)try{F(r)}catch{}else try{r.setAttribute(e,"")}catch{}},ft=function(e){let r=null,l=null;if(De)e="<remove></remove>"+e;else{const y=Ge(e,/^[\r\n\t ]+/);l=y&&y[0]}ie==="application/xhtml+xml"&&te===B&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const g=w?w.createHTML(e):e;if(te===B)try{r=new re().parseFromString(g,ie)}catch{}if(!r||!r.documentElement){r=k.createDocument(te,"template",null);try{r.documentElement.innerHTML=ke?$:g}catch{}}const R=r.body||r.documentElement;return e&&l&&R.insertBefore(i.createTextNode(l),R.childNodes[0]||null),te===B?zt.call(r,Y?"html":"body")[0]:Y?r.documentElement:R},ht=function(e){return Ut.call(e.ownerDocument||e,e,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT|E.SHOW_PROCESSING_INSTRUCTION|E.SHOW_CDATA_SECTION,null)},Fe=function(e){return e instanceof M&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof h)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},xt=function(e){return typeof f=="function"&&e instanceof f};function H(c,e,r){Ne(c,l=>{l.call(s,e,r,ae)})}const gt=function(e){let r=null;if(H(C.beforeSanitizeElements,e,null),Fe(e))return F(e),!0;const l=A(e.nodeName);if(H(C.uponSanitizeElement,e,{tagName:l,allowedTags:_}),he&&e.hasChildNodes()&&!xt(e.firstElementChild)&&L(/<[/\w!]/g,e.innerHTML)&&L(/<[/\w!]/g,e.textContent)||e.nodeType===de.progressingInstruction||he&&e.nodeType===de.comment&&L(/<[/\w]/g,e.data))return F(e),!0;if(!(K.tagCheck instanceof Function&&K.tagCheck(l))&&(!_[l]||ne[l])){if(!ne[l]&&bt(l)&&(T.tagNameCheck instanceof RegExp&&L(T.tagNameCheck,l)||T.tagNameCheck instanceof Function&&T.tagNameCheck(l)))return!1;if(Ie&&!ee[l]){const g=X(e)||e.parentNode,R=fe(e)||e.childNodes;if(R&&g){const y=R.length;for(let I=y-1;I>=0;--I){const W=p(R[I],!0);W.__removalCount=(e.__removalCount||0)+1,g.insertBefore(W,z(e))}}}return F(e),!0}return e instanceof N&&!Jt(e)||(l==="noscript"||l==="noembed"||l==="noframes")&&L(/<\/no(script|embed|frames)/i,e.innerHTML)?(F(e),!0):(Z&&e.nodeType===de.text&&(r=e.textContent,Ne([we,Re,Ce],g=>{r=ce(r,g," ")}),e.textContent!==r&&(le(s.removed,{element:e.cloneNode()}),e.textContent=r)),H(C.afterSanitizeElements,e,null),!1)},Tt=function(e,r,l){if(nt&&(r==="id"||r==="name")&&(l in i||l in Zt))return!1;if(!(je&&!Le[r]&&L(Ht,r))){if(!(at&&L(Wt,r))){if(!(K.attributeCheck instanceof Function&&K.attributeCheck(r,e))){if(!S[r]||Le[r]){if(!(bt(e)&&(T.tagNameCheck instanceof RegExp&&L(T.tagNameCheck,e)||T.tagNameCheck instanceof Function&&T.tagNameCheck(e))&&(T.attributeNameCheck instanceof RegExp&&L(T.attributeNameCheck,r)||T.attributeNameCheck instanceof Function&&T.attributeNameCheck(r,e))||r==="is"&&T.allowCustomizedBuiltInElements&&(T.tagNameCheck instanceof RegExp&&L(T.tagNameCheck,l)||T.tagNameCheck instanceof Function&&T.tagNameCheck(l))))return!1}else if(!Me[r]){if(!L(Qe,ce(l,Je,""))){if(!((r==="src"||r==="xlink:href"||r==="href")&&e!=="script"&&Ua(l,"data:")===0&&lt[e])){if(!(st&&!L(Gt,ce(l,Je,"")))){if(l)return!1}}}}}}}return!0},bt=function(e){return e!=="annotation-xml"&&Ge(e,$t)},yt=function(e){H(C.beforeSanitizeAttributes,e,null);const{attributes:r}=e;if(!r||Fe(e))return;const l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:S,forceKeepAttr:void 0};let g=r.length;for(;g--;){const R=r[g],{name:y,namespaceURI:I,value:W}=R,se=A(y),ze=W;let v=y==="value"?ze:Fa(ze);if(l.attrName=se,l.attrValue=v,l.keepAttr=!0,l.forceKeepAttr=void 0,H(C.uponSanitizeAttribute,e,l),v=l.attrValue,ot&&(se==="id"||se==="name")&&(V(y,e),v=qt+v),he&&L(/((--!?|])>)|<\/(style|title|textarea)/i,v)){V(y,e);continue}if(se==="attributename"&&Ge(v,"href")){V(y,e);continue}if(l.forceKeepAttr)continue;if(!l.keepAttr){V(y,e);continue}if(!rt&&L(/\/>/i,v)){V(y,e);continue}Z&&Ne([we,Re,Ce],At=>{v=ce(v,At," ")});const _t=A(e.nodeName);if(!Tt(_t,se,v)){V(y,e);continue}if(w&&typeof D=="object"&&typeof D.getAttributeType=="function"&&!I)switch(D.getAttributeType(_t,se)){case"TrustedHTML":{v=w.createHTML(v);break}case"TrustedScriptURL":{v=w.createScriptURL(v);break}}if(v!==ze)try{I?e.setAttributeNS(I,y,v):e.setAttribute(y,v),Fe(e)?F(e):vt(s.removed)}catch{V(y,e)}}H(C.afterSanitizeAttributes,e,null)},Qt=function c(e){let r=null;const l=ht(e);for(H(C.beforeSanitizeShadowDOM,e,null);r=l.nextNode();)H(C.uponSanitizeShadowNode,r,null),gt(r),yt(r),r.content instanceof m&&c(r.content);H(C.afterSanitizeShadowDOM,e,null)};return s.sanitize=function(c){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null,l=null,g=null,R=null;if(ke=!c,ke&&(c="<!-->"),typeof c!="string"&&!xt(c))if(typeof c.toString=="function"){if(c=c.toString(),typeof c!="string")throw ue("dirty is not a string, aborting")}else throw ue("toString is not a function");if(!s.isSupported)return c;if(Oe||Ue(e),s.removed=[],typeof c=="string"&&(oe=!1),oe){if(c.nodeName){const W=A(c.nodeName);if(!_[W]||ne[W])throw ue("root node is forbidden and cannot be sanitized in-place")}}else if(c instanceof f)r=ft("<!---->"),l=r.ownerDocument.importNode(c,!0),l.nodeType===de.element&&l.nodeName==="BODY"||l.nodeName==="HTML"?r=l:r.appendChild(l);else{if(!J&&!Z&&!Y&&c.indexOf("<")===-1)return w&&ge?w.createHTML(c):c;if(r=ft(c),!r)return J?null:ge?$:""}r&&De&&F(r.firstChild);const y=ht(oe?c:r);for(;g=y.nextNode();)gt(g),yt(g),g.content instanceof m&&Qt(g.content);if(oe)return c;if(J){if(xe)for(R=Ft.call(r.ownerDocument);r.firstChild;)R.appendChild(r.firstChild);else R=r;return(S.shadowroot||S.shadowrootmode)&&(R=Bt.call(n,R,!0)),R}let I=Y?r.outerHTML:r.innerHTML;return Y&&_["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&L(kt,r.ownerDocument.doctype.name)&&(I="<!DOCTYPE "+r.ownerDocument.doctype.name+`>
`+I),Z&&Ne([we,Re,Ce],W=>{I=ce(I,W," ")}),w&&ge?w.createHTML(I):I},s.setConfig=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ue(c),Oe=!0},s.clearConfig=function(){ae=null,Oe=!1},s.isValidAttribute=function(c,e,r){ae||Ue({});const l=A(c),g=A(e);return Tt(l,g,r)},s.addHook=function(c,e){typeof e=="function"&&le(C[c],e)},s.removeHook=function(c,e){if(e!==void 0){const r=ka(C[c],e);return r===-1?void 0:Pa(C[c],r,1)[0]}return vt(C[c])},s.removeHooks=function(c){C[c]=[]},s.removeAllHooks=function(){C=Ot()},s}Pt();const pe=t=>{const s=t.trim().toLowerCase();return s.startsWith("javascript:")||s.startsWith("data:")||s.startsWith("vbscript:")||s.startsWith("file:")?"":(s.startsWith("http://")||s.startsWith("https://")||s.startsWith("mailto:")||s.startsWith("tel:")||s.startsWith("/"),t.trim())};function es({config:t,isEditing:s=!1}){const i=()=>{if(s)return;const x=pe(t.url);x&&(t.openInNewTab?window.open(x,"_blank","noopener,noreferrer"):window.location.href=x)},n=()=>a.jsxs(ve,{onClick:i,disabled:s,className:"w-full gap-2 justify-between",variant:t.style==="minimal"?"ghost":"default",size:"lg",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[t.icon&&a.jsx("span",{children:t.icon}),t.title]}),t.openInNewTab?a.jsx(Be,{className:"w-4 h-4"}):a.jsx(Nt,{className:"w-4 h-4"})]}),u=()=>a.jsx("div",{onClick:i,className:`
                p-4 rounded-lg border bg-white hover:shadow-md transition-all
                ${!s&&"cursor-pointer hover:border-primary"}
            `,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[t.icon&&a.jsx("div",{className:"text-2xl",children:t.icon}),a.jsx("span",{className:"font-semibold",children:t.title})]}),t.openInNewTab?a.jsx(Be,{className:"w-5 h-5 text-gray-400"}):a.jsx(Nt,{className:"w-5 h-5 text-gray-400"})]})}),m=()=>a.jsx("div",{onClick:i,className:`
                py-3 px-4 text-center
                ${!s&&"cursor-pointer hover:text-primary"}
                transition-colors
            `,children:a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.icon&&a.jsx("span",{children:t.icon}),a.jsx("span",{className:"font-medium",children:t.title}),t.openInNewTab&&a.jsx(Be,{className:"w-4 h-4"})]})});return a.jsxs("div",{className:"w-full max-w-md mx-auto",children:[t.style==="button"&&n(),t.style==="card"&&u(),t.style==="minimal"&&m()]})}function ts({config:t,isEditing:s=!1,userId:i}){const[n,u]=q.useState({}),[m,x]=q.useState(!1),[f,N]=q.useState(!1),[E,h]=q.useState({}),M=()=>{const o={};for(const p of t.fields){const b=n[p.id];if(p.required&&(!b||typeof b=="string"&&!b.trim())){o[p.id]=`${p.label} is required`;continue}p.type==="email"&&b&&typeof b=="string"&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)||(o[p.id]="Please enter a valid email address")),p.type==="phone"&&b&&typeof b=="string"&&(/^[\d\s\-\+\(\)]{7,}$/.test(b)||(o[p.id]="Please enter a valid phone number"))}return h(o),Object.keys(o).length===0},re=async o=>{if(o.preventDefault(),!s){if(!M()){Ae.error("Please fix the errors in the form");return}if(!i){Ae.error("Unable to submit form. Please try again later.");return}x(!0);try{const p=t.fields.find(k=>k.id==="name"||k.label.toLowerCase().includes("name")),b=t.fields.find(k=>k.type==="email"),z=t.fields.find(k=>k.type==="phone"),fe=t.fields.find(k=>k.type==="textarea"||k.id==="message"),X={user_id:i,name:p?String(n[p.id]||""):"Anonymous",email:b?String(n[b.id]||""):"",phone:z?String(n[z.id]||""):void 0,message:fe?String(n[fe.id]||""):void 0,lead_type:"contact",referrer_url:window.location.href,device:/Mobile|Android|iPhone/i.test(navigator.userAgent)?"mobile":"desktop"},{data:w,error:$}=await ba.invoke("submit-lead",{body:X});if($)throw new Error($.message||"Failed to submit form");N(!0),Ae.success(t.successMessage||"Message sent successfully!"),setTimeout(()=>{u({}),N(!1)},3e3)}catch(p){const b=p instanceof Error?p.message:"Failed to send message";Ae.error(b)}finally{x(!1)}}},D=(o,p)=>{u(b=>({...b,[o]:p})),E[o]&&h(b=>{const z={...b};return delete z[o],z})};return f?a.jsx("div",{className:"max-w-md mx-auto p-8 bg-green-50 rounded-lg border border-green-200",children:a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx(ua,{className:"w-12 h-12 text-green-600 mx-auto"}),a.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Message Sent!"}),a.jsx("p",{className:"text-green-700",children:t.successMessage})]})}):a.jsxs("div",{className:"max-w-md mx-auto",children:[t.title&&a.jsx("h3",{className:"text-2xl font-bold text-center mb-6",children:t.title}),a.jsxs("form",{onSubmit:re,className:"space-y-4",children:[t.fields.map(o=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ma,{htmlFor:o.id,children:[o.label,o.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),o.type==="text"&&a.jsx(He,{id:o.id,type:"text",placeholder:o.placeholder,required:o.required,disabled:s||m,value:String(n[o.id]||""),onChange:p=>D(o.id,p.target.value),className:E[o.id]?"border-red-500":""}),o.type==="email"&&a.jsx(He,{id:o.id,type:"email",placeholder:o.placeholder,required:o.required,disabled:s||m,value:String(n[o.id]||""),onChange:p=>D(o.id,p.target.value),className:E[o.id]?"border-red-500":""}),o.type==="phone"&&a.jsx(He,{id:o.id,type:"tel",placeholder:o.placeholder,required:o.required,disabled:s||m,value:String(n[o.id]||""),onChange:p=>D(o.id,p.target.value),className:E[o.id]?"border-red-500":""}),o.type==="textarea"&&a.jsx(da,{id:o.id,placeholder:o.placeholder,required:o.required,disabled:s||m,value:String(n[o.id]||""),onChange:p=>D(o.id,p.target.value),rows:4,className:E[o.id]?"border-red-500":""}),o.type==="select"&&o.options&&a.jsxs(pa,{disabled:s||m,value:n[o.id],onValueChange:p=>D(o.id,p),children:[a.jsx(fa,{className:E[o.id]?"border-red-500":"",children:a.jsx(ha,{placeholder:o.placeholder})}),a.jsx(xa,{children:o.options.map(p=>a.jsx(ga,{value:p,children:p},p))})]}),o.type==="checkbox"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ra,{id:o.id,disabled:s||m,checked:!!n[o.id]||!1,onCheckedChange:p=>D(o.id,!!p)}),a.jsx("label",{htmlFor:o.id,className:"text-sm cursor-pointer",children:o.label})]}),E[o.id]&&a.jsx("p",{className:"text-sm text-red-500",children:E[o.id]})]},o.id)),a.jsxs(ve,{type:"submit",className:"w-full gap-2",disabled:s||m,children:[m&&a.jsx(Ta,{className:"w-4 h-4 animate-spin"}),m?"Sending...":t.submitButtonText||"Submit"]})]})]})}function as({config:t,isEditing:s=!1}){const i=x=>{const f=`w-${t.iconSize==="small"?"5":t.iconSize==="large"?"8":"6"} h-${t.iconSize==="small"?"5":t.iconSize==="large"?"8":"6"}`;switch(x){case"facebook":return a.jsx(va,{className:f});case"instagram":return a.jsx(Sa,{className:f});case"twitter":return a.jsx(Ca,{className:f});case"linkedin":return a.jsx(Ea,{className:f});case"youtube":return a.jsx(Na,{className:f});case"tiktok":return a.jsx(Aa,{className:f});case"zillow":return a.jsx(_a,{className:f});case"realtor":return a.jsx(ya,{className:f});default:return null}},n=x=>({facebook:"hover:bg-blue-600",instagram:"hover:bg-pink-600",twitter:"hover:bg-sky-500",linkedin:"hover:bg-blue-700",youtube:"hover:bg-red-600",tiktok:"hover:bg-black",zillow:"hover:bg-blue-800",realtor:"hover:bg-red-700"})[x]||"hover:bg-gray-700",u=x=>{if(!s){const f=pe(x);f&&window.open(f,"_blank","noopener,noreferrer")}},m=()=>{switch(t.layout){case"vertical":return"flex-col items-center";case"grid":return"grid grid-cols-4 gap-3";case"horizontal":default:return"flex-row justify-center"}};return a.jsxs("div",{className:"space-y-4",children:[t.title&&a.jsx("h3",{className:"text-xl font-semibold text-center",children:t.title}),a.jsx("div",{className:`flex gap-3 ${m()}`,children:t.links.map(x=>a.jsx("button",{onClick:()=>u(x.url),disabled:s,className:`
                            p-3 rounded-full bg-gray-800 text-white
                            transition-all hover:scale-110
                            ${n(x.platform)}
                            ${s?"cursor-default":"cursor-pointer"}
                        `,title:x.username||x.platform,children:i(x.platform)},x.id))}),t.links.length===0&&s&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:a.jsx("p",{className:"text-sm",children:"No social links added yet"})})]})}function ss({config:t,isEditing:s=!1}){const[i,n]=q.useState(!1),u=()=>{const x=t.videoUrl,f=pe(x);if(!f)return"";if(f.includes("youtube.com")||f.includes("youtu.be")){let N="";return f.includes("youtube.com/watch?v=")?N=f.split("v=")[1]?.split("&")[0]:f.includes("youtu.be/")&&(N=f.split("youtu.be/")[1]?.split("?")[0]),N&&/^[\w-]+$/.test(N)?`https://www.youtube.com/embed/${N}?autoplay=${t.autoplay?"1":"0"}&mute=${t.muted?"1":"0"}`:""}if(f.includes("vimeo.com")){const N=f.split("vimeo.com/")[1]?.split("?")[0];return N&&/^\d+$/.test(N)?`https://player.vimeo.com/video/${N}?autoplay=${t.autoplay?"1":"0"}&muted=${t.muted?"1":"0"}`:""}return f.startsWith("https://")?f:""},m=()=>{s||n(!0)};return!t.videoUrl&&s?a.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(Et,{className:"w-12 h-12 mx-auto mb-2"}),a.jsx("p",{className:"font-medium",children:"No video URL"}),a.jsx("p",{className:"text-sm",children:"Add a YouTube or Vimeo URL"})]})}):a.jsxs("div",{className:"space-y-3",children:[t.title&&a.jsx("h3",{className:"text-xl font-semibold text-center",children:t.title}),a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-black",children:!i&&t.thumbnail?a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx("img",{src:t.thumbnail,alt:t.title||"Video",className:"w-full h-full object-cover"}),a.jsx("button",{onClick:m,disabled:s,className:"absolute inset-0 flex items-center justify-center bg-black/30 hover:bg-black/40 transition-colors group",children:a.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:a.jsx(Et,{className:"w-8 h-8 text-primary ml-1"})})})]}):a.jsx("iframe",{src:u(),title:t.title||"Video",className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}function rs({config:t,isEditing:s=!1}){return a.jsx("div",{style:{height:`${t.height}px`},className:s?"border-2 border-dashed border-gray-300 rounded":"",children:s&&a.jsxs("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:[t.height,"px spacer"]})})}function ns({config:t,isEditing:s=!1}){const i=()=>{switch(t.align){case"center":return"text-center";case"right":return"text-right";case"left":default:return"text-left"}},n=()=>{switch(t.fontSize){case"small":return"text-sm";case"large":return"text-lg";case"medium":default:return"text-base"}};return a.jsx("div",{className:`${i()} ${n()}`,children:t.content?a.jsx("p",{className:"whitespace-pre-wrap text-gray-700",children:t.content}):s&&a.jsx("p",{className:"text-gray-400 italic",children:"Enter your text here..."})})}function os({config:t,isEditing:s=!1}){const i=()=>{switch(t.size){case"small":return"max-w-sm";case"medium":return"max-w-md";case"large":return"max-w-2xl";case"full":return"w-full";default:return"max-w-md"}},n=()=>{if(!s&&t.link){const m=pe(t.link);m&&window.open(m,"_blank","noopener,noreferrer")}},u=pe(t.imageUrl||"");return!t.imageUrl&&s?a.jsx("div",{className:`${i()} mx-auto`,children:a.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(La,{className:"w-12 h-12 mx-auto mb-2"}),a.jsx("p",{className:"font-medium",children:"No image"}),a.jsx("p",{className:"text-sm",children:"Upload an image"})]})})}):a.jsxs("div",{className:`${i()} mx-auto space-y-2`,children:[a.jsx("div",{onClick:n,className:`
                    rounded-lg overflow-hidden
                    ${t.link&&!s?"cursor-pointer hover:opacity-90 transition-opacity":""}
                `,children:a.jsx("img",{src:u,alt:t.alt,className:"w-full h-auto"})}),t.caption&&a.jsx("p",{className:"text-sm text-gray-600 text-center italic",children:t.caption})]})}function gs({block:t,isEditing:s=!1,isSelected:i=!1,onSelect:n,userId:u}){const m=()=>{switch(t.type){case"bio":return a.jsx(ja,{config:t.config,isEditing:s});case"listings":return a.jsx(Oa,{config:t.config,isEditing:s,userId:u});case"link":return a.jsx(es,{config:t.config,isEditing:s});case"contact":return a.jsx(ts,{config:t.config,isEditing:s,userId:u});case"social":return a.jsx(as,{config:t.config,isEditing:s});case"video":return a.jsx(ss,{config:t.config,isEditing:s});case"spacer":return a.jsx(rs,{config:t.config,isEditing:s});case"text":return a.jsx(ns,{config:t.config,isEditing:s});case"image":return a.jsx(os,{config:t.config,isEditing:s});default:return a.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded text-center",children:a.jsxs("p",{className:"text-yellow-800",children:["Unknown block type: ",t.type]})})}};return s?a.jsxs("div",{onClick:n,className:`
                relative group transition-all
                ${i?"ring-2 ring-primary ring-offset-2":""}
                ${t.visible?"":"opacity-50"}
                ${n?"cursor-pointer":""}
            `,children:[m(),n&&a.jsx("div",{className:`
                        absolute inset-0 pointer-events-none
                        ${i?"":"group-hover:ring-1 group-hover:ring-gray-300"}
                    `})]}):a.jsx("div",{className:t.visible?"":"hidden",children:m()})}function is(t){return{none:"0",small:"0.25rem",medium:"0.5rem",large:"1rem",full:"9999px"}[t]}function ls(t){return{compact:"1rem",normal:"2rem",spacious:"3rem"}[t]}function Ts(t){return{"--theme-primary":t.colors.primary,"--theme-secondary":t.colors.secondary,"--theme-background":t.colors.background,"--theme-text":t.colors.text,"--theme-accent":t.colors.accent,"--theme-font-heading":`'${t.fonts.heading}', sans-serif`,"--theme-font-body":`'${t.fonts.body}', sans-serif`,"--theme-border-radius":is(t.borderRadius),"--theme-spacing":ls(t.spacing)}}function Dt(t){if(document.querySelector(`link[href*="${t.replace(/\s+/g,"+")}"]`))return;const i=document.createElement("link");i.href=`https://fonts.googleapis.com/css2?family=${t.replace(/\s+/g,"+")}:wght@400;500;600;700&display=swap`,i.rel="stylesheet",document.head.appendChild(i)}function bs(t){Dt(t.fonts.heading),t.fonts.body!==t.fonts.heading&&Dt(t.fonts.body)}export{gs as B,Ts as g,bs as p};
