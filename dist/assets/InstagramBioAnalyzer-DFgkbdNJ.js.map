{"version":3,"file":"InstagramBioAnalyzer-DFgkbdNJ.js","sources":["../../node_modules/lucide-react/dist/esm/icons/grid-3x3.js","../../src/components/tools/instagram-bio-analyzer/BioAnalyzerForm.tsx","../../src/lib/instagram-bio-analyzer/scoring.ts","../../src/components/tools/instagram-bio-analyzer/ScoreDisplay.tsx","../../src/components/tools/instagram-bio-analyzer/CategoryBreakdown.tsx","../../src/components/tools/instagram-bio-analyzer/BioRewriteDisplay.tsx","../../src/components/tools/instagram-bio-analyzer/InstagramMockup.tsx","../../src/components/tools/instagram-bio-analyzer/EmailCaptureModal.tsx","../../src/components/tools/instagram-bio-analyzer/SocialShare.tsx","../../src/lib/instagram-bio-analyzer/bio-generator.ts","../../src/lib/instagram-bio-analyzer/link-strategy.ts","../../src/pages/tools/InstagramBioAnalyzer.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.354.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Grid3x3 = createLucideIcon(\"Grid3x3\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M3 15h18\", key: \"5xshup\" }],\n  [\"path\", { d: \"M9 3v18\", key: \"fh3hqa\" }],\n  [\"path\", { d: \"M15 3v18\", key: \"14nvp0\" }]\n]);\n\nexport { Grid3x3 as default };\n//# sourceMappingURL=grid-3x3.js.map\n","/**\n * Multi-step form for Instagram Bio Analyzer\n */\n\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Textarea } from '@/components/ui/textarea';\nimport { BioAnalysisInput } from '@/lib/instagram-bio-analyzer/types';\nimport { ArrowRight, ArrowLeft, Instagram, TrendingUp } from 'lucide-react';\n\ninterface BioAnalyzerFormProps {\n  onSubmit: (data: BioAnalysisInput) => void;\n  onStepChange?: (step: number) => void;\n}\n\nconst PRIMARY_FOCUS_OPTIONS = [\n  { value: 'buyers', label: 'Buyers' },\n  { value: 'sellers', label: 'Sellers' },\n  { value: 'rentals', label: 'Rentals' },\n  { value: 'luxury', label: 'Luxury' },\n  { value: 'first-time-buyers', label: 'First-time Buyers' },\n  { value: 'investment', label: 'Investment Properties' },\n];\n\nexport function BioAnalyzerForm({ onSubmit, onStepChange }: BioAnalyzerFormProps) {\n  const [step, setStep] = useState(1);\n  const [selectedFocus, setSelectedFocus] = useState<string[]>([]);\n\n  const {\n    register,\n    handleSubmit,\n    watch,\n    setValue,\n    formState: { errors },\n  } = useForm<BioAnalysisInput>();\n\n  const totalSteps = 3;\n  const progress = (step / totalSteps) * 100;\n\n  const nextStep = () => {\n    const newStep = Math.min(step + 1, totalSteps);\n    setStep(newStep);\n    onStepChange?.(newStep);\n  };\n\n  const prevStep = () => {\n    const newStep = Math.max(step - 1, 1);\n    setStep(newStep);\n    onStepChange?.(newStep);\n  };\n\n  const handleFormSubmit = (data: BioAnalysisInput) => {\n    // Add selected focus areas\n    data.primaryFocus = selectedFocus;\n    onSubmit(data);\n  };\n\n  const toggleFocus = (value: string) => {\n    setSelectedFocus(prev =>\n      prev.includes(value)\n        ? prev.filter(v => v !== value)\n        : [...prev, value]\n    );\n  };\n\n  return (\n    <form onSubmit={handleSubmit(handleFormSubmit)} className=\"space-y-8\">\n      {/* Progress Bar */}\n      <div className=\"space-y-2\">\n        <div className=\"flex justify-between text-sm text-gray-600\">\n          <span>Step {step} of {totalSteps}</span>\n          <span>{Math.round(progress)}% Complete</span>\n        </div>\n        <div className=\"w-full h-2 bg-gray-200 rounded-full overflow-hidden\">\n          <div\n            className=\"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300\"\n            style={{ width: `${progress}%` }}\n          />\n        </div>\n      </div>\n\n      {/* Step 1: Current Bio Analysis */}\n      {step === 1 && (\n        <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center\">\n              <Instagram className=\"w-5 h-5 text-white\" />\n            </div>\n            <div>\n              <h2 className=\"text-2xl font-bold\">Current Bio Analysis</h2>\n              <p className=\"text-gray-600\">Let's analyze your existing Instagram bio</p>\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"instagramHandle\">\n                Instagram Handle <span className=\"text-gray-400\">(Optional)</span>\n              </Label>\n              <Input\n                id=\"instagramHandle\"\n                placeholder=\"@yourusername\"\n                {...register('instagramHandle')}\n                className=\"mt-1\"\n              />\n              <p className=\"text-sm text-gray-500 mt-1\">We'll use this for screenshot features</p>\n            </div>\n\n            <div>\n              <Label htmlFor=\"currentBio\">\n                Current Bio Text <span className=\"text-red-500\">*</span>\n              </Label>\n              <Textarea\n                id=\"currentBio\"\n                placeholder=\"Paste your current Instagram bio here...\"\n                maxLength={150}\n                rows={4}\n                {...register('currentBio', { required: 'Bio text is required' })}\n                className=\"mt-1\"\n              />\n              <div className=\"flex justify-between text-sm mt-1\">\n                <span className=\"text-gray-500\">Max 150 characters</span>\n                <span className={watch('currentBio')?.length > 140 ? 'text-red-500' : 'text-gray-500'}>\n                  {watch('currentBio')?.length || 0}/150\n                </span>\n              </div>\n              {errors.currentBio && (\n                <p className=\"text-red-500 text-sm mt-1\">{errors.currentBio.message}</p>\n              )}\n            </div>\n\n            <div>\n              <Label htmlFor=\"linkSituation\">\n                Current Link Situation <span className=\"text-red-500\">*</span>\n              </Label>\n              <Select onValueChange={(value: any) => setValue('linkSituation', value)}>\n                <SelectTrigger className=\"mt-1\">\n                  <SelectValue placeholder=\"Select your current link setup\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"linktree\">One Linktree link</SelectItem>\n                  <SelectItem value=\"website\">Website link</SelectItem>\n                  <SelectItem value=\"dm-only\">DM only (no link)</SelectItem>\n                  <SelectItem value=\"multiple-posts\">Multiple links in posts</SelectItem>\n                  <SelectItem value=\"nothing\">Nothing (no link at all)</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <Label htmlFor=\"profilePicture\">\n                Profile Picture Quality <span className=\"text-red-500\">*</span>\n              </Label>\n              <Select onValueChange={(value: any) => setValue('profilePicture', value)}>\n                <SelectTrigger className=\"mt-1\">\n                  <SelectValue placeholder=\"Describe your profile picture\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"professional\">Professional headshot</SelectItem>\n                  <SelectItem value=\"casual\">Casual photo</SelectItem>\n                  <SelectItem value=\"logo\">Logo/branding</SelectItem>\n                  <SelectItem value=\"other\">Other</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Step 2: Agent Context */}\n      {step === 2 && (\n        <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center\">\n              <TrendingUp className=\"w-5 h-5 text-white\" />\n            </div>\n            <div>\n              <h2 className=\"text-2xl font-bold\">Tell Us About You</h2>\n              <p className=\"text-gray-600\">Help us personalize your analysis</p>\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <Label>\n                Primary Focus <span className=\"text-red-500\">*</span>\n              </Label>\n              <p className=\"text-sm text-gray-500 mb-3\">Select all that apply</p>\n              <div className=\"grid grid-cols-2 gap-3\">\n                {PRIMARY_FOCUS_OPTIONS.map((option) => (\n                  <div\n                    key={option.value}\n                    onClick={() => toggleFocus(option.value)}\n                    className={`\n                      border-2 rounded-lg p-3 cursor-pointer transition-all\n                      ${selectedFocus.includes(option.value)\n                        ? 'border-purple-500 bg-purple-50'\n                        : 'border-gray-200 hover:border-gray-300'\n                      }\n                    `}\n                  >\n                    <div className=\"flex items-center gap-2\">\n                      <Checkbox\n                        checked={selectedFocus.includes(option.value)}\n                        onCheckedChange={() => toggleFocus(option.value)}\n                      />\n                      <span className=\"font-medium\">{option.label}</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <Label htmlFor=\"city\">\n                  City <span className=\"text-red-500\">*</span>\n                </Label>\n                <Input\n                  id=\"city\"\n                  placeholder=\"Miami\"\n                  {...register('city', { required: 'City is required' })}\n                  className=\"mt-1\"\n                />\n                {errors.city && (\n                  <p className=\"text-red-500 text-sm mt-1\">{errors.city.message}</p>\n                )}\n              </div>\n\n              <div>\n                <Label htmlFor=\"state\">\n                  State <span className=\"text-red-500\">*</span>\n                </Label>\n                <Input\n                  id=\"state\"\n                  placeholder=\"FL\"\n                  {...register('state', { required: 'State is required' })}\n                  className=\"mt-1\"\n                />\n                {errors.state && (\n                  <p className=\"text-red-500 text-sm mt-1\">{errors.state.message}</p>\n                )}\n              </div>\n            </div>\n\n            <div>\n              <Label htmlFor=\"location\">\n                Full Market Location <span className=\"text-red-500\">*</span>\n              </Label>\n              <Input\n                id=\"location\"\n                placeholder=\"Miami, FL\"\n                {...register('location', { required: 'Location is required' })}\n                className=\"mt-1\"\n              />\n              {errors.location && (\n                <p className=\"text-red-500 text-sm mt-1\">{errors.location.message}</p>\n              )}\n            </div>\n\n            <div>\n              <Label htmlFor=\"yearsExperience\">\n                Years of Experience <span className=\"text-red-500\">*</span>\n              </Label>\n              <Select onValueChange={(value: any) => setValue('yearsExperience', value)}>\n                <SelectTrigger className=\"mt-1\">\n                  <SelectValue placeholder=\"Select experience level\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"<1\">Less than 1 year</SelectItem>\n                  <SelectItem value=\"1-3\">1-3 years</SelectItem>\n                  <SelectItem value=\"3-5\">3-5 years</SelectItem>\n                  <SelectItem value=\"5-10\">5-10 years</SelectItem>\n                  <SelectItem value=\"10+\">10+ years</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <Label htmlFor=\"followerCount\">\n                Current Follower Count <span className=\"text-red-500\">*</span>\n              </Label>\n              <Select onValueChange={(value: any) => setValue('followerCount', value)}>\n                <SelectTrigger className=\"mt-1\">\n                  <SelectValue placeholder=\"Select follower range\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"<500\">Less than 500</SelectItem>\n                  <SelectItem value=\"500-2K\">500 - 2,000</SelectItem>\n                  <SelectItem value=\"2K-5K\">2,000 - 5,000</SelectItem>\n                  <SelectItem value=\"5K-10K\">5,000 - 10,000</SelectItem>\n                  <SelectItem value=\"10K+\">10,000+</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <Label htmlFor=\"monthlyLeads\">\n                Monthly Leads from Instagram <span className=\"text-red-500\">*</span>\n              </Label>\n              <Select onValueChange={(value: any) => setValue('monthlyLeads', value)}>\n                <SelectTrigger className=\"mt-1\">\n                  <SelectValue placeholder=\"Average monthly leads\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"0\">0 leads/month</SelectItem>\n                  <SelectItem value=\"1-3\">1-3 leads/month</SelectItem>\n                  <SelectItem value=\"4-10\">4-10 leads/month</SelectItem>\n                  <SelectItem value=\"10+\">10+ leads/month</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Step 3: Goals */}\n      {step === 3 && (\n        <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center\">\n              <TrendingUp className=\"w-5 h-5 text-white\" />\n            </div>\n            <div>\n              <h2 className=\"text-2xl font-bold\">Your Primary Goal</h2>\n              <p className=\"text-gray-600\">What's your #1 objective on Instagram?</p>\n            </div>\n          </div>\n\n          <div className=\"space-y-3\">\n            {[\n              { value: 'seller-leads', label: 'Generate Seller Leads', desc: 'Get more home valuations and listing opportunities' },\n              { value: 'buyer-leads', label: 'Get Buyer Leads', desc: 'Connect with people ready to purchase' },\n              { value: 'brand', label: 'Build Brand Authority', desc: 'Establish yourself as the local expert' },\n              { value: 'following', label: 'Grow Following', desc: 'Increase reach and visibility' },\n              { value: 'referrals', label: 'Get Referrals', desc: 'Generate word-of-mouth business' },\n            ].map((goal) => (\n              <div\n                key={goal.value}\n                onClick={() => setValue('primaryGoal', goal.value as any)}\n                className={`\n                  border-2 rounded-lg p-4 cursor-pointer transition-all\n                  ${watch('primaryGoal') === goal.value\n                    ? 'border-purple-500 bg-purple-50'\n                    : 'border-gray-200 hover:border-gray-300'\n                  }\n                `}\n              >\n                <div className=\"flex items-start gap-3\">\n                  <input\n                    type=\"radio\"\n                    name=\"primaryGoal\"\n                    value={goal.value}\n                    {...register('primaryGoal', { required: true })}\n                    className=\"mt-1\"\n                  />\n                  <div>\n                    <div className=\"font-semibold\">{goal.label}</div>\n                    <div className=\"text-sm text-gray-600\">{goal.desc}</div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Navigation Buttons */}\n      <div className=\"flex justify-between pt-6 border-t\">\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          onClick={prevStep}\n          disabled={step === 1}\n          className=\"gap-2\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          Previous\n        </Button>\n\n        {step < totalSteps ? (\n          <Button\n            type=\"button\"\n            onClick={nextStep}\n            className=\"gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\n          >\n            Next\n            <ArrowRight className=\"w-4 h-4\" />\n          </Button>\n        ) : (\n          <Button\n            type=\"submit\"\n            className=\"gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\n          >\n            Analyze My Bio\n            <ArrowRight className=\"w-4 h-4\" />\n          </Button>\n        )}\n      </div>\n    </form>\n  );\n}\n","/**\n * Bio Scoring Algorithm\n * Analyzes Instagram bios across 6 key categories\n */\n\nimport { BioAnalysisInput, CategoryScore, BioAnalysisResult } from './types';\n\nconst REAL_ESTATE_KEYWORDS = ['realtor', 'agent', 'broker', 'real estate', 'realty', 'properties', 'homes', 'luxury', 'residential', 'commercial'];\nconst GENERIC_PHRASES = ['helping you find', 'dream home', 'making dreams', 'here to help', 'your next home', 'let me help'];\nconst CTA_KEYWORDS = ['dm me', 'click', 'link below', 'contact', 'call', 'text', 'visit', 'schedule', 'book', 'download', 'get', 'start'];\nconst TRUST_INDICATORS = ['years', 'award', 'top', 'certified', 'licensed', 'expert', 'specialist', 'million', 'sold', '#1'];\n\n/**\n * Clarity Score (20 points)\n * Evaluates if it's immediately clear what the agent does\n */\nfunction scoreClarity(input: BioAnalysisInput): CategoryScore {\n  const bio = input.currentBio.toLowerCase();\n  let score = 0;\n  const issues: string[] = [];\n  const recommendations: string[] = [];\n  const examples: string[] = [];\n\n  // Check for real estate keywords (10 points)\n  const hasRealEstateKeyword = REAL_ESTATE_KEYWORDS.some(keyword => bio.includes(keyword));\n  if (hasRealEstateKeyword) {\n    score += 10;\n  } else {\n    issues.push(\"Bio doesn't clearly mention you're a real estate professional\");\n    recommendations.push(\"Add 'Real Estate Agent', 'Realtor', or similar to your bio\");\n    examples.push(\"üè° Real Estate Agent | Miami, FL\");\n  }\n\n  // Check for location mention (5 points)\n  const hasLocation = bio.includes(input.city.toLowerCase()) ||\n                       bio.includes(input.state.toLowerCase()) ||\n                       bio.includes(input.location.toLowerCase());\n  if (hasLocation) {\n    score += 5;\n  } else {\n    issues.push(\"Location not mentioned in bio\");\n    recommendations.push(`Include \"${input.city}\" or \"${input.state}\" to establish local presence`);\n    examples.push(`Helping families in ${input.city} find their perfect home`);\n  }\n\n  // Check for specialty mention (5 points)\n  if (input.primaryFocus.length > 0 && input.primaryFocus.some(focus => bio.includes(focus.toLowerCase()))) {\n    score += 5;\n  } else {\n    issues.push(\"Your specialty or focus area isn't clear\");\n    recommendations.push(`Mention your specialty: ${input.primaryFocus.join(', ')}`);\n    examples.push(\"Luxury Home Specialist | Waterfront Properties\");\n  }\n\n  const impact = score < 10 ?\n    \"Critical: Visitors don't understand what you do. You're losing 70%+ of potential leads.\" :\n    score < 15 ?\n    \"Moderate: Some confusion about your services. Losing 30-40% of potential engagement.\" :\n    \"Good: Bio clearly communicates your role and expertise.\";\n\n  return {\n    score,\n    maxScore: 20,\n    issues,\n    recommendations,\n    examples,\n    impact\n  };\n}\n\n/**\n * Differentiation Score (20 points)\n * Evaluates if the bio stands out from generic agent bios\n */\nfunction scoreDifferentiation(input: BioAnalysisInput): CategoryScore {\n  const bio = input.currentBio.toLowerCase();\n  let score = 0;\n  const issues: string[] = [];\n  const recommendations: string[] = [];\n  const examples: string[] = [];\n\n  // Check for generic phrases (penalize)\n  const genericCount = GENERIC_PHRASES.filter(phrase => bio.includes(phrase)).length;\n  if (genericCount === 0) {\n    score += 10;\n  } else {\n    issues.push(`Using ${genericCount} generic phrase(s) that ${(genericCount * 30).toFixed(0)}% of agents use`);\n    recommendations.push(\"Replace generic phrases with specific value propositions\");\n    examples.push(\"Instead of 'Helping you find your dream home', try 'Sold 200+ homes in [City] | Avg. 18 days to close'\");\n  }\n\n  // Check for unique value proposition (10 points)\n  const hasStats = /\\d+/.test(bio); // Has any numbers\n  const hasUniqueAngle = bio.length > 50 && !bio.includes('helping'); // Longer and not using \"helping\"\n\n  if (hasStats && hasUniqueAngle) {\n    score += 10;\n  } else if (hasStats || hasUniqueAngle) {\n    score += 5;\n    issues.push(\"Bio could be more specific and unique\");\n    recommendations.push(\"Add specific stats, credentials, or unique selling points\");\n    examples.push(\"15 years exp. | 500+ families helped | Certified Negotiation Expert\");\n  } else {\n    issues.push(\"Bio is too generic - sounds like every other agent\");\n    recommendations.push(\"Differentiate yourself with specific achievements or specialties\");\n    examples.push(\"Former architect turned realtor | Design-savvy home finder\");\n  }\n\n  const impact = score < 10 ?\n    \"Critical: You blend in with 1M+ other agents on Instagram. No reason to choose you.\" :\n    score < 15 ?\n    \"Moderate: Some differentiation but not compelling enough to stand out.\" :\n    \"Good: Bio has unique elements that make you memorable.\";\n\n  return {\n    score,\n    maxScore: 20,\n    issues,\n    recommendations,\n    examples,\n    impact\n  };\n}\n\n/**\n * Call-to-Action Score (20 points)\n * Evaluates if there's a clear next step for followers\n */\nfunction scoreCallToAction(input: BioAnalysisInput): CategoryScore {\n  const bio = input.currentBio.toLowerCase();\n  let score = 0;\n  const issues: string[] = [];\n  const recommendations: string[] = [];\n  const examples: string[] = [];\n\n  // Check for CTA presence (10 points)\n  const hasCTA = CTA_KEYWORDS.some(keyword => bio.includes(keyword));\n  if (hasCTA) {\n    score += 10;\n  } else {\n    issues.push(\"No clear call-to-action in bio\");\n    recommendations.push(\"Tell people what to do next: DM, click link, call, etc.\");\n    examples.push(\"üì≤ DM 'SELLING' for free home valuation\");\n  }\n\n  // Check for link mention (5 points)\n  const mentionsLink = bio.includes('link') || bio.includes('below') || bio.includes('üëá') || bio.includes('‚¨áÔ∏è');\n  if (mentionsLink) {\n    score += 5;\n  } else {\n    issues.push(\"Link in bio not called out\");\n    recommendations.push(\"Draw attention to your bio link\");\n    examples.push(\"üëá Free buyer's guide in link below\");\n  }\n\n  // Check for specific, actionable CTA (5 points)\n  const hasSpecificCTA = /dm|text|call \\d|click|download|get your|schedule/.test(bio);\n  if (hasSpecificCTA) {\n    score += 5;\n  } else {\n    issues.push(\"CTA is vague or missing\");\n    recommendations.push(\"Make your CTA specific and action-oriented\");\n    examples.push(\"Click link for instant home value estimate üè°\");\n  }\n\n  const impact = score < 10 ?\n    \"Critical: Followers don't know what to do next. 80% bounce without taking action.\" :\n    score < 15 ?\n    \"Moderate: Some direction but not compelling. Losing 40-50% of potential leads.\" :\n    \"Good: Clear CTA guides followers to take action.\";\n\n  return {\n    score,\n    maxScore: 20,\n    issues,\n    recommendations,\n    examples,\n    impact\n  };\n}\n\n/**\n * Local Authority Score (15 points)\n * Evaluates local market expertise signals\n */\nfunction scoreLocalAuthority(input: BioAnalysisInput): CategoryScore {\n  const bio = input.currentBio.toLowerCase();\n  let score = 0;\n  const issues: string[] = [];\n  const recommendations: string[] = [];\n  const examples: string[] = [];\n\n  // Check for city name (8 points)\n  if (bio.includes(input.city.toLowerCase())) {\n    score += 8;\n  } else {\n    issues.push(\"City name not in bio\");\n    recommendations.push(`Add \"${input.city}\" to establish local authority`);\n    examples.push(`${input.city}'s Trusted Real Estate Expert`);\n  }\n\n  // Check for neighborhood/area expertise (7 points)\n  const neighborhoodKeywords = ['local', 'neighborhood', 'community', 'downtown', 'waterfront', 'suburb'];\n  if (neighborhoodKeywords.some(keyword => bio.includes(keyword))) {\n    score += 7;\n  } else {\n    issues.push(\"No neighborhood or area expertise mentioned\");\n    recommendations.push(\"Mention specific neighborhoods or areas you specialize in\");\n    examples.push(\"Downtown & Waterfront specialist | Local expert since 2015\");\n  }\n\n  const impact = score < 8 ?\n    \"Critical: Followers don't see you as a local expert. Missing 60% of local search traffic.\" :\n    score < 12 ?\n    \"Moderate: Some local signals but not strong enough.\" :\n    \"Good: Strong local authority established.\";\n\n  return {\n    score,\n    maxScore: 15,\n    issues,\n    recommendations,\n    examples,\n    impact\n  };\n}\n\n/**\n * Trust Signals Score (15 points)\n * Evaluates credentials, experience, and social proof\n */\nfunction scoreTrustSignals(input: BioAnalysisInput): CategoryScore {\n  const bio = input.currentBio.toLowerCase();\n  let score = 0;\n  const issues: string[] = [];\n  const recommendations: string[] = [];\n  const examples: string[] = [];\n\n  // Check for trust indicators (10 points)\n  const trustCount = TRUST_INDICATORS.filter(indicator => bio.includes(indicator)).length;\n  score += Math.min(trustCount * 3, 10);\n\n  if (trustCount === 0) {\n    issues.push(\"No credentials, awards, or experience mentioned\");\n    recommendations.push(\"Add trust signals: years of experience, awards, certifications\");\n    examples.push(\"15+ years exp. | Top 1% Agent | Multi-Million Dollar Producer\");\n  }\n\n  // Check for social proof (5 points)\n  const hasSocialProof = /\\d+\\s*(families|clients|homes|sales|sold)/.test(bio);\n  if (hasSocialProof) {\n    score += 5;\n  } else {\n    issues.push(\"No social proof or client results\");\n    recommendations.push(\"Add specific numbers: homes sold, families helped, etc.\");\n    examples.push(\"500+ happy families | $50M+ in sales\");\n  }\n\n  const impact = score < 8 ?\n    \"Critical: No reason to trust you over competitors. Conversion rate 70% lower.\" :\n    score < 12 ?\n    \"Moderate: Some trust signals but need more credibility markers.\" :\n    \"Good: Strong trust signals build confidence.\";\n\n  return {\n    score,\n    maxScore: 15,\n    issues,\n    recommendations,\n    examples,\n    impact\n  };\n}\n\n/**\n * Link Strategy Score (10 points)\n * Evaluates current link setup effectiveness\n */\nfunction scoreLinkStrategy(input: BioAnalysisInput): CategoryScore {\n  let score = 0;\n  const issues: string[] = [];\n  const recommendations: string[] = [];\n  const examples: string[] = [];\n\n  switch (input.linkSituation) {\n    case 'linktree':\n      score = 6;\n      issues.push(\"Linktree is generic and doesn't capture leads or track effectively\");\n      recommendations.push(\"Upgrade to AgentBio for real estate-specific link-in-bio with lead capture\");\n      examples.push(\"AgentBio captures 3X more leads than Linktree for agents\");\n      break;\n    case 'website':\n      score = 7;\n      issues.push(\"Direct website link is good but misses opportunity for multiple CTAs\");\n      recommendations.push(\"Use a link-in-bio tool to showcase listings, capture leads, and track clicks\");\n      examples.push(\"Add listing showcase, home valuation, and contact options\");\n      break;\n    case 'dm-only':\n      score = 3;\n      issues.push(\"No link = losing 70%+ of potential leads who won't DM\");\n      recommendations.push(\"Add a link-in-bio immediately - you're losing most opportunities\");\n      examples.push(\"People prefer clicking over DMing. Make it easy!\");\n      break;\n    case 'multiple-posts':\n      score = 2;\n      issues.push(\"Scattered links in posts = confusion and lost leads\");\n      recommendations.push(\"Centralize all links in one professional link-in-bio\");\n      examples.push(\"One link, organized sections, professional presentation\");\n      break;\n    case 'nothing':\n      score = 0;\n      issues.push(\"No link or way to contact = missing 90%+ of opportunities\");\n      recommendations.push(\"Add link-in-bio TODAY - this is critical\");\n      examples.push(\"Every day without a link costs you potential deals\");\n      break;\n  }\n\n  // Bonus for mentioning link in bio\n  const bio = input.currentBio.toLowerCase();\n  if (bio.includes('link')) {\n    score += 2;\n  }\n\n  // Cap at 10\n  score = Math.min(score, 10);\n\n  const impact = score < 5 ?\n    \"Critical: Your link strategy is costing you 60-80% of potential leads.\" :\n    score < 8 ?\n    \"Moderate: Link setup works but missing opportunities for optimization.\" :\n    \"Good: Solid link strategy, minor improvements possible.\";\n\n  return {\n    score,\n    maxScore: 10,\n    issues,\n    recommendations,\n    examples,\n    impact\n  };\n}\n\n/**\n * Main scoring function\n */\nexport function analyzeBio(input: BioAnalysisInput): BioAnalysisResult {\n  const clarity = scoreClarity(input);\n  const differentiation = scoreDifferentiation(input);\n  const callToAction = scoreCallToAction(input);\n  const localAuthority = scoreLocalAuthority(input);\n  const trustSignals = scoreTrustSignals(input);\n  const linkStrategy = scoreLinkStrategy(input);\n\n  const overallScore =\n    clarity.score +\n    differentiation.score +\n    callToAction.score +\n    localAuthority.score +\n    trustSignals.score +\n    linkStrategy.score;\n\n  // Calculate competitive analysis\n  const missingElements: string[] = [];\n  if (clarity.score < 15) missingElements.push(\"Clear role/specialty\");\n  if (differentiation.score < 15) missingElements.push(\"Unique value proposition\");\n  if (callToAction.score < 15) missingElements.push(\"Strong call-to-action\");\n  if (localAuthority.score < 10) missingElements.push(\"Local market authority\");\n  if (trustSignals.score < 10) missingElements.push(\"Trust signals/credentials\");\n  if (linkStrategy.score < 7) missingElements.push(\"Optimized link strategy\");\n\n  const conversionPotential = Math.round((overallScore / 100) * 100);\n\n  return {\n    overallScore,\n    categoryScores: {\n      clarity,\n      differentiation,\n      callToAction,\n      localAuthority,\n      trustSignals,\n      linkStrategy\n    },\n    competitiveAnalysis: {\n      vsTopPerformers: getCompetitiveComparison(overallScore),\n      missingElements,\n      conversionPotential\n    },\n    rewrittenBios: [], // Will be populated by bio generator\n    timestamp: new Date().toISOString()\n  };\n}\n\nfunction getCompetitiveComparison(score: number): string {\n  if (score >= 85) {\n    return \"Your bio is in the top 5% of real estate agents on Instagram. Excellent work!\";\n  } else if (score >= 70) {\n    return \"Your bio is above average but top-performing agents score 15-20 points higher.\";\n  } else if (score >= 50) {\n    return \"Your bio is average. Top agents in your market likely score 30-40 points higher.\";\n  } else {\n    return \"Your bio is below average. Top performers in your area score 50+ points higher, which translates to 3-5X more leads.\";\n  }\n}\n\n/**\n * Get grade from score\n */\nexport function getScoreGrade(score: number): { grade: string; color: string; label: string } {\n  if (score >= 90) {\n    return { grade: 'A+', color: '#10b981', label: 'Excellent' };\n  } else if (score >= 80) {\n    return { grade: 'A', color: '#22c55e', label: 'Very Good' };\n  } else if (score >= 70) {\n    return { grade: 'B', color: '#84cc16', label: 'Good' };\n  } else if (score >= 60) {\n    return { grade: 'C', color: '#eab308', label: 'Average' };\n  } else if (score >= 50) {\n    return { grade: 'D', color: '#f59e0b', label: 'Below Average' };\n  } else {\n    return { grade: 'F', color: '#ef4444', label: 'Poor' };\n  }\n}\n","/**\n * Score Display Component\n * Shows overall effectiveness score with visual gauge\n */\n\nimport React from 'react';\nimport { getScoreGrade } from '@/lib/instagram-bio-analyzer/scoring';\nimport { TrendingUp, TrendingDown, AlertCircle } from 'lucide-react';\n\ninterface ScoreDisplayProps {\n  score: number;\n  maxScore?: number;\n  showGrade?: boolean;\n  size?: 'small' | 'medium' | 'large';\n}\n\nexport function ScoreDisplay({ score, maxScore = 100, showGrade = true, size = 'large' }: ScoreDisplayProps) {\n  const percentage = (score / maxScore) * 100;\n  const { grade, color, label } = getScoreGrade(score);\n\n  const sizeClasses = {\n    small: 'w-32 h-32',\n    medium: 'w-48 h-48',\n    large: 'w-64 h-64',\n  };\n\n  const textSizes = {\n    small: 'text-2xl',\n    medium: 'text-4xl',\n    large: 'text-6xl',\n  };\n\n  // Calculate circle properties\n  const radius = size === 'small' ? 50 : size === 'medium' ? 80 : 110;\n  const circumference = 2 * Math.PI * radius;\n  const strokeDashoffset = circumference - (percentage / 100) * circumference;\n\n  return (\n    <div className=\"flex flex-col items-center gap-6\">\n      {/* Circular Progress */}\n      <div className={`relative ${sizeClasses[size]}`}>\n        <svg className=\"transform -rotate-90 w-full h-full\">\n          {/* Background circle */}\n          <circle\n            cx=\"50%\"\n            cy=\"50%\"\n            r={radius}\n            stroke=\"currentColor\"\n            strokeWidth=\"12\"\n            fill=\"none\"\n            className=\"text-gray-200\"\n          />\n          {/* Progress circle */}\n          <circle\n            cx=\"50%\"\n            cy=\"50%\"\n            r={radius}\n            stroke={color}\n            strokeWidth=\"12\"\n            fill=\"none\"\n            strokeLinecap=\"round\"\n            strokeDasharray={circumference}\n            strokeDashoffset={strokeDashoffset}\n            className=\"transition-all duration-1000 ease-out\"\n            style={{ strokeDashoffset }}\n          />\n        </svg>\n\n        {/* Score text in center */}\n        <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n          <div className={`font-bold ${textSizes[size]}`} style={{ color }}>\n            {score}\n          </div>\n          <div className=\"text-gray-500 text-sm\">out of {maxScore}</div>\n        </div>\n      </div>\n\n      {/* Grade and Label */}\n      {showGrade && (\n        <div className=\"text-center\">\n          <div\n            className=\"inline-flex items-center gap-2 px-6 py-3 rounded-full text-white font-bold text-xl mb-2\"\n            style={{ backgroundColor: color }}\n          >\n            {score >= 70 ? (\n              <TrendingUp className=\"w-5 h-5\" />\n            ) : score >= 50 ? (\n              <AlertCircle className=\"w-5 h-5\" />\n            ) : (\n              <TrendingDown className=\"w-5 h-5\" />\n            )}\n            Grade: {grade}\n          </div>\n          <div className=\"text-lg text-gray-600\">{label}</div>\n        </div>\n      )}\n\n      {/* Interpretation */}\n      <div className=\"max-w-md text-center\">\n        {score >= 85 && (\n          <p className=\"text-gray-700\">\n            üéâ Excellent! Your bio is highly optimized and likely converting well.\n          </p>\n        )}\n        {score >= 70 && score < 85 && (\n          <p className=\"text-gray-700\">\n            üëç Good work! A few tweaks could push you into the top 5%.\n          </p>\n        )}\n        {score >= 50 && score < 70 && (\n          <p className=\"text-gray-700\">\n            ‚ö†Ô∏è Room for improvement. Implementing our recommendations could 2-3X your leads.\n          </p>\n        )}\n        {score < 50 && (\n          <p className=\"text-gray-700\">\n            üö® Critical issues detected. Your bio is likely costing you 60-80% of potential leads.\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n\n/**\n * Mini Score Badge for category scores\n */\nexport function ScoreBadge({ score, maxScore, label }: { score: number; maxScore: number; label: string }) {\n  const percentage = (score / maxScore) * 100;\n  const color = percentage >= 80 ? '#10b981' : percentage >= 60 ? '#eab308' : '#ef4444';\n\n  return (\n    <div className=\"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200\">\n      <span className=\"font-medium text-gray-700\">{label}</span>\n      <div className=\"flex items-center gap-3\">\n        <div className=\"w-32 h-2 bg-gray-200 rounded-full overflow-hidden\">\n          <div\n            className=\"h-full transition-all duration-500\"\n            style={{\n              width: `${percentage}%`,\n              backgroundColor: color,\n            }}\n          />\n        </div>\n        <span className=\"font-bold min-w-[60px] text-right\" style={{ color }}>\n          {score}/{maxScore}\n        </span>\n      </div>\n    </div>\n  );\n}\n","/**\n * Category Breakdown Component\n * Displays detailed scores and recommendations for each category\n */\n\nimport React from 'react';\nimport { BioAnalysisResult } from '@/lib/instagram-bio-analyzer/types';\nimport { ScoreBadge } from './ScoreDisplay';\nimport {\n  Eye,\n  Sparkles,\n  MessageSquare,\n  MapPin,\n  Award,\n  Link as LinkIcon,\n  AlertCircle,\n  CheckCircle,\n  Lightbulb\n} from 'lucide-react';\n\ninterface CategoryBreakdownProps {\n  analysis: BioAnalysisResult;\n  showDetails?: boolean;\n}\n\nconst CATEGORY_ICONS = {\n  clarity: Eye,\n  differentiation: Sparkles,\n  callToAction: MessageSquare,\n  localAuthority: MapPin,\n  trustSignals: Award,\n  linkStrategy: LinkIcon,\n};\n\nconst CATEGORY_LABELS = {\n  clarity: 'Clarity',\n  differentiation: 'Differentiation',\n  callToAction: 'Call-to-Action',\n  localAuthority: 'Local Authority',\n  trustSignals: 'Trust Signals',\n  linkStrategy: 'Link Strategy',\n};\n\nexport function CategoryBreakdown({ analysis, showDetails = false }: CategoryBreakdownProps) {\n  const categories = Object.entries(analysis.categoryScores);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center mb-8\">\n        <h2 className=\"text-2xl font-bold mb-2\">Category Breakdown</h2>\n        <p className=\"text-gray-600\">\n          Here's how your bio performs across the 6 key conversion factors\n        </p>\n      </div>\n\n      {/* Category Scores */}\n      <div className=\"space-y-3\">\n        {categories.map(([key, category]) => {\n          const Icon = CATEGORY_ICONS[key as keyof typeof CATEGORY_ICONS];\n          const label = CATEGORY_LABELS[key as keyof typeof CATEGORY_LABELS];\n\n          return (\n            <div key={key} className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\n              {/* Score Header */}\n              <div className=\"p-4 bg-gray-50 flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center\">\n                    <Icon className=\"w-5 h-5 text-purple-600\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900\">{label}</h3>\n                    <p className=\"text-sm text-gray-600\">{category.impact}</p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-2xl font-bold\">\n                    {category.score}/{category.maxScore}\n                  </div>\n                  <div className=\"text-sm text-gray-500\">\n                    {Math.round((category.score / category.maxScore) * 100)}%\n                  </div>\n                </div>\n              </div>\n\n              {/* Detailed Breakdown */}\n              {showDetails && (\n                <div className=\"p-4 space-y-4 border-t border-gray-100\">\n                  {/* Issues */}\n                  {category.issues.length > 0 && (\n                    <div>\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <AlertCircle className=\"w-4 h-4 text-red-500\" />\n                        <span className=\"font-semibold text-red-700\">Issues Found</span>\n                      </div>\n                      <ul className=\"space-y-1 ml-6\">\n                        {category.issues.map((issue, i) => (\n                          <li key={i} className=\"text-sm text-gray-700 list-disc\">\n                            {issue}\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n\n                  {/* Recommendations */}\n                  {category.recommendations.length > 0 && (\n                    <div>\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                        <span className=\"font-semibold text-green-700\">How to Fix</span>\n                      </div>\n                      <ul className=\"space-y-1 ml-6\">\n                        {category.recommendations.map((rec, i) => (\n                          <li key={i} className=\"text-sm text-gray-700 list-disc\">\n                            {rec}\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n\n                  {/* Examples */}\n                  {category.examples.length > 0 && (\n                    <div>\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <Lightbulb className=\"w-4 h-4 text-amber-500\" />\n                        <span className=\"font-semibold text-amber-700\">Examples</span>\n                      </div>\n                      <div className=\"space-y-2 ml-6\">\n                        {category.examples.map((example, i) => (\n                          <div key={i} className=\"bg-amber-50 border border-amber-200 rounded p-2\">\n                            <code className=\"text-sm text-gray-800\">{example}</code>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Competitive Analysis */}\n      <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6 border border-purple-200\">\n        <h3 className=\"font-bold text-lg mb-3 flex items-center gap-2\">\n          <TrendingUp className=\"w-5 h-5 text-purple-600\" />\n          Competitive Analysis\n        </h3>\n        <p className=\"text-gray-700 mb-4\">{analysis.competitiveAnalysis.vsTopPerformers}</p>\n\n        {analysis.competitiveAnalysis.missingElements.length > 0 && (\n          <div>\n            <p className=\"font-semibold text-gray-900 mb-2\">\n              You're missing these elements that top performers have:\n            </p>\n            <div className=\"flex flex-wrap gap-2\">\n              {analysis.competitiveAnalysis.missingElements.map((element, i) => (\n                <span\n                  key={i}\n                  className=\"bg-white px-3 py-1 rounded-full text-sm font-medium text-purple-700 border border-purple-200\"\n                >\n                  {element}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n\n        <div className=\"mt-4 p-4 bg-white rounded-lg border border-purple-200\">\n          <div className=\"flex items-center justify-between\">\n            <span className=\"font-semibold text-gray-900\">Conversion Potential</span>\n            <span className=\"text-2xl font-bold text-purple-600\">\n              {analysis.competitiveAnalysis.conversionPotential}%\n            </span>\n          </div>\n          <div className=\"mt-2 w-full h-2 bg-gray-200 rounded-full overflow-hidden\">\n            <div\n              className=\"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500\"\n              style={{ width: `${analysis.competitiveAnalysis.conversionPotential}%` }}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction TrendingUp({ className }: { className?: string }) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className={className}\n    >\n      <polyline points=\"23 6 13.5 15.5 8.5 10.5 1 18\" />\n      <polyline points=\"17 6 23 6 23 12\" />\n    </svg>\n  );\n}\n","/**\n * Bio Rewrite Display Component\n * Shows the 3 optimized bio versions with copy functionality\n */\n\nimport React, { useState } from 'react';\nimport { BioRewrite } from '@/lib/instagram-bio-analyzer/types';\nimport { Button } from '@/components/ui/button';\nimport { Copy, Check, Lock } from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface BioRewriteDisplayProps {\n  rewrites: BioRewrite[];\n  isLocked?: boolean;\n  onUnlock?: () => void;\n}\n\nconst STYLE_COLORS = {\n  professional: 'from-blue-500 to-blue-600',\n  friendly: 'from-green-500 to-green-600',\n  'problem-solver': 'from-purple-500 to-purple-600',\n};\n\nconst STYLE_DESCRIPTIONS = {\n  professional: 'Best for established agents who want to emphasize credentials and expertise',\n  friendly: 'Perfect for agents who want an approachable, community-focused presence',\n  'problem-solver': 'Ideal for agents who want to focus on solutions and results',\n};\n\nexport function BioRewriteDisplay({ rewrites, isLocked = false, onUnlock }: BioRewriteDisplayProps) {\n  const [copiedIndex, setCopiedIndex] = useState<number | null>(null);\n\n  const handleCopy = async (bio: string, index: number) => {\n    try {\n      await navigator.clipboard.writeText(bio);\n      setCopiedIndex(index);\n      toast.success('Bio copied to clipboard!');\n\n      setTimeout(() => {\n        setCopiedIndex(null);\n      }, 2000);\n    } catch (error) {\n      toast.error('Failed to copy bio');\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center mb-8\">\n        <h2 className=\"text-2xl font-bold mb-2\">Your Optimized Bios</h2>\n        <p className=\"text-gray-600\">\n          {isLocked\n            ? 'Preview one optimized bio - unlock all 3 versions + full report'\n            : 'Choose your favorite or mix and match elements from each'}\n        </p>\n      </div>\n\n      <div className=\"grid gap-6\">\n        {rewrites.map((rewrite, index) => {\n          const isPreview = isLocked && index > 0;\n          const gradientColor = STYLE_COLORS[rewrite.style];\n\n          return (\n            <div\n              key={index}\n              className={`\n                relative rounded-lg border-2 overflow-hidden\n                ${isPreview ? 'border-gray-300' : 'border-gray-200'}\n              `}\n            >\n              {/* Header */}\n              <div className={`bg-gradient-to-r ${gradientColor} p-4 text-white`}>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h3 className=\"font-bold text-lg\">{rewrite.title}</h3>\n                    <p className=\"text-sm opacity-90\">\n                      {STYLE_DESCRIPTIONS[rewrite.style]}\n                    </p>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-sm opacity-90\">Style</div>\n                    <div className=\"font-semibold capitalize\">{rewrite.style}</div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Bio Content */}\n              <div className=\"p-6 bg-white\">\n                {isPreview ? (\n                  <div className=\"relative\">\n                    <div className=\"blur-sm select-none pointer-events-none\">\n                      <div className=\"font-mono text-gray-900 whitespace-pre-wrap leading-relaxed\">\n                        {rewrite.bio.substring(0, 50)}...\n                      </div>\n                    </div>\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <Button\n                        onClick={onUnlock}\n                        className=\"gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\n                      >\n                        <Lock className=\"w-4 h-4\" />\n                        Unlock All 3 Bios\n                      </Button>\n                    </div>\n                  </div>\n                ) : (\n                  <>\n                    <div className=\"bg-gray-50 rounded-lg p-4 mb-4 border border-gray-200\">\n                      <div className=\"font-mono text-gray-900 whitespace-pre-wrap leading-relaxed\">\n                        {rewrite.bio}\n                      </div>\n                    </div>\n\n                    {/* Meta info */}\n                    <div className=\"flex items-center justify-between text-sm text-gray-600 mb-4\">\n                      <div className=\"flex items-center gap-4\">\n                        <span>\n                          Character count:{' '}\n                          <span className={rewrite.characterCount > 150 ? 'text-red-500 font-semibold' : 'font-semibold'}>\n                            {rewrite.characterCount}/150\n                          </span>\n                        </span>\n                        {rewrite.emojis.length > 0 && (\n                          <span>\n                            Emojis: {rewrite.emojis.join(' ')}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Copy Button */}\n                    <Button\n                      onClick={() => handleCopy(rewrite.bio, index)}\n                      variant=\"outline\"\n                      className=\"w-full gap-2\"\n                    >\n                      {copiedIndex === index ? (\n                        <>\n                          <Check className=\"w-4 h-4 text-green-500\" />\n                          Copied!\n                        </>\n                      ) : (\n                        <>\n                          <Copy className=\"w-4 h-4\" />\n                          Copy Bio\n                        </>\n                      )}\n                    </Button>\n                  </>\n                )}\n              </div>\n\n              {/* Reasoning */}\n              {!isPreview && (\n                <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\n                  <div className=\"text-sm\">\n                    <span className=\"font-semibold text-gray-700\">Why this works: </span>\n                    <span className=\"text-gray-600\">{rewrite.reasoning}</span>\n                  </div>\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Implementation Tips */}\n      {!isLocked && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6\">\n          <h3 className=\"font-bold text-blue-900 mb-3\">Implementation Tips</h3>\n          <ul className=\"space-y-2 text-sm text-blue-800\">\n            <li className=\"flex gap-2\">\n              <Check className=\"w-4 h-4 mt-0.5 text-blue-600 flex-shrink-0\" />\n              <span>Test each bio for 1-2 weeks and track your analytics</span>\n            </li>\n            <li className=\"flex gap-2\">\n              <Check className=\"w-4 h-4 mt-0.5 text-blue-600 flex-shrink-0\" />\n              <span>Feel free to mix elements from different versions</span>\n            </li>\n            <li className=\"flex gap-2\">\n              <Check className=\"w-4 h-4 mt-0.5 text-blue-600 flex-shrink-0\" />\n              <span>Update your bio to match seasonal changes or new specialties</span>\n            </li>\n            <li className=\"flex gap-2\">\n              <Check className=\"w-4 h-4 mt-0.5 text-blue-600 flex-shrink-0\" />\n              <span>Make sure your link-in-bio matches the promise in your bio</span>\n            </li>\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n\n/**\n * Bio Comparison Component\n * Shows before/after comparison\n */\nexport function BioComparison({ before, after }: { before: string; after: string }) {\n  return (\n    <div className=\"grid md:grid-cols-2 gap-6\">\n      {/* Before */}\n      <div className=\"space-y-3\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 bg-red-500 rounded-full\" />\n          <h3 className=\"font-bold text-gray-900\">Before</h3>\n        </div>\n        <div className=\"bg-red-50 border-2 border-red-200 rounded-lg p-4\">\n          <div className=\"font-mono text-sm text-gray-900 whitespace-pre-wrap\">\n            {before}\n          </div>\n        </div>\n      </div>\n\n      {/* After */}\n      <div className=\"space-y-3\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 bg-green-500 rounded-full\" />\n          <h3 className=\"font-bold text-gray-900\">After</h3>\n        </div>\n        <div className=\"bg-green-50 border-2 border-green-200 rounded-lg p-4\">\n          <div className=\"font-mono text-sm text-gray-900 whitespace-pre-wrap\">\n            {after}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * Instagram Profile Mockup\n * Shows a realistic preview of how the bio looks on Instagram\n */\n\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { MoreVertical, Grid, User } from 'lucide-react';\n\ninterface InstagramMockupProps {\n  username?: string;\n  bio: string;\n  profilePicture?: string;\n  fullName?: string;\n  location?: string;\n  followerCount?: string;\n  followingCount?: string;\n  postCount?: string;\n}\n\nexport function InstagramMockup({\n  username = 'your.username',\n  bio,\n  profilePicture,\n  fullName = 'Your Name',\n  location = 'Your Location',\n  followerCount = '1,234',\n  followingCount = '567',\n  postCount = '89',\n}: InstagramMockupProps) {\n  return (\n    <div className=\"w-full max-w-md mx-auto bg-white rounded-xl overflow-hidden shadow-2xl border border-gray-200\">\n      {/* Instagram Header */}\n      <div className=\"bg-white border-b border-gray-200 p-4 flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <svg className=\"w-6 h-6\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z\" fill=\"currentColor\"/>\n            <path d=\"M12 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\" fill=\"currentColor\"/>\n          </svg>\n          <span className=\"font-semibold\">{username}</span>\n        </div>\n        <MoreVertical className=\"w-6 h-6\" />\n      </div>\n\n      {/* Profile Info */}\n      <div className=\"p-4\">\n        {/* Profile Picture and Stats */}\n        <div className=\"flex items-center gap-6 mb-4\">\n          {/* Profile Picture */}\n          <div className=\"relative\">\n            {profilePicture ? (\n              <img\n                src={profilePicture}\n                alt=\"Profile\"\n                className=\"w-20 h-20 rounded-full object-cover border-2 border-gray-200\"\n              />\n            ) : (\n              <div className=\"w-20 h-20 rounded-full bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center\">\n                <User className=\"w-10 h-10 text-white\" />\n              </div>\n            )}\n            {/* Story Ring */}\n            <div className=\"absolute inset-0 rounded-full border-2 border-purple-500 -m-1\" />\n          </div>\n\n          {/* Stats */}\n          <div className=\"flex-1 flex justify-around\">\n            <div className=\"text-center\">\n              <div className=\"font-bold text-lg\">{postCount}</div>\n              <div className=\"text-gray-600 text-xs\">posts</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"font-bold text-lg\">{followerCount}</div>\n              <div className=\"text-gray-600 text-xs\">followers</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"font-bold text-lg\">{followingCount}</div>\n              <div className=\"text-gray-600 text-xs\">following</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Name and Bio */}\n        <div className=\"space-y-1 mb-4\">\n          <div className=\"font-semibold\">{fullName}</div>\n          <div className=\"text-gray-600 text-sm\">{location}</div>\n          <div className=\"text-sm whitespace-pre-wrap leading-relaxed\">\n            {bio}\n          </div>\n          <a href=\"#\" className=\"text-blue-600 text-sm font-semibold\">\n            agentbio.net/{username}\n          </a>\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"flex gap-2\">\n          <button className=\"flex-1 bg-blue-500 text-white font-semibold py-1.5 rounded-lg text-sm\">\n            Follow\n          </button>\n          <button className=\"flex-1 bg-gray-200 font-semibold py-1.5 rounded-lg text-sm\">\n            Message\n          </button>\n          <button className=\"bg-gray-200 px-3 py-1.5 rounded-lg\">\n            <User className=\"w-4 h-4\" />\n          </button>\n        </div>\n\n        {/* Story Highlights */}\n        <div className=\"mt-4 flex gap-4 overflow-x-auto pb-2\">\n          {['Listings', 'Sold', 'Tips', 'About'].map((highlight) => (\n            <div key={highlight} className=\"flex flex-col items-center gap-1 min-w-[64px]\">\n              <div className=\"w-16 h-16 rounded-full bg-gray-200 border-2 border-gray-300\" />\n              <span className=\"text-xs text-gray-600\">{highlight}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Tab Bar */}\n      <div className=\"border-t border-gray-200 flex\">\n        <button className=\"flex-1 py-3 border-t-2 border-black\">\n          <Grid className=\"w-6 h-6 mx-auto\" />\n        </button>\n        <button className=\"flex-1 py-3 text-gray-400\">\n          <svg className=\"w-6 h-6 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\" strokeWidth=\"2\" />\n            <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\" strokeWidth=\"2\" />\n            <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\" strokeWidth=\"2\" />\n            <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\" strokeWidth=\"2\" />\n          </svg>\n        </button>\n        <button className=\"flex-1 py-3 text-gray-400\">\n          <User className=\"w-6 h-6 mx-auto\" />\n        </button>\n      </div>\n\n      {/* Grid Preview */}\n      <div className=\"grid grid-cols-3 gap-1 p-1 bg-gray-100\">\n        {[1, 2, 3, 4, 5, 6].map((i) => (\n          <div key={i} className=\"aspect-square bg-gray-300\" />\n        ))}\n      </div>\n    </div>\n  );\n}\n\n/**\n * Before/After Instagram Comparison\n */\nexport function InstagramComparison({\n  beforeBio,\n  afterBio,\n  username,\n  fullName,\n  location,\n}: {\n  beforeBio: string;\n  afterBio: string;\n  username?: string;\n  fullName?: string;\n  location?: string;\n}) {\n  return (\n    <div className=\"space-y-6\">\n      <h3 className=\"text-2xl font-bold text-center\">See the Difference</h3>\n\n      <div className=\"grid md:grid-cols-2 gap-8\">\n        {/* Before */}\n        <div>\n          <div className=\"mb-4 flex items-center gap-2\">\n            <div className=\"w-3 h-3 bg-red-500 rounded-full\" />\n            <h4 className=\"font-bold text-lg\">Before Optimization</h4>\n          </div>\n          <div className=\"transform scale-90 origin-top\">\n            <InstagramMockup\n              username={username}\n              bio={beforeBio}\n              fullName={fullName}\n              location={location}\n            />\n          </div>\n        </div>\n\n        {/* After */}\n        <div>\n          <div className=\"mb-4 flex items-center gap-2\">\n            <div className=\"w-3 h-3 bg-green-500 rounded-full\" />\n            <h4 className=\"font-bold text-lg\">After Optimization</h4>\n          </div>\n          <div className=\"transform scale-90 origin-top\">\n            <InstagramMockup\n              username={username}\n              bio={afterBio}\n              fullName={fullName}\n              location={location}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * Email Capture Modal\n * Captures email to unlock full analysis and bio rewrites\n */\n\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { EmailCaptureData } from '@/lib/instagram-bio-analyzer/types';\nimport {\n  Gift,\n  FileText,\n  Calendar,\n  TrendingUp,\n  CheckCircle,\n  Sparkles,\n  Star,\n  Lock,\n  Unlock\n} from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface EmailCaptureModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSubmit: (data: EmailCaptureData) => Promise<void>;\n  analysisId: string;\n}\n\ninterface FormData {\n  email: string;\n  firstName: string;\n  market: string;\n  brokerage?: string;\n}\n\nexport function EmailCaptureModal({ isOpen, onClose, onSubmit, analysisId }: EmailCaptureModalProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<FormData>();\n\n  const handleFormSubmit = async (data: FormData) => {\n    setIsSubmitting(true);\n\n    try {\n      const captureData: EmailCaptureData = {\n        ...data,\n        analysisId,\n        capturedAt: new Date().toISOString(),\n      };\n\n      await onSubmit(captureData);\n      toast.success('Success! Your full analysis is now unlocked üéâ');\n    } catch (error) {\n      toast.error('Something went wrong. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        {/* Header with gradient */}\n        <div className=\"bg-gradient-to-r from-purple-500 to-pink-500 -mx-6 -mt-6 p-8 text-white mb-6\">\n          <div className=\"flex items-center gap-3 mb-2\">\n            <div className=\"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center\">\n              <Unlock className=\"w-6 h-6\" />\n            </div>\n            <div>\n              <DialogTitle className=\"text-2xl font-bold text-white\">\n                Unlock Your Complete Analysis\n              </DialogTitle>\n              <DialogDescription className=\"text-purple-100\">\n                Get all 3 optimized bios + comprehensive strategy report\n              </DialogDescription>\n            </div>\n          </div>\n        </div>\n\n        {/* What's Included */}\n        <div className=\"space-y-4 mb-6\">\n          <h3 className=\"font-bold text-lg flex items-center gap-2\">\n            <Gift className=\"w-5 h-5 text-purple-600\" />\n            Here's What You'll Get Instantly:\n          </h3>\n\n          <div className=\"grid gap-3\">\n            {[\n              {\n                icon: FileText,\n                title: '3 Professionally Rewritten Bios',\n                desc: 'Different styles optimized for your market and goals',\n              },\n              {\n                icon: TrendingUp,\n                title: 'Complete Analysis Report (PDF)',\n                desc: 'Detailed breakdown with actionable recommendations',\n              },\n              {\n                icon: CheckCircle,\n                title: 'Instagram Profile Optimization Checklist',\n                desc: 'Step-by-step guide to maximize your profile',\n              },\n              {\n                icon: Calendar,\n                title: '30-Day Content Calendar Template',\n                desc: 'Proven post ideas that drive engagement',\n              },\n              {\n                icon: Sparkles,\n                title: '50 High-Performing Post Ideas',\n                desc: 'Real estate content that converts followers to leads',\n              },\n              {\n                icon: Star,\n                title: 'Weekly Instagram Tips Newsletter',\n                desc: 'Ongoing strategies from top-performing agents',\n              },\n            ].map((item, index) => (\n              <div\n                key={index}\n                className=\"flex items-start gap-3 p-3 bg-purple-50 rounded-lg border border-purple-100\"\n              >\n                <div className=\"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0\">\n                  <item.icon className=\"w-4 h-4 text-purple-600\" />\n                </div>\n                <div>\n                  <div className=\"font-semibold text-gray-900\">{item.title}</div>\n                  <div className=\"text-sm text-gray-600\">{item.desc}</div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Social Proof */}\n        <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4 mb-6\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"flex text-yellow-400\">\n              {[1, 2, 3, 4, 5].map((star) => (\n                <Star key={star} className=\"w-4 h-4 fill-current\" />\n              ))}\n            </div>\n            <div>\n              <p className=\"text-sm italic text-gray-700 mb-1\">\n                \"Changed my bio, got 3 leads in the first week! This tool is a game-changer.\"\n              </p>\n              <p className=\"text-xs font-semibold text-gray-600\">\n                - Jennifer K., Miami Real Estate Agent\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit(handleFormSubmit)} className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"email\">\n              Email Address <span className=\"text-red-500\">*</span>\n            </Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              placeholder=\"you@example.com\"\n              {...register('email', {\n                required: 'Email is required',\n                pattern: {\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                  message: 'Invalid email address',\n                },\n              })}\n              className=\"mt-1\"\n            />\n            {errors.email && (\n              <p className=\"text-red-500 text-sm mt-1\">{errors.email.message}</p>\n            )}\n          </div>\n\n          <div>\n            <Label htmlFor=\"firstName\">\n              First Name <span className=\"text-red-500\">*</span>\n            </Label>\n            <Input\n              id=\"firstName\"\n              placeholder=\"John\"\n              {...register('firstName', { required: 'First name is required' })}\n              className=\"mt-1\"\n            />\n            {errors.firstName && (\n              <p className=\"text-red-500 text-sm mt-1\">{errors.firstName.message}</p>\n            )}\n          </div>\n\n          <div>\n            <Label htmlFor=\"market\">\n              Real Estate Market <span className=\"text-red-500\">*</span>\n            </Label>\n            <Input\n              id=\"market\"\n              placeholder=\"Miami, FL\"\n              {...register('market', { required: 'Market is required' })}\n              className=\"mt-1\"\n            />\n            {errors.market && (\n              <p className=\"text-red-500 text-sm mt-1\">{errors.market.message}</p>\n            )}\n          </div>\n\n          <div>\n            <Label htmlFor=\"brokerage\">\n              Brokerage <span className=\"text-gray-400\">(Optional)</span>\n            </Label>\n            <Input\n              id=\"brokerage\"\n              placeholder=\"Keller Williams, Coldwell Banker, etc.\"\n              {...register('brokerage')}\n              className=\"mt-1\"\n            />\n          </div>\n\n          {/* Trust Signals */}\n          <div className=\"bg-gray-50 rounded-lg p-4 text-sm text-gray-600 space-y-1\">\n            <div className=\"flex items-center gap-2\">\n              <CheckCircle className=\"w-4 h-4 text-green-500\" />\n              <span>Join 2,847 agents getting more leads from Instagram</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <CheckCircle className=\"w-4 h-4 text-green-500\" />\n              <span>No spam. Unsubscribe anytime.</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <CheckCircle className=\"w-4 h-4 text-green-500\" />\n              <span>Used by agents at Keller Williams, Coldwell Banker, RE/MAX</span>\n            </div>\n          </div>\n\n          {/* Submit Button */}\n          <Button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className=\"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-lg py-6\"\n          >\n            {isSubmitting ? (\n              <span className=\"flex items-center gap-2\">\n                <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                Unlocking...\n              </span>\n            ) : (\n              <span className=\"flex items-center gap-2\">\n                <Unlock className=\"w-5 h-5\" />\n                Unlock My Complete Analysis\n              </span>\n            )}\n          </Button>\n\n          <p className=\"text-xs text-center text-gray-500\">\n            By submitting, you agree to receive helpful Instagram marketing tips and information\n            about AgentBio. You can unsubscribe at any time.\n          </p>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\n/**\n * Unlock CTA Component\n * Shows when content is locked\n */\nexport function UnlockCTA({ onUnlock }: { onUnlock: () => void }) {\n  return (\n    <div className=\"bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg p-8 text-center text-white\">\n      <Lock className=\"w-16 h-16 mx-auto mb-4 opacity-90\" />\n      <h3 className=\"text-2xl font-bold mb-2\">Want the Full Analysis?</h3>\n      <p className=\"text-purple-100 mb-6 max-w-md mx-auto\">\n        Unlock all 3 professionally rewritten bios, complete analysis report, and bonus resources.\n        100% free, no credit card required.\n      </p>\n\n      <Button\n        onClick={onUnlock}\n        size=\"lg\"\n        className=\"bg-white text-purple-600 hover:bg-gray-100 gap-2 text-lg px-8\"\n      >\n        <Unlock className=\"w-5 h-5\" />\n        Unlock Now - It's Free\n      </Button>\n\n      <div className=\"mt-4 flex items-center justify-center gap-6 text-sm\">\n        <div className=\"flex items-center gap-1\">\n          <CheckCircle className=\"w-4 h-4\" />\n          <span>2,847 agents unlocked</span>\n        </div>\n        <div className=\"flex items-center gap-1\">\n          <Star className=\"w-4 h-4 fill-current\" />\n          <span>4.9/5 rating</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * Social Sharing Component\n * Enables viral sharing of bio scores and results\n */\n\nimport React, { useRef, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Facebook,\n  Linkedin,\n  Twitter,\n  Instagram,\n  Share2,\n  Download,\n  Copy,\n  Check\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { getScoreGrade } from '@/lib/instagram-bio-analyzer/scoring';\n\ninterface SocialShareProps {\n  score: number;\n  toolUrl: string;\n  onShare?: (platform: string) => void;\n}\n\nexport function SocialShare({ score, toolUrl, onShare }: SocialShareProps) {\n  const [copied, setCopied] = React.useState(false);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  const { grade, color, label } = getScoreGrade(score);\n\n  // Pre-populated social posts\n  const socialPosts = {\n    instagram: `My Instagram bio scored ${score}/100 üò± What's yours? ${toolUrl}`,\n    facebook: `Just optimized my real estate Instagram bio with this free tool. Every agent needs this: ${toolUrl}`,\n    linkedin: `Analyzed my Instagram strategy with this tool - game-changer for agent lead generation. ${toolUrl}`,\n    twitter: `My real estate Instagram bio scored ${score}/100 on this analyzer. Real estate agents, check yours: ${toolUrl}`,\n  };\n\n  const handleShare = async (platform: keyof typeof socialPosts) => {\n    const text = socialPosts[platform];\n    onShare?.(platform);\n\n    switch (platform) {\n      case 'facebook':\n        window.open(\n          `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(toolUrl)}&quote=${encodeURIComponent(text)}`,\n          '_blank',\n          'width=600,height=400'\n        );\n        break;\n      case 'twitter':\n        window.open(\n          `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`,\n          '_blank',\n          'width=600,height=400'\n        );\n        break;\n      case 'linkedin':\n        window.open(\n          `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(toolUrl)}`,\n          '_blank',\n          'width=600,height=400'\n        );\n        break;\n      case 'instagram':\n        // Copy to clipboard for Instagram story\n        try {\n          await navigator.clipboard.writeText(text);\n          toast.success('Copied! Paste into your Instagram story');\n        } catch (error) {\n          toast.error('Failed to copy text');\n        }\n        break;\n    }\n  };\n\n  const copyLink = async () => {\n    try {\n      await navigator.clipboard.writeText(toolUrl);\n      setCopied(true);\n      toast.success('Link copied to clipboard!');\n\n      setTimeout(() => {\n        setCopied(false);\n      }, 2000);\n    } catch (error) {\n      toast.error('Failed to copy link');\n    }\n  };\n\n  const downloadScoreCard = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Set canvas size for Instagram story (1080x1920)\n    canvas.width = 1080;\n    canvas.height = 1920;\n\n    // Background gradient\n    const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\n    gradient.addColorStop(0, '#9333ea'); // purple-600\n    gradient.addColorStop(1, '#ec4899'); // pink-500\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    // Score circle\n    const centerX = canvas.width / 2;\n    const centerY = 700;\n    const radius = 300;\n\n    // Circle background\n    ctx.fillStyle = 'rgba(255, 255, 255, 0.2)';\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n    ctx.fill();\n\n    // Score text\n    ctx.fillStyle = 'white';\n    ctx.font = 'bold 200px Arial';\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.fillText(score.toString(), centerX, centerY - 40);\n\n    // \"out of 100\" text\n    ctx.font = '40px Arial';\n    ctx.fillText('out of 100', centerX, centerY + 80);\n\n    // Grade badge\n    ctx.fillStyle = color;\n    ctx.fillRect(centerX - 150, centerY + 180, 300, 100);\n    ctx.fillStyle = 'white';\n    ctx.font = 'bold 60px Arial';\n    ctx.fillText(`Grade: ${grade}`, centerX, centerY + 230);\n\n    // Title\n    ctx.fillStyle = 'white';\n    ctx.font = 'bold 70px Arial';\n    ctx.fillText('My Instagram Bio Score', centerX, 300);\n\n    // Subtitle\n    ctx.font = '40px Arial';\n    ctx.fillText('Instagram Bio Analyzer', centerX, 400);\n\n    // Call to action\n    ctx.font = 'bold 50px Arial';\n    ctx.fillText('What\\'s yours?', centerX, 1400);\n\n    // URL\n    ctx.font = '35px Arial';\n    ctx.fillText('agentbio.net/tools/instagram-bio-analyzer', centerX, 1500);\n\n    // Download\n    const link = document.createElement('a');\n    link.download = `instagram-bio-score-${score}.png`;\n    link.href = canvas.toDataURL();\n    link.click();\n\n    toast.success('Score card downloaded! Share it on Instagram');\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center\">\n        <h3 className=\"text-xl font-bold mb-2\">Share Your Results</h3>\n        <p className=\"text-gray-600\">\n          Challenge other agents to beat your score!\n        </p>\n      </div>\n\n      {/* Share Buttons */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n        <Button\n          onClick={() => handleShare('instagram')}\n          className=\"gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\n        >\n          <Instagram className=\"w-4 h-4\" />\n          Instagram\n        </Button>\n        <Button\n          onClick={() => handleShare('facebook')}\n          className=\"gap-2 bg-blue-600 hover:bg-blue-700\"\n        >\n          <Facebook className=\"w-4 h-4\" />\n          Facebook\n        </Button>\n        <Button\n          onClick={() => handleShare('linkedin')}\n          className=\"gap-2 bg-blue-700 hover:bg-blue-800\"\n        >\n          <Linkedin className=\"w-4 h-4\" />\n          LinkedIn\n        </Button>\n        <Button\n          onClick={() => handleShare('twitter')}\n          className=\"gap-2 bg-sky-500 hover:bg-sky-600\"\n        >\n          <Twitter className=\"w-4 h-4\" />\n          Twitter\n        </Button>\n      </div>\n\n      {/* Copy Link */}\n      <div className=\"flex gap-2\">\n        <input\n          type=\"text\"\n          value={toolUrl}\n          readOnly\n          className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm\"\n        />\n        <Button onClick={copyLink} variant=\"outline\" className=\"gap-2\">\n          {copied ? (\n            <>\n              <Check className=\"w-4 h-4 text-green-500\" />\n              Copied\n            </>\n          ) : (\n            <>\n              <Copy className=\"w-4 h-4\" />\n              Copy\n            </>\n          )}\n        </Button>\n      </div>\n\n      {/* Download Score Card */}\n      <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-6\">\n        <div className=\"flex items-center gap-4\">\n          <div className=\"flex-1\">\n            <h4 className=\"font-bold text-gray-900 mb-1\">Download Score Card</h4>\n            <p className=\"text-sm text-gray-600\">\n              Perfect for Instagram stories! Pre-designed and ready to share.\n            </p>\n          </div>\n          <Button\n            onClick={downloadScoreCard}\n            className=\"gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\n          >\n            <Download className=\"w-4 h-4\" />\n            Download\n          </Button>\n        </div>\n      </div>\n\n      {/* Hidden canvas for generating share image */}\n      <canvas ref={canvasRef} style={{ display: 'none' }} />\n\n      {/* Referral Incentive */}\n      <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-6\">\n        <h4 className=\"font-bold text-amber-900 mb-2 flex items-center gap-2\">\n          <Share2 className=\"w-5 h-5\" />\n          Earn Rewards\n        </h4>\n        <p className=\"text-sm text-amber-800 mb-3\">\n          Share this tool with 3 agents and get our \"Real Estate Instagram Mastery\" video course\n          (worth $97) absolutely free!\n        </p>\n        <div className=\"flex items-center gap-2 text-sm text-amber-700\">\n          <div className=\"flex-1 h-2 bg-amber-200 rounded-full overflow-hidden\">\n            <div className=\"h-full bg-amber-500\" style={{ width: '0%' }} />\n          </div>\n          <span className=\"font-semibold\">0/3 referrals</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/**\n * Leaderboard Component\n * Shows anonymized scores to create competition\n */\nexport function ScoreLeaderboard({ userScore, market }: { userScore: number; market?: string }) {\n  // Mock data - would be populated from Supabase in production\n  const leaderboard = [\n    { rank: 1, score: 94, market: 'Miami, FL' },\n    { rank: 2, score: 91, market: 'Austin, TX' },\n    { rank: 3, score: 88, market: 'San Diego, CA' },\n    { rank: 4, score: 86, market: 'Denver, CO' },\n    { rank: 5, score: 84, market: 'Seattle, WA' },\n  ];\n\n  const userRank = leaderboard.findIndex(item => item.score <= userScore) + 1 || leaderboard.length + 1;\n\n  return (\n    <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n      <h3 className=\"font-bold text-lg mb-4 flex items-center gap-2\">\n        üèÜ Top Scores {market && `in ${market}`}\n      </h3>\n\n      <div className=\"space-y-2\">\n        {leaderboard.map((item) => (\n          <div\n            key={item.rank}\n            className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\n          >\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white flex items-center justify-center font-bold text-sm\">\n                {item.rank}\n              </div>\n              <span className=\"text-sm text-gray-600\">{item.market}</span>\n            </div>\n            <div className=\"font-bold text-lg\">{item.score}</div>\n          </div>\n        ))}\n\n        {userRank > 5 && (\n          <div className=\"flex items-center justify-between p-3 bg-purple-100 rounded-lg border-2 border-purple-500\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center font-bold text-sm\">\n                {userRank}\n              </div>\n              <span className=\"text-sm font-semibold text-purple-900\">You</span>\n            </div>\n            <div className=\"font-bold text-lg text-purple-900\">{userScore}</div>\n          </div>\n        )}\n      </div>\n\n      {userRank > 1 && (\n        <div className=\"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <p className=\"text-sm text-blue-800\">\n            üí° You're {leaderboard[0].score - userScore} points away from #1!\n            Implement our recommendations to climb the leaderboard.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * Bio Rewrite Generator\n * Creates 3 optimized bio versions in different styles\n */\n\nimport { BioAnalysisInput, BioRewrite } from './types';\n\nconst EMOJI_MAP = {\n  home: 'üè°',\n  key: 'üîë',\n  location: 'üìç',\n  phone: 'üì±',\n  email: 'üìß',\n  award: 'üèÜ',\n  star: '‚≠ê',\n  chart: 'üìà',\n  handshake: 'ü§ù',\n  check: '‚úÖ',\n  point_down: 'üëá',\n  sparkles: '‚ú®',\n  house: 'üè†',\n  building: 'üè¢',\n  sunset: 'üåÖ',\n  dollar: 'üí∞',\n  trophy: 'üèÜ',\n  crown: 'üëë',\n  rocket: 'üöÄ'\n};\n\ninterface BioTemplate {\n  style: 'professional' | 'friendly' | 'problem-solver';\n  title: string;\n  description: string;\n  structure: (input: BioAnalysisInput) => string;\n}\n\nconst PROFESSIONAL_TEMPLATE: BioTemplate = {\n  style: 'professional',\n  title: 'Professional Authority',\n  description: 'Establishes credibility with credentials and results',\n  structure: (input: BioAnalysisInput) => {\n    const parts: string[] = [];\n\n    // Title line\n    const specialties = input.primaryFocus.slice(0, 2).join(' & ');\n    parts.push(`${EMOJI_MAP.home} ${specialties || 'Real Estate'} Specialist`);\n\n    // Location\n    parts.push(`${EMOJI_MAP.location} ${input.city}, ${input.state}`);\n\n    // Experience & credentials\n    const expText = getExperienceText(input.yearsExperience);\n    if (expText) {\n      parts.push(`${EMOJI_MAP.award} ${expText}`);\n    }\n\n    // CTA based on goal\n    const cta = getCallToAction(input.primaryGoal);\n    parts.push(`${EMOJI_MAP.point_down} ${cta}`);\n\n    return parts.join(' | ');\n  }\n};\n\nconst FRIENDLY_TEMPLATE: BioTemplate = {\n  style: 'friendly',\n  title: 'Friendly Local Expert',\n  description: 'Approachable and community-focused tone',\n  structure: (input: BioAnalysisInput) => {\n    const parts: string[] = [];\n\n    // Friendly intro\n    parts.push(`${EMOJI_MAP.key} Your ${input.city} Real Estate Guide`);\n\n    // Personal touch\n    const focus = input.primaryFocus[0] || 'families';\n    parts.push(`${EMOJI_MAP.handshake} Helping ${getFocusAudience(focus)} since ${getYearStarted(input.yearsExperience)}`);\n\n    // CTA\n    const cta = getFriendlyCTA(input.primaryGoal);\n    parts.push(`${EMOJI_MAP.sparkles} ${cta}`);\n\n    return parts.join('\\n');\n  }\n};\n\nconst PROBLEM_SOLVER_TEMPLATE: BioTemplate = {\n  style: 'problem-solver',\n  title: 'Problem-Solving Specialist',\n  description: 'Focuses on solutions and specific results',\n  structure: (input: BioAnalysisInput) => {\n    const parts: string[] = [];\n\n    // Problem statement\n    const problem = getProblemStatement(input.primaryGoal);\n    parts.push(problem);\n\n    // Solution\n    parts.push(`${EMOJI_MAP.check} ${input.city} Real Estate Expert`);\n\n    // Proof\n    const proof = getProofStatement(input.yearsExperience, input.primaryFocus);\n    if (proof) {\n      parts.push(`${EMOJI_MAP.chart} ${proof}`);\n    }\n\n    // CTA\n    parts.push(`${EMOJI_MAP.point_down} ${getDirectCTA(input.primaryGoal)}`);\n\n    return parts.join('\\n');\n  }\n};\n\nfunction getExperienceText(years: string): string {\n  switch (years) {\n    case '<1':\n      return 'Fresh perspective & modern approach';\n    case '1-3':\n      return '3+ Years Experience';\n    case '3-5':\n      return '5+ Years Proven Results';\n    case '5-10':\n      return '10+ Years Market Expertise';\n    case '10+':\n      return '15+ Years Local Authority';\n    default:\n      return 'Licensed Real Estate Professional';\n  }\n}\n\nfunction getYearStarted(years: string): string {\n  const currentYear = new Date().getFullYear();\n  switch (years) {\n    case '<1':\n      return currentYear.toString();\n    case '1-3':\n      return (currentYear - 2).toString();\n    case '3-5':\n      return (currentYear - 4).toString();\n    case '5-10':\n      return (currentYear - 7).toString();\n    case '10+':\n      return (currentYear - 12).toString();\n    default:\n      return currentYear.toString();\n  }\n}\n\nfunction getFocusAudience(focus: string): string {\n  const audienceMap: Record<string, string> = {\n    'buyers': 'first-time buyers',\n    'sellers': 'home sellers',\n    'rentals': 'renters & landlords',\n    'luxury': 'luxury clients',\n    'first-time-buyers': 'first-time buyers',\n    'investment': 'investors'\n  };\n  return audienceMap[focus.toLowerCase()] || 'families';\n}\n\nfunction getCallToAction(goal: string): string {\n  const ctaMap: Record<string, string> = {\n    'seller-leads': 'Free home valuation below',\n    'buyer-leads': \"Buyer's guide in link\",\n    'brand': 'Market insights & tips below',\n    'following': 'Follow for daily tips',\n    'referrals': 'Trusted by 500+ families'\n  };\n  return ctaMap[goal] || 'Click link for listings';\n}\n\nfunction getFriendlyCTA(goal: string): string {\n  const ctaMap: Record<string, string> = {\n    'seller-leads': \"DM 'VALUE' for instant home estimate\",\n    'buyer-leads': \"Let's find your perfect home!\",\n    'brand': 'Follow for local market insights',\n    'following': 'Join our community of homeowners',\n    'referrals': \"Let's make your real estate goals happen\"\n  };\n  return ctaMap[goal] || \"DM me to get started\";\n}\n\nfunction getDirectCTA(goal: string): string {\n  const ctaMap: Record<string, string> = {\n    'seller-leads': \"Get your free home value\",\n    'buyer-leads': \"Find homes in your budget\",\n    'brand': 'Weekly market updates',\n    'following': 'Daily real estate tips',\n    'referrals': 'Book a free consultation'\n  };\n  return ctaMap[goal] || 'Link to listings below';\n}\n\nfunction getProblemStatement(goal: string): string {\n  const problemMap: Record<string, string> = {\n    'seller-leads': `${EMOJI_MAP.house} Want to know what your home is worth?`,\n    'buyer-leads': `${EMOJI_MAP.key} Tired of losing out on homes?`,\n    'brand': `${EMOJI_MAP.chart} Want insider market knowledge?`,\n    'following': `${EMOJI_MAP.sparkles} Want expert real estate advice?`,\n    'referrals': `${EMOJI_MAP.handshake} Need a trusted real estate advisor?`\n  };\n  return problemMap[goal] || `${EMOJI_MAP.home} Looking for expert real estate help?`;\n}\n\nfunction getProofStatement(years: string, focus: string[]): string {\n  const isExperienced = years === '5-10' || years === '10+';\n  if (isExperienced) {\n    if (focus.includes('luxury')) {\n      return '$50M+ in luxury sales';\n    } else if (focus.includes('investment')) {\n      return '200+ investment properties sold';\n    } else {\n      return '500+ families helped';\n    }\n  }\n\n  if (focus.includes('first-time-buyers')) {\n    return 'First-time buyer specialist';\n  } else if (focus.includes('sellers')) {\n    return 'Avg. 95% of asking price';\n  }\n\n  return 'Proven track record';\n}\n\n/**\n * Generate all 3 bio rewrites\n */\nexport function generateBioRewrites(input: BioAnalysisInput): BioRewrite[] {\n  const templates = [PROFESSIONAL_TEMPLATE, FRIENDLY_TEMPLATE, PROBLEM_SOLVER_TEMPLATE];\n\n  return templates.map(template => {\n    const bioText = template.structure(input);\n    const emojis = extractEmojis(bioText);\n\n    return {\n      style: template.style,\n      title: template.title,\n      bio: bioText,\n      characterCount: bioText.length,\n      emojis,\n      reasoning: template.description\n    };\n  });\n}\n\n/**\n * Generate a custom bio based on specific parameters\n */\nexport function generateCustomBio(input: BioAnalysisInput, preferences: {\n  includeEmojis: boolean;\n  includeStats: boolean;\n  tone: 'formal' | 'casual' | 'balanced';\n}): string {\n  const parts: string[] = [];\n\n  // Build custom bio based on preferences\n  const emojiPrefix = preferences.includeEmojis ? EMOJI_MAP.home + ' ' : '';\n\n  if (preferences.tone === 'formal') {\n    parts.push(`${emojiPrefix}${input.primaryFocus[0] || 'Real Estate'} Professional`);\n    parts.push(`${input.city}, ${input.state}`);\n    if (preferences.includeStats) {\n      parts.push(getExperienceText(input.yearsExperience));\n    }\n  } else if (preferences.tone === 'casual') {\n    parts.push(`${emojiPrefix}Your ${input.city} real estate friend`);\n    parts.push(`Making home ${input.primaryGoal === 'buyer-leads' ? 'buying' : 'selling'} easy`);\n  } else {\n    // Balanced\n    parts.push(`${emojiPrefix}${input.city} Real Estate Agent`);\n    parts.push(`${input.primaryFocus[0] || 'Residential'} Specialist`);\n    if (preferences.includeStats) {\n      parts.push(getExperienceText(input.yearsExperience));\n    }\n  }\n\n  // Add CTA\n  const ctaEmoji = preferences.includeEmojis ? EMOJI_MAP.point_down + ' ' : '';\n  parts.push(`${ctaEmoji}${getCallToAction(input.primaryGoal)}`);\n\n  return parts.join(' | ');\n}\n\nfunction extractEmojis(text: string): string[] {\n  const emojiRegex = /[\\u{1F600}-\\u{1F64F}\\u{1F300}-\\u{1F5FF}\\u{1F680}-\\u{1F6FF}\\u{1F1E0}-\\u{1F1FF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}]/gu;\n  return text.match(emojiRegex) || [];\n}\n\n/**\n * Optimize bio length to fit Instagram's 150 character limit\n */\nexport function optimizeBioLength(bio: string, maxLength: number = 150): string {\n  if (bio.length <= maxLength) {\n    return bio;\n  }\n\n  // Try to trim intelligently at sentence/phrase boundaries\n  const parts = bio.split('|').map(p => p.trim());\n\n  let optimized = '';\n  for (const part of parts) {\n    if ((optimized + ' | ' + part).length <= maxLength) {\n      optimized += (optimized ? ' | ' : '') + part;\n    } else {\n      break;\n    }\n  }\n\n  // If still too long, hard truncate\n  if (optimized.length > maxLength) {\n    optimized = optimized.substring(0, maxLength - 3) + '...';\n  }\n\n  return optimized;\n}\n\n/**\n * Get emoji suggestions for bio enhancement\n */\nexport function getEmojiSuggestions(input: BioAnalysisInput): Record<string, string[]> {\n  const suggestions: Record<string, string[]> = {\n    essential: ['üè°', 'üìç', 'üîë'],\n    attention: ['üëá', '‚¨áÔ∏è', '‚ú®'],\n    trust: ['‚≠ê', 'üèÜ', 'üíé'],\n    action: ['üì±', 'üìß', 'ü§ù'],\n  };\n\n  // Add specialty-specific emojis\n  if (input.primaryFocus.includes('luxury')) {\n    suggestions.luxury = ['üëë', 'üíé', 'üåü'];\n  }\n  if (input.primaryFocus.includes('investment')) {\n    suggestions.investment = ['üìà', 'üí∞', 'üè¢'];\n  }\n\n  return suggestions;\n}\n","/**\n * Link Strategy Analyzer\n * Provides detailed analysis and recommendations for bio link setup\n */\n\nimport { BioAnalysisInput, LinkStrategyAnalysis } from './types';\n\nexport function analyzeLinkStrategy(input: BioAnalysisInput): LinkStrategyAnalysis {\n  const situation = input.linkSituation;\n\n  const analyses: Record<typeof situation, LinkStrategyAnalysis> = {\n    'linktree': {\n      currentDiagnosis: \"You're using Linktree, which is a decent start but has significant limitations for real estate agents. Linktree doesn't capture lead information, lacks real estate-specific features like listing showcases, and provides limited analytics. Most importantly, it doesn't integrate with your MLS or CRM, and the generic design doesn't reinforce your professional brand.\",\n      leadsLost: 45,\n      recommendedStructure: [\n        \"Featured listing showcase (auto-updated from MLS)\",\n        \"Home valuation calculator with lead capture\",\n        \"Buyer/seller resource downloads (captures emails)\",\n        \"Direct booking link for consultations\",\n        \"Testimonials section for social proof\",\n        \"Contact methods (call, text, email)\",\n        \"Social media cross-links\"\n      ],\n      priorityOrder: [\n        \"1. Lead capture forms (home valuation, buyer consultation)\",\n        \"2. Active listings with high-quality photos\",\n        \"3. Free resources (neighborhood guides, buyer's guide)\",\n        \"4. Social proof (testimonials, recent sales)\",\n        \"5. Direct contact options\",\n        \"6. About/bio section\"\n      ],\n      trackingRecommendations: [\n        \"Track which links get the most clicks\",\n        \"Monitor conversion rate from click to lead\",\n        \"A/B test different CTA copy\",\n        \"Track geographic data to understand your audience\",\n        \"Monitor which listings generate most interest\",\n        \"Set up UTM parameters for traffic sources\"\n      ]\n    },\n    'website': {\n      currentDiagnosis: \"Linking directly to your website is better than nothing, but you're missing the opportunity for multiple calls-to-action. Most visitors won't navigate through your entire website - they want quick, specific options. A link-in-bio gives you a 'hub' where visitors can choose their own journey: view listings, get a valuation, download a guide, or contact you directly.\",\n      leadsLost: 35,\n      recommendedStructure: [\n        \"Multiple CTAs (not just one website link)\",\n        \"Specific landing pages for different needs\",\n        \"Lead magnets (free valuations, guides)\",\n        \"Featured listings separate from main website\",\n        \"Quick contact options without website navigation\",\n        \"Testimonial highlights\",\n        \"Neighborhood expertise showcase\"\n      ],\n      priorityOrder: [\n        \"1. High-converting lead magnets (home value, buyer guide)\",\n        \"2. Featured listings with direct inquiry forms\",\n        \"3. About/credentials page\",\n        \"4. Resources and tools\",\n        \"5. Main website link\",\n        \"6. Social media links\"\n      ],\n      trackingRecommendations: [\n        \"Track which CTAs perform best\",\n        \"Monitor time to conversion from click\",\n        \"Test different offer types (valuation vs guide)\",\n        \"Track mobile vs desktop performance\",\n        \"Monitor bounce rate on different landing pages\",\n        \"Measure impact of different listing photos\"\n      ]\n    },\n    'dm-only': {\n      currentDiagnosis: \"Critical issue: You have no link in your bio, forcing people to DM you. This is costing you 70%+ of potential leads. Modern consumers prefer clicking to get information rather than sending a DM and waiting for a response. You're creating unnecessary friction in your conversion funnel. Many high-intent leads will simply move on to an agent who makes it easier to take action.\",\n      leadsLost: 75,\n      recommendedStructure: [\n        \"ADD A LINK IMMEDIATELY - This is urgent\",\n        \"Start with a simple link-in-bio tool (even basic is better than nothing)\",\n        \"Minimum: Home valuation form, contact info, listings\",\n        \"Lead capture for every interaction\",\n        \"Multiple ways to reach you (not just DM)\",\n        \"Resources that provide value and capture emails\",\n        \"Clear CTAs for different buyer/seller needs\"\n      ],\n      priorityOrder: [\n        \"1. Set up link-in-bio tool TODAY\",\n        \"2. Add home valuation form (biggest lead generator)\",\n        \"3. Add direct contact options (phone, text, email)\",\n        \"4. Add featured listings\",\n        \"5. Add free resource downloads\",\n        \"6. Add booking calendar for consultations\"\n      ],\n      trackingRecommendations: [\n        \"Start tracking ANY clicks (baseline data)\",\n        \"Monitor lead capture rate\",\n        \"Track which lead magnets work best\",\n        \"Set up Google Analytics on all landing pages\",\n        \"Monitor conversion funnel from Instagram to lead\",\n        \"Compare DM volume before/after adding link\"\n      ]\n    },\n    'multiple-posts': {\n      currentDiagnosis: \"Having multiple 'link in bio' comments across different posts creates confusion and looks unprofessional. Visitors have to hunt through your posts to find the right link, and many will give up. This scattered approach also makes it impossible to track what's working. You need one centralized, professional link-in-bio that serves as your Instagram homepage.\",\n      leadsLost: 60,\n      recommendedStructure: [\n        \"ONE centralized link-in-bio hub\",\n        \"All links organized in clear categories\",\n        \"Professional, branded appearance\",\n        \"Easy navigation without scrolling through posts\",\n        \"Lead capture integrated throughout\",\n        \"Dynamic content that auto-updates\",\n        \"Mobile-optimized (most IG traffic is mobile)\"\n      ],\n      priorityOrder: [\n        \"1. Consolidate ALL links into one link-in-bio\",\n        \"2. Organize by user intent (buying, selling, browsing)\",\n        \"3. Add lead capture to most popular content\",\n        \"4. Remove scattered link comments from posts\",\n        \"5. Update bio to direct to ONE link\",\n        \"6. Track performance centrally\"\n      ],\n      trackingRecommendations: [\n        \"Track which previous links got most engagement\",\n        \"Monitor improvement after consolidation\",\n        \"Test different organizational structures\",\n        \"Track drop-off points in your funnel\",\n        \"Monitor which categories get most clicks\",\n        \"Compare conversion rate before/after consolidation\"\n      ]\n    },\n    'nothing': {\n      currentDiagnosis: \"CRITICAL: You have absolutely no way for Instagram followers to take action beyond DMing you or commenting. This is an emergency situation - you're losing 85-90% of potential leads. Every day without a link costs you real business. Top-performing agents get 5-15 leads per month from Instagram; you're getting close to zero. This needs to be fixed immediately.\",\n      leadsLost: 90,\n      recommendedStructure: [\n        \"URGENT: Set up a link-in-bio tool TODAY\",\n        \"Minimum viable setup: Contact info + home valuation\",\n        \"Then add: Featured listings, resources, about page\",\n        \"Lead capture forms on every section\",\n        \"Multiple contact methods (remove all friction)\",\n        \"Clear value propositions for visiting\",\n        \"Professional design that builds trust\"\n      ],\n      priorityOrder: [\n        \"1. CREATE LINK-IN-BIO IMMEDIATELY (within 24 hours)\",\n        \"2. Add home valuation form (proven lead generator)\",\n        \"3. Add direct contact options with click-to-call\",\n        \"4. Add one featured listing\",\n        \"5. Add short about section with credentials\",\n        \"6. Add at least one free resource download\"\n      ],\n      trackingRecommendations: [\n        \"Set up basic analytics immediately\",\n        \"Track total clicks as baseline\",\n        \"Monitor lead capture rate\",\n        \"Track traffic sources (bio vs stories vs posts)\",\n        \"Set up goal tracking in Google Analytics\",\n        \"Monitor ROI: clicks ‚Üí leads ‚Üí closings\"\n      ]\n    }\n  };\n\n  return analyses[situation];\n}\n\n/**\n * Calculate potential lead loss in actual numbers\n */\nexport function calculateLeadLoss(input: BioAnalysisInput, linkAnalysis: LinkStrategyAnalysis): {\n  currentMonthlyLeads: number;\n  potentialMonthlyLeads: number;\n  leadsLost: number;\n  annualValue: number;\n} {\n  // Parse current monthly leads\n  const currentLeadsMap: Record<string, number> = {\n    '0': 0,\n    '1-3': 2,\n    '4-10': 7,\n    '10+': 12\n  };\n  const currentMonthlyLeads = currentLeadsMap[input.monthlyLeads] || 0;\n\n  // Calculate potential based on follower count and optimized bio\n  const followerMap: Record<string, number> = {\n    '<500': 250,\n    '500-2K': 1250,\n    '2K-5K': 3500,\n    '5K-10K': 7500,\n    '10K+': 15000\n  };\n  const followers = followerMap[input.followerCount] || 250;\n\n  // Industry benchmark: 2-3% of followers should convert to profile visits per month\n  // Of those, 15-20% should click bio link\n  // Of those, 10-15% should convert to leads\n  const monthlyProfileVisits = followers * 0.025;\n  const potentialClicks = monthlyProfileVisits * 0.18;\n  const potentialLeads = potentialClicks * 0.12;\n\n  // Adjust for current link strategy\n  const optimizedLeads = Math.round(potentialLeads * (1 - (linkAnalysis.leadsLost / 100)));\n\n  // Calculate annual value\n  // Average real estate deal: $300k home, 3% commission = $9k\n  // Average agent close rate from lead: 2-5%\n  const avgCommission = 9000;\n  const closeRate = 0.03;\n  const annualLeadsLost = (potentialLeads - currentMonthlyLeads) * 12;\n  const annualValue = Math.round(annualLeadsLost * closeRate * avgCommission);\n\n  return {\n    currentMonthlyLeads,\n    potentialMonthlyLeads: Math.round(potentialLeads),\n    leadsLost: Math.round(potentialLeads - currentMonthlyLeads),\n    annualValue\n  };\n}\n\n/**\n * Get recommended link-in-bio features based on agent profile\n */\nexport function getRecommendedFeatures(input: BioAnalysisInput): {\n  essential: string[];\n  recommended: string[];\n  advanced: string[];\n} {\n  const essential = [\n    \"Home Valuation Tool (captures seller leads)\",\n    \"Contact Form with SMS/email options\",\n    \"Featured Listings Showcase\",\n    \"Click-to-call and click-to-text buttons\",\n    \"Professional headshot and bio\"\n  ];\n\n  const recommended = [\n    \"Testimonials/Reviews section\",\n    \"Free Buyer's/Seller's Guide downloads\",\n    \"Neighborhood expertise pages\",\n    \"Recent sales/success stories\",\n    \"Video introduction\",\n    \"Social media links\"\n  ];\n\n  const advanced = [\n    \"MLS integration (auto-update listings)\",\n    \"CRM integration (auto-capture leads)\",\n    \"Advanced analytics and heatmaps\",\n    \"A/B testing for CTAs\",\n    \"QR code generator for offline marketing\",\n    \"Custom domain (yourname.com)\",\n    \"Appointment scheduling integration\"\n  ];\n\n  // Customize based on primary goal\n  if (input.primaryGoal === 'seller-leads') {\n    essential.unshift(\"Home Valuation Tool (PRIORITY #1)\");\n    recommended.unshift(\"Comparative Market Analysis (CMA) request form\");\n  } else if (input.primaryGoal === 'buyer-leads') {\n    essential.splice(1, 0, \"Buyer Consultation Booking\");\n    recommended.unshift(\"Mortgage calculator\");\n  }\n\n  return { essential, recommended, advanced };\n}\n","/**\n * Instagram Bio Analyzer - Main Page\n * Lead magnet tool for AgentBio.net\n */\n\nimport React, { useState } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Breadcrumb } from '@/components/seo/Breadcrumb';\nimport { BioAnalyzerForm } from '@/components/tools/instagram-bio-analyzer/BioAnalyzerForm';\nimport { ScoreDisplay } from '@/components/tools/instagram-bio-analyzer/ScoreDisplay';\nimport { CategoryBreakdown } from '@/components/tools/instagram-bio-analyzer/CategoryBreakdown';\nimport { BioRewriteDisplay } from '@/components/tools/instagram-bio-analyzer/BioRewriteDisplay';\nimport { InstagramMockup, InstagramComparison } from '@/components/tools/instagram-bio-analyzer/InstagramMockup';\nimport { EmailCaptureModal, UnlockCTA } from '@/components/tools/instagram-bio-analyzer/EmailCaptureModal';\nimport { SocialShare, ScoreLeaderboard } from '@/components/tools/instagram-bio-analyzer/SocialShare';\nimport { Button } from '@/components/ui/button';\nimport { BioAnalysisInput, BioAnalysisResult, EmailCaptureData } from '@/lib/instagram-bio-analyzer/types';\nimport { analyzeBio } from '@/lib/instagram-bio-analyzer/scoring';\nimport { generateBioRewrites } from '@/lib/instagram-bio-analyzer/bio-generator';\nimport { analyzeLinkStrategy, calculateLeadLoss } from '@/lib/instagram-bio-analyzer/link-strategy';\nimport { supabase } from '@/integrations/supabase/client';\nimport { edgeFunctions } from '@/lib/edgeFunctions';\nimport {\n  Instagram,\n  TrendingUp,\n  Users,\n  DollarSign,\n  CheckCircle,\n  ArrowRight,\n  Sparkles,\n  Award,\n  Target\n} from 'lucide-react';\nimport { toast } from 'sonner';\n\nexport default function InstagramBioAnalyzer() {\n  const [currentStep, setCurrentStep] = useState<'form' | 'results'>('form');\n  const [analysisInput, setAnalysisInput] = useState<BioAnalysisInput | null>(null);\n  const [analysisResult, setAnalysisResult] = useState<BioAnalysisResult | null>(null);\n  const [isUnlocked, setIsUnlocked] = useState(false);\n  const [showEmailModal, setShowEmailModal] = useState(false);\n  const [analysisId, setAnalysisId] = useState<string>('');\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n\n  const toolUrl = typeof window !== 'undefined'\n    ? `${window.location.origin}/tools/instagram-bio-analyzer`\n    : 'https://agentbio.net/tools/instagram-bio-analyzer';\n\n  const handleFormSubmit = async (data: BioAnalysisInput) => {\n    setIsAnalyzing(true);\n    setAnalysisInput(data);\n\n    try {\n      // Run analysis\n      const result = analyzeBio(data);\n\n      // Generate bio rewrites\n      const rewrites = generateBioRewrites(data);\n      result.rewrittenBios = rewrites;\n\n      setAnalysisResult(result);\n\n      // Save analysis to Supabase\n      const { data: savedAnalysis, error } = await supabase\n        .from('instagram_bio_analyses')\n        .insert({\n          input_data: data,\n          result_data: result,\n          overall_score: result.overallScore,\n          market: data.location,\n        })\n        .select()\n        .single();\n\n      if (error) {\n        console.error('Error saving analysis:', error);\n      } else if (savedAnalysis) {\n        setAnalysisId(savedAnalysis.id);\n      }\n\n      // Track analytics event\n      await trackEvent('analyzer_completed', {\n        score: result.overallScore,\n        market: data.location,\n        yearsExperience: data.yearsExperience,\n        followerCount: data.followerCount,\n      });\n\n      // Move to results\n      setCurrentStep('results');\n\n      // Scroll to top\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    } catch (error) {\n      console.error('Analysis error:', error);\n      toast.error('Something went wrong. Please try again.');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const handleEmailCapture = async (data: EmailCaptureData) => {\n    try {\n      // Save email capture to Supabase\n      const { data: captureData, error: captureError } = await supabase\n        .from('instagram_bio_email_captures')\n        .insert({\n          analysis_id: analysisId,\n          email: data.email,\n          first_name: data.firstName,\n          market: data.market,\n          brokerage: data.brokerage,\n          email_sequence_started: true,\n        })\n        .select()\n        .single();\n\n      if (captureError) throw captureError;\n\n      // Track analytics\n      await trackEvent('email_captured', {\n        market: data.market,\n        brokerage: data.brokerage,\n      });\n\n      // Send welcome email with bio rewrites via Resend\n      if (analysisResult) {\n        try {\n          const { data: functionData, error: functionError } = await edgeFunctions.invoke(\n            'send-bio-analyzer-email',\n            {\n              body: {\n                analysisId: captureData?.id || analysisId,\n                email: data.email,\n                firstName: data.firstName,\n                market: data.market,\n                brokerage: data.brokerage,\n                score: analysisResult.overallScore,\n                bioRewrites: analysisResult.rewrittenBios.map(b => b.bio),\n              },\n            }\n          );\n\n          if (functionError) {\n            console.error('Error sending email:', functionError);\n            // Don't throw - email is nice to have but shouldn't block unlock\n          }\n        } catch (emailError) {\n          console.error('Email function error:', emailError);\n          // Don't throw - email failure shouldn't prevent unlock\n        }\n      }\n\n      // Unlock content\n      setIsUnlocked(true);\n      setShowEmailModal(false);\n\n      toast.success('Success! Check your email for all 3 bio rewrites.');\n    } catch (error) {\n      console.error('Email capture error:', error);\n      throw error;\n    }\n  };\n\n  const trackEvent = async (eventType: string, eventData: any) => {\n    try {\n      await supabase.from('instagram_bio_analytics').insert({\n        event_type: eventType,\n        event_data: eventData,\n        session_id: getSessionId(),\n      });\n    } catch (error) {\n      console.error('Analytics error:', error);\n    }\n  };\n\n  const getSessionId = () => {\n    let sessionId = sessionStorage.getItem('bio_analyzer_session');\n    if (!sessionId) {\n      sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n      sessionStorage.setItem('bio_analyzer_session', sessionId);\n    }\n    return sessionId;\n  };\n\n  const schema = {\n    \"@context\": \"https://schema.org\",\n    \"@graph\": [\n      {\n        \"@type\": \"WebPage\",\n        \"name\": \"Free Instagram Bio Analyzer for Real Estate Agents\",\n        \"description\": \"Analyze your realtor Instagram bio in 60 seconds. Get your effectiveness score + 3 optimized bio rewrites. Free tool for agents.\",\n        \"url\": toolUrl,\n      },\n      {\n        \"@type\": \"HowTo\",\n        \"name\": \"How to Analyze Your Real Estate Instagram Bio\",\n        \"description\": \"Step-by-step guide to analyzing and optimizing your realtor Instagram bio for maximum lead generation.\",\n        \"step\": [\n          {\n            \"@type\": \"HowToStep\",\n            \"name\": \"Enter Your Current Instagram Bio\",\n            \"text\": \"Paste your current Instagram bio text into the analyzer tool. Include your full bio exactly as it appears on your profile.\",\n          },\n          {\n            \"@type\": \"HowToStep\",\n            \"name\": \"Add Your Market Details\",\n            \"text\": \"Enter your location, years of experience, follower count, and monthly Instagram traffic to get personalized analysis.\",\n          },\n          {\n            \"@type\": \"HowToStep\",\n            \"name\": \"Get Your Effectiveness Score\",\n            \"text\": \"Receive an instant score based on 6 key factors: clarity, call-to-action strength, keyword optimization, link strategy, credibility signals, and mobile readability.\",\n          },\n          {\n            \"@type\": \"HowToStep\",\n            \"name\": \"Review Your Optimized Bios\",\n            \"text\": \"Get 3 professionally rewritten bio versions optimized for your specific market, experience level, and business goals.\",\n          },\n        ],\n      },\n      {\n        \"@type\": \"FAQPage\",\n        \"mainEntity\": [\n          {\n            \"@type\": \"Question\",\n            \"name\": \"What does the Instagram bio analyzer check?\",\n            \"acceptedAnswer\": {\n              \"@type\": \"Answer\",\n              \"text\": \"The Instagram bio analyzer evaluates your realtor bio across 6 critical factors: clarity of value proposition, call-to-action effectiveness, keyword optimization for your market, link strategy, credibility signals (years of experience, certifications), and mobile readability. Each factor is scored and you receive an overall effectiveness grade from F to A+.\",\n            },\n          },\n          {\n            \"@type\": \"Question\",\n            \"name\": \"How long does the Instagram bio analysis take?\",\n            \"acceptedAnswer\": {\n              \"@type\": \"Answer\",\n              \"text\": \"The Instagram bio analysis takes approximately 60 seconds. You simply enter your current bio text, add your market details, and receive instant results including your effectiveness score, category-by-category breakdown, and 3 professionally rewritten bio versions optimized for real estate lead generation.\",\n            },\n          },\n          {\n            \"@type\": \"Question\",\n            \"name\": \"Is the Instagram bio analyzer really free?\",\n            \"acceptedAnswer\": {\n              \"@type\": \"Answer\",\n              \"text\": \"Yes, the Instagram bio analyzer is 100% free to use with no signup required. You can analyze your bio and see your score immediately. To unlock all 3 optimized bio rewrites and detailed recommendations, simply enter your email to receive the full report.\",\n            },\n          },\n          {\n            \"@type\": \"Question\",\n            \"name\": \"What makes a good real estate Instagram bio?\",\n            \"acceptedAnswer\": {\n              \"@type\": \"Answer\",\n              \"text\": \"A good real estate Instagram bio includes: your specific market/location, years of experience or credentials, a clear value proposition (what makes you different), a strong call-to-action, and a strategic link to your portfolio or listings. Top-performing agent bios score 85+ on our analyzer by balancing these elements for mobile readability.\",\n            },\n          },\n        ],\n      },\n    ],\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>Free Instagram Bio Analyzer for Real Estate Agents | AgentBio</title>\n        <meta\n          name=\"description\"\n          content=\"Analyze your realtor Instagram bio in 60 seconds. Get your effectiveness score + 3 optimized bio rewrites. Free tool for agents. No signup required.\"\n        />\n        <meta\n          name=\"keywords\"\n          content=\"instagram bio for realtors, real estate instagram bio, realtor bio examples, instagram bio analyzer\"\n        />\n        <script type=\"application/ld+json\">\n          {JSON.stringify(schema)}\n        </script>\n      </Helmet>\n\n      <div className=\"min-h-screen bg-gradient-to-b from-purple-50 via-white to-pink-50\">\n        {/* Breadcrumb Navigation */}\n        <div className=\"bg-white/80 border-b border-gray-200 py-3\">\n          <div className=\"container mx-auto px-4\">\n            <Breadcrumb\n              items={[\n                { name: \"Home\", url: window.location.origin },\n                { name: \"Free Tools\", url: \"/tools/instagram-bio-analyzer\" },\n                { name: \"Instagram Bio Analyzer\", url: \"/tools/instagram-bio-analyzer\" }\n              ]}\n            />\n          </div>\n        </div>\n\n        {/* Hero Section */}\n        {currentStep === 'form' && (\n          <>\n            <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 text-white py-20\">\n              <div className=\"container max-w-4xl mx-auto px-4\">\n                <div className=\"text-center\">\n                  <div className=\"inline-flex items-center gap-2 bg-white/20 rounded-full px-4 py-2 mb-6\">\n                    <Sparkles className=\"w-4 h-4\" />\n                    <span className=\"text-sm font-semibold\">Free Tool for Real Estate Agents</span>\n                  </div>\n\n                  <h1 className=\"text-4xl md:text-6xl font-bold mb-6\">\n                    Is Your Instagram Bio\n                    <br />\n                    <span className=\"text-purple-200\">Costing You Leads?</span>\n                  </h1>\n\n                  <p className=\"text-xl md:text-2xl text-purple-100 mb-8 max-w-3xl mx-auto\">\n                    Get your bio effectiveness score in 60 seconds + 3 professionally rewritten\n                    versions optimized for your market and goals\n                  </p>\n                  <p className=\"text-base text-purple-200 mb-6 max-w-2xl mx-auto\">\n                    Want to learn more about optimizing your Instagram for leads?{' '}\n                    <a href=\"/instagram-bio-for-realtors\" className=\"underline hover:text-white font-semibold\">\n                      Read our complete Instagram bio guide for realtors ‚Üí\n                    </a>\n                  </p>\n\n                  <div className=\"flex flex-wrap justify-center gap-6 text-left\">\n                    {[\n                      { icon: CheckCircle, text: 'Instant analysis & score' },\n                      { icon: Sparkles, text: '3 optimized bio rewrites' },\n                      { icon: Award, text: 'Beat your competition' },\n                      { icon: Target, text: '100% free, no signup' },\n                    ].map((item, i) => (\n                      <div key={i} className=\"flex items-center gap-2 bg-white/10 rounded-lg px-4 py-2\">\n                        <item.icon className=\"w-5 h-5\" />\n                        <span>{item.text}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Direct Answer for GEO/AEO - First 100 words */}\n            <div className=\"bg-white border-b border-gray-200 py-8\">\n              <div className=\"container max-w-4xl mx-auto px-4\">\n                <p className=\"text-base md:text-lg text-gray-700 leading-relaxed\">\n                  <strong>The Instagram Bio Analyzer is a free tool designed specifically for real estate agents to evaluate and optimize their Instagram bio for maximum lead generation.</strong> In 60 seconds, you'll receive an effectiveness score (0-100) based on six key factors‚Äîclarity, call-to-action strength, keyword optimization, link strategy, credibility signals, and mobile readability‚Äîplus three professionally rewritten bio versions tailored to your market and experience level. Top-performing agent bios score 85+ and convert 3x more Instagram followers into qualified buyer and seller leads compared to generic, unoptimized bios.\n                </p>\n              </div>\n            </div>\n\n            {/* Social Proof */}\n            <div className=\"bg-white border-y border-gray-200 py-8\">\n              <div className=\"container max-w-6xl mx-auto px-4\">\n                <div className=\"grid md:grid-cols-4 gap-8 text-center\">\n                  {[\n                    { icon: Users, number: '2,847+', label: 'Agents Analyzed' },\n                    { icon: TrendingUp, number: '3X', label: 'Average Lead Increase' },\n                    { icon: DollarSign, number: '$50M+', label: 'In Deals Generated' },\n                    { icon: Award, number: '4.9/5', label: 'Agent Rating' },\n                  ].map((stat, i) => (\n                    <div key={i}>\n                      <div className=\"flex justify-center mb-2\">\n                        <div className=\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center\">\n                          <stat.icon className=\"w-6 h-6 text-purple-600\" />\n                        </div>\n                      </div>\n                      <div className=\"text-3xl font-bold text-gray-900 mb-1\">{stat.number}</div>\n                      <div className=\"text-sm text-gray-600\">{stat.label}</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Form Section */}\n            <div className=\"container max-w-3xl mx-auto px-4 py-16\">\n              <div className=\"bg-white rounded-2xl shadow-xl p-8 md:p-12\">\n                {isAnalyzing ? (\n                  <div className=\"text-center py-12\">\n                    <div className=\"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\" />\n                    <h3 className=\"text-2xl font-bold mb-2\">Analyzing Your Bio...</h3>\n                    <p className=\"text-gray-600\">\n                      Running 6-point analysis and generating personalized recommendations\n                    </p>\n                  </div>\n                ) : (\n                  <BioAnalyzerForm onSubmit={handleFormSubmit} onStepChange={() => {}} />\n                )}\n              </div>\n            </div>\n          </>\n        )}\n\n        {/* Results Section */}\n        {currentStep === 'results' && analysisResult && analysisInput && (\n          <div className=\"container max-w-6xl mx-auto px-4 py-16\">\n            {/* Header */}\n            <div className=\"text-center mb-12\">\n              <h1 className=\"text-4xl font-bold mb-4\">Your Instagram Bio Analysis</h1>\n              <p className=\"text-xl text-gray-600\">\n                Here's how your bio stacks up against top-performing real estate agents\n              </p>\n            </div>\n\n            {/* Overall Score */}\n            <div className=\"mb-16\">\n              <ScoreDisplay score={analysisResult.overallScore} showGrade />\n            </div>\n\n            {/* Category Breakdown */}\n            <div className=\"mb-16\">\n              <CategoryBreakdown analysis={analysisResult} showDetails={isUnlocked} />\n            </div>\n\n            {/* Bio Rewrites */}\n            <div className=\"mb-16\">\n              <BioRewriteDisplay\n                rewrites={analysisResult.rewrittenBios}\n                isLocked={!isUnlocked}\n                onUnlock={() => setShowEmailModal(true)}\n              />\n            </div>\n\n            {/* Unlock CTA */}\n            {!isUnlocked && (\n              <div className=\"mb-16\">\n                <UnlockCTA onUnlock={() => setShowEmailModal(true)} />\n              </div>\n            )}\n\n            {/* Instagram Comparison (Unlocked) */}\n            {isUnlocked && (\n              <div className=\"mb-16\">\n                <InstagramComparison\n                  beforeBio={analysisInput.currentBio}\n                  afterBio={analysisResult.rewrittenBios[0].bio}\n                  username={analysisInput.instagramHandle}\n                  fullName={analysisInput.city}\n                  location={analysisInput.location}\n                />\n              </div>\n            )}\n\n            {/* Link Strategy Analysis (Unlocked) */}\n            {isUnlocked && (\n              <div className=\"mb-16\">\n                <div className=\"bg-white rounded-lg border border-gray-200 p-8\">\n                  <h2 className=\"text-2xl font-bold mb-6\">Your Link Strategy Analysis</h2>\n                  {(() => {\n                    const linkAnalysis = analyzeLinkStrategy(analysisInput);\n                    const leadLoss = calculateLeadLoss(analysisInput, linkAnalysis);\n\n                    return (\n                      <div className=\"space-y-6\">\n                        {/* Current Diagnosis */}\n                        <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\n                          <h3 className=\"font-bold text-red-900 mb-2\">Current Situation</h3>\n                          <p className=\"text-red-800\">{linkAnalysis.currentDiagnosis}</p>\n                        </div>\n\n                        {/* Lead Loss Calculator */}\n                        <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-6\">\n                          <h3 className=\"font-bold text-purple-900 mb-4\">What You're Missing</h3>\n                          <div className=\"grid md:grid-cols-3 gap-4\">\n                            <div className=\"text-center\">\n                              <div className=\"text-3xl font-bold text-purple-600\">\n                                {leadLoss.leadsLost}\n                              </div>\n                              <div className=\"text-sm text-purple-800\">Leads Lost/Month</div>\n                            </div>\n                            <div className=\"text-center\">\n                              <div className=\"text-3xl font-bold text-purple-600\">\n                                {leadLoss.potentialMonthlyLeads}\n                              </div>\n                              <div className=\"text-sm text-purple-800\">Potential Monthly Leads</div>\n                            </div>\n                            <div className=\"text-center\">\n                              <div className=\"text-3xl font-bold text-purple-600\">\n                                ${(leadLoss.annualValue / 1000).toFixed(0)}K\n                              </div>\n                              <div className=\"text-sm text-purple-800\">Potential Annual Value</div>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Recommendations */}\n                        <div>\n                          <h3 className=\"font-bold text-gray-900 mb-3\">Recommended Structure</h3>\n                          <ul className=\"space-y-2\">\n                            {linkAnalysis.recommendedStructure.map((item, i) => (\n                              <li key={i} className=\"flex items-start gap-2\">\n                                <CheckCircle className=\"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0\" />\n                                <span className=\"text-gray-700\">{item}</span>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      </div>\n                    );\n                  })()}\n                </div>\n              </div>\n            )}\n\n            {/* Social Share */}\n            <div className=\"mb-16\">\n              <SocialShare\n                score={analysisResult.overallScore}\n                toolUrl={toolUrl}\n                onShare={(platform) => trackEvent('shared', { platform })}\n              />\n            </div>\n\n            {/* Leaderboard */}\n            <div className=\"mb-16\">\n              <ScoreLeaderboard\n                userScore={analysisResult.overallScore}\n                market={analysisInput.location}\n              />\n            </div>\n\n            {/* AgentBio CTA */}\n            <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-8 md:p-12 text-white text-center\">\n              <h2 className=\"text-3xl font-bold mb-4\">Ready to Convert More Instagram Followers?</h2>\n              <p className=\"text-xl text-purple-100 mb-8 max-w-2xl mx-auto\">\n                Your optimized bio is just the start.{' '}\n                <a href=\"/for-real-estate-agents\" className=\"underline hover:text-white font-semibold\">\n                  AgentBio gives you a complete link-in-bio platform\n                </a>{' '}\n                built specifically for real estate agents.\n              </p>\n\n              <div className=\"grid md:grid-cols-3 gap-6 mb-8\">\n                {[\n                  'Auto-updated MLS listings',\n                  'Built-in lead capture forms',\n                  'Advanced analytics & tracking',\n                  'QR codes for offline marketing',\n                  'Testimonial showcases',\n                  'Professional templates',\n                ].map((feature, i) => (\n                  <div key={i} className=\"flex items-center gap-2 bg-white/10 rounded-lg px-4 py-3\">\n                    <CheckCircle className=\"w-5 h-5\" />\n                    <span>{feature}</span>\n                  </div>\n                ))}\n              </div>\n\n              <Button\n                size=\"lg\"\n                className=\"bg-white text-purple-600 hover:bg-gray-100 gap-2 text-lg px-8\"\n                onClick={() => {\n                  trackEvent('trial_clicked', {});\n                  window.location.href = '/auth/register';\n                }}\n              >\n                Start Your Free 14-Day Trial\n                <ArrowRight className=\"w-5 h-5\" />\n              </Button>\n\n              <p className=\"text-sm text-purple-200 mt-4\">\n                No credit card required ‚Ä¢ Cancel anytime ‚Ä¢ Used by 10,000+ agents\n              </p>\n            </div>\n\n            {/* Restart Button */}\n            <div className=\"text-center mt-12\">\n              <Button\n                variant=\"outline\"\n                size=\"lg\"\n                onClick={() => {\n                  setCurrentStep('form');\n                  setAnalysisResult(null);\n                  setIsUnlocked(false);\n                  window.scrollTo({ top: 0, behavior: 'smooth' });\n                }}\n              >\n                Analyze Another Bio\n              </Button>\n            </div>\n          </div>\n        )}\n\n        {/* Email Capture Modal */}\n        <EmailCaptureModal\n          isOpen={showEmailModal}\n          onClose={() => setShowEmailModal(false)}\n          onSubmit={handleEmailCapture}\n          analysisId={analysisId}\n        />\n      </div>\n    </>\n  );\n}\n"],"names":["Grid3x3","createLucideIcon","PRIMARY_FOCUS_OPTIONS","BioAnalyzerForm","onSubmit","onStepChange","step","setStep","useState","selectedFocus","setSelectedFocus","register","handleSubmit","watch","setValue","errors","useForm","totalSteps","progress","nextStep","newStep","prevStep","handleFormSubmit","data","toggleFocus","value","prev","v","jsxs","jsx","Instagram","Label","Input","Textarea","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","TrendingUp","option","Checkbox","goal","Button","ArrowLeft","ArrowRight","REAL_ESTATE_KEYWORDS","GENERIC_PHRASES","CTA_KEYWORDS","TRUST_INDICATORS","scoreClarity","input","bio","score","issues","recommendations","examples","keyword","focus","impact","scoreDifferentiation","genericCount","phrase","hasStats","hasUniqueAngle","scoreCallToAction","scoreLocalAuthority","scoreTrustSignals","trustCount","indicator","scoreLinkStrategy","analyzeBio","clarity","differentiation","callToAction","localAuthority","trustSignals","linkStrategy","overallScore","missingElements","conversionPotential","getCompetitiveComparison","getScoreGrade","ScoreDisplay","maxScore","showGrade","size","percentage","grade","color","label","sizeClasses","textSizes","radius","circumference","strokeDashoffset","AlertCircle","TrendingDown","CATEGORY_ICONS","Eye","Sparkles","MessageSquare","MapPin","Award","LinkIcon","CATEGORY_LABELS","CategoryBreakdown","analysis","showDetails","categories","key","category","Icon","issue","i","CheckCircle","rec","Lightbulb","example","element","className","STYLE_COLORS","STYLE_DESCRIPTIONS","BioRewriteDisplay","rewrites","isLocked","onUnlock","copiedIndex","setCopiedIndex","handleCopy","index","toast","rewrite","isPreview","gradientColor","Lock","Fragment","Check","Copy","InstagramMockup","username","profilePicture","fullName","location","followerCount","followingCount","postCount","MoreVertical","User","highlight","Grid","InstagramComparison","beforeBio","afterBio","EmailCaptureModal","isOpen","onClose","analysisId","isSubmitting","setIsSubmitting","captureData","Dialog","DialogContent","Unlock","DialogTitle","DialogDescription","Gift","FileText","Calendar","Star","item","star","UnlockCTA","SocialShare","toolUrl","onShare","copied","setCopied","React","canvasRef","useRef","socialPosts","handleShare","platform","text","copyLink","downloadScoreCard","canvas","ctx","gradient","centerX","centerY","link","Facebook","Linkedin","Twitter","Download","Share2","ScoreLeaderboard","userScore","market","leaderboard","userRank","EMOJI_MAP","PROFESSIONAL_TEMPLATE","parts","specialties","expText","getExperienceText","cta","getCallToAction","FRIENDLY_TEMPLATE","getFocusAudience","getYearStarted","getFriendlyCTA","PROBLEM_SOLVER_TEMPLATE","problem","getProblemStatement","proof","getProofStatement","getDirectCTA","years","currentYear","generateBioRewrites","template","bioText","emojis","extractEmojis","emojiRegex","analyzeLinkStrategy","situation","calculateLeadLoss","linkAnalysis","currentMonthlyLeads","potentialLeads","avgCommission","closeRate","annualLeadsLost","annualValue","InstagramBioAnalyzer","currentStep","setCurrentStep","analysisInput","setAnalysisInput","analysisResult","setAnalysisResult","isUnlocked","setIsUnlocked","showEmailModal","setShowEmailModal","setAnalysisId","isAnalyzing","setIsAnalyzing","result","savedAnalysis","error","supabase","trackEvent","handleEmailCapture","captureError","functionData","functionError","edgeFunctions","b","emailError","eventType","eventData","getSessionId","sessionId","schema","Helmet","Breadcrumb","Target","Users","DollarSign","stat","leadLoss","feature"],"mappings":"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","x_google_ignoreList":[0]}