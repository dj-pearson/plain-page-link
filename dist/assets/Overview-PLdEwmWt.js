import{j as e,L as N,k as U,f as W,r as v}from"./vendor-react-Vgz0BWSF.js";import{u as $}from"./useAnalytics-8lloWf5N.js";import{u as P}from"./useLinks-CuSdRAmc.js";import{u as S}from"./useProfile-BwwLmcs_.js";import{u as B}from"./useSubscription-CO0rkQjo.js";import{W as w,C as p,a as u,b as g,a1 as E,c as H,d as b,e as V,H as q,i as A,_ as z,$ as R,S as F,u as I,K as k,N as O,af as Q,a4 as Y,a5 as Z,ae as G,a6 as K,a7 as J,f as C}from"./index-C6E-HzGX.js";import{P as X}from"./progress-DXhMjTxN.js";import{u as ee}from"./useListings-5cWiQk7d.js";import{u as se}from"./useTestimonials-C9icqOi6.js";import{P as te}from"./plus-Cb3fshoC.js";import{L as ae}from"./link-CqHpcSNH.js";import{P as ie}from"./palette-Jid7RSh4.js";import{F as re}from"./file-text-CtiUhz3K.js";import{L as le}from"./LoadingSpinner-BmQ0iTTt.js";import{C as ne}from"./copy-D4nsnfOL.js";import"./vendor-charts-DwHIVLWv.js";import"./vendor-data-D8Q-8Ib3.js";import"./vendor-three-4sb3k4hC.js";import"./vendor-ui-B_M8o0qd.js";import"./vendor-animation-DTV5ZUuA.js";const L=w("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const y=w("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);const oe=w("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);function ce(){const{data:a}=S(),{data:i}=ee(),{data:d}=se(),{data:m}=P();if(!a)return null;const r=[{id:"avatar",label:"Add profile photo",description:"Upload a professional headshot",completed:!!a.avatar_url,link:"/dashboard/profile",priority:"high"},{id:"bio",label:"Write your bio",description:"Tell visitors about your experience",completed:!!a.bio&&a.bio.length>50,link:"/dashboard/profile",priority:"high"},{id:"contact",label:"Add contact info",description:"Phone and email for leads",completed:!!a.phone||!!a.email_display,link:"/dashboard/profile",priority:"high"},{id:"listings",label:"Add your first listing",description:"Showcase properties you're selling",completed:(i?.length||0)>0,link:"/dashboard/listings",priority:"medium"},{id:"testimonials",label:"Add testimonials",description:"Build trust with client reviews",completed:(d?.length||0)>0,link:"/dashboard/testimonials",priority:"medium"},{id:"links",label:"Add custom links",description:"Link to your website and social",completed:(m?.length||0)>0,link:"/dashboard/links",priority:"low"},{id:"theme",label:"Customize theme",description:"Match your brand colors",completed:!!a.theme,link:"/dashboard/theme",priority:"low"}],n=r.filter(t=>t.completed).length,x=r.length,l=Math.round(n/x*100);if(l===100)return null;const o=r.filter(t=>t.priority==="high"&&!t.completed)[0]||r.find(t=>!t.completed);return e.jsxs(p,{className:"border-blue-200 bg-blue-50/50",children:[e.jsxs(u,{children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs(g,{className:"text-lg flex items-center gap-2",children:[l<50?e.jsx(E,{className:"w-5 h-5 text-orange-500"}):e.jsx(L,{className:"w-5 h-5 text-blue-500"}),"Profile Completion"]}),e.jsxs(H,{children:[l,"% complete - ",n," of ",x," steps done"]})]})}),e.jsx(X,{value:l,className:"mt-4"})]}),e.jsxs(b,{className:"space-y-4",children:[o&&e.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:n+1})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Next: ",o.label]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.description}),e.jsx(N,{to:o.link,className:"inline-block mt-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:"Complete this step â†’"})]})]})}),e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-gray-900 list-none flex items-center gap-2",children:[e.jsx("span",{children:"View all steps"}),e.jsx("span",{className:"group-open:rotate-180 transition-transform",children:"â–¼"})]}),e.jsx("div",{className:"mt-3 space-y-2",children:r.map(t=>e.jsxs(N,{to:t.link,className:"flex items-start gap-3 p-2 rounded-lg hover:bg-white transition-colors group/item",children:[t.completed?e.jsx(V,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):e.jsx(L,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`text-sm font-medium ${t.completed?"text-gray-500 line-through":"text-gray-900"}`,children:t.label}),e.jsx("div",{className:"text-xs text-gray-500",children:t.description})]})]},t.id))})]})]})]})}function de(){const a=[{id:"add-listing",label:"Add Listing",description:"Post a new property",icon:e.jsx(q,{className:"w-5 h-5"}),href:"/dashboard/listings?action=new",color:"bg-blue-500 hover:bg-blue-600"},{id:"add-link",label:"Add Link",description:"Create custom link",icon:e.jsx(ae,{className:"w-5 h-5"}),href:"/dashboard/links?action=new",color:"bg-purple-500 hover:bg-purple-600"},{id:"view-profile",label:"View Profile",description:"See your public page",icon:e.jsx(A,{className:"w-5 h-5"}),href:"#",color:"bg-green-500 hover:bg-green-600"},{id:"check-leads",label:"Check Leads",description:"Review inquiries",icon:e.jsx(z,{className:"w-5 h-5"}),href:"/dashboard/leads",color:"bg-orange-500 hover:bg-orange-600"},{id:"view-analytics",label:"Analytics",description:"View performance",icon:e.jsx(R,{className:"w-5 h-5"}),href:"/dashboard/analytics",color:"bg-cyan-500 hover:bg-cyan-600"},{id:"add-testimonial",label:"Add Review",description:"Post testimonial",icon:e.jsx(F,{className:"w-5 h-5"}),href:"/dashboard/testimonials?action=new",color:"bg-yellow-500 hover:bg-yellow-600"},{id:"customize-theme",label:"Customize",description:"Edit theme",icon:e.jsx(ie,{className:"w-5 h-5"}),href:"/dashboard/theme",color:"bg-pink-500 hover:bg-pink-600"},{id:"page-builder",label:"Page Builder",description:"Build custom page",icon:e.jsx(re,{className:"w-5 h-5"}),href:"/dashboard/page-builder",color:"bg-indigo-500 hover:bg-indigo-600"}];return e.jsxs(p,{children:[e.jsx(u,{className:"pb-3",children:e.jsxs(g,{className:"text-lg flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5 text-primary"}),"Quick Actions"]})}),e.jsx(b,{children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3",children:a.map(i=>e.jsx(N,{to:i.href,className:"group",children:e.jsxs("div",{className:"flex flex-col items-center p-3 sm:p-4 rounded-lg border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all active:scale-95",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg ${i.color} text-white flex items-center justify-center mb-2 transition-colors`,children:i.icon}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 group-hover:text-primary transition-colors",children:i.label}),e.jsx("p",{className:"text-xs text-gray-500 hidden sm:block mt-0.5",children:i.description})]})]})},i.id))})})]})}function _e(){const{stats:a,recentLeads:i,isLoading:d}=$(),{links:m}=P(),{profile:r}=S(),{subscription:n}=B(),{toast:x}=I(),[l]=U(),f=W(),[o,t]=v.useState(!1),M=m.reduce((s,c)=>s+(c.click_count||0),0),j=r?.created_at?new Date().getTime()-new Date(r.created_at).getTime()<2880*60*1e3:!1,_=j?"Welcome to AgentBio!":"Welcome Back!",T=j?"Let's get your profile set up and start attracting clients":"Here's what's happening with your profile";v.useEffect(()=>{l.get("subscription")==="success"&&(t(!0),f("/dashboard",{replace:!0}))},[l,f]);const D=s=>({starter:["20 active listings","15 custom links","10 testimonials","90-day analytics","Lead export to CSV"],professional:["Unlimited listings","Unlimited custom links","Unlimited testimonials","Unlimited analytics history","Custom domain support","Premium themes with 3D effects","Priority email support"],team:["Everything in Professional","Multi-agent dashboard","Team analytics","White-label branding","API access","Dedicated account manager"]})[s?.toLowerCase()||"starter"]||[];return d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(le,{size:"lg"})}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:[_,r?.full_name&&!j&&e.jsxs("span",{className:"text-gray-600",children:[", ",r.full_name.split(" ")[0]]})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:T})]}),e.jsx(ce,{}),e.jsx(de,{}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:[e.jsx(h,{icon:e.jsx(A,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"}),label:"Profile Views",value:a.totalViews.toLocaleString()}),e.jsx(h,{icon:e.jsx(k,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"}),label:"New Leads",value:a.totalLeads.toString()}),e.jsx(h,{icon:e.jsx(y,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"}),label:"Link Clicks",value:M.toLocaleString()}),e.jsx(h,{icon:e.jsx(O,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600"}),label:"Conversion Rate",value:`${a.conversionRate}%`})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs(p,{children:[e.jsx(u,{className:"pb-3 sm:pb-4",children:e.jsx(g,{className:"text-base sm:text-lg",children:"Recent Leads"})}),e.jsx(b,{children:i.length>0?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:i.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between py-2 sm:py-2.5 border-b border-border last:border-0 gap-2 min-h-[44px]",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:s.name}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:s.email})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full flex-shrink-0 font-medium ${s.status==="new"?"bg-blue-100 text-blue-700":s.status==="contacted"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:s.status})]},s.id))}):e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 mb-3",children:e.jsx(k,{className:"h-6 w-6 text-blue-600"})}),e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Start Capturing Leads"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3 max-w-xs mx-auto",children:"Share your profile link to start receiving inquiries from potential clients"}),r?.username&&e.jsxs("div",{className:"flex items-center justify-center gap-2 p-2 bg-muted rounded-lg max-w-xs mx-auto",children:[e.jsxs("code",{className:"text-xs truncate",children:["agentbio.net/",r.username]}),e.jsx("button",{onClick:async()=>{await navigator.clipboard.writeText(`${window.location.origin}/${r.username}`),x({title:"Copied!",description:"Profile link copied to clipboard"})},className:"p-1 hover:bg-background rounded transition-colors",children:e.jsx(ne,{className:"h-3 w-3"})})]})]})})]}),e.jsxs(p,{children:[e.jsx(u,{className:"pb-3 sm:pb-4",children:e.jsx(g,{className:"text-base sm:text-lg",children:"Top Links"})}),e.jsx(b,{children:m.length>0?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:m.sort((s,c)=>(c.click_count||0)-(s.click_count||0)).slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between py-2 sm:py-2.5 border-b border-border last:border-0 gap-2 min-h-[44px]",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:s.title}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:s.url})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm sm:text-base text-muted-foreground flex-shrink-0",children:[e.jsx(y,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"font-medium",children:s.click_count||0})]})]},s.id))}):e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-purple-100 mb-3",children:e.jsx(y,{className:"h-6 w-6 text-purple-600"})}),e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Add Your First Link"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3 max-w-xs mx-auto",children:"Add links to your website, social media, and other profiles"}),e.jsxs("a",{href:"/dashboard/links",className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 font-medium",children:["Manage Links ",e.jsx(Q,{className:"h-3 w-3"})]})]})})]})]}),e.jsx(Y,{open:o,onOpenChange:t,children:e.jsxs(Z,{className:"sm:max-w-md",children:[e.jsxs(G,{children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mx-auto mb-4",children:e.jsx(oe,{className:"w-8 h-8 text-green-600"})}),e.jsxs(K,{className:"text-center text-2xl",children:["ðŸŽ‰ Welcome to ",n?.plan_name,"!"]}),e.jsx(J,{className:"text-center pt-2",children:"Your subscription is now active. Here's what you just unlocked:"})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 my-4",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-green-600"}),"New Features Available:"]}),e.jsx("ul",{className:"space-y-2",children:D(n?.plan_name).map((s,c)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(C,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:s})]},c))})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"A confirmation email with your receipt has been sent to your email address."}),e.jsx("button",{onClick:()=>t(!1),className:"w-full px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:"Get Started"})]})]})})]})}function h({icon:a,label:i,value:d}){return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4 md:p-6 hover:shadow-md transition-shadow active:scale-[0.98] cursor-pointer",children:[e.jsx("div",{className:"flex items-center mb-2 sm:mb-3 md:mb-4",children:e.jsx("div",{className:"p-1.5 sm:p-2 bg-gray-50 rounded-lg",children:a})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:i}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 break-all",children:d})]})]})}export{_e as default};
